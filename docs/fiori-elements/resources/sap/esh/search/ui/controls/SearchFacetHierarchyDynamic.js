/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../i18n","sap/m/List","sap/m/GroupHeaderListItem","sap/m/CustomTreeItem","sap/m/Label","sap/m/CheckBox","sap/m/library","sap/ui/model/BindingMode","../tree/TreeView","sap/m/CustomListItem","sap/m/Link","sap/m/VBox"],function(e,t,r,o,a,n,i,s,c,l,u,h){function p(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}var d=p(e);var m=i["ListSeparators"];var g=i["ListMode"];var w=p(c);var f=t.extend("sap.esh.search.ui.controls.SearchFacetHierarchyDynamic",{renderer:{apiVersion:2},metadata:{properties:{showTitle:{type:"boolean",defaultValue:true},openShowMoreDialogFunction:{type:"function"}}},constructor:function e(o,a){var n=this;t.prototype.constructor.call(this,o,a);this.setShowSeparators(m.None);this.setMode(g.None);var i=new w("",{treeNodeFactory:"{treeNodeFactory}",items:{path:"rootTreeNode/childTreeNodes",factory:function e(t,r){return n.createTreeItem(t,r)}}});if(this.getShowTitle()){this.addItem(new r({title:"{title}"}))}this.addItem(new l({content:i}));this.createShowMoreLink()},getOpenShowMoreDialogFunction:function e(){return this.getProperty("openShowMoreDialogFunction")},createShowMoreLink:function e(){var t=this;var r=new u("",{text:d.getText("showMore"),press:function e(){var r=t.getBindingContext().getObject();var o=t.getOpenShowMoreDialogFunction();o(t.getModel(),r.attributeId)}});r.addStyleClass("sapUshellSearchFacetShowMoreLink");var o=new h("",{items:[r]});var a=new l("",{content:o,visible:{parts:[{path:"isShowMoreDialog"}],formatter:function e(t){return!t}}});a.addStyleClass("sapUshellSearchFacetShowMoreItem");this.addItem(a)},getShowTitle:function e(){return this.getProperty("showTitle")},createTreeItem:function e(t,r){var i=r.getObject();var c=new n({selected:{path:"selected",mode:s.OneWay},partiallySelected:{path:"partiallySelected",mode:s.OneWay},select:function e(t){var r=t.getSource().getBindingContext().getObject();r.toggleFilter()}});var l=new a({text:{parts:[{path:"label"},{path:"count"}],formatter:function e(t,r){return r?t+" ("+r+")":t}}});l.attachBrowserEvent("click",function(){i.toggleFilter()});return new o({content:[c,l]})}});return f})})();