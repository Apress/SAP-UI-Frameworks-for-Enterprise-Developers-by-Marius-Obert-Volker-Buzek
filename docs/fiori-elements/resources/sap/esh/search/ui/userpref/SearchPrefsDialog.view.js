/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/m/Button","sap/m/CheckBox","sap/m/FlexBox","sap/m/FlexItemData","sap/m/Label","sap/m/library","sap/m/List","sap/m/MessageBox","sap/m/StandardListItem","sap/m/Title","sap/m/VBox","sap/ui/core/mvc/View","sap/ui/model/BindingMode","../i18n"],function(e,t,a,i,r,s,n,o,l,c,d,p,h,u){function f(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}var g=s["ListMode"];var v=o["Icon"];var m=o["Action"];var S=f(u);var x=p.extend("sap.esh.search.ui.userpref.SearchPrefsDialog",{createContent:function s(){var o=this;this.firstTimeBeforeRendering=true;var p=new c({text:S.getText("sp.personalizedSearch")});var u=new t("personalizedSearchCheckbox",{selected:{path:"/personalizedSearch",mode:h.TwoWay},text:S.getText("sp.trackPersonalizedSearch"),enabled:{path:"/isPersonalizedSearchEditable"},layoutData:new i({growFactor:1})});var f=new e("",{text:S.getText("sp.deleteSearchTracks"),press:this.resetHistory.bind(this),enabled:{parts:[{path:"/isPersonalizedSearchEditable"},{path:"/resetButtonWasClicked"}],formatter:function e(t,a){return t&&!a}}});var v=new a({items:[u,f]});var m=new d("",{items:[p,v],visible:{path:"/isPersonalizedSearchAreaVisible"}});var x=new c({text:S.getText("sp.defaultSearchScope")});var w=new t("defaultSearchScopeCheckbox",{selected:{path:"/favActive",mode:h.TwoWay},text:S.getText("sp.usePersSearchScope")});var T=new r("connectorListLabel",{text:S.getText("sp.connectorList"),visible:{path:"/favActive"},layoutData:new i({growFactor:1})}).addStyleClass("sapUiSmallMarginTop");var b=new r("",{text:{parts:[{path:"/selectedDataSourceCount"},{path:"/dataSourceCount"}],formatter:function e(t,a){return S.getText("sp.connectorListCount",[t,a])}},visible:{path:"/favActive"}}).addStyleClass("sapUiSmallMarginTop");var y=new a({items:[T,b]});var C=new n("connectorListId",{mode:g.MultiSelect,visible:{path:"/favActive"},selectionChange:function e(t){o.onListItemSelectionChange(t)},growing:true,growingThreshold:1e3}).addStyleClass("sapUiTinyMarginTop");C.bindAggregation("items",{path:"/subDataSources",factory:function e(){var t=new l("",{title:{path:"label"},selected:{path:"selected"}});return t}});var M=new d("",{items:[x,w,y,C],visible:{path:"/isMyFavoritesAvailable"}}).addStyleClass("sapUiSmallMarginTop");var B=new d({items:[m,M]});return[B]},onBeforeRendering:function e(){if(this.firstTimeBeforeRendering){this.firstTimeBeforeRendering=false;return}this.getModel().reload()},resetHistory:function e(){this.getModel().resetProfile().then(function(){},function(e){var t=S.getText("sp.resetFailed");t+="\n"+e;o.show(t,{title:S.getText("sp.resetFailedTitle"),icon:v.ERROR,actions:[m.OK]})})},onListItemSelectionChange:function e(t){this.getModel().setProperty("/selectedDataSourceCount",t.getSource().getSelectedItems().length)}});return x})})();