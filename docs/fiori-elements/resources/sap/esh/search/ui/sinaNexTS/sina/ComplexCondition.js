/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./Condition","./ConditionType","./LogicalOperator","./SimpleCondition"],function(t,e,n,r){function i(t,e){var n=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=o(t))||e&&t&&typeof t.length==="number"){if(n)t=n;var r=0;var i=function(){};return{s:i,n:function(){if(r>=t.length)return{done:true};return{done:false,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=true,u=false,s;return{s:function(){n=n.call(t)},n:function(){var t=n.next();a=t.done;return t},e:function(t){u=true;s=t},f:function(){try{if(!a&&n.return!=null)n.return()}finally{if(u)throw s}}}}function o(t,e){if(!t)return;if(typeof t==="string")return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor)n=t.constructor.name;if(n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}function a(t,e){if(e==null||e>t.length)e=t.length;for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function c(t,e,n){if(e)s(t.prototype,e);if(n)s(t,n);Object.defineProperty(t,"prototype",{writable:false});return t}function l(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function")}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:true,configurable:true}});Object.defineProperty(t,"prototype",{writable:false});if(e)f(t,e)}function f(t,e){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,n){e.__proto__=n;return e};return f(t,e)}function d(t){var e=p();return function n(){var r=b(t),i;if(e){var o=b(this).constructor;i=Reflect.construct(r,arguments,o)}else{i=r.apply(this,arguments)}return h(this,i)}}function h(t,e){if(e&&(typeof e==="object"||typeof e==="function")){return e}else if(e!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return v(t)}function v(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function p(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(t){return false}}function b(t){b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function t(e){return e.__proto__||Object.getPrototypeOf(e)};return b(t)}function y(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}
/*!
   * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
   */var m=t["Condition"];var g=e["ConditionType"];var C=n["LogicalOperator"];var w=r["SimpleCondition"];var k=function(t){l(n,t);var e=d(n);function n(t){var r,i;var o;u(this,n);o=e.call(this,t);y(v(o),"type",g.Complex);y(v(o),"operator",C.And);y(v(o),"conditions",[]);o.operator=(r=t.operator)!==null&&r!==void 0?r:o.operator;o.conditions=(i=t.conditions)!==null&&i!==void 0?i:o.conditions;return o}c(n,[{key:"clone",value:function t(){var e=[];for(var r=0;r<this.conditions.length;++r){e.push(this.conditions[r].clone())}return new n({sina:this.sina,operator:this.operator,conditions:e,valueLabel:this.valueLabel,attributeLabel:this.attributeLabel})}},{key:"equals",value:function t(e){if(!(e instanceof n)){return false}if(this.operator!==e.operator){return false}if(this.conditions.length!==e.conditions.length){return false}var r={};for(var i=0;i<this.conditions.length;++i){var o=this.conditions[i];var a=false;for(var u=0;u<e.conditions.length;++u){if(r[u]){continue}var s=e.conditions[u];if(o.equals(s)){a=true;r[u]=true;break}}if(!a){return false}}return true}},{key:"containsAttribute",value:function t(e){var n=i(this.conditions),r;try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o.containsAttribute(e)){return true}}}catch(t){n.e(t)}finally{n.f()}return false}},{key:"_collectAttributes",value:function t(e){var n=i(this.conditions),r;try{for(n.s();!(r=n.n()).done;){var o=r.value;o._collectAttributes(e)}}catch(t){n.e(t)}finally{n.f()}}},{key:"addCondition",value:function t(e){if(!(e instanceof m)){e=this.sina.createSimpleCondition(e)}this.conditions.push(e)}},{key:"removeConditionAt",value:function t(e){this.conditions.splice(e,1)}},{key:"hasFilters",value:function t(){return this.conditions.length>=1}},{key:"removeAttributeConditions",value:function t(e){var n={deleted:false,attribute:"",value:""};for(var r=0;r<this.conditions.length;++r){var i=this.conditions[r];switch(i.type){case g.Complex:n=i.removeAttributeConditions(e);break;case g.Simple:if(i.attribute===e){n={deleted:true,attribute:i.attribute,value:i.value};this.removeConditionAt(r);r--}break}}this.cleanup();return n}},{key:"getAttributeConditions",value:function t(e){var n=[];var r=function t(e,r){switch(e.type){case g.Complex:for(var i=0;i<e.conditions.length;i++){t(e.conditions[i],r)}break;case g.Simple:if(e.attribute===r){n.push(e)}break}};r(this,e);return n}},{key:"cleanup",value:function t(){var e=false;var n=function t(n){for(var r=0;r<n.conditions.length;++r){var i=n.conditions[r];switch(i.type){case g.Complex:t(i);if(i.conditions.length===0){e=true;n.removeConditionAt(r);r--}break;case g.Simple:break}}};do{e=false;n(this)}while(e)}},{key:"resetConditions",value:function t(){this.conditions.splice(0,this.conditions.length)}},{key:"getFirstAttribute",value:function t(){if(this.conditions.length===0){return null}if(this.conditions[0]instanceof n){return this.conditions[0].getFirstAttribute()}if(this.conditions[0]instanceof w){return this.conditions[0].getFirstAttribute()}throw new Error("Condition is neither simple nor complex")}},{key:"_collectFilterConditions",value:function t(e,n){var r=i(this.conditions),o;try{for(r.s();!(o=r.n()).done;){var a=o.value;a._collectFilterConditions(e,n)}}catch(t){r.e(t)}finally{r.f()}}},{key:"toJson",value:function t(){var e={type:g.Complex,operator:this.operator,conditions:[],valueLabel:this.valueLabel,attributeLabel:this.attributeLabel};for(var r=0;r<this.conditions.length;++r){var i=this.conditions[r];if(i instanceof n){e.conditions.push(i.toJson())}if(i instanceof w){e.conditions.push(i.toJson())}}if(this.userDefined){e.userDefined=true}return e}}]);return n}(m);var A={__esModule:true};A.ComplexCondition=k;return A})})();