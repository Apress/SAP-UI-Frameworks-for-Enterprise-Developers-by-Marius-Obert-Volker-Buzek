/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./Formatter","../AttributeType"],function(t,e){function r(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function a(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(t,a.key,a)}}function n(t,e,r){if(e)a(t.prototype,e);if(r)a(t,r);Object.defineProperty(t,"prototype",{writable:false});return t}function i(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function")}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:true,configurable:true}});Object.defineProperty(t,"prototype",{writable:false});if(e)o(t,e)}function o(t,e){o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,r){e.__proto__=r;return e};return o(t,e)}function u(t){var e=s();return function r(){var a=l(t),n;if(e){var i=l(this).constructor;n=Reflect.construct(a,arguments,i)}else{n=a.apply(this,arguments)}return f(this,n)}}function f(t,e){if(e&&(typeof e==="object"||typeof e==="function")){return e}else if(e!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return c(t)}function c(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function s(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(t){return false}}function l(t){l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function t(e){return e.__proto__||Object.getPrototypeOf(e)};return l(t)}
/*!
   * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
   */var d=t["Formatter"];var p=e["AttributeType"];var b=function(t){i(a,t);var e=u(a);function a(){r(this,a);return e.apply(this,arguments)}n(a,[{key:"initAsync",value:function t(){return Promise.resolve()}},{key:"format",value:function t(e){return this._formatDataInUI5Form(e)}},{key:"formatAsync",value:function t(e){e=this._formatDataInUI5Form(e);return Promise.resolve(e)}},{key:"_formatDataInUI5Form",value:function t(e){if(typeof window==="undefined"||typeof window.sap==="undefined"||typeof window.sap.ui==="undefined"||typeof window.sap.ui.core==="undefined"||typeof window.sap.ui.core.format==="undefined"){return e}var r=this;r.sina=e.sina;e.items.forEach(function(t){if(r.sina.getDataSource(t.dataSource.id)===undefined){return}if(jQuery.isEmptyObject(r.sina.getDataSource(t.dataSource.id).attributeMetadataMap)){return}r.attributeMap=r.sina.getDataSource(t.dataSource.id).attributeMetadataMap;t.titleAttributes.forEach(function(t){r._formatHybridAttribute(t)});t.titleDescriptionAttributes.forEach(function(t){r._formatHybridAttribute(t)});t.detailAttributes.forEach(function(t){r._formatHybridAttribute(t)})});return e}},{key:"_formatHybridAttribute",value:function t(e){var r=this;if(e.metadata.type&&e.metadata.type===p.Group){for(var a=0;a<e.attributes.length;a++){r._formatHybridAttribute(e.attributes[a].attribute)}}else{r._formatSingleAttribute(e)}}},{key:"_formatSingleAttribute",value:function t(e){var r=this;e.valueFormatted=r._getFormattedValue(e);if(e.valueHighlighted===undefined||e.valueHighlighted.length===0){e.valueHighlighted=e.valueFormatted;if(e.isHighlighted){e.valueHighlighted="<b>"+e.valueHighlighted+"</b>"}}}},{key:"_getFormattedValue",value:function t(e){if(this.attributeMap[e.id]===undefined){return e.valueFormatted}var r=p;var a=undefined;var n;var i=e.valueFormatted||e.value;switch(this.attributeMap[e.id].type){case r.Integer:a=window.sap.ui.core.format.NumberFormat.getIntegerInstance();break;case r.Double:a=window.sap.ui.core.format.NumberFormat.getFloatInstance({});break;case r.Timestamp:if(isNaN(Date.parse(e.value))===false){a=window.sap.ui.core.format.DateFormat.getDateTimeInstance();n=new Date(e.value)}break;case r.Date:if(isNaN(Date.parse(e.value))===false){a=window.sap.ui.core.format.DateFormat.getDateInstance();n=new Date(e.value)}break;case r.Time:if(isNaN(Date.parse("1970/01/01 "+e.value))===false){a=window.sap.ui.core.format.DateFormat.getTimeInstance();n=new Date("1970/01/01 "+e.value)}break}if(n&&a&&a.format(n)!==undefined){i=a.format(n)}return i}}]);return a}(d);var m={__esModule:true};m.ResultValueFormatter=b;return m})})();