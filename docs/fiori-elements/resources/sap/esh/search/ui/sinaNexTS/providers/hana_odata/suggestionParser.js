/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../sina/SuggestionCalculationMode"],function(e){function t(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function r(e,t,r){if(t)a(e.prototype,t);if(r)a(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}
/*!
   * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
   */var i=e["SuggestionCalculationMode"];var n=function(){function e(a){t(this,e);this.provider=a;this.sina=a.sina}r(e,[{key:"parse",value:function e(t,a){var r=[];var i;var n;for(var u=0;u<a.length;u++){i=null;n=a[u];i=this.parseSearchTermSuggestion(t,n);r.push(i)}return r}},{key:"parseDataSourceSuggestion",value:function e(t,a){var r=this.sina.SuggestionCalculationMode.Data;var i=this.sina.getDataSource(a.FromDataSource);if(!i){return null}var n=t.filter.clone();n.setDataSource(i);return this.sina._createDataSourceSuggestion({calculationMode:r,dataSource:i,label:a.SearchTermsHighlighted})}},{key:"parseSearchTermSuggestion",value:function e(t,a){var r=t.filter.clone();r.setSearchTerm(a.term);return this.sina._createSearchTermSuggestion({searchTerm:a.term,calculationMode:this.sina.SuggestionCalculationMode.Data,filter:r,label:a.highlighted||a.term})}},{key:"parseSearchTermAndDataSourceSuggestion",value:function e(t,a){var r=this.parseCalculationMode(a.Type);var i=t.filter.clone();i.setSearchTerm(a.SearchTerms);var n=this.sina.getDataSource(a.FromDataSource);if(!n){return null}i.setDataSource(n);return this.sina._createSearchTermAndDataSourceSuggestion({searchTerm:a.SearchTerms,dataSource:n,calculationMode:r,filter:i,label:a.SearchTermsHighlighted})}},{key:"parseObjectSuggestions",value:function e(t,a){var r=[];for(var i=0;i<a.length;++i){var n=a[i];this.fillValueHighlighted(n);var u=n.titleAttributes.map(function(e){if(e.id==="technical_type_icon")return;return e.valueFormatted}).join(" ");var o=this.sina._createObjectSuggestion({calculationMode:this.sina.SuggestionCalculationMode.Data,label:u,object:n});r.push(o)}return r}},{key:"fillValueHighlighted",value:function e(t){var a=function e(t){if(!t){return}for(var a=0;a<t.length;++a){var r=t[a];if(!r.valueHighlighted){if(typeof r.valueFormatted==="string"&&r.valueFormatted.startsWith("sap-icon://")===true){r.valueHighlighted=""}else{r.valueHighlighted=r.valueFormatted}}}};a(t.detailAttributes);a(t.titleAttributes)}},{key:"parseCalculationMode",value:function e(t){switch(t){case"H":return i.History;case"A":case"M":return i.Data}}},{key:"_getParentCell",value:function e(t){var a={};a=t;a.FromDataSource="<All>";a.FromDataSourceAttribute="";a.Type="A";return a}}]);return e}();var u={__esModule:true};u.SuggestionParser=n;return u})})();