/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.define(["./library","sap/ui/core/Element","sap/suite/ui/microchart/LineMicroChartEmphasizedPoint","sap/base/Log","sap/suite/ui/microchart/MicroChartUtils"],function(t,e,r,o,i){"use strict";var n=t.LineType;var a=e.extend("sap.suite.ui.microchart.LineMicroChartLine",{metadata:{library:"sap.suite.ui.microchart",properties:{color:{type:"any",group:"Appearance"},showPoints:{type:"boolean",group:"Appearance"},type:{type:"sap.suite.ui.microchart.LineType",group:"Appearance",defaultValue:n.Solid}},defaultAggregation:"points",aggregations:{points:{type:"sap.suite.ui.microchart.LineMicroChartPoint",multiple:true,bindable:"bindable"}}}});a.getMetadata().getAllAggregations()["points"]._doesNotRequireFactory=true;a.prototype.bindAggregation=function(t,r){if(t==="points"){if(!r.factory&&!r.template){this._bNoFactory=true}}e.prototype.bindAggregation.apply(this,arguments)};a.prototype.updatePoints=function(t){if(!this._bNoFactory){return this.updateAggregation("points")}else{this.rerender()}};a.prototype.clone=function(){var t=e.prototype.clone.apply(this,arguments);t._bNoFactory=this._bNoFactory;return t};a.prototype._getPoints=function(){var t=this;if(!this._bNoFactory){var e=this.getAggregation("points");return e===null?[]:e}return this.getBinding("points").getContexts().map(function(e){return{getX:function(){return e.getProperty("x")},getY:function(){return e.getProperty("y")},getShow:function(){return e.getProperty("show")?e.getProperty("show"):t._getEmphPointPropDefaultValue("show")},getColor:function(){return e.getProperty("color")?e.getProperty("color"):t._getEmphPointPropDefaultValue("color")},getMetadata:function(){return{getName:function(){return e.getProperty("emphasized")?"sap.suite.ui.microchart.LineMicroChartEmphasizedPoint":"sap.suite.ui.microchart.LineMicroChartPoint"}}}}})};a.prototype._getEmphPointPropDefaultValue=function(t){return r.getMetadata().getProperty(t).getDefaultValue()};a.prototype.getColor=function(){var t=this.getProperty("color"),e=this.getParent();if(t===undefined||t===null){if(e&&e.isA("sap.suite.ui.microchart.LineMicroChart")){t=e.getColor()}}return t};a.prototype.validateProperty=function(t,r){if(r===null||r===undefined){return e.prototype.validateProperty.apply(this,[t,null])}if(t==="color"&&!this.isColorCorrect(r)){o.warning("Color property of LineMicroChartLine must be of type sap.m.ValueCSSColor either as single value or as composite value (above: value, below: value)");r=null}return e.prototype.validateProperty.apply(this,[t,r])};a.prototype.getShowPoints=function(){var t=this.getParent(),e=this.getProperty("showPoints");if(e===undefined||e===null){if(t&&t.isA("sap.suite.ui.microchart.LineMicroChart")){e=t.getShowPoints()}}return e};i.extendMicroChart(a);return a});