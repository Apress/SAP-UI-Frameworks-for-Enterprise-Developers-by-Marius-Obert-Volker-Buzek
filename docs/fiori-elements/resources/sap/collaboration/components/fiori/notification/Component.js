/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2017 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/Log","sap/collaboration/components/utils/CommonUtil","sap/collaboration/library","sap/ui/core/UIComponent","sap/ui/core/mvc/View","sap/ui/core/library"],function(i,t,e,o,n,a){"use strict";var s=a.mvc.ViewType;var r=o.extend("sap.collaboration.components.fiori.notification.Component",{metadata:{properties:{oDataServiceUrl:{type:"sap.ui.core.URI",defaultValue:"/sap/opu/odata/sap/SM_INTEGRATION_SRV"},numberOfNotifications:{type:"int",defaultValue:10},transitionInterval:{type:"int",defaultValue:10},refreshInterval:{type:"int",defaultValue:300},notificationsTargetUrl:{type:"sap.ui.core.URI"}}},init:function(){this.iMillisecondsPerSecond=1e3;this.oCommonUtil=new t;this.oLangBundle=this.oCommonUtil.getLanguageBundle();this.sStyleClassPrefix="sapClbNotif"},onBeforeRendering:function(){},onAfterRendering:function(){i.debug("Notification Component properties:",this.mProperties.toString(),"sap.collaboration.components.fiori.notification.Component.onAfterRendering()");i.debug("oDataServiceUrl: "+this.getODataServiceUrl());i.debug("numberOfNotifications: "+this.getNumberOfNotifications());i.debug("transitionInterval: "+this.getTransitionInterval());i.debug("refreshInterval: "+this.getRefreshInterval());i.debug("notificationsTargetUrl: "+this.getNotificationsTargetUrl());if(!this.oNotificationView){this.oNotificationView=sap.ui.view({id:this.getId()+"_NotificationView",viewData:{controlId:this.getId(),langBundle:this.oLangBundle,oDataServiceUrl:this.getODataServiceUrl(),numberOfNotifications:this.getNumberOfNotifications(),transitionInterval:this.getTransitionInterval()*this.iMillisecondsPerSecond,refreshInterval:this.getRefreshInterval()*this.iMillisecondsPerSecond,notificationsTargetUrl:this.getNotificationsTargetUrl(),styleClassPrefix:this.sStyleClassPrefix},type:s.JS,viewName:"sap.collaboration.components.fiori.notification.Notification"})}this.oNotificationView.placeAt(this.getId())},exit:function(){this.deactivateNotificationRefreshAndTransition();this.oNotificationView.destroy()},render:function(i){i.openStart("div",this.getId());i.class(this.sStyleClassPrefix+"Component");i.class(this.sStyleClassPrefix+"CursorPointer");i.openEnd();i.close("div")},deactivateNotificationRefreshAndTransition:function(){this.oNotificationView.getController().deactivateNotificationTransition();this.oNotificationView.getController().deactivateNotificationRefresh()}});return r});