/*
* ! SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2017 SAP SE. All rights reserved
*/
sap.ui.define(["sap/ui/core/Control","sap/m/List","sap/m/library","sap/m/ResponsivePopover","sap/ui/base/ManagedObject"],function(t,e,o,n,i){"use strict";var r=o.PlacementType;var s=o.ListMode;var a=t.extend("sap.collaboration.components.controls.FilterPopover",{metadata:{interfaces:[],library:"sap.collaboration",properties:{title:{type:"string",group:"Appearance",defaultValue:null},noDataText:{type:"string",group:"Appearance",defaultValue:null}},events:{selectionChange:{parameters:{listItem:{type:"sap.m.ListItemBase"}}}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.ListItemBase",multiple:true,singularName:"item",bindable:"bindable"}}},renderer:null});a.prototype.init=function(){this._oList=new e(this.getId()+"-list",{mode:s.SingleSelectMaster,includeItemInSelection:true,selectionChange:[this._selectionChange,this]});this._oResponsivePop=new n(this.getId()+"-popover",{placement:r.Auto,contentWidth:"15rem",content:[this._oList]})};a.prototype.exit=function(){this._oList=null;if(this._oResponsivePop){this._oResponsivePop.destroy();this._oResponsivePop=null}};a.prototype.openBy=function(t){this._oResponsivePop.openBy(t);return this};a.prototype.setTitle=function(t){this.setProperty("title",t,true);this._oResponsivePop.setTitle(t);return this};a.prototype.setNoDataText=function(t){this.setProperty("noDataText",t,true);this._oList.setNoDataText(t);return this};a.prototype.setSelectedItem=function(t){this._oList.setSelectedItem(t);return this};a.prototype.getSelectedItem=function(){return this._oList.getSelectedItem()};a.prototype._setModel=a.prototype.setModel;a.prototype.setModel=function(t,e){var o=Array.prototype.slice.call(arguments);this._oResponsivePop.setModel(t,e);a.prototype._setModel.apply(this,o);return this};a.prototype.bindAggregation=function(){var t=Array.prototype.slice.call(arguments);this._callMethodInManagedObject.apply(this,["bindAggregation"].concat(t));return this};a.prototype.validateAggregation=function(t,e,o){return this._callMethodInManagedObject("validateAggregation",t,e,o)};a.prototype.setAggregation=function(t,e,o){this._callMethodInManagedObject("setAggregation",t,e,o);return this};a.prototype.getAggregation=function(t,e){return this._callMethodInManagedObject("getAggregation",t,e)};a.prototype.indexOfAggregation=function(t,e){return this._callMethodInManagedObject("indexOfAggregation",t,e)};a.prototype.insertAggregation=function(t,e,o,n){this._callMethodInManagedObject("insertAggregation",t,e,o,n);return this};a.prototype.addAggregation=function(t,e,o){this._callMethodInManagedObject("addAggregation",t,e,o);return this};a.prototype.removeAggregation=function(t,e,o){this._callMethodInManagedObject("removeAggregation",t,e,o);return this};a.prototype.removeAllAggregation=function(t,e){return this._callMethodInManagedObject("removeAllAggregation",t,e)};a.prototype.destroyAggregation=function(t,e){this._callMethodInManagedObject("destroyAggregation",t,e);return this};a.prototype._callMethodInManagedObject=function(t,e){var o=Array.prototype.slice.call(arguments);if(e==="items"){return this._oList[t].apply(this._oList,o.slice(1))}else{return i.prototype[t].apply(this,o.slice(1))}};a.prototype._selectionChange=function(t){this._oResponsivePop.close();var e=t.getParameter("listItem");this.fireSelectionChange({listItem:e})};return a});