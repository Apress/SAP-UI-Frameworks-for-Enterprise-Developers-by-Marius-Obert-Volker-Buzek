/**
 * ! SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2017 SAP SE. All rights reserved
 */
sap.ui.define(["sap/ui/base/Object"],function(e){"use strict";var r="sap.collaboration.components.controls.PlaceholderUtility";var t=/@@.\{\d+\}/;var a=/@@[o]\{\d+\}/;var l=e.extend(r,{});l.getAtMentionsValues=function(e,r){var a=new RegExp(t);var l=this.splitByPlaceholders(r);var i=e;var n=[];var s=0;for(var f=0;f<l.length;f++){var c=l[f];if(a.test(c)==true){var o=l[f+1];var v="";if(o==""){var u=l[f+2];if(u==undefined){v=i;i=i.slice(i.indexOf(o))}else if(a.test(u)==true){v=this._findFirstPlaceholderValueInText(i);i=i.slice(v.length)}}else if(o==" "){v=this._findFirstPlaceholderValueInText(i);i=i.slice(v.length)}else{v=i.slice(0,i.indexOf(o));i=i.slice(i.indexOf(o))}if(!a.test(v)){n.push({placeholder:"@@m{"+s+"}",value:v});s++}}else{i=i.slice(c.length)}}return n};l.getContentItemName=function(e,r){var t=e;var l=r.split(a);for(var i=0;i<l.length;i++){t=t.replace(l[i],"")}var n=t.trim();return n};l.splitByPlaceholders=function(e){var r=[];if(e){var t=/@@.\{\d+\}/g;var a=e.split(t);var l=e.match(t);var i=l==null?0:l.length;for(var n=0;n<a.length+i;n++){if(n%2==0){r.push(a[n/2])}else{r.push(l[Math.floor(n/2)])}}}return r};l._findFirstPlaceholderValueInText=function(e){var r;if(e.search(t)==0){r=e.match(t)[0]}else{r=e[0]+e[1];for(var a=2;a<e.length;a++){if(e[a]==="‎"||e[a]==="‏"||e[a]==="@"){break}r+=e[a]}}r=r.trim();return r};Object.freeze(l);return l},true);