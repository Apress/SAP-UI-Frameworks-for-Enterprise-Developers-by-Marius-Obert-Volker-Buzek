/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2012 SAP AG. All rights reserved
 */
sap.ui.define(["sap/ui/core/Element","sap/ui/core/theming/Parameters","sap/base/Log","./library"],function(e,t,a,i){"use strict";var r=e.extend("sap.ui.vbm.VoBase",{metadata:{library:"sap.ui.vbm",properties:{key:{type:"string",group:"Misc",defaultValue:null},hotScale:{type:"string",group:"Misc",defaultValue:"1.0;1.0;1.0"},hotDeltaColor:{type:"string",group:"Misc",defaultValue:"RHLSA(0;1.3;1.0;1.0)"},selectColor:{type:"string",group:"Misc",defaultValue:"RHLSA(0.0;1.0;1.0;1.0)"},fxsize:{type:"string",group:"Misc",defaultValue:"true"},fxdir:{type:"string",group:"Misc",defaultValue:"true"},entity:{type:"string",group:"Misc",defaultValue:null},labelText:{type:"string",group:"Misc",defaultValue:null},labelType:{type:"sap.ui.vbm.SemanticType",group:"Behavior",defaultValue:sap.ui.vbm.SemanticType.None},labelBgColor:{type:"string",group:"Misc",defaultValue:"RGB(255;255;255)"},labelBorderColor:{type:"string",group:"Misc",defaultValue:null},labelArrow:{type:"boolean",group:"Misc",defaultValue:false},labelPos:{type:"string",group:"Misc",defaultValue:null},changeable:{type:"boolean",group:"Misc",defaultValue:false},dragData:{type:"string",group:"Misc",defaultValue:null},select:{type:"boolean",group:"Misc",defaultValue:false}},events:{click:{},contextMenu:{parameters:{menu:{type:"sap.ui.unified.Menu"}}},handleMoved:{parameters:{handle:{type:"int"}}},handleContextMenu:{parameters:{handle:{type:"int"},menu:{type:"sap.ui.unified.Menu"}}},handleClick:{parameters:{handle:{type:"int"}}},drop:{parameters:{dragSource:{type:"sap.ui.vbm.VoBase"}}}}}});r.prototype.openDetailWindow=function(e,t,a){this.oParent.openDetailWindow(this,{caption:e,offsetX:t,offsetY:a},false)};r.prototype.openContextMenu=function(e){a.warning("Implementation missing","","sap.ui.vbm.VoBase")};r.prototype.DefaultColorBad=t?t.get("_sap_ui_vbm_shared_ChartBad"):"rgb(211, 32, 48)";r.prototype.DefaultColorCritical=t?t.get("_sap_ui_vbm_shared_ChartCritical"):"rgb(225, 123, 36)";r.prototype.DefaultColorGood=t?t.get("_sap_ui_vbm_shared_ChartGood"):"rgb(97, 166, 86)";r.prototype.DefaultColorNeutral=t?t.get("_sap_ui_vbm_shared_ChartNeutral"):"rgb(132, 143, 148)";r.prototype.getDataElement=function(){var e={};var t=this.getLabelType();var a=this.oParent.mBindInfo;e.K=this.getUniqueId();if(a.M){e["VB:c"]=this.getChangeable()}if(a.HS){e.HS=this.getHotScale()}if(a.HDC){e.HDC=this.getHotDeltaColor()}if(a.SC){e.SC=this.getSelectColor()}if(a.FS){e.FS=this.getFxsize()}if(a.FD){e.FD=this.getFxdir()}if(a.ET){e.ET=this.getEntity()}if(t!=sap.ui.vbm.SemanticType.Hidden){if(a.LT){e.LT=this.getLabelText()}if(a.LBC){e.LBC=this.getLabelBgColor()}if(a.LP){e.LP=this.getLabelPos()}if(a.LBBC){e.LBBC=this.getLabelBorderColor()}if(a.AR){e.AR=this.getLabelArrow()}}if(a.DD){e.DD=this.getDragData()}e["VB:s"]=this.getSelect();var i=this.getTooltip();if(i instanceof sap.ui.core.TooltipBase){e.TT="rtt#"+e.K;sap.ui.vbm.VBI.RttMap[e.K]=i}else{e.TT=i?i:""}var r=this.getLabelProps(t);if(r&&e.LT){if(r.LBC){e.LBC=r.LBC}if(r.LBBC){e.LBBC=r.LBBC}if(r.LIC){e.LIC=r.LIC}if(r.LICC){e.LICC=r.LICC}if(r.LICTC){e.LICTC=r.LICTC}}if(!e.LBC){e.LBC="rgba(255,255,255,1.0)"}if(e.LBBC==""){e.LBBC=e.LBC}var o;if(o=this.getCustomData()){var s,n=this.getParent();if(n.getCustomPropertiesMap&&(s=n.getCustomPropertiesMap())){for(var l=0;l<o.length;++l){var u=o[l].getKey();if(s[u]){e[u]=o[l].getValue()}}}}return e};r.prototype.handleChangedData=function(e){};r.prototype.getDragDropDefs=function(){var e=this.oParent.mBindInfo;var t=[];if(e.DS){var a=this.getDragSource(),i=[];for(var r=0,o=a.length;r<o;++r){i.push({"VB:ix":r,A:a[r].getType()})}if(i.length){t.push({name:"DS",E:i})}}if(e.DT){var s=this.getDropTarget(),n=[];for(var l=0,u=s.length;l<u;++l){n.push({"VB:ix":l,A:s[l].getType()})}if(n.length){t.push({name:"DT",E:n})}}return t};r.prototype.getLabelProps=function(e){var t={};if(e==sap.ui.vbm.SemanticType.None||e==sap.ui.vbm.SemanticType.Default||e==sap.ui.vbm.SemanticType.Hidden){return null}t.LBC=t.LICTC="rgba(255,255,255,1.0)";switch(e){case sap.ui.vbm.SemanticType.Warning:t.LBBC=t.LICC=this.DefaultColorCritical;t.LIC="message-warning";break;case sap.ui.vbm.SemanticType.Error:t.LBBC=t.LICC=this.DefaultColorBad;t.LIC="message-error";break;case sap.ui.vbm.SemanticType.Success:t.LBBC=t.LICC=this.DefaultColorGood;t.LIC="accept";break;case sap.ui.vbm.SemanticType.Inactive:t.LBBC=t.LICC=this.DefaultColorNeutral;t.LIC="hint";break;default:break}return t};r.prototype.getKey=function(){var e=this.getProperty("key");if(!e){e=this.getUniqueId()}return e};r.prototype.invalidate=function(){sap.ui.core.Control.prototype.invalidate.apply(this,arguments)};r.prototype.getUniqueId=function(){if(this.UniqueId==undefined||this.UniqueId==0){var e=this.getId();var t=e;var a=e.match(/\d+/g);if(a&&a.length){t=e.substring(0,e.lastIndexOf(a[a.length-1]))}this.UniqueId=t+this.getParent().getUniqueIdx()}return this.UniqueId};return r});