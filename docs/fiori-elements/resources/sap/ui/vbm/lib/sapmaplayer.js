/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2012 SAP AG. All rights reserved
 */
sap.ui.define(["./sapvbi"],function(){"use strict";VBI.MapLayerStackManager=function(){var r={};r.vbiclass="MapLayerStackManager";r.m_MapLayerStackArray=[];r.clear=function(){for(var a=0;a<r.m_MapLayerStackArray.length;++a){r.m_MapLayerStackArray[a].clear()}r.m_MapLayerStackArray=[]};r.load=function(a,e){if(a.Set){r.clear();var i;if(jQuery.type(a.Set.MapLayerStack)=="object"){i=new VBI.MapLayerStack;i.load(a.Set.MapLayerStack,e);r.Add(i)}else if(jQuery.type(a.Set.MapLayerStack)=="array"){for(var t=0;t<a.Set.MapLayerStack.length;++t){i=new VBI.MapLayerStack;i.load(a.Set.MapLayerStack[t],e);r.Add(i)}}}};r.Add=function(r){this.m_MapLayerStackArray.push(r)};r.GetMapLayerStack=function(r){for(var a=0;a<this.m_MapLayerStackArray.length;++a){if(this.m_MapLayerStackArray[a].m_Name==r){return this.m_MapLayerStackArray[a]}}return null};return r};VBI.MapLayerStacks=VBI.MapLayerStackManager();VBI.MapLayerStack=function(r,a){var e={};e.vbiclass="MapLayerStack";e.m_MapLayerArray=[];e.m_Name=r;e.m_Description=a;e.m_nMaxSquare=0;e.m_colBkgnd=null;e.clear=function(){for(var r=0;r<e.m_MapLayerArray.length;++r){e.m_MapLayerArray[r].clear()}e.m_MapLayerArray=[]};e.load=function(r,a){if(r.name){e.m_Name=r.name}if(r.description){e.m_Description=r.description}if(r.copyright){e.m_Copyright=r.copyright}if(r.copyrightLink){e.m_CopyrightLink=r.copyrightLink}if(r.copyrightImage){e.m_CopyrightImage=r.copyrightImage}if(r.maxSquare){e.m_nMaxSquare=r.maxSquare}if(r.previewPosition){e.m_PreviewPosition=r.previewPosition}if(r.colBkgnd){e.m_colBkgnd=r.colBkgnd}e.m_bSingleBMP=r.singleBMP&&r.singleBMP=="true";var i;if(r.MapLayer){if(jQuery.type(r.MapLayer)=="object"){i=new VBI.MapLayer;i.load(r.MapLayer,a);e.Add(i)}else if(jQuery.type(r.MapLayer)=="array"){for(var t=0;t<r.MapLayer.length;++t){i=new VBI.MapLayer;i.load(r.MapLayer[t],a);e.Add(i)}}}};e.Add=function(r){this.m_MapLayerArray.push(r)};e.GetMaxLOD=function(){var r,a=0;var e=this.m_MapLayerArray;for(var i=0;i<e.length;++i){r=parseInt(e[i].GetMaxLOD(),10);if(r>a){a=r}}return a};e.GetMinLOD=function(){var r,a=Number.MAX_VALUE;var e=this.m_MapLayerArray;for(var i=0;i<e.length;++i){r=e[i].GetMinLOD();if(r<a){a=r}}return a};e.GetCopyright=function(){if(this.m_Copyright){return VBI.Utilities.AssembleCopyrightString(this.m_Copyright,this.m_CopyrightLink,this.m_CopyrightImage)}var r=null;for(var a=0;a<this.m_MapLayerArray.length;a++){var e=this.m_MapLayerArray[a].GetMapProvider();if(!r){r=e.GetCopyright()}else{r=r+", "+e.GetCopyright()}}return r};return e};VBI.MapLayer=function(){var r={};r.vbiclass="MapLayer";r.m_Name=null;r.m_refMapProvider=null;r.m_fOpacity=1;r.clear=function(){r.m_refMapProvider=null};r.load=function(a,e){if(a.name){r.m_Name=a.name}if(a.opacity){r.m_fOpacity=a.opacity}if(a.refMapProvider){if(e.m_MapProviders){r.m_refMapProvider=e.m_MapProviders.GetMapProviderByName(a.refMapProvider)}}if(!r.m_refMapProvider){jQuery.sap.log.error("MapLayer: no valid mapprovider specified")}};r.GetMinLOD=function(){if(r.m_refMapProvider){return r.m_refMapProvider.GetMinLOD()}};r.GetMaxLOD=function(){if(r.m_refMapProvider){return r.m_refMapProvider.GetMaxLOD()}};r.GetMapProvider=function(){if(r.m_refMapProvider){return r.m_refMapProvider}return null};return r}});