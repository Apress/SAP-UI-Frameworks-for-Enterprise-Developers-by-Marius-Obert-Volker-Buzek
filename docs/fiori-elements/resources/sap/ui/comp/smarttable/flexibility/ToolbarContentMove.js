/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/ui/core/CustomData","sap/ui/fl/changeHandler/condenser/Classification","./Utils"],function(e,t,n){"use strict";function o(e,t,n,o){return new Promise(function(r,a){var i=[];for(var u=0;u<t.length;u++){i.push(e.getProperty(t[u],n))}Promise.all(i).then(function(e){var n=[];for(var a=0;a<e.length;a++){if(e[a]==o){n.push(t[a])}}r(n)})})}function r(e,t,r,a){return new Promise(function(i,u){var s=a?e.getRevertData():e.getContent();var f=r.modifier;f.getAggregation(t,"customData").then(function(u){o(f,u,"key","p13nData_ToolbarContentMove").then(function(o){var u=function(n){f.setProperty(n,"value",s);if(a){e.resetRevertData()}if(t._applyToolbarContentOrder){t._applyToolbarContentOrder()}i()};var l=o.length>0?o[0]:null;if(!l){f.createControl("sap.ui.core.CustomData",r.appComponent,r.view,"testid",{key:"p13nData_ToolbarContentMove",value:null}).then(function(e){var n=f.insertAggregation(t,"customData",e,0,r.view);if(!(n instanceof Promise)){n=Promise.resolve()}n.then(function(){u(e)})})}else{f.getProperty(l,"value").then(function(t){if(!a){e.setRevertData(n.parseChangeContent(t))}u(l)})}})})})}return{applyChange:function(e,t,n){return r(e,t,n,false)},revertChange:function(e,t,n){return r(e,t,n,true)},completeChangeContent:function(e,t,n){},getCondenserInfo:function(e,n){return{affectedControl:e.getSelector(),classification:t.LastOneWins,uniqueKey:"p13nData_ToolbarContentMove"}}}});