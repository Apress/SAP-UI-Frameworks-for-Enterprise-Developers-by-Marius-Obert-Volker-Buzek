/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/ui/core/util/reflection/JsControlTreeModifier"],function(e){"use strict";var r={};r.applyChange=function(e,r,o){var t=o.modifier;var n=o.appComponent;var i=o.view;var a=e.getContent();var u=e.getTexts();if(u&&u.groupLabel&&u.groupLabel.value&&a&&a.group&&(a.group.selector||a.group.id)){var p=u.groupLabel.value;var l=a.group.index;var g=a.group.selector;return Promise.resolve().then(t.createControl.bind(t,"sap.ui.comp.smartform.Group",n,i,a.group.selector||a.group.id)).then(function(o){if(!g){g=t.getSelector(a.group.id,n)}e.setRevertData({newGroupSelector:g});t.setProperty(o,"visible",true);t.setProperty(o,"label",p);return t.insertAggregation(r,"groups",o,l,i)})}return Promise.resolve()};r.completeChangeContent=function(r,o,t){var n=t.appComponent;var i={group:{}};if(o.newLabel){r.setText("groupLabel",o.newLabel,"XFLD")}else{throw new Error("oSpecificChangeInfo.groupLabel attribute required")}if(o.index===undefined){throw new Error("oSpecificChangeInfo.index attribute required")}else{i.group.index=o.index}if(o.newControlId){i.group.selector=e.getSelector(o.newControlId,n)}else{throw new Error("oSpecificChangeInfo.newControlId attribute required")}r.setContent(i)};r.revertChange=function(e,r,o){var t=o.appComponent;var n=o.view;var i=o.modifier;var a=e.getRevertData().newGroupSelector;var u=i.bySelector(a,t,n);return Promise.resolve().then(i.removeAggregation.bind(i,r,"groups",u)).then(function(){i.destroy(u);e.resetRevertData()})};r.getChangeVisualizationInfo=function(e){var r=e.getText("groupLabel");return{affectedControls:[e.getContent().group.selector],descriptionPayload:{originalLabel:r}}};return r},true);