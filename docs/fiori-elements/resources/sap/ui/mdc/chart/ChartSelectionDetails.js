/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Core","sap/ui/mdc/library","sap/m/SelectionDetails","sap/m/SelectionDetailsItem","sap/m/SelectionDetailsItemLine","sap/m/SelectionDetailsRenderer","./SelectionDetailsActions"],function(e,t,i,a,n,r,s){"use strict";var o=i.extend("sap.ui.mdc.chart.ChartSelectionDetails",{metadata:{library:"sap.ui.mdc",interfaces:[],defaultAggregation:"",properties:{},aggregations:{},associations:{},events:{}},renderer:r});o.prototype.init=function(){i.prototype.init.apply(this,arguments);this._registerTemplate();this._attachEvents()};o.prototype._registerTemplate=function(){this.registerSelectionDetailsItemFactory([],function(e,t,i,r){var s=[];for(var o=0;o<e.length;o++){s.push(new n({label:e[o].label,value:this._formatValue(e[o].value),unit:e[o].unit}))}return new a({enableNav:this._hasNavigationTargets(t),lines:s}).setBindingContext(i)}.bind(this))};o.prototype._formatValue=function(e){if(e){return e instanceof Object?e:e.toString()}else{return e}};o.prototype._hasNavigationTargets=function(e){return false};o.prototype._attachEvents=function(){this.attachActionPress(function(e){var t=this.getParent().getParent();var i=[];e.getParameter("items").forEach(function(e){i.push(e.getBindingContext())});t.fireSelectionDetailsActionPressed({id:e.getParameter("id"),action:e.getParameter("action"),itemContexts:i,level:e.getParameter("level")})})};return o});