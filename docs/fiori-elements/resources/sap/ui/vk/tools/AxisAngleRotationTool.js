/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["./Tool","../thirdparty/three","./AxisAngleRotationToolHandler","./AxisAngleRotationToolGizmo","./Detector","./ToolNodeSet"],function(t,e,o,i,s,r){"use strict";var n=t.extend("sap.ui.vk.tools.AxisAngleRotationTool",{metadata:{library:"sap.ui.vk",properties:{enableStepping:{type:"boolean",defaultValue:false},enableSnapping:{type:"boolean",defaultValue:false},showEditingUI:{type:"boolean",defaultValue:false},allowContextMenu:{type:"boolean",defaultValue:true},nodeSet:{type:"sap.ui.vk.tools.ToolNodeSet",defaultValue:r.Highlight}},events:{rotating:{parameters:{nodesProperties:"object[]"}},rotated:{parameters:{nodesProperties:"object[]"}}}},constructor:function(e,i){t.apply(this,arguments);this._viewport=null;this._handler=new o(this);this._gizmo=null;this._detector=new s}});n.prototype.init=function(){if(t.prototype.init){t.prototype.init.call(this)}this.setFootprint(["sap.ui.vk.threejs.Viewport"]);this.setAggregation("gizmo",new i)};n.prototype.setActive=function(e,o,i){t.prototype.setActive.call(this,e,o,i);if(this._viewport){if(e){this._gizmo=this.getGizmo();this._gizmo.show(this._viewport,this);this._addLocoHandler()}else{this._removeLocoHandler();if(this._gizmo){this._gizmo.hide();this._gizmo=null}}}return this};n.prototype.queueCommand=function(t){if(this._addLocoHandler()){if(this.isViewportType("sap.ui.vk.threejs.Viewport")){t()}}return this};n.prototype.setShowEditingUI=function(t){this.setProperty("showEditingUI",t,true);if(this._viewport){this._viewport.setShouldRenderFrame()}return this};n.prototype.setEnableSnapping=function(t){this.setProperty("enableSnapping",t,true);if(this._viewport){this._viewport.setShouldRenderFrame()}return this};n.prototype.resetValues=function(){this.getGizmo().resetValues();if(this._viewport){this._viewport.setShouldRenderFrame()}return this};n.prototype.getDetector=function(){return this._detector};n.prototype.setNodeSet=function(t){this.setProperty("nodeSet",t,true);if(this._gizmo){this._gizmo.handleSelectionChanged()}};n.prototype.rotateBy=function(t){this.getGizmo().rotateBy(t);return this};n.prototype.setAxis=function(t){this.getGizmo().setAxis(t);return this};n.prototype.getValues=function(){return this.getGizmo().getValues()};n.prototype.setValues=function(t){this.getGizmo().setValues(t);return this};return n});