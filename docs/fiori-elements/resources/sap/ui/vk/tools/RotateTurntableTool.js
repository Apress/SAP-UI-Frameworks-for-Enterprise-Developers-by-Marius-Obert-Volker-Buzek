/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["./Tool","../helpers/RotateTurntableHelperDvl","../helpers/RotateTurntableHelperThree"],function(t,e,r){"use strict";var i=t.extend("sap.ui.vk.tools.RotateTurntableTool",{metadata:{library:"sap.ui.vk",events:{rotate:{parameters:{dx:"int",dy:"int"}}}},constructor:function(e,r){if(i._instance){return i._instance}t.apply(this,arguments);this.setToolid("f271c082-676c-adc6-167f-0d5ce602aa45");this._viewport=null;this._rotateTurntableHelper=null;i._instance=this}});i.prototype.init=function(){if(t.prototype.init){t.prototype.init.call(this)}this.setFootprint(["sap.ui.vk.dvl.Viewport","sap.ui.vk.threejs.Viewport"])};i.prototype.setActive=function(e,r,i){t.prototype.setActive.call(this,e,r,i);if(this._viewport){if(e){if(this._prepare()){this._rotateTurntableHelper.activateTurntableMode()}}else if(this._rotateTurntableHelper){this._rotateTurntableHelper.deactivateTurntableMode();this._rotateTurntableHelper=null}}return this};i.prototype._prepare=function(){if(this.isViewportType("sap.ui.vk.dvl.Viewport")&&this._viewport._dvl){if(this._rotateTurntableHelper==null){this._dvlRendererId=this._viewport._dvlRendererId;this._dvl=this._viewport._dvl;this._rotateTurntableHelper=new e(this,this._dvl)}}else if(this.isViewportType("sap.ui.vk.threejs.Viewport")){if(this._rotateTurntableHelper==null){this._rotateTurntableHelper=new r(this)}}else{return false}return true};i.prototype.rotate=function(t,e){if(this._prepare()){this._rotateTurntableHelper.rotate(t,e)}};i.prototype.destroy=function(){t.prototype.destroy.call(this);this._viewport=null;this._rotateTurntableHelper=null};return i});