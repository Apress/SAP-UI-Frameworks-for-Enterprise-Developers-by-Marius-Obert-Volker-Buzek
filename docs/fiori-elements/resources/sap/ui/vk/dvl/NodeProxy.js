/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["../NodeProxy","./getJSONObject","../cssColorToColor","../colorToCSSColor","../abgrToColor","../colorToABGR","../TransformationMatrix"],function(e,t,o,r,i,n,d){"use strict";var l=e.extend("sap.ui.vk.dvl.NodeProxy",{metadata:{library:"sap.ui.vk"},constructor:function(t,o){e.call(this);this._dvl=t?t.getGraphicsCore()._getDvl():null;this._dvlSceneRef=t?t.getSceneRef():null;this._dvlNodeRef=o}});l.prototype.destroy=function(){this._dvlNodeRef=null;this._dvlSceneRef=null;this._dvl=null;e.prototype.destroy.call(this)};l.prototype.getNodeRef=function(){return this._dvlNodeRef};l.prototype.getNodeId=function(){return this._dvlNodeRef};l.prototype.getVeIds=function(){return t(this._dvl.Scene.RetrieveVEIDs(this._dvlSceneRef,this._dvlNodeRef))};l.prototype.getName=function(){return t(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneRef,this._dvlNodeRef,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_NAME)).NodeName};l.prototype.getLocalMatrix=function(){return d.convertTo4x3(t(this._dvl.Scene.GetNodeLocalMatrix(this._dvlSceneRef,this._dvlNodeRef)).matrix)};l.prototype.setLocalMatrix=function(e){this._dvl.Scene.SetNodeLocalMatrix(this._dvlSceneRef,this._dvlNodeRef,e&&d.convertTo4x4(e));this.setProperty("localMatrix",e,true);return this};l.prototype.getWorldMatrix=function(){return d.convertTo4x3(t(this._dvl.Scene.GetNodeWorldMatrix(this._dvlSceneRef,this._dvlNodeRef)).matrix)};l.prototype.setWorldMatrix=function(e){this._dvl.Scene.SetNodeWorldMatrix(this._dvlSceneRef,this._dvlNodeRef,e&&d.convertTo4x4(e));this.setProperty("worldMatrix",e,true);return this};l.prototype.getOpacity=function(){return t(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneRef,this._dvlNodeRef,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_OPACITY)).Opacity};l.prototype.setOpacity=function(e){this._dvl.Scene.SetNodeOpacity(this._dvlSceneRef,this._dvlNodeRef,e);this.setProperty("opacity",e,true);return this};l.prototype.getTintColorABGR=function(){return t(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneRef,this._dvlNodeRef,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_HIGHLIGHT_COLOR)).HighlightColor};l.prototype.setTintColorABGR=function(e){this._dvl.Scene.SetNodeHighlightColor(this._dvlSceneRef,this._dvlNodeRef,e);this.setProperty("tintColorABGR",e,true);this.setProperty("tintColor",r(i(e)),true);return this};l.prototype.getTintColor=function(){return r(i(this.getTintColorABGR()))};l.prototype.setTintColor=function(e){var t=n(o(e));this._dvl.Scene.SetNodeHighlightColor(this._dvlSceneRef,this._dvlNodeRef,t);this.setProperty("tintColorABGR",t,true);this.setProperty("tintColor",e,true);return this};l.prototype.getNodeMetadata=function(){return t(this._dvl.Scene.RetrieveMetadata(this._dvlSceneRef,this._dvlNodeRef)).metadata};l.prototype.getHasChildren=function(){return(t(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneRef,this._dvlNodeRef,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_FLAGS)).Flags&(sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_MAPPED_HASCHILDREN|sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_CLOSED))===sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_MAPPED_HASCHILDREN};l.prototype.getClosed=function(){return(t(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneRef,this._dvlNodeRef,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_FLAGS)).Flags&sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_CLOSED)!==0};return l});