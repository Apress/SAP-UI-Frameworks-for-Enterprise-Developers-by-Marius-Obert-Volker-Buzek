/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/ui/base/EventProvider","./AnimationSequence","./AnimationTrackType","sap/ui/vk/uuidv4"],function(e,t,i,s){"use strict";var n=e.extend("sap.ui.vk.AnimationPlayback",{constructor:function(e,t){if(typeof e==="object"){t=e;e=undefined}if(e==null){e=s()}this._sequence=t&&t.sequence?t.sequence:undefined;this._jsonData={};this._jsonData.id=e;this._jsonData.startTime=t&&t.startTime?t.startTime:0;this._jsonData.sequence=this._sequence?this._sequence.getJSONData():undefined;this._jsonData.timeScale=t&&t.timeScale?t.timeScale:1;this._jsonData.preDelay=t&&t.preDelay?t.preDelay:0;this._jsonData.postDelay=t&&t.postDelay?t.postDelay:0;this._jsonData.repeats=t&&t.repeats?t.repeats:1;this._jsonData.reversed=t&&t.reversed?t.reversed:false;this._jsonData.infinite=t&&t.infinite?t.infinite:false}});n.prototype.setJSONModel=function(e){this._model=e;if(this._sequence){this._sequence.setJSONModel(e)}return this};n.prototype.getId=function(){return this._jsonData.id};n.prototype.getStartTime=function(){return this._jsonData.startTime};n.prototype.setStartTime=function(e){this._jsonData.startTime=e;if(this._model){this._model.updateBindings()}return this};n.prototype.getSequence=function(){return this._sequence};n.prototype.setSequence=function(e){this._sequence=e;this._jsonData.sequence=e.getJSONData();if(this._model){this._model.updateBindings()}return this};n.prototype.getTimeScale=function(){return this._jsonData.timeScale};n.prototype.setTimeScale=function(e){this._jsonData.timeScale=e;if(this._model){this._model.updateBindings()}return this};n.prototype.getPreDelay=function(){return this._jsonData.preDelay};n.prototype.setPreDelay=function(e){this._jsonData.preDelay=e;if(this._model){this._model.updateBindings()}return this};n.prototype.getPostDelay=function(){return this._jsonData.postDelay};n.prototype.setPostDelay=function(e){this._jsonData.postDelay=e;if(this._model){this._model.updateBindings()}return this};n.prototype.getRepeats=function(){return this._jsonData.repeats};n.prototype.setRepeats=function(e){this._jsonData.repeats=e;if(this._model){this._model.updateBindings()}return this};n.prototype.getReversed=function(){return this._jsonData.reversed};n.prototype.setReversed=function(e){this._jsonData.reversed=e;if(this._model){this._model.updateBindings()}return this};n.prototype.getInfinite=function(){return this._jsonData.infinite};n.prototype.setInfinite=function(e){this._jsonData.infinite=e;if(this._model){this._model.updateBindings()}return this};n.prototype.getDuration=function(){var e=this._sequence?this._sequence.getDuration():0;return this._jsonData.preDelay+this._jsonData.postDelay+e*this._jsonData.repeats*this._jsonData.timeScale};n.prototype.getJSONData=function(){return this._jsonData};n.prototype.getNodeBoundaryProperty=function(e,t,i){var s;var n;if(i){n=this._nodeEndPropertiesMap}else{n=this._nodeStartPropertiesMap}if(n){var r=n.get(e);if(r){s=r[t]}}return s};n.prototype._hasCompleteNodesBoundaryProperties=function(){if(!this._nodeEndPropertiesMap||!this._nodeEndPropertiesMap.size||!this._nodeStartPropertiesMap||!this._nodeStartPropertiesMap.size){return false}return true};n.prototype._clearNodesBoundaryProperties=function(){if(this._nodeEndPropertiesMap){this._nodeEndPropertiesMap.clear()}if(this._nodeStartPropertiesMap){this._nodeStartPropertiesMap.clear()}};n.prototype._setCurrentNodesPropertiesAsBoundary=function(e,t,i){if(!i&&(this._nodeEndPropertiesMap&&this._nodeEndPropertiesMap.size&&t||this._nodeStartPropertiesMap&&this._nodeStartPropertiesMap.size&&!t)){return}var s;if(t){if(!this._nodeEndPropertiesMap){this._nodeEndPropertiesMap=new Map}else{this._nodeEndPropertiesMap.clear()}s=this._nodeEndPropertiesMap}else{if(!this._nodeStartPropertiesMap){this._nodeStartPropertiesMap=new Map}else{this._nodeStartPropertiesMap.clear()}s=this._nodeStartPropertiesMap}var n=this.getSequence();if(n){n._getCurrentNodesProperties(e,s)}};n.prototype._getNodeEndPropertiesMap=function(){return this._nodeEndPropertiesMap};n.prototype._getNodeStartPropertiesMap=function(){return this._nodeStartPropertiesMap};return n});