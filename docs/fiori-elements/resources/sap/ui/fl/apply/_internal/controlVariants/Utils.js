/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Core","sap/ui/fl/Utils"],function(e,t){"use strict";function r(e,t){if(!t){return undefined}if(e.indexOf(t.getId())>-1){return t.getId()}return r(e,t.getParent())}function n(r,n){var a=t.getAppComponentForControl(r);var o=a.getRootControl();var i=[];if(!n&&o.getDomRef()){i=Array.from(o.getDomRef().querySelectorAll(".sapUiFlVarMngmt"))}if(n||i.length===0){i=Array.from(e.getStaticAreaRef().querySelectorAll(".sapUiFlVarMngmt"))}return i.map(function(e){return e.id})}var a={DEFAULT_AUTHOR:"SAP",VARIANT_TECHNICAL_PARAMETER:"sap-ui-fl-control-variant-id",compareVariants:function(e,t){if(e.getName().toLowerCase()<t.getName().toLowerCase()){return-1}else if(e.getName().toLowerCase()>t.getName().toLowerCase()){return 1}return 0},getIndexToSortVariant:function(e,t){var r=e.length;e.some(function(e,n){if(a.compareVariants(t.instance,e.instance)<0){r=n;return true}});return r},getRelevantVariantManagementControlId:function(t,a,o){var i={};if(!a||!a.length){a=n(t,o)}var u=a.reduce(function(t,r){var n=e.byId(r);if(n){var a=n.getFor();a.forEach(function(e){i[e]=r});t=t.concat(a)}return t},[]);var f=r(u,t);return i[f]},belongsToVariantManagement:function(e){var t=n(e);return!!a.getRelevantVariantManagementControlId(e,t)},getAllVariantManagementControlIds:function(e){return n(e)}};return a});