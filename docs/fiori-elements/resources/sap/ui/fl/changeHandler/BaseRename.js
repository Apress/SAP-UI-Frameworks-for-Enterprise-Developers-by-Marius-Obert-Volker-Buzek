/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/Log","sap/ui/fl/changeHandler/condenser/Classification"],function(e,t){"use strict";var r={createRenameChangeHandler:function(r){r.changePropertyName=r.changePropertyName||"newText";return{applyChange:function(e,t,n){var a=n.modifier;var o=r.propertyName;var i=e.getText(r.changePropertyName);return Promise.resolve().then(function(){if(i){return a.getPropertyBindingOrProperty(t,o).then(function(r){e.setRevertData(r);return a.setPropertyBindingOrProperty(t,o,i)})}return undefined})},revertChange:function(t,n,a){var o=a.modifier;var i=r.propertyName;var u=t.getRevertData();if(u||u===""){o.setPropertyBindingOrProperty(n,i,u);t.resetRevertData();return}e.error("Change doesn't contain sufficient information to be reverted. Most Likely the Change didn't go through applyChange.")},completeChangeContent:function(e,t,n){var a=r.changePropertyName;var o=r.translationTextType;return Promise.resolve().then(function(){return n.modifier.bySelector(e.getSelector(),n.appComponent)}).then(function(r){e.setContent({originalControlType:n.modifier.getControlType(r)});if(typeof t.value==="string"){e.setText(a,t.value,o)}else if(typeof t.content.value==="string"){e.setText(a,t.content.value,o)}else{return Promise.reject(new Error("oSpecificChangeInfo.value attribute required"))}})},getCondenserInfo:function(e){return{affectedControl:e.getSelector(),classification:t.LastOneWins,uniqueKey:r.propertyName||r.changePropertyName}},getChangeVisualizationInfo:function(e){var t=e.getTexts()&&e.getTexts()[r.changePropertyName];return{descriptionPayload:{originalLabel:e.getRevertData(),newLabel:t&&t.value}}}}}};return r},true);