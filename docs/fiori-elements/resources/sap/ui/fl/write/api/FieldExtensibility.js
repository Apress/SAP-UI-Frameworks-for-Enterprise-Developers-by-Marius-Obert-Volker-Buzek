/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/write/_internal/fieldExtensibility/ABAPAccess","sap/ui/fl/write/_internal/fieldExtensibility/cap/CAPAccess","sap/base/util/UriParameters","sap/ui/base/ManagedObject","sap/ui/fl/Utils"],function(e,t,n,i,r){"use strict";var a={};var s;function o(a){if(!s){if(!(a instanceof i)){return undefined}var o=r.getAppComponentForControl(a);var u=o&&o.getManifestEntry("/sap.ui5/config")||{};var l=n.fromQuery(window.location.search);if(u.experimentalCAPScenario||l.get("sap-ui-fl-xx-capScenario")==="true"){s=t}else{s=e}}return s}function u(){var e=Array.from(arguments);var t=e.shift();var n=o.apply(null,e);if(!n){return Promise.reject("Could not determine field extensibility scenario")}return Promise.resolve(n[t].apply(null,e))}a.onControlSelected=function(e){return u("onControlSelected",e)};a.isExtensibilityEnabled=function(e){return u("isExtensibilityEnabled",e)};a.isServiceOutdated=function(e){return u("isServiceOutdated",e)};a.setServiceValid=function(e){return u("setServiceValid",e)};a.getTexts=function(){return u("getTexts")};a.getExtensionData=function(){return u("getExtensionData")};a.onTriggerCreateExtensionData=function(e,t){return u("onTriggerCreateExtensionData",e,t)};a._resetCurrentScenario=function(){s=null};return a});