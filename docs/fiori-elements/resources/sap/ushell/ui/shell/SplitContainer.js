// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/core/Control","sap/ui/core/library","sap/ushell/library","sap/ushell/ui/shell/ContentRenderer","sap/ui/core/Configuration","sap/ushell/ui/shell/SplitContainerRenderer"],function(e,t,n,r,o,i,a){"use strict";var s=n.Orientation;var d=t.extend("sap.ushell.ui.shell.SplitContainer",{metadata:{library:"sap.ushell",properties:{showSecondaryContent:{type:"boolean",group:"Appearance",defaultValue:false},secondaryContentSize:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"250px"},secondaryContentWidth:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"250px",deprecated:true},orientation:{type:"sap.ui.core.Orientation",group:"Appearance",defaultValue:s.Horizontal}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},secondaryContent:{type:"sap.ui.core.Control",multiple:true,singularName:"secondaryContent"},subHeader:{type:"sap.ui.core.Control",multiple:true,singularName:"subHeader"}}},renderer:a});(function(){d.prototype.init=function(){this._paneRenderer=new o(this,this.getId()+"-panecntnt","secondaryContent");this._canvasRenderer=new o(this,this.getId()+"-canvasrootContent","content");this.aSubHeaders=[];this.sTopOfShellContent=undefined};d.prototype.exit=function(){this._paneRenderer.destroy();delete this._paneRenderer;this._canvasRenderer.destroy();delete this._canvasRenderer;this.destroySubHeader();delete this.aSubHeaders;delete this.sTopOfShellContent};d.prototype.onAfterRendering=function(){var e=this.getParent()?this.getParent().getToolAreaSize():"0";this.applySecondaryContentSize(e)};d.prototype.applySecondaryContentSize=function(e){if(this.getDomRef()){var t=this.getSecondaryContentSize(),n=this.getShowSecondaryContent(),r=i.getRTL()?"right":"left",o=this.getDomRef("pane"),a,d;if(this.getOrientation()===s.Vertical){a="top";d=r;o.style.height=t;o.style.width=""}else{a=r;d="top";o.style.height="";o.style.width=t}o.style[a]=n?e:"-"+t;o.style[d]="";this.$("pane").toggleClass("sapUshellSplitContSecondClosed",!n);t=parseFloat(t)+parseFloat(e)+"rem";this.getDomRef("canvas").style[a]=n?t:e}};d.prototype._modifyAggregationOrProperty=function(e,t){var n=!!this.getDomRef();var r=e.apply(this,[n]);if(n&&t){t.render()}return r};d.prototype.getSecondaryContentWidth=function(){e.warning('SplitContainer: Use of deprecated property "SecondaryContentWidth", please use '+'"SecondaryContentSize" instead.');return this.getSecondaryContentSize.apply(this,arguments)};d.prototype.setSecondaryContentWidth=function(){e.warning('SplitContainer: Use of deprecated property "SecondaryContentWidth", please use '+'"SecondaryContentSize" instead.');return this.setSecondaryContentSize.apply(this,arguments)};d.prototype.insertContent=function(e,t){return this._modifyAggregationOrProperty(function(n){return this.insertAggregation("content",e,t,n)},this._canvasRenderer)};d.prototype.addContent=function(e){return this._modifyAggregationOrProperty(function(t){return this.addAggregation("content",e,t)},this._canvasRenderer)};d.prototype.removeContent=function(e){return this._modifyAggregationOrProperty(function(t){return this.removeAggregation("content",e,t)},this._canvasRenderer)};d.prototype.removeAllContent=function(){return this._modifyAggregationOrProperty(function(e){return this.removeAllAggregation("content",e)},this._canvasRenderer)};d.prototype.destroyContent=function(){return this._modifyAggregationOrProperty(function(e){return this.destroyAggregation("content",e)},this._canvasRenderer)};d.prototype.insertSecondaryContent=function(e,t){return this._modifyAggregationOrProperty(function(n){return this.insertAggregation("secondaryContent",e,t,n)},this._paneRenderer)};d.prototype.addSecondaryContent=function(e){return this._modifyAggregationOrProperty(function(t){return this.addAggregation("secondaryContent",e,t)},this._paneRenderer)};d.prototype.removeSecondaryContent=function(e){return this._modifyAggregationOrProperty(function(t){return this.removeAggregation("secondaryContent",e,t)},this._paneRenderer)};d.prototype.removeAllSecondaryContent=function(){return this._modifyAggregationOrProperty(function(e){return this.removeAllAggregation("secondaryContent",e)},this._paneRenderer)};d.prototype.destroySecondaryContent=function(){return this._modifyAggregationOrProperty(function(e){return this.destroyAggregation("secondaryContent",e)},this._paneRenderer)};d.prototype.addSubHeader=function(e){var t=this.getParent()&&this.getParent().getId();if(!t||!window.document.getElementById(t+"-subhdr")){var n=document.getElementById("shell-header")?document.getElementById("shell-header").offsetHeight:0;window.document.getElementById("canvas").insertAdjacentHTML("beforebegin",'<div id="'+t+'-subhdr" class="sapUshellSpltContainerSubHeader"></div>');document.getElementById(t+"-subhdr").style.top=n+"px";if(this.getParent()){this.getParent().addEventDelegate({onAfterRendering:function(){if(this.sTopOfShellContent){var e=document.getElementById(this.getParent().getId()+"-cntnt");e.style.top=this.sTopOfShellContent}}.bind(this)})}}this.aSubHeaders.push(e);this.sOriginalTopOfShellContent=t&&document.getElementById(t+"-cntnt")?document.getElementById(t+"-cntnt").offsetTop:0;e.addEventDelegate({onAfterRendering:function(e){if(document.getElementById(this.getParent().getId()+"-cntnt")){var t=document.getElementById(this.getParent().getId()+"-cntnt");this.sTopOfShellContent=t.style.top=this.sOriginalTopOfShellContent+this.aSubHeaders[0].getDomRef().offsetHeight+"px"}}.bind(this)});window.document.getElementById(t+"-subhdr").style.display="block";e.placeAt(t+"-subhdr","only")};d.prototype.removeSubHeader=function(){var e=this.aSubHeaders;this.aSubHeaders=[];var t=document.getElementById(this.getParent().getId()+"-cntnt");t.style.top=this.sOriginalTopOfShellContent+"px";var n=this.getParent()&&this.getParent().getId();window.document.getElementById(n+"-subhdr").style.display="none";return e};d.prototype.getSubHeader=function(){return this.aSubHeaders};d.prototype.destroySubHeader=function(){for(var e=0;this.aSubHeaders.length>e;e++){this.aSubHeaders[e].destroy();delete this.aSubHeaders[e]}this.aSubHeaders=[]};d.prototype.setSecondaryContentSize=function(e){this.setProperty("secondaryContentSize",e,true);this.onAfterRendering()};d.prototype.setShowSecondaryContent=function(e){this.setProperty("showSecondaryContent",!!e,!!this.getDomRef());this.onAfterRendering();return this}})();return d});