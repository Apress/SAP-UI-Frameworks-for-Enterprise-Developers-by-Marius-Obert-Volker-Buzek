// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/Fragment","sap/ui/model/json/JSONModel"],function(e,i){"use strict";return function(){function t(e){if(!e){throw new Error("Could not find the Tile of the given control")}if(e.isA(["sap.ushell.ui.launchpad.Tile","sap.ushell.ui.launchpad.LinkTileWrapper"])){return e}return t(e.getParent())}function o(e){if(!e){throw new Error("Could not find the Group of the given control")}if(e.isA("sap.ushell.ui.launchpad.TileContainer")){return e}return o(e.getParent())}function n(e){var i={};var n=t(e);if(n.getDebugInfo){var r=n.getDebugInfo();if(r){i=JSON.parse(r);i.debugInfo=r}}if(n.getTileCatalogId){var l=n.getTileCatalogId();if(l){i.chipId=decodeURIComponent(l)}}var a=o(e);var u=a.getBindingContext();if(u){var d=u.getProperty("object");if(d){i.groupId=d.getId()}}return i}this.openFor=function(t){function o(e){if(!e){throw new Error("Could not find the View of the given control")}return e.isA("sap.ui.core.mvc.View")?e:o(e.getParent())}var r=o(t);if(!r.oFailedTileDialog){return e.load({id:r.createId("failedTileDialogFragment"),name:"sap.ushell.ui.launchpad.FailedTileDialog",controller:this}).then(function(e){e.setModel(new i({}));e.bindObject({path:"/"});r.oFailedTileDialog=e;r.addDependent(r.oFailedTileDialog);this.openFor(t)}.bind(this))}var l=r.oFailedTileDialog.getModel();l.setProperty("/",n(t));l.setProperty("/showDetails",false);r.oFailedTileDialog.open();return Promise.resolve()};this.onShowDetails=function(e){e.getSource().getModel().setProperty("/showDetails",true)};this.onClose=function(e){e.getSource().getParent().close()}}});