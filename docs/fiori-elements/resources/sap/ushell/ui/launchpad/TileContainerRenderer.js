// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/resources","sap/ushell/utils","sap/ushell/bootstrap/common/common.load.model","sap/ushell/Config","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ui/core/CustomData"],function(e,t,o,a,s,i){"use strict";var r={apiVersion:2};r.oModel=o.getModel();r.render=function(o,a){var r=a.getHeaderActions(),n=a.getBeforeContent(),l=a.getAfterContent(),d=a.getLinks(),c=d.length,p=this;o.openStart("div",a);o.class("sapUshellTileContainer");if(!a.getVisible()){o.class("sapUshellHidden")}if(a.getDeluminate()){o.class("sapUshellDisableLockedGroupDuringDrag")}if(a.getEditMode()){o.class("sapUshellEditing")}if(a.getHidden()){o.class("sapUshellTileContainerEditModeHidden")}if(!a.getShowEmptyLinksArea()){o.class("sapUshellLinksAreaHidden")}if(a.getShowEmptyLinksAreaPlaceHolder()){o.class("sapUshellTileContainerEditMode");o.class("sapUshellTileContainerTabsModeEmptyLinksArea")}else{o.class("sapUshellEmptyLinksAreaPlaceHolder")}o.openEnd();if(n.length&&a.getTileActionModeActive()){o.openStart("div");o.class("sapUshellTileContainerBeforeContent");o.class("sapContrastPlus");o.openEnd();n.forEach(function(e){o.renderControl(e)});o.close("div")}o.openStart("div");o.class("sapUshellTileContainerContent");if(a.getIsGroupLocked()){o.class("sapUshellTileContainerLocked")}if(a.getDefaultGroup()){o.class("sapUshellTileContainerDefault")}if(a.getShowBackground()){o.class("sapUshellTileContainerEditMode")}o.openEnd();if(a.getShowBackground()){o.openStart("div");o.class("sapUshellGroupBackgroundContainer");o.class("sapContrastPlus");o.openEnd();o.close("div")}if(a.getShowHeader()){o.openStart("div",a.getId()+"-groupheader");o.class("sapUshellTileContainerHeader");o.class("sapContrastPlus");if(!a.getShowGroupHeader()){o.class("sapUshellFirstGroupHeaderHidden");o.class("sapUiPseudoInvisibleText")}if(a.getTileActionModeActive()){o.attr("tabindex","0")}var g;if(a.getDefaultGroup()){g=e.i18n.getText("ariaLabelEditModeGroupDefault",a.getHeaderText())}else if(a.getIsGroupLocked()){g=e.i18n.getText("ariaLabelEditModeGroupLocked",a.getHeaderText())}else{g=e.i18n.getText("ariaLabelEditModeGroup",a.getHeaderText())}o.attr("aria-label",g);o.openEnd();o.openStart("div",a.getId()+"-title");o.class("sapUshellContainerTitleFlex");o.openEnd();if(a.getEditMode()){o.renderControl(a.oEditInputField)}else{var u=a.getHeaderLevel().toLowerCase();o.openStart(u,a.getId()+"-titleText");o.class("sapUshellContainerTitle");o.attr("title",a.getHeaderText());o.attr("data-role","group");if(a.getTileActionModeActive()&&!a.getIsGroupLocked()&&!a.getDefaultGroup()){o.attr("tabindex","0")}o.openEnd();o.text(a.getHeaderText());o.close(u)}if(a.getIsGroupLocked()){o.renderControl(a.oIcon)}else if(a.getTileActionModeActive()){o.openStart("div");o.class("sapUshellContainerHeaderActions");o.openEnd();r.forEach(function(e){o.renderControl(e)});o.close("div")}o.close("div");o.close("div")}o.openStart("ul");o.class("sapUshellTilesContainer-sortable");o.class("sapUshellInner");o.openEnd();var f=false;a.getTiles().forEach(function(e){if(e.getVisible()){f=true}if(p._isUserActivityCard(e)){p._updateUserActivityCardVisibility(e)}o.renderControl(e)});if(a.getShowPlaceholder()){o.renderControl(a.oPlusTile)}if(a.getShowNoData()){this.renderNoData(o,a,!f)}o.close("ul");var h=a.getSupportLinkPersonalization();if(c>0||h){o.openStart("div");o.class("sapUshellLineModeContainer");if(!c&&h){o.class("sapUshellNoLinksAreaPresent");if(a.getTransformationError()){o.class("sapUshellNoLinksAreaPresentError")}o.openEnd();o.openStart("div");o.class("sapUshellNoLinksAreaPresentText");o.openEnd();o.renderControl(a.oNoLinksText);o.close("div")}else{o.openEnd()}if(h){if(a.getTransformationError()){o.openStart("div");o.class("sapUshellTransformationError");if(!a.transformationError){o.style("display","none")}o.openEnd();o.openStart("div");o.class("sapUshellTransformationErrorInnerWrapper");o.openEnd();o.renderControl(a.oTransformationErrorIcon);o.renderControl(a.oTransformationErrorText);o.close("div");o.close("div")}o.openStart("div");o.class("sapUshellLinksInnerContainer");o.openEnd();var C,T,v,E;d.forEach(function(e,t){C=e.getCustomData();T=false;v=false;E=false;C.forEach(function(o){if(o.getKey()==="aria-posinset"){o.setValue((t+1).toString());o.setWriteToDom(true);T=true}else if(o.getKey()==="aria-setsize"){o.setValue(c.toString());o.setWriteToDom(true);v=true}else if(o.getKey()==="help-id"){o.setValue(e.getBindingContext()&&e.getBindingContext().getProperty("tileCatalogId"));o.setWriteToDom(true);E=true}else if(o.getKey()==="help-id2"){o.setValue(e.getBindingContext()&&e.getBindingContext().getProperty("tileCatalogIdStable"));o.setWriteToDom(true);E=true}});if(!T){e.addCustomData(new s({key:"aria-posinset",value:(t+1).toString(),writeToDom:true}))}if(!v){e.addCustomData(new s({key:"aria-setsize",value:c.toString(),writeToDom:true}))}if(e.getModel()&&e.getModel().getProperty("/enableHelp")&&!E){e.addCustomData(new i({key:"help-id",value:e.getBindingContext()&&e.getBindingContext().getProperty("tileCatalogId"),writeToDom:true}));e.addCustomData(new i({key:"help-id2",value:e.getBindingContext()&&e.getBindingContext().getProperty("tileCatalogIdStable"),writeToDom:true}))}e.addStyleClass("sapUshellLinkTile");if(a.getIsGroupLocked()){e.addStyleClass("sapUshellLockedTile")}o.renderControl(e)});o.close("div")}else{d.forEach(function(e){o.renderControl(e)})}o.close("div")}o.close("div");if(l.length&&a.getTileActionModeActive()){o.openStart("div");o.class("sapUshellTileContainerAfterContent");o.class("sapContrastPlus");o.openEnd();l.forEach(function(e){o.renderControl(e)});o.close("div")}o.close("div");t.setPerformanceMark("FLP -- tile container renderer")};r.renderNoData=function(e,t,o){e.openStart("div",t.getId()+"-listNoData");e.class("sapUshellNoFilteredItems");e.class("sapUiStrongBackgroundTextColor");e.openEnd();e.text(o?t.getNoDataText():"");e.close("div")};r._isUserActivityCard=function(t){if(typeof t.getManifest!=="function"){return false}var o=t.getManifest();var a=o&&o["sap.card"]&&o["sap.card"].header&&o["sap.card"].header.title;return a===e.i18n.getText("recentActivities")||a===e.i18n.getText("frequentActivities")};r._updateUserActivityCardVisibility=function(e){e.setVisible(a.last("/core/shell/model/enableTrackingActivity"));a.on("/core/shell/model/enableTrackingActivity").do(function(t){e.setVisible(t)})};return r},true);