// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/core/mvc/View","sap/ushell/resources","sap/ushell/Config","sap/ushell/utils"],function(e,n,t,s,r){"use strict";function a(){return sap.ushell.Container.getServiceAsync("UserInfo").then(function(e){var n=e.getUser().getShowMyHome();return t.i18n.getText(n?"settingsMyHomeShown":"settingsMyHomeHidden")})}function i(){var e=s.last("/core/spaces/enabled")&&s.last("/core/spaces/myHome/enabled")&&!s.last("/core/homeApp/enabled");return e?a:null}return{isRelevant:function(){if(s.last("/core/spaces/configurable")){return true}if(s.last("/core/spaces/enabled")){if(s.last("/core/spaces/hideEmptySpaces/enabled")){return true}var e=s.last("/core/spaces/myHome/enabled");var n=s.last("/core/homeApp/enabled");if(e&&!n){return true}}return false},getEntry:function(){var s;return{id:"spacesEntry",entryHelpID:"spaces",title:t.i18n.getText("spaces"),valueResult:null,contentResult:null,icon:"sap-icon://home",valueArgument:i(),contentFunc:function(){return Promise.all([sap.ushell.Container.getServiceAsync("UserInfo"),r.getHideEmptySpacesEnabled()]).then(function(e){var t=e[0];return n.create({id:"UserSettingsSpacesSettingsView",viewName:"sap.ushell.components.shell.Settings.spaces.SpacesSetting",type:"XML",viewData:{UserInfo:t}})}).then(function(e){s=e;return s})},onSave:function(n){if(s){return s.getController().onSave(n)}e.warning("Save operation for user account settings was not executed, because the spaces view was not initialized");return Promise.resolve()},onCancel:function(){if(s){s.getController().onCancel();return}e.warning("Cancel operation for user account settings was not executed, because the spaces view was not initialized")},provideEmptyWrapper:false,_setViewInstance:function(e){s=e},_getViewInstance:function(){return s}}}}});