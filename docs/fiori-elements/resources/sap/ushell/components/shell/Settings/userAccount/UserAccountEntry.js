// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/XMLView","sap/base/Log","sap/ushell/Config","sap/ushell/resources"],function(e,n,t,r){"use strict";function o(){var o=sap.ushell.Container.getRenderer("fiori2").getShellConfig(),u=o.enableUserImgConsent;var s=u?"userAccountSelector":"userAccountSetting";var c=u?"sap.ushell.components.shell.Settings.userAccount.UserAccountSelector":"sap.ushell.components.shell.Settings.userAccount.UserAccountSetting";var a=t.last("/core/shell/model/userImage/account")||"sap-icon://account";var i;var l={id:"userAccountEntry",entryHelpID:"userAccountEntry",title:r.i18n.getText("UserAccountFld"),valueResult:null,contentResult:null,icon:a,valueArgument:sap.ushell.Container.getUser().getFullName(),contentFunc:function(){return e.create({id:s,viewName:c}).then(function(e){i=e;return e})},onSave:function(e){if(i){return i.getController().onSave(e)}n.warning("Save operation for user account settings was not executed, because the userAccount view was not initialized");return Promise.resolve()},onCancel:function(){if(i){i.getController().onCancel();return}n.warning("Cancel operation for user account settings was not executed, because the userAccount view was not initialized")},provideEmptyWrapper:true};return l}return{getEntry:o}});