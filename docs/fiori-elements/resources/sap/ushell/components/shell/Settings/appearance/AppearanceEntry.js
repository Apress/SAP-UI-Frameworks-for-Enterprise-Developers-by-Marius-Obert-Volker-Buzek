// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/XMLView","sap/base/Log","sap/ushell/resources"],function(e,n,t){"use strict";var r;function i(){if(r){return Promise.resolve(r)}return sap.ushell.Container.getServiceAsync("UserInfo").then(function(e){return new Promise(function(t){e.getThemeList().done(function(e){r=e.options||[];t(r)}).fail(function(){n.error("Failed to load theme list.");t([])})})})}function a(){var r;var a={id:"themes",entryHelpID:"themes",title:t.i18n.getText("Appearance"),valueResult:null,contentResult:null,icon:"sap-icon://palette",valueArgument:function(){return i().then(function(e){var n=sap.ushell.Container.getUser().getTheme(),t="";for(var r=0;r<e.length;r++){if(e[r].id===n){t=e[r].name||"";break}}return t})},contentFunc:function(){return i().then(function(n){return e.create({id:"userPrefThemeSelector",viewName:"sap.ushell.components.shell.Settings.appearance.Appearance",viewData:{themeList:n}})}).then(function(e){r=e;return e})},onSave:function(e){if(r){return r.getController().onSave(e)}n.warning("Save operation for appearance settings was not executed, because the userPrefThemeSelector view was not initialized");return Promise.resolve()},onCancel:function(){if(r){r.getController().onCancel();return}n.warning("Cancel operation for appearance settings was not executed, because the userPrefThemeSelector view was not initialized")}};return a}return{getEntry:a}});