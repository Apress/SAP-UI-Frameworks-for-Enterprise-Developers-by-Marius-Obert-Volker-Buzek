// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/UIComponent","sap/ushell/Config"],function(e,n){"use strict";return e.extend("sap.ushell.components.shell.MenuBar.Component",{metadata:{manifest:"json",library:"sap.ushell"},init:function(){e.prototype.init.apply(this,arguments);this.oInitPromise=new Promise(function(e,n){this.fnResolve=e}.bind(this));n.on("/core/spaces/myHome/userEnabled").do(function(){sap.ushell.Container.getServiceAsync("Menu").then(function(e){return Promise.all([e.isMenuEnabled(),e.getMenuModel()])}).then(function(e){var n;var t=e[0];var i=e[1];this.setModel(i,"menu");if(t){n=sap.ui.getCore().byId("menuBarComponentContainer")}if(n){n.setComponent(this)}this.fnResolve()}.bind(this))}.bind(this));if(sap.ushell.Container.getRenderer().getCurrentCoreView()!=="home"){this.setVisible(false)}},setVisible:function(e){e=e||n.last("/core/menu/visibleInAllStates");sap.ui.getCore().byId("menuBarComponentContainer").setVisible(!!e)}})});