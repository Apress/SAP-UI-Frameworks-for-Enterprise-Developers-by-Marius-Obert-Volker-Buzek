// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/components/pages/MyHomeImport","sap/ui/model/json/JSONModel","sap/ui/core/mvc/Controller","sap/ushell/resources","sap/ushell/EventHub","sap/base/Log"],function(e,o,i,n,t,s){"use strict";return i.extend("sap.ushell.components.pages.controller.MyHome",{onInit:function(){this.oViewModel=new o({personalizationAvailable:false});var i=function(e){this.oViewModel.setProperty("/personalizationAvailable",!!e)}.bind(this);this.getView().setModel(n.i18nModel,"i18n");this.getView().setModel(this.oViewModel,"view");e.isImportEnabled().then(i);this.oImportBookmarksFlagListener=t.on("importBookmarksFlag").do(i)},onExit:function(){this.oImportBookmarksFlagListener.off()},connect:function(e){this.fnOnEdit=e.onEdit;this.fnOnOpenDialog=e.onOpenDialog},onEditPress:function(){if(this.fnOnEdit){this.fnOnEdit()}},onImportDialogPress:function(){if(this.fnOnOpenDialog){this.fnOnOpenDialog()}},onMessageStripClose:function(){this.oViewModel.setProperty("/personalizationAvailable",false);e.setImportEnabled(false);sap.ui.require(["sap/m/MessageBox"],function(e){e.information(n.i18n.getText("MyHome.InitialPage.MessageStrip.Popup"))})}})});