// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/View","sap/ui/core/UIComponent","sap/ushell/bootstrap/common/common.load.model","sap/ushell/components/HomepageManager","sap/ushell/components/SharedComponentUtils","sap/ushell/Config","sap/ushell/resources"],function(e,o,t,s,a,i,n){"use strict";return o.extend("sap.ushell.components.homepage.Component",{metadata:{manifest:"json",library:"sap.ushell",interfaces:["sap.ui.core.IAsyncContentCreation"]},init:function(){this.oModel=t.getModel();this.setModel(this.oModel);o.prototype.init.apply(this,arguments);return this.rootControlLoaded().then(function(e){this.oDashboardView=e;var o={model:this.oModel,view:this.oDashboardView};this.oHomepageManager=new s("dashboardMgr",o);this.setModel(n.i18nModel,"i18n");sap.ui.getCore().getEventBus().subscribe("sap.ushell.services.UsageAnalytics","usageAnalyticsStarted",function(){sap.ui.require(["sap/ushell/components/homepage/FLPAnalytics"])});a.toggleUserActivityLog();a.getEffectiveHomepageSetting("/core/home/homePageGroupDisplay","/core/home/enableHomePageSettings");i.on("/core/home/homePageGroupDisplay").do(function(e){this.oHomepageManager.handleDisplayModeChange(e)}.bind(this));a.getEffectiveHomepageSetting("/core/home/sizeBehavior","/core/home/sizeBehaviorConfigurable");i.on("/core/home/sizeBehavior").do(function(e){var o=this.oHomepageManager.getModel();o.setProperty("/sizeBehavior",e)}.bind(this))}.bind(this))},createContent:function(){return e.create({viewName:"module:sap/ushell/components/homepage/DashboardContent.view"})},exit:function(){this.oHomepageManager.destroy()}})});