// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["./common.constants","./common.debug.mode","./common.read.metatags","./common.util","./common.read.ushell.config.from.url","sap/base/util/ObjectPath","sap/base/Log","sap/base/util/extend"],function(e,a,n,i,o,s,t,r){"use strict";function f(e,a){var n;if(!e||!a){return}n=s.get(a,e);if(n&&n.items){r(n,n.items);delete n.items;delete n.__metadata}}function l(a,n,s,r){var f=e.ushellConfigNamespace,l=a,u,c;r=r||[];if(!window[f]){window[f]={}}u=window[f];if(n){l=[n].concat(a)}l.forEach(function(e){i.mergeConfig(u,e,true)});r.forEach(function(e){i.mergeConfig(u,e,true)});c=o.getConfig();if(c){i.mergeConfig(u,c,true)}u["sap-ui-debug"]=s;t.info("finally applied sap-ushell-config",JSON.stringify(u),"sap/ushell/bootstrap/common/common.boot.script")}function u(e){var a=s.get("ushell.spaces.configurable",e);if(a){var n=s.get("services.Container.adapter.config.userProfilePersonalization.spacesEnabled",e);if(n===true){s.set("ushell.spaces.enabled",true,e)}else if(n===false){s.set("ushell.spaces.enabled",false,e)}}}function c(i){var o;var s=i&&i.defaultUshellConfig;var t=n.readMetaTags(e.configMetaPrefix);l(t,s,a.isDebug(),null);o=window[e.ushellConfigNamespace];f(o,"services.Container.adapter.config.userProfilePersonalization");u(o);return o}return c});