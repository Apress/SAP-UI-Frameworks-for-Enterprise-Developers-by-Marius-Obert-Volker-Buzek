// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/Component","sap/ui/core/service/ServiceFactory","sap/ui/core/service/ServiceFactoryRegistry","./ShellUIService","sap/base/Log"],function(e,a,t,n,s){"use strict";var i=sap.ui.require.toUrl("sap/ushell/plugins/ghostapp");var p={name:"sap.ushell.plugins.ghostapp",manifest:true,asyncHints:{libs:[{name:"sap.m"},{name:"sap.ui.core"},{name:"sap.f"},{name:"sap.suite.ui.generic.template"},{name:"sap.ui.comp"},{name:"sap.ui.fl"},{name:"sap.ui.generic.app"},{name:"sap.ui.generic.template"},{name:"sap.ui.table"},{name:"sap.ui.unified"},{name:"sap.uxap"},{name:"sap.ui.layout"}],cacheTokens:{dataSources:{"/ghostapp-c9f1f0bd-ff78-4660-9a1f-295814f00fe0/":"20180613155243"}},requests:[{name:"sap.ui.fl.changes",reference:"sap.ushell.plugins.ghostapp.Component"}],waitFor:{}},id:"sap.ushell.plugins.ghostapp",componentData:{startupParameters:{},technicalParameters:{}},async:true};var r="sap.ushell.plugins.appwarmup.Component";return e.extend(r,{metadata:{version:"1.113.0",library:"sap.ushell"},doWarmUp:function(){var r=[];r.push(new Promise(function(e,a){sap.ui.require(["sap/ui/model/odata/ODataMetadata"],function(a){var t=a.prototype._loadMetadata;a.prototype._loadMetadata=function(e,n){if(this.sUrl&&this.sUrl.startsWith("/ghostapp-c9f1f0bd-ff78-4660-9a1f-295814f00fe0/$metadata")){this.sUrl=i+"/metadata.xml";a.prototype._loadMetadata=t}return t.call(this,e,n)};e()},a)}));Promise.all(r).then(function(){t.register("sap.ushell.plugins.appwarmup.ShellUIService",new a(n));return e.create(p)}).then(function(e){var a=document.createElement("div");a.style.visibility="hidden";document.body.appendChild(a);sap.ui.require(["sap/ui/core/ComponentContainer"],function(t){var n=new t;n.setComponent(e);n.placeAt(a);n.addEventDelegate({onAfterRendering:function(){setTimeout(function(){n.destroy()},5e3)}})})}).catch(function(){s.error("GhostApp component could not be created",null,this)})},init:function(){this.doWarmUp()}})});