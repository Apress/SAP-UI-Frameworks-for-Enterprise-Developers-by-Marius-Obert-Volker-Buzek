/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/converters/ManifestSettings","sap/ui/Device"],function(t,n){"use strict";var i=n.system;var e=t.VariantManagementType;function o(t,n){const i=t===null||t===void 0?void 0:t[n];if(Array.isArray(i)){i.forEach(t=>o(t,"annotationPath"))}else if(i&&!i.includes("@")){t[n]="@"+i}}let s=function(){function t(t,n){var i;this.oManifestSettings=t;this.mergeFn=n;o(this.oManifestSettings,"defaultTemplateAnnotationPath");(i=this.oManifestSettings.views)===null||i===void 0?void 0:i.paths.forEach(t=>{o(t,"annotationPath");o(t,"primary");o(t,"secondary")});if(this.oManifestSettings.controlConfiguration){for(const t of Object.values(this.oManifestSettings.controlConfiguration)){var e;const n=(e=t.tableSettings)===null||e===void 0?void 0:e.quickVariantSelection;o(n,"paths")}}}var s=t.prototype;s.getTemplateType=function t(){return this.oManifestSettings.converterType};s.isFilterBarHidden=function t(){var n;return!!((n=this.oManifestSettings)!==null&&n!==void 0&&n.hideFilterBar)};s.useHiddenFilterBar=function t(){var n;return!!((n=this.oManifestSettings)!==null&&n!==void 0&&n.useHiddenFilterBar)};s.isDesktop=function t(){return!!this.oManifestSettings.isDesktop};s.isPhone=function t(){return!!this.oManifestSettings.isPhone};s.getFormContainer=function t(n){var i;return(i=this.oManifestSettings.controlConfiguration)===null||i===void 0?void 0:i[n]};s.getHeaderFacets=function t(){var n,i,e,o;return this.mergeFn({},(n=this.oManifestSettings.controlConfiguration)===null||n===void 0?void 0:(i=n["@com.sap.vocabularies.UI.v1.HeaderFacets"])===null||i===void 0?void 0:i.facets,(e=this.oManifestSettings.content)===null||e===void 0?void 0:(o=e.header)===null||o===void 0?void 0:o.facets)};s.getHeaderActions=function t(){var n,i;return((n=this.oManifestSettings.content)===null||n===void 0?void 0:(i=n.header)===null||i===void 0?void 0:i.actions)||{}};s.getFooterActions=function t(){var n,i;return((n=this.oManifestSettings.content)===null||n===void 0?void 0:(i=n.footer)===null||i===void 0?void 0:i.actions)||{}};s.getVariantManagement=function t(){return this.oManifestSettings.variantManagement||e.None};s.getDefaultTemplateAnnotationPath=function t(){return this.oManifestSettings.defaultTemplateAnnotationPath};s.getControlConfiguration=function t(n){var i,e;return((i=this.oManifestSettings)===null||i===void 0?void 0:(e=i.controlConfiguration)===null||e===void 0?void 0:e[n])||{}};s.getNavigationConfiguration=function t(n){var i,e;return((i=this.oManifestSettings)===null||i===void 0?void 0:(e=i.navigation)===null||e===void 0?void 0:e[n])||{}};s.getViewLevel=function t(){var n;return((n=this.oManifestSettings)===null||n===void 0?void 0:n.viewLevel)||-1};s.getContentDensities=function t(){var n;return((n=this.oManifestSettings)===null||n===void 0?void 0:n.contentDensities)||{cozy:false,compact:false}};s.isFclEnabled=function t(){var n;return!!((n=this.oManifestSettings)!==null&&n!==void 0&&n.fclEnabled)};s.isCondensedLayoutCompliant=function t(){var e,o;const s=((e=this.oManifestSettings)===null||e===void 0?void 0:e.contentDensities)||{cozy:false,compact:false};const a=((o=this.oManifestSettings)===null||o===void 0?void 0:o.shellContentDensity)||"compact";let t=true;const r=!i.desktop||n.resize.width<=320;if((s===null||s===void 0?void 0:s.cozy)===true&&(s===null||s===void 0?void 0:s.compact)!==true||a==="cozy"||r){t=false}return t};s.isCompactType=function t(){var n;const i=this.getContentDensities();const e=((n=this.oManifestSettings)===null||n===void 0?void 0:n.shellContentDensity)||"compact";return i.compact!==false||e==="compact"?true:false};s.getSectionLayout=function t(){return this.oManifestSettings.sectionLayout};s.getSections=function t(){var n,i,e,o;return this.mergeFn({},(n=this.oManifestSettings.controlConfiguration)===null||n===void 0?void 0:(i=n["@com.sap.vocabularies.UI.v1.Facets"])===null||i===void 0?void 0:i.sections,(e=this.oManifestSettings.content)===null||e===void 0?void 0:(o=e.body)===null||o===void 0?void 0:o.sections)};s.isHeaderEditable=function t(){return this.getShowObjectPageHeader()&&this.oManifestSettings.editableHeaderContent};s.getShowAnchorBar=function t(){var n,i,e,o;return((n=this.oManifestSettings.content)===null||n===void 0?void 0:(i=n.header)===null||i===void 0?void 0:i.anchorBarVisible)!==undefined?!!((e=this.oManifestSettings.content)!==null&&e!==void 0&&(o=e.header)!==null&&o!==void 0&&o.anchorBarVisible):true};s.useIconTabBar=function t(){return this.getShowAnchorBar()&&this.oManifestSettings.sectionLayout==="Tabs"};s.getShowObjectPageHeader=function t(){var n,i,e,o;return((n=this.oManifestSettings.content)===null||n===void 0?void 0:(i=n.header)===null||i===void 0?void 0:i.visible)!==undefined?!!((e=this.oManifestSettings.content)!==null&&e!==void 0&&(o=e.header)!==null&&o!==void 0&&o.visible):true};s.getEnableLazyLoading=function t(){return this.oManifestSettings.enableLazyLoading??false};s.getViewConfiguration=function t(){return this.oManifestSettings.views};s.getStickyMultiTabHeaderConfiguration=function t(){const n=this.oManifestSettings.stickyMultiTabHeader;return n!==undefined?n:true};s.getKPIConfiguration=function t(){return this.oManifestSettings.keyPerformanceIndicators||{}};s.getFilterConfiguration=function t(){return this.getControlConfiguration("@com.sap.vocabularies.UI.v1.SelectionFields")};s.hasMultipleEntitySets=function t(){const n=this.getViewConfiguration()||{paths:[]};const i=this.oManifestSettings.entitySet;return n.paths.find(t=>{var n;if((n=t)!==null&&n!==void 0&&n.template){return undefined}else if(this.hasMultipleVisualizations(t)){const{primary:n,secondary:e}=t;return n.some(t=>t.entitySet&&t.entitySet!==i)||e.some(t=>t.entitySet&&t.entitySet!==i)}else{t=t;return t.entitySet&&t.entitySet!==i}})!==undefined};s.getContextPath=function t(){var n;return(n=this.oManifestSettings)===null||n===void 0?void 0:n.contextPath};s.hasMultipleVisualizations=function t(n){var i,e;if(!n){const t=this.getViewConfiguration()||{paths:[]};return t.paths.some(t=>{var n,i;return((n=t.primary)===null||n===void 0?void 0:n.length)>0&&((i=t.secondary)===null||i===void 0?void 0:i.length)>0})}return((i=n.primary)===null||i===void 0?void 0:i.length)>0&&((e=n.secondary)===null||e===void 0?void 0:e.length)>0};s.getEntitySet=function t(){return this.oManifestSettings.entitySet};return t}();return s},false);