//@ui5-bundle sap/fe/core/library-preload.js
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/ActionRuntime", ["sap/base/util/merge","sap/fe/core/CommonUtils","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","./controls/AnyElement","./converters/ConverterContext","./converters/objectPage/HeaderAndFooterAction"],function(t,e,n,o,i,l,s,a){"use strict";var d=a.getHiddenExpression;var r=a.getEditButtonEnabled;var c=i.isEntitySet;var u=n.transformRecursively;var p=n.equal;var g=n.constant;var f=n.compileExpression;const v={setActionEnablement:async function(t,n,o,i){const l=[];for(const s in n){let a=[];t.setProperty(s,false);const d=n[s];for(let e=0;e<o.length;e++){const n=o[e];if(n){const e=n.getObject();if(i==="chart"){if(d===null&&!!e[`#${s}`]||n.getObject(d)){t.setProperty(s,true);break}}else if(i==="table"){a=this._setActionEnablementForTable(n,t,s,d,a)}}}if(i==="table"){if(!o.length){t.setProperty(`dynamicActions/${s}`,{bEnabled:false,aApplicable:[],aNotApplicable:[]});l.push(e.setContextsBasedOnOperationAvailable(t,[]))}else if(o.length&&typeof d==="string"){l.push(e.setContextsBasedOnOperationAvailable(t,a))}}}return Promise.all(l)},setActionEnablementAfterPatch:function(t,e,n){const o=n===null||n===void 0?void 0:n.getObject();const i=(o===null||o===void 0?void 0:o.controls)||{};for(const n in i){if(i[n]&&i[n].controlId){const o=t.byId(n);if(o&&o.isA("sap.ui.mdc.Table")){const t=o.getRowBinding();if(t==e){v.setActionEnablement(o.getBindingContext("internal"),JSON.parse(o.data("operationAvailableMap").customData),o.getSelectedContexts(),"table")}}}}},updateEditButtonVisibilityAndEnablement(n){var i;const l=(i=n.getViewData())===null||i===void 0?void 0:i.viewLevel;if(l>1){var a,u,g,v;const i=n.getBindingContext();const l=e.getAppComponent(n);const b=o.getMetaPathForContext(i);const y=o.getRootEntitySetPath(b);const h=i===null||i===void 0?void 0:(a=i.getModel())===null||a===void 0?void 0:(u=a.getMetaModel())===null||u===void 0?void 0:u.getContext(i===null||i===void 0?void 0:i.getPath());const x=s===null||s===void 0?void 0:s.createConverterContextForMacro(y,h,l.getDiagnostics(),t,undefined);const E=x.getEntitySet();const C=x.getEntityType();let A;const m=c(E)&&((g=E.annotations.UI)===null||g===void 0?void 0:(v=g.UpdateHidden)===null||v===void 0?void 0:v.valueOf());if(m!==true){A=o.isUpdateHidden(E,C)}const P=r(x,undefined);const B=o.getDraftRootPath(i);const M=o.getStickyRootPath(i);const O=B||M;const T=n.getBindingContext("internal");if(O){const t=n.getModel().bindContext(O).getBoundContext();if(A!==undefined){const e=f(p(d(x,A),false));this.updateEditModelContext(e,n,t,"rootEditVisible",T)}if(P){this.updateEditModelContext(P,n,t,"rootEditEnabled",T)}}}},updateEditModelContext:function(t,e,n,o,i){if(t){var s,a,d;const r=new l({anyText:t});r.setBindingContext(null);e.addDependent(r);r.getBinding("anyText");const c=(s=r.getModel())===null||s===void 0?void 0:(a=s.bindContext(n.getPath(),n,{$$groupId:"$auto.Heroes"}))===null||a===void 0?void 0:a.getBoundContext();r.setBindingContext(c);r===null||r===void 0?void 0:(d=r.getBinding("anyText"))===null||d===void 0?void 0:d.attachChange(t=>{const e=t.getSource().getExternalValue();i.setProperty(o,e)})}},_setActionEnablementForTable:function(t,n,o,i,l){n.setProperty(`dynamicActions/${o}`,{bEnabled:false,aApplicable:[],aNotApplicable:[]});const s=[],a=[],d=`${n.getPath()}/dynamicActions/${o}/bEnabled`;if(typeof i==="object"&&i!==null&&i!==undefined){if(t){const e=t.getObject();const o=u(i,"PathInModel",function(t){return e?g(e[t.path]):g(false)},true);const l=f(o);if(l==="true"){n.getModel().setProperty(d,true);s.push(t)}else{a.push(t)}}e.setDynamicActionContexts(n,o,s,a)}else{const s=t===null||t===void 0?void 0:t.getObject();if(i===null&&!!s[`#${o}`]){n.getModel().setProperty(d,true)}else if(t!==undefined){l.push(e.requestProperty(t,o,i,d))}}return l}};return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/AppComponent", ["sap/base/Log","sap/fe/core/AppStateHandler","sap/fe/core/controllerextensions/routing/RouterProxy","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/ModelHelper","sap/fe/core/library","sap/fe/core/manifestMerger/ChangePageConfiguration","sap/fe/core/support/Diagnostics","sap/ui/core/Core","sap/ui/core/UIComponent","sap/ui/model/json/JSONModel","./controllerextensions/BusyLocker","./converters/MetaModelConverter","./helpers/SemanticDateOperators"],function(e,t,o,i,r,n,a,s,u,c,l,p,f,d){"use strict";var g,v,C;var h=f.deleteModelCacheData;var R=a.cleanPageConfigurationChanges;var N=a.changeConfiguration;var S=i.defineUI5Class;function A(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}function E(e,t){E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return E(e,t)}const M=n.StartupMode;const w={FCL:{VIEWNAME:"sap.fe.core.rootView.Fcl",VIEWNAME_COMPATIBILITY:"sap.fe.templates.RootContainer.view.Fcl",ROUTERCLASS:"sap.f.routing.Router"},NAVCONTAINER:{VIEWNAME:"sap.fe.core.rootView.NavContainer",VIEWNAME_COMPATIBILITY:"sap.fe.templates.RootContainer.view.NavContainer",ROUTERCLASS:"sap.m.routing.Router"}};let y=(g=S("sap.fe.core.AppComponent",{interfaces:["sap.ui.core.IAsyncContentCreation"],config:{fullWidth:true},manifest:{"sap.ui5":{services:{resourceModel:{factoryName:"sap.fe.core.services.ResourceModelService",startup:"waitFor",settings:{bundles:["sap.fe.core.messagebundle"],modelName:"sap.fe.i18n"}},routingService:{factoryName:"sap.fe.core.services.RoutingService",startup:"waitFor"},shellServices:{factoryName:"sap.fe.core.services.ShellServices",startup:"waitFor"},ShellUIService:{factoryName:"sap.ushell.ui5service.ShellUIService"},navigationService:{factoryName:"sap.fe.core.services.NavigationService",startup:"waitFor"},environmentCapabilities:{factoryName:"sap.fe.core.services.EnvironmentService",startup:"waitFor"},sideEffectsService:{factoryName:"sap.fe.core.services.SideEffectsService",startup:"waitFor"},asyncComponentService:{factoryName:"sap.fe.core.services.AsyncComponentService",startup:"waitFor"}},rootView:{viewName:w.NAVCONTAINER.VIEWNAME,type:"XML",async:true,id:"appRootView"},routing:{config:{controlId:"appContent",routerClass:w.NAVCONTAINER.ROUTERCLASS,viewType:"XML",controlAggregation:"pages",async:true,containerOptions:{propagateModel:true}}}}},designtime:"sap/fe/core/designtime/AppComponent.designtime",library:"sap.fe.core"}),g(v=(C=function(i){A(a,i);function a(){var e;for(var t=arguments.length,o=new Array(t),r=0;r<t;r++){o[r]=arguments[r]}e=i.call(this,...o)||this;e.startupMode=M.Normal;return e}var c=a.prototype;c._isFclEnabled=function e(){var t,o;const i=this.getManifestEntry("sap.ui5");return(i===null||i===void 0?void 0:(t=i.routing)===null||t===void 0?void 0:(o=t.config)===null||o===void 0?void 0:o.routerClass)===w.FCL.ROUTERCLASS};c.initializeFeatureToggles=async function e(){return Promise.resolve()};c.changePageConfiguration=function e(t,o,i){N(this.getManifest(),t,o,i,true)};c.getRouterProxy=function e(){return this._oRouterProxy};c.getAppStateHandler=function e(){return this._oAppStateHandler};c.getRootViewController=function e(){return this.getRootControl().getController()};c.getRootContainer=function e(){return this.getRootControl().getContent()[0]};c.getStartupMode=function e(){return this.startupMode};c.setStartupModeCreate=function e(){this.startupMode=M.Create};c.setStartupModeAutoCreate=function e(){this.startupMode=M.AutoCreate};c.setStartupModeDeeplink=function e(){this.startupMode=M.Deeplink};c.init=function u(){var c,p;const f=new l({editMode:n.EditMode.Display,isEditable:false,draftStatus:n.DraftStatus.Clear,busy:false,busyLocal:{},pages:{}});const g=new l({pages:{}});f.setDefaultBindingMode("OneWay");r.enhanceUiJSONModel(f,n);r.enhanceInternalJSONModel(g);this.setModel(f,"ui");this.setModel(g,"internal");this.bInitializeRouting=this.bInitializeRouting!==undefined?this.bInitializeRouting:true;this._oRouterProxy=new o;this._oAppStateHandler=new t(this);this._oDiagnostics=new s;const v=this.getModel();if(v!==null&&v!==void 0&&(c=v.isA)!==null&&c!==void 0&&c.call(v,"sap.ui.model.odata.v4.ODataModel")){this.entityContainer=v.getMetaModel().requestObject("/$EntityContainer/")}else{this.entityContainer=Promise.resolve()}const C=this.getManifest()["sap.ui5"];if(C!==null&&C!==void 0&&(p=C.rootView)!==null&&p!==void 0&&p.viewName){var h,R,N,S,A,E;if(C.rootView.viewName===w.FCL.VIEWNAME_COMPATIBILITY){C.rootView.viewName=w.FCL.VIEWNAME}else if(C.rootView.viewName===w.NAVCONTAINER.VIEWNAME_COMPATIBILITY){C.rootView.viewName=w.NAVCONTAINER.VIEWNAME}if(C.rootView.viewName===w.FCL.VIEWNAME&&((h=C.routing)===null||h===void 0?void 0:(R=h.config)===null||R===void 0?void 0:R.routerClass)===w.FCL.ROUTERCLASS){e.info(`Rootcontainer: "${w.FCL.VIEWNAME}" - Routerclass: "${w.FCL.ROUTERCLASS}"`)}else if(C.rootView.viewName===w.NAVCONTAINER.VIEWNAME&&((N=C.routing)===null||N===void 0?void 0:(S=N.config)===null||S===void 0?void 0:S.routerClass)===w.NAVCONTAINER.ROUTERCLASS){e.info(`Rootcontainer: "${w.NAVCONTAINER.VIEWNAME}" - Routerclass: "${w.NAVCONTAINER.ROUTERCLASS}"`)}else if(((A=C.rootView)===null||A===void 0?void 0:(E=A.viewName)===null||E===void 0?void 0:E.indexOf("sap.fe.core.rootView"))!==-1){var M,y;throw Error(`\nWrong configuration for the couple (rootView/routerClass) in manifest file.\n`+`Current values are :(${C.rootView.viewName}/${((M=C.routing)===null||M===void 0?void 0:(y=M.config)===null||y===void 0?void 0:y.routerClass)||"<missing router class>"})\n`+`Expected values are \n`+`\t - (${w.NAVCONTAINER.VIEWNAME}/${w.NAVCONTAINER.ROUTERCLASS})\n`+`\t - (${w.FCL.VIEWNAME}/${w.FCL.ROUTERCLASS})`)}else{e.info(`Rootcontainer: "${C.rootView.viewName}" - Routerclass: "${w.NAVCONTAINER.ROUTERCLASS}"`)}}d.addSemanticDateOperators();i.prototype.init.call(this);a.instanceMap[this.getId()]=this};c.onServicesStarted=async function t(){await this.initializeFeatureToggles();const o=()=>{this.entityContainer.then(()=>{if(this.getRootViewController().attachRouteMatchers){this.getRootViewController().attachRouteMatchers()}this.getRouter().initialize();this.getRouterProxy().init(this,this._isFclEnabled());return}).catch(e=>{const t=u.getLibraryResourceBundle("sap.fe.core");this.getRootViewController().displayErrorPage(t.getText("C_APP_COMPONENT_SAPFE_APPSTART_TECHNICAL_ISSUES"),{title:t.getText("C_COMMON_SAPFE_ERROR"),description:e.message,FCLLevel:0})})};if(this.bInitializeRouting){return this.getRoutingService().initializeRouting().then(()=>{if(this.getRootViewController()){o()}else{this.getRootControl().attachAfterInit(function(){o()})}return}).catch(function(t){e.error(`cannot cannot initialize routing: ${t.toString()}`)})}};c.exit=function e(){this._oAppStateHandler.destroy();this._oRouterProxy.destroy();delete this._oAppStateHandler;delete this._oRouterProxy;h(this.getMetaModel());this.getModel("ui").destroy();R()};c.getMetaModel=function e(){return this.getModel().getMetaModel()};c.getDiagnostics=function e(){return this._oDiagnostics};c.destroy=function t(o){var r;try{delete a.instanceMap[this.getId()];delete window._routing}catch(t){e.info(t)}const n=this.oModels[undefined];let s;if(n.oRequestor){s=jQuery.extend({},n.oRequestor.mHeaders)}(r=this.getRoutingService())===null||r===void 0?void 0:r.beforeExit();i.prototype.destroy.call(this,o);if(s&&n.oRequestor){n.oRequestor.mHeaders=s}};c.getRoutingService=function e(){return{}};c.getShellServices=function e(){return{}};c.getNavigationService=function e(){return{}};c.getSideEffectsService=function e(){return{}};c.getEnvironmentCapabilities=function e(){return{}};c.getStartupParameters=async function e(){const t=this.getComponentData();return Promise.resolve(t&&t.startupParameters||{})};c.restore=function e(){this.getRootViewController().viewState.onRestore()};c.suspend=function e(){this.getRootViewController().viewState.onSuspend()};c.navigateBasedOnStartupParameter=async function t(o){try{if(!p.isLocked(this.getModel("ui"))){if(!o){o=null}const e=this.getRoutingService();await e._manageDeepLinkStartup(o)}}catch(t){e.error(t);p.unlock(this.getModel("ui"))}};return a}(c),C.instanceMap={},C))||v);return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/AppStateHandler", ["sap/base/Log","sap/base/util/deepEqual","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/ToES6Promise","sap/fe/navigation/library","sap/ui/base/Object","./controllerextensions/BusyLocker","./helpers/ModelHelper"],function(t,e,n,o,a,i,r,s){"use strict";var p,c;var l=n.defineUI5Class;function u(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;f(t,e)}function f(t,e){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,n){e.__proto__=n;return e};return f(t,e)}const h=a.NavType;let g=(p=l("sap.fe.core.AppStateHandler"),p(c=function(n){u(a,n);function a(e){var o;o=n.call(this)||this;o._mCurrentAppState={};o.oAppComponent=e;o.sId=`${e.getId()}/AppStateHandler`;o.nbSimultaneousCreateRequest=0;o.bNoRouteChange=false;t.info("APPSTATE : Appstate handler initialized");return o}var i=a.prototype;i.getId=function t(){return this.sId};i.createAppState=async function n(){if(!this.oAppComponent.getEnvironmentCapabilities().getCapabilities().AppState||r.isLocked(this)){return}const o=this.oAppComponent.getNavigationService(),a=this.oAppComponent.getRouterProxy(),i=a.getHash(),p=this.oAppComponent.getRootControl().getController(),c=s.isStickySessionSupported(this.oAppComponent.getMetaModel());if(!p.viewState){throw new Error(`viewState controller extension not available for controller: ${p.getMetadata().getName()}`)}const l=await p.viewState.retrieveViewState();const u={appState:l};if(l&&!e(this._mCurrentAppState,l)){this._mCurrentAppState=l;try{this.nbSimultaneousCreateRequest++;const e=await o.storeInnerAppStateAsync(u,true,true);t.info("APPSTATE: Appstate stored");const n=o.replaceInnerAppStateKey(i,e);this.nbSimultaneousCreateRequest--;if(this.nbSimultaneousCreateRequest===0&&n!==i){a.navToHash(n,undefined,undefined,undefined,!c);this.bNoRouteChange=true}t.info("APPSTATE: navToHash")}catch(e){t.error(e)}}return u};i._createNavigationParameters=function t(e,n){return Object.assign({},e,{selectionVariantDefaults:e.oDefaultedSelectionVariant,selectionVariant:e.oSelectionVariant,requiresStandardVariant:!e.bNavSelVarHasDefaultsOnly,navigationType:n})};i._checkIfLastSeenRecord=function t(e){const n=e&&e.getBindingContext("internal");if(n&&n.getProperty("fclColumnClosed")===true){const t=n&&n.getProperty("technicalKeysOfLastSeenRecord");const o=e===null||e===void 0?void 0:e.getBindingContext();const a=o&&o.getPath()||"";const i=o===null||o===void 0?void 0:o.getModel().getMetaModel();const r=i===null||i===void 0?void 0:i.getMetaPath(a);const s=i===null||i===void 0?void 0:i.getObject(`${r}/$Type/$Key`);for(let e=0;e<s.length;e++){const a=o.getObject()[s[e]];if(a!==t[s[e]]){n.setProperty("fclColumnClosed",false);return true}}}return false};i._getAppStateData=function t(e,n){let o="",a=0;if(e&&e.appState){for(a=0;a<Object.keys(e.appState).length;a++){if(Object.keys(e.appState)[a]===n){o=Object.keys(e.appState)[a];break}}}if(e.appState){return{[Object.keys(e.appState)[a]]:e.appState[o]||{}}}};i.applyAppState=async function e(n,a){if(!this.oAppComponent.getEnvironmentCapabilities().getCapabilities().AppState||r.isLocked(this)){return Promise.resolve()}const i=this._checkIfLastSeenRecord(a);if(i===true){return Promise.resolve()}r.lock(this);r.lock(this.oAppComponent.getRootControl());const s=this.oAppComponent.getNavigationService();return o(s.parseNavigation()).catch(function(e){if(!e){e=[]}t.warning("APPSTATE: Parse Navigation failed",e[0]);return[{},e[1],e[2]]}).then(e=>{t.info("APPSTATE: Parse Navigation done");const o=e[0]||{},a=e[2]||h.initial,i=this.oAppComponent.getRootControl().getController();const r=this._getAppStateData(o,n);this._mCurrentAppState=a===h.iAppState?r:undefined;if(!i.viewState){throw new Error(`viewState extension required for controller ${i.getMetadata().getName()}`)}if((!o||Object.keys(o).length===0)&&a==h.iAppState){return{}}return i.viewState.applyViewState(this._mCurrentAppState,this._createNavigationParameters(o,a))}).catch(function(e){t.error("appState could not be applied",e);throw e}).finally(()=>{r.unlock(this);r.unlock(this.oAppComponent.getRootControl())})};i.checkIfRouteChangedByIApp=function t(){return this.bNoRouteChange};i.resetRouteChangedByIApp=function t(){if(this.bNoRouteChange){this.bNoRouteChange=false}};return a}(i))||c);return g},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/BaseController", ["sap/fe/core/CommonUtils","sap/fe/core/helpers/ClassSupport","sap/ui/core/mvc/Controller"],function(e,t,o){"use strict";var n,i,r,p;var u=t.publicExtension;var c=t.defineUI5Class;function l(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}function s(e,t){s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return s(e,t)}function a(e,t,o,n,i){var r={};Object.keys(n).forEach(function(e){r[e]=n[e]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},r);if(i&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(i):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(e,t,r);r=null}return r}let f=(n=c("sap.fe.core.BaseController"),i=u(),n(r=(p=function(t){l(o,t);function o(){return t.apply(this,arguments)||this}var n=o.prototype;n.getAppComponent=function t(){if(!this._oAppComponent){this._oAppComponent=e.getAppComponent(this.getView())}return this._oAppComponent};n.getModel=function e(t){return this.getView().getModel(t)};n.setModel=function e(t,o){return this.getView().setModel(t,o)};n.getResourceBundle=function e(t){if(!t){t="i18n"}return this.getAppComponent().getModel(t).getResourceBundle()};return o}(o),a(p.prototype,"getAppComponent",[i],Object.getOwnPropertyDescriptor(p.prototype,"getAppComponent"),p.prototype),p))||r);return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/CommonUtils", ["sap/base/Log","sap/base/util/array/uniqueSort","sap/base/util/merge","sap/fe/core/converters/ConverterContext","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/SemanticDateOperators","sap/fe/core/helpers/StableIdHelper","sap/fe/core/type/TypeUtil","sap/ui/core/Component","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/Device","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/RangeOperator","sap/ui/model/Filter","./controls/AnyElement","./helpers/MetaModelFunction","./templating/FilterHelper"],function(e,t,n,o,i,r,s,a,c,l,u,p,f,d,g,m,b,O,h,v,P){"use strict";var y={};var S=P.getConditions;var E=g.system;var j=c.generate;var C=r.pathInModel;var $=r.compileExpression;function T(e){if(!e){return undefined}return e.replace(/"/g," ").replace(/\\/g,"\\\\").split(/\s+/).reduce(function(e,t){if(t!==""){e=`${e?`${e} `:""}"${t}"`}return e},undefined)}async function A(e){var t;const n=e.getModel();const o=n.getMetaModel();const r=o.getMetaPath(e.getPath());const s=i.getInvolvedDataModelObjects(o.getContext(r));await e.requestProperty((t=s.targetEntityType.keys[0])===null||t===void 0?void 0:t.name)}function x(e){let t=false;if(e){e.getCurrentContexts().forEach(function(e){if(e&&e.isTransient()){t=true}})}return t}async function F(e,t,n,o){return e.getLinks({semanticObject:n,params:o})}function N(e){const t=[];const n=Object.keys(e);let o;for(let i=0;i<n.length;i++){o={LocalProperty:{$PropertyPath:n[i]},SemanticObjectProperty:e[n[i]]};t.push(o)}return t}function M(e,t,n,o,i){for(let r=0;r<e.length;r++){const s=e[r];const a=s.intent;const c=a.split("-")[1].split("?")[0];if(i&&i.includes(c)){o.push({text:s.text,targetSemObject:a.split("#")[1].split("-")[0],targetAction:c.split("~")[0],targetParams:n})}else if(!i&&t&&t.indexOf(c)===-1){o.push({text:s.text,targetSemObject:a.split("#")[1].split("-")[0],targetAction:c.split("~")[0],targetParams:n})}}}function w(e,t,n,o){if(o&&o.length>0){const i=e.allowedActions||undefined;const r=e.unavailableActions?e.unavailableActions:[];const s=e.mapping?N(e.mapping):[];const a={navigationContexts:t,semanticObjectMapping:s};M(o,r,a,n,i)}}function R(e,t,n,o){if(o.length>0){const i=[e.action];const r=[];const s=[];const a={navigationContexts:t,semanticObjectMapping:s};M(o,r,a,n,i)}}async function D(t,n,o,i,r,s,a){const c=a.getShellServices();const l={};let u="",p="";let f;let d=[];let g=[];let m;async function b(){const e=c.parseShellHash(document.location.hash);u=e.semanticObject;p=e.action;return F(c,o,u,l)}try{if(n){if(i&&i.length>0){for(let e=0;e<i.length;e++){const t=i[e].$PropertyPath;if(!l[t]){l[t]={value:n[t]}}}}else{const e=r.getObject(`${s}/$Type/$Key`);for(const t in e){const o=e[t];if(!l[o]){l[o]={value:n[o]}}}}}const e=_(o).getViewData();const O=[];let h;if(e.additionalSemanticObjects){m=Object.keys(e.additionalSemanticObjects);for(let n=0;n<m.length;n++){h=await Promise.resolve(F(c,o,m[n],l));w(e.additionalSemanticObjects[m[n]],t,O,h)}}const v=[];const P=a.getComponentData();if(P.feEnvironment&&P.feEnvironment.getIntent()){const e=P.feEnvironment.getIntent();h=await Promise.resolve(F(c,o,e.semanticObject,l));R(e,t,v,h)}const y=o.getBindingContext("internal");const S=await b();if(S){if(S.length>0){let n=false;const o={};const i=[];const a=`${s}@`;const c=`${s}/@`;const l=r.getObject(a);f=qe.getSemanticObjectAnnotations(l,u);if(!f.bHasEntitySetSO){const e=r.getObject(c);f=qe.getSemanticObjectAnnotations(e,u)}g=f.aUnavailableActions;g.push(p);o.navigationContexts=t;o.semanticObjectMapping=f.aMappings;M(S,g,o,i);O.forEach(function(e){var t;let{targetSemObject:o}=e;if(((t=i[0])===null||t===void 0?void 0:t.targetSemObject)===o){n=true}});if(e.additionalSemanticObjects&&i[0]&&e.additionalSemanticObjects[i[0].targetSemObject]&&!!e.additionalSemanticObjects[i[0].targetSemObject].allowedActions){n=true}const m=O.concat(v);d=n?m:m.concat(i);y.setProperty("relatedApps/visibility",d.length>0);y.setProperty("relatedApps/items",d)}else{y.setProperty("relatedApps/visibility",false)}}else{y.setProperty("relatedApps/visibility",false)}}catch(t){e.error("Cannot read links",t)}return d}function k(e,t){const n={bHasEntitySetSO:false,aAllowedActions:[],aUnavailableActions:[],aMappings:[]};let o,i;let r;for(const s in e){if(s.indexOf("com.sap.vocabularies.Common.v1.SemanticObject")>-1&&e[s]===t){n.bHasEntitySetSO=true;o=`@${"com.sap.vocabularies.Common.v1.SemanticObjectMapping"}`;i=`@${"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"}`;if(s.indexOf("#")>-1){r=s.split("#")[1];o=`${o}#${r}`;i=`${i}#${r}`}if(e[o]){n.aMappings=n.aMappings.concat(e[o])}if(e[i]){n.aUnavailableActions=n.aUnavailableActions.concat(e[i])}break}}return n}function L(t,n){const o=t.getModel().getMetaModel();const i=t.getBindingContext();const r=i&&i.getPath()||"";const s=o.getMetaPath(r);const a=`${s}/`+`@com.sap.vocabularies.Common.v1.SemanticKey`;const c=o.getObject(a);const l=i===null||i===void 0?void 0:i.getObject();if(!l&&i){i.requestObject().then(async function(e){return qe.updateRelateAppsModel(i,e,t,c,o,s,n)}).catch(function(t){e.error("Cannot update the related app details",t)})}else{return qe.updateRelateAppsModel(i,l,t,c,o,s,n)}}function I(e){if(e&&e.isA(["sap.m.Button","sap.m.OverflowToolbarButton"])&&e.getVisible()&&e.getEnabled()){e.firePress()}}function B(e){if(e.isA("sap.fe.core.AppComponent")){return e}const t=u.getOwnerComponentFor(e);if(!t){throw new Error("There should be a sap.fe.core.AppComponent as owner of the control")}else{return B(t)}}function V(e){const t=e.getRootViewController();return t.isFclEnabled()?t.getRightmostView():qe.getTargetView(e.getRootContainer().getCurrentPage())}function _(e){if(e&&e.isA("sap.ui.core.ComponentContainer")){const t=e.getComponentInstance();e=t&&t.getRootControl()}while(e&&!e.isA("sap.ui.core.mvc.View")){e=e.getParent()}return e}function W(e,t){for(const n in t){if(t[n]!==e[n]){return false}}return true}function q(e,t,n){const o=e.getObject(`${t}/`)||{},i={};for(const e in o){if(o.hasOwnProperty(e)&&!/^\$/i.test(e)&&o[e].$kind&&W(o[e],n||{$kind:"Property"})){i[e]=o[e]}}return i}function G(e,t){let n=[];if(e&&t){n=e.getObject(`${t}@Org.OData.Capabilities.V1.FilterRestrictions/RequiredProperties`)}return n}function U(e,t){const n=e&&e.getActions();if(n){n.forEach(function(e){if(e.isA("sap.ui.mdc.actiontoolbar.ActionToolbarAction")){e=e.getAction()}if(e.isA("sap.m.MenuButton")){const n=e.getMenu();const o=n.getItems();o.forEach(e=>{if(e.data("IBNData")){t.push(e)}})}else if(e.data("IBNData")){t.push(e)}})}return t}function H(t,n){const o={};const i=qe.getAppComponent(n);const r=s.isStickySessionSupported(n.getModel().getMetaModel());const a=function(n){if(n){const e=Object.keys(n);e.forEach(function(e){if(e.indexOf("_")!==0&&e.indexOf("odata.context")===-1){o[e]={value:n[e]}}})}if(t.length){t.forEach(function(t){const n=t.data("IBNData").semanticObject;const s=t.data("IBNData").action;i.getShellServices().getLinks({semanticObject:n,action:s,params:o}).then(function(e){t.setVisible(t.getVisible()&&e&&e.length===1);if(r){t.getBindingContext("internal").setProperty(t.getId().split("--")[1],{shellNavigationNotAvailable:!(e&&e.length===1)})}return}).catch(function(t){e.error("Cannot retrieve the links from the shell service",t)})})}};if(n&&n.getBindingContext()){var c;(c=n.getBindingContext())===null||c===void 0?void 0:c.requestObject().then(function(e){return a(e)}).catch(function(t){e.error("Cannot retrieve the links from the shell service",t)})}else{a()}}function Q(e,t,n,o){const i=!n?e.getObject(e.getPath()).toString():n;let r=e.getPath().split("/@")[0];const s=e.getObject(r).$Type;const a=Y(e.getModel(),s);if(a){r=`/${a}`}if(o){return e.getObject(`${r}/${i}@Org.OData.Core.V1.OperationAvailable`)}if(t){return`${r}/${i}`}else{return{sContextPath:r,sProperty:e.getObject(`${r}/${i}@Org.OData.Core.V1.OperationAvailable/$Path`),sBindingParameter:e.getObject(`${r}/${i}/@$ui5.overload/0/$Parameter/0/$Name`)}}}function Y(e,t){const n=e.getObject("/");for(const e in n){if(typeof n[e]==="object"&&n[e].$Type===t){return e}}}function K(e,t){const n=e["@com.sap.vocabularies.Common.v1.Text"],o=n&&(e&&e["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"]||t&&t["@com.sap.vocabularies.UI.v1.TextArrangement"]);if(o){if(o.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"){return"Description"}else if(o.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextLast"){return"ValueDescription"}else if(o.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate"){return"Value"}return"DescriptionValue"}return n?"DescriptionValue":"Value"}function z(e){const t=e.getModel().getMetaModel();return t.getObject(`${t.getMetaPath(e.getPath())}/$Type`)}async function J(t,n,o){let i=n;const r=t.indexOf("(");if(r>-1){const n=t.slice(r+1,-1);let o=z(i);while(o!==n){i=i.getBinding().getContext();if(i){o=z(i)}else{e.warning("Cannot determine target type to request property value for bound action invocation");return Promise.resolve(undefined)}}}return i.requestObject(o)}async function X(e,t,n,o){const i=n&&n.indexOf("/")===0?De(n,e.getModel()):J(t,e,n);return i.then(function(n){return{vPropertyValue:n,oSelectedContext:e,sAction:t,sDynamicActionEnabledPath:o}})}async function Z(t,n){return Promise.all(n).then(function(e){if(e.length){const n=[],o=[];e.forEach(function(e){if(e){if(e.vPropertyValue){t.getModel().setProperty(e.sDynamicActionEnabledPath,true);n.push(e.oSelectedContext)}else{o.push(e.oSelectedContext)}}});ee(t,e[0].sAction,n,o)}return}).catch(function(t){e.trace("Cannot retrieve property value from path",t)})}function ee(e,t,n,o){const i=`${e.getPath()}/dynamicActions/${t}`,r=e.getModel();r.setProperty(`${i}/aApplicable`,n);r.setProperty(`${i}/aNotApplicable`,o)}function te(e){const t=l.getDataTypeClassName(e);const n=l.getBaseType(t,{},{});return m.getOperatorsForType(n)}function ne(e,t){return e.filter(function(e){return t.indexOf(e)>-1})}function oe(e){const t=qe.AllowedExpressionsPrio;e.sort(function(e,n){return t.indexOf(e)-t.indexOf(n)});return e[0]}function ie(e,t,n,o,i,r){const s=qe.getFilterRestrictionsByPath(t,n);const c=["EQ"];const l=["EQ","GE","LE","LT","GT","BT","NOTLE","NOTLT","NOTGE","NOTGT"];const u=["EQ","BT"];const p=["TODAY","TOMORROW","YESTERDAY","DATE","FIRSTDAYWEEK","LASTDAYWEEK","FIRSTDAYMONTH","LASTDAYMONTH","FIRSTDAYQUARTER","LASTDAYQUARTER","FIRSTDAYYEAR","LASTDAYYEAR"];const f=["EQ","GE","LE","LT","GT","BT","NE","NOTBT","NOTLE","NOTLT","NOTGE","NOTGT"];const d=["Contains","NotContains","StartsWith","NotStartsWith","EndsWith","NotEndsWith"];const g=a.getSupportedOperations();const m=i==="true"||i===true;let b=[];const O=r&&typeof r==="string"?JSON.parse(r).customData:r;if(n.getObject(`${t}/@com.sap.vocabularies.Common.v1.ResultContext`)===true){return c}if(O&&O.operatorConfiguration&&O.operatorConfiguration.length>0){b=a.getFilterOperations(O.operatorConfiguration,o)}else{b=a.getSemanticDateOperations(o)}let h=te(o);if(m){h=g.concat(h)}let v=[];if(s&&s.FilterAllowedExpressions&&s.FilterAllowedExpressions[e]){const t=qe.getSpecificAllowedExpression(s.FilterAllowedExpressions[e]);switch(t){case"SingleValue":const e=o==="Edm.Date"&&m?p:c;v=ne(h,e);break;case"MultiValue":v=ne(h,c);break;case"SingleRange":let t;if(m){if(o==="Edm.Date"){t=b}else if(o==="Edm.DateTimeOffset"){t=b}else{t=l}}else if(o==="Edm.DateTimeOffset"){t=u}else{t=l}const n=ne(h,t);v=n;break;case"MultiRange":v=ne(h,f);break;case"SearchExpression":v=ne(h,d);break;case"MultiRangeOrSearchExpression":v=ne(h,d.concat(f));break;default:break}}return v}y.getOperatorsForProperty=ie;function re(){const e=["EQ","NE"];return e.toString()}function se(e){const t=te(e);const n=["EQ","GE","LE","LT","GT","BT","NE","NOTBT","NOTLE","NOTLT","NOTGE","NOTGT"];return ne(t,n)}function ae(e,t){const n=t.substring(0,t.lastIndexOf("/"));const o=e.getObject(`${n}/@com.sap.vocabularies.Common.v1.ResultContext`);const i={};if(o&&n!==t){i.contextPath=n;i.parameterProperties=qe.getContextPathProperties(e,n)}return i}function ce(e,t,n,o,i){var r;const s=S(i,e);if(i!==null&&i!==void 0&&i.SemanticDates&&n&&n.indexOf(i===null||i===void 0?void 0:(r=i.SemanticDates)===null||r===void 0?void 0:r.operator)>-1){const e=qe.addSemanticDatesToConditions(i===null||i===void 0?void 0:i.SemanticDates);if(e&&Object.keys(e).length>0){o.push(e)}}else if(s){if(t.length===0||t.indexOf(s.operator)>-1){o.push(s)}}return o}function le(e){const t=[];if(e!==null&&e!==void 0&&e.high){t.push(e===null||e===void 0?void 0:e.high)}if(e!==null&&e!==void 0&&e.low){t.push(e===null||e===void 0?void 0:e.low)}return{values:t,operator:e===null||e===void 0?void 0:e.operator,isEmpty:undefined}}function ue(e,t,n,o,i,r,s,a,c,l,u,p){let f=[],d,g,m=[];if(c||v.isPropertyFilterable(a,e,r,true)){const b=s[r];d=t.getSelectOption(n);const O=fe(p,r);g=c?["EQ"]:qe.getOperatorsForProperty(r,e,a);if(u){m=c?["EQ"]:qe.getOperatorsForProperty(r,e,a,b===null||b===void 0?void 0:b.$Type,u,O)}f=c?qe.addSelectOptionToConditions(b,g,m,f,d[0]):d.reduce(qe.addSelectOptionToConditions.bind(null,b,g,m),f);if(f.length){if(i){o[i+r]=o.hasOwnProperty(i+r)?o[i+r].concat(f):f}else if(l){f.forEach(e=>{e["filtered"]=true});if(o.hasOwnProperty(r)){o[r].forEach(e=>{e["filtered"]=false});o[r]=o[r].concat(f)}else{o[r]=f}}else{o[r]=o.hasOwnProperty(r)?o[r].concat(f):f}}}}function pe(e){var t,n;return{high:(e===null||e===void 0?void 0:(t=e.values)===null||t===void 0?void 0:t[0])||null,low:(e===null||e===void 0?void 0:(n=e.values)===null||n===void 0?void 0:n[1])||null,operator:e===null||e===void 0?void 0:e.operator}}function fe(){var e,t;let n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let o=arguments.length>1?arguments[1]:undefined;const i=n===null||n===void 0?void 0:n.controlConfiguration;const r=i&&((e=i["@com.sap.vocabularies.UI.v1.SelectionFields"])===null||e===void 0?void 0:e.filterFields);return r!==null&&r!==void 0&&r[o]?(t=r[o])===null||t===void 0?void 0:t.settings:undefined}function de(e,t,n,o,i,r,s){const a=e.getSelectOptionsPropertyNames(),c=qe.getContextPathProperties(n,o),l=Object.keys(c),u=qe.getParameterInfo(n,o),p=u.contextPath,f=u.parameterProperties;if(p!==undefined&&f&&Object.keys(f).length>0){const o=Object.keys(f);o.forEach(function(o){let c;if(a.includes(`$Parameter.${o}`)){c=`$Parameter.${o}`}else if(a.includes(o)){c=o}else if(o.startsWith("P_")&&a.includes(`$Parameter.${o.slice(2,o.length)}`)){c=`$Parameter.${o.slice(2,o.length)}`}else if(o.startsWith("P_")&&a.includes(o.slice(2,o.length))){c=o.slice(2,o.length)}else if(a.includes(`$Parameter.P_${o}`)){c=`$Parameter.P_${o}`}else if(a.includes(`P_${o}`)){c=`P_${o}`}if(c){ue(p,e,c,t,undefined,o,f,n,true,i,r,s)}})}l.forEach(function(l){let u;if(a.includes(l)){u=l}else if(l.startsWith("P_")&&a.includes(l.slice(2,l.length))){u=l.slice(2,l.length)}else if(a.includes(`P_${l}`)){u=`P_${l}`}if(u){ue(o,e,u,t,undefined,l,c,n,false,i,r,s)}});a.forEach(function(a){if(a.indexOf(".")>0&&!a.includes("$Parameter")){const c=a.replaceAll(".","/");const l=`/${c}`.startsWith(o)?`/${c}`:`${o}/${c}`;if(n.getObject(l.replace("P_",""))){ge(l,o,e,a,n,t,i,r,s)}}});return t}function ge(e,t,n,o,i,r,s,a,c){let l=o.split(".");if(`/${o.replaceAll(".","/")}`.startsWith(t)){const e=`/${o}`.replaceAll(".","/"),n=e.replace(`${t}/`,"");l=n.split("/")}let u="";const p=l[l.length-1];for(let e=0;e<l.length-1;e++){if(i.getObject(`${t}/${l[e].replace("P_","")}`).$isCollection){u=`${u+l[e]}*/`}else{u=`${u+l[e]}/`}t=`${t}/${l[e]}`}const f=e.slice(0,e.lastIndexOf("/")),d=qe.getContextPathProperties(i,f),g=n.getSelectOptionsPropertyNames();let m=p;if(d[p]){m=p}else if(p.startsWith("P_")&&d[p.replace("P_","")]){m=p.replace("P_","")}else if(d[`P_${p}`]&&g.includes(`P_${p}`)){m=`P_${p}`}if(p.startsWith("P_")&&r[u+m]){}else if(!p.startsWith("P_")&&r[u+m]){delete r[u+m];ue(f,n,o,r,u,m,d,i,false,s,a,c)}else{ue(f,n,o,r,u,m,d,i,false,s,a,c)}}function me(e,t,n){const o=qe.getAppComponent(n);const i=o.getNavigationService();return i.mixAttributesAndSelectionVariant(t,e.toJSONString())}function be(t,n,o,i){let r;const s=function(t,n,o){const i={option:"",sign:"I",low:n,high:o};switch(t){case"Contains":i.option="CP";break;case"StartsWith":i.option="CP";i.low+="*";break;case"EndsWith":i.option="CP";i.low=`*${i.low}`;break;case"BT":case"LE":case"LT":case"GT":case"NE":case"EQ":i.option=t;break;case"DATE":i.option="EQ";break;case"DATERANGE":i.option="BT";break;case"FROM":i.option="GE";break;case"TO":i.option="LE";break;case"EEQ":i.option="EQ";break;case"Empty":i.option="EQ";i.low="";break;case"NotContains":i.option="CP";i.sign="E";break;case"NOTBT":i.option="BT";i.sign="E";break;case"NotStartsWith":i.option="CP";i.low+="*";i.sign="E";break;case"NotEndsWith":i.option="CP";i.low=`*${i.low}`;i.sign="E";break;case"NotEmpty":i.option="NE";i.low="";break;case"NOTLE":i.option="LE";i.sign="E";break;case"NOTGE":i.option="GE";i.sign="E";break;case"NOTLT":i.option="LT";i.sign="E";break;case"NOTGT":i.option="GT";i.sign="E";break;default:e.warning(`${t} is not supported. ${r} could not be added to the navigation context`)}return i};const c=n.filterConditions;const l=n.filterConditionsWithoutConflict?n.filterConditionsWithoutConflict:{};const u=o.propertiesWithoutConflict?o.propertiesWithoutConflict:{};const p=function(e,t,n){const o=c[t];const r=i&&i.getPropertyHelper().getProperty(t);const l=r===null||r===void 0?void 0:r.typeConfig;const u=i&&i.getControlDelegate().getTypeUtil();for(const i in o){const r=o[i];let c="",f="I",d="",g=null,O;const h=m.getOperator(r.operator);if(h instanceof b){var p;O=qe.createSemanticDatesFromConditions(r);const e=h.getModelFilter(r,t,l===null||l===void 0?void 0:l.typeInstance,false,l===null||l===void 0?void 0:l.baseType);if(!(e!==null&&e!==void 0&&e.getFilters())&&!(e!==null&&e!==void 0&&(p=e.getFilters())!==null&&p!==void 0&&p.length)){f=h.exclude?"E":"I";d=u.externalizeValue(e.getValue1(),l.typeInstance);g=u.externalizeValue(e.getValue2(),l.typeInstance);c=e.getOperator()}}else{const e=a.getSupportedOperations();if(e.includes(r===null||r===void 0?void 0:r.operator)){O=qe.createSemanticDatesFromConditions(r)}const t=r.values[0]&&r.values[0].toString()||"";const n=r.values[1]&&r.values[1].toString()||null;const o=s(r.operator,t,n);f=h!==null&&h!==void 0&&h.exclude?"E":"I";d=o===null||o===void 0?void 0:o.low;g=o===null||o===void 0?void 0:o.high;c=o===null||o===void 0?void 0:o.option}if(c&&O){e.addSelectOption(n?n:t,f,c,d,g,undefined,O)}else if(c){e.addSelectOption(n?n:t,f,c,d,g)}}};for(r in c){if(!t.getSelectOption(r)){if(r==="$editState"){continue}p(t,r)}else{if(u&&r in u){p(t,r,u[r])}if(r in l){p(t,r,l[r])}}}return t}function Oe(e){const t=s.isStickySessionSupported(e.getModel().getMetaModel());const n=e.getModel("ui").getProperty("/isEditable");return t&&n}function he(e,t,n){if(t&&e&&e.length){for(let o=0;o<e.length;o++){const i=t.getSelectOption("DisplayCurrency"),r=n&&n.getSelectOption("DisplayCurrency");if(e[o].$PropertyPath==="DisplayCurrency"&&(!i||!i.length)&&r&&r.length){const e=r[0];const n=e["Sign"];const o=e["Option"];const i=e["Low"];const s=e["High"];t.addSelectOption("DisplayCurrency",n,o,i,s)}}}}async function ve(e,t,n,o,i,r){const s=e.getComponentData(),a=s&&s.startupParameters||{},c=e.getShellServices();const l=await c.getStartupAppState(e);const u=(l===null||l===void 0?void 0:l.getData())||{},p=u.selectionVariant&&u.selectionVariant.SelectOptions||[];t.forEach(function(e){var t;const s=o?`/${e.$Name}`:(t=e.getPath)===null||t===void 0?void 0:t.call(e).slice(e.getPath().lastIndexOf("/")+1);const c=o?s.slice(1):s;if(r&&i){if(r[c]){n.setProperty(s,r[c])}}else if(a[c]){n.setProperty(s,a[c][0])}else if(p.length>0){for(const e of p){if(e.PropertyName===c){const t=e.Ranges.length?e.Ranges[e.Ranges.length-1]:undefined;if(t&&t.Sign==="I"&&t.Option==="EQ"){n.setProperty(s,t.Low)}}}}})}function Pe(e,t){const n=t,o=n!==undefined?Object.keys(n).filter(function(e){return n[e].useForCreate}):[];let i;for(let t=0;t<o.length;t++){const n=o[t];const r=e&&e[n];if(r&&r.length===1){i=i||Object.create(null);i[n]=r[0]}}return i}function ye(e){const t=[];if(e.parameters){const n=Object.keys(e.parameters)||[];if(n.length>0){n.forEach(function(n){const o=e.parameters[n];if(o.value&&o.value.value&&o.value.format==="binding"){const e={LocalProperty:{$PropertyPath:o.value.value},SemanticObjectProperty:n};if(t.length>0){for(let n=0;n<t.length;n++){var i;if(((i=t[n].LocalProperty)===null||i===void 0?void 0:i.$PropertyPath)!==e.LocalProperty.$PropertyPath){t.push(e)}}}else{t.push(e)}}})}}return t}function Se(t,n){const o={};let i;const r=t.controlConfiguration;for(const t in r){if(t.indexOf("@com.sap.vocabularies.UI.v1.DataPoint")>-1||t.indexOf("@com.sap.vocabularies.UI.v1.Chart")>-1){var s,a;const c=(s=r[t].navigation)===null||s===void 0?void 0:(a=s.targetOutbound)===null||a===void 0?void 0:a.outbound;if(c!==undefined){const r=n[c];if(r.semanticObject&&r.action){if(t.indexOf("Chart")>-1){i=j(["fe","MicroChartLink",t])}else{i=j(["fe","HeaderDPLink",t])}const e=qe.getSemanticObjectMapping(r);o[i]={semanticObject:r.semanticObject,action:r.action,semanticObjectMapping:e}}else{e.error(`Cross navigation outbound is configured without semantic object and action for ${c}`)}}}}return o}function Ee(e,t){const n=typeof t==="string"?JSON.parse(t):t;for(let t=0;t<n.length;t++){const o=n[t]["LocalProperty"]&&n[t]["LocalProperty"]["$PropertyPath"]||n[t]["@com.sap.vocabularies.Common.v1.LocalProperty"]&&n[t]["@com.sap.vocabularies.Common.v1.LocalProperty"]["$Path"];const i=n[t]["SemanticObjectProperty"]||n[t]["@com.sap.vocabularies.Common.v1.SemanticObjectProperty"];const r=e.getSelectOption(o);if(r){e.removeSelectOption(o);e.massAddSelectOption(i,r)}}return e}async function je(e,t,n){return new Promise(function(o){let i,r;if(n===""){i=e.getObject(`${t}@${"com.sap.vocabularies.Common.v1.SemanticObject"}`);r=e.getObject(`${t}@${"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"}`)}else{i=e.getObject(`${t}@${"com.sap.vocabularies.Common.v1.SemanticObject"}#${n}`);r=e.getObject(`${t}@${"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"}#${n}`)}const s=[{semanticObject:i}];const a={semanticObject:i};o({semanticObjectPath:t,semanticObjectForGetLinks:s,semanticObject:a,unavailableActions:r})})}async function Ce(t,o,i,r){return Promise.all(t).then(function(e){let t,s,a,c=[];let l={};const u=function(e,t){for(const n in t){if(n===e){return true}else{return false}}};for(let n=0;n<e.length;n++){t=e[n];if(t&&t.length>0&&t[0]!==undefined){const e={};let i;let p;for(let l=0;l<t.length;l++){c.push([]);let f=false;let d=false;for(let e=0;e<t[l][0].length;e++){s=t[l][0][e];a=s&&s.intent.split("?")[0].split("-")[1];if(!(s&&s.intent&&s.intent.indexOf(r)===0)){f=true;if(!u(a,o[n].unavailableActions)){c[l].push(s);d=true}}}i={semanticObject:o[n].semanticObject,path:o[n].path,HasTargets:d,HasTargetsNotFiltered:f};if(e[o[n].semanticObject]===undefined){e[o[n].semanticObject]={}}p=o[n].path.replace(/\//g,"_");if(e[o[n].semanticObject][p]===undefined){e[o[n].semanticObject][p]={}}e[o[n].semanticObject][p]=Object.assign(e[o[n].semanticObject][p],i)}const f=Object.keys(e)[0];if(Object.keys(l).includes(f)){l[f]=Object.assign(l[f],e[f])}else{l=Object.assign(l,e)}c=[]}}if(Object.keys(l).length>0){i.setProperty("semanticsTargets",n(l,i.getProperty("semanticsTargets")));return l}return}).catch(function(t){e.error("fnUpdateSemanticTargetsModel: Cannot read links",t)})}async function $e(e,t,n,o,i){return qe.getSemanticObjectsFromPath(n,o,i)}function Te(e,t,n,o,i){let r,s;let a,c;for(let l=0;l<o.length;l++){s=o[l];r=Object.keys(n.getObject(s+"@"));for(let o=0;o<r.length;o++){if(r[o].indexOf(`@${"com.sap.vocabularies.Common.v1.SemanticObject"}`)===0&&r[o].indexOf(`@${"com.sap.vocabularies.Common.v1.SemanticObjectMapping"}`)===-1&&r[o].indexOf(`@${"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"}`)===-1){c=/#(.*)/.exec(r[o]);a=c?c[1]:"";i.push(qe.getSemanticObjectPromise(e,t,n,s,a))}}}}function Ae(t,n){const o=function(e,t,n){if(!e){return n}if(e instanceof Array){e.forEach(e=>{n=n.concat(o(e,t,[]))});return n}if(e[t]){n.push(e[t])}if(typeof e=="object"&&e!==null){const i=Object.keys(e);if(i.length>0){for(let r=0;r<i.length;r++){n=n.concat(o(e[i[r]],t,[]))}}}return n};const i=function(e,t){return o(e,t,[])};const r=function(e){return e.filter(function(t,n){return e.indexOf(t)===n})};const s=t.getView();const a=s.getBindingContext("internal");if(a){const o=[];const c=t.getOwnerComponent();const l=u.getOwnerComponentFor(c);const p=l.getMetaModel();let f=c.getModel(n).getData();if(JSON.stringify(f)==="{}"){f=c.getModel(n)._getObject("/",undefined)}let d=i(f,"semanticObjectPath");d=r(d);const g=l.getShellServices();let m=g.getHash();const b=[];const O=[];let h;if(m&&m.indexOf("?")!==-1){m=m.split("?")[0]}Te(l,s,p,d,o);if(o.length===0){return Promise.resolve()}else{Promise.all(o).then(async function(e){const t=[];let n;const o=e.filter(function(e){if(e.semanticObject!==undefined&&e.semanticObject.semanticObject&&typeof e.semanticObject.semanticObject==="object"){n=$(C(e.semanticObject.semanticObject.$Path));e.semanticObject.semanticObject=n;e.semanticObjectForGetLinks[0].semanticObject=n;return true}else if(e){return e.semanticObject!==undefined}else{return false}});for(let e=0;e<o.length;e++){h=o[e];if(h&&h.semanticObject&&!(h.semanticObject.semanticObject.indexOf("{")===0)){b.push(h.semanticObjectForGetLinks);O.push({semanticObject:h.semanticObject.semanticObject,unavailableActions:h.unavailableActions,path:o[e].semanticObjectPath});t.push(g.getLinksWithCache([h.semanticObjectForGetLinks]))}}return qe.updateSemanticTargets(t,O,a,m)}).catch(function(t){e.error("fnGetSemanticTargetsFromTable: Cannot get Semantic Objects",t)})}}else{return Promise.resolve()}}function xe(e){const t={};if(e&&e.FilterExpressionRestrictions!==undefined){e.FilterExpressionRestrictions.forEach(function(e){if(e.Property&&e.AllowedExpressions!==undefined){if(t[e.Property.$PropertyPath]!==undefined){t[e.Property.$PropertyPath].push(e.AllowedExpressions)}else{t[e.Property.$PropertyPath]=[e.AllowedExpressions]}}})}return t}function Fe(e,t){let n=[];if(e&&e[t]){n=e[t].map(function(e){return e.$PropertyPath})}return n}function Ne(e,t,n){const o=t+"/";return e.reduce((e,t)=>{if(t.startsWith(o)){const n=t.replace(o,"");if(e.indexOf(n)===-1){e.push(n)}}return e},n)}function Me(e,o){const i={RequiredProperties:[],NonFilterableProperties:[],FilterAllowedExpressions:{}};let r;const a="$NavigationPropertyBinding";const c="@Org.OData.Capabilities.V1.FilterRestrictions";const l=e.replaceAll("%2F","/").split("/").filter(s.filterOutNavPropBinding);const u=`/${l.join("/")}/`;const p=s.getEntitySetPath(e,o);const f=p.split("/").filter(s.filterOutNavPropBinding);const d=o.getObject(`${u}$ContainsTarget`);const g=!!d&&l[l.length-1];if(!d){r=o.getObject(`${p}${c}`);i.RequiredProperties=Fe(r,"RequiredProperties")||[];const e=o.getObject(`${u}@com.sap.vocabularies.Common.v1.ResultContext`);if(!e){i.NonFilterableProperties=Fe(r,"NonFilterableProperties")||[]}i.FilterAllowedExpressions=xe(r)||{}}if(l.length>1){const e=d?g:f[f.length-1];const r=d?p:`/${f.slice(0,-1).join(`/${a}/`)}`;const s={RequiredProperties:[],NonFilterableProperties:[],FilterAllowedExpressions:{}};if(!e.includes("%2F")){const t=o.getObject(`${r}${c}`);i.RequiredProperties=Ne(Fe(t,"RequiredProperties")||[],e,i.RequiredProperties||[]);i.NonFilterableProperties=Ne(Fe(t,"NonFilterableProperties")||[],e,i.NonFilterableProperties||[]);const n=xe(t)||{};s.FilterAllowedExpressions=Object.keys(n).reduce((t,o)=>{if(o.startsWith(e+"/")){const i=o.replace(e+"/","");t[i]=n[o]}return t},{})}i.FilterAllowedExpressions=n({},i.FilterAllowedExpressions||{},s.FilterAllowedExpressions||{});const u=v.getNavigationRestrictions(o,r,e.replaceAll("%2F","/"));const m=u&&u["FilterRestrictions"];const b=Fe(m,"RequiredProperties")||[];i.RequiredProperties=t(i.RequiredProperties.concat(b));const O=Fe(m,"NonFilterableProperties")||[];i.NonFilterableProperties=t(i.NonFilterableProperties.concat(O));i.FilterAllowedExpressions=n({},i.FilterAllowedExpressions||{},xe(m)||{});const h=o.getObject(`/${l.join("/")}${c}`);const P=Fe(h,"RequiredProperties")||[];i.RequiredProperties=t(i.RequiredProperties.concat(P));const y=Fe(h,"NonFilterableProperties")||[];i.NonFilterableProperties=t(i.NonFilterableProperties.concat(y));i.FilterAllowedExpressions=n({},i.FilterAllowedExpressions,xe(h)||{})}return i}async function we(e,t,n,o){n=n||{};if(o){return o.templateControlFragment(e,t,n.view).then(function(e){return o.targets==="xmlTree"&&e.length>0?e[0]:e})}else{const o=await f.process(d.loadTemplate(e,"fragment"),{name:e},t);const i=o.firstElementChild;if(!!n.isXML&&i){return i}return p.load({id:n.id,definition:o,controller:n.controller})}}function Re(e,t){const n=e.split("/").filter(Boolean),o=n.pop(),i=n.join("/"),r=i&&t.getObject(`/${i}`);if((r===null||r===void 0?void 0:r.$kind)==="Singleton"){const e=n[n.length-1];return`/${e}/${o}`}return undefined}async function De(e,t){if(!e||!t){return Promise.resolve(null)}const n=t.getMetaModel();const o=Re(e,n);if(o){const e=t.bindProperty(o);return e.requestValue()}return Promise.resolve(null)}function ke(e,t){let n;if(e.indexOf("@$ui5.overload")>-1){n=e.split("@$ui5.overload")[0]}else{const t=e.split("/0")[0].split(".");n=`/${t[t.length-1]}/`}return n+t}function Le(e,t){const n=new h({anyText:e});t.addDependent(n);const o=n.getAnyText();t.removeDependent(n);n.destroy();return o}function Ie(){return!E.desktop||g.resize.width<=320}function Be(e,t,n){const o=e.data("entityType"),i=qe.getAppComponent(e).getMetaModel(),r={},s=[],a=[];let c="";let l=i.getObject(`${o}${t}`);if(n){l=l.SelectionVariant}if(l){c=l.Text;(l.SelectOptions||[]).filter(function(e){return e&&e.PropertyName&&e.PropertyName.$PropertyPath}).forEach(function(e){const t=e.PropertyName.$PropertyPath;if(!a.includes(t)){a.push(t)}for(const i in e.Ranges){var n,o;const s=e.Ranges[i];r[t]=(r[t]||[]).concat(new O(t,(n=s.Option)===null||n===void 0?void 0:(o=n.$EnumMember)===null||o===void 0?void 0:o.split("/").pop(),s.Low,s.High))}});for(const e in r){s.push(new O({filters:r[e],and:false}))}}return{properties:a,filters:s,text:c}}function Ve(e,t,i,r){const s=t.createBindingContext(e);return o===null||o===void 0?void 0:o.createConverterContextForMacro(i,s||t,r,n,undefined)}function _e(e,t){return e.replace("_fe_"+t+"_","")}function We(e){e.forEach(e=>{if(e.sPath&&e.sPath.includes("fe_groupable")){e.sPath=qe.getInternalChartNameFromPropertyNameAndKind(e.sPath,"groupable")}});return e}const qe={fireButtonPress:I,getTargetView:_,getCurrentPageView:V,hasTransientContext:x,updateRelatedAppsDetails:L,getAppComponent:B,getMandatoryFilterFields:G,getContextPathProperties:q,getParameterInfo:ae,updateDataFieldForIBNButtonsVisibility:H,getEntitySetName:Y,getActionPath:Q,computeDisplayMode:K,isStickyEditMode:Oe,getOperatorsForProperty:ie,getOperatorsForDateProperty:se,getOperatorsForGuidProperty:re,addSelectionVariantToConditions:de,addExternalStateFiltersToSelectionVariant:be,addPageContextToSelectionVariant:me,addDefaultDisplayCurrency:he,setUserDefaults:ve,getIBNActions:U,getHeaderFacetItemConfigForExternalNavigation:Se,getSemanticObjectMapping:ye,setSemanticObjectMappings:Ee,getSemanticObjectPromise:$e,getSemanticTargetsFromPageModel:Ae,getSemanticObjectsFromPath:je,updateSemanticTargets:Ce,waitForContextRequested:A,getFilterRestrictionsByPath:Me,getSpecificAllowedExpression:oe,getAdditionalParamsForCreate:Pe,requestSingletonProperty:De,templateControlFragment:we,FilterRestrictions:{REQUIRED_PROPERTIES:"RequiredProperties",NON_FILTERABLE_PROPERTIES:"NonFilterableProperties",ALLOWED_EXPRESSIONS:"FilterAllowedExpressions"},AllowedExpressionsPrio:["SingleValue","MultiValue","SingleRange","MultiRange","SearchExpression","MultiRangeOrSearchExpression"],normalizeSearchTerm:T,setContextsBasedOnOperationAvailable:Z,setDynamicActionContexts:ee,requestProperty:X,getParameterPath:ke,getRelatedAppsMenuItems:M,getTranslatedTextFromExpBindingString:Le,addSemanticDatesToConditions:le,addSelectOptionToConditions:ce,createSemanticDatesFromConditions:pe,updateRelateAppsModel:D,getSemanticObjectAnnotations:k,getFiltersInfoForSV:Be,getInternalChartNameFromPropertyNameAndKind:_e,getChartPropertiesWithoutPrefixes:We,isSmallDevice:Ie,getConverterContextForPath:Ve};return qe},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/ExtensionAPI", ["sap/base/Log","sap/fe/core/CommonUtils","sap/ui/base/Object","sap/ui/core/Component","sap/ui/model/json/JSONModel","./helpers/ClassSupport"],function(e,t,n,i,o,r){"use strict";var a,l,u,s,c,d,p,f,g;var v=r.property;var b=r.defineUI5Class;function h(e,t,n,i){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function w(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}function m(e,t){m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return m(e,t)}function y(e,t,n,i,o){var r={};Object.keys(i).forEach(function(e){r[e]=i[e]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},r);if(o&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(o):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(e,t,r);r=null}return r}function x(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let C=(a=b("sap.fe.core.ExtensionAPI"),l=v({type:"sap/fe/core/controllerextensions/EditFlow"}),u=v({type:"sap/fe/core/controllerextensions/Routing"}),s=v({type:"sap/fe/core/controllerextensions/IntentBasedNavigation"}),a(c=(d=function(n){_(r,n);function r(e,t){var i;i=n.call(this)||this;h(i,"editFlow",p,w(i));h(i,"routing",f,w(i));h(i,"intentBasedNavigation",g,w(i));i._controller=e;i._view=e.getView();i.extension=i._controller.extension;i.editFlow=i._controller.editFlow;i.routing=i._controller.routing;i._routing=i._controller._routing;i.intentBasedNavigation=i._controller.intentBasedNavigation;i._prefix=t;return i}var a=r.prototype;a.destroy=function e(){};a.getEditFlow=function e(){return this.editFlow};a.getRouting=function e(){return this.routing};a.getIntentBasedNavigation=function e(){return this.intentBasedNavigation};a.byId=function e(t){let n=this._view.byId(t);if(!n&&this._prefix){n=this._view.byId(`${this._prefix}--${t}`)}return n};a.getModel=function e(n){let i;if(n&&n!=="ui"){i=t.getAppComponent(this._view);if(!i.getManifestEntry("sap.ui5").models[n]){return undefined}}return this._view.getModel(n)};a.addDependent=function e(t){this._view.addDependent(t)};a.removeDependent=function e(t){this._view.removeDependent(t)};a.navigateToTarget=function e(t,n){this._controller._routing.navigateToTarget(n,t)};a.loadFragment=async function n(r){var a;const l=i.getOwnerComponentFor(this._view);const u=this._view.getModel("_pageModel");const s=(a=this.getModel())===null||a===void 0?void 0:a.getMetaModel();const c=l.getViewData();const d=new o(c),p={bindingContexts:{contextPath:s===null||s===void 0?void 0:s.createBindingContext(r.contextPath||`/${l.getEntitySet()}`),converterContext:u.createBindingContext("/",undefined,{noResolve:true}),viewData:c?d.createBindingContext("/"):null},models:{contextPath:s,converterContext:u,metaModel:s,viewData:d},appComponent:t.getAppComponent(this._view)};const f=t.templateControlFragment(r.name,p,{controller:r.controller||this,isXML:false,id:r.id});f.then(e=>{if(r.initialBindingContext!==undefined){e.setBindingContext(r.initialBindingContext)}this.addDependent(e);return e}).catch(function(t){e.error(t)});return f};a.updateAppState=async function e(){return this._controller.getAppComponent().getAppStateHandler().createAppState()};return r}(n),p=y(d.prototype,"editFlow",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),f=y(d.prototype,"routing",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),g=y(d.prototype,"intentBasedNavigation",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),d))||c);return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/PageController", ["sap/fe/core/BaseController","sap/fe/core/controllerextensions/EditFlow","sap/fe/core/controllerextensions/IntentBasedNavigation","sap/fe/core/controllerextensions/InternalIntentBasedNavigation","sap/fe/core/controllerextensions/InternalRouting","sap/fe/core/controllerextensions/MassEdit","sap/fe/core/controllerextensions/MessageHandler","sap/fe/core/controllerextensions/PageReady","sap/fe/core/controllerextensions/Paginator","sap/fe/core/controllerextensions/Placeholder","sap/fe/core/controllerextensions/Routing","sap/fe/core/controllerextensions/Share","sap/fe/core/controllerextensions/SideEffects","sap/fe/core/controllerextensions/ViewState","sap/fe/core/ExtensionAPI","sap/fe/core/helpers/ClassSupport","sap/ui/core/Component","sap/ui/core/mvc/OverrideExecution"],function(e,t,r,n,i,o,a,l,s,u,p,c,f,g,b,d,y,h){"use strict";var w,m,v,P,x,z,E,I,O,A,_,R,C,j,B,M,V,S,H,N,D,F,k,T,U,$,q,G,J,K,L,Q,W,X;var Y=d.usingExtension;var Z=d.publicExtension;var ee=d.extensible;var te=d.defineUI5Class;function re(e,t,r,n){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function ne(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function ie(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;oe(e,t)}function oe(e,t){oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return oe(e,t)}function ae(e,t,r,n,i){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o);if(i&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(i):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function le(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let se=(w=te("sap.fe.core.PageController"),m=Y(p),v=Y(i),P=Y(t),x=Y(r),z=Y(n),E=Y(l),I=Y(a),O=Y(c),A=Y(s),_=Y(g),R=Y(u),C=Y(f),j=Y(o),B=Z(),M=Z(),V=Z(),S=Z(),H=ee(h.After),w(N=(D=function(e){ie(t,e);function t(){var t;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}t=e.call(this,...n)||this;re(t,"routing",F,ne(t));re(t,"_routing",k,ne(t));re(t,"editFlow",T,ne(t));re(t,"intentBasedNavigation",U,ne(t));re(t,"_intentBasedNavigation",$,ne(t));re(t,"pageReady",q,ne(t));re(t,"messageHandler",G,ne(t));re(t,"share",J,ne(t));re(t,"paginator",K,ne(t));re(t,"viewState",L,ne(t));re(t,"placeholder",Q,ne(t));re(t,"_sideEffects",W,ne(t));re(t,"massEdit",X,ne(t));return t}var r=t.prototype;r.onInit=function e(){const t=this.getAppComponent().getModel("ui"),r=this.getAppComponent().getModel("internal"),n=`/pages/${this.getView().getId()}`;t.setProperty(n,{controls:{}});r.setProperty(n,{controls:{},collaboration:{}});this.getView().bindElement({path:n,model:"ui"});this.getView().bindElement({path:n,model:"internal"});this.getView().bindElement({path:n,model:"pageInternal"});this.getView().setModel(r,"pageInternal");this.getView().setModel(t,"ui");this.getView().setModel(r,"internal")};r.onBeforeRendering=function e(){if(this.placeholder.attachHideCallback){this.placeholder.attachHideCallback()}};r.getExtensionAPI=function e(){if(!this.extensionAPI){this.extensionAPI=new b(this)}return this.extensionAPI};r.onPageReady=function e(t){this.getAppComponent().getAppStateHandler().applyAppState()};r._getPageTitleInformation=function e(){return{}};r._getPageModel=function e(){const t=y.getOwnerComponentFor(this.getView());return t===null||t===void 0?void 0:t.getModel("_pageModel")};return t}(e),F=ae(D.prototype,"routing",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),k=ae(D.prototype,"_routing",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),T=ae(D.prototype,"editFlow",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),U=ae(D.prototype,"intentBasedNavigation",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),$=ae(D.prototype,"_intentBasedNavigation",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),q=ae(D.prototype,"pageReady",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),G=ae(D.prototype,"messageHandler",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),J=ae(D.prototype,"share",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),K=ae(D.prototype,"paginator",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),L=ae(D.prototype,"viewState",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),Q=ae(D.prototype,"placeholder",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),W=ae(D.prototype,"_sideEffects",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),X=ae(D.prototype,"massEdit",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),ae(D.prototype,"onInit",[B],Object.getOwnPropertyDescriptor(D.prototype,"onInit"),D.prototype),ae(D.prototype,"onBeforeRendering",[M],Object.getOwnPropertyDescriptor(D.prototype,"onBeforeRendering"),D.prototype),ae(D.prototype,"getExtensionAPI",[V],Object.getOwnPropertyDescriptor(D.prototype,"getExtensionAPI"),D.prototype),ae(D.prototype,"onPageReady",[S,H],Object.getOwnPropertyDescriptor(D.prototype,"onPageReady"),D.prototype),D))||N);return se},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/ResourceModel", ["sap/fe/core/helpers/ClassSupport","sap/ui/model/resource/ResourceModel"],function(e,t){"use strict";var o,s;var r=e.defineUI5Class;function u(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;n(e,t)}function n(e,t){n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return n(e,t)}let c=(o=r("sap.fe.core.ResourceModel"),o(s=function(e){u(t,e);function t(){return e.apply(this,arguments)||this}var o=t.prototype;o.getText=function e(t,o,s){let r=t;const u=this._oResourceBundle;if(s){const e=this.checkIfResourceKeyExists(`${r}|${s}`);r=e?`${r}|${s}`:r}return(u===null||u===void 0?void 0:u.getText(r,o,true))||t};o.checkIfResourceKeyExists=function e(t){return this._checkIfResourceKeyExists(t,this._oResourceBundle.aCustomBundles)};o._checkIfResourceKeyExists=function e(t,o){if(o!==null&&o!==void 0&&o.length){for(let e=o.length-1;e>=0;e--){const s=o[e].hasText(t);if(s){return true}this._checkIfResourceKeyExists(t,o[e].aCustomBundles)}}return false};return t}(t))||s);return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/TemplateComponent", ["sap/fe/core/CommonUtils","sap/fe/core/helpers/ClassSupport","sap/ui/core/UIComponent","sap/ui/mdc/p13n/StateUtil"],function(e,t,n,r){"use strict";var i,o,a,l,u,c,p,s,f,b,g,y,h,d,m,C,v,w,z,_,P,A,R,I,j,O,S,E,x,D,T;var k=t.property;var B=t.implementInterface;var U=t.event;var L=t.defineUI5Class;function V(e,t,n,r){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function F(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function M(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;N(e,t)}function N(e,t){N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return N(e,t)}function X(e,t,n,r,i){var o={};Object.keys(r).forEach(function(e){o[e]=r[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o);if(i&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(i):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function q(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let G=(i=L("sap.fe.core.TemplateComponent"),o=B("sap.ui.core.IAsyncContentCreation"),a=k({type:"string",defaultValue:null}),l=k({type:"string",defaultValue:null}),u=k({type:"string"}),c=k({type:"object"}),p=k({type:"string[]"}),s=k({type:"object"}),f=k({type:"object"}),b=k({type:"boolean"}),g=k({type:"object"}),y=k({type:"string"}),h=U(),d=U(),m=U(),i(C=(v=function(t){M(n,t);function n(){var e;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++){r[i]=arguments[i]}e=t.call(this,...r)||this;V(e,"__implements__sap_ui_core_IAsyncContentCreation",w,F(e));V(e,"entitySet",z,F(e));V(e,"contextPath",_,F(e));V(e,"bindingContextPattern",P,F(e));V(e,"navigation",A,F(e));V(e,"enhanceI18n",R,F(e));V(e,"controlConfiguration",I,F(e));V(e,"content",j,F(e));V(e,"allowDeepLinking",O,F(e));V(e,"refreshStrategyOnAppRestore",S,F(e));V(e,"viewType",E,F(e));V(e,"containerDefined",x,F(e));V(e,"heroesBatchReceived",D,F(e));V(e,"workersBatchReceived",T,F(e));return e}var i=n.prototype;i.setContainer=function e(n){t.prototype.setContainer.call(this,n);this.fireEvent("containerDefined",{container:n});return this};i.init=function n(){this.oAppComponent=e.getAppComponent(this);t.prototype.init.call(this);const i=function(e){const t=e.getParameter("control");if(t.isA("sap.ui.mdc.Table")||t.isA("sap.ui.mdc.FilterBar")||t.isA("sap.ui.mdc.Chart")){const e=t.getParent();if(e!==null&&e!==void 0&&e.fireStateChange){e.fireStateChange()}}};r.detachStateChange(i);r.attachStateChange(i)};i.getExtensionComponent=function e(){return this.oAppComponent};i.getRootController=function e(){const t=this.getRootControl();let n;if(t&&t.getController){n=t.getController()}return n};i.onPageReady=function e(t){const n=this.getRootController();if(n&&n.onPageReady){n.onPageReady(t)}};i.getNavigationConfiguration=function e(t){const n=this.navigation;return n[t]};i.getViewData=function e(){const t=this.getMetadata().getAllProperties();const n=Object.keys(t).reduce((e,n)=>{e[n]=t[n].get(this);return e},{});n.fclEnabled=this.oAppComponent._isFclEnabled();return n};i._getPageTitleInformation=function e(){const t=this.getRootControl();if(t&&t.getController()&&t.getController()._getPageTitleInformation){return t.getController()._getPageTitleInformation()}else{return{}}};i.getExtensionAPI=function e(){return this.getRootControl().getController().getExtensionAPI()};return n}(n),w=X(v.prototype,"__implements__sap_ui_core_IAsyncContentCreation",[o],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),z=X(v.prototype,"entitySet",[a],{configurable:true,enumerable:true,writable:true,initializer:function(){return null}}),_=X(v.prototype,"contextPath",[l],{configurable:true,enumerable:true,writable:true,initializer:function(){return null}}),P=X(v.prototype,"bindingContextPattern",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),A=X(v.prototype,"navigation",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),R=X(v.prototype,"enhanceI18n",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),I=X(v.prototype,"controlConfiguration",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),j=X(v.prototype,"content",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),O=X(v.prototype,"allowDeepLinking",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),S=X(v.prototype,"refreshStrategyOnAppRestore",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),E=X(v.prototype,"viewType",[y],{configurable:true,enumerable:true,writable:true,initializer:function(){return"XML"}}),x=X(v.prototype,"containerDefined",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),D=X(v.prototype,"heroesBatchReceived",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),T=X(v.prototype,"workersBatchReceived",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),v))||C);return G},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/TemplateModel", ["sap/fe/core/helpers/ClassSupport","sap/ui/base/Object","sap/ui/model/json/JSONModel"],function(e,t,o){"use strict";var n,i;var r=e.defineUI5Class;function a(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function d(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return f(e,t)}let s=(n=r("sap.fe.core.TemplateModel"),n(i=function(e){d(t,e);function t(t,n){var i;i=e.call(this)||this;i.oMetaModel=n;i.oConfigModel=new o;i.oConfigModel.setSizeLimit(Number.MAX_VALUE);i.bConfigLoaded=false;const r=a(i);if(typeof t==="function"){const e=i.oConfigModel._getObject.bind(i.oConfigModel);i.oConfigModel._getObject=function(o,n){if(!r.bConfigLoaded){this.setData(t())}return e(o,n)}}else{i.oConfigModel.setData(t)}i.fnCreateMetaBindingContext=i.oMetaModel.createBindingContext.bind(i.oMetaModel);i.fnCreateConfigBindingContext=i.oConfigModel.createBindingContext.bind(i.oConfigModel);i.fnSetData=i.oConfigModel.setData.bind(i.oConfigModel);i.oConfigModel.createBindingContext=i.createBindingContext.bind(a(i));i.oConfigModel.setData=i.setData.bind(a(i));return i.oConfigModel||a(i)}var n=t.prototype;n.setData=function e(t){this.fnSetData(t);this.bConfigLoaded=true};n.createBindingContext=function e(t,o,n,i){var r;let a;const d=n&&n.noResolve;a=this.fnCreateConfigBindingContext(t,o,n,i);const f=!d&&((r=a)===null||r===void 0?void 0:r.getObject());if(f&&typeof f==="string"){a=this.fnCreateMetaBindingContext(f,o,n,i)}return a};n.destroy=function e(){this.oConfigModel.destroy();o.prototype.destroy.apply(this)};return t}(t))||i);return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/AttributeModel", ["sap/base/Log","sap/base/util/ObjectPath","sap/ui/model/json/JSONModel"],function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;o(t,e)}function o(t,e){o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,n){e.__proto__=n;return e};return o(t,e)}let i=function(n){r(o,n);function o(t,e,r){var o;o=n.call(this)||this;o.oNode=t;o.oProps=e;o.BuildingBlockClass=r;o.$$valueAsPromise=true;return o}var i=o.prototype;i._getObject=function n(r,o){if(r===undefined||r===""){if(o!==undefined&&o.getPath()!=="/"){return this._getObject(o.getPath(r))}return this.oProps}if(r==="/undefinedValue"||r==="undefinedValue"){return undefined}const i=e.get(r.replace(/\//g,"."),this.oProps);if(i!==undefined){return i}if(this.oProps.hasOwnProperty(r)){return this.oProps[r]}if(r.indexOf(":")===-1&&r.indexOf("/")===-1){t.error(`Missing property ${r} on building block metadata ${this.BuildingBlockClass.name}`)}return this.oNode.getAttribute(r)};return o}(n);return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/BuildingBlockBase", ["sap/base/util/deepClone","sap/base/util/merge","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/ConverterContext","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper"],function(e,t,r,n,i,o){"use strict";var a={};var s=o.generate;var l=i.isUndefinedExpression;var u=r.xml;var c=r.unregisterBuildingBlock;var f=r.registerBuildingBlock;function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,v(n.key),n)}}function p(e,t,r){if(t)d(e.prototype,t);if(r)d(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function v(e){var t=g(e,"string");return typeof t==="symbol"?t:String(t)}function g(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}let m=function(){function r(r,i,o){var a;this.isPublic=false;this.getConverterContext=function(r,i,o,a){var s;const l=o.appComponent;const u=(s=o.models.viewData)===null||s===void 0?void 0:s.getData();let c=Object.assign({},u);delete c.resourceModel;delete c.appComponent;c=e(c);c.controlConfiguration=t(c.controlConfiguration,a||{});return n.createConverterContextForMacro(r.startingEntitySet.name,o.models.metaModel,l===null||l===void 0?void 0:l.getDiagnostics(),t,r.contextLocation,c)};Object.keys(r).forEach(e=>{this[e]=r[e]});this.resourceModel=o===null||o===void 0?void 0:(a=o.models)===null||a===void 0?void 0:a["sap.fe.i18n"]}a=r;var i=r.prototype;i.createId=function e(){if(this.id){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}return s([this.id,...r])}return undefined};i.getContentId=function e(t){return`${t}-content`};i.getTranslatedText=function e(t,r,n){var i;return((i=this.resourceModel)===null||i===void 0?void 0:i.getText(t,r,n))||t};i.getProperties=function e(){const t={};for(const e in this){if(this.hasOwnProperty(e)){t[e]=this[e]}}return t};r.register=function e(){f(this)};r.unregister=function e(){c(this)};i.addConditionally=function e(t,r){if(t){return r}else{return""}};i.attr=function e(t,r){if(r!==undefined&&!l(r)){return()=>u`${t}="${r}"`}else{return()=>""}};p(r,null,[{key:"metadata",get:function(){this.internalMetadata??={namespace:"",name:"",properties:{},aggregations:{},stereotype:"xmlmacro"};return this.internalMetadata}}]);return r}();m.isRuntime=false;a=m;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/BuildingBlockFormatter", [],function(){"use strict";return{base64Decode:e=>atob(e)}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/BuildingBlockSupport", [],function(){"use strict";var e={};function n(e){return function(n,t,i){const a=n.constructor.metadata;if(e.defaultValue===undefined){var r;e.defaultValue=(r=i.initializer)===null||r===void 0?void 0:r.call(i)}delete i.initializer;if(a.properties[t.toString()]===undefined){a.properties[t.toString()]=e}return i}}e.blockAttribute=n;function t(){return n({type:"function"})}e.blockEvent=t;function i(e){return function(n,t,i){const a=n.constructor.metadata;delete i.initializer;if(a.aggregations[t]===undefined){a.aggregations[t]=e}if(e.isDefault===true){a.defaultAggregation=t}return i}}e.blockAggregation=i;function a(e){return function(n){const t=n.metadata;t.namespace=e.namespace;t.publicNamespace=e.publicNamespace;t.name=e.name;t.xmlTag=e.xmlTag;t.fragment=e.fragment;t.designtime=e.designtime;t.isOpen=e.isOpen}}e.defineBuildingBlock=a;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/uid","sap/fe/core/buildingBlocks/AttributeModel","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/ui/base/BindingParser","sap/ui/core/util/XMLPreprocessor","sap/ui/model/json/JSONModel","./TraceInfo"],function(e,t,n,o,i,s,a,r,l,c,d){"use strict";var u={};var f=a.isFunctionArray;var p=a.isContext;var m=s.isBindingToolkitExpression;var g=s.compileExpression;var h=i.Placement;const b="sap.fe.core.buildingBlocks.BuildingBlockTemplateProcessor";const x="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1";const y=new DOMParser;function v(e,t,n,o){const i=t[o];const s=i===null||i===void 0?void 0:i.getObject();if(n.required===true&&(!i||s===null)){throw new Error(`${e}: Required metadataContext '${o}' is missing`)}else if(s){if(s.hasOwnProperty("$kind")&&s.$kind!==undefined&&n.expectedTypes!==undefined){if(n.expectedTypes.indexOf(s.$kind)===-1){throw new Error(`${e}: '${o}' must be '$kind' '${n.expectedTypes}' but is '${s.$kind}': ${i.getPath()}`)}}else if(s.hasOwnProperty("$Type")&&s.$Type!==undefined&&n.expectedAnnotationTypes){if(n.expectedAnnotationTypes.indexOf(s.$Type)===-1){throw new Error(`${e}: '${o}' must be '$Type' '${n.expectedAnnotationTypes}' but is '${s.$Type}': ${i.getPath()}`)}}}}function C(t,n,o,i){const s=n.metadataContexts&&Object.keys(n.metadataContexts)||[],a=n.properties&&Object.keys(n.properties)||[],r={};const l=i.getAttributeNames();for(const e of l){r[e]=true}s.forEach(function(e){const i=n.metadataContexts[e];v(t,o,i,e);delete r[e]});a.forEach(function(e){const o=n.properties[e];if(!i.hasAttribute(e)){if(o.required&&!o.hasOwnProperty("defaultValue")){throw new Error(`${t}: `+`Required property '${e}' is missing`)}}else{delete r[e]}});Object.keys(r).forEach(function(n){if(n.indexOf(":")<0&&!n.startsWith("xmlns")){e.warning(`Unchecked parameter: ${t}: ${n}`,undefined,b)}})}u.validateMacroSignature=C;const $="sap.ui.core.Element";const w="sap.ui.model.Context";u.SAP_UI_MODEL_CONTEXT=w;function P(e){const t={};const n={dependents:{type:$,slot:"dependents"},customData:{type:$,slot:"customData"},layoutData:{type:$,slot:"layoutData"},...e.aggregations};const o={};for(const n of Object.keys(e.properties)){const i=e.properties[n].type;if(i!==w){t[n]=e.properties[n]}if([w,"object","array"].includes(i)){o[n]=e.properties[n]}}return{...e,properties:t,metadataContexts:o,aggregations:n}}function A(e,t){let n;if(t&&t.startsWith("/")){n=t}else{let o=e.currentContextPath.getPath();if(!o.endsWith("/")){o+="/"}n=o+t}return{model:"metaModel",path:n}}function k(e,t,n){let o;if(n.startsWith("/uid--")&&!e.models.converterContext.getProperty(n)){const t=_(n);e.models.converterContext.setProperty(n,t);o={model:"converterContext",path:n}}else if(t==="metaPath"&&e.currentContextPath||t==="contextPath"){o=A(e,n)}else if(n&&n.startsWith("/")){o={model:"metaModel",path:n}}else{o={model:"metaModel",path:e.bindingContexts.entitySet?e.bindingContexts.entitySet.getPath(n):n}}return o}function O(e,t,n,o,i,s){let a;if(!i&&t.hasAttribute(n)){const o=t.getAttribute(n);a=r.complexParser(o);if(!a){a=k(e,n,o)}}else if(e.bindingContexts.hasOwnProperty(n)){a={model:n,path:""}}else if(s){try{if(o.getContext(`${n}>`)){a={model:n,path:""}}}catch(e){return undefined}}return a}async function E(n,o,i,s){const a=n.properties;const r=Object.keys(a);const l={};for(const n of r){if(a[n].type==="object"){l[n]=a[n].defaultValue&&t(a[n].defaultValue)}else{l[n]=a[n].defaultValue}if(o.hasAttribute(n)&&i&&a[n].isPublic===false){e.error(`Property ${n} was ignored as it is not intended for public usage`)}else if(o.hasAttribute(n)){await s.visitAttribute(o,o.attributes.getNamedItem(n));let e=o.getAttribute(n);if(e!==undefined&&e!==null){if(typeof e==="string"&&!e.startsWith("{")){switch(a[n].type){case"boolean":e=e==="true";break;case"number":e=Number(e);break}}e=e===null?undefined:e;l[n]=e}}}return l}function T(e,t,n,o,i,s,a){t.currentContextPath=t.bindingContexts.contextPath;const r={};const l=e.metadataContexts;const c=Object.keys(l);const d=c.indexOf("contextPath");if(d!==-1){const e=c.splice(d,1);c.splice(0,0,e[0])}for(const d of c){const c=a[d];if(c!==undefined&&typeof c==="object"&&Object.keys(c).length>0){delete e.metadataContexts[d];continue}const u=o&&l[d].isPublic===false&&n.hasAttribute(d);const f=O(t,n,d,i,u,e.isOpen??false);if(f){f.name=d;M(s,i,f);if((d==="entitySet"||d==="contextPath")&&!t.bindingContexts.hasOwnProperty(d)){t.bindingContexts[d]=s[d]}if(d==="contextPath"){t.currentContextPath=s[d]}if(s[d]!==undefined){a[d]=s[d]}else if(typeof a[d]==="string"){delete e.metadataContexts[d]}}else{r[d]=true}}return r}function N(t,n){const o={};if(t&&t.children.length>0){const i=t.children;for(let t=0;t<i.length;t++){const s=i[t];let a=s.getAttribute("key")||s.getAttribute("id");if(a){a=`InlineXML_${a}`;s.setAttribute("key",a);let e={key:a,position:{placement:s.getAttribute("placement")||h.After,anchor:s.getAttribute("anchor")||undefined},type:"Slot"};if(n){e=n(s,e)}o[e.key]=e}else if(s.tagName!=="slot"){e.error(`The aggregation ${s.nodeName} is missing a Key attribute. It is not displayed`)}}}return o}async function j(e,t,n,o,i){const s={};if(e.firstElementChild!==null){let a=e.firstElementChild;while(a!==null){if(a.namespaceURI===x){const e=a.parentNode;if(e){const n=Array.from(e.children).indexOf(a);await t.visitNode(a);a=e.children[n]?e.children[n]:null}else{a=a.nextElementSibling}}else{const e=a.localName;let t=e;if(t[0].toUpperCase()===t[0]){t=n.defaultAggregation||""}const o=n.aggregations[t];if(o!==undefined&&!o.slot){const e=N(a,o.processAggregations);i[t]=e;for(const t in e){n.aggregations[t]=e[t]}}a=a.nextElementSibling}}a=e.firstElementChild;while(a!==null){const r=a.nextElementSibling;const l=a.localName;let c=l;if(c[0].toUpperCase()===c[0]){c=n.defaultAggregation||""}if(Object.keys(n.aggregations).indexOf(c)!==-1&&(!o||n.aggregations[c].isPublic===true)){const o=n.aggregations[c];if(!o.slot&&a!==null&&a.children.length>0){await t.visitNode(a);let n=a.firstElementChild;while(n){const t=n.nextElementSibling;if(!o.hasVirtualNode){const t=document.createElementNS(e.namespaceURI,n.getAttribute("key"));t.appendChild(n);s[n.getAttribute("key")]=t}else{s[n.getAttribute("key")]=n}n.removeAttribute("key");n=t}}else if(o.slot){await t.visitNode(a);if(c!==l){if(!s[c]){const t=document.createElementNS(e.namespaceURI,c);s[c]=t}s[c].appendChild(a)}else{s[c]=a}}}else if(Object.keys(n.properties).indexOf(c)!==-1){await t.visitNode(a);if(n.properties[c].type==="object"){const e={};const t=a.getAttributeNames();for(const n of t){e[n]=a.getAttribute(n)}if(a.children.length){for(let t=0;t<a.children.length;t++){const n=a.children[t];const o=n.localName;const i={};const s=n.getAttributeNames();for(const e of s){i[e]=n.getAttribute(e)}e[o]=i}}i[c]=e}else if(n.properties[c].type==="array"){if(a!==null&&a.children.length>0){const e=a.children;const t=[];for(let n=0;n<e.length;n++){const o=e[n];const i={};const s=o.getAttributeNames();for(const e of s){i[e]=o.getAttribute(e)}t.push(i)}i[c]=t}}}a=r}}return s}function B(e,t,n){let o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(Object.keys(e).length>0){Object.keys(e).forEach(function(i){const s=e[i];if(n!==null&&n!==undefined&&s){const e=s.firstElementChild;if(!["dependents","customData","layoutData"].includes(i)){const o=t[i]!==undefined&&t[i].slot||i;const s=n.querySelector(`slot[name='${o}']`);if(s!==null){const t=S(n,i,e);s.replaceWith(...t.children)}}else if(o&&e!==null){const t=S(n,i,e);n.appendChild(t)}}})}}function S(e,t,n){const o=document.createElementNS(e.namespaceURI,t.replace(/:/gi,"_"));while(n){const e=n.nextElementSibling;o.appendChild(n);n=e}return o}async function I(t,n,i){let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const a=P(t.metadata);const r=a.fragment??`${a.namespace??a.publicNamespace}.${a.xmlTag??a.name}`;const l={};const u=i.getSettings();u.models.converterContext??=new c;if(!u[r]){u[r]={}}const f=await E(a,n,s,i);const m=Object.keys(f);const g=T(a,u,n,s,i,l,f);try{const c=await j(n,i,a,s,f);let m={};if(u.models.viewData){m=u.models.viewData.getProperty("/controlConfiguration")}let g=f;Object.keys(f).forEach(e=>{var n,o,i;let s=f[e];const a=t===null||t===void 0?void 0:(n=t.metadata)===null||n===void 0?void 0:n.properties[e];if(a!==null&&a!==void 0&&a.validate){s=a.validate(s)||s}if((o=s)!==null&&o!==void 0&&(i=o.isA)!==null&&i!==void 0&&i.call(o,w)&&!s.getModel().isA("sap.ui.model.odata.v4.ODataMetaModel")){f[e]=s.getObject()}});f.isPublic=s;const h=new t({...f,...c},m,u);g=h.getProperties();Object.keys(a.metadataContexts).forEach(function(e){if(g.hasOwnProperty(e)){const t=g[e];if(p(t)){l[e]=t}else if(typeof t==="object"){const n=F(t);u.models.converterContext.setProperty(n,t);const o=u.models.converterContext.createBindingContext(n);_(n);l[e]=o}}});const b=new o(n,g,t);l["this"]=b.createBindingContext("/");let x;if(d.isTraceInfoActive()){const e=d.traceMacroCalls(r,a,l,n,i);if(e!==null&&e!==void 0&&e.macroInfo){x=u["_macroInfo"];u["_macroInfo"]=e.macroInfo}}C(r,a,l,n);const y=i.with(l,a.isOpen!==undefined?!a.isOpen:true);const v=n.parentNode;let $;let P;if(v){$=Array.from(v.children).indexOf(n);if(a.fragment){P=y.insertFragment(r,n)}else{const o=await h.getTemplate(n);if(t.isRuntime){for(const e in V){const t=_(e);u.models.converterContext.setProperty(e,t)}}let i="";if(o){let t=false;let s=U(o,true);for(const e of s){const n=document.createNodeIterator(e,NodeFilter.SHOW_TEXT);let o=n.nextNode();if(e.localName==="parsererror"){t=true}while(o){if(o.textContent&&o.textContent.trim().length>0){i=o.textContent}o=n.nextNode()}}if(t){e.error(`Error while processing building block ${a.xmlTag||a.name}`);s=await R(async()=>{var e;const t=await((e=h.getTemplate)===null||e===void 0?void 0:e.call(h,n));return U(t??"",true)})}else if(i.length>0){e.error(`Error while processing building block ${a.xmlTag||a.name}`);const t=L([`Error while processing building block ${a.xmlTag||a.name}`,`Trailing text was found in the XML: ${i}`],s.map(e=>e.outerHTML).join("\n"));s=U(t,true)}n.replaceWith(...s);const r=s.map(async e=>{B(c,a.aggregations,e,false);return y.visitNode(e)});P=Promise.all(r)}else{n.remove();P=Promise.resolve()}}await P;const o=v.children[$];B(c,a.aggregations,o,true);if(o!==undefined){const e=o.querySelectorAll("slot");e.forEach(function(e){e.remove()})}}if(x){u["_macroInfo"]=x}else{delete u["_macroInfo"]}}catch(t){const o={initialProperties:{},resolvedProperties:{},missingContexts:g};for(const e of m){const t=f[e];if(p(t)){o.initialProperties[e]={path:t.getPath(),value:t.getObject()}}else{o.initialProperties[e]=t}}for(const e in f){const t=f[e];if(!m.includes(e)){if(p(t)){o.resolvedProperties[e]={path:t.getPath(),value:t.getObject()}}else{o.resolvedProperties[e]=t}}}e.error(t);const i=L([`Error while processing building block ${a.name}`],n.outerHTML,o,t.stack);const s=U(i,true);n.replaceWith(...s)}}function M(e,t,n){const o=n.name||n.model||undefined;if(e[o]){return}try{let i=n.path;if(n.model!==null){i=`${n.model}>${i}`}const s=t.getSettings();if(n.model==="converterContext"&&n.path.length>0){e[o]=s.models[n.model].getContext(n.path)}else if(!s.bindingContexts[n.model]&&s.models[n.model]){e[o]=s.models[n.model].getContext(n.path)}else{e[o]=t.getContext(i)}}catch(e){}}function D(e){if(e.metadata.namespace!==undefined){l.plugIn(async(t,n)=>I(e,t,n),e.metadata.namespace,e.metadata.xmlTag||e.metadata.name)}if(e.metadata.publicNamespace!==undefined){l.plugIn(async(t,n)=>I(e,t,n,true),e.metadata.publicNamespace,e.metadata.xmlTag||e.metadata.name)}}u.registerBuildingBlock=D;function W(e){if(e.metadata.namespace!==undefined){l.plugIn(null,e.metadata.namespace,e.metadata.xmlTag||e.metadata.name)}if(e.metadata.publicNamespace!==undefined){l.plugIn(null,e.metadata.publicNamespace,e.metadata.xmlTag||e.metadata.name)}}u.unregisterBuildingBlock=W;function L(e,t,n,o){const i=e.map(e=>G`<m:Label text="${X(e)}"/>`);let s="";if(o){const e=btoa(`<pre>${o}</pre>`);s=G`<m:FormattedText htmlText="${`{= BBF.base64Decode('${e}') }`}" />`}let a="";if(n){a=G`<m:VBox>
						<m:Label text="Trace Info"/>
						<code:CodeEditor type="json"  value="${`{= BBF.base64Decode('${btoa(JSON.stringify(n,null,4))}') }`}" height="300px" />
					</m:VBox>`}return G`<controls:FormElementWrapper xmlns:controls="sap.fe.core.controls">
					<m:VBox xmlns:m="sap.m" xmlns:code="sap.ui.codeeditor" core:require="{BBF:'sap/fe/core/buildingBlocks/BuildingBlockFormatter'}">
					${i}
					${s}
						<grid:CSSGrid gridTemplateRows="fr" gridTemplateColumns="repeat(2,1fr)" gridGap="1rem" xmlns:grid="sap.ui.layout.cssgrid" >
							<m:VBox>
								<m:Label text="How the building block was called"/>
								<code:CodeEditor type="xml" value="${`{= BBF.base64Decode('${btoa(t.replaceAll("&gt;",">"))}') }`}" height="300px" />
							</m:VBox>
							${a}
						</grid:CSSGrid>
					</m:VBox>
				</controls:FormElementWrapper>`}const V={};function F(e){const t=`/uid--${n()}`;V[t]=e;return t}function _(e){const t=V[e];delete V[e];return t}let q=false;const R=function(e){q=true;let t;try{t=e()}finally{q=false}return t};function U(e){var t,n;let o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(o){e=`<template\n\t\t\t\t\t\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\t\t\t\t\t\txmlns:m="sap.m"\n\t\t\t\t\t\txmlns:macros="sap.fe.macros"\n\t\t\t\t\t\txmlns:core="sap.ui.core"\n\t\t\t\t\t\txmlns:mdc="sap.ui.mdc"\n\t\t\t\t\t\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">${e}</template>`}const i=y.parseFromString(e,"text/xml");let s=i.firstElementChild;while(((a=s)===null||a===void 0?void 0:a.localName)==="template"){var a;s=s.firstElementChild}const r=(t=s)!==null&&t!==void 0&&t.parentElement?(n=s)===null||n===void 0?void 0:n.parentElement.children:[s];return Array.from(r)}u.parseXMLString=U;function X(e){return e===null||e===void 0?void 0:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}u.escapeXMLAttributeValue=X;function H(e){var t;const n=U(e,true);if((n===null||n===void 0?void 0:n.length)>0&&((t=n[0])===null||t===void 0?void 0:t.localName)==="parsererror"){const t=n[0].innerText||n[0].innerHTML;return L([t.split("\n")[0]],e)}else{return e}}const G=function(e){let t="";let n;for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++){i[s-1]=arguments[s]}for(n=0;n<i.length;n++){t+=e[n];const o=i[n];if(Array.isArray(o)&&o.length>0&&typeof o[0]==="string"){t+=o.flat(5).join("\n").trim()}else if(f(o)){t+=o.map(e=>e()).join("\n")}else if(m(o)){const e=g(o);t+=X(e)}else if(typeof o==="undefined"){t+="{this>undefinedValue}"}else if(typeof o==="function"){t+=o()}else if(typeof o==="object"&&o!==null){if(p(o)){t+=o.getPath()}else{const e=F(o);t+=`${e}`}}else if(o&&typeof o==="string"&&!o.startsWith("<")&&!o.startsWith("&lt;")){t+=X(o)}else{t+=o}}t+=e[n];t=t.trim();if(q){return H(t)}return t};u.xml=G;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/RuntimeBuildingBlock", ["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/buildingBlocks/RuntimeBuildingBlockFragment","sap/fe/core/helpers/TypeGuards"],function(e,t,n,i){"use strict";var o={};var r=i.isContext;var s=n.storeRuntimeBlock;var u=t.xml;var c=t.registerBuildingBlock;function p(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}function l(e,t){l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return l(e,t)}let f=function(e){p(t,e);function t(){return e.apply(this,arguments)||this}o=t;t.register=function e(){c(this);s(this)};var n=t.prototype;n.getTemplate=function e(t){const n=this.constructor.metadata;const i=`${n.namespace??n.publicNamespace}.${n.name}`;const o=[];const s=[];const c=[];const p=[];for(const e in n.properties){let t=this[e];if(t!==undefined&&t!==null){if(r(t)){t=t.getPath()}if(n.properties[e].type==="function"){s.push(t);p.push(t);c.push(e)}else{o.push(u`feBB:${e}="${t}"`)}}}if(s.length>0){o.push(u`functionHolder="${s.join(";")}"`);o.push(u`feBB:functionStringInOrder="${p.join(",")}"`);o.push(u`feBB:propertiesAssignedToFunction="${c.join(",")}"`)}const l=(t===null||t===void 0?void 0:t.getAttribute("core:require"))||undefined;if(l){o.push(u`core:require="${l}"`)}return u`<feBB:RuntimeBuildingBlockFragment
					xmlns:core="sap.ui.core"
					xmlns:feBB="sap.fe.core.buildingBlocks"
					fragmentName="${i}"

					id="{this>id}"
					type="FE_COMPONENTS"
					${o}
				>
				</feBB:RuntimeBuildingBlockFragment>`};return t}(e);f.isRuntime=true;o=f;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/RuntimeBuildingBlockFragment", ["sap/fe/core/CommonUtils","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ClassSupport","sap/fe/core/jsx-runtime/jsx","sap/ui/base/ManagedObject","sap/ui/core/Component","sap/ui/core/Fragment"],function(e,n,t,i,r,o,a){"use strict";var l,s,c,u,d;var f={};var p=t.event;var g=t.defineUI5Class;var v=n.resolveBindingString;function b(e,n,t,i){if(!t)return;Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(e,n){e.prototype=Object.create(n.prototype);e.prototype.constructor=e;y(e,n)}function y(e,n){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(n,t){n.__proto__=t;return n};return y(e,n)}function w(e,n,t,i,r){var o={};Object.keys(i).forEach(function(e){o[e]=i[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=t.slice().reverse().reduce(function(t,i){return i(e,n,t)||t},o);if(r&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(r):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,n,o);o=null}return o}function O(e,n){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let C=(l=g("sap.fe.core.buildingBlocks.RuntimeBuildingBlockFragment"),s=p(),l(c=(u=function(e){h(n,e);function n(){var n;for(var t=arguments.length,i=new Array(t),r=0;r<t;r++){i[r]=arguments[r]}n=e.call(this,...i)||this;b(n,"functionHolder",d,m(n));return n}f=n;return n}(a),d=w(u.prototype,"functionHolder",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||c);f=C;const j={};function k(e){j[`${e.metadata.namespace??e.metadata.publicNamespace}.${e.metadata.name}`]=e}f.storeRuntimeBlock=k;C.registerType("FE_COMPONENTS",{load:async function(e){return Promise.resolve(j[e.fragmentName])},init:function(n){var t,a,l,s,c,u,d,f,p,g;let b=n.fragmentContent;if(b===undefined){b=j[n.fragmentName]}if(b===undefined){throw new Error(`No building block class for runtime building block ${n.fragmentName} found`)}const m={};const h=((t=n.customData)===null||t===void 0?void 0:(a=t[0])===null||a===void 0?void 0:(l=a.mProperties)===null||l===void 0?void 0:(s=l.value)===null||s===void 0?void 0:s["sap.fe.core.buildingBlocks"])||{};delete n.customData;const y=n.functionHolder??[];delete n.functionHolder;const w=((c=(u=n.containingView).getController)===null||c===void 0?void 0:(d=(f=c.call(u)).getView)===null||d===void 0?void 0:d.call(f))??n.containingView;const O=o.getOwnerComponentFor(w);const C=e.getAppComponent(w);const k=C.getMetaModel();const _=O.getModel("_pageModel");const z=(p=h.functionStringInOrder)===null||p===void 0?void 0:p.split(",");const B=(g=h.propertiesAssignedToFunction)===null||g===void 0?void 0:g.split(",");for(const e in b.metadata.properties){const n=b.metadata.properties[e];const t=_.createBindingContext(h[e]);if(t===null){let t=h[e];if(typeof t==="string"){if(n.bindable!==true){switch(n.type){case"boolean":t=t==="true";break;case"number":t=Number(t);break}}else{t=v(t,n.type)}}else if(n.type==="function"){const n=B.indexOf(e);const i=z[n];const r=y===null||y===void 0?void 0:y.find(e=>{var n;return((n=e[0])===null||n===void 0?void 0:n._sapui_handlerName)===i});if(r&&r.length>1){t=r[0].bind(r[1])}}m[e]=t}else if(t.getObject()!==undefined){m[e]=t.getObject()}else{m[e]=k.createBindingContext(h[e])}}return r.runWithPreprocessors(()=>{const e=i.withContext({view:w,appComponent:C},()=>{var e,n;const t={models:{"sap.fe.i18n":w.getModel("sap.fe.i18n")}};return(e=(n=new b(m,{},t)).getContent)===null||e===void 0?void 0:e.call(n,w,C)});if(!this._bAsync){this._aContent=e}return e},{id:function(e){return w.createId(e)},settings:function(e){const t=this.getMetadata().getAssociations();for(const i of Object.keys(t)){if(e[i]!==undefined){const t=Array.isArray(e[i])?e[i]:[e[i]];e[i]=t.map(e=>typeof e==="string"?n.containingView.createId(e):e)}}return e}})}});return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/TraceInfo", ["sap/base/Log","sap/ui/base/ManagedObject","sap/ui/core/util/XMLPreprocessor"],function(t,e,n){"use strict";var r=e.bindingParser;const i=[];const o="http://schemas.sap.com/sapui5/extension/sap.fe.info/1",a="http://www.w3.org/2000/xmlns/",s=location.search.indexOf("sap-ui-xx-feTraceInfo=true")>-1,c=["sap.m","sap.uxap","sap.ui.unified","sap.f","sap.ui.table","sap.suite.ui.microchart","sap.ui.layout.form","sap.ui.mdc","sap.ui.mdc.link","sap.ui.mdc.field","sap.fe.fpm"],u={};function f(t){return JSON.parse(JSON.stringify(t))}async function l(t,e,n,i){let o;const a=[];try{o=r(t,undefined,false,true)||[]}catch(t){o=[]}o=Array.isArray(o)?o:[o];o.filter(function(t){return t.path||t.parts}).forEach(function(t){const r=t.parts||[t];r.filter(function(t){return t.path}).forEach(function(t){const r=e[t.model]=e[t.model]||{};const o=t.path.indexOf(">")<0?(t.model&&`${t.model}>`)+t.path:t.path;let s;let c;if(typeof t.model==="undefined"&&o.indexOf(">")>-1){c=o.split(">");t.model=c[0];t.path=c[1]}try{s=n.getContext(o);const e=n.getResult(`{${o}}`,i);a.push(e.then(function(e){var n;if(((n=s)===null||n===void 0?void 0:n.getModel().getMetadata().getName())==="sap.ui.model.json.JSONModel"){if(!e.getModel()){r[t.path]=e}else{r[t.path]=`Context from ${e.getPath()}`}}else{r[t.path]={path:s.getPath(),data:typeof e==="object"?"[ctrl/cmd-click] on path to see data":e}}return}).catch(function(){r[t.path]={bindingFor:"Runtime"}}))}catch(e){r[t.path]={bindingFor:"Runtime"}}})});return Promise.all(a)}async function p(t,e,n,r){return t.then(function(t){e[n]=r!==t?{originalValue:r,resolvedValue:t}:r;return}).catch(function(t){const i=t;e[n]={originalValue:r,error:i.stack&&i.stack.toString()||t}})}async function h(t,e){const n={};const r=[];const i={};let o;for(let a=t.attributes.length>>>0;a--;){const s=t.attributes[a],c=s.nodeName,u=t.getAttribute(c);if(!["core:require"].includes(c)){r.push(l(u,i,e,t));o=e.getResult(u,t);if(o){r.push(p(o,n,c,u))}else{}}}return Promise.all(r).then(function(){return{properties:n,contexts:i}})}async function d(e,n){try{const t=e.nodeName.split(":")[1]||e.nodeName,r=/^[A-Z]/.test(t),s={isError:false,control:`${e.namespaceURI}.${e.nodeName.split(":")[1]||e.nodeName}`,metaDataContexts:[],properties:{}};if(r){const t=[...e.ownerDocument.children].find(t=>!t.nodeName.startsWith("#"));if(t&&!t.getAttribute("xmlns:trace")){t.setAttributeNS(a,"xmlns:trace",o);t.setAttributeNS(o,"trace:is","on")}return await h(e,n).then(async function(t){const r=Object.keys(t.contexts).length>0;if(r){Object.assign(s,t);s.viewInfo=n.getViewInfo();s.macroInfo=n.getSettings()["_macroInfo"];s.traceID=i.length;e.setAttributeNS(o,"trace:traceID",s.traceID.toString());i.push(s)}return n.visitAttributes(e)}).then(async function(){return n.visitChildNodes(e)}).catch(function(t){s.error={exception:t,node:(new XMLSerializer).serializeToString(e)}})}else{await n.visitAttributes(e);await n.visitChildNodes(e)}}catch(r){t.error(`Error while tracing '${e===null||e===void 0?void 0:e.nodeName}': ${r.message}`,"TraceInfo");return n.visitAttributes(e).then(async function(){return n.visitChildNodes(e)})}}if(s){c.forEach(function(t){u[t]=n.plugIn(d.bind(t),t)})}function m(t,e,n,r,s){try{let c=e.metadataContexts&&Object.keys(e.metadataContexts)||[];const u=e.properties&&Object.keys(e.properties)||[];const l=f(s.getSettings()["_macroInfo"]||{});const p={isError:false,macro:t,metaDataContexts:[],properties:{}};if(c.length===0){c=Object.keys(n).filter(function(t){return t!=="this"})}if(!r.getAttribute("xmlns:trace")){r.setAttributeNS(a,"xmlns:trace",o)}if(c.length>0){c.forEach(function(t){const e=n[t],r=e&&{name:t,path:e.getPath()};if(r){p.metaDataContexts.push(r)}});u.forEach(function(t){const e=n.this.getObject(t);if(e){p.properties[t]=e}});p.viewInfo=s.getViewInfo();p.traceID=i.length;l.parentMacroID=l.macroID;l.macroID=p.traceID.toString();p.macroInfo=l;r.setAttributeNS(o,"trace:macroID",p.traceID.toString());i.push(p);return p}}catch(e){var c;return{isError:true,error:e,name:t,node:(new XMLSerializer).serializeToString(r),contextPath:s===null||s===void 0?void 0:(c=s.getContext())===null||c===void 0?void 0:c.getPath()}}}function g(t){if(t){return i[t]}const e=i.filter(function(t){return t.error});return e.length>0&&e||i}function b(){return s}return{isTraceInfoActive:b,traceMacroCalls:m,getTraceInfo:g}},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/BusyLocker", ["sap/base/Log"],function(e){"use strict";const n=30,t={},u={getId:function(){return"BusyLocker.ReferenceDummy"},setBusy:function(n){e.info(`setBusy(${n}) triggered on dummy reference`)}};function o(e,n){return e.getId()+(n||"/busy")}function r(e,n){return o(e,n)in t}function c(n,r){if(!n||!n.getId){e.warning("No reference for BusyLocker, using dummy reference");n=u}r=r||"/busy";const c=o(n,r);if(!(c in t)){t[c]={id:c,path:r,reference:n,count:0}}return t[c]}function i(e){delete t[e.id]}function s(t){const u=t.reference.isA&&t.reference.isA("sap.ui.model.Model"),o=t.count!==0;if(u){t.reference.setProperty(t.path,o,undefined,true)}else if(t.reference.setBusy){t.reference.setBusy(o)}clearTimeout(t.timeout);if(o){t.timeout=setTimeout(function(){e.error(`busy lock for ${t.id} with value ${t.count} timed out after ${n} seconds!`)},n*1e3)}else{i(t)}return o}function f(n,t){if(t===0){n.count=0;e.info(`busy lock count '${n.id}' was reset to 0`)}else{n.count+=t;e.info(`busy lock count '${n.id}' is ${n.count}`)}}const d={lock:function(e,n){return this._updateLock(e,n,1)},unlock:function(e,n){return this._updateLock(e,n,-1)},isLocked:function(e,n){return r(e,n)},_updateLock:function(e,n,t){const u=c(e,n);f(u,t);return s(u)}};return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/EditFlow", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/collaboration/ActivitySync","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/controllerextensions/editFlow/sticky","sap/fe/core/controllerextensions/editFlow/TransactionHelper","sap/fe/core/controllerextensions/Feedback","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/EditState","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/SemanticKeyHelper","sap/fe/core/library","sap/m/Button","sap/m/Dialog","sap/m/MessageToast","sap/m/Text","sap/ui/core/Core","sap/ui/core/library","sap/ui/core/message/Message","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/model/odata/v4/ODataListBinding","../ActionRuntime"],function(t,e,i,n,o,r,s,a,c,l,d,g,u,h,f,p,y,v,m,w,C,M,P,b,S,D,E,x){"use strict";var A,k,_,I,O,R,T,F,B,V,H,N,j,L,$,G,U,q,K,W,z,J,X,Q,Y,Z,tt,et,it,nt,ot;var rt=f.getResourceModel;var st=u.getNonComputedVisibleFields;var at=d.publicExtension;var ct=d.finalExtension;var lt=d.extensible;var dt=d.defineUI5Class;var gt=l.getInvolvedDataModelObjects;var ut=l.convertTypes;var ht=c.TriggerType;var ft=c.triggerConfiguredSurvey;var pt=c.StandardActions;var yt=o.shareObject;var vt=o.Activity;function mt(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;wt(t,e)}function wt(t,e){wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return wt(t,e)}function Ct(t,e,i,n,o){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(o&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(o):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}const Mt=y.CreationMode,Pt=y.ProgrammingModel,bt=y.Constants,St=y.DraftStatus,Dt=y.EditMode,Et=y.StartupMode,xt=P.MessageType;let At=(A=dt("sap.fe.core.controllerextensions.EditFlow"),k=at(),_=ct(),I=at(),O=ct(),R=at(),T=ct(),F=at(),B=lt(D.After),V=at(),H=lt(D.After),N=at(),j=lt(D.After),L=at(),$=lt(D.After),G=at(),U=lt(D.After),q=at(),K=ct(),W=at(),z=ct(),J=at(),X=ct(),Q=at(),Y=ct(),Z=at(),tt=ct(),et=at(),it=ct(),A(nt=(ot=function(o){mt(c,o);function c(){var t;for(var e=arguments.length,i=new Array(e),n=0;n<e;n++){i[n]=arguments[n]}t=o.call(this,...i)||this;t.syncTasks=Promise.resolve();return t}var l=c.prototype;l.getAppComponent=function t(){return this.base.getAppComponent()};l.editDocument=async function e(i){const n=true;const o=this.getTransactionHelper();const r=this._getRootViewController();const s=i.getModel();let a,c;const l=this.getView().getViewData();const d=this.getProgrammingModel(i);let g=i;const u=this.getView();try{if((l===null||l===void 0?void 0:l.viewLevel)>1){if(d===Pt.Draft){const t=h.getDraftRootPath(i);g=u.getModel().bindContext(t).getBoundContext();await g.requestObject(t)}else if(d===Pt.Sticky){const t=h.getStickyRootPath(i);g=u.getModel().bindContext(t).getBoundContext();await g.requestObject(t)}}await this.base.editFlow.onBeforeEdit({context:g});const t=await o.editDocument(g,this.getView(),this.getAppComponent(),this.getMessageHandler());this._setStickySessionInternalProperties(d,s);if(t){this.setEditMode(Dt.Editable,false);this.setDocumentModified(false);this.getMessageHandler().showMessageDialog();if(t!==g){let e=t;if(this._isFclEnabled()){a=r.getRightmostContext();c=await this._computeSiblingInformation(g,a,d,true);c=c??this._createSiblingInfo(i,t);this._updatePathsInHistory(c.pathMapping);if(c.targetContext.getPath()!=t.getPath()){e=c.targetContext}}else if((l===null||l===void 0?void 0:l.viewLevel)>1){c=await this._computeSiblingInformation(g,i,d,true);e=this._getNavigationTargetForEdit(i,t,c)}await this._handleNewContext(e,true,false,n,true);if(d===Pt.Sticky){let e;if(this._isFclEnabled()){e=t.getModel().getKeepAliveContext(t.getPath())}else{e=t}this.handleStickyOn(e)}else if(h.isCollaborationDraftSupported(s.getMetaModel())){await yt(t)}}}}catch(e){t.error("Error while editing the document",e)}};l.deleteMultipleDocuments=async function o(r,s){if(s){s.beforeDeleteCallBack=this.base.editFlow.onBeforeDelete}else{s={beforeDeleteCallBack:this.base.editFlow.onBeforeDelete}}const a=this.getGlobalUIModel();const c=this.getView().byId(s.controlId);if(!c){throw new Error("parameter controlId missing or incorrect")}else{s.parentControl=c}const l=c.getBinding("items")||c.getRowBinding();s.bFindActiveContexts=true;i.lock(a);try{await this.deleteDocumentTransaction(r,s);let t;if(c.isA("sap.ui.mdc.Table")){c.clearSelection()}const i=this.getView().getBindingContext();if(l.isRoot()){t=new Promise(t=>{l.attachEventOnce("dataReceived",function(){t()})});l.refresh()}else if(i){if(!e.hasTransientContext(l)){this.getAppComponent().getSideEffectsService().requestSideEffectsForNavigationProperty(l.getPath(),i)}}if(!this.getAppComponent()._isFclEnabled()){g.setEditStateDirty()}n.send(this.getView(),vt.Delete,r.map(t=>t.getPath()));return t}catch(e){t.error("Error while deleting the document(s)",e)}finally{i.unlock(a)}};l.updateDocument=function e(i,n){const o=this.getView().getBindingContext();const r=this.getProgrammingModel(i)===Pt.Draft;this.getMessageHandler().removeTransitionMessages();return this.syncTask(async()=>{if(o){this.setDocumentModified(true);if(!this._isFclEnabled()){g.setEditStateDirty()}if(r){this.setDraftStatus(St.Saving)}}try{await n;const t=this.getView().getBindingContext();if(!r||!t||t!==o){return}const e=t.getModel().getMetaModel();const i=e.getMetaContext(t.getPath()).getObject("@sapui.name");const s=p.getSemanticKeys(e,i);if(s!==null&&s!==void 0&&s.length){const e=this._getSemanticMapping();const i=e===null||e===void 0?void 0:e.semanticPath,n=p.getSemanticPath(t,true);if(i&&i!==n){await this._handleNewContext(t,true,false,true)}}this.setDraftStatus(St.Saved)}catch(e){t.error("Error while updating the document",e);if(r&&o){this.setDraftStatus(St.Clear)}}finally{await this.getMessageHandler().showMessages()}})};l.createDocument=async function o(r,s){var a;const c=this.getTransactionHelper(),l=this.getGlobalUIModel();let d;let u=s;let f;const p=!u||u.creationMode!==Mt.Inline&&u.creationMode!==Mt.CreationRow&&u.creationMode!==Mt.External;let y=Promise.resolve([]);const v=this.getAppComponent();v.getRouterProxy().removeIAppStateKey();if(u.creationMode===Mt.External){await this.syncTask();const t=this.getView().getController();const e=h.getAbsoluteMetaPathForListBinding(this.getView(),r);t.handlers.onChevronPressNavigateOutBound(t,u.outbound,undefined,e);return}if(u.creationMode===Mt.CreationRow&&u.creationRow){const t=u.creationRow.getBindingContext().getObject();delete t["@$ui5.context.isTransient"];d=u.creationRow.getParent();y=this.validateDocument(d.getBindingContext(),{data:t,customValidationFunction:d.getCreationRow().data("customValidationFunction")});if(d.getCreationRow().data("disableAddRowButtonForEmptyData")==="true"){const t=d.getBindingContext("internal");t.setProperty("creationRowFieldValidity",{})}}if(u.creationMode===Mt.Inline&&u.tableId){d=this.getView().byId(u.tableId)}if(d&&d.isA("sap.ui.mdc.Table")){const t=u.creationMode===Mt.Inline?d.focusRow.bind(d):d.scrollToIndex.bind(d);d.getRowBinding().attachEventOnce("change",async function(){await f;t(u.createAtEnd?d.getRowBinding().getLength():0,true)})}const m=async(i,n)=>{try{const t=await n;await t.created();const o=this.getView().getBindingContext();if(!e.hasTransientContext(i)){const t=this.getAppComponent();t.getSideEffectsService().requestSideEffectsForNavigationProperty(i.getPath(),o)}}catch(e){t.error("Error while creating the document",e)}};const w=t=>{var e;const i=d&&d.getCreationRow().data("customValidationFunction");const n=d&&((e=d.getBindingContext("internal"))===null||e===void 0?void 0:e.getProperty("creationRowCustomValidity"));const o=M.getMessageManager();const r=[];let s;let a;o.getMessageModel().getData().forEach(function(t){if(t.code===i){o.removeMessages(t)}});t.forEach(t=>{if(t.messageTarget){var e;s=M.getControl(n[t.messageTarget].fieldId);a=`${(e=s.getBindingContext())===null||e===void 0?void 0:e.getPath()}/${s.getBindingPath("value")}`;if(o.getMessageModel().getData().filter(function(t){return t.target===a}).length===0){o.addMessages(new b({message:t.messageText,processor:this.getView().getModel(),type:xt.Error,code:i,technical:false,persistent:false,target:a}))}const r=o.getMessageModel().getData().filter(function(t){return t.target===a});r[0].addControlId(n[t.messageTarget].fieldId)}else{r.push({code:i,text:t.messageText,persistent:true,type:xt.Error})}});if(r.length>0){this.getMessageHandler().showMessageDialog({customMessages:r})}};const C=(t,e,i,n)=>{if(t&&t!==Mt.NewPage){return t}else{if(!i.isRelative()){const t=i.getPath(),o=e===Pt.Draft?n.getObject(`${t}@com.sap.vocabularies.Common.v1.DraftRoot/NewAction`):n.getObject(`${t}@com.sap.vocabularies.Session.v1.StickySessionSupported/NewAction`);if(o){const t=n.getObject(`/${o}/@$ui5.overload/0/$Parameter`)||[];if(t.length>1){return Mt.Deferred}}}const t=n.getMetaPath(i===null||i===void 0?void 0:i.getHeaderContext().getPath());const o=st(n,t,this.getAppComponent());if(o.length>0){return Mt.Deferred}return Mt.Async}};if(p){i.lock(l)}try{const e=await this.syncTask(y);if(e.length>0){w(e);t.error("Custom Validation failed");return}let o;u=u||{};if(r&&typeof r==="object"){o=r}else if(typeof r==="string"){o=new E(this.getView().getModel(),r);u.creationMode=Mt.Sync;delete u.createAtEnd}else{throw new Error("Binding object or path expected")}const s=o.getModel();const l=this.getProgrammingModel(o);const p=C(u.creationMode,l,o,s.getMetaModel());let b;const k=u.creationRow;let _;let I;let O;const R=s.getMetaModel();const T=this.getInternalRouting();if(p!==Mt.Deferred){if(p===Mt.CreationRow){_=k.getBindingContext();O=R.getMetaPath(_.getPath());I=_.getObject();u.data={};Object.keys(I).forEach(function(t){const e=R.getObject(`${O}/${t}`);if(e&&e.$kind==="NavigationProperty"){return}u.data[t]=I[t]});await this._checkForValidationErrors()}if(p===Mt.CreationRow||p===Mt.Inline){var P,S,D;u.keepTransientContextOnFailed=false;u.busyMode="Local";u.busyId=(P=d)===null||P===void 0?void 0:(S=P.getParent())===null||S===void 0?void 0:(D=S.getTableDefinition())===null||D===void 0?void 0:D.annotation.id;this.handleCreateEvents(o)}if(!u.parentControl){u.parentControl=this.getView()}u.beforeCreateCallBack=this.onBeforeCreate;u.skipParameterDialog=v.getStartupMode()===Et.AutoCreate;f=c.createDocument(o,u,this.getAppComponent(),this.getMessageHandler(),false);if(!u.bSkipSideEffects){m(o,f)}}let F;switch(p){case Mt.Deferred:F=T.navigateForwardToContext(o,{bDeferredContext:true,editable:true,bForceFocus:true});break;case Mt.Async:F=T.navigateForwardToContext(o,{asyncContext:f,editable:true,bForceFocus:true});break;case Mt.Sync:b={editable:true,bForceFocus:true};if(l==Pt.Sticky||u.createAction){b.transient=true}F=(a=f)===null||a===void 0?void 0:a.then(function(t){if(!t){const t=M.getLibraryResourceBundle("sap.fe.core");return T.navigateToMessagePage(t.getText("C_COMMON_SAPFE_DATA_RECEIVED_ERROR"),{title:t.getText("C_COMMON_SAPFE_ERROR"),description:t.getText("C_EDITFLOW_SAPFE_CREATION_FAILED_DESCRIPTION")})}else{return u.bFromDeferred?T.navigateToContext(t,b):T.navigateForwardToContext(t,b)}});break;case Mt.Inline:this.syncTask(f);break;case Mt.CreationRow:try{const e=_.getBinding();const i=e.create();k.setBindingContext(i);i.created().catch(function(){t.trace("transient fast creation context deleted")});F=_.delete("$direct")}catch(e){if(i.isLocked(this.getView().getModel("ui"))){i.unlock(this.getView().getModel("ui"))}t.error("CreationRow navigation error: ",e)}break;default:F=Promise.reject(`Unhandled creationMode ${p}`);break}if(f){try{const t=await Promise.all([f,F]);this._setStickySessionInternalProperties(l,s);this.setEditMode(Dt.Editable);if(!o.isRelative()&&l===Pt.Sticky){var x,A;const t=o.getModel().getMetaModel();const e=t.bindContext(t.getMetaPath(o.getPath()));const i=gt(e).startingEntitySet;const n=i===null||i===void 0?void 0:(x=i.annotations.Session)===null||x===void 0?void 0:(A=x.StickySessionSupported)===null||A===void 0?void 0:A.NewAction;this.getInternalModel().setProperty("/lastInvokedAction",n)}const e=t[0];if(e){this.setDocumentModifiedOnCreate(o);if(!this._isFclEnabled()){g.setEditStateDirty()}this._sendActivity(vt.Create,e);if(h.isCollaborationDraftSupported(s.getMetaModel())&&!n.isConnected(this.getView())){await yt(e)}}}catch(t){if(t===bt.CancelActionDialog||t===bt.ActionExecutionFailed||t===bt.CreationFailed){if(p===Mt.Sync||p===Mt.Deferred||p===Mt.Async){T.navigateBackFromTransientState()}}throw t}}}finally{if(p){i.unlock(l)}}};l.validateDocument=function t(e,i){return this.getTransactionHelper().validateDocument(e,i,this.getView())};l.createMultipleDocuments=async function n(o,r,s,a,c){let l=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;const d=this.getTransactionHelper();const g=this.getGlobalUIModel();const u=o;i.lock(g);try{await this.syncTask();if(c){await c({contextPath:u.getPath()})}const t=u.getModel().getMetaModel();let i;if(u.getContext()){i=t.getMetaPath(`${u.getContext().getPath()}/${u.getPath()}`)}else{i=t.getMetaPath(u.getPath())}this.handleCreateEvents(u);const n=r.map(e=>{const n={data:{}};n.keepTransientContextOnFailed=false;n.busyMode="None";n.creationMode=Mt.CreationRow;n.parentControl=this.getView();n.createAtEnd=s;n.inactive=l;for(const o in e){const r=t.getObject(`${i}/${o}`);if(r&&r.$kind!=="NavigationProperty"&&o.indexOf("/")<0&&e[o]){n.data[o]=e[o]}}return d.createDocument(u,n,this.getAppComponent(),this.getMessageHandler(),a)});const o=await Promise.all(n);if(!l){this.setDocumentModifiedOnCreate(u)}await Promise.all(o.map(t=>{if(!t.bInactive){return t.created()}}));const g=this.getView().getBindingContext();if(!e.hasTransientContext(u)){this.getAppComponent().getSideEffectsService().requestSideEffectsForNavigationProperty(u.getPath(),g)}return o}catch(e){t.error("Error while creating multiple documents.");throw e}finally{i.unlock(g)}};l.onBeforeSave=function t(e){return Promise.resolve()};l.onBeforeCreate=function t(e){return Promise.resolve()};l.onBeforeEdit=function t(e){return Promise.resolve()};l.onBeforeDiscard=function t(e){return Promise.resolve()};l.onBeforeDelete=function t(e){return Promise.resolve()};l.saveDocument=async function e(i,o){o=o||{};const r=o.bExecuteSideEffectsOnError||undefined;const s=true;const a=this.getTransactionHelper();const c=o.bindings;try{await this.syncTask();await this._submitOpenChanges(i);await this._checkForValidationErrors();await this.base.editFlow.onBeforeSave({context:i});const t=this.getProgrammingModel(i);const e=this._getRootViewController();let o;if((t===Pt.Sticky||i.getProperty("HasActiveEntity"))&&e.isFclEnabled()){o=await this._computeSiblingInformation(i,e.getRightmostContext(),t,true)}const l=await a.saveDocument(i,this.getAppComponent(),this._getResourceModel(),r,c,this.getMessageHandler(),this.getCreationMode());this._removeStickySessionInternalProperties(t);this._sendActivity(vt.Activate,l);n.disconnect(this.getView());this._triggerConfiguredSurvey(pt.save,ht.standardAction);this.setDocumentModified(false);this.setEditMode(Dt.Display,false);this.getMessageHandler().showMessageDialog();if(l!==i){let t=l;if(e.isFclEnabled()){o=o??this._createSiblingInfo(i,l);this._updatePathsInHistory(o.pathMapping);if(o.targetContext.getPath()!==l.getPath()){t=o.targetContext}}await this._handleNewContext(t,false,false,s,true)}}catch(e){if(!(e&&e.canceled)){t.error("Error while saving the document",e)}throw e}};l.toggleDraftActive=async function t(e){const i=e.getObject();let n;const o=e&&this.getProgrammingModel(e)===Pt.Draft;if(!o||!(!i.IsActiveEntity&&i.HasActiveEntity||i.IsActiveEntity&&i.HasDraftEntity)){return}if(!i.IsActiveEntity&&i.HasActiveEntity){n=false}else{n=true}try{const t=this._getRootViewController();const i=t.isFclEnabled()?t.getRightmostContext():e;let o=await this._computeSiblingInformation(e,i,Pt.Draft,false);if(!o&&e!==i){o=await this._computeSiblingInformation(e,e,Pt.Draft,false)}if(o){this.setEditMode(n?Dt.Editable:Dt.Display,false);if(t.isFclEnabled()){const t=this._getSemanticMapping();if((t===null||t===void 0?void 0:t.technicalPath)===e.getPath()){const e=o.pathMapping[o.pathMapping.length-1].newPath;o.pathMapping.push({oldPath:t.semanticPath,newPath:e})}this._updatePathsInHistory(o.pathMapping)}await this._handleNewContext(o.targetContext,n,true,true,true)}else{throw new Error("Error in EditFlow.toggleDraftActive - Cannot find sibling")}}catch(t){throw new Error(`Error in EditFlow.toggleDraftActive:${t}`)}};l.cancelDocument=async function e(i,o){const r=this.getTransactionHelper();const s=o;let a;let c=false;s.cancelButton=o.control||s.cancelButton;s.beforeCancelCallBack=this.base.editFlow.onBeforeDiscard;try{await this.syncTask();const t=this.getProgrammingModel(i);if((t===Pt.Sticky||i.getProperty("HasActiveEntity"))&&this._isFclEnabled()){const e=this._getRootViewController();a=await this._computeSiblingInformation(i,e.getRightmostContext(),t,true)}const e=await r.cancelDocument(i,s,this.getAppComponent(),this._getResourceModel(),this.getMessageHandler(),this.getCreationMode(),this.isDocumentModified());const o=true;this._removeStickySessionInternalProperties(t);this.setEditMode(Dt.Display,false);this.setDocumentModified(false);this.setDraftStatus(St.Clear);g.setEditStateDirty();if(!e){this._sendActivity(vt.Discard,undefined);n.disconnect(this.getView());if(!s.skipBackNavigation){await this.getInternalRouting().navigateBackFromContext(i);c=true}}else{const r=e;this._sendActivity(vt.Discard,r);n.disconnect(this.getView());let c=r;if(this._isFclEnabled()){a=a??this._createSiblingInfo(i,r);this._updatePathsInHistory(a.pathMapping);if(a.targetContext.getPath()!==r.getPath()){c=a.targetContext}}if(t===Pt.Draft){await this._fetchSemanticKeyValues(r);if(!s.skipBindingToView){await this._handleNewContext(c,false,true,o,true)}else{return r}}else{await this._handleNewContext(c,false,false,o,true)}}this.showDocumentDiscardMessage(c)}catch(e){t.error("Error while discarding the document",e)}};l.showDocumentDiscardMessage=function t(e){const i=this._getResourceModel();const n=i.getText("C_TRANSACTION_HELPER_DISCARD_DRAFT_TOAST");if(e==true){const t=this.getAppComponent();t.getRoutingService().attachAfterRouteMatched(this.showMessageWhenNoContext,this)}else{w.show(n)}};l.showMessageWhenNoContext=function t(){const e=this._getResourceModel();const i=e.getText("C_TRANSACTION_HELPER_DISCARD_DRAFT_TOAST");const n=this.getAppComponent();w.show(i);n.getRoutingService().detachAfterRouteMatched(this.showMessageWhenNoContext,this)};l.isDraftRoot=function t(e){const i=e.getModel().getMetaModel();const n=i.getMetaContext(e.getPath());return h.isDraftRoot(gt(n).targetEntitySet)};l.deleteDocument=async function e(i,n){const o=this.getAppComponent();let r=n;if(!r){r={bFindActiveContexts:false}}else{r.bFindActiveContexts=false}r.beforeDeleteCallBack=this.base.editFlow.onBeforeDelete;try{if(this._isFclEnabled()&&this.isDraftRoot(i)&&i.getIndex()===undefined&&i.getProperty("IsActiveEntity")===true&&i.getProperty("HasDraftEntity")===true){r.beforeDeleteCallBack=async e=>{await this.base.editFlow.onBeforeDelete(e);try{const t=i.getModel();const e=t.bindContext(`${i.getPath()}/SiblingEntity`).getBoundContext();const n=await e.requestCanonicalPath();const o=t.getKeepAliveContext(n);o.replaceWith(i)}catch(e){t.error("Error while replacing the draft instance in the LR ODLB",e)}}}await this.deleteDocumentTransaction(i,r);if(!this._isFclEnabled()){g.setEditStateDirty()}this._sendActivity(vt.Delete,i);if(o){o.getShellServices().setBackNavigation()}if((o===null||o===void 0?void 0:o.getStartupMode())===Et.Deeplink&&!this._isFclEnabled()){o.getRouterProxy().exitFromApp()}else{this.getInternalRouting().navigateBackFromContext(i)}}catch(e){t.error("Error while deleting the document",e)}};l.applyDocument=async function t(e){const n=this.getGlobalUIModel();i.lock(n);try{await this.syncTask();await this._submitOpenChanges(e);await this._checkForValidationErrors();await this.getMessageHandler().showMessageDialog();await this.getInternalRouting().navigateBackFromContext(e)}finally{if(i.isLocked(n)){i.unlock(n)}}};l.invokeAction=async function e(i,o,r){var s;let a;const c=this.getTransactionHelper();let l;let d;let u;const h=this.getView();let f=o||{};if(f.isA&&f.isA("sap.ui.model.odata.v4.Context")||Array.isArray(f)||r!==undefined){const t=f;f=r||{};if(t){f.contexts=t}else{f.model=this.getView().getModel()}}f.isNavigable=f.requiresNavigation||f.isNavigable;const p=ut((s=this.getView().getModel())===null||s===void 0?void 0:s.getMetaModel());if(i.indexOf(""+p.entityContainer.name)>-1){f.isBound=false}else{f.isBound=true}if(!f.parentControl){f.parentControl=this.getView()}if(f.controlId){a=this.getView().byId(f.controlId);if(a){f.internalModelContext=a.getBindingContext("internal")}}else{f.internalModelContext=h.getBindingContext("internal")}if(i&&i.indexOf("(")>-1){l=i.split("(");i=l[0];d=l[l.length-1].replaceAll(")","")}if(f.bStaticAction){if(a.isTableBound()){f.contexts=a.getRowBinding().getHeaderContext()}else{const t=a.data("rowsBindingInfo").path,e=new E(this.getView().getModel(),t);f.contexts=e.getHeaderContext()}if(d&&a.getBindingContext()){f.contexts=this._getActionOverloadContextFromMetadataPath(a.getBindingContext(),a.getRowBinding(),d)}if(f.enableAutoScroll){u=this.createActionPromise(i,a.sId)}}f.bGetBoundContext=this._getBoundContext(h,f);f.bObjectPage=h.getViewData().converterType==="ObjectPage";try{await this.syncTask();const e=await c.callAction(i,f,this.getView(),this.getAppComponent(),this.getMessageHandler());let o;if(f.contexts&&f.isBound===true){o=await this._refreshListIfRequired(this.getActionResponseDataAndKeys(i,e),f.contexts[0])}if(n.isConnected(this.getView())){let t=[];if(e){t=Array.isArray(e)?Object.keys(e[0].value.getObject()):Object.keys(e.getObject())}this._sendActivity(vt.Action,f.contexts,i,o,t)}this._triggerConfiguredSurvey(i,ht.action);if(u){u.fResolver(e)}if(f.contexts){if(!this._isFclEnabled()){g.setEditStateDirty()}this.getInternalModel().setProperty("/lastInvokedAction",i)}if(f.isNavigable){let i=e;if(Array.isArray(i)&&i.length===1){i=i[0].value}if(i&&!Array.isArray(i)){const e=h.getModel().getMetaModel();const n=e.getMetaPath(i.getPath());const o=(t,e)=>t.filter(t=>{if(e){return e.indexOf(t)>-1}return true});const r=Array.isArray(f.contexts)?o(f.contexts,f.applicableContexts)[0]:f.contexts;const s=r&&e.getMetaPath(r.getPath());if(n!=undefined&&n===s){if(r.getPath()!==i.getPath()){this.getInternalRouting().navigateForwardToContext(i,{checkNoHashChange:true,noHistoryEntry:false})}else{t.info("Navigation to the same context is not allowed")}}}}return e}catch(t){if(u){u.fRejector()}if(t===bt.CancelActionDialog){throw new Error("Dialog cancelled")}else if(!(t&&(t.canceled||t.rejectedItems&&t.rejectedItems[0].canceled))){throw new Error(`Error in EditFlow.invokeAction:${t}`)}}};l.securedExecution=function t(e,n){var o,r;const s=(n===null||n===void 0?void 0:(o=n.busy)===null||o===void 0?void 0:o.set)??true,a=(n===null||n===void 0?void 0:(r=n.busy)===null||r===void 0?void 0:r.check)??true,c=(n===null||n===void 0?void 0:n.updatesDocument)??false,l=this.getGlobalUIModel(),d=this.getView().getBindingContext(),u=d&&this.getProgrammingModel(d)===Pt.Draft;if(a&&i.isLocked(l)){return Promise.reject("Application already busy therefore execution rejected")}if(s){i.lock(l)}if(c&&u){this.setDraftStatus(St.Saving)}this.getMessageHandler().removeTransitionMessages();return this.syncTask(e).then(()=>{if(c){this.setDocumentModified(true);if(!this._isFclEnabled()){g.setEditStateDirty()}if(u){this.setDraftStatus(St.Saved)}}}).catch(t=>{if(c&&u){this.setDraftStatus(St.Clear)}return Promise.reject(t)}).finally(()=>{if(s){i.unlock(l)}this.getMessageHandler().showMessageDialog()})};l.handlePatchSent=function t(e){var i,o;const r=n.isConnected(this.getView());if(r){e.getSource().getModel().setIgnoreETag(true)}if(!((i=this.getView())!==null&&i!==void 0&&(o=i.getBindingContext("internal"))!==null&&o!==void 0&&o.getProperty("skipPatchHandlers"))){const t=e.getSource();const i=new Promise((i,n)=>{e.getSource().attachEventOnce("patchCompleted",o=>{if(r){e.getSource().getModel().setIgnoreETag(false)}if(e.getSource().isA("sap.ui.model.odata.v4.ODataListBinding")){var s;x.setActionEnablementAfterPatch(this.getView(),t,(s=this.getView())===null||s===void 0?void 0:s.getBindingContext("internal"))}const a=o.getParameter("success");if(a){i()}else{n()}})});this.updateDocument(t,i)}};l.handleCreateActivate=async function e(i){const n=i.getSource();const o=this.getTransactionHelper();const r=true;const s=true;const a={creationMode:Mt.Inline,createAtEnd:r,inactive:s,keepTransientContextOnFailed:false,busyMode:"None"};try{var c;const e=i.getParameter("context");(c=e.created())===null||c===void 0?void 0:c.then(()=>{this._sendActivity(vt.Create,e)}).catch(()=>{t.warning(`Failed to activate context ${e.getPath()}`)});const r=await o.createDocument(n,a,this.getAppComponent(),this.getMessageHandler(),false);if(r){if(!this._isFclEnabled()){g.setEditStateDirty()}}}catch(e){t.error("Failed to activate new row -",e)}};l.syncTask=function t(e){if(e){if(typeof e==="function"){this.syncTasks=this.syncTasks.then(e).catch(function(){return Promise.resolve()})}else{this.syncTasks=this.syncTasks.then(()=>e).catch(function(){return Promise.resolve()})}}return this.syncTasks};l.computeEditMode=async function e(i){const n=this.getProgrammingModel(i);if(n===Pt.Draft){try{this.setDraftStatus(St.Clear);const t=this.getGlobalUIModel();t.setProperty("/isEditablePending",true,undefined,true);const e=await i.requestObject("IsActiveEntity");if(e===false){this.setEditMode(Dt.Editable);const t=await i.requestObject("HasActiveEntity");this.setEditMode(undefined,!t)}else{this.setEditMode(Dt.Display,false)}t.setProperty("/isEditablePending",false,undefined,true)}catch(e){t.error("Error while determining the editMode for draft",e);throw e}}else if(n===Pt.Sticky){const t=this.getInternalModel().getProperty("/lastInvokedAction");if(t&&this.isNewActionForSticky(t,i)){this.setEditMode(Dt.Editable,true);if(!this.getAppComponent()._isFclEnabled()){g.setEditStateDirty()}this.handleStickyOn(i);this.getInternalModel().setProperty("/lastInvokedAction",undefined)}}};l.deleteDocumentTransaction=async function t(e,i){var n;const o=rt(this);const r=this.getTransactionHelper();i.internalModelContext=i.controlId?(n=sap.ui.getCore().byId(i.controlId))===null||n===void 0?void 0:n.getBindingContext("internal"):null;await this.syncTask();await r.deleteDocument(e,i,this.getAppComponent(),o,this.getMessageHandler())};l._getResourceModel=function t(){return rt(this.getView())};l.getTransactionHelper=function t(){return a};l.getMessageHandler=function t(){if(this.base.messageHandler){return this.base.messageHandler}else{throw new Error("Edit Flow works only with a given message handler")}};l.getInternalModel=function t(){return this.getView().getModel("internal")};l.getGlobalUIModel=function t(){return this.getView().getModel("ui")};l.setCreationMode=function t(e){const i=this.getView().getBindingContext("ui");this.getGlobalUIModel().setProperty("createMode",e,i,true)};l.getCreationMode=function t(){const e=this.getView().getBindingContext("ui");return!!this.getGlobalUIModel().getProperty("createMode",e)};l.isDocumentModified=function t(){return!!this.getGlobalUIModel().getProperty("/isDocumentModified")};l.setDocumentModified=function t(e){this.getGlobalUIModel().setProperty("/isDocumentModified",e)};l.setDocumentModifiedOnCreate=function t(e){if(e.isRelative()){this.setDocumentModified(true)}};l.handleCreateEvents=function t(e){this.setDraftStatus(St.Clear);const i=this.getProgrammingModel(e);e.attachEvent("createSent",()=>{if(i===Pt.Draft){this.setDraftStatus(St.Saving)}});e.attachEvent("createCompleted",t=>{const e=t.getParameter("success");if(i===Pt.Draft){this.setDraftStatus(e?St.Saved:St.Clear)}this.getMessageHandler().showMessageDialog()})};l.setDraftStatus=function t(e){this.getView().getModel("ui").setProperty("/draftStatus",e,undefined,true)};l.getProgrammingModel=function t(e){return this.getTransactionHelper().getProgrammingModel(e)};l.setEditMode=function t(e,i){const n=this.getGlobalUIModel();if(e){n.setProperty("/isEditable",e==="Editable",undefined,true)}if(i!==undefined){this.setCreationMode(i)}};l.isNewActionForSticky=function e(i,n){try{var o;const t=n.getModel().getMetaModel();const e=t.getMetaContext(n.getPath());const r=gt(e).startingEntitySet;const s=(o=r.annotations.Session)===null||o===void 0?void 0:o.StickySessionSupported;if((s===null||s===void 0?void 0:s.NewAction)===i){return true}if(s!==null&&s!==void 0&&s.AdditionalNewActions&&(s===null||s===void 0?void 0:s.AdditionalNewActions.indexOf(i))!==-1){return true}return false}catch(e){t.info(e);return false}};l.handleStickyOn=function e(i){const n=this.getAppComponent();try{if(n===undefined){throw new Error("undefined AppComponent for function handleStickyOn")}if(!n.getRouterProxy().hasNavigationGuard()){const t=n.getRouterProxy().getHash();const e=this.getInternalModel();setTimeout(function(){n.getRouterProxy().setNavigationGuard(i.getPath().substring(1))},0);n.getShellServices().setBackNavigation(this.onBackNavigationInSession.bind(this));this.dirtyStateProviderFunction=this.getDirtyStateProvider(n,e,t);n.getShellServices().registerDirtyStateProvider(this.dirtyStateProviderFunction);const o=this.getView().getModel("sap.fe.i18n");this.sessionTimeoutFunction=this.getSessionTimeoutFunction(i,o);this.getView().getModel().attachSessionTimeout(this.sessionTimeoutFunction);this.stickyDiscardAfterNavigationFunction=this.getRouteMatchedFunction(i,n);n.getRoutingService().attachRouteMatched(this.stickyDiscardAfterNavigationFunction)}}catch(e){t.info(e);return false}return true};l.handleStickyOff=function e(){const i=this.getAppComponent();try{if(i===undefined){throw new Error("undefined AppComponent for function handleStickyOff")}if(i.getRouterProxy){i.getRouterProxy().discardNavigationGuard()}if(this.dirtyStateProviderFunction){i.getShellServices().deregisterDirtyStateProvider(this.dirtyStateProviderFunction);this.dirtyStateProviderFunction=undefined}const t=this.getView().getModel();if(t&&this.sessionTimeoutFunction){t.detachSessionTimeout(this.sessionTimeoutFunction)}i.getRoutingService().detachRouteMatched(this.stickyDiscardAfterNavigationFunction);this.stickyDiscardAfterNavigationFunction=undefined;this.setEditMode(Dt.Display,false);if(i.getShellServices){i.getShellServices().setBackNavigation()}}catch(e){t.info(e);return false}return true};l._setStickySessionInternalProperties=function t(e,i){if(e===Pt.Sticky){const t=this.getInternalModel();t.setProperty("/sessionOn",true);t.setProperty("/stickySessionToken",i.getHttpHeaders(true)["SAP-ContextId"])}};l.getDirtyStateProvider=function e(i,n,o){return e=>{try{if(e===undefined){throw new Error("Invalid input parameters for DirtyStateProvider function")}const t=e.innerAppRoute;const r=i.getRouterProxy();let s="";let a;const c=n.getProperty("/sessionOn");if(!c){return undefined}if(!r.isNavigationFinalized()){a=false;s=t}else if(o===t){a=true}else if(r.checkHashWithGuard(t)||r.isGuardCrossAllowedByUser()){s=t;a=false}else{a=true}if(a){setTimeout(function(){i.getShellServices().setDirtyFlag(false)},0)}else{o=s}return a}catch(e){t.info(e);return undefined}}};l.getSessionTimeoutFunction=function e(i,n){return()=>{try{if(i===undefined){throw new Error("Context missing for SessionTimeout function")}this.getMessageHandler().removeTransitionMessages();const t=new m({title:"{sap.fe.i18n>C_EDITFLOW_OBJECT_PAGE_SESSION_EXPIRED_DIALOG_TITLE}",state:"Warning",content:new C({text:"{sap.fe.i18n>C_EDITFLOW_OBJECT_PAGE_SESSION_EXPIRED_DIALOG_MESSAGE}"}),beginButton:new v({text:"{sap.fe.i18n>C_COMMON_DIALOG_OK}",type:"Emphasized",press:()=>{this.handleStickyOff();this.getInternalRouting().navigateBackFromContext(i)}}),afterClose:function(){t.destroy()}});t.addStyleClass("sapUiContentPadding");t.setModel(n,"sap.fe.i18n");this.getView().addDependent(t);t.open()}catch(e){t.info(e);return undefined}return true}};l.getRouteMatchedFunction=function t(e,i){return()=>{const t=i.getRouterProxy().getHash();if(!t||!i.getRouterProxy().checkHashWithGuard(t)){this.discardStickySession(e);setTimeout(()=>{e.getModel().clearSessionContext()},0)}}};l.discardStickySession=async function t(e){const i=await s.discardDocument(e);if(i!==null&&i!==void 0&&i.hasPendingChanges()){i.getBinding().resetChanges()}i===null||i===void 0?void 0:i.refresh();this.handleStickyOff()};l.getInternalRouting=function t(){if(this.base._routing){return this.base._routing}else{throw new Error("Edit Flow works only with a given routing listener")}};l._getRootViewController=function t(){return this.getAppComponent().getRootViewController()};l._getSemanticMapping=function t(){return this.getAppComponent().getRoutingService().getLastSemanticMapping()};l.createActionPromise=function t(e,i){let n,o;this.actionPromise=new Promise((t,e)=>{n=t;o=e}).then(t=>Object.assign({controlId:i},this.getActionResponseDataAndKeys(e,t)));return{fResolver:n,fRejector:o}};l.getActionResponseDataAndKeys=function t(e,i){if(Array.isArray(i)){if(i.length===1){i=i[0].value}else{return null}}if(!i){return null}const n=this.getView();const o=n.getModel().getMetaModel().getData();const r=o&&o[e]&&o[e][0]&&o[e][0].$ReturnType?o[e][0].$ReturnType.$Type:null;const s=r&&o[r]?o[r].$Key:null;return{oData:i.getObject(),keys:s}};l.getCurrentActionPromise=function t(){return this.actionPromise};l.deleteCurrentActionPromise=function t(){this.actionPromise=undefined};l._scrollAndFocusOnInactiveRow=function t(e){const i=e.getRowBinding();const n=i.getCount()||0;if(e.data("tableType")!=="ResponsiveTable"){if(n>0){e.scrollToIndex(n-1)}e.focusRow(n,true)}else{const t=i.getContexts();if(!(t!==null&&t!==void 0&&t.length)){e.focusRow(n,true);return}let o=n,r=0;for(const e of t){if(e.isInactive()&&r<o){o=r}r++}if(o>0){e.scrollToIndex(o)}e.focusRow(o,true)}};l.createEmptyRowsAndFocus=async function t(e){var i,n,o;const r=e.getParent();if(r!==null&&r!==void 0&&(i=r.tableDefinition)!==null&&i!==void 0&&(n=i.control)!==null&&n!==void 0&&n.inlineCreationRowsHiddenInEditMode&&!((o=e.getBindingContext("ui"))!==null&&o!==void 0&&o.getProperty("createMode"))){await r.setUpEmptyRows(e,true)}this._scrollAndFocusOnInactiveRow(e)};l._sendActivity=function t(e,i,o,r,s){const a=Array.isArray(i)?i.map(t=>t.getPath()):i===null||i===void 0?void 0:i.getPath();n.send(this.getView(),e,a,o,r,s)};l._triggerConfiguredSurvey=function t(e,i){ft(this.getView(),e,i)};l._submitOpenChanges=async function t(e){const n=e.getModel(),o=this.getGlobalUIModel();try{await n.submitBatch("$auto");await n.oRequestor.waitForRunningChangeRequests("$auto");if(n.hasPendingChanges("$auto")){throw new Error("submit of open changes failed")}}finally{if(i.isLocked(o)){i.unlock(o)}}};l._removeStickySessionInternalProperties=function t(e){if(e===Pt.Sticky){const t=this.getInternalModel();t.setProperty("/sessionOn",false);t.setProperty("/stickySessionToken",undefined);this.handleStickyOff()}};l.onBackNavigationInSession=function t(){const e=this.getView();const i=this.getAppComponent().getRouterProxy();if(i.checkIfBackIsOutOfGuard()){const t=e.getBindingContext();const i=this.getProgrammingModel(t);s.processDataLossConfirmation(async()=>{await this.discardStickySession(t);this._removeStickySessionInternalProperties(i);history.back()},e,i);return}history.back()};l._handleNewContext=async function t(e,i,n,o){let r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;if(!this._isFclEnabled()){g.setEditStateDirty()}await this.getInternalRouting().navigateToContext(e,{checkNoHashChange:true,editable:i,bPersistOPScroll:true,bRecreateContext:n,bDraftNavigation:o,showPlaceholder:false,bForceFocus:r,keepCurrentLayout:true})};l._getBoundContext=function t(e,i){const n=e.getViewData().viewLevel;const o=n>1||n===1&&i.controlId;return!i.isNavigable||!!o};l._checkForValidationErrors=function t(){return this.syncTask().then(()=>{const t=this.getView().getId();const e=sap.ui.getCore().getMessageManager().getMessageModel().getData();let i;let n;if(!e.length){return Promise.resolve("No validation errors found")}for(let o=0;o<e.length;o++){n=e[o];if(n.validation){i=M.byId(n.getControlId());while(i){if(i.getId()===t){return Promise.reject("validation errors exist")}i=i.getParent()}}}})};l._refreshListIfRequired=function e(i,n){if(!n||!i||!i.oData){return Promise.resolve(undefined)}const o=n.getBinding();if(o&&o.isA("sap.ui.model.odata.v4.ODataListBinding")){const e=i.oData;const r=i.keys;const s=n.getObject();let a=true;if(Object.keys(e).length){a=r.every(function(t){return s[t]===e[t]});if(!a){return new Promise(e=>{if(o.isRoot()){o.attachEventOnce("dataReceived",function(){e(!a)});o.refresh()}else{const i=this.getAppComponent();i.getSideEffectsService().requestSideEffects([{$NavigationPropertyPath:o.getPath()}],o.getContext()).then(function(){e(!a)},function(){t.error("Error while refreshing the table");e(!a)}).catch(function(e){t.error("Error while refreshing the table",e)})}})}}}return Promise.resolve(undefined)};l._fetchSemanticKeyValues=function t(e){const i=e.getModel().getMetaModel(),n=i.getMetaContext(e.getPath()).getObject("@sapui.name"),o=p.getSemanticKeys(i,n);if(o&&o.length){const t=o.map(function(t){return e.requestObject(t.$PropertyPath)});return Promise.all(t)}else{return Promise.resolve()}};l._getActionOverloadContextFromMetadataPath=function t(e,i,n){const o=e.getModel();const r=o.getMetaModel();let s=i.getPath().split("/");let a=e;s.pop();if(s.length===0){s=[""]}if(s[0]!==""){s.unshift("")}const c=s.map(t=>{if(t!==""){a=o.bindContext(t,a).getBoundContext()}else{a=e}return a}).reverse();const l=c.find(t=>r.getMetaContext(t.getPath()).getObject("$Type")===n);return l||i.getHeaderContext()};l._createSiblingInfo=function t(e,i){return{targetContext:i,pathMapping:[{oldPath:e.getPath(),newPath:i.getPath()}]}};l._updatePathsInHistory=function t(e){const i=this.getAppComponent();i.getRouterProxy().setPathMapping(e);const n=this._getSemanticMapping();if(e.length&&(n===null||n===void 0?void 0:n.technicalPath)===e[e.length-1].oldPath){n.technicalPath=e[e.length-1].newPath}};l._getNavigationTargetForEdit=function t(e,i,n){let o;n=n??this._createSiblingInfo(e,i);this._updatePathsInHistory(n.pathMapping);if(n.targetContext.getPath()!=i.getPath()){o=n.targetContext}return o};l._computeSiblingInformation=async function e(i,n,o,s){n=n??i;if(!n.getPath().startsWith(i.getPath())){t.error("Cannot compute rightmost sibling context");throw new Error("Cannot compute rightmost sibling context")}if(s&&n.getPath()===i.getPath()){return Promise.resolve(undefined)}const a=i.getModel();if(o===Pt.Draft){return r.computeSiblingInformation(i,n)}else{return{targetContext:a.bindContext(n.getPath()).getBoundContext(),pathMapping:[]}}};l._isFclEnabled=function t(){return this.getAppComponent()._isFclEnabled()};return c}(S),Ct(ot.prototype,"editDocument",[k,_],Object.getOwnPropertyDescriptor(ot.prototype,"editDocument"),ot.prototype),Ct(ot.prototype,"updateDocument",[I,O],Object.getOwnPropertyDescriptor(ot.prototype,"updateDocument"),ot.prototype),Ct(ot.prototype,"createDocument",[R,T],Object.getOwnPropertyDescriptor(ot.prototype,"createDocument"),ot.prototype),Ct(ot.prototype,"onBeforeSave",[F,B],Object.getOwnPropertyDescriptor(ot.prototype,"onBeforeSave"),ot.prototype),Ct(ot.prototype,"onBeforeCreate",[V,H],Object.getOwnPropertyDescriptor(ot.prototype,"onBeforeCreate"),ot.prototype),Ct(ot.prototype,"onBeforeEdit",[N,j],Object.getOwnPropertyDescriptor(ot.prototype,"onBeforeEdit"),ot.prototype),Ct(ot.prototype,"onBeforeDiscard",[L,$],Object.getOwnPropertyDescriptor(ot.prototype,"onBeforeDiscard"),ot.prototype),Ct(ot.prototype,"onBeforeDelete",[G,U],Object.getOwnPropertyDescriptor(ot.prototype,"onBeforeDelete"),ot.prototype),Ct(ot.prototype,"saveDocument",[q,K],Object.getOwnPropertyDescriptor(ot.prototype,"saveDocument"),ot.prototype),Ct(ot.prototype,"cancelDocument",[W,z],Object.getOwnPropertyDescriptor(ot.prototype,"cancelDocument"),ot.prototype),Ct(ot.prototype,"deleteDocument",[J,X],Object.getOwnPropertyDescriptor(ot.prototype,"deleteDocument"),ot.prototype),Ct(ot.prototype,"applyDocument",[Q,Y],Object.getOwnPropertyDescriptor(ot.prototype,"applyDocument"),ot.prototype),Ct(ot.prototype,"invokeAction",[Z,tt],Object.getOwnPropertyDescriptor(ot.prototype,"invokeAction"),ot.prototype),Ct(ot.prototype,"securedExecution",[et,it],Object.getOwnPropertyDescriptor(ot.prototype,"securedExecution"),ot.prototype),ot))||nt);return At},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Feedback", ["sap/ui/core/Core"],function(e){"use strict";var n={};let t;(function(e){e["action"]="actions";e["standardAction"]="standardActions"})(t||(t={}));n.TriggerType=t;let a;(function(e){e["save"]="save"})(a||(a={}));n.StandardActions=a;const i="sap.feedback";const o="inapp.feature";function r(n,t,a){const r={areaId:n,triggerName:t,payload:a};e.getEventBus().publish(i,o,r)}n.triggerSurvey=r;function d(e,n,t){var a,i,o;const d=(a=e.getViewData())===null||a===void 0?void 0:(i=a.content)===null||i===void 0?void 0:i.feedback;const c=d===null||d===void 0?void 0:(o=d[t])===null||o===void 0?void 0:o[n];if(c){r(c.areaId,c.triggerName,c.payload)}}n.triggerConfiguredSurvey=d;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/IntentBasedNavigation", ["sap/fe/core/helpers/ClassSupport","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution"],function(t,e,n){"use strict";var i,r,o,a,p,u,c,l,s;var f={};var v=t.publicExtension;var d=t.finalExtension;var y=t.extensible;var g=t.defineUI5Class;function b(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;O(t,e)}function O(t,e){O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,n){e.__proto__=n;return e};return O(t,e)}function x(t,e,n,i,r){var o={};Object.keys(i).forEach(function(t){o[t]=i[t]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=n.slice().reverse().reduce(function(n,i){return i(t,e,n)||n},o);if(r&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(r):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(t,e,o);o=null}return o}let C;(function(t){t["Default"]="default";t["Initiator"]="initiator"})(C||(C={}));f.ContextStrategy=C;let P=(i=g("sap.fe.core.controllerextensions.IntentBasedNavigation"),r=v(),o=y(n.After),a=v(),p=y(n.After),u=d(),c=v(),i(l=(s=function(t){b(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;n.adaptContextPreparationStrategy=function t(e){return C.Default};n.adaptNavigationContext=function t(e,n){};n.navigateOutbound=function t(e,n){var i,r;const o=(i=this.base)===null||i===void 0?void 0:i.getView().getBindingContext("internal");o.setProperty("externalNavigationContext",{page:false});(r=this.base)===null||r===void 0?void 0:r._intentBasedNavigation.navigateOutbound(e,n)};return e}(e),x(s.prototype,"adaptContextPreparationStrategy",[r,o],Object.getOwnPropertyDescriptor(s.prototype,"adaptContextPreparationStrategy"),s.prototype),x(s.prototype,"adaptNavigationContext",[a,p],Object.getOwnPropertyDescriptor(s.prototype,"adaptNavigationContext"),s.prototype),x(s.prototype,"navigateOutbound",[u,c],Object.getOwnPropertyDescriptor(s.prototype,"navigateOutbound"),s.prototype),s))||l);return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/InternalIntentBasedNavigation", ["sap/base/Log","sap/base/util/merge","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/KeepAliveHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/navigation/SelectionVariant","sap/ui/core/Core","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","../converters/helpers/Aggregation","./editFlow/NotApplicableContextDialog"],function(t,e,o,n,i,r,a,s,l,p,c,g,u,f,d){"use strict";var v,h,y,m,b,O,C,P,A,x,S,M,_,j,w,N,E,$,D,F,V,I,B;var R=f.AggregationHelper;var T=l.getResourceModel;var L=r.publicExtension;var k=r.privateExtension;var W=r.methodOverride;var z=r.finalExtension;var H=r.extensible;var U=r.defineUI5Class;var J=i.convertTypes;function q(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;G(t,e)}function G(t,e){G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,o){e.__proto__=o;return e};return G(t,e)}function K(t,e,o,n,i){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=o.slice().reverse().reduce(function(o,n){return n(t,e,o)||o},r);if(i&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(i):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}let Q=(v=U("sap.fe.core.controllerextensions.InternalInternalBasedNavigation"),h=W(),y=L(),m=z(),b=L(),O=z(),C=L(),P=z(),A=L(),x=H(u.Instead),S=L(),M=z(),_=k(),j=L(),w=z(),N=L(),E=z(),$=L(),D=z(),F=L(),V=z(),v(I=(B=function(r){q(l,r);function l(){return r.apply(this,arguments)||this}var g=l.prototype;g.onInit=function t(){this._oAppComponent=this.base.getAppComponent();this._oMetaModel=this._oAppComponent.getModel().getMetaModel();this._oNavigationService=this._oAppComponent.getNavigationService();this._oView=this.base.getView()};g.navigate=function t(o,i,r){const l=t=>{const n=r&&r.navigationContexts,s=n&&!Array.isArray(n)?[n]:n,l=r&&r.semanticObjectMapping,g=r&&r.additionalNavigationParameters,u={semanticObject:o,action:i},f=this.base.getView(),d=f.getController();if(t){this._oView.setBindingContext(t)}if(o&&i){let t=[],n=new p;if(s&&s.length){s.forEach(e=>{if(e.isA&&e.isA("sap.ui.model.odata.v4.Context")){let o=e.getObject();const n=this._oMetaModel.getMetaPath(e.getPath());o=this.removeSensitiveData(o,n);const i=this.prepareContextForExternalNavigation(o,e);u["propertiesWithoutConflict"]=i.propertiesWithoutConflict;t.push(i.semanticAttributes)}else if(!(e&&Array.isArray(e.data))&&typeof e==="object"){t.push(this.removeSensitiveData(e.data,e.metaPath))}else if(e&&Array.isArray(e.data)){t=this.removeSensitiveData(e.data,e.metaPath)}})}if(t&&t.length){n=this._oNavigationService.mixAttributesAndSelectionVariant(t,n.toJSONString())}const v=this._oView.getModel(),h=this.getEntitySet(),y=h?this._oNavigationService.constructContextUrl(h,v):undefined;if(y){n.setFilterContextUrl(y)}if(g){this._applyOutboundParams(n,g)}d.intentBasedNavigation.adaptNavigationContext(n,u);if(l){this._applySemanticObjectMappings(n,l)}this._removeTechnicalParameters(n);const m=d._intentBasedNavigation.getNavigationMode();const b=r&&r.refreshStrategies||{},O=f.getModel("internal");if(O){if((f&&f.getViewData()).refreshStrategyOnAppRestore){const t=f.getViewData().refreshStrategyOnAppRestore||{};e(b,t)}const t=a.getRefreshStrategyForIntent(b,o,i);if(t){O.setProperty("/refreshStrategyOnAppRestore",t)}}const C=function(){sap.ui.require(["sap/m/MessageBox"],function(t){const e=c.getLibraryResourceBundle("sap.fe.core");t.error(e.getText("C_COMMON_HELPER_NAVIGATION_ERROR_MESSAGE"),{title:e.getText("C_COMMON_SAPFE_ERROR")})})};this._oNavigationService.navigate(o,i,n.toJSONString(),undefined,C,undefined,m)}else{throw new Error("Semantic Object/action is not provided")}};const g=this.base.getView().getBindingContext();const u=g&&g.getModel().getMetaModel();if(this.getView().getViewData().converterType==="ObjectPage"&&u&&!s.isStickySessionSupported(u)){n.processDataLossOrDraftDiscardConfirmation(l.bind(this),Function.prototype,this.base.getView().getBindingContext(),this.base.getView().getController(),true,n.NavigationType.ForwardNavigation)}else{l()}};g.prepareContextForExternalNavigation=function t(e,o){const n={},i=o.getPath(),r=o.getModel().getMetaModel(),a=r.getMetaPath(i),s=a.split("/").filter(Boolean);function l(t,e){for(const o in t){if(t[o]===null||typeof t[o]!=="object"){if(!n[o]){n[o]=[]}n[o].push(e)}else{const n=t[o];l(n,`${e}/${o}`)}}}l(e,a);const p=s[0],c=r.getObject(`/${p}/@sapui.name`),g={};let u,f,d;for(const t in n){const i=n[t];let s;if(i.length>1){for(let n=0;n<=i.length-1;n++){const s=i[n];let l=s.replace(s===a?a:`${a}/`,"");l=(l===""?l:`${l}/`)+t;const p=r.getObject(`${s}/@sapui.name`);if(p===c){u=l}if(s===a){f=l}d=l;e[`${a}/${l}`.split("/").filter(function(t){return t!=""}).join(".")]=o.getProperty(l)}s=u||f||d;e[t]=o.getProperty(s);u=undefined;f=undefined;d=undefined}else{const n=i[0];let r=n.replace(n===a?a:`${a}/`,"");r=(r===""?r:`${r}/`)+t;e[t]=o.getProperty(r);g[t]=`${a}/${r}`.split("/").filter(function(t){return t!=""}).join(".")}}for(const t in e){if(e[t]!==null&&typeof e[t]==="object"){delete e[t]}}return{semanticAttributes:e,propertiesWithoutConflict:g}};g.prepareFiltersForExternalNavigation=function t(e,o,n){let i;const r={};const a={};let s,l,p,c,g;function u(t){let e;for(let n in t){if(t[n]){if(n.includes("/")){e=n;const t=n.split("/");n=t[t.length-1]}else{e=o}if(!r[n]){r[n]=[]}r[n].push(e)}}}u(e);for(const t in r){const u=r[t];if(u.length>1){for(let r=0;r<=u.length-1;r++){i=u[r];if(i===o){p=`${o}/${t}`;g=t;s=t;if(n&&n.includes(t)){e[`$Parameter.${t}`]=e[t]}}else{g=i;p=`${o}/${i}`.replaceAll(/\*/g,"");l=i}e[p.split("/").filter(function(t){return t!=""}).join(".")]=e[g];delete e[i]}c=s||l;e[t]=e[c]}else{i=u[0];p=i===o?`${o}/${t}`:`${o}/${i}`.replaceAll("*","");a[t]=p.split("/").filter(function(t){return t!=""}).join(".");if(n&&n.includes(t)){e[`$Parameter.${t}`]=e[t]}}}return{filterConditions:e,filterConditionsWithoutConflict:a}};g.getNavigationMode=function t(){return undefined};g.navigateWithConfirmationDialog=async function t(e,o,n){var i;let r=true;if(n!==null&&n!==void 0&&n.notApplicableContexts&&((i=n.notApplicableContexts)===null||i===void 0?void 0:i.length)>=1){const t=this.getView().getModel().getMetaModel();const e=t.getMetaPath(n.notApplicableContexts[0].getPath());const o=J(t);const i=o.resolvePath(e).target;const a=new d({title:"",entityType:i.entityType,resourceModel:T(this.getView()),notApplicableContexts:n.notApplicableContexts});n.navigationContexts=n.applicableContexts;r=await a.open(this.getView())}if(r){this.navigate(e,o,n)}};g._removeTechnicalParameters=function t(e){e.removeSelectOption("@odata.context");e.removeSelectOption("@odata.metadataEtag");e.removeSelectOption("SAP__Messages")};g.getEntitySet=function t(){return this._oView.getViewData().entitySet};g.removeSensitiveData=function t(e,o){if(e){const{transAggregations:t,customAggregates:s}=this._getAggregates(o,this.base.getView(),this.base.getAppComponent().getDiagnostics());const l=Object.keys(e);if(l.length){delete e["@odata.context"];delete e["@odata.metadataEtag"];delete e["SAP__Messages"];for(const p of l){if(e[p]&&typeof e[p]==="object"){this.removeSensitiveData(e[p],`${o}/${p}`)}if(p.indexOf("@odata.type")>-1){delete e[p];continue}this._deleteAggregates([...t,...s],p,e);const l=this._getPropertyAnnotations(p,o,e,this._oMetaModel);if(l){var n,i,r,a;if((n=l.PersonalData)!==null&&n!==void 0&&n.IsPotentiallySensitive||(i=l.UI)!==null&&i!==void 0&&i.ExcludeFromNavigationContext||(r=l.Analytics)!==null&&r!==void 0&&r.Measure){delete e[p]}else if((a=l.Common)!==null&&a!==void 0&&a.FieldControl){const t=l.Common.FieldControl;if(t["$EnumMember"]&&t["$EnumMember"].split("/")[1]==="Inapplicable"||t["$Path"]&&this._isFieldControlPathInapplicable(t["$Path"],e)){delete e[p]}}}}}}return e};g._deleteAggregates=function t(e,o,n){if(e&&e.indexOf(o)>-1){delete n[o]}};g._getPropertyAnnotations=function t(e,o,n,r){if(n[e]&&o&&!o.includes("undefined")){var a;const t=r.createBindingContext(`${o}/${e}`);const n=i.getInvolvedDataModelObjects(t);return n===null||n===void 0?void 0:(a=n.targetObject)===null||a===void 0?void 0:a.annotations}return null};g._getAggregates=function t(e,o,n){const i=this._getConverterContext(e,o,n);const r=new R(i.getEntityType(),i);const a=r.isAnalyticsSupported();let s,l;if(a){var p,c;s=r.getTransAggregations();if((p=s)!==null&&p!==void 0&&p.length){s=s.map(t=>t.Name||t.Value)}l=r.getCustomAggregateDefinitions();if((c=l)!==null&&c!==void 0&&c.length){l=l.map(t=>t.qualifier)}}s=s?s:[];l=l?l:[];return{transAggregations:s,customAggregates:l}};g._getConverterContext=function t(e,n,i){const r=n.getViewData();let a=r.entitySet;const s=r.contextPath;if(s&&(!a||a.includes("/"))){a=r===null||r===void 0?void 0:r.fullContextPath.split("/")[1]}return o.getConverterContextForPath(e,n.getModel().getMetaModel(),a,i)};g._isFieldControlPathInapplicable=function t(e,o){let n=false;const i=e.split("/");if(i.length>1){n=o[i[0]]&&o[i[0]].hasOwnProperty(i[1])&&o[i[0]][i[1]]===0}else{n=o[e]===0}return n};g._applySemanticObjectMappings=function t(e,o){const n=typeof o==="string"?JSON.parse(o):o;for(let t=0;t<n.length;t++){const o=n[t]["LocalProperty"]&&n[t]["LocalProperty"]["$PropertyPath"]||n[t]["@com.sap.vocabularies.Common.v1.LocalProperty"]&&n[t]["@com.sap.vocabularies.Common.v1.LocalProperty"]["$Path"];const i=n[t]["SemanticObjectProperty"]||n[t]["@com.sap.vocabularies.Common.v1.SemanticObjectProperty"];const r=e.getSelectOption(o);if(r){e.removeSelectOption(o);e.massAddSelectOption(i,r)}}return e};g.navigateOutbound=function e(o,n){var i,r;let a;const s=this.base.getAppComponent().getManifestEntry("sap.app"),l=(i=s.crossNavigation)===null||i===void 0?void 0:(r=i.outbounds)===null||r===void 0?void 0:r[o];if(!l){t.error("Outbound is not defined in manifest!!");return}const p=l.semanticObject,c=l.action,g=l.parameters&&this.getOutboundParams(l.parameters);if(n){a=[];Object.keys(n).forEach(function(t){let e;if(Array.isArray(n[t])){const i=n[t];for(let n=0;n<i.length;n++){var o;e={};e[t]=i[n];(o=a)===null||o===void 0?void 0:o.push(e)}}else{var i;e={};e[t]=n[t];(i=a)===null||i===void 0?void 0:i.push(e)}})}if(a||g){n={navigationContexts:{data:a||g}}}this.base._intentBasedNavigation.navigate(p,c,n)};g._applyOutboundParams=function t(e,o){const n=Object.keys(o);const i=e.getSelectOptionsPropertyNames();n.forEach(function(t){if(!i.includes(t)){e.addSelectOption(t,"I","EQ",o[t])}});return e};g.getOutboundParams=function t(e){const o={};if(e){const t=Object.keys(e)||[];if(t.length>0){t.forEach(function(t){const n=e[t];if(n.value&&n.value.value&&n.value.format==="plain"){if(!o[t]){o[t]=n.value.value}}})}}return o};g.onChevronPressNavigateOutBound=function t(e,o,n,i){const r=e.getAppComponent().getRoutingService().getOutbounds();const a=r[o];let l;if(a&&a.semanticObject&&a.action){const t={intents:{}};const o={};let r;if(n){if(n.isA&&n.isA("sap.ui.model.odata.v4.Context")){r=s.getMetaPathForContext(n);n=[n]}else{r=s.getMetaPathForContext(n[0])}o[r]="self";t["_feDefault"]=o}if(i){const e=`${a.semanticObject}-${a.action}`;t.intents[e]={};t.intents[e][i]="self"}if(a&&a.parameters){const t=a.parameters&&this.getOutboundParams(a.parameters);if(Object.keys(t).length>0){l=t}}e._intentBasedNavigation.navigate(a.semanticObject,a.action,{navigationContexts:n,refreshStrategies:t,additionalNavigationParameters:l});return Promise.resolve()}else{throw new Error(`outbound target ${o} not found in cross navigation definition of manifest`)}};return l}(g),K(B.prototype,"onInit",[h],Object.getOwnPropertyDescriptor(B.prototype,"onInit"),B.prototype),K(B.prototype,"navigate",[y,m],Object.getOwnPropertyDescriptor(B.prototype,"navigate"),B.prototype),K(B.prototype,"prepareContextForExternalNavigation",[b,O],Object.getOwnPropertyDescriptor(B.prototype,"prepareContextForExternalNavigation"),B.prototype),K(B.prototype,"prepareFiltersForExternalNavigation",[C,P],Object.getOwnPropertyDescriptor(B.prototype,"prepareFiltersForExternalNavigation"),B.prototype),K(B.prototype,"getNavigationMode",[A,x],Object.getOwnPropertyDescriptor(B.prototype,"getNavigationMode"),B.prototype),K(B.prototype,"navigateWithConfirmationDialog",[S,M],Object.getOwnPropertyDescriptor(B.prototype,"navigateWithConfirmationDialog"),B.prototype),K(B.prototype,"getEntitySet",[_],Object.getOwnPropertyDescriptor(B.prototype,"getEntitySet"),B.prototype),K(B.prototype,"removeSensitiveData",[j,w],Object.getOwnPropertyDescriptor(B.prototype,"removeSensitiveData"),B.prototype),K(B.prototype,"navigateOutbound",[N,E],Object.getOwnPropertyDescriptor(B.prototype,"navigateOutbound"),B.prototype),K(B.prototype,"getOutboundParams",[$,D],Object.getOwnPropertyDescriptor(B.prototype,"getOutboundParams"),B.prototype),K(B.prototype,"onChevronPressNavigateOutBound",[F,V],Object.getOwnPropertyDescriptor(B.prototype,"onChevronPressNavigateOutBound"),B.prototype),B))||I);return Q},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/InternalRouting", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/collaboration/ActivitySync","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/controllerextensions/routing/NavigationReason","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/EditState","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/SemanticKeyHelper","sap/ui/core/Component","sap/ui/core/Core","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(t,e,o,n,i,r,a,s,c,g,l,p,u,h,f,d){"use strict";var C,v,P,_,y,m,x,b,w,O,B,R,E,S,A,D,F,M,T,V,I,L,$,j,k,H,N,q,K,z,U,Q;var W=a.publicExtension;var X=a.methodOverride;var G=a.finalExtension;var J=a.extensible;var Y=a.defineUI5Class;var Z=n.isConnected;function tt(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;et(t,e)}function et(t,e){et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,o){e.__proto__=o;return e};return et(t,e)}function ot(t,e,o,n,i){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=o.slice().reverse().reduce(function(o,n){return n(t,e,o)||o},r);if(i&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(i):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}let nt=(C=Y("sap.fe.core.controllerextensions.InternalRouting"),v=X(),P=X(),_=W(),y=J(h.After),m=W(),x=J(h.After),b=W(),w=J(h.After),O=W(),B=J(h.After),R=W(),E=W(),S=W(),A=G(),D=W(),F=G(),M=W(),T=G(),V=W(),I=G(),L=W(),$=G(),j=W(),k=G(),H=W(),N=W(),q=G(),K=W(),z=J(h.Before),C(U=(Q=function(n){tt(a,n);function a(){return n.apply(this,arguments)||this}var u=a.prototype;u.onExit=function t(){if(this._oRoutingService){this._oRoutingService.detachRouteMatched(this._fnRouteMatchedBound)}};u.onInit=function t(){this._oView=this.base.getView();this._oAppComponent=e.getAppComponent(this._oView);this._oPageComponent=l.getOwnerComponentFor(this._oView);this._oRouter=this._oAppComponent.getRouter();this._oRouterProxy=this._oAppComponent.getRouterProxy();if(!this._oAppComponent||!this._oPageComponent){throw new Error("Failed to initialize controler extension 'sap.fe.core.controllerextesions.InternalRouting")}if(this._oAppComponent===this._oPageComponent){this._oPageComponent=null}this._oAppComponent.getService("routingService").then(t=>{this._oRoutingService=t;this._fnRouteMatchedBound=this._onRouteMatched.bind(this);this._oRoutingService.attachRouteMatched(this._fnRouteMatchedBound);this._oTargetInformation=t.getTargetInformationFor(this._oPageComponent||this._oView)}).catch(function(){throw new Error("This controller extension cannot work without a 'routingService' on the main AppComponent")})};u.onRouteMatched=function t(){};u.onRouteMatchedFinished=function t(){};u.onBeforeBinding=function t(e,o){const n=this.base.getView().getController().routing;if(n&&n.onBeforeBinding){n.onBeforeBinding(e,o)}};u.onAfterBinding=function t(e,o){this._oAppComponent.getRootViewController().onContextBoundToView(e);const n=this.base.getView().getController().routing;if(n&&n.onAfterBinding){n.onAfterBinding(e,o)}};u.navigateToTarget=function t(e,o,n){const i=this._oPageComponent&&this._oPageComponent.getNavigationConfiguration&&this._oPageComponent.getNavigationConfiguration(o);if(i){const t=i.detail;const o=t.route;const r=t.parameters;this._oRoutingService.navigateTo(e,o,r,n)}else{this._oRoutingService.navigateTo(e,null,null,n)}this._oView.getViewData()};u.navigateToRoute=function t(e,o){return this._oRoutingService.navigateToRoute(e,o)};u.navigateToContext=function e(o,n){const i={};n=n||{};if(o.isA("sap.ui.model.odata.v4.ODataListBinding")){if(n.asyncContext){this._oRouterProxy.activateRouteMatchSynchronization();n.asyncContext.then(t=>{this.navigateToContext(t,{checkNoHashChange:n.checkNoHashChange,editable:n.editable,bPersistOPScroll:n.bPersistOPScroll,updateFCLLevel:n.updateFCLLevel,bForceFocus:n.bForceFocus})}).catch(function(e){t.error("Error with the async context",e)})}else if(!n.bDeferredContext){throw"navigation to a list binding is not yet supported"}}if(n.callExtension){const t=this._oView.getModel("internal");t.setProperty("/paginatorCurrentContext",null);i.sourceBindingContext=o.getObject();i.bindingContext=o;if(n.oEvent){i.oEvent=n.oEvent}const e=this.base.getView().getController().routing.onBeforeNavigation(i);if(e){t.setProperty("/paginatorCurrentContext",o);return Promise.resolve(true)}}n.FCLLevel=this._getFCLLevel();return this._oRoutingService.navigateToContext(o,n,this._oView.getViewData(),this._oTargetInformation)};u.navigateBackFromContext=function t(e,o){o=o||{};o.updateFCLLevel=-1;return this.navigateToContext(e,o)};u.navigateForwardToContext=function t(e,o){var n;if(((n=this._oView.getBindingContext("internal"))===null||n===void 0?void 0:n.getProperty("messageFooterContainsErrors"))===true){return Promise.resolve(true)}o=o||{};o.updateFCLLevel=1;return this.navigateToContext(e,o)};u.navigateBackFromTransientState=function t(){const e=this._oRouterProxy.getHash();if(e.indexOf("(...)")!==-1){this._oRouterProxy.navBack()}};u.navigateToMessagePage=function t(e,o){o=o||{};if(this._oRouterProxy.getHash().indexOf("i-action=create")>-1||this._oRouterProxy.getHash().indexOf("i-action=autoCreate")>-1){return this._oRouterProxy.navToHash(this._oRoutingService.getDefaultCreateHash())}else{o.FCLLevel=this._getFCLLevel();return this._oAppComponent.getRootViewController().displayErrorPage(e,o)}};u.isCurrentStateImpactedBy=function t(e){return this._oRoutingService.isCurrentStateImpactedBy(e)};u._isViewPartOfRoute=function t(e){const o=e===null||e===void 0?void 0:e.targets;if(!o||o.indexOf(this._oTargetInformation.targetName)===-1){if((this._oTargetInformation.viewLevel??0)>=((e===null||e===void 0?void 0:e.routeLevel)??0)){this._setBindingContext(null)}return false}return true};u._buildBindingPath=function t(e,o,n){let i=o.replace(":?query:","");let r=false;for(const t in e){const a=e[t];if(a==="..."&&o.indexOf(`{${t}}`)>=0){r=true;n.bTargetEditable=true}i=i.replace(`{${t}}`,a)}if(e["?query"]&&e["?query"].hasOwnProperty("i-action")){n.bActionCreate=true}if(i&&i[0]!=="/"){i=`/${i}`}return{path:i,deferred:r}};u._onRouteMatched=function t(e){if(!this._isViewPartOfRoute(e.getParameter("routeInformation"))){return}let o;if(this._oPageComponent&&this._oPageComponent.getBindingContextPattern){o=this._oPageComponent.getBindingContextPattern()}o=o||this._oTargetInformation.contextPattern;if(o===null||o===undefined){o=e.getParameter("routePattern")}const n=e.getParameters().arguments;const i=e.getParameter("navigationInfo");const{path:r,deferred:a}=this._buildBindingPath(n,o,i);this.onRouteMatched();const s=this._oView.getModel();let c;if(a){c=this._bindDeferred(r,i)}else{c=this._bindPage(r,s,i)}c.finally(()=>{this.onRouteMatchedFinished()});this._oAppComponent.getRootViewController().updateUIStateForView(this._oView,this._getFCLLevel())};u._bindDeferred=function t(e,o){this.onBeforeBinding(null,{editable:o.bTargetEditable});if(o.bDeferredContext||!o.oAsyncContext){if(this._oPageComponent&&this._oPageComponent.createDeferredContext){this._oPageComponent.createDeferredContext(e,o.useContext,o.bActionCreate)}}const n=this._getBindingContext();if(n!==null&&n!==void 0&&n.hasPendingChanges()){n.getBinding().resetChanges()}this._setBindingContext(null);this.onAfterBinding(null);return Promise.resolve()};u._bindPage=function t(e,o,n){if(e===""){return Promise.resolve(this._bindPageToContext(null,o,n))}else{return this._resolveSemanticPath(e,o).then(t=>{this._bindPageToPath(t,o,n)}).catch(t=>{const e=p.getLibraryResourceBundle("sap.fe.core");this.navigateToMessagePage(e.getText("C_COMMON_SAPFE_DATA_RECEIVED_ERROR"),{title:e.getText("C_COMMON_SAPFE_ERROR"),description:t.message})})}};u._createFilterFromSemanticPath=function t(e,o,n){const i=function(t){if(t.indexOf("'")===0&&t.lastIndexOf("'")===t.length-1){t=decodeURIComponent(t.substring(1,t.length-1))}return t};const r=e.substring(e.indexOf("(")+1,e.length-1).split(",");let a;if(o.length!=r.length){return null}const s=c.isFilteringCaseSensitive(n);if(o.length===1){const t=i(r[0]);a=[new f({path:o[0].$PropertyPath,operator:d.EQ,value1:t,caseSensitive:s})]}else{const t={};r.forEach(function(e){const o=e.split("="),n=i(o[1]);t[o[0]]=n});let e=false;a=o.map(function(o){const n=o.$PropertyPath,i=t[n];if(i!==undefined){return new f({path:n,operator:d.EQ,value1:i,caseSensitive:s})}else{e=true;return new f({path:"XX"})}});if(e){return null}}const g=new f({filters:[new f("IsActiveEntity","EQ",false),new f("SiblingEntity/IsActiveEntity","EQ",null)],and:false});a.push(g);return new f(a,true)};u._getTechnicalPathFromSemanticPath=function t(e,o,n){var i;const r=o.getMetaModel();let a=r.getMetaContext(e).getPath();if(!n||n.length===0){return Promise.resolve(null)}const s=this._createFilterFromSemanticPath(e,n,r);if(s===null){return Promise.resolve(null)}if(!((i=a)!==null&&i!==void 0&&i.startsWith("/"))){a=`/${a}`}const c=o.bindList(a,undefined,undefined,s,{$$groupId:"$auto.Heroes"});return c.requestContexts(0,2).then(function(t){if(t&&t.length){return t[0].getPath()}else{return null}})};u._checkPathForSemanticBookmarking=function t(e,o){const n=/^[/]?(\w+)\([^/]+\)$/.exec(e);if(!n){return false}const i=`/${n[1]}`;const r=o.getObject(`${i}@com.sap.vocabularies.Common.v1.DraftRoot`);const a=o.getObject(`${i}@com.sap.vocabularies.Common.v1.DraftNode`);return r||a?true:false};u._resolveSemanticPath=function t(e,o){const n=o.getMetaModel();const i=this._oRoutingService.getLastSemanticMapping();let r=this._oRouter.getHashChanger().getHash().split("?")[0];if(r&&r.lastIndexOf("/")===r.length-1){r=r.substring(0,r.length-1)}let a=r&&r.substr(0,r.indexOf("("));if(a.indexOf("/")===0){a=a.substring(1)}const s=this._checkPathForSemanticBookmarking(r,n),c=s&&g.getSemanticKeys(n,a);if(!c){return Promise.resolve(e)}else if(i&&i.semanticPath===e){return Promise.resolve(i.technicalPath)}else{return this._getTechnicalPathFromSemanticPath(r,o,c).then(t=>{if(t&&t!==e){this._oRoutingService.setLastSemanticMapping({technicalPath:t,semanticPath:e});return t}else{return e}})}};u._bindPageToPath=function t(e,o,n){const i=this._getBindingContext(),a=i&&i.getPath(),g=n.useContext;if(g&&g.getPath()===e){if(g!==i){const t=this._oAppComponent.getRootViewController();if(t.isFclEnabled()&&n.reason===r.RowPress){const t=g.getModel().getMetaModel();if(!g.getBinding().hasPendingChanges()){g.refresh()}else if(Z(this.getView())||c.isDraftSupported(t,g.getPath())&&c.isCollaborationDraftSupported(t)){g.getBinding().resetChanges();g.refresh()}}this._bindPageToContext(g,o,n)}}else if(a!==e){this._bindPageToContext(this._createContext(e,o),o,n)}else if(n.reason!==r.AppStateChanged&&s.isEditStateDirty()){this._refreshBindingContext(i)}};u._bindPageToContext=function e(o,n,i){if(!o){this.onBeforeBinding(null);this.onAfterBinding(null);return}const r=o.getBinding();const a=this._oAppComponent.getRootViewController();if(a.isFclEnabled()){if(!r||!r.isA("sap.ui.model.odata.v4.ODataListBinding")){o=this._createContext(o.getPath(),n)}try{this._setKeepAlive(o,true,()=>{if(a.isContextUsedInPages(o)){this.navigateBackFromContext(o)}},true)}catch(e){t.error(`View for ${o.getPath()} won't be synchronized. Parent listBinding must have binding parameter $$ownRequest=true`)}}else if(!r||r.isA("sap.ui.model.odata.v4.ODataListBinding")){o=this._createContext(o.getPath(),n)}this.onBeforeBinding(o,{editable:i.bTargetEditable,listBinding:r,bPersistOPScroll:i.bPersistOPScroll,bDraftNavigation:i.bDraftNavigation,showPlaceholder:i.bShowPlaceholder});this._setBindingContext(o);this.onAfterBinding(o)};u._createContext=function e(n,i){const r=this._oPageComponent,a=r&&r.getEntitySet&&r.getEntitySet(),s=r&&r.getContextPath&&r.getContextPath()||a&&`/${a}`,c=i.getMetaModel(),g={$$groupId:"$auto.Heroes",$$updateGroupId:"$auto",$$patchWithoutSideEffects:true};const l=c.getObject(`${s}@com.sap.vocabularies.Common.v1.DraftRoot`);const p=c.getObject(`${s}@com.sap.vocabularies.Common.v1.DraftNode`);const u=this._oAppComponent.getRootViewController();if(u.isFclEnabled()){const t=this._getKeepAliveContext(i,n,false,g);if(!t){throw new Error(`Cannot create keepAlive context ${n}`)}else if(l||p){if(t.getProperty("IsActiveEntity")===undefined){t.requestProperty(["HasActiveEntity","HasDraftEntity","IsActiveEntity"]);if(l){t.requestObject("DraftAdministrativeData")}}else{t.requestSideEffects(l?["HasActiveEntity","HasDraftEntity","IsActiveEntity","DraftAdministrativeData"]:["HasActiveEntity","HasDraftEntity","IsActiveEntity"])}}return t}else{if(a){const t=c.getObject(`${s}/@com.sap.vocabularies.Common.v1.Messages/$Path`);if(t){g.$select=t}}if(l||p){if(g.$select===undefined){g.$select="HasActiveEntity,HasDraftEntity,IsActiveEntity"}else{g.$select+=",HasActiveEntity,HasDraftEntity,IsActiveEntity"}}if(this._oView.getBindingContext()){var h;const e=(h=this._oView.getBindingContext())===null||h===void 0?void 0:h.getBinding();e===null||e===void 0?void 0:e.resetChanges().then(()=>{e.destroy()}).catch(e=>{t.error("Error while reseting the changes to the binding",e)})}const e=i.bindContext(n,undefined,g);e.attachEventOnce("dataRequested",()=>{o.lock(this._oView)});e.attachEventOnce("dataReceived",this.onDataReceived.bind(this));return e.getBoundContext()}};u.onDataReceived=async function e(n){const i=n&&n.getParameter("error");if(o.isLocked(this._oView)){o.unlock(this._oView)}if(i){try{const t=await p.getLibraryResourceBundle("sap.fe.core",true);const e=this.base.messageHandler;let o={};if(i.status===503){o={isInitialLoad503Error:true,shellBack:true}}else if(i.status===400){o={title:t.getText("C_COMMON_SAPFE_ERROR"),description:t.getText("C_COMMON_SAPFE_DATA_RECEIVED_ERROR_DESCRIPTION"),isDataReceivedError:true,shellBack:true}}else{o={title:t.getText("C_COMMON_SAPFE_ERROR"),description:i,isDataReceivedError:true,shellBack:true}}await e.showMessages(o)}catch(e){t.error("Error while getting the core resource bundle",e)}}};u._refreshBindingContext=function t(e){const o=this._oPageComponent;const n=this._oAppComponent.getSideEffectsService();const i=e.getPath();const r=o&&o.getEntitySet&&o.getEntitySet();const a=o&&o.getContextPath&&o.getContextPath()||r&&`/${r}`;const s=this._oView.getModel().getMetaModel();let c;const g=[];const l=[];const p={targetProperties:[],targetEntities:[]};function u(t){let e;const o=(t.getContext()&&t.getContext().getPath()||"").replace(i,"");const n=(o?`${o.slice(1)}/`:o)+t.getPath();if(t.isA("sap.ui.model.odata.v4.ODataContextBinding")){e=t.getDependentBindings();if(e){for(let t=0;t<e.length;t++){u(e[t])}}else if(g.indexOf(n)===-1){g.push(n)}}else if(t.isA("sap.ui.model.odata.v4.ODataListBinding")){if(g.indexOf(n)===-1){g.push(n)}}else if(t.isA("sap.ui.model.odata.v4.ODataPropertyBinding")){if(l.indexOf(n)===-1){l.push(n)}}}if(a){c=s.getObject(`${a}/@com.sap.vocabularies.Common.v1.Messages/$Path`)}u(e.getBinding());let h;for(h=0;h<g.length;h++){p.targetEntities.push({$NavigationPropertyPath:g[h]})}p.targetProperties=l;if(c){p.targetProperties.push(c)}p.targetProperties=p.targetProperties.reduce((t,e)=>{if(e){const o=e.indexOf("/");t.push(o>0?e.slice(0,o):e)}return t},[]);n.requestSideEffects([...p.targetEntities,...p.targetProperties],e)};u._getBindingContext=function t(){if(this._oPageComponent){return this._oPageComponent.getBindingContext()}else{return this._oView.getBindingContext()}};u._setBindingContext=function t(e){var o;let n,i;if(this._oPageComponent){n=this._oPageComponent.getBindingContext();i=this._oPageComponent}else{n=this._oView.getBindingContext();i=this._oView}i.setBindingContext(e);if((o=n)!==null&&o!==void 0&&o.isKeepAlive()&&n!==e){this._setKeepAlive(n,false)}};u._getFCLLevel=function t(){return this._oTargetInformation.FCLLevel};u._setKeepAlive=function t(e,o,n,i){if(e.getPath().endsWith(")")){const t=e.getModel().getMetaModel();const r=t.getMetaPath(e.getPath());const a=t.getObject(`${r}/@com.sap.vocabularies.Common.v1.Messages/$Path`);e.setKeepAlive(o,n,!!a&&i)}};u._getKeepAliveContext=function t(e,o,n,i){const r=o.split("/");const a=[];while(r.length&&!r[r.length-1].endsWith(")")){a.push(r.pop())}if(r.length===0){return undefined}const s=r.join("/");const c=e.getKeepAliveContext(s,n,i);if(a.length===0){return c}else{a.reverse();const t=a.join("/");return e.bindContext(t,c).getBoundContext()}};u.switchFullScreen=function e(){const o=this.base.getView();const n=o.getModel("fclhelper"),i=n.getProperty("/actionButtonsInfo/isFullScreen"),r=n.getProperty(i?"/actionButtonsInfo/exitFullScreen":"/actionButtonsInfo/fullScreen"),a=this._oAppComponent.getRootViewController();const s=a.getRightmostContext?a.getRightmostContext():o.getBindingContext();this.base._routing.navigateToContext(s,{sLayout:r}).catch(function(){t.warning("cannot switch between column and fullscreen")})};u.closeColumn=function t(){const e=this._oView.getViewData();const o=this._oView.getBindingContext();const n=o.getModel().getMetaModel();const r={noPreservationCache:true,sLayout:this._oView.getModel("fclhelper").getProperty("/actionButtonsInfo/closeColumn")};if((e===null||e===void 0?void 0:e.viewLevel)===1&&c.isDraftSupported(n,o.getPath())){i.processDataLossOrDraftDiscardConfirmation(()=>{this.navigateBackFromContext(o,r)},Function.prototype,o,this._oView.getController(),false,i.NavigationType.BackNavigation)}else{this.navigateBackFromContext(o,r)}};return a}(u),ot(Q.prototype,"onExit",[v],Object.getOwnPropertyDescriptor(Q.prototype,"onExit"),Q.prototype),ot(Q.prototype,"onInit",[P],Object.getOwnPropertyDescriptor(Q.prototype,"onInit"),Q.prototype),ot(Q.prototype,"onRouteMatched",[_,y],Object.getOwnPropertyDescriptor(Q.prototype,"onRouteMatched"),Q.prototype),ot(Q.prototype,"onRouteMatchedFinished",[m,x],Object.getOwnPropertyDescriptor(Q.prototype,"onRouteMatchedFinished"),Q.prototype),ot(Q.prototype,"onBeforeBinding",[b,w],Object.getOwnPropertyDescriptor(Q.prototype,"onBeforeBinding"),Q.prototype),ot(Q.prototype,"onAfterBinding",[O,B],Object.getOwnPropertyDescriptor(Q.prototype,"onAfterBinding"),Q.prototype),ot(Q.prototype,"navigateToTarget",[R],Object.getOwnPropertyDescriptor(Q.prototype,"navigateToTarget"),Q.prototype),ot(Q.prototype,"navigateToRoute",[E],Object.getOwnPropertyDescriptor(Q.prototype,"navigateToRoute"),Q.prototype),ot(Q.prototype,"navigateToContext",[S,A],Object.getOwnPropertyDescriptor(Q.prototype,"navigateToContext"),Q.prototype),ot(Q.prototype,"navigateBackFromContext",[D,F],Object.getOwnPropertyDescriptor(Q.prototype,"navigateBackFromContext"),Q.prototype),ot(Q.prototype,"navigateForwardToContext",[M,T],Object.getOwnPropertyDescriptor(Q.prototype,"navigateForwardToContext"),Q.prototype),ot(Q.prototype,"navigateBackFromTransientState",[V,I],Object.getOwnPropertyDescriptor(Q.prototype,"navigateBackFromTransientState"),Q.prototype),ot(Q.prototype,"navigateToMessagePage",[L,$],Object.getOwnPropertyDescriptor(Q.prototype,"navigateToMessagePage"),Q.prototype),ot(Q.prototype,"isCurrentStateImpactedBy",[j,k],Object.getOwnPropertyDescriptor(Q.prototype,"isCurrentStateImpactedBy"),Q.prototype),ot(Q.prototype,"onDataReceived",[H],Object.getOwnPropertyDescriptor(Q.prototype,"onDataReceived"),Q.prototype),ot(Q.prototype,"switchFullScreen",[N,q],Object.getOwnPropertyDescriptor(Q.prototype,"switchFullScreen"),Q.prototype),ot(Q.prototype,"closeColumn",[K,z],Object.getOwnPropertyDescriptor(Q.prototype,"closeColumn"),Q.prototype),Q))||U);return nt},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/KPIManagement", ["sap/base/Log","sap/fe/core/formatters/TableFormatterTypes","sap/m/Popover","sap/ui/core/Core","sap/ui/core/format/DateFormat","sap/ui/core/format/NumberFormat","sap/ui/core/Locale","sap/ui/core/mvc/ControllerExtension","sap/ui/model/Filter","sap/ui/model/json/JSONModel","sap/ui/model/Sorter","../helpers/ClassSupport"],function(e,t,a,n,i,r,o,s,l,d,u,c){"use strict";var p,f,g,m,h,y;var P=c.publicExtension;var b=c.methodOverride;var v=c.defineUI5Class;var D=t.MessageType;function C(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}function I(e,t){I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,a){t.__proto__=a;return t};return I(e,t)}function N(e,t,a,n,i){var r={};Object.keys(n).forEach(function(e){r[e]=n[e]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=a.slice().reverse().reduce(function(a,n){return n(e,t,a)||a},r);if(i&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(i):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(e,t,r);r=null}return r}const $={1:D.Error,2:D.Warning,3:D.Success,5:D.Information};const T={Error:"Error",Warning:"Critical",Success:"Good",Information:"None",None:"None"};function S(e,t){let a;if(t[0]!==undefined&&t[0]!==null&&e<t[0]){a=D.Error}else if(t[1]!==undefined&&t[1]!==null&&e<t[1]){a=D.Warning}else if(t[2]!==undefined&&t[2]!==null&&e<t[2]){a=D.None}else if(t[5]!==undefined&&t[5]!==null&&e>t[5]){a=D.Error}else if(t[4]!==undefined&&t[4]!==null&&e>t[4]){a=D.Warning}else if(t[3]!==undefined&&t[3]!==null&&e>t[3]){a=D.None}else{a=D.Success}return a}function j(e,t){let a;if(t[2]!==undefined&&t[2]!==null&&e>t[2]){a=D.Error}else if(t[1]!==undefined&&t[1]!==null&&e>t[1]){a=D.Warning}else if(t[0]!==undefined&&t[0]!==null&&e>t[0]){a=D.None}else{a=D.Success}return a}function w(e,t){let a;if(t[0]!==undefined&&t[0]!==null&&e<t[0]){a=D.Error}else if(t[1]!==undefined&&t[1]!==null&&e<t[1]){a=D.Warning}else if(t[2]!==undefined&&t[2]!==null&&e<t[2]){a=D.None}else{a=D.Success}return a}function x(e){let t;switch(e){case 1:case"1":case 2:case"2":t="Up";break;case 4:case"4":case 5:case"5":t="Down";break;default:t="None"}return t}function A(e,t,a,n){let i;if(!n||a&&!t){return"None"}const r=a?(e-t)/t:e-t;if(n[0]!==undefined&&n[0]!==null&&r<=n[0]){i="Down"}else if(n[1]!==undefined&&n[1]!==null&&r<=n[1]){i="Down"}else if(n[3]!==undefined&&n[3]!==null&&r>=n[3]){i="Up"}else if(n[2]!==undefined&&n[2]!==null&&r>=n[2]){i="Up"}else{i="None"}return i}function F(e){if(e.ranges.length===0){return undefined}else if(e.ranges.length===1){return new l(e.propertyPath,e.ranges[0].operator,e.ranges[0].rangeLow,e.ranges[0].rangeHigh)}else{const t=e.ranges.map(t=>new l(e.propertyPath,t.operator,t.rangeLow,t.rangeHigh));return new l({filters:t,and:false})}}function V(e){const t=new o(sap.ui.getCore().getConfiguration().getLanguage());const a=n.getLibraryResourceBundle("sap.fe.core");const r=i.getDateInstance({style:"medium"},t);function s(t){const n=e.propertyType.indexOf("Edm.Date")===0?r.format(new Date(t.rangeLow)):t.rangeLow;const i=e.propertyType.indexOf("Edm.Date")===0?r.format(new Date(t.rangeHigh)):t.rangeHigh;switch(t.operator){case"BT":return`[${n} - ${i}]`;case"Contains":return`*${n}*`;case"GE":return`${n}`;case"GT":return`>${n}`;case"LE":return`${n}`;case"LT":return`<${n}`;case"NB":return a.getText("C_KPICARD_FILTERSTRING_NOT",[`[${n} - ${i}]`]);case"NE":return`${n}`;case"NotContains":return a.getText("C_KPICARD_FILTERSTRING_NOT",[`*${n}*`]);case"EQ":default:return n}}if(e.ranges.length===0){return""}else if(e.ranges.length===1){return s(e.ranges[0])}else{return`(${e.ranges.map(s).join(",")})`}}function O(e){const t=n.getLibraryResourceBundle("sap.fe.core");function a(e){if(e.length===0){return""}else if(e.length===1){return e[0].label}else{let a=e[0].label;for(let t=1;t<e.length-1;t++){a+=`, ${e[t].label}`}return t.getText("C_KPICARD_ITEMSLIST",[a,e[e.length-1].label])}}return t.getText("C_KPICARD_CHARTTITLE",[a(e.chart.measures),a(e.chart.dimensions)])}function E(e,t){switch(e.chartType){case"Donut":t.categoryAxis={title:{visible:false}};t.valueAxis={title:{visible:false},label:{formatString:"ShortFloat"}};t.plotArea.dataLabel={visible:true,type:"value",formatString:"ShortFloat_MFD2"};break;case"bubble":t.valueAxis={title:{visible:true},label:{formatString:"ShortFloat"}};t.valueAxis2={title:{visible:true},label:{formatString:"ShortFloat"}};t.legendGroup={layout:{position:"bottom",alignment:"topLeft"}};t.sizeLegend={visible:true};t.plotArea.dataLabel={visible:false};break;case"scatter":t.valueAxis={title:{visible:false},label:{formatString:"ShortFloat"}};t.valueAxis2={title:{visible:false},label:{formatString:"ShortFloat"}};t.plotArea.dataLabel={visible:false};break;default:t.categoryAxis={title:{visible:false}};t.valueAxis={title:{visible:false},label:{formatString:"ShortFloat"}};t.plotArea.dataLabel={visible:false}}}function L(e,t){if(t&&t.length){return e.filter(e=>t.indexOf(e.role)>=0).map(e=>e.label)}else{return e.map(e=>e.label)}}function M(e){const t=L(e.measures,["Axis1"]);const a=L(e.measures,["Axis2"]);const n=L(e.measures,["Axis3"]);const i=L(e.measures,[undefined]);const r=L(e.dimensions,["Series"]);const o=e.dimensions.find(e=>e.role==="Category");const s=t.shift()||a.shift()||n.shift()||i.shift()||"";const l=a.shift()||t.shift()||n.shift()||i.shift()||"";const d=[{uid:"valueAxis",type:"Measure",values:[s]},{uid:"valueAxis2",type:"Measure",values:[l]}];if(e.chartType==="bubble"){const e=n.shift()||t.shift()||a.shift()||i.shift()||"";d.push({uid:"bubbleWidth",type:"Measure",values:[e]})}if(r.length){d.push({uid:"color",type:"Dimension",values:r})}if(o){d.push({uid:"shape",type:"Dimension",values:[o.label]})}return d}function R(e){let t;switch(e.chartType){case"Donut":t=[{uid:"size",type:"Measure",values:L(e.measures)},{uid:"color",type:"Dimension",values:L(e.dimensions)}];break;case"bubble":case"scatter":t=M(e);break;case"vertical_bullet":t=[{uid:"actualValues",type:"Measure",values:L(e.measures,[undefined,"Axis1"])},{uid:"targetValues",type:"Measure",values:L(e.measures,["Axis2"])},{uid:"categoryAxis",type:"Dimension",values:L(e.dimensions,[undefined,"Category"])},{uid:"color",type:"Dimension",values:L(e.dimensions,["Series"])}];break;default:t=[{uid:"valueAxis",type:"Measure",values:L(e.measures)},{uid:"categoryAxis",type:"Dimension",values:L(e.dimensions,[undefined,"Category"])},{uid:"color",type:"Dimension",values:L(e.dimensions,["Series"])}]}return t}function _(e,t){if(e.semanticObject){if(e.action){return t.getLinks({semanticObject:e.semanticObject,action:e.action}).then(t=>t.length?{semanticObject:e.semanticObject,action:e.action}:undefined)}else{return t.getPrimaryIntent(e.semanticObject).then(a=>{if(!a){return undefined}const n=t.parseShellHash(a.intent);return e.unavailableActions&&e.unavailableActions.indexOf(n.action)>=0?undefined:{semanticObject:n.semanticObject,action:n.action}})}}else{return e.outboundNavigation?Promise.resolve({outbound:e.outboundNavigation}):Promise.resolve(undefined)}}let K=(p=v("sap.fe.core.controllerextensions.KPIManagement"),f=b(),g=b(),m=P(),p(h=(y=function(t){C(i,t);function i(){return t.apply(this,arguments)||this}var s=i.prototype;s.initCardManifest=function e(t,a){var i;const r={"sap.app":{id:"sap.fe",type:"card"},"sap.ui":{technology:"UI5"},"sap.card":{type:"Analytical",data:{json:{}},header:{type:"Numeric",title:t.datapoint.title,subTitle:t.datapoint.description,unitOfMeasurement:"{mainUnit}",mainIndicator:{number:"{mainValueNoScale}",unit:"{mainValueScale}",state:"{mainState}",trend:"{trend}"}},content:{minHeight:"25rem",chartProperties:{plotArea:{},title:{visible:true,alignment:"left"}},data:{path:"/chartData"}}}};if(t.datapoint.targetPath||t.datapoint.targetValue!==undefined){const e=n.getLibraryResourceBundle("sap.fe.core");r["sap.card"].header.sideIndicators=[{title:e.getText("C_KPICARD_INDICATOR_TARGET"),number:"{targetNumber}",unit:"{targetUnit}"},{title:e.getText("C_KPICARD_INDICATOR_DEVIATION"),number:"{deviationNumber}",unit:"%"}]}if((i=t.selectionVariantFilterDefinitions)!==null&&i!==void 0&&i.length){const e=[];t.selectionVariantFilterDefinitions.forEach(t=>{const a=V(t);if(a){e.push(a)}});if(e.length){r["sap.card"].header.details=e.join(", ")}}r["sap.card"].content.chartType=t.chart.chartType;E(t.chart,r["sap.card"].content.chartProperties);r["sap.card"].content.chartProperties.title.text=O(t);r["sap.card"].content.dimensions=t.chart.dimensions.map(e=>({label:e.label,value:`{${e.name}}`}));r["sap.card"].content.measures=t.chart.measures.map(e=>({label:e.label,value:`{${e.name}}`}));r["sap.card"].content.feeds=R(t.chart);a.setProperty(`/${t.id}`,{manifest:r})};s.initNavigationInfo=function e(t,a,n){if(t.navigation){return _(t.navigation,n).then(e=>{if(e){a.setProperty(`/${t.id}/manifest/sap.card/header/actions`,[{type:"Navigation",parameters:e}])}})}else{return Promise.resolve()}};s.onInit=function t(){var a;this.aKPIDefinitions=(a=this.getView().getController()._getPageModel())===null||a===void 0?void 0:a.getProperty("/kpiDefinitions");if(this.aKPIDefinitions&&this.aKPIDefinitions.length){const t=this.getView();const a=t.getController().getAppComponent();const n=new d;t.setModel(n,"kpiModel");this.aKPIDefinitions.forEach(t=>{this.initCardManifest(t,n);this.initNavigationInfo(t,n,a.getShellServices()).catch(function(t){e.error(t)});this.loadKPITagData(t,a.getModel(),n).catch(function(t){e.error(t)})})}};s.onExit=function e(){const t=this.getView().getModel("kpiModel");if(t){t.destroy()}};s.updateDatapointValueAndCurrency=function e(t,a,n){var i,s,l;const d=new o(sap.ui.getCore().getConfiguration().getLanguage());const u=(i=t.datapoint.unit)!==null&&i!==void 0&&i.isPath?a.getProperty(t.datapoint.unit.value):(s=t.datapoint.unit)===null||s===void 0?void 0:s.value;const c=((l=t.datapoint.unit)===null||l===void 0?void 0:l.isCurrency)===false&&u==="%";const p=Number.parseFloat(a.getProperty(t.datapoint.propertyPath));const f=r.getFloatInstance({style:c?undefined:"short",minFractionDigits:0,maxFractionDigits:1,showScale:!c},d).format(p);n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValue`,f);const g=r.getFloatInstance({maxFractionDigits:2,showScale:false,groupingEnabled:true},d).format(p);n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValueUnscaled`,g);const m=r.getFloatInstance({style:c?undefined:"short",minFractionDigits:0,maxFractionDigits:1,showScale:false},d).format(p);n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValueNoScale`,m);const h=r.getFloatInstance({style:c?undefined:"short",decimals:0,maxIntegerDigits:0,showScale:true},d).format(p);n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValueScale`,h);if(t.datapoint.unit&&u){if(t.datapoint.unit.isCurrency){n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainUnit`,u)}else{const e=r.getUnitInstance({showNumber:false},d).format(p,u);n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainUnit`,e)}}};s.updateDatapointCriticality=function e(t,a,n){const i=Number.parseFloat(a.getProperty(t.datapoint.propertyPath));let r=D.None;if(t.datapoint.criticalityValue){r=t.datapoint.criticalityValue}else if(t.datapoint.criticalityPath){r=$[a.getProperty(t.datapoint.criticalityPath)]||D.None}else if(t.datapoint.criticalityCalculationThresholds&&t.datapoint.criticalityCalculationMode){switch(t.datapoint.criticalityCalculationMode){case"UI.ImprovementDirectionType/Target":r=S(i,t.datapoint.criticalityCalculationThresholds);break;case"UI.ImprovementDirectionType/Minimize":r=j(i,t.datapoint.criticalityCalculationThresholds);break;case"UI.ImprovementDirectionType/Maximize":default:r=w(i,t.datapoint.criticalityCalculationThresholds);break}}n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainCriticality`,r);n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainState`,T[r]||"None")};s.updateDatapointTrend=function e(t,a,n){const i=Number.parseFloat(a.getProperty(t.datapoint.propertyPath));let r="None";if(t.datapoint.trendValue){r=t.datapoint.trendValue}else if(t.datapoint.trendPath){r=x(a.getProperty(t.datapoint.trendPath))}else if(t.datapoint.trendCalculationReferenceValue!==undefined||t.datapoint.trendCalculationReferencePath){let e;if(t.datapoint.trendCalculationReferenceValue!==undefined){e=t.datapoint.trendCalculationReferenceValue}else{e=Number.parseFloat(a.getProperty(t.datapoint.trendCalculationReferencePath||""))}r=A(i,e,!!t.datapoint.trendCalculationIsRelative,t.datapoint.trendCalculationTresholds)}n.setProperty(`/${t.id}/manifest/sap.card/data/json/trend`,r)};s.updateTargetValue=function e(t,a,n){if(t.datapoint.targetValue===undefined&&t.datapoint.targetPath===undefined){return}const i=Number.parseFloat(a.getProperty(t.datapoint.propertyPath));const s=new o(sap.ui.getCore().getConfiguration().getLanguage());let l;if(t.datapoint.targetValue!==undefined){l=t.datapoint.targetValue}else{l=Number.parseFloat(a.getProperty(t.datapoint.targetPath||""))}const d=l!==0?(i-l)/l*100:undefined;const u=r.getFloatInstance({style:"short",minFractionDigits:0,maxFractionDigits:1,showScale:false},s).format(l);const c=r.getFloatInstance({style:"short",decimals:0,maxIntegerDigits:0,showScale:true},s).format(l);n.setProperty(`/${t.id}/manifest/sap.card/data/json/targetNumber`,u);n.setProperty(`/${t.id}/manifest/sap.card/data/json/targetUnit`,c);if(d!==undefined){const e=r.getFloatInstance({minFractionDigits:0,maxFractionDigits:1,showScale:false},s).format(d);n.setProperty(`/${t.id}/manifest/sap.card/data/json/deviationNumber`,e)}else{n.setProperty(`/${t.id}/manifest/sap.card/data/json/deviationNumber`,"N/A")}};s.loadKPITagData=function e(t,a,n,i){var r,o;const s=i?a.bindList(`/${t.entitySet}`,undefined,undefined,undefined,{$$groupId:"$auto.Workers"}):a.bindList(`/${t.entitySet}`,undefined,undefined,undefined,{$$groupId:"$auto.LongRunners"});const l={};if((r=t.datapoint.unit)!==null&&r!==void 0&&r.isPath){l[t.datapoint.propertyPath]={unit:t.datapoint.unit.value}}else{l[t.datapoint.propertyPath]={}}if(t.datapoint.criticalityPath){l[t.datapoint.criticalityPath]={}}if(i){if(t.datapoint.trendPath){l[t.datapoint.trendPath]={}}if(t.datapoint.trendCalculationReferencePath){l[t.datapoint.trendCalculationReferencePath]={}}if(t.datapoint.targetPath){l[t.datapoint.targetPath]={}}}s.setAggregation({aggregate:l});if((o=t.selectionVariantFilterDefinitions)!==null&&o!==void 0&&o.length){const e=t.selectionVariantFilterDefinitions.map(F).filter(e=>e!==undefined);s.filter(e)}return s.requestContexts(0,1).then(e=>{if(e.length){var a,r;const o=(a=t.datapoint.unit)!==null&&a!==void 0&&a.isPath?e[0].getProperty(t.datapoint.unit.value):(r=t.datapoint.unit)===null||r===void 0?void 0:r.value;if(t.datapoint.unit&&!o){n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValue`,"*");n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValueUnscaled`,"*");n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValueNoScale`,"*");n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValueScale`,"");n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainUnit`,undefined);n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainCriticality`,D.None);n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainState`,"None");n.setProperty(`/${t.id}/manifest/sap.card/data/json/trend`,"None");n.setProperty(`/${t.id}/manifest/sap.card/data/json/targetNumber`,undefined);n.setProperty(`/${t.id}/manifest/sap.card/data/json/targetUnit`,undefined);n.setProperty(`/${t.id}/manifest/sap.card/data/json/deviationNumber`,undefined)}else{this.updateDatapointValueAndCurrency(t,e[0],n);this.updateDatapointCriticality(t,e[0],n);if(i){this.updateDatapointTrend(t,e[0],n);this.updateTargetValue(t,e[0],n)}}}})};s.loadKPICardData=function e(t,a,n){var i;const r=a.bindList(`/${t.entitySet}`,undefined,undefined,undefined,{$$groupId:"$auto.Workers"});const o={};const s={};t.chart.dimensions.forEach(e=>{o[e.name]={}});t.chart.measures.forEach(e=>{s[e.name]={}});r.setAggregation({group:o,aggregate:s});if((i=t.selectionVariantFilterDefinitions)!==null&&i!==void 0&&i.length){const e=t.selectionVariantFilterDefinitions.map(F).filter(e=>e!==undefined);r.filter(e)}if(t.chart.sortOrder){r.sort(t.chart.sortOrder.map(e=>new u(e.name,e.descending)))}return r.requestContexts(0,t.chart.maxItems).then(e=>{const a=e.map(function(e){const a={};t.chart.dimensions.forEach(t=>{a[t.name]=e.getProperty(t.name)});t.chart.measures.forEach(t=>{a[t.name]=e.getProperty(t.name)});return a});n.setProperty(`/${t.id}/manifest/sap.card/data/json/chartData`,a)})};s.getPopover=function e(t){if(!this.oPopover){return new Promise((e,i)=>{n.loadLibrary("sap/ui/integration",{async:true}).then(()=>{sap.ui.require(["sap/ui/integration/widgets/Card","sap/ui/integration/Host"],(n,i)=>{const r=new i;r.attachAction(e=>{const t=e.getParameter("type");const a=e.getParameter("parameters");if(t==="Navigation"){if(a.semanticObject){this.getView().getController()._intentBasedNavigation.navigate(a.semanticObject,a.action)}else{this.getView().getController()._intentBasedNavigation.navigateOutbound(a.outbound)}}});this.oCard=new n({width:"25rem",height:"auto"});this.oCard.setHost(r);this.oPopover=new a("kpi-Popover",{showHeader:false,placement:"Auto",content:[this.oCard]});t.addDependent(this.oPopover);e(this.oPopover)})}).catch(function(){i()})})}else{return Promise.resolve(this.oPopover)}};s.onKPIPressed=function t(a,n){const i=a.getModel("kpiModel");if(this.aKPIDefinitions&&this.aKPIDefinitions.length){const t=this.aKPIDefinitions.find(function(e){return e.id===n});if(t){const r=a.getModel();const o=[this.loadKPITagData(t,r,i,true),this.loadKPICardData(t,r,i),this.getPopover(a)];Promise.all(o).then(e=>{this.oCard.setManifest(i.getProperty(`/${n}/manifest`));this.oCard.refresh();const t=e[2];t.openBy(a,false)}).catch(t=>{e.error(t)})}}};return i}(s),N(y.prototype,"onInit",[f],Object.getOwnPropertyDescriptor(y.prototype,"onInit"),y.prototype),N(y.prototype,"onExit",[g],Object.getOwnPropertyDescriptor(y.prototype,"onExit"),y.prototype),N(y.prototype,"onKPIPressed",[m],Object.getOwnPropertyDescriptor(y.prototype,"onKPIPressed"),y.prototype),y))||h);return K},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/MassEdit", ["sap/base/Log","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/MassEditHelper","sap/fe/core/helpers/ModelHelper","sap/m/MessageBox","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","../CommonUtils"],function(e,t,o,n,i,r,s,a){"use strict";var l,c,p,u,g,E,d,_,f;var M=t.publicExtension;var C=t.privateExtension;var T=t.finalExtension;var S=t.extensible;var A=t.defineUI5Class;function D(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}function h(e,t){h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return h(e,t)}function x(e,t,o,n,i){var r={};Object.keys(n).forEach(function(e){r[e]=n[e]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},r);if(i&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(i):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(e,t,r);r=null}return r}let O=(l=A("sap.fe.core.controllerextensions.MassEdit"),c=M(),p=T(),u=M(),g=T(),E=C(),d=S(s.After),l(_=(f=function(t){D(r,t);function r(){return t.apply(this,arguments)||this}var s=r.prototype;s.getMessageDetailForNonEditable=function e(t,o,n){const i=t.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_HEADER"),r=t.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_REASON",[n]),s=t.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_REASON_DRAFT",[o]),a=t.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_REASON_NON_EDITABLE",[o]);return`<p><strong>${i}</strong></p>\n`+(!!r&&`<p>${r}</p>\n`+`<ul>`+(!!s&&`<li>${s}</li>`)+(!!a&&`<li>${a}</li>`)+`</ul>`)};s.getResourceText=function e(t,o){const n=t&&a.getTranslatedTextFromExpBindingString(t,o);return n&&n.toLocaleLowerCase()};s._openConfirmDialog=function t(o,r,s){const a=(r||[]).length;const l=this.getView();return new Promise(t=>{l.getModel("sap.fe.i18n").getResourceBundle().then(c=>{const p=c.getText("C_MASS_EDIT_CONFIRM_BUTTON_TEXT"),u=c.getText("C_COMMON_OBJECT_PAGE_CANCEL"),g=s-a,E=o.data("entityType"),d=o.getModel().getMetaModel(),_=d.getObject(`${E}@com.sap.vocabularies.UI.v1.HeaderInfo`),f=_&&this.getResourceText(_.TypeName,l)||c.getText("C_MASS_EDIT_DIALOG_DEFAULT_TYPENAME"),M=_&&this.getResourceText(_.TypeNamePlural,l)||c.getText("C_MASS_EDIT_DIALOG_DEFAULT_TYPENAME_PLURAL"),C=c.getText("C_MASS_EDIT_CONFIRM_MESSAGE",[g,s,a,M]),T=o.data("targetCollectionPath"),S=o.getModel().getMetaModel(),A=n.isDraftSupported(S,T),D=o.data("displayModePropertyBinding")==="true",h=A&&D&&this.getMessageDetailForNonEditable(c,f,M);i.warning(C,{details:h,actions:[p,u],emphasizedAction:p,contentWidth:"100px",onClose:function(o){let n=[];if(o===p){e.info("Mass Edit: Confirmed to edit ",a.toString()," selections.");n=r}else if(o===u){e.info("Mass Edit: Cancelled.")}t(n)}})}).catch(function(t){e.error(t)})})};s._confirmContexts=function e(t,o){const n=t.getBindingContext("internal"),i=+n.getProperty("numberOfSelectedContexts")||0;o=o||[];if(o.length&&o.length!==i){return this._openConfirmDialog(t,o,i)}return Promise.resolve(o)};s.openMassEditDialog=function t(n){const i=this.getView().getController(),r=this.fetchContextsForEdit(n);return r.then(this._confirmContexts.bind(this,n)).then(function(e){return e&&e.length>0?o.createDialog(n,e,i):Promise.resolve()}).then(function(e){if(e){n.addDependent(e);e.open()}}).catch(function(t){e.error("Mass Edit: Something went wrong in mass edit dialog creation.",t)})};s.fetchContextsForEdit=function e(t){const o=t.getBindingContext("internal"),n=o.getProperty("updatableContexts")||[];return Promise.resolve(n)};return r}(r),x(f.prototype,"getMessageDetailForNonEditable",[c,p],Object.getOwnPropertyDescriptor(f.prototype,"getMessageDetailForNonEditable"),f.prototype),x(f.prototype,"openMassEditDialog",[u,g],Object.getOwnPropertyDescriptor(f.prototype,"openMassEditDialog"),f.prototype),x(f.prototype,"fetchContextsForEdit",[E,d],Object.getOwnPropertyDescriptor(f.prototype,"fetchContextsForEdit"),f.prototype),f))||_);return O},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/MessageHandler", ["sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/helpers/ClassSupport","sap/ui/core/Core","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution"],function(e,t,o,s,i,n){"use strict";var r,a,g,c,l,u,p,f,d,h;var v=o.publicExtension;var M=o.privateExtension;var y=o.finalExtension;var m=o.extensible;var b=o.defineUI5Class;function w(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;T(e,t)}function T(e,t){T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return T(e,t)}function O(e,t,o,s,i){var n={};Object.keys(s).forEach(function(e){n[e]=s[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=o.slice().reverse().reduce(function(o,s){return s(e,t,o)||o},n);if(i&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(i):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,t,n);n=null}return n}let D=(r=b("sap.fe.core.controllerextensions.MessageHandler"),a=M(),g=m(n.Instead),c=v(),l=y(),u=v(),p=v(),f=y(),r(d=(h=function(o){w(i,o);function i(){return o.apply(this,arguments)||this}var n=i.prototype;n.getShowBoundMessagesInMessageDialog=function e(){return true};n.showMessageDialog=function e(o){const s=o&&o.customMessages?o.customMessages:undefined,i=this.base.getView().getBindingContext("internal");const n=this.base.getView().getViewData().converterType;if(o&&o.isActionParameterDialogOpen&&i){i.setProperty("isActionParameterDialogOpen",true)}const r=this.getShowBoundMessagesInMessageDialog();const a=o&&o.context?o.context:this.getView().getBindingContext();if(i){i.setProperty("isActionParameterDialogOpen",false)}return new Promise(function(e,i){setTimeout(function(){t.showUnboundMessages(s,a,r,o===null||o===void 0?void 0:o.concurrentEditFlag,o===null||o===void 0?void 0:o.control,o===null||o===void 0?void 0:o.sActionName,undefined,o===null||o===void 0?void 0:o.onBeforeShowMessage,n).then(e).catch(i)},0)})};n.removeTransitionMessages=function e(o,s,i){if(!o){t.removeBoundTransitionMessages(i)}if(!s){t.removeUnboundTransitionMessages()}};n._checkNavigationToErrorPage=function o(s){const i=t.getMessages();const n=this.getShowBoundMessagesInMessageDialog();const r=n?t.getMessages(true,true):[];const a=s&&s.customMessages?s.customMessages:[];const g=e.isStickyEditMode(this.base.getView());let c;if(s&&s.isDataReceivedError){c={title:s.title,description:s.description,navigateBackToOrigin:true,errorType:"PageNotFound"}}else if(!g&&!r.length&&!a.length&&(i.length===1||s&&s.isInitialLoad503Error)){const e=i[0],o=e.getTechnicalDetails();let s;if(o&&o.httpStatus===503){if(o.retryAfter){const i=this._getSecondsBeforeRetryAfter(o.retryAfter);if(i>120){s=t.getRetryAfterMessage(e);c={description:s?`${s} ${e.getMessage()}`:e.getMessage(),navigateBackToOrigin:true,errorType:"UnableToLoad"}}}else{s=t.getRetryAfterMessage(e);c={description:s?`${s} ${e.getMessage()}`:e.getMessage(),navigateBackToOrigin:true,errorType:"UnableToLoad"}}}}return c};n._getSecondsBeforeRetryAfter=function e(t){const o=new Date,s=o.getTime(),i=t.getTime(),n=(i-s)/1e3;return n};n.showMessages=async function t(o){const i=e.getAppComponent(this.getView());let n;if(!i._isFclEnabled()){n=this._checkNavigationToErrorPage(o)}if(n){if(o&&o.messagePageNavigationCallback){o.messagePageNavigationCallback()}n.handleShellBack=!(o&&o.shellBack);this.removeTransitionMessages();const e=s.getLibraryResourceBundle("sap.fe.core");if(this.base._routing){return new Promise((t,s)=>{setTimeout(()=>{this.base._routing.navigateToMessagePage(o&&o.isDataReceivedError?e.getText("C_COMMON_SAPFE_DATA_RECEIVED_ERROR"):e.getText("C_MESSAGE_HANDLING_SAPFE_503_TITLE"),n).then(t).catch(s)},0)})}}else{return this.showMessageDialog(o)}};return i}(i),O(h.prototype,"getShowBoundMessagesInMessageDialog",[a,g],Object.getOwnPropertyDescriptor(h.prototype,"getShowBoundMessagesInMessageDialog"),h.prototype),O(h.prototype,"showMessageDialog",[c,l],Object.getOwnPropertyDescriptor(h.prototype,"showMessageDialog"),h.prototype),O(h.prototype,"removeTransitionMessages",[u],Object.getOwnPropertyDescriptor(h.prototype,"removeTransitionMessages"),h.prototype),O(h.prototype,"showMessages",[p,f],Object.getOwnPropertyDescriptor(h.prototype,"showMessages"),h.prototype),h))||d);return D},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/PageReady", ["sap/base/Log","sap/fe/core/controllerextensions/pageReady/DataQueryWatcher","sap/fe/core/services/TemplatedViewServiceFactory","sap/ui/base/EventProvider","sap/ui/core/Component","sap/ui/core/Core","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","../CommonUtils","../helpers/ClassSupport"],function(e,t,i,o,r,n,a,s,c,h){"use strict";var p,d,u,g,l,y,f,v,b,R,m,P,E,O,_,w,C,D,T,A,x,W,B;var I=h.publicExtension;var j=h.privateExtension;var F=h.methodOverride;var k=h.finalExtension;var U=h.extensible;var S=h.defineUI5Class;function q(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;M(e,t)}function M(e,t){M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return M(e,t)}function z(e,t,i,o,r){var n={};Object.keys(o).forEach(function(e){n[e]=o[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=i.slice().reverse().reduce(function(i,o){return o(e,t,i)||i},n);if(r&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(r):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,t,n);n=null}return n}let H=(p=S("sap.fe.core.controllerextensions.PageReady"),d=F(),u=F(),g=I(),l=k(),y=F("_routing"),f=F("_routing"),v=F("_routing"),b=I(),R=k(),m=I(),P=k(),E=I(),O=k(),_=I(),w=k(),C=I(),D=k(),T=j(),A=U(s.Instead),x=I(),p(W=(B=function(a){q(s,a);function s(){var e;for(var t=arguments.length,i=new Array(t),o=0;o<t;o++){i[o]=arguments[o]}e=a.call(this,...i)||this;e.pageReadyTimeoutDefault=7e3;return e}var h=s.prototype;h.onInit=function e(){var i,n,a;this._nbWaits=0;this._oEventProvider=this._oEventProvider?this._oEventProvider:new o;this.view=this.getView();this.appComponent=c.getAppComponent(this.view);this.pageComponent=r.getOwnerComponentFor(this.view);const s=this.appComponent.getManifest();this.pageReadyTimeout=((i=s["sap.ui5"])===null||i===void 0?void 0:i.pageReadyTimeout)??this.pageReadyTimeoutDefault;if((n=this.pageComponent)!==null&&n!==void 0&&n.attachContainerDefined){this.pageComponent.attachContainerDefined(e=>this.registerContainer(e.getParameter("container")))}else{this.registerContainer(this.view)}const h=this.appComponent.getRootControl().getController();const p=h===null||h===void 0?void 0:(a=h.getPlaceholder)===null||a===void 0?void 0:a.call(h);if(p!==null&&p!==void 0&&p.isPlaceholderDebugEnabled()){this.attachEvent("pageReady",null,()=>{p.getPlaceholderDebugStats().iPageReadyEventTimestamp=Date.now()},this);this.attachEvent("heroesBatchReceived",null,()=>{p.getPlaceholderDebugStats().iHeroesBatchReceivedEventTimestamp=Date.now()},this)}this.queryWatcher=new t(this._oEventProvider,this.checkPageReadyDebounced.bind(this))};h.onExit=function e(){delete this._oAppComponent;if(this._oContainer){this._oContainer.removeEventDelegate(this._fnContainerDelegate)}};h.waitFor=function e(t){this._nbWaits++;t.finally(()=>{setTimeout(()=>{this._nbWaits--},0)}).catch(null)};h.onRouteMatched=function e(){this._bIsPageReady=false};h.onRouteMatchedFinished=async function e(){await this.onAfterBindingPromise;this.checkPageReadyDebounced()};h.registerAggregatedControls=function e(t){if(t){const e=t.getBinding();this.queryWatcher.registerBinding(e)}const i=[];const o=this.getView().findAggregatedObjects(true);o.forEach(e=>{const t=e.getObjectBinding();if(t){this.queryWatcher.registerBinding(t)}else{const t=Object.keys(e.mBindingInfos);t.forEach(t=>{const i=e.mBindingInfos[t].binding;if(i&&i.isA("sap.ui.model.odata.v4.ODataListBinding")){this.queryWatcher.registerBinding(i)}})}if(e.isA("sap.ui.mdc.Table")||e.isA("sap.ui.mdc.Chart")){this.bTablesChartsLoaded=false;i.push(this.queryWatcher.registerTableOrChart(e))}else if(e.isA("sap.fe.core.controls.FilterBar")){this.queryWatcher.registerFilterBar(e)}});return i};h.onAfterBinding=function t(i){if(this.pageReadyTimeoutTimer){clearTimeout(this.pageReadyTimeoutTimer)}this.pageReadyTimeoutTimer=setTimeout(()=>{e.error(`The PageReady Event was not fired within the ${this.pageReadyTimeout} ms timeout . It has been forced. Please contact your application developer for further analysis`);this._oEventProvider.fireEvent("pageReady")},this.pageReadyTimeout);if(this._bAfterBindingAlreadyApplied){return}this._bAfterBindingAlreadyApplied=true;if(this.isContextExpected()&&i===undefined){this.bHasContext=false;return}else{this.bHasContext=true}this.attachEventOnce("pageReady",null,()=>{clearTimeout(this.pageReadyTimeoutTimer);this.pageReadyTimeoutTimer=undefined;this._bAfterBindingAlreadyApplied=false;this.queryWatcher.reset()},null);this.onAfterBindingPromise=new Promise(async e=>{const t=this.registerAggregatedControls(i);if(t.length>0){await Promise.all(t);this.bTablesChartsLoaded=true;this.checkPageReadyDebounced();e()}else{this.checkPageReadyDebounced();e()}})};h.isPageReady=function e(){return this._bIsPageReady};h.waitPageReady=function e(){return new Promise(e=>{if(this.isPageReady()){e()}else{this.attachEventOnce("pageReady",null,()=>{e()},this)}})};h.attachEventOnce=function e(t,i,o,r){return this._oEventProvider.attachEventOnce(t,i,o,r)};h.attachEvent=function e(t,i,o,r){return this._oEventProvider.attachEvent(t,i,o,r)};h.detachEvent=function e(t,i){return this._oEventProvider.detachEvent(t,i)};h.registerContainer=function e(t){this._oContainer=t;this._fnContainerDelegate={onBeforeShow:()=>{this.bShown=false;this._bIsPageReady=false},onBeforeHide:()=>{this.bShown=false;this._bIsPageReady=false},onAfterShow:()=>{var e;this.bShown=true;(e=this.onAfterBindingPromise)===null||e===void 0?void 0:e.then(()=>{this._checkPageReady(true)})}};this._oContainer.addEventDelegate(this._fnContainerDelegate,this)};h.isContextExpected=function e(){return false};h.checkPageReadyDebounced=function e(){if(this.pageReadyTimer){clearTimeout(this.pageReadyTimer)}this.pageReadyTimer=setTimeout(()=>{this._checkPageReady()},200)};h._checkPageReady=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const o=()=>{if(!n.getUIDirty()){n.detachEvent("UIUpdated",o);this._bWaitingForRefresh=false;this.checkPageReadyDebounced()}};const r=()=>{if(n.getUIDirty()){setTimeout(r,500)}else if(this._bWaitingForRefresh){this._bWaitingForRefresh=false;n.detachEvent("UIUpdated",o);this.checkPageReadyDebounced()}};if(this.bShown&&this.queryWatcher.isDataReceived()!==false&&this.bTablesChartsLoaded!==false&&(!this.isContextExpected()||this.bHasContext)){if(this.queryWatcher.isDataReceived()===true&&!t&&!this._bWaitingForRefresh&&n.getUIDirty()){this.queryWatcher.resetDataReceived();this._bWaitingForRefresh=true;n.attachEvent("UIUpdated",o);setTimeout(r,500)}else if(!this._bWaitingForRefresh&&n.getUIDirty()||this._nbWaits!==0||i.getNumberOfViewsInCreationState()>0||this.queryWatcher.isSearchPending()){this._bWaitingForRefresh=true;n.attachEvent("UIUpdated",o);setTimeout(r,500)}else if(!this._bWaitingForRefresh){this._bIsPageReady=true;this._oEventProvider.fireEvent("pageReady")}}};return s}(a),z(B.prototype,"onInit",[d],Object.getOwnPropertyDescriptor(B.prototype,"onInit"),B.prototype),z(B.prototype,"onExit",[u],Object.getOwnPropertyDescriptor(B.prototype,"onExit"),B.prototype),z(B.prototype,"waitFor",[g,l],Object.getOwnPropertyDescriptor(B.prototype,"waitFor"),B.prototype),z(B.prototype,"onRouteMatched",[y],Object.getOwnPropertyDescriptor(B.prototype,"onRouteMatched"),B.prototype),z(B.prototype,"onRouteMatchedFinished",[f],Object.getOwnPropertyDescriptor(B.prototype,"onRouteMatchedFinished"),B.prototype),z(B.prototype,"onAfterBinding",[v],Object.getOwnPropertyDescriptor(B.prototype,"onAfterBinding"),B.prototype),z(B.prototype,"isPageReady",[b,R],Object.getOwnPropertyDescriptor(B.prototype,"isPageReady"),B.prototype),z(B.prototype,"waitPageReady",[m,P],Object.getOwnPropertyDescriptor(B.prototype,"waitPageReady"),B.prototype),z(B.prototype,"attachEventOnce",[E,O],Object.getOwnPropertyDescriptor(B.prototype,"attachEventOnce"),B.prototype),z(B.prototype,"attachEvent",[_,w],Object.getOwnPropertyDescriptor(B.prototype,"attachEvent"),B.prototype),z(B.prototype,"detachEvent",[C,D],Object.getOwnPropertyDescriptor(B.prototype,"detachEvent"),B.prototype),z(B.prototype,"isContextExpected",[T,A],Object.getOwnPropertyDescriptor(B.prototype,"isContextExpected"),B.prototype),z(B.prototype,"checkPageReadyDebounced",[x],Object.getOwnPropertyDescriptor(B.prototype,"checkPageReadyDebounced"),B.prototype),B))||W);return H},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Paginator", ["sap/fe/core/helpers/ClassSupport","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/model/json/JSONModel"],function(t,e,n,i){"use strict";var r,o,s,a,u,l,p,d,C,c,f,h;var x=t.publicExtension;var _=t.privateExtension;var g=t.methodOverride;var v=t.finalExtension;var y=t.extensible;var b=t.defineUI5Class;function I(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;B(t,e)}function B(t,e){B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,n){e.__proto__=n;return e};return B(t,e)}function P(t,e,n,i,r){var o={};Object.keys(i).forEach(function(t){o[t]=i[t]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=n.slice().reverse().reduce(function(n,i){return i(t,e,n)||n},o);if(r&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(r):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(t,e,o);o=null}return o}let E=(r=b("sap.fe.core.controllerextensions.Paginator"),o=g(),s=x(),a=v(),u=x(),l=v(),p=_(),d=y(n.After),C=_(),c=y(n.After),r(f=(h=function(t){I(e,t);function e(){var e;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++){i[r]=arguments[r]}e=t.call(this,...i)||this;e._iCurrentIndex=-1;return e}var n=e.prototype;n.onInit=function t(){this._oView=this.base.getView();this._oView.setModel(new i({navUpEnabled:false,navDownEnabled:false}),"paginator")};n.initialize=function t(e,n){if(e&&e.getAllCurrentContexts){this._oListBinding=e}if(n){this._oCurrentContext=n}this._updateCurrentIndexAndButtonEnablement()};n._updateCurrentIndexAndButtonEnablement=function t(){if(this._oCurrentContext&&this._oListBinding){const t=this._oCurrentContext.getPath();this._iCurrentIndex=this._oListBinding.getAllCurrentContexts().findIndex(function(e){return e&&e.getPath()===t});const e=this._oListBinding.getAllCurrentContexts()[this._iCurrentIndex];if(!this._iCurrentIndex&&this._iCurrentIndex!==0||!e||this._oCurrentContext.getPath()!==e.getPath()){this._updateCurrentIndex()}}this._handleButtonEnablement()};n._handleButtonEnablement=function t(){const e=this.base.getView().getModel("paginator");if(this._oListBinding&&this._oListBinding.getAllCurrentContexts().length>1&&this._iCurrentIndex>-1){if(this._iCurrentIndex===this._oListBinding.getAllCurrentContexts().length-1){e.setProperty("/navDownEnabled",false)}else if(this._oListBinding.getAllCurrentContexts()[this._iCurrentIndex+1].isInactive()){e.setProperty("/navDownEnabled",false)}else{e.setProperty("/navDownEnabled",true)}if(this._iCurrentIndex===0){e.setProperty("/navUpEnabled",false)}else if(this._oListBinding.getAllCurrentContexts()[this._iCurrentIndex-1].isInactive()){e.setProperty("/navUpEnabled",false)}else{e.setProperty("/navUpEnabled",true)}}else{e.setProperty("/navUpEnabled",false);e.setProperty("/navDownEnabled",false)}};n._updateCurrentIndex=function t(){if(this._oCurrentContext&&this._oListBinding){const t=this._oCurrentContext.getPath();this._iCurrentIndex=this._oListBinding.getAllCurrentContexts().findIndex(function(e){return e&&e.getPath()===t})}};n.updateCurrentContext=async function t(e){var n,i;if(!this._oListBinding){return}const r=(n=this._oCurrentContext)!==null&&n!==void 0&&n.getModel?(i=this._oCurrentContext)===null||i===void 0?void 0:i.getModel():undefined;await(r===null||r===void 0?void 0:r.submitBatch("$auto"));const o=this._oListBinding.getAllCurrentContexts();const s=this._iCurrentIndex+e;const a=o[s];if(a){const t=this.onBeforeContextUpdate(this._oListBinding,this._iCurrentIndex,e);if(!t){this._iCurrentIndex=s;this._oCurrentContext=a}this.onContextUpdate(a)}this._handleButtonEnablement()};n.onBeforeContextUpdate=function t(e,n,i){return false};n.onContextUpdate=function t(e){};return e}(e),P(h.prototype,"onInit",[o],Object.getOwnPropertyDescriptor(h.prototype,"onInit"),h.prototype),P(h.prototype,"initialize",[s,a],Object.getOwnPropertyDescriptor(h.prototype,"initialize"),h.prototype),P(h.prototype,"updateCurrentContext",[u,l],Object.getOwnPropertyDescriptor(h.prototype,"updateCurrentContext"),h.prototype),P(h.prototype,"onBeforeContextUpdate",[p,d],Object.getOwnPropertyDescriptor(h.prototype,"onBeforeContextUpdate"),h.prototype),P(h.prototype,"onContextUpdate",[C,c],Object.getOwnPropertyDescriptor(h.prototype,"onContextUpdate"),h.prototype),h))||f);return E},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Placeholder", ["sap/base/util/ObjectPath","sap/base/util/UriParameters","sap/fe/core/helpers/ClassSupport","sap/fe/placeholder/library","sap/ui/core/Core","sap/ui/core/mvc/ControllerExtension","sap/ui/core/Placeholder"],function(e,t,o,r,a,i,n){"use strict";var l,c,s,p,h,u,d,f,b,g;var P=o.publicExtension;var y=o.defineUI5Class;function m(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}function O(e,t){O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return O(e,t)}function C(e,t,o,r,a){var i={};Object.keys(r).forEach(function(e){i[e]=r[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}i=o.slice().reverse().reduce(function(o,r){return r(e,t,o)||o},i);if(a&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(a):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(e,t,i);i=null}return i}let D=(l=y("sap.fe.core.controllerextensions.Placeholder"),c=P(),s=P(),p=P(),h=P(),u=P(),d=P(),f=P(),l(b=(g=function(o){m(r,o);function r(){return o.apply(this,arguments)||this}var i=r.prototype;i.attachHideCallback=function e(){if(this.isPlaceholderEnabled()){const e=this.base.getView();const o=e.getParent()&&e.getParent().oContainer;const r=o&&o.getParent();if(!r){return}const a={onAfterShow:function(e){if(e.isBackToPage){r.hidePlaceholder()}else if(t.fromQuery(window.location.hash.replace(/#.*\?/,"")).get("restoreHistory")==="true"){r.hidePlaceholder()}}};o.addEventDelegate(a);const i=e.getController().pageReady;const n=["pageReady"];if(e.getControllerName()==="sap.fe.templates.ObjectPage.ObjectPageController"){n.push("heroesBatchReceived")}n.forEach(function(e){i.attachEvent(e,null,function(){r.hidePlaceholder()},null)})}};i.attachRouteMatchers=function e(){this._init()};i._init=function e(){this.oAppComponent=this.base.getAppComponent();this.oRootContainer=this.oAppComponent.getRootContainer();this.oPlaceholders={};if(this.isPlaceholderEnabled()){n.registerProvider(function(e){switch(e.name){case"sap.fe.templates.ListReport":return{html:"sap/fe/placeholder/view/PlaceholderLR.fragment.html",autoClose:false};case"sap.fe.templates.ObjectPage":return{html:"sap/fe/placeholder/view/PlaceholderOP.fragment.html",autoClose:false};default:}})}if(this.isPlaceholderDebugEnabled()){this.initPlaceholderDebug()}};i.initPlaceholderDebug=function e(){this.resetPlaceholderDebugStats();const t={apply:e=>{if(this.oRootContainer._placeholder&&this.oRootContainer._placeholder.placeholder){this.debugStats.iHidePlaceholderTimestamp=Date.now()}return e.bind(this.oRootContainer)()}};const o=new Proxy(this.oRootContainer.hidePlaceholder,t);this.oRootContainer.hidePlaceholder=o};i.isPlaceholderDebugEnabled=function e(){if(t.fromQuery(window.location.search).get("sap-ui-xx-placeholder-debug")==="true"){return true}return false};i.resetPlaceholderDebugStats=function e(){this.debugStats={iHidePlaceholderTimestamp:0,iPageReadyEventTimestamp:0,iHeroesBatchReceivedEventTimestamp:0}};i.getPlaceholderDebugStats=function e(){return this.debugStats};i.isPlaceholderEnabled=function t(){const o=e.get("sap-ushell-config.apps.placeholder.enabled");if(o===false){return false}return a.getConfiguration().getPlaceholder()};return r}(i),C(g.prototype,"attachHideCallback",[c],Object.getOwnPropertyDescriptor(g.prototype,"attachHideCallback"),g.prototype),C(g.prototype,"attachRouteMatchers",[s],Object.getOwnPropertyDescriptor(g.prototype,"attachRouteMatchers"),g.prototype),C(g.prototype,"initPlaceholderDebug",[p],Object.getOwnPropertyDescriptor(g.prototype,"initPlaceholderDebug"),g.prototype),C(g.prototype,"isPlaceholderDebugEnabled",[h],Object.getOwnPropertyDescriptor(g.prototype,"isPlaceholderDebugEnabled"),g.prototype),C(g.prototype,"resetPlaceholderDebugStats",[u],Object.getOwnPropertyDescriptor(g.prototype,"resetPlaceholderDebugStats"),g.prototype),C(g.prototype,"getPlaceholderDebugStats",[d],Object.getOwnPropertyDescriptor(g.prototype,"getPlaceholderDebugStats"),g.prototype),C(g.prototype,"isPlaceholderEnabled",[f],Object.getOwnPropertyDescriptor(g.prototype,"isPlaceholderEnabled"),g.prototype),g))||b);return D},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Routing", ["sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/ModelHelper","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution"],function(e,t,o,r){"use strict";var n,i,p,a,c,s,u,f,l,y,g,v,b;var d=e.publicExtension;var O=e.finalExtension;var B=e.extensible;var j=e.defineUI5Class;function h(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;P(e,t)}function P(e,t){P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return P(e,t)}function x(e,t,o,r,n){var i={};Object.keys(r).forEach(function(e){i[e]=r[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}i=o.slice().reverse().reduce(function(o,r){return r(e,t,o)||o},i);if(n&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(n):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(e,t,i);i=null}return i}let w=(n=j("sap.fe.core.controllerextensions.Routing"),i=d(),p=B(r.After),a=d(),c=O(),s=d(),u=B(r.After),f=d(),l=B(r.After),y=d(),g=O(),n(v=(b=function(e){h(o,e);function o(){return e.apply(this,arguments)||this}var r=o.prototype;r.onBeforeNavigation=function e(t){return false};r.navigate=function e(t){const o=this.base.getModel("internal");o.setProperty("/paginatorCurrentContext",null);this.base._routing.navigateToContext(t)};r.onBeforeBinding=function e(t){};r.onAfterBinding=function e(t){};r.navigateToRoute=function e(o,r){const n=this.base.getModel().getMetaModel();const i=t.isStickySessionSupported(n);if(!r){r={}}r.bIsStickyMode=i;return this.base._routing.navigateToRoute(o,r)};return o}(o),x(b.prototype,"onBeforeNavigation",[i,p],Object.getOwnPropertyDescriptor(b.prototype,"onBeforeNavigation"),b.prototype),x(b.prototype,"navigate",[a,c],Object.getOwnPropertyDescriptor(b.prototype,"navigate"),b.prototype),x(b.prototype,"onBeforeBinding",[s,u],Object.getOwnPropertyDescriptor(b.prototype,"onBeforeBinding"),b.prototype),x(b.prototype,"onAfterBinding",[f,l],Object.getOwnPropertyDescriptor(b.prototype,"onAfterBinding"),b.prototype),x(b.prototype,"navigateToRoute",[y,g],Object.getOwnPropertyDescriptor(b.prototype,"navigateToRoute"),b.prototype),b))||v);return w},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/RoutingListener", ["sap/fe/core/controllerextensions/InternalRouting"],function(e){"use strict";return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Share", ["sap/base/Log","sap/base/util/extend","sap/base/util/ObjectPath","sap/fe/core/helpers/ClassSupport","sap/m/library","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/core/routing/HashChanger","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/model/json/JSONModel"],function(e,t,o,r,a,i,n,s,l,c,p,u,h){"use strict";var d,m,g,f,S,y,b,_,w,T,E,O,v,M,P,D,j;var A=r.publicExtension;var I=r.methodOverride;var x=r.finalExtension;var C=r.extensible;var H=r.defineUI5Class;function U(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;L(e,t)}function L(e,t){L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return L(e,t)}function R(e,t,o,r,a){var i={};Object.keys(r).forEach(function(e){i[e]=r[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}i=o.slice().reverse().reduce(function(o,r){return r(e,t,o)||o},i);if(a&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(a):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(e,t,i);i=null}return i}let F;let J=(d=H("sap.fe.core.controllerextensions.Share"),m=I(),g=I(),f=A(),S=x(),y=A(),b=C(l.After),_=A(),w=x(),T=A(),E=x(),O=A(),v=x(),M=A(),P=x(),d(D=(j=function(r){U(s,r);function s(){return r.apply(this,arguments)||this}var l=s.prototype;l.onInit=function e(){const t=new h({url:"",appTitle:"",subTitle:"",minifyUrlForChat:true});this.base.getView().setModel(t,"collaborationInfo")};l.onExit=function e(){var t,o;const r=(t=this.base)===null||t===void 0?void 0:(o=t.getView())===null||o===void 0?void 0:o.getModel("collaborationInfo");if(r){r.destroy()}};l.openShareSheet=function e(t){this._openShareSheetImpl(t)};l.adaptShareMetadata=function e(t){return t};l._openShareSheetImpl=async function o(r){let s;const l=c.getInstance().getHash(),d=c.getInstance().hrefForAppSpecificHash?c.getInstance().hrefForAppSpecificHash(""):"",m={url:window.location.origin+window.location.pathname+window.location.search+(l?d+l:window.location.hash),title:document.title,email:{url:"",title:""},jam:{url:"",title:""},tile:{url:"",title:"",subtitle:"",icon:"",queryUrl:""}};F=r;const g=function(e,o){const r=e.getModel("shareData");const a=t(r.getData(),o);r.setData(a)};try{const o=await Promise.resolve(this.adaptShareMetadata(m));const l={shareEmailPressed:function(){const e=s.getModel("shareData");const t=e.getData();const o=i.getLibraryResourceBundle("sap.fe.core");const r=t.email.title?t.email.title:o.getText("T_SHARE_UTIL_HELPER_SAPFE_EMAIL_SUBJECT",[t.title]);a.URLHelper.triggerEmail(undefined,r,t.email.url?t.email.url:t.url)},shareMSTeamsPressed:function(){const e=s.getModel("shareData");const t=e.getData();const o=t.email.title?t.email.title:t.title;const r=t.email.url?t.email.url:t.url;const a=window.open("","ms-teams-share-popup","width=700,height=600");a.opener=null;a.location=`https://teams.microsoft.com/share?msgText=${encodeURIComponent(o)}&href=${encodeURIComponent(r)}`},onSaveTilePress:function(){setTimeout(function(){var e;(e=i.byId("bookmarkDialog"))===null||e===void 0?void 0:e.attachAfterClose(function(){F.focus()})},0)},shareJamPressed:()=>{this._doOpenJamShareDialog(o.jam.title?o.jam.title:o.title,o.jam.url?o.jam.url:o.url)}};l.onCancelPressed=function(){s.close()};l.setShareSheet=function(e){r.shareSheet=e};const c=new h({});const d={bindingContexts:{this:c.createBindingContext("/")},models:{this:c}};const f={title:o.tile.title?o.tile.title:o.title,subtitle:o.tile.subtitle,icon:o.tile.icon,url:o.tile.url?o.tile.url:o.url.substring(o.url.indexOf("#")),queryUrl:o.tile.queryUrl};if(r.shareSheet){s=r.shareSheet;const e=s.getModel("share");this._setStaticShareData(e);const a=t(e.getData(),f);e.setData(a);g(s,o);s.openBy(r)}else{const a="sap.fe.macros.share.ShareSheet";const i=u.loadTemplate(a,"fragment");try{const e=await Promise.resolve(p.process(i,{name:a},d));s=await n.load({definition:e,controller:l});s.setModel(new h(f||{}),"share");const c=s.getModel("share");this._setStaticShareData(c);const u=t(c.getData(),f);c.setData(u);s.setModel(new h(o||{}),"shareData");g(s,o);r.addDependent(s);s.openBy(r);l.setShareSheet(s)}catch(t){e.error("Error while opening the share fragment",t)}}}catch(t){e.error("Error while fetching the share model data",t)}};l._setStaticShareData=function e(t){const r=i.getLibraryResourceBundle("sap.fe.core");t.setProperty("/jamButtonText",r.getText("T_COMMON_SAPFE_SHARE_JAM"));t.setProperty("/emailButtonText",r.getText("T_SEMANTIC_CONTROL_SEND_EMAIL"));t.setProperty("/msTeamsShareButtonText",r.getText("T_COMMON_SAPFE_SHARE_MSTEAMS"));if(o.get("sap-ushell-config.renderers.fiori2.componentData.config.sapHorizonEnabled")===true){t.setProperty("/msTeamsVisible",true)}else{t.setProperty("/msTeamsVisible",false)}const a=o.get("sap.ushell.Container.getUser");t.setProperty("/jamVisible",!!a&&a().isJamActive());t.setProperty("/saveAsTileVisible",!!(sap&&sap.ushell&&sap.ushell.Container))};l._doOpenJamShareDialog=function e(t,o){const r=i.createComponent({name:"sap.collaboration.components.fiori.sharing.dialog",settings:{object:{id:o,share:t}}});r.open()};l._triggerEmail=async function e(){const t=await this._adaptShareMetadata();const o=i.getLibraryResourceBundle("sap.fe.core");const r=t.email.title?t.email.title:o.getText("T_SHARE_UTIL_HELPER_SAPFE_EMAIL_SUBJECT",[t.title]);a.URLHelper.triggerEmail(undefined,r,t.email.url?t.email.url:t.url)};l._triggerShareToJam=async function e(){const t=await this._adaptShareMetadata();this._doOpenJamShareDialog(t.jam.title?t.jam.title:t.title,t.jam.url?t.jam.url:window.location.origin+window.location.pathname+t.url)};l._saveAsTile=async function e(t){const o=await this._adaptShareMetadata(),r=t.getDependents()[0],a=c.getInstance().getHash(),i=c.getInstance().hrefForAppSpecificHash?c.getInstance().hrefForAppSpecificHash(""):"";o.url=a?i+a:window.location.hash;r.setTitle(o.tile.title?o.tile.title:o.title);r.setSubtitle(o.tile.subtitle);r.setTileIcon(o.tile.icon);r.setCustomUrl(o.tile.url?o.tile.url:o.url);r.setServiceUrl(o.tile.queryUrl);r.firePress()};l._adaptShareMetadata=function e(){const t=c.getInstance().getHash(),o=c.getInstance().hrefForAppSpecificHash?c.getInstance().hrefForAppSpecificHash(""):"",r={url:window.location.origin+window.location.pathname+window.location.search+(t?o+t:window.location.hash),title:document.title,email:{url:"",title:""},jam:{url:"",title:""},tile:{url:"",title:"",subtitle:"",icon:"",queryUrl:""}};return this.adaptShareMetadata(r)};return s}(s),R(j.prototype,"onInit",[m],Object.getOwnPropertyDescriptor(j.prototype,"onInit"),j.prototype),R(j.prototype,"onExit",[g],Object.getOwnPropertyDescriptor(j.prototype,"onExit"),j.prototype),R(j.prototype,"openShareSheet",[f,S],Object.getOwnPropertyDescriptor(j.prototype,"openShareSheet"),j.prototype),R(j.prototype,"adaptShareMetadata",[y,b],Object.getOwnPropertyDescriptor(j.prototype,"adaptShareMetadata"),j.prototype),R(j.prototype,"_triggerEmail",[_,w],Object.getOwnPropertyDescriptor(j.prototype,"_triggerEmail"),j.prototype),R(j.prototype,"_triggerShareToJam",[T,E],Object.getOwnPropertyDescriptor(j.prototype,"_triggerShareToJam"),j.prototype),R(j.prototype,"_saveAsTile",[O,v],Object.getOwnPropertyDescriptor(j.prototype,"_saveAsTile"),j.prototype),R(j.prototype,"_adaptShareMetadata",[M,P],Object.getOwnPropertyDescriptor(j.prototype,"_adaptShareMetadata"),j.prototype),j))||D);return J},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/SideEffects", ["sap/base/Log","sap/ui/core/mvc/ControllerExtension","../CommonUtils","../helpers/ClassSupport"],function(e,t,i,r){"use strict";var o,s,n,d,f,c,p,a,l,u,g,y,E,h,F,S,v,m,_,O,G,P,b,x,C,w,j,M,D,I,q,T,$,R,A,V,B,k,z,N;var Q=r.publicExtension;var U=r.privateExtension;var L=r.methodOverride;var W=r.finalExtension;var H=r.defineUI5Class;function J(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;K(e,t)}function K(e,t){K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return K(e,t)}function X(e,t,i,r,o){var s={};Object.keys(r).forEach(function(e){s[e]=r[e]});s.enumerable=!!s.enumerable;s.configurable=!!s.configurable;if("value"in s||s.initializer){s.writable=true}s=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},s);if(o&&s.initializer!==void 0){s.value=s.initializer?s.initializer.call(o):void 0;s.initializer=undefined}if(s.initializer===void 0){Object.defineProperty(e,t,s);s=null}return s}const Y="$$ImmediateRequest";let Z=(o=H("sap.fe.core.controllerextensions.SideEffects"),s=L(),n=Q(),d=W(),f=Q(),c=W(),p=Q(),a=W(),l=Q(),u=W(),g=Q(),y=W(),E=Q(),h=W(),F=Q(),S=W(),v=Q(),m=W(),_=Q(),O=W(),G=Q(),P=W(),b=Q(),x=W(),C=Q(),w=W(),j=U(),M=W(),D=Q(),I=W(),q=U(),T=W(),$=U(),R=W(),A=U(),V=W(),B=Q(),k=W(),o(z=(N=function(t){J(r,t);function r(){return t.apply(this,arguments)||this}var o=r.prototype;o.onInit=function e(){this._view=this.base.getView();this._sideEffectsService=i.getAppComponent(this._view).getSideEffectsService();this._registeredFieldGroupMap={};this._fieldGroupInvalidity={};this._registeredFailedSideEffects={}};o.addControlSideEffects=function e(t,i){this._sideEffectsService.addControlSideEffects(t,i)};o.removeControlSideEffects=function e(t){var i;const r=((i=t.isA)===null||i===void 0?void 0:i.call(t,"sap.ui.base.ManagedObject"))&&t.getId();if(r){this._sideEffectsService.removeControlSideEffects(r)}};o.getContextForSideEffects=function e(t,i){let r=t,o=this._sideEffectsService.getEntityTypeFromContext(t);if(i!==o){r=t.getBinding().getContext();if(r){o=this._sideEffectsService.getEntityTypeFromContext(r);if(i!==o){r=r.getBinding().getContext();if(r){o=this._sideEffectsService.getEntityTypeFromContext(r);if(i!==o){return undefined}}}}}return r||undefined};o.getFieldSideEffectsMap=function e(t){let i={};const r=t.getFieldGroupIds(),o=this._view.getViewData().entitySet,s=this._sideEffectsService.getConvertedMetaModel().entitySets.find(e=>e.name===o);i=this.getSideEffectsMapForFieldGroups(r,t.getBindingContext());if(o&&s){const e=s.entityType.fullyQualifiedName,r=this.getTargetProperty(t),o=this.getContextForSideEffects(t.getBindingContext(),e);if(r&&o){const t=this._sideEffectsService.getControlEntitySideEffects(e);Object.keys(t).forEach(s=>{const n=t[s];if(n.sourceProperties.includes(r)){const t=`${s}::${e}`;i[t]={name:t,immediate:true,sideEffects:n,context:o}}})}}return i};o.getSideEffectsMapForFieldGroups=function e(t,i){const r={};t.forEach(e=>{const{name:t,immediate:o,sideEffects:s,sideEffectEntityType:n}=this._getSideEffectsPropertyForFieldGroup(e);const d=i?this.getContextForSideEffects(i,n):undefined;if(s&&(!i||i&&d)){r[t]={name:t,immediate:o,sideEffects:s};if(i){r[t].context=d}}});return r};o.clearFieldGroupsValidity=function e(){this._fieldGroupInvalidity={}};o.isFieldGroupValid=function e(t,i){const r=this._getFieldGroupIndex(t,i);return Object.keys(this._fieldGroupInvalidity[r]??{}).length===0};o.getTargetProperty=function e(t){var i;const r=t.data("sourcePath");const o=this._view.getModel().getMetaModel();const s=(i=this._view.getBindingContext())===null||i===void 0?void 0:i.getPath();const n=s?`${o.getMetaPath(s)}/`:"";return r===null||r===void 0?void 0:r.replace(n,"")};o.handleFieldChange=async function t(i,r,o){const s=i.getSource();this._saveFieldPropertiesStatus(s,r);if(!r){return}try{await(i.getParameter("promise")??Promise.resolve())}catch(t){e.debug("Prerequisites on Field for the SideEffects have been rejected",t);return}return this._manageSideEffectsFromField(s,o??Promise.resolve())};o.handleFieldGroupChange=function t(i){const r=i.getSource(),o=i.getParameter("fieldGroupIds"),s=o.reduce((e,t)=>e.concat(this.getRegisteredSideEffectsForFieldGroup(t)),[]);return Promise.all(s.map(e=>this._requestFieldGroupSideEffects(e))).catch(t=>{var i;const o=(i=r.getBindingContext())===null||i===void 0?void 0:i.getPath();e.debug(`Error while processing FieldGroup SideEffects on context ${o}`,t)})};o.requestSideEffects=async function e(t,i,r,o){let s,n;if(o){const e=await o(t);s=e["aTargets"];n=e["TriggerAction"]}else{s=[...t.targetEntities??[],...t.targetProperties??[]];n=t.triggerAction}if(n){this._sideEffectsService.executeAction(n,i,r)}if(s.length){return this._sideEffectsService.requestSideEffects(s,i,r).catch(e=>{this.registerFailedSideEffects(t,i);throw e})}};o.getRegisteredFailedRequests=function e(){return this._registeredFailedSideEffects};o.registerFailedSideEffects=function e(t,i){const r=i.getPath();this._registeredFailedSideEffects[r]=this._registeredFailedSideEffects[r]??[];const o=this._registeredFailedSideEffects[r].every(e=>t.fullyQualifiedName!==e.fullyQualifiedName);if(o){this._registeredFailedSideEffects[r].push(t)}};o.unregisterFailedSideEffectsForAContext=function e(t){delete this._registeredFailedSideEffects[t]};o.unregisterFailedSideEffects=function e(t,i){var r;const o=i.getPath();if((r=this._registeredFailedSideEffects[o])!==null&&r!==void 0&&r.length){this._registeredFailedSideEffects[o]=this._registeredFailedSideEffects[o].filter(e=>e.fullyQualifiedName!==t)}};o.registerFieldGroupSideEffects=function e(t,i){const r=this._getFieldGroupIndex(t.name,t.context);if(!this._registeredFieldGroupMap[r]){this._registeredFieldGroupMap[r]={promise:i??Promise.resolve(),sideEffectProperty:t}}};o.unregisterFieldGroupSideEffects=function e(t){const{context:i,name:r}=t;const o=this._getFieldGroupIndex(r,i);delete this._registeredFieldGroupMap[o]};o.getRegisteredSideEffectsForFieldGroup=function e(t){const i=[];for(const e of Object.keys(this._registeredFieldGroupMap)){if(e.startsWith(`${t}_`)){i.push(this._registeredFieldGroupMap[e])}}return i};o._getFieldGroupIndex=function e(t,i){return`${t}_${i.getPath()}`};o._getSideEffectsPropertyForFieldGroup=function e(t){var i;const r=t.indexOf(Y)!==-1,o=t.replace(Y,""),s=o.split("#"),n=s[0],d=`${n}@com.sap.vocabularies.Common.v1.SideEffects${s.length===2?`#${s[1]}`:""}`,f=(i=this._sideEffectsService.getODataEntitySideEffects(n))===null||i===void 0?void 0:i[d];return{name:o,immediate:r,sideEffects:f,sideEffectEntityType:n}};o._manageSideEffectsFromField=async function t(i,r){const o=this.getFieldSideEffectsMap(i);try{const e=[];const t=Object.keys(o).map(e=>{const t=o[e];if(t.immediate===true){this.unregisterFailedSideEffects(t.sideEffects.fullyQualifiedName,t.context);return this.requestSideEffects(t.sideEffects,t.context)}return this.registerFieldGroupSideEffects(t,r)});for(const t of[i.getBindingContext(),this._view.getBindingContext()]){if(t){const i=t.getPath();const r=this._registeredFailedSideEffects[i]??[];this.unregisterFailedSideEffectsForAContext(i);for(const i of r){e.push(this.requestSideEffects(i,t))}}}await Promise.all(t.concat(e))}catch(t){e.debug(`Error while managing Field SideEffects`,t)}};o._requestFieldGroupSideEffects=async function t(i){this.unregisterFieldGroupSideEffects(i.sideEffectProperty);try{await i.promise}catch(t){e.debug(`Error while processing FieldGroup SideEffects`,t);return}try{const{sideEffects:e,context:t,name:r}=i.sideEffectProperty;if(this.isFieldGroupValid(r,t)){await this.requestSideEffects(e,t)}}catch(t){e.debug(`Error while executing FieldGroup SideEffects`,t)}};o._saveFieldPropertiesStatus=function e(t,i){const r=this.getFieldSideEffectsMap(t);Object.keys(r).forEach(e=>{const{name:o,immediate:s,context:n}=r[e];if(!s){const e=this._getFieldGroupIndex(o,n);if(i){var d;(d=this._fieldGroupInvalidity[e])===null||d===void 0?true:delete d[t.getId()]}else{this._fieldGroupInvalidity[e]={...this._fieldGroupInvalidity[e],...{[t.getId()]:true}}}}})};return r}(t),X(N.prototype,"onInit",[s],Object.getOwnPropertyDescriptor(N.prototype,"onInit"),N.prototype),X(N.prototype,"addControlSideEffects",[n,d],Object.getOwnPropertyDescriptor(N.prototype,"addControlSideEffects"),N.prototype),X(N.prototype,"removeControlSideEffects",[f,c],Object.getOwnPropertyDescriptor(N.prototype,"removeControlSideEffects"),N.prototype),X(N.prototype,"getContextForSideEffects",[p,a],Object.getOwnPropertyDescriptor(N.prototype,"getContextForSideEffects"),N.prototype),X(N.prototype,"getFieldSideEffectsMap",[l,u],Object.getOwnPropertyDescriptor(N.prototype,"getFieldSideEffectsMap"),N.prototype),X(N.prototype,"getSideEffectsMapForFieldGroups",[g,y],Object.getOwnPropertyDescriptor(N.prototype,"getSideEffectsMapForFieldGroups"),N.prototype),X(N.prototype,"clearFieldGroupsValidity",[E,h],Object.getOwnPropertyDescriptor(N.prototype,"clearFieldGroupsValidity"),N.prototype),X(N.prototype,"isFieldGroupValid",[F,S],Object.getOwnPropertyDescriptor(N.prototype,"isFieldGroupValid"),N.prototype),X(N.prototype,"getTargetProperty",[v,m],Object.getOwnPropertyDescriptor(N.prototype,"getTargetProperty"),N.prototype),X(N.prototype,"handleFieldChange",[_,O],Object.getOwnPropertyDescriptor(N.prototype,"handleFieldChange"),N.prototype),X(N.prototype,"handleFieldGroupChange",[G,P],Object.getOwnPropertyDescriptor(N.prototype,"handleFieldGroupChange"),N.prototype),X(N.prototype,"requestSideEffects",[b,x],Object.getOwnPropertyDescriptor(N.prototype,"requestSideEffects"),N.prototype),X(N.prototype,"getRegisteredFailedRequests",[C,w],Object.getOwnPropertyDescriptor(N.prototype,"getRegisteredFailedRequests"),N.prototype),X(N.prototype,"registerFailedSideEffects",[j,M],Object.getOwnPropertyDescriptor(N.prototype,"registerFailedSideEffects"),N.prototype),X(N.prototype,"unregisterFailedSideEffectsForAContext",[D,I],Object.getOwnPropertyDescriptor(N.prototype,"unregisterFailedSideEffectsForAContext"),N.prototype),X(N.prototype,"unregisterFailedSideEffects",[q,T],Object.getOwnPropertyDescriptor(N.prototype,"unregisterFailedSideEffects"),N.prototype),X(N.prototype,"registerFieldGroupSideEffects",[$,R],Object.getOwnPropertyDescriptor(N.prototype,"registerFieldGroupSideEffects"),N.prototype),X(N.prototype,"unregisterFieldGroupSideEffects",[A,V],Object.getOwnPropertyDescriptor(N.prototype,"unregisterFieldGroupSideEffects"),N.prototype),X(N.prototype,"getRegisteredSideEffectsForFieldGroup",[B,k],Object.getOwnPropertyDescriptor(N.prototype,"getRegisteredSideEffectsForFieldGroup"),N.prototype),N))||z);return Z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/ViewState", ["sap/base/Log","sap/base/util/merge","sap/fe/core/CommonUtils","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/KeepAliveHelper","sap/fe/core/helpers/ModelHelper","sap/fe/navigation/library","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/fl/apply/api/ControlVariantApplyAPI","sap/ui/mdc/p13n/StateUtil"],function(t,e,r,i,n,o,a,p,s,l,c){"use strict";var f,d,u,y,g,S,h,v,b,w,C,O,A,I,m,P,R,_,j,B,V,E,x,K,D,H,F,M,k,N,T,$,U,z,L,q,G,Q,J,W,X,Y,Z,tt,et,rt,it,nt,ot;var at=i.publicExtension;var pt=i.privateExtension;var st=i.finalExtension;var lt=i.extensible;var ct=i.defineUI5Class;function ft(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;dt(t,e)}function dt(t,e){dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,r){e.__proto__=r;return e};return dt(t,e)}function ut(t,e,r,i,n){var o={};Object.keys(i).forEach(function(t){o[t]=i[t]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=r.slice().reverse().reduce(function(r,i){return i(t,e,r)||r},o);if(n&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(n):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(t,e,o);o=null}return o}const yt="#additionalStates",gt=a.NavType;const St={"sap.ui.fl.variants.VariantManagement":{retrieve:function(t){return{variantId:t.getCurrentVariantKey()}},apply:async function(e,r){try{if(r&&r.variantId!==undefined&&r.variantId!==e.getCurrentVariantKey()){const i=this._checkIfVariantIdIsAvailable(e,r.variantId);let n;if(i){n=r.variantId}else{n=e.getStandardVariantKey();this.controlsVariantIdUnavailable.push(...e.getFor())}try{await l.activateVariant({element:e,variantReference:n});await this._setInitialStatesForDeltaCompute(e)}catch(r){t.error(r);this.invalidateInitialStateForApply.push(...e.getFor());await this._setInitialStatesForDeltaCompute(e)}}else{this._setInitialStatesForDeltaCompute(e)}}catch(e){t.error(e)}}},"sap.m.IconTabBar":{retrieve:function(t){return{selectedKey:t.getSelectedKey()}},apply:function(t,e){if(e&&e.selectedKey){const r=t.getItems().find(function(t){return t.getKey()===e.selectedKey});if(r){t.setSelectedItem(r)}}}},"sap.ui.mdc.FilterBar":{retrieve:async function(t){const e=this.getStateKey(t);const r=await c.retrieveExternalState(t);const i=t.getPropertyInfoSet();const n=r.filter||{};i.filter(function(t){return Object.keys(n).length>0&&t.path&&n[t.path]&&(t.removeFromAppState||n[t.path].length===0)}).forEach(function(t){if(t.path){delete n[t.path]}});return this._getControlState(e,r)},apply:async function(e,r){try{if(r){const t=(r===null||r===void 0?void 0:r.initialState)&&this.invalidateInitialStateForApply.indexOf(e.getId())===-1&&this.controlsVariantIdUnavailable.indexOf(e.getId())===-1;if(t){const t=await c.diffState(e,r.initialState,r.fullState);return c.applyExternalState(e,t)}else{return c.applyExternalState(e,(r===null||r===void 0?void 0:r.fullState)??r)}}}catch(e){t.error(e)}}},"sap.ui.mdc.Table":{retrieve:async function(t){const e=this.getStateKey(t);const r=await c.retrieveExternalState(t);return this._getControlState(e,r)},apply:async function(e,r){try{if(r){const t=(r===null||r===void 0?void 0:r.initialState)&&this.invalidateInitialStateForApply.indexOf(e.getId())===-1&&this.controlsVariantIdUnavailable.indexOf(e.getId())===-1;if(t){var i;if(r.initialState&&!((i=r.initialState)!==null&&i!==void 0&&i.supplementaryConfig)){r.initialState.supplementaryConfig={}}const t=await c.diffState(e,r.initialState,r.fullState);return c.applyExternalState(e,t)}else{if(!r.supplementaryConfig){r.supplementaryConfig={}}return c.applyExternalState(e,(r===null||r===void 0?void 0:r.fullState)??r)}}}catch(e){t.error(e)}},refreshBinding:function(e){const r=e.getRowBinding();if(r){const t=r.getRootBinding();if(t===r){r.refresh()}else{const t=r.getHeaderContext();const e=r.getGroupId();if(t){t.requestSideEffects([{$NavigationPropertyPath:""}],e)}}}else{t.info(`Table: ${e.getId()} was not refreshed. No binding found!`)}}},"sap.ui.mdc.Chart":{retrieve:function(t){return c.retrieveExternalState(t)},apply:function(t,e){if(e){return c.applyExternalState(t,e)}}},"sap.uxap.ObjectPageLayout":{retrieve:function(t){return{selectedSection:t.getSelectedSection()}},apply:function(t,e){if(e){t.setSelectedSection(e.selectedSection)}},refreshBinding:function(e){const i=e.getBindingContext();const a=i&&i.getBinding();if(a){const t=o.getMetaPathForContext(i);const p=n.getControlRefreshStrategyForContextPath(e,t);if(p==="self"){const e=i.getModel(),n=e.getMetaModel(),o=r.getContextPathProperties(n,t,{$kind:"NavigationProperty"})||{},p=Object.keys(o).reduce(function(t,e){if(o[e].$isCollection!==true){t.push({$NavigationPropertyPath:e})}return t},[]),s=[{$PropertyPath:"*"}],l=a.getGroupId();i.requestSideEffects(s.concat(p),l)}else if(p==="includingDependents"){a.refresh()}}else{t.info(`ObjectPage: ${e.getId()} was not refreshed. No binding found!`)}}},"sap.fe.macros.table.QuickFilterContainer":{retrieve:function(t){return{selectedKey:t.getSelectorKey()}},apply:function(t,e){if(e!==null&&e!==void 0&&e.selectedKey){t.setSelectorKey(e.selectedKey)}}},"sap.m.SegmentedButton":{retrieve:function(t){return{selectedKey:t.getSelectedKey()}},apply:function(t,e){if(e!==null&&e!==void 0&&e.selectedKey){t.setSelectedKey(e.selectedKey)}}},"sap.m.Select":{retrieve:function(t){return{selectedKey:t.getSelectedKey()}},apply:function(t,e){if(e!==null&&e!==void 0&&e.selectedKey){t.setSelectedKey(e.selectedKey)}}},"sap.f.DynamicPage":{retrieve:function(t){return{headerExpanded:t.getHeaderExpanded()}},apply:function(t,e){if(e){t.setHeaderExpanded(e.headerExpanded)}}},"sap.ui.core.mvc.View":{retrieve:function(t){const e=t.getController();if(e&&e.viewState){return e.viewState.retrieveViewState(e.viewState)}return{}},apply:function(t,e,r){const i=t.getController();if(i&&i.viewState){return i.viewState.applyViewState(e,r)}},refreshBinding:function(t){const e=t.getController();if(e&&e.viewState){return e.viewState.refreshViewBindings()}}},"sap.ui.core.ComponentContainer":{retrieve:function(t){const e=t.getComponentInstance();if(e){return this.retrieveControlState(e.getRootControl())}return{}},apply:function(t,e,r){const i=t.getComponentInstance();if(i){return this.applyControlState(i.getRootControl(),e,r)}}}};let ht=(f=ct("sap.fe.core.controllerextensions.ViewState"),d=at(),u=st(),y=at(),g=lt(s.After),S=pt(),h=st(),v=pt(),b=st(),w=at(),C=lt(s.After),O=at(),A=lt(s.After),I=at(),m=lt(s.After),P=pt(),R=st(),_=at(),j=lt(s.After),B=pt(),V=st(),E=at(),x=lt(s.After),K=at(),D=st(),H=at(),F=st(),M=at(),k=lt(s.After),N=pt(),T=st(),$=at(),U=lt(s.Instead),z=at(),L=st(),q=pt(),G=at(),Q=lt(s.After),J=at(),W=lt(s.After),X=at(),Y=lt(s.After),Z=pt(),tt=at(),et=lt(s.After),rt=pt(),it=st(),f(nt=(ot=function(r){ft(i,r);function i(){var e;e=r.call(this)||this;e.initialControlStatesMapper={};e.controlsVariantIdUnavailable=[];e.invalidateInitialStateForApply=[];e.viewStateControls=[];e._setInitialStatesForDeltaCompute=async r=>{try{const t=e.viewStateControls;const i=[];const n=[];let o=[];const a=(r===null||r===void 0?void 0:r.getFor())??[];t.filter(function(t){return t&&(!r||a.indexOf(t.getId())>-1)&&(t.isA("sap.ui.mdc.Table")||t.isA("sap.ui.mdc.FilterBar")||t.isA("sap.ui.mdc.Chart"))}).forEach(t=>{if(r){e._addEventListenersToVariantManagement(r,a)}const o=c.retrieveExternalState(t);i.push(o);n.push(e.getStateKey(t))});o=await Promise.all(i);o.forEach((t,r)=>{e.initialControlStatesMapper[n[r]]=t})}catch(e){t.error(e)}};e._iRetrievingStateCounter=0;e._pInitialStateApplied=new Promise(t=>{e._pInitialStateAppliedResolve=t});return e}var n=i.prototype;n.refreshViewBindings=async function t(){const e=await this.collectResults(this.base.viewState.adaptBindingRefreshControls);let r=Promise.resolve();e.filter(t=>t&&t.isA&&t.isA("sap.ui.base.ManagedObject")).forEach(t=>{r=r.then(this.refreshControlBinding.bind(this,t))});return r};n.adaptBindingRefreshControls=function t(e){};n.refreshControlBinding=function e(r){const i=this.getControlRefreshBindingHandler(r);let n=Promise.resolve();if(typeof i.refreshBinding!=="function"){t.info(`refreshBinding handler for control: ${r.getMetadata().getName()} is not provided`)}else{n=n.then(i.refreshBinding.bind(this,r))}return n};n.getControlRefreshBindingHandler=function t(e){const r={};if(e){for(const t in St){if(e.isA(t)){r["refreshBinding"]=St[t].refreshBinding||{};break}}}this.base.viewState.adaptBindingRefreshHandler(e,r);return r};n.adaptBindingRefreshHandler=function t(e,r){};n.onSuspend=function t(){};n.onRestore=function t(){};n.destroy=function t(){delete this._pInitialStateAppliedResolve;r.prototype.destroy.call(this)};n.collectResults=function t(e){const r=[];for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++){n[o-1]=arguments[o]}n.push(r);e.apply(this,n);return Promise.all(r)};n.adaptControlStateHandler=function t(e,r){};n.getControlStateHandler=function t(e){const r=[],i=[];if(e){for(const t in St){if(e.isA(t)){r.push(Object.assign({},St[t]));break}}}this.base.viewState.adaptControlStateHandler(e,i);return r.concat(i)};n.adaptStateControls=function t(e){};n.getStateKey=function t(e){return this.getView().getLocalId(e.getId())||e.getId()};n.retrieveViewState=async function t(){++this._iRetrievingStateCounter;let r;try{await this._pInitialStateApplied;const t=await this.collectResults(this.base.viewState.adaptStateControls);const i=await Promise.all(t.filter(function(t){return t&&t.isA&&t.isA("sap.ui.base.ManagedObject")}).map(t=>this.retrieveControlState(t).then(e=>({key:this.getStateKey(t),value:e}))));r=i.reduce(function(t,r){const i={};i[r.key]=r.value;return e(t,i)},{});const n=await Promise.resolve(this._retrieveAdditionalStates());if(n&&Object.keys(n).length){r[yt]=n}}finally{--this._iRetrievingStateCounter}return this._iRetrievingStateCounter===0?r:undefined};n.retrieveAdditionalStates=function t(e){};n._retrieveAdditionalStates=function t(){const e={};this.base.viewState.retrieveAdditionalStates(e);return e};n.retrieveControlState=function t(r){const i=this.getControlStateHandler(r);return Promise.all(i.map(t=>{if(typeof t.retrieve!=="function"){throw new Error(`controlStateHandler.retrieve is not a function for control: ${r.getMetadata().getName()}`)}return t.retrieve.call(this,r)})).then(t=>t.reduce(function(t,r){return e(t,r)},{}))};n.applyInitialStateOnly=function t(){return true};n.applyViewState=async function e(r,i){if(this.base.viewState.applyInitialStateOnly()&&this._getInitialStateApplied()){return}try{await this.collectResults(this.base.viewState.onBeforeStateApplied);const t=await this.collectResults(this.base.viewState.adaptStateControls);this.viewStateControls=t;let e=Promise.resolve();let n=false;const o=t.reduce((t,e)=>{if(!e){return t}const r=e.isA("sap.ui.fl.variants.VariantManagement");if(!n){n=r}t=r?[e,...t]:[...t,e];return t},[]);if(!n){this._setInitialStatesForDeltaCompute()}o.filter(function(t){return t.isA("sap.ui.base.ManagedObject")}).forEach(t=>{const n=this.getStateKey(t);e=e.then(this.applyControlState.bind(this,t,r?r[n]:undefined,i))});await e;if(i.navigationType===gt.iAppState){await this.collectResults(this.base.viewState.applyAdditionalStates,r?r[yt]:undefined)}else{await this.collectResults(this.base.viewState.applyNavigationParameters,i);await this.collectResults(this.base.viewState._applyNavigationParametersToFilterbar,i)}}finally{try{await this.collectResults(this.base.viewState.onAfterStateApplied);this._setInitialStateApplied()}catch(e){t.error(e)}}};n._checkIfVariantIdIsAvailable=function t(e,r){const i=e.getVariants();let n=false;i.forEach(function(t){if(t.key===r){n=true}});return n};n._setInitialStateApplied=function t(){if(this._pInitialStateAppliedResolve){const t=this._pInitialStateAppliedResolve;delete this._pInitialStateAppliedResolve;t()}};n._getInitialStateApplied=function t(){return!this._pInitialStateAppliedResolve};n.onBeforeStateApplied=function t(e){};n.onAfterStateApplied=function t(e){};n.applyAdditionalStates=function t(e,r){};n._applyNavigationParametersToFilterbar=function t(e,r){};n.applyNavigationParameters=function t(e,r){};n.applyControlState=function t(e,r,i){const n=this.getControlStateHandler(e);let o=Promise.resolve();n.forEach(t=>{if(typeof t.apply!=="function"){throw new Error(`controlStateHandler.apply is not a function for control: ${e.getMetadata().getName()}`)}o=o.then(t.apply.bind(this,e,r,i))});return o};n.getInterface=function t(){return this};n._getControlState=function t(e,r){const i=this.initialControlStatesMapper;if(Object.keys(i).length>0&&i[e]){if(Object.keys(i[e]).length===0){i[e]={...r}}return{fullState:r,initialState:i[e]}}return r};n._addEventListenersToVariantManagement=function t(e,r){const i={variantManagedControls:r};const n=()=>{this._updateInitialStatesOnVariantChange(r)};e.attachSave(i,n,{});e.attachSelect(i,n,{})};n._updateInitialStatesOnVariantChange=function t(e){const r=this.initialControlStatesMapper;Object.keys(r).forEach(t=>{for(const i of e){if(i.indexOf(t)>-1){r[t]={}}}})};return i}(p),ut(ot.prototype,"refreshViewBindings",[d,u],Object.getOwnPropertyDescriptor(ot.prototype,"refreshViewBindings"),ot.prototype),ut(ot.prototype,"adaptBindingRefreshControls",[y,g],Object.getOwnPropertyDescriptor(ot.prototype,"adaptBindingRefreshControls"),ot.prototype),ut(ot.prototype,"refreshControlBinding",[S,h],Object.getOwnPropertyDescriptor(ot.prototype,"refreshControlBinding"),ot.prototype),ut(ot.prototype,"getControlRefreshBindingHandler",[v,b],Object.getOwnPropertyDescriptor(ot.prototype,"getControlRefreshBindingHandler"),ot.prototype),ut(ot.prototype,"adaptBindingRefreshHandler",[w,C],Object.getOwnPropertyDescriptor(ot.prototype,"adaptBindingRefreshHandler"),ot.prototype),ut(ot.prototype,"onSuspend",[O,A],Object.getOwnPropertyDescriptor(ot.prototype,"onSuspend"),ot.prototype),ut(ot.prototype,"onRestore",[I,m],Object.getOwnPropertyDescriptor(ot.prototype,"onRestore"),ot.prototype),ut(ot.prototype,"collectResults",[P,R],Object.getOwnPropertyDescriptor(ot.prototype,"collectResults"),ot.prototype),ut(ot.prototype,"adaptControlStateHandler",[_,j],Object.getOwnPropertyDescriptor(ot.prototype,"adaptControlStateHandler"),ot.prototype),ut(ot.prototype,"getControlStateHandler",[B,V],Object.getOwnPropertyDescriptor(ot.prototype,"getControlStateHandler"),ot.prototype),ut(ot.prototype,"adaptStateControls",[E,x],Object.getOwnPropertyDescriptor(ot.prototype,"adaptStateControls"),ot.prototype),ut(ot.prototype,"getStateKey",[K,D],Object.getOwnPropertyDescriptor(ot.prototype,"getStateKey"),ot.prototype),ut(ot.prototype,"retrieveViewState",[H,F],Object.getOwnPropertyDescriptor(ot.prototype,"retrieveViewState"),ot.prototype),ut(ot.prototype,"retrieveAdditionalStates",[M,k],Object.getOwnPropertyDescriptor(ot.prototype,"retrieveAdditionalStates"),ot.prototype),ut(ot.prototype,"retrieveControlState",[N,T],Object.getOwnPropertyDescriptor(ot.prototype,"retrieveControlState"),ot.prototype),ut(ot.prototype,"applyInitialStateOnly",[$,U],Object.getOwnPropertyDescriptor(ot.prototype,"applyInitialStateOnly"),ot.prototype),ut(ot.prototype,"applyViewState",[z,L],Object.getOwnPropertyDescriptor(ot.prototype,"applyViewState"),ot.prototype),ut(ot.prototype,"_checkIfVariantIdIsAvailable",[q],Object.getOwnPropertyDescriptor(ot.prototype,"_checkIfVariantIdIsAvailable"),ot.prototype),ut(ot.prototype,"onBeforeStateApplied",[G,Q],Object.getOwnPropertyDescriptor(ot.prototype,"onBeforeStateApplied"),ot.prototype),ut(ot.prototype,"onAfterStateApplied",[J,W],Object.getOwnPropertyDescriptor(ot.prototype,"onAfterStateApplied"),ot.prototype),ut(ot.prototype,"applyAdditionalStates",[X,Y],Object.getOwnPropertyDescriptor(ot.prototype,"applyAdditionalStates"),ot.prototype),ut(ot.prototype,"_applyNavigationParametersToFilterbar",[Z],Object.getOwnPropertyDescriptor(ot.prototype,"_applyNavigationParametersToFilterbar"),ot.prototype),ut(ot.prototype,"applyNavigationParameters",[tt,et],Object.getOwnPropertyDescriptor(ot.prototype,"applyNavigationParameters"),ot.prototype),ut(ot.prototype,"applyControlState",[rt,it],Object.getOwnPropertyDescriptor(ot.prototype,"applyControlState"),ot.prototype),ot))||nt);return ht},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/collaboration/ActivityBase", ["sap/base/Log","sap/base/util/UriParameters","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/ui/core/ws/SapPcpWebSocket"],function(e,t,o,n){"use strict";var r={};var i=n.SUPPORTED_PROTOCOLS;var s=o.Activity;const a="/collaboration";const c="/collaboration/connected";const l="/collaboration/connection";const u="/collaboration/DraftID";function f(e){return!!e.getProperty(c)}r.isCollaborationConnected=f;function d(o,n,r,i,s,f){let d=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;if(s.getProperty(l)){if(s.getProperty(u)===r){return}else{P(s)}}const p=[o];s.setProperty(a,{activeUsers:p,activities:{}});d=d||t.fromQuery(window.location.search).get("useFLPUser")==="true";const h=b(o,n,r,i,d);s.setProperty(l,h);s.setProperty(u,r);h.attachMessage(function(e){const t=e.getParameter("pcpFields");f(t)});h.attachOpen(function(){s.setProperty(c,true)});h.attachError(function(){e.error(`The connection to the websocket channel ${n} could not be established`);s.setProperty(c,false)});h.attachClose(function(){s.setProperty(c,false)})}r.initializeCollaboration=d;function p(e,t,o,n,r,i){if(f(o)){const a=o.getProperty(l);a.send("",{clientAction:e,clientContent:t,clientTriggeredActionName:n,clientRefreshListBinding:r,clientRequestedProperties:i});if(e===s.Activate||e===s.Discard){P(o)}}}r.broadcastCollaborationMessage=p;function P(e){const t=e.getProperty(l);t===null||t===void 0?void 0:t.close();e.setProperty(a,{})}r.endCollaboration=P;function b(e,o,r,s){let a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const c=window.location;let l;const u=t.fromQuery(window.location.search).get("useBackendUrl");if(u){l=u.replace("https","wss")}else{l=c.protocol==="https:"?"wss:":"ws:";l+=`//${c.host}`}l+=`${(o.startsWith("/")?"":"/")+o}?draft=${r}&relatedService=${s}`;if(a){l+=`&userID=${encodeURI(e.id)}&userName=${encodeURI(e.initialName||"")}`}return new n(l,[i.v10])}return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/collaboration/ActivitySync", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/collaboration/ActivityBase","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/converters/MetaModelConverter","sap/m/MessageBox"],function(t,e,n,o,i,s){"use strict";var r={};var c=o.CollaborationUtils;var a=o.Activity;var l=n.isCollaborationConnected;var d=n.initializeCollaboration;var g=n.endCollaboration;var f=n.broadcastCollaborationMessage;const u="/collaboration/myActivity";const p="/collaboration/activeUsers";const C="/collaboration/activities";const v="$auto.sync";const h=function(t){const e=t.getModel("internal");return l(e)};r.isConnected=h;const y=function(t,e,n,o,i,s){if(h(t)){const r=t.getModel("internal");const c=Array.isArray(n)?n.join("|"):n;const l=s===null||s===void 0?void 0:s.join("|");const d=r.getProperty(u);if(e===a.LiveChange){if(d===c){return}else{r.setProperty(u,c)}}else{if(e===a.Undo&&d===null){return}r.setProperty(u,null)}f(e,c,r,o,i,l)}};r.send=y;const b=function(t){return t.getModel().getMetaModel().getObject("/@com.sap.vocabularies.Common.v1.WebSocketBaseURL")};const M=function(t){const e=(t===null||t===void 0?void 0:t.getBindingContext)&&t.getBindingContext();return!!(e&&b(e))};r.isCollaborationEnabled=M;const P=async function(t){const e=t.getModel("internal");const n=c.getMe(t);if(!n){return}const o=t.getBindingContext();const i=b(o);const s=o.getModel().getServiceUrl();if(!i){return}const r=await o.requestProperty("DraftAdministrativeData/DraftUUID");if(!r){return}d(n,i,r,s,e,e=>{x(e,t)});e.setProperty(u,null)};r.connect=P;const m=function(t){const e=t.getModel("internal");g(e)};r.disconnect=m;function x(t,e){var n;const o=e.getModel("internal");let i=o.getProperty(p);let s;let r;const l=R(e,t.clientContent);t.userAction=t.userAction||t.clientAction;const d={id:t.userID,name:t.userDescription,initials:c.formatInitials(t.userDescription),color:c.getUserColor(t.userID,i,[])};let g=d;switch(t.userAction){case a.Join:case a.JoinEcho:if(i.findIndex(t=>t.id===d.id)===-1){i.unshift(d);o.setProperty(p,i)}if(t.userAction===a.Join){f(a.JoinEcho,o.getProperty(u),o)}if(t.userAction===a.JoinEcho){if(t.clientContent){t.userAction=a.LiveChange;x(t,e)}}break;case a.Leave:i=i.filter(t=>t.id!==d.id||t.me);o.setProperty(p,i);const v=o.getProperty(C)||{};const h=function(t){if(Array.isArray(t)){return t.filter(t=>t.id!==d.id)}else{for(const e in t){t[e]=h(t[e])}return t}};h(v);o.setProperty(C,v);break;case a.Change:E(e,t);break;case a.Create:B(e,t);break;case a.Delete:O(e,t);break;case a.Activate:A(e,t.clientContent,c.getText("C_COLLABORATIONDRAFT_ACTIVATE",d.name));break;case a.Discard:A(e,t.clientContent,c.getText("C_COLLABORATIONDRAFT_DISCARD",d.name));break;case a.Action:S(e,t);break;case a.LiveChange:g=d;g.key=w(t.clientContent);let y="";const b=l.split("/");for(let t=1;t<b.length-1;t++){y+=`/${b[t]}`;if(!o.getProperty(C+y)){o.setProperty(C+y,{})}}s=o.getProperty(C+l);s=(n=s)!==null&&n!==void 0&&n.slice?s.slice():[];s.push(g);o.setProperty(C+l,s);break;case a.Undo:s=o.getProperty(C+l);r=w(t.clientContent);o.setProperty(C+l,s.filter(t=>t.key!==r));break}}function A(e,n,o){m(e);s.information(o);e.getBindingContext().getBinding().resetChanges().then(function(){L(n,e)}).catch(function(){t.error("Pending Changes could not be reset - still navigating to active instance");L(n,e)})}function E(t,e){const n=e.clientContent.split("|");const o=t.getModel().getMetaModel();const i=t.getModel("internal");n.forEach(t=>{var e;const n=o.getMetaPath(t);const s=w(t);let r=i.getProperty(C+n)||[];r=((e=r)===null||e===void 0?void 0:e.filter)&&r.filter(t=>t.key!==s);if(r){i.setProperty(C+n,r)}});const s=T(t);const r=s.getBindingContext();const c=n.map(e=>D(t,e));s.getController().editFlow.updateDocument(r,Promise.all(c))}async function D(e,n){const o=e.getModel().getMetaModel();const s=o.getMetaContext(n);const r=i.getInvolvedDataModelObjects(s);const a=n.substring(0,n.lastIndexOf("/"));const l=F(e,a);const d=a.substring(0,a.lastIndexOf("("));const g=d.substring(0,d.lastIndexOf("/"));const f=g?F(e,g):undefined;if(!l&&!f){return}try{const t=[];const i=c.getAppComponent(e).getSideEffectsService();if(l){const e=o.getMetaPath(l.getPath());const s=o.getMetaPath(n).replace(e,"").slice(1);t.push(i.requestSideEffects([s],l,v))}const s=i.computeFieldGroupIds(r.targetEntityType.fullyQualifiedName,r.targetObject.fullyQualifiedName);if(s.length){const n=e.getController();const o=n._sideEffects.getSideEffectsMapForFieldGroups(s,l||f);Object.keys(o).forEach(e=>{const i=o[e];t.push(n._sideEffects.requestSideEffects(i.sideEffects,i.context,v))})}await Promise.all(t)}catch(e){t.error("Failed to update data after change:"+e);throw e}}function O(t,e){const n=T(t);const o=n.getBindingContext();const i=o.getPath();const r=e.clientContent.split("|");const a=r.find(t=>i.startsWith(t));if(a){s.information(c.getText("C_COLLABORATIONDRAFT_DELETE",e.userDescription),{onClose:()=>{const e=o.getModel().getKeepAliveContext(a);e.setKeepAlive(false);const i=I(t,r[0]);n.getController().editFlow.updateDocument(n.getBindingContext(),i);n.getController()._routing.navigateBackFromContext(e)}})}else{const e=I(t,r[0]);n.getController().editFlow.updateDocument(n.getBindingContext(),e)}}function B(t,e){const n=T(t);const o=e.clientContent.split("|");const i=I(t,o[0]);n.getController().editFlow.updateDocument(n.getBindingContext(),i)}async function I(e,n){const o=c.getAppComponent(e);const i=n.substring(0,n.lastIndexOf("/"));const s=F(e,i);if(s){try{const t=[];const e=s.getModel().getMetaModel();const i=e.getMetaPath(n);const r=e.getMetaPath(s.getPath());const c=i.replace(`${r}/`,"");const a=o.getSideEffectsService();t.push(a.requestSideEffects([c],s,v));t.push(a.requestSideEffectsForNavigationProperty(c,s,v));await Promise.all(t)}catch(e){t.error("Failed to update data after collection update:"+e)}}}function S(t,e){var n;const o=T(t);const i=e.clientContent.split("|");const s=e.clientTriggeredActionName||"";const r=(n=e.clientRequestedProperties)===null||n===void 0?void 0:n.split("|");const c=e.clientRefreshListBinding==="true";const a=i.map(e=>k(t,e,s,r));if(c){a.push(I(t,i[0]))}o.getController().editFlow.updateDocument(o.getBindingContext(),Promise.all(a))}async function k(t,e,n,o){const s=F(t,e);if(!s){return}const r=c.getAppComponent(t);const a=r.getSideEffectsService();const l=a.getODataActionSideEffects(n,s);const d=[];if(l){var g;if((g=l.pathExpressions)!==null&&g!==void 0&&g.length){d.push(a.requestSideEffects(l.pathExpressions,s,v))}}if(o&&o.length>0){const n=t.getModel().getMetaModel();const r=R(t,e);const c=i.getInvolvedDataModelObjects(n.getContext(r));const l=c.targetEntityType.entityProperties.map(t=>t.name).filter(t=>o.includes(t));if(l.length>0){d.push(a.requestSideEffects(l,s,v))}}await Promise.all(d)}function F(t,e){if(!e){return undefined}const n=[];while(!e.endsWith(")")){n.unshift(e);e=e.substring(0,e.lastIndexOf("/"))}n.unshift(e);const o=e.substring(0,e.lastIndexOf("("));let i;let s=T(t).getBindingContext();while(s&&!i){var r;if(n.indexOf(s.getPath())>=0){i=s}s=(r=s.getBinding())===null||r===void 0?void 0:r.getContext()}if(i){return i}const c=T(t).getBindingContext().getModel();const a=c.getAllBindings().find(t=>{const e=t.isRelative()?t.getResolvedPath():t.getPath();return t.isA("sap.ui.model.odata.v4.ODataListBinding")&&e===o});i=a===null||a===void 0?void 0:a.getAllCurrentContexts().find(t=>n.indexOf(t.getPath())>=0);return i}function L(t,e){const n=T(e);const o=e.getModel().bindContext(t).getBoundContext();n.getController().routing.navigate(o)}function T(t){const n=c.getAppComponent(t);return e.getCurrentPageView(n)}function w(t){return t.substring(t.lastIndexOf("(")+1,t.lastIndexOf(")"))}function R(t,e){let n="";if(e){const o=e.split("|")[0];n=t.getModel().getMetaModel().getMetaPath(o)}return n}return{connect:P,disconnect:m,isConnected:h,isCollaborationEnabled:M,send:y}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/collaboration/CollaborationCommon", ["sap/fe/core/helpers/BindingToolkit","sap/fe/macros/CommonHelper","sap/ui/core/Component","sap/ui/core/Core","../../formatters/CollaborationFormatter"],function(e,t,n,o,r){"use strict";var i={};var a=e.getExpressionFromAnnotation;var s=e.formatResult;var l=e.constant;var c=e.compileExpression;let u;(function(e){e[e["NotYetInvited"]=0]="NotYetInvited";e[e["NoChangesMade"]=1]="NoChangesMade";e[e["ChangesMade"]=2]="ChangesMade";e[e["CurrentlyEditing"]=3]="CurrentlyEditing"})(u||(u={}));i.UserStatus=u;let g;(function(e){e["NoChanges"]="N";e["InProgress"]="P"})(g||(g={}));i.UserEditingState=g;let d;(function(e){e["Join"]="JOIN";e["JoinEcho"]="JOINECHO";e["Leave"]="LEAVE";e["Change"]="CHANGE";e["Create"]="CREATE";e["Delete"]="DELETE";e["Action"]="ACTION";e["LiveChange"]="LIVECHANGE";e["Activate"]="ACTIVATE";e["Discard"]="DISCARD";e["Undo"]="UNDO"})(d||(d={}));i.Activity=d;const f="Users";const p="UserID";function C(e){const t=["Dr.","Prof.","Prof. Dr.","B.A.","MBA","Ph.D."];t.forEach(function(t){e=e.replace(t,"")});let n;const o=e.trimStart().split(" ");if(o.length>1){var r,i;n=((o===null||o===void 0?void 0:(r=o.shift())===null||r===void 0?void 0:r.charAt(0))||"")+((i=o.pop())===null||i===void 0?void 0:i.charAt(0))}else{n=e.substring(0,2)}return n.toUpperCase()}function m(e,t,n){const o=t.find(t=>t.id===e);if(o){return o.color}else{for(let e=1;e<=10;e++){if(t.findIndex(t=>t.color===e)===-1&&n.findIndex(t=>t.color===e)===-1){return e}}return 10}}function A(e){const n=e.targetEntitySet.annotations.Common.DraftRoot.ShareAction.toString();const o=e.targetEntityType.resolvePath(n);const r=o.parameters.find(e=>e.name===f);const i={name:t.addSingleQuotes("sap/fe/macros/valuehelp/ValueHelpDelegate"),payload:{propertyPath:t.addSingleQuotes(`/${r.type}/${p}`),qualifiers:{},valueHelpQualifier:t.addSingleQuotes(""),isActionParameterDialog:true}};return t.objectToString(i)}i.getValueHelpDelegate=A;function h(e){if(e.isA("sap.fe.core.AppComponent")){return e}const t=n.getOwnerComponentFor(e);if(!t){return e}else{return h(t)}}function v(e){const t=h(e).getShellServices();if(!t||!t.hasUShell()){throw"No Shell... No User"}return{initials:t.getUser().getInitials(),id:t.getUser().getId(),name:`${t.getUser().getFullName()} (${E("C_COLLABORATIONDRAFT_YOU")})`,initialName:t.getUser().getFullName(),color:6,me:true,status:u.CurrentlyEditing}}function E(e){const t=o.getLibraryResourceBundle("sap.fe.core");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++){r[i-1]=arguments[i]}return t.getText(e,r)}i.getText=E;function I(e){var t;const n=e.targetObject;const o=a((t=n.Title)===null||t===void 0?void 0:t.Value,[],"");const i=["C_COLLABORATIONDRAFT_INVITATION_DIALOG",l(n.TypeName),o];const u=s(i,r.getFormattedText);return c(u)}i.getInvitationDialogTitleExpBinding=I;const N={formatInitials:C,getUserColor:m,getMe:v,getAppComponent:h,getText:E,getInvitationDialogTitleExpBinding:I};i.CollaborationUtils=N;function T(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];const n=e.getModel();const o=n.getMetaModel();const r=o.getMetaPath(e);const i=o.getObject(`${r}@com.sap.vocabularies.Common.v1.DraftRoot/ShareAction`);const a=n.bindContext(`${i}(...)`,e);a.setParameter("Users",t);a.setParameter("ShareAll",true);return a.execute()}i.shareObject=T;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/collaboration/Manage", ["sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards","sap/m/MessageToast","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/library"],function(t,e,n,o,r,i,a){"use strict";var s={};var c=n.isPathAnnotationExpression;var l=t.UserStatus;var d=t.UserEditingState;var u=t.shareObject;var g=t.getText;var f=t.CollaborationUtils;const C=a.ValueState;const I=async function(t){let e=A("dialog");if(!e){e=await U(t)}await p(t);e.open()};s.openManageDialog=I;async function U(t){const e=t.getController().getExtensionAPI().loadFragment({name:"sap.fe.core.controllerextensions.collaboration.ManageDialog",id:"manageCollaborationDraft",controller:{share:m,addUser:h,removeUser:D,close:O,addUserChanged:v,formatUserStatus:S,formatUserStatusColor:E}});return e.then(function(e){t.addDependent(e);return e}).catch(function(){throw"not this time"})}async function p(t){const e=t.getModel();const n={$select:"UserID,UserDescription,UserEditingState"};const o=e.bindList("DraftAdministrativeData/DraftAdministrativeUser",t.getBindingContext(),[],[],n);const r=t.getBindingContext("internal");return o.requestContexts(0,100).then(function(e){const n=[];const o=t.getModel("internal").getProperty("/collaboration/activeUsers")||[];const i=f.getMe(t);let a;if((e===null||e===void 0?void 0:e.length)>0){e.forEach(function(t){const e=t.getObject();const r=(i===null||i===void 0?void 0:i.id)===e.UserID;const s=o.find(t=>t.id===e.UserID);let c=e.UserDescription||e.UserID;const u=f.formatInitials(c);c+=r?` (${f.getText("C_COLLABORATIONDRAFT_YOU")})`:"";switch(e.UserEditingState){case d.NoChanges:a=s?l.CurrentlyEditing:l.NoChangesMade;break;case d.InProgress:a=s?l.CurrentlyEditing:l.ChangesMade;break;default:a=l.NotYetInvited}const g={id:e.UserID,name:c,status:a,color:f.getUserColor(e.UserID,o,n),initials:u,me:r};n.push(g)})}else{n.push(i)}r.setProperty("collaboration/UserID","");r.setProperty("collaboration/UserDescription","");r.setProperty("collaboration/invitedUsers",n)}).catch(function(){})}s.readInvitedUsers=p;function h(t){const e=t.getSource();const n=e.getBindingContext("internal");const o=n.getProperty("invitedUsers")||[];const r=e.getModel("internal").getProperty("/collaboration/activeUsers");const i={id:n===null||n===void 0?void 0:n.getProperty("UserID"),name:n===null||n===void 0?void 0:n.getProperty("UserDescription")};if(!(o.findIndex(t=>t.id===i.id)>-1||i.id===i.name&&i.id==="")){i.name=i.name||i.id;i.initials=f.formatInitials(i.name);i.color=f.getUserColor(i.id,r,o);i.transient=true;i.status=l.NotYetInvited;o.unshift(i);n.setProperty("invitedUsers",o);n.setProperty("UserID","");n.setProperty("UserDescription","")}}function v(t){const e=t.getSource();t.getParameter("promise").then(function(t){const n=e.getBindingContext("internal");const o=n.getProperty("invitedUsers")||[];if(o.findIndex(e=>e.id===t)>-1){e.setValueState("Error");e.setValueStateText(g("C_COLLABORATIONDRAFT_INVITATION_USER_ERROR"))}else{e.setValueState("None");e.setValueStateText("")}}).catch(function(){throw"User couldn't be determined at all"})}function D(t){T(t.getSource())}function T(t){const e=t.getBindingContext("pageInternal");const n=t.getBindingContext("internal").getProperty("id");let o=e.getProperty("collaboration/invitedUsers");o=o.filter(t=>t.id!==n);e.setProperty("collaboration/invitedUsers",o)}function A(t){return r.byId(`manageCollaborationDraft--${t}`)}function O(){A("dialog").close()}function y(t){var n,o;const r=t.getModel();const i=r.getMetaModel();const a=i.getMetaPath(t.getPath());const s=e.getInvolvedDataModelObjects(i.getContext(a));const l=(n=s.targetObject.entityType.annotations)===null||n===void 0?void 0:(o=n.UI)===null||o===void 0?void 0:o.HeaderInfo;let d="";const u=l===null||l===void 0?void 0:l.Title;if(u){d=c(u.Value)?t.getProperty(u.Value.path):u.Value}return d||(l===null||l===void 0?void 0:l.TypeName)||""}s.getSharedItemName=y;async function m(t){const e=[];const n=t.getSource();const r=n.getBindingContext();const i=A("userList").getBinding("items").getContexts();let a=0;i.forEach(function(t){e.push({UserID:t.getProperty("id"),UserAccessRole:"O"});if(t.getObject().status===0){a++}});try{await u(r,e);o.show(g("C_COLLABORATIONDRAFT_INVITATION_SUCCESS_TOAST",a.toString(),y(r)))}catch{o.show(g("C_COLLABORATIONDRAFT_INVITATION_FAILED_TOAST"))}O()}s.share=m;async function N(t,e){const n=t.getSource();let o=A("userDetails");if(!o){o=await _(e)}o.setBindingContext(n.getBindingContext("internal"),"internal");o.openBy(n,false)}s.showUserDetails=N;async function _(t){const e=i.load({id:"manageCollaborationDraft",name:"sap.fe.core.controllerextensions.collaboration.UserDetails"});return e.then(function(e){t.addDependent(e);return e}).catch(function(){throw"not this time"})}function S(t){switch(t){case l.CurrentlyEditing:return g("C_COLLABORATIONDRAFT_USER_CURRENTLY_EDITING");case l.ChangesMade:return g("C_COLLABORATIONDRAFT_USER_CHANGES_MADE");case l.NoChangesMade:return g("C_COLLABORATIONDRAFT_USER_NO_CHANGES_MADE");case l.NotYetInvited:default:return g("C_COLLABORATIONDRAFT_USER_NOT_YET_INVITED")}}function E(t){switch(t){case l.CurrentlyEditing:return C.Success;case l.ChangesMade:return C.Warning;case l.NoChangesMade:case l.NotYetInvited:default:return C.Information}}return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/dialog/OperationsDialog.block", ["sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/helpers/ClassSupport","sap/m/Bar","sap/m/Button","sap/m/Dialog","sap/m/Title","sap/ui/core/Core","sap/fe/core/jsx-runtime/jsx"],function(e,t,i,r,n,l,o,a,s){"use strict";var u,c,p,g,d,f,b,h,m,y,v,w,z,B,H,j,M,x,D,O,E,q,P,T,U,k,C,I,S,N,R,W,_,G,A;var L={};var F=i.defineReference;var V=e.defineBuildingBlock;var J=e.blockAttribute;function K(e,t,i,r){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function Q(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function X(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Y(e,t)}function Y(e,t){Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return Y(e,t)}function Z(e,t,i,r,n){var l={};Object.keys(r).forEach(function(e){l[e]=r[e]});l.enumerable=!!l.enumerable;l.configurable=!!l.configurable;if("value"in l||l.initializer){l.writable=true}l=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},l);if(n&&l.initializer!==void 0){l.value=l.initializer?l.initializer.call(n):void 0;l.initializer=undefined}if(l.initializer===void 0){Object.defineProperty(e,t,l);l=null}return l}function $(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}const ee=a.getLibraryResourceBundle("sap.fe.macros");let te=(u=V({name:"OperationsDialog",namespace:"sap.fe.core.controllerextensions"}),c=J({type:"string",isPublic:true,required:true}),p=J({type:"string"}),g=J({type:"object",required:true}),d=F(),f=J({type:"boolean",required:true}),b=J({type:"function"}),h=J({type:"object",required:true}),m=J({type:"string",required:true}),y=J({type:"string",required:true}),v=J({type:"string",required:true}),w=J({type:"object",required:true}),z=J({type:"object"}),B=J({type:"object"}),H=J({type:"object",required:true}),j=J({type:"boolean"}),M=J({type:"function"}),u(x=(D=function(e){X(t,e);function t(t){var i;i=e.call(this,t)||this;K(i,"id",O,Q(i));K(i,"title",E,Q(i));K(i,"messageObject",q,Q(i));K(i,"operationsDialog",P,Q(i));K(i,"isMultiContext412",T,Q(i));K(i,"resolve",U,Q(i));K(i,"model",k,Q(i));K(i,"groupId",C,Q(i));K(i,"actionName",I,Q(i));K(i,"cancelButtonTxt",S,Q(i));K(i,"strictHandlingPromises",N,Q(i));K(i,"strictHandlingUtilities",R,Q(i));K(i,"messageHandler",W,Q(i));K(i,"messageDialogModel",_,Q(i));K(i,"isGrouped",G,Q(i));K(i,"showMessageInfo",A,Q(i));return i}L=t;var i=t.prototype;i.open=function e(){var t;this.getContent();(t=this.operationsDialog.current)===null||t===void 0?void 0:t.open()};i.getBeginButton=function e(){return new n({press:()=>{if(!(this.isMultiContext412??false)){var e;(e=this.resolve)===null||e===void 0?void 0:e.call(this,true);this.model.submitBatch(this.groupId)}else{var t;this.strictHandlingPromises.forEach(e=>{e.resolve(true);this.model.submitBatch(e.groupId);if(e.requestSideEffects){e.requestSideEffects()}});const e=(t=this.strictHandlingUtilities)===null||t===void 0?void 0:t.strictHandlingTransitionFails;if(e&&e.length>0){var i;(i=this.messageHandler)===null||i===void 0?void 0:i.removeTransitionMessages()}if(this.strictHandlingUtilities){this.strictHandlingUtilities.strictHandlingWarningMessages=[]}}if(this.strictHandlingUtilities){this.strictHandlingUtilities.is412Executed=true}this.messageDialogModel.setData({});this.close()},type:"Emphasized",text:this.actionName})};i.close=function e(){var t;(t=this.operationsDialog.current)===null||t===void 0?void 0:t.close()};i.getTitle=function e(){const t=ee.getText("M_WARNINGS");return new o({text:t})};i.getEndButton=function e(){return new n({press:()=>{if(this.strictHandlingUtilities){this.strictHandlingUtilities.strictHandlingWarningMessages=[];this.strictHandlingUtilities.is412Executed=false}if(!(this.isMultiContext412??false)){this.resolve(false)}else{this.strictHandlingPromises.forEach(function(e){e.resolve(false)})}this.messageDialogModel.setData({});this.close();if(this.isGrouped??false){this.showMessageInfo()}},text:this.cancelButtonTxt})};i.getContent=function e(){return s(l,{id:this.id,ref:this.operationsDialog,resizable:true,content:this.messageObject.oMessageView,state:"Warning",customHeader:new r({contentLeft:[this.messageObject.oBackButton],contentMiddle:[this.getTitle()]}),contentHeight:"50%",contentWidth:"50%",verticalScrolling:false,beginButton:this.getBeginButton(),endButton:this.getEndButton()})};return t}(t),O=Z(D.prototype,"id",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),E=Z(D.prototype,"title",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return"Dialog Standard Title"}}),q=Z(D.prototype,"messageObject",[g],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),P=Z(D.prototype,"operationsDialog",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),T=Z(D.prototype,"isMultiContext412",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),U=Z(D.prototype,"resolve",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),k=Z(D.prototype,"model",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),C=Z(D.prototype,"groupId",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),I=Z(D.prototype,"actionName",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),S=Z(D.prototype,"cancelButtonTxt",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),N=Z(D.prototype,"strictHandlingPromises",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),R=Z(D.prototype,"strictHandlingUtilities",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),W=Z(D.prototype,"messageHandler",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),_=Z(D.prototype,"messageDialogModel",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),G=Z(D.prototype,"isGrouped",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),A=Z(D.prototype,"showMessageInfo",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),D))||x);L=te;return L},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/NotApplicableContextDialog", ["sap/fe/core/templating/EntityTypeHelper","sap/m/Button","sap/m/CustomListItem","sap/m/Dialog","sap/m/HBox","sap/m/List","sap/m/Text","sap/m/VBox","sap/fe/core/jsx-runtime/jsx","sap/fe/core/jsx-runtime/Fragment","sap/fe/core/jsx-runtime/jsxs"],function(t,e,i,n,s,o,r,a,l,p,h){"use strict";var u={};var c=t.getTitleExpression;let d=function(){function t(t){this.totalContextCount=0;this.title=t.title;this.resourceModel=t.resourceModel;this.entityType=t.entityType;this.notApplicableContexts=t.notApplicableContexts;this._shouldContinue=false;this._dialog=this.createDialog();this._processingPromise=new Promise(t=>{this._fnResolve=t})}u=t;var d=t.prototype;d.onAfterClose=function t(){this._fnResolve(this._shouldContinue);this._dialog.destroy()};d.onContinue=function t(){this._shouldContinue=true;this._dialog.close()};d.open=async function t(e){e.addDependent(this._dialog);this._dialog.open();return this._processingPromise};d.getDialog=function t(){return this._dialog};d.createDialog=function t(){var u,d;return l(n,{state:"Warning",showHeader:true,contentWidth:"20rem",resizable:true,verticalScrolling:true,horizontalScrolling:true,class:"sapUiContentPadding",title:this.title,afterClose:this.onAfterClose.bind(this),children:{beginButton:l(e,{text:this.resourceModel.getText("C_ACTION_PARTIAL_FRAGMENT_SAPFE_CONTINUE_ANYWAY"),press:this.onContinue.bind(this),type:"Emphasized"}),endButton:l(e,{text:this.resourceModel.getText("C_COMMON_SAPFE_CLOSE"),press:()=>this._dialog.close()}),content:h(p,{children:[l(a,{children:l(r,{text:this.resourceModel.getText("C_ACTION_PARTIAL_FRAGMENT_SAPFE_BOUND_ACTION",[this.notApplicableContexts.length]),class:"sapUiTinyMarginBegin sapUiTinyMarginTopBottom"})}),l(o,{headerText:(u=this.entityType.annotations.UI)===null||u===void 0?void 0:(d=u.HeaderInfo)===null||d===void 0?void 0:d.TypeNamePlural,showSeparators:"None",children:{items:this.notApplicableContexts.map(t=>{const e=c(this.entityType);const n=l(i,{children:l(s,{justifyContent:"Start",children:l(r,{text:e,class:"sapUiTinyMarginBegin sapUiTinyMarginTopBottom"})})});n.setBindingContext(t);return n})}})]})}})};return t}();u=d;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/TransactionHelper", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/controllerextensions/editFlow/operations","sap/fe/core/controllerextensions/editFlow/sticky","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/helpers/DeleteHelper","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/library","sap/m/Button","sap/m/Dialog","sap/m/MessageBox","sap/m/MessageToast","sap/m/Popover","sap/m/Text","sap/m/VBox","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/library","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/model/json/JSONModel","../../helpers/MetaModelFunction","../../helpers/ToES6Promise"],function(e,t,n,a,o,r,s,i,c,l,d,u,g,f,p,C,h,m,b,y,E,w,A,x,D,P,T,M){"use strict";var v=T.getRequiredPropertiesFromInsertRestrictions;var O=T.getNonComputedVisibleFields;var _=u.generate;var I=d.getResourceModel;const S=g.CreationMode;const N=g.ProgrammingModel;const B=A.ValueState;function R(e){if(e&&e.getMetadata&&e.getMetadata().getName()==="sap.ui.base.Event"){e={}}return e||{}}let k=function(){function d(){}var u=d.prototype;u.busyLock=function e(t,a){n.lock(t.getModel("ui"),a)};u.busyUnlock=function e(t,a){n.unlock(t.getModel("ui"),a)};u.getProgrammingModel=function e(t){let n;if(t.isA("sap.ui.model.odata.v4.Context")){n=t.getPath()}else{n=(t.isRelative()?t.getResolvedPath():t.getPath())??""}const a=t.getModel().getMetaModel();if(l.isDraftSupported(a,n)){return N.Draft}else if(l.isStickySessionSupported(a)){return N.Sticky}else{return N.NonDraft}};u.validateDocument=function e(t,n,a){const o=n&&n.customValidationFunction;if(o){const e=o.substring(0,o.lastIndexOf(".")||-1).replace(/\./gi,"/"),r=o.substring(o.lastIndexOf(".")+1,o.length),s=n.data;delete s["@$ui5.context.isTransient"];return c.validationWrapper(e,r,s,a,t)}return Promise.resolve([])};u.createDocument=async function t(n,a,r,s,i){const c=n.getModel(),d=c.getMetaModel(),u=d.getMetaPath(n.getHeaderContext().getPath()),f=r.getRouterProxy().getHash(),p=r.getComponentData(),C=p&&p.startupParameters||{},h=!n.isRelative()?this._getNewAction(C,f,d,u):undefined;const m={$$patchWithoutSideEffects:true};const b=d.getObject(`${u}/@com.sap.vocabularies.Common.v1.Messages/$Path`);let y="/busy";let w=d.getObject(`${u}@com.sap.vocabularies.Common.v1.DefaultValuesFunction`)||d.getObject(`${l.getTargetEntitySet(d.getContext(u))}@com.sap.vocabularies.Common.v1.DefaultValuesFunction`);let A;let x;if(w){if(d.getObject(`${u}@com.sap.vocabularies.Common.v1.DefaultValuesFunction`)&&l.getTargetEntitySet(d.getContext(u))!==u){A=true}else{A=false}}if(b){m["$select"]=b}const D=R(a);if(!n){throw new Error("Binding required for new document creation")}const P=this.getProgrammingModel(n);if(P!==N.Draft&&P!==N.Sticky){throw new Error("Create document only allowed for draft or sticky session supported services")}if(D.busyMode==="Local"){y=`/busyLocal/${D.busyId}`}D.beforeCreateCallBack=i?null:D.beforeCreateCallBack;this.busyLock(r,y);const T=E.getLibraryResourceBundle("sap.fe.core");let v;try{if(h){v=await this.callAction(h,{contexts:n.getHeaderContext(),showActionParameterDialog:true,label:this._getSpecificCreateActionDialogLabel(d,u,h,T),bindingParameters:m,parentControl:D.parentControl,bIsCreateAction:true,skipParameterDialog:D.skipParameterDialog},null,r,s)}else{const t=D.creationMode!==S.CreationRow&&D.creationMode!==S.Inline;const a=t?O(d,u,r):[];w=i?null:w;let l,g;if(w){if(A){l=n.getContext()&&`${d.getMetaPath(n.getContext().getPath())}/${w}`;g=n.getContext()}else{l=n.getHeaderContext()&&`${d.getMetaPath(n.getHeaderContext().getPath())}/${w}`;g=n.getHeaderContext()}}const f=l&&d.createBindingContext(l);try{let t;try{const e=f&&f.getObject()&&f.getObject()[0].$IsBound?await o.callBoundFunction(w,g,c):await o.callFunctionImport(w,c);if(e){t=e.getObject()}}catch(t){e.error(`Error while executing the function ${w}`,t);throw t}D.data=t?Object.assign({},t,D.data):D.data;if(D.data){delete D.data["@odata.context"]}if(a.length>0){v=await this._launchDialogWithKeyFields(n,a,c,D,r,s);x=v.newContext}else{if(D.beforeCreateCallBack){await M(D.beforeCreateCallBack({contextPath:n&&n.getPath()}))}x=n.create(D.data,true,D.createAtEnd,D.inactive);if(!D.inactive){v=await this.onAfterCreateCompletion(n,x,D)}}}catch(t){e.error("Error while creating the new document",t);throw t}}x=x||v;await s.showMessageDialog({control:D.parentControl});return x}catch(e){var _;await s.showMessageDialog({control:D.parentControl});if((e===g.Constants.ActionExecutionFailed||e===g.Constants.CancelActionDialog)&&(_=x)!==null&&_!==void 0&&_.isTransient()){x.delete("$direct")}throw e}finally{this.busyUnlock(r,y)}};u._isDraftEnabled=function e(t){const n=t[0];const a=this.getProgrammingModel(n);return a===N.Draft};u.deleteDocument=function e(t,n,a,o,r){const c=E.getLibraryResourceBundle("sap.fe.core");let l;this.busyLock(a);const d=Array.isArray(t)?[...t]:[t];return new Promise((e,t)=>{try{const u=this._isDraftEnabled(n.selectedContexts||d);const g=[];const h=[];if(n){if(!n.numberOfSelectedContexts){if(u){const e=d.find(e=>{const t=e.getObject();return t.IsActiveEntity===true&&t.HasDraftEntity===true&&t.DraftAdministrativeData&&t.DraftAdministrativeData.InProcessByUser&&!t.DraftAdministrativeData.DraftIsCreatedByMe});if(e){const n=e.getObject().DraftAdministrativeData.InProcessByUser;C.show(o.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_SINGLE_OBJECT_LOCKED",[n]),{title:o.getText("C_COMMON_DELETE"),onClose:t});return}}n=R(n);let e="";if(n.title){if(n.description){l=[n.title+" ",n.description]}else{l=[n.title,""]}e=o.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO",l,n.entitySetName)}else{e=o.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",undefined,n.entitySetName)}h.push({type:"deletableContexts",contexts:d,text:e,selected:true,control:"text"})}else{let e=d.length;if(u){e+=n.draftsWithNonDeletableActive.length+n.draftsWithDeletableActive.length+n.unSavedContexts.length+n.createModeContexts.length;i.updateDraftOptionsForDeletableTexts(n,d,e,o,g,h)}else{const t=i.getNonDeletableText(n,e,o);if(t){g.push(t)}}i.updateOptionsForDeletableTexts(n,d,o,h)}}i.updateContentForDeleteDialog(h,g);const m=new y({items:g});const b=c.getText("C_COMMON_DELETE");const E=async()=>{this.busyLock(a);try{await i.deleteConfirmHandler(h,n,r,o,a,u);e()}catch(e){t()}finally{this.busyUnlock(a)}};let w=false;const A=new p({title:b,state:"Warning",content:[m],ariaLabelledBy:g,beginButton:new f({text:c.getText("C_COMMON_DELETE"),type:"Emphasized",press:function(){s.removeBoundTransitionMessages();w=true;A.close();E()}}),endButton:new f({text:o.getText("C_COMMON_DIALOG_CANCEL"),press:function(){A.close()}}),afterClose:function(){A.destroy();if(!w){t()}}});if(n.noDialog){E()}else{A.addStyleClass("sapUiContentPadding");A.open()}}finally{this.busyUnlock(a)}})};u.editDocument=async function e(t,n,o,s){const i=this.getProgrammingModel(t);if(!t){throw new Error("Binding context to active document is required")}if(i!==N.Draft&&i!==N.Sticky){throw new Error("Edit is only allowed for draft or sticky session supported services")}this.busyLock(o);s.removeTransitionMessages();try{const e=i===N.Draft?await a.createDraftFromActiveDocument(t,o,{bPreserveChanges:true,oView:n}):await r.editDocumentInStickySession(t,o);await s.showMessageDialog();return e}catch(e){await s.showMessages({concurrentEditFlag:true});throw e}finally{this.busyUnlock(o)}};u.cancelDocument=async function e(t,n,o,s,i,c,l){if(!t){throw new Error("No context exists. Pass a meaningful context")}this.busyLock(o);const d=R(n);const u=t.getModel();const g=this.getProgrammingModel(t);if(g!==N.Draft&&g!==N.Sticky){throw new Error("Cancel document only allowed for draft or sticky session supported services")}try{let e=false;if(g===N.Draft&&!l){const e=u.bindContext(`${t.getPath()}/DraftAdministrativeData`).getBoundContext();const n=await e.requestObject();if(n){l=n.CreationDateTime!==n.LastChangeDateTime}}if(!d.skipDiscardPopover){await this._confirmDiscard(d.cancelButton,l,s)}if(t.isKeepAlive()){t.setKeepAlive(false)}if(d.beforeCancelCallBack){await d.beforeCancelCallBack({context:t})}if(g===N.Draft){if(c){if(t.hasPendingChanges()){t.getBinding().resetChanges()}e=await a.deleteDraft(t,o)}else{const n=u.bindContext(`${t.getPath()}/SiblingEntity`).getBoundContext();try{const a=await n.requestCanonicalPath();if(t.hasPendingChanges()){t.getBinding().resetChanges()}e=u.bindContext(a).getBoundContext()}finally{await a.deleteDraft(t,o)}}}else{const n=await r.discardDocument(t);if(n){if(n.hasPendingChanges()){n.getBinding().resetChanges()}if(!c){n.refresh();e=n}}}i.removeTransitionMessages();await i.showMessages();return e}catch(e){await i.showMessages();throw e}finally{this.busyUnlock(o)}};u.saveDocument=async function e(n,o,i,c,l,d,u){const g=this.getProgrammingModel(n);if(g!==N.Sticky&&g!==N.Draft){throw new Error("Save is only allowed for draft or sticky session supported services")}d.removeTransitionMessages();try{this.busyLock(o);const e=g===N.Draft?await a.activateDocument(n,o,{},d):await r.activateDocument(n,o);const t=s.getMessages().concat(s.getMessages(true,true));if(!(t.length===1&&t[0].type===A.MessageType.Success)){h.show(u?i.getText("C_TRANSACTION_HELPER_OBJECT_CREATED"):i.getText("C_TRANSACTION_HELPER_OBJECT_SAVED"))}return e}catch(e){if(c&&(l===null||l===void 0?void 0:l.length)>0){l.forEach(e=>{if(!t.hasTransientContext(e)){o.getSideEffectsService().requestSideEffectsForNavigationProperty(e.getPath(),n)}})}await d.showMessages();throw e}finally{this.busyUnlock(o)}};u.callAction=async function e(t,n,a,r,s){n=R(n);let i,c;const l=n.bindingParameters;if(!t){throw new Error("Provide name of action to be executed")}const d=t.split("/")[1];t=d||t;i=d?undefined:n.contexts;if(i&&(Array.isArray(i)&&i.length||!Array.isArray(i))){i=Array.isArray(i)?i[0]:i;c=i.getModel()}if(n.model){c=n.model}if(!c){throw new Error("Pass a context for a bound action or pass the model for an unbound action")}const u=r.getSideEffectsService().getODataActionSideEffects(t,i)||{};try{let e;if(i&&c){e=await o.callBoundAction(t,n.contexts,c,r,{parameterValues:n.parameterValues,invocationGrouping:n.invocationGrouping,label:n.label,skipParameterDialog:n.skipParameterDialog,mBindingParameters:l,entitySetName:n.entitySetName,additionalSideEffect:u,onSubmitted:()=>{s.removeTransitionMessages();this.busyLock(r)},onResponse:()=>{this.busyUnlock(r)},parentControl:n.parentControl,controlId:n.controlId,internalModelContext:n.internalModelContext,operationAvailableMap:n.operationAvailableMap,bIsCreateAction:n.bIsCreateAction,bGetBoundContext:n.bGetBoundContext,bObjectPage:n.bObjectPage,messageHandler:s,defaultValuesExtensionFunction:n.defaultValuesExtensionFunction,selectedItems:n.contexts})}else{e=await o.callActionImport(t,c,r,{parameterValues:n.parameterValues,label:n.label,skipParameterDialog:n.skipParameterDialog,bindingParameters:l,entitySetName:n.entitySetName,onSubmitted:()=>{this.busyLock(r)},onResponse:()=>{this.busyUnlock(r)},parentControl:n.parentControl,internalModelContext:n.internalModelContext,operationAvailableMap:n.operationAvailableMap,messageHandler:s,bObjectPage:n.bObjectPage})}await this._handleActionResponse(s,n,t);return e}catch(e){await this._handleActionResponse(s,n,t);throw e}};u._handleActionResponse=function e(t,n,a){const o=s.getMessages(true,true);const r=n.label?n.label:a;if(o.length>0&&n&&n.internalModelContext){n.internalModelContext.setProperty("sActionName",n.label?n.label:a)}let i;if(n.controlId){i=n.parentControl.byId(n.controlId)}else{i=n.parentControl}return t.showMessages({sActionName:r,control:i})};u.handleValidationError=function e(){const t=E.getMessageManager(),n=t.getMessageModel().getData().filter(function(e){if(e.validation){return e}});t.removeMessages(n)};u._createPopover=function e(t){return new m(t)};u._confirmDiscard=function e(t,n,a){if(!n){this.handleValidationError();return Promise.resolve()}t.setEnabled(false);return new Promise((e,n)=>{const o=this._createPopover({showHeader:false,placement:"Top"});o.addStyleClass("sapUiContentPadding");const r=new b({text:a.getText("C_TRANSACTION_HELPER_DRAFT_DISCARD_MESSAGE")});const s=new f({text:a.getText("C_TRANSACTION_HELPER_DRAFT_DISCARD_BUTTON"),width:"100%",press:()=>{this.handleValidationError();o.data("continueDiscard",true);o.close()},ariaLabelledBy:[r]});o.addContent(new y({items:[r,s]}));o.attachBeforeOpen(()=>{o.setInitialFocus(s)});o.attachAfterClose(()=>{t.setEnabled(true);if(o.data("continueDiscard")){e()}else{n()}});o.openBy(t,false)})};u._onFieldChange=function e(t,n,a,o){a.removeTransitionMessages();const r=t.getSource();const s=t.getParameter("promise");if(s){return s.then(function(e){r.setValue(e);o();return r.getValue()}).catch(function(e){if(e!==""){n.setEnabled(false)}else{r.setValue(e);o()}})}};u._launchDialogWithKeyFields=function e(a,o,r,s,i,c){let l;const d=s.parentControl;const u=r.bindList(a.getPath(),a.getContext(),[],[],{$$updateGroupId:"submitLater"});u.refreshInternal=function(){};const f=u.create(s.data,true);return new Promise(async(e,C)=>{const h="sap/fe/core/controls/NonComputedVisibleKeyFieldsDialog";const m=D.loadTemplate(h,"fragment"),b=I(d),y=r.getMetaModel(),E=[],A=a.isRelative()?a.getResolvedPath():a.getPath(),T=y.createBindingContext(A),O=y.getMetaPath(A);for(const e in o){E.push(y.createBindingContext(`${O}/${o[e]}`))}const S=new P(E);const N=S.createBindingContext("/");const R=v(O,y);const k=new P(R);const L=k.createBindingContext("/");const F=await x.process(m,{name:h},{bindingContexts:{entitySet:T,fields:N,requiredProperties:L},models:{entitySet:T.getModel(),fields:N.getModel(),metaModel:y,requiredProperties:k}});let H=[];const $={};let U;const j=async function(){let e=false;try{const t=await Promise.all(H.map(function(e){return e.getFields()[0]}).filter(function(e){return e.getRequired()||e.getValueState()===B.Error}).map(async function(e){const t=e.getId();if(t in $){try{const n=await $[t];return e.getValue()===""?undefined:n}catch(e){return undefined}}return e.getValue()===""?undefined:e.getValue()}));e=t.every(function(e){if(Array.isArray(e)){e=e[0]}return e!==undefined&&e!==null&&e!==""})}catch(t){e=false}U.setEnabled(e)};const V={handleChange:e=>{const t=e.getParameter("id");$[t]=this._onFieldChange(e,U,c,j)},handleLiveChange:e=>{const t=e.getParameter("id");const n=e.getParameter("value");$[t]=n;j()}};const W=await w.load({definition:F,controller:V});let G;const q=function(){if(G.error){C(G.error)}else{e(G.response)}l.close()};l=new p(_(["CreateDialog",O]),{title:b.getText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE"),content:[W],beginButton:{text:b.getText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE_BUTTON"),type:"Emphasized",press:async e=>{const t=e.getSource();t.setEnabled(false);n.lock(l);s.bIsCreateDialog=true;try{const e=await Promise.all(Object.keys($).map(async function(e){const t=await $[e];const n={};n[e]=t;return n}));if(s.beforeCreateCallBack){await M(s.beforeCreateCallBack({contextPath:a&&a.getPath(),createParameters:e}))}const t=f.getObject();const n={};Object.keys(t).forEach(function(e){const a=y.getObject(`${O}/${e}`);if(a&&a.$kind==="NavigationProperty"){return}n[e]=t[e]});const o=a.create(n,true,s.createAtEnd,s.inactive);const r=this.onAfterCreateCompletion(a,o,s);let i=await r;if(!i||i&&i.bKeepDialogOpen!==true){i=i??{};l.setBindingContext(null);i.newContext=o;G={response:i};q()}}catch(e){if(e!==g.Constants.CreationFailed){G={error:e};q()}else{t.setEnabled(true)}}finally{n.unlock(l);c.showMessages()}}},endButton:{text:b.getText("C_COMMON_ACTION_PARAMETER_DIALOG_CANCEL"),press:function(){G={error:g.Constants.CancelActionDialog};q()}},afterClose:function(){var e;(e=l.getBindingContext("internal"))===null||e===void 0?void 0:e.setProperty("isCreateDialogOpen",false);l.destroy();u.destroy()}});H=W===null||W===void 0?void 0:W.getAggregation("form").getAggregation("formContainers")[0].getAggregation("formElements");if(d&&d.addDependent){d.addDependent(l)}U=l.getBeginButton();l.setBindingContext(f);try{await t.setUserDefaults(i,E,f,false,s.createAction,s.data);j();l.getBindingContext("internal").setProperty("isCreateDialogOpen",true);l.open()}catch(e){await c.showMessages();throw e}})};u.onAfterCreateCompletion=function t(n,a,o){let r;const s=new Promise(e=>{r=e});const i=e=>{const t=e.getParameter("context"),o=e.getParameter("success");if(t===a){n.detachCreateCompleted(i,this);r(o)}};const c=()=>{a.created().then(undefined,function(){e.trace("transient creation context deleted")}).catch(function(t){e.trace("transient creation context deletion error",t)})};n.attachCreateCompleted(i,this);return s.then(e=>{if(!e){if(!o.keepTransientContextOnFailed){c();n.resetChanges();n.getModel().resetChanges(n.getUpdateGroupId());throw g.Constants.CreationFailed}return{bKeepDialogOpen:true}}else{return a.created()}})};u._getNewAction=function e(t,n,a,o){let r;if(t&&t.preferredMode&&n.toUpperCase().indexOf("I-ACTION=CREATEWITH")>-1){const e=t.preferredMode[0];r=e.toUpperCase().indexOf("CREATEWITH:")>-1?e.substr(e.lastIndexOf(":")+1):undefined}else if(t&&t.preferredMode&&n.toUpperCase().indexOf("I-ACTION=AUTOCREATEWITH")>-1){const e=t.preferredMode[0];r=e.toUpperCase().indexOf("AUTOCREATEWITH:")>-1?e.substr(e.lastIndexOf(":")+1):undefined}else{r=a&&a.getObject!==undefined?a.getObject(`${o}@com.sap.vocabularies.Session.v1.StickySessionSupported/NewAction`)||a.getObject(`${o}@com.sap.vocabularies.Common.v1.DraftRoot/NewAction`):undefined}return r};u._getSpecificCreateActionDialogLabel=function e(t,n,a,o){const r=function(){if(t&&t.getObject(`${n}/@com.sap.vocabularies.UI.v1.LineItem`)){const e=t.getObject(`${n}/@com.sap.vocabularies.UI.v1.LineItem`).findIndex(function(e){const t=e.Action?e.Action.split("("):undefined;return t?t[0]===a:false});return e>-1?t.getObject(`${n}/@com.sap.vocabularies.UI.v1.LineItem`)[e].Label:undefined}else{return undefined}};return r()||t&&t.getObject(`${n}/${a}@com.sap.vocabularies.Common.v1.Label`)||o&&o.getText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE")};return d}();const L=new k;return L},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/draft", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/helpers/ResourceModelHelper","sap/m/Button","sap/m/Dialog","sap/m/MessageBox","sap/m/Text","sap/ui/core/Core","../../operationsHelper","./draftDataLossPopup"],function(e,t,n,o,r,i,a,s,c,u,d){"use strict";var f=o.getResourceModel;const l={EDIT:"EditAction",ACTIVATION:"ActivationAction",DISCARD:"DiscardAction",PREPARE:"PreparationAction"};function g(e,t){const n=e.getModel(),o=n.getMetaModel(),r=o.getMetaPath(e.getPath());return o.getObject(`${r}@com.sap.vocabularies.Common.v1.DraftRoot/${t}`)}function h(e,t,n){const o=g(e,t);return e.getModel().bindContext(`${o}(...)`,e,n)}function E(e,t){const n=e.getModel(),o=n.getMetaModel(),r=o.getMetaPath(e.getPath());return o.getObject(`${r}@com.sap.vocabularies.Common.v1.DraftRoot/${t}/$ReturnType`)}function A(e){return!!g(e,l.PREPARE)}async function m(e,t,n){if(e.getProperty("IsActiveEntity")){const o={$$inheritExpandSelect:true};const r=h(e,l.EDIT,o);r.setParameter("PreserveChanges",t);const i="direct";const a=f(n);const s=a.getText("C_COMMON_OBJECT_PAGE_EDIT");const c=r.execute(i,undefined,u.fnOnStrictHandlingFailed.bind(O,i,{label:s,model:e.getModel()},a,null,null,null,undefined,undefined),e.getBinding().isA("sap.ui.model.odata.v4.ODataListBinding"));r.getModel().submitBatch(i);return await c}else{throw new Error("You cannot edit this draft document")}}async function p(t,n,o){if(O.getMessagesPath(t)&&O.hasPrepareAction(t)){try{const e=await O.executeDraftPreparationAction(t,t.getUpdateGroupId(),true,o);if(e&&!E(t,l.PREPARE)){v(t,n.getSideEffectsService())}return e}catch(t){e.error("Error while requesting messages",t)}}return undefined}async function P(t,n,o){const r=A(t);const i=r;if(!t.getProperty("IsActiveEntity")){const a=h(t,l.ACTIVATION,{$$inheritExpandSelect:true});const s=f(n);const c=s.getText("C_OP_OBJECT_PAGE_SAVE");try{return await a.execute(o,i,o?u.fnOnStrictHandlingFailed.bind(O,o,{label:c,model:t.getModel()},s,null,null,null,undefined,undefined):undefined,t.getBinding().isA("sap.ui.model.odata.v4.ODataListBinding"))}catch(o){if(r){const o=g(t,l.PREPARE),r=n.getSideEffectsService(),i=r.getODataActionSideEffects(o,t),a=i&&i.pathExpressions;if(a&&a.length>0){try{await r.requestSideEffects(a,t)}catch(t){e.error("Error while requesting side effects",t)}}else{try{await v(t,r)}catch(t){e.error("Error while requesting messages",t)}}}throw o}}else{throw new Error("The activation action cannot be executed on an active document")}}function D(e){const t=e.getModel().getMetaModel();const n=t.getMetaPath(e.getPath());const o=E(e,l.PREPARE);return o?t.getObject(`${n}/@${"com.sap.vocabularies.Common.v1.Messages"}/$Path`):null}function C(t,n,o,r){if(!t.getProperty("IsActiveEntity")){const i=o?D(t):null;const a=h(t,l.PREPARE,i?{$select:i}:null);a.setParameter("SideEffectsQualifier","");const s=n||a.getGroupId();return a.execute(s,r).then(function(){return a}).catch(function(t){e.error("Error while executing the operation",t)})}else{throw new Error("The preparation action cannot be executed on an active document")}}function w(e){const t=e.getModel(),n=t.getMetaModel(),o=n.getMetaPath(e.getPath());return n.getObject(`${o}/@com.sap.vocabularies.Common.v1.Messages/$Path`)}function v(e,t){const n=O.getMessagesPath(e);if(n){return t.requestSideEffects([n],e)}return Promise.resolve()}async function x(e,t,n){if(!e.getProperty("IsActiveEntity")){const o=O.createOperation(e,l.DISCARD);const r=t&&f(t);const i="direct";const a=(r===null||r===void 0?void 0:r.getText("C_TRANSACTION_HELPER_DRAFT_DISCARD_BUTTON"))||"";const s=!n?o.execute(i):o.execute(i,undefined,u.fnOnStrictHandlingFailed.bind(O,i,{label:a,model:e.getModel()},r,null,null,null,undefined,undefined),false);e.getModel().submitBatch(i);return s}else{throw new Error("The discard action cannot be executed on an active document")}}async function M(t,n){if(!n.getPath().startsWith(t.getPath())){e.error("Cannot compute rightmost sibling context");throw new Error("Cannot compute rightmost sibling context")}if(n.getProperty("IsActiveEntity")===false&&n.getProperty("HasActiveEntity")===false){return undefined}const o=t.getModel();try{const e=n.getPath().replace(t.getPath(),"");const r=e?e.substring(1).split("/"):[];r.unshift(t.getPath().substring(1));const i=[];const a=[];let s="";const c=r.map(e=>{s+=`/${e}`;i.unshift(s);if(s.endsWith(")")){const e=o.bindContext(`${s}/SiblingEntity`).getBoundContext();return e.requestCanonicalPath()}else{return Promise.resolve(undefined)}});const u=await Promise.all(c);let d="";u.forEach((e,t)=>{if(t!==0){if(r[t].endsWith(")")){const n=r[t].replace(/\(.*$/,"");const o=e.replace(/.*\(/,"(");d+=`/${n}${o}`}else{d+=`/${r[t]}`}}else{d=e}a.unshift(d)});return{targetContext:o.bindContext(d).getBoundContext(),pathMapping:i.map((e,t)=>({oldPath:e,newPath:a[t]}))}}catch(e){return undefined}}async function b(e,o,r){const i=r||{},s=typeof i.bPreserveChanges==="undefined"||typeof i.bPreserveChanges==="boolean"&&i.bPreserveChanges;async function c(){const t=e.getModel();const o=t.bindContext(`${e.getPath()}/DraftAdministrativeData`).getBoundContext();const i=f(r.oView);const s=await o.requestObject();if(s){n.removeUnboundTransitionMessages();let t=s.InProcessByUserDescription||s.InProcessByUser;const o=r.oView.getViewData().entitySet;if(t){const e=i.getText("C_DRAFT_OBJECT_PAGE_DRAFT_LOCKED_BY_USER",t,o);a.error(e);throw new Error(e)}else{t=s.CreatedByUserDescription||s.CreatedByUser;const n=i.getText("C_DRAFT_OBJECT_PAGE_DRAFT_UNSAVED_CHANGES",t,o);await O.showEditConfirmationMessageBox(n,e);return O.executeDraftEditAction(e,false,r.oView)}}throw new Error(`Draft creation aborted for document: ${e.getPath()}`)}if(!e){throw new Error("Binding context to active document is required")}let u;try{u=await O.executeDraftEditAction(e,s,r.oView)}catch(o){if(o.status===409||o.status===412||o.status===423){n.removeBoundTransitionMessages();n.removeUnboundTransitionMessages();const o=await O.computeSiblingInformation(e,e);if(o!==null&&o!==void 0&&o.targetContext){await t.waitForContextRequested(o.targetContext);return o.targetContext}else{u=await c()}}else if(!(o&&o.canceled)){throw new Error(o)}}if(u){var d;const e=O.getActionName(u,l.EDIT);const t=o.getSideEffectsService().getODataActionSideEffects(e,u);if(t!==null&&t!==void 0&&(d=t.triggerActions)!==null&&d!==void 0&&d.length){await o.getSideEffectsService().requestSideEffectsForODataAction(t,u);return u}else{return u}}else{return undefined}}async function y(e,t,n,o){const r=n||{};if(!e){throw new Error("Binding context to draft document is required")}const i=r.fnBeforeActivateDocument?await r.fnBeforeActivateDocument(e):true;if(!i){throw new Error(`Activation of the document was aborted by extension for document: ${e.getPath()}`)}let a;if(!A(e)){a=await P(e,t)}else{const n="draft";let r=O.executeDraftPreparationAction(e,n,false);e.getModel().submitBatch(n);const i=O.executeDraftActivationAction(e,t,n);try{const e=await Promise.all([r,i]);a=e[1]}catch(t){const i=D(e);if(i){r=O.executeDraftPreparationAction(e,n,true);e.getModel().submitBatch(n);await r;const t=await e.requestObject();if(t[i].length>0){o===null||o===void 0?void 0:o.removeTransitionMessages(false,false,e.getPath())}}throw t}}return r.fnAfterActivateDocument?r.fnAfterActivateDocument(e,a):a}function T(e,t){const n=c.getLibraryResourceBundle("sap.fe.core");return new Promise(function(o,a){const c=new i({title:n.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_WARNING"),state:"Warning",content:new s({text:e}),beginButton:new r({text:n.getText("C_COMMON_OBJECT_PAGE_EDIT"),type:"Emphasized",press:function(){c.close();o(true)}}),endButton:new r({text:n.getText("C_COMMON_OBJECT_PAGE_CANCEL"),press:function(){c.close();a(`Draft creation aborted for document: ${t.getPath()}`)}}),afterClose:function(){c.destroy()}});c.addStyleClass("sapUiContentPadding");c.open()})}function _(e,t,n){const o=g(e,l.DISCARD),r=e.getObject().IsActiveEntity;if(r||!r&&!o){if(e.hasPendingChanges()){return e.getBinding().resetChanges().then(function(){return e.delete()}).catch(function(e){return Promise.reject(e)})}else{return e.delete()}}else{return x(e,t,n)}}const O={createDraftFromActiveDocument:b,activateDocument:y,deleteDraft:_,executeDraftEditAction:m,executeDraftValidation:p,executeDraftPreparationAction:C,executeDraftActivationAction:P,hasPrepareAction:A,getMessagesPath:w,computeSiblingInformation:M,processDataLossOrDraftDiscardConfirmation:d.processDataLossOrDraftDiscardConfirmation,silentlyKeepDraftOnForwardNavigation:d.silentlyKeepDraftOnForwardNavigation,createOperation:h,executeDraftDiscardAction:x,NavigationType:d.NavigationType,getActionName:g,showEditConfirmationMessageBox:T};return O},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/draftDataLossPopup", ["sap/base/Log","sap/fe/core/controllerextensions/collaboration/ActivitySync","sap/fe/core/controls/DataLossOrDraftDiscard/DataLossOrDraftDiscardHandler","sap/fe/core/helpers/EditState"],function(t,e,a,i){"use strict";var n;(function(t){t["BackNavigation"]="BackNavigation";t["ForwardNavigation"]="ForwardNavigation"})(n||(n={}));function o(t){var e,a;let i=false;const n=t.getAppComponent().getManifest();i=(n===null||n===void 0?void 0:(e=n["sap.fe"])===null||e===void 0?void 0:(a=e.app)===null||a===void 0?void 0:a.silentlyKeepDraftOnForwardNavigation)||false;return i}async function r(t,e,i,n,o){if(t.CreationDateTime!==t.LastChangeDateTime){a.performAfterDiscardorKeepDraft(n,e,i,o)}else{n()}}async function s(e,o,r,s,c,l,f){if(i.isEditStateDirty()){if(e.CreationDateTime===e.LastChangeDateTime&&c===n.BackNavigation){try{await a.discardDraft(r,f);s()}catch(e){t.error("Error while canceling the document",e)}}else if(c===n.ForwardNavigation&&l){s()}else{a.performAfterDiscardorKeepDraft(s,o,r,f)}}else{s()}}async function c(e,a,i,o){if(o===n.BackNavigation){const n={skipDiscardPopover:true};try{await e.editFlow.cancelDocument(a,n);i()}catch(e){t.error("Error while canceling the document",e)}}else{i()}}async function l(t,e,i,o,r,s){if(o===n.ForwardNavigation&&r){i()}else{a.performAfterDiscardorKeepDraft(i,e,t,s)}}async function f(t,a,f,d,g,p){let D=arguments.length>6&&arguments[6]!==undefined?arguments[6]:n.BackNavigation;const v=e.isConnected(g.getView());const u=!v?a:function(){e.disconnect(g.getView());for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}a.apply(null,...i)};const y=o(g);if(t){if(g.getAppComponent().getRootViewController().isFclEnabled()){await r(t,f,g,u,p)}else if(!d.getObject().HasActiveEntity){s(t,f,g,u,D,y,p)}else if(t.CreationDateTime===t.LastChangeDateTime){c(g,d,u,D)}else if(i.isEditStateDirty()){l(g,f,u,D,y,p)}else{u()}}else{a()}}async function d(e,a,i,o,r){let s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:n.BackNavigation;const c=o.getView();const l=i.getModel();const d=l.getMetaModel();const g=c.getViewData().entitySet??"";const p=g&&d.getObject("/"+g+"@com.sap.vocabularies.Common.v1.DraftRoot");const D=c.getModel("ui");const v=D.getProperty("/isEditable");const u=l.bindContext(`${i.getPath()}/DraftAdministrativeData`).getBoundContext();if(i&&i.getObject()&&(!p&&s===n.BackNavigation||!v)){e()}else{try{const t=await u.requestObject();await f(t,e,a,i,o,r,s)}catch(e){t.error("Cannot retrieve draftDataContext information",e)}}}const g={processDataLossOrDraftDiscardConfirmation:d,silentlyKeepDraftOnForwardNavigation:o,NavigationType:n,processFclMode:r,processNoActiveEntityMode:s,processEditingDraftForExistingEntity:c,processEditStateDirty:l};return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/operations", ["./operations/facade"],function(e){"use strict";return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/operations/_internal", ["sap/ui/core/message/Message"],function(e){"use strict";var t={};async function a(t,a){t.addMessages(a.map(t=>{const a=t.actionParameterInfo.field.getBinding(t.actionParameterInfo.isMultiValue?"items":"value");return new e({message:t.message,type:"Error",processor:a===null||a===void 0?void 0:a.getModel(),persistent:true,target:a===null||a===void 0?void 0:a.getResolvedPath()})}))}t._addMessageForActionParameter=a;async function r(e,t,r){await Promise.allSettled(t.map(e=>e.validationPromise));const i=t.filter(e=>e.field.getRequired());const n=i.filter(e=>{if(e.isMultiValue){return e.value===undefined||!e.value.length}else{const t=e.field.getValue();return t===undefined||t===null||t===""}});a(e,n.map(e=>{var t;return{actionParameterInfo:e,message:r.getText("C_OPERATIONS_ACTION_PARAMETER_DIALOG_MISSING_MANDATORY_MSG",[((t=e.field.getParent())===null||t===void 0?void 0:t.getAggregation("label")).getText()])}}));const s=t.find(e=>e.hasError||e.field.getValueState()==="Error"||n.includes(e));if(s){s.field.focus();return false}else{return true}}t._validateProperties=r;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/operations/facade", ["sap/base/Log","sap/fe/core/ActionRuntime","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/library","sap/m/Button","sap/m/Dialog","sap/m/MessageBox","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/library","sap/ui/core/message/Message","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/model/json/JSONModel","../../../operationsHelper","./_internal"],function(e,t,n,s,a,i,o,r,l,c,d,u,g,f,m,p,h,M,E,P,C){"use strict";var x=C._validateProperties;var b=C._addMessageForActionParameter;var v=m.MessageType;var A=r.generate;var O=o.getResourceModel;const S=l.Constants,$=l.InvocationGrouping;const y=u.Action;function T(e,t,n,s,a,i){if(!i){i={is412Executed:false,strictHandlingTransitionFails:[],strictHandlingPromises:[],strictHandlingWarningMessages:[],delaySuccessMessages:[],processedMessageIds:[]}}if(!t||t.length===0){return Promise.reject("Bound actions always requires at least one context")}const o=Array.isArray(t);a.aContexts=o?t:[t];const r=n.getMetaModel(),l=`${r.getMetaPath(a.aContexts[0].getPath())}/${e}`,c=r.createBindingContext(`${l}/@$ui5.overload/0`);a.isCriticalAction=L(r,l,a.aContexts,c);const d=function(e){if(e[0].status==="fulfilled"){return e[0].value}else{throw e[0].reason||e}};return B(e,n,c,s,a,i).then(e=>{if(o){return e}else{return d(e)}},e=>{if(o){throw e}else{return d(e)}})}function _(e,t,n,s,a){if(!t){return Promise.reject("Action expects a model/context for execution")}const i=t.getMetaModel(),o=t.bindContext(`/${e}`).getPath(),r=i.createBindingContext(`/${i.createBindingContext(o).getObject("$Action")}/0`);s.isCriticalAction=L(i,`${o}/@$ui5.overload`);return B(e,t,r,n,s,a)}function N(e,t,n){if(!t){return Promise.reject("Bound functions always requires a context")}const s=n.getMetaModel(),a=`${s.getMetaPath(t.getPath())}/${e}`,i=s.createBindingContext(a);return I(e,n,i,t)}function w(e,t){if(!e){return Promise.resolve()}const n=t.getMetaModel(),s=t.bindContext(`/${e}`).getPath(),a=n.createBindingContext(`/${n.createBindingContext(s).getObject("$Function")}/0`);return I(e,t,a)}function I(e,t,n,s){let a;if(!n||!n.getObject()){return Promise.reject(new Error(`Function ${e} not found`))}if(s){n=t.bindContext(`${s.getPath()}/${e}(...)`);a="functionGroup"}else{n=t.bindContext(`/${e}(...)`);a="functionImport"}const i=n.execute(a);t.submitBatch(a);return i.then(function(){return n.getBoundContext()})}function B(e,t,n,s,a,i){if(!i){i={is412Executed:false,strictHandlingTransitionFails:[],strictHandlingPromises:[],strictHandlingWarningMessages:[],delaySuccessMessages:[],processedMessageIds:[]}}a.bGrouped=a.invocationGrouping===$.ChangeSet;return new Promise(async function(o,r){let l={};let c;let d;const u=a.label;const f=a.skipParameterDialog;const m=a.aContexts;const p=a.bIsCreateAction;const h=a.isCriticalAction;let M;let E;let P;let C;let x;let b;let v;const A=n.getObject();if(!n||!n.getObject()){return r(new Error(`Action ${e} not found`))}const O=F(n);const S=O.length>0&&!(O.length===1&&O[0].$Name==="ResultIsActiveEntity");const y=a.parameterValues;const T=s.getComponentData();const _=T&&T.startupParameters||{};if(S&&f){v=K(p,O,y,_)}c=null;if(S){if(!(f&&v)){c=G}}else if(h){c=D}l={fnOnSubmitted:a.onSubmitted,fnOnResponse:a.onResponse,actionName:e,model:t,aActionParameters:O,bGetBoundContext:a.bGetBoundContext,defaultValuesExtensionFunction:a.defaultValuesExtensionFunction,label:a.label,selectedItems:a.selectedItems};if(n.getObject("$IsBound")){if(a.additionalSideEffect&&a.additionalSideEffect.pathExpressions){M=t.getMetaModel();E=M.getMetaPath(m[0].getPath());P=M.getObject(`${E}/@com.sap.vocabularies.Common.v1.Messages/$Path`);if(P){C=a.additionalSideEffect.pathExpressions.findIndex(function(e){return typeof e==="string"&&e===P});b=n.getObject("$ReturnType");x=b&&!b.$isCollection&&n.getModel().getObject(E).$Type===b.$Type;if(C>-1||x){a.mBindingParameters=a.mBindingParameters||{};if(n.getObject(`$ReturnType/$Type/${P}`)&&(!a.mBindingParameters.$select||a.mBindingParameters.$select.split(",").indexOf(P)===-1)){a.mBindingParameters.$select=a.mBindingParameters.$select?`${a.mBindingParameters.$select},${P}`:P;if(C===-1){a.additionalSideEffect.pathExpressions.push("*")}if(a.additionalSideEffect.triggerActions.length===0&&C>-1){a.additionalSideEffect.pathExpressions.splice(C,1)}}}}}l.aContexts=m;l.mBindingParameters=a.mBindingParameters;l.additionalSideEffect=a.additionalSideEffect;l.bGrouped=a.invocationGrouping===$.ChangeSet;l.internalModelContext=a.internalModelContext;l.operationAvailableMap=a.operationAvailableMap;l.isCreateAction=p;l.bObjectPage=a.bObjectPage;if(a.controlId){l.control=a.parentControl.byId(a.controlId);a.control=l.control}else{l.control=a.parentControl;a.control=a.parentControl}}if(p){l.bIsCreateAction=p}const N=(A.$Parameter||[]).some(e=>(A.$EntitySetPath&&A.$EntitySetPath===e.$Name||A.$IsBound)&&e.$isCollection);l.isStatic=N;if(c){d=c(e,s,u,l,O,y,n,a.parentControl,a.entitySetName,a.messageHandler,i);return d.then(function(e){H(a,l,A);o(e)}).catch(function(e){r(e)})}else{if(y){for(const e in l.aActionParameters){var w;l.aActionParameters[e].value=y===null||y===void 0?void 0:(w=y.find(t=>t.name===l.aActionParameters[e].$Name))===null||w===void 0?void 0:w.value}}else{for(const e in l.aActionParameters){var I;l.aActionParameters[e].value=(I=_[l.aActionParameters[e].$Name])===null||I===void 0?void 0:I[0]}}let e;try{e=await U(s,l,a.parentControl,a.messageHandler,i);const t=g.getMessageManager().getMessageModel().getData();if(i&&i.is412Executed&&i.strictHandlingTransitionFails.length){i.delaySuccessMessages=i.delaySuccessMessages.concat(t)}H(a,l,A);o(e)}catch{r(e)}finally{var B,R;if(i&&i.is412Executed&&i.strictHandlingTransitionFails.length){try{const e=i.strictHandlingTransitionFails;const t=[];e.forEach(function(e){t.push(e.oAction.getContext())});l.aContexts=t;const n=await U(s,l,a.parentControl,a.messageHandler,i);i.strictHandlingTransitionFails=[];g.getMessageManager().addMessages(i.delaySuccessMessages);H(a,l,A);o(n)}catch(e){r(e)}}let e=false;if(a.bGrouped&&i&&i.strictHandlingPromises.length||q(a.bGrouped)!==-1){e=true}a===null||a===void 0?void 0:(B=a.messageHandler)===null||B===void 0?void 0:B.showMessageDialog({control:(R=l)===null||R===void 0?void 0:R.control,onBeforeShowMessage:function(t,n){return j(a,m,undefined,t,n,e)},aSelectedContexts:a.aContexts,sActionName:u});if(i){i={is412Executed:false,strictHandlingTransitionFails:[],strictHandlingPromises:[],strictHandlingWarningMessages:[],delaySuccessMessages:[],processedMessageIds:[]}}}}})}function D(e,t,n,s,a,i,o,r,l,c){return new Promise((n,a)=>{let i=e?e:null;i=i.indexOf(".")>=0?i.split(".")[i.split(".").length-1]:i;const o=i&&l?`${l}|${i}`:"";const d=O(r);const g=d.getText("C_OPERATIONS_ACTION_CONFIRM_MESSAGE",undefined,o);u.confirm(g,{onClose:async function(e){if(e===y.OK){try{const e=await U(t,s,r,c);n(e)}catch(e){try{await c.showMessageDialog();a(e)}catch(t){a(e)}}}else{n()}}})})}async function R(e,t,n,s,a,i,o,r){var l;const c=await U(e,t,n,s,r);if((l=t.aContexts)!==null&&l!==void 0&&l.length){if(c!==null&&c!==void 0&&c.some(e=>e.status==="rejected")){throw c}}const d=g.getMessageManager().getMessageModel().getData();if(r&&r.is412Executed&&r.strictHandlingTransitionFails.length){if(!o){r.delaySuccessMessages=r.delaySuccessMessages.concat(d)}else{g.getMessageManager().addMessages(r.delaySuccessMessages);let e=false;if(t.bGrouped&&r.strictHandlingPromises.length||q(t.bGrouped)!==-1){e=true}if(d.length){i.attachEventOnce("afterClose",function(){s.showMessageDialog({onBeforeShowMessage:function(n,s){return j(t,a,i,n,s,e)},control:t.control,aSelectedContexts:t.aContexts,sActionName:t.label})})}}}else if(d.length){let e=false;if(t.bGrouped&&r&&r.strictHandlingPromises.length||q(t.bGrouped)!==-1){e=true}i.attachEventOnce("afterClose",function(){s.showMessageDialog({isActionParameterDialogOpen:t===null||t===void 0?void 0:t.oDialog.isOpen(),onBeforeShowMessage:function(n,s){return j(t,a,i,n,s,e)},control:t.control,aSelectedContexts:t.aContexts,sActionName:t.label})})}return c}function H(e,n,s){if(n.internalModelContext&&n.operationAvailableMap&&n.aContexts&&n.aContexts.length&&s.$IsBound){const s=n.isStatic;if(!s){t.setActionEnablement(n.internalModelContext,JSON.parse(n.operationAvailableMap),e.selectedItems,"table")}else if(n.control){const e=n.control;if(e.isA("sap.ui.mdc.Table")){const s=e.getSelectedContexts();t.setActionEnablement(n.internalModelContext,JSON.parse(n.operationAvailableMap),s,"table")}}}}function j(e,t,n,s,i,o){let r=i.showMessageBox,l=i.showMessageDialog;const c=e.control;const d=g.getLibraryResourceBundle("sap.fe.core");const u=s.filter(function(e){return e.getTarget()===""});const f=s.filter(function(t){var n;return t.getTarget&&t.getTarget().indexOf(e.actionName)!==-1&&(e===null||e===void 0?void 0:(n=e.aActionParameters)===null||n===void 0?void 0:n.some(function(e){return t.getTarget().indexOf(e.$Name)!==-1}))});f===null||f===void 0?void 0:f.forEach(function(e){e.isAPDTarget=true});const m=f.length?true:false;let h=false;if(o&&!m){h=true;let e=d.getText("C_COMMON_DIALOG_CANCEL_ERROR_MESSAGES_TEXT");let t=d.getText("C_COMMON_DIALOG_CANCEL_ERROR_MESSAGES_DETAIL_TEXT");const n=g.getMessageManager().getMessageModel();const i=n.getData();const o=a.getMessages(true);let u;const f=c&&c.getModel("ui").getProperty("/isEditable");const m=s.findIndex(function(e){return e.getType()==="Error"||e.getType()==="Warning"});const M=i.findIndex(function(e){return e.getType()==="Error"||e.getType()==="Warning"});if(m!==1&&M!==-1){if(i.length===1&&o.length===1){if(f===false){i[0].setMessage(d.getText("C_COMMON_DIALOG_CANCEL_SINGLE_ERROR_MESSAGE_TEXT")+"\n\n"+i[0].getMessage())}else{e=f?d.getText("C_COMMON_DIALOG_CANCEL_SINGLE_ERROR_MESSAGE_TEXT_EDIT"):d.getText("C_COMMON_DIALOG_CANCEL_SINGLE_ERROR_MESSAGE_TEXT");t="";u=new p({message:e,type:v.Error,target:"",persistent:true,description:t,code:"FE_CUSTOM_MESSAGE_CHANGESET_ALL_FAILED"});s.unshift(u);if(s.length===1){r=true;l=false}else{l=true;r=false}}}else{u=new p({message:e,type:v.Error,target:"",persistent:true,description:t,code:"FE_CUSTOM_MESSAGE_CHANGESET_ALL_FAILED"});s.unshift(u);if(s.length===1){r=true;l=false}else{l=true;r=false}}}}if(n&&n.isOpen()&&t.length!==0&&!e.isStatic){if(!e.bGrouped){if(t.length>1||!m){n.close();n.destroy()}}else if(!m){n.close();n.destroy()}}let M=[];const E=n&&n.isOpen();if(!h){if(s.length===1&&s[0].getTarget&&s[0].getTarget()!==undefined&&s[0].getTarget()!==""){if(c&&c.getModel("ui").getProperty("/isEditable")===false||!c){r=!m;l=false}else if(c&&c.getModel("ui").getProperty("/isEditable")===true){r=false;l=false}}else if(c){if(c.getModel("ui").getProperty("/isEditable")===false){if(E&&m){l=false}}else if(c.getModel("ui").getProperty("/isEditable")===true){if(!E&&m){l=true;M=u.concat(f)}else if(!E&&u.length===0){l=false}}}}return{showMessageBox:r,showMessageDialog:l,filteredMessages:M.length?M:s,fnGetMessageSubtitle:c&&c.isA("sap.ui.mdc.Table")&&a.setMessageSubtitle.bind({},c,t),showChangeSetErrorDialog:e.bGrouped}}function G(t,a,o,r,l,m,p,P,C,v,$){const y=X(p,t),T=p.getModel().oModel.getMetaModel(),_=T.createBindingContext(y),w=p.getObject("$IsBound")?p.getPath().split("/@$ui5.overload/0")[0]:p.getPath().split("/0")[0],I=T.createBindingContext(w),B=r.isCreateAction,D="sap/fe/core/controls/ActionParameterDialog";return new Promise(async function(y,T){let w;const H=g.getMessageManager();const G=e=>{const t=H.getMessageModel().getData();const n=A(["APD_",e.$Name]);const s=t.filter(e=>e.getControlIds().some(e=>n.split("-").includes(e)));H.removeMessages(s)};const F={handleChange:async function(e){const t=e.getSource();const n=w.find(e=>e.field===t);G(n.parameter);n.validationPromise=e.getParameter("promise");try{n.value=await n.validationPromise;n.hasError=false}catch(e){delete n.value;n.hasError=true;b(H,[{actionParameterInfo:n,message:e.message}])}}};const L=M.loadTemplate(D,"fragment");const k=new E({$displayMode:{}});try{const M=await h.process(L,{name:D},{bindingContexts:{action:p,actionName:I,entitySet:_},models:{action:p.getModel(),actionName:I.getModel(),entitySet:_.getModel(),metaModel:_.getModel()}});const b=r.aContexts||[];const J=[];let z;await n.setUserDefaults(a,l,k,true);const Y=await f.load({definition:M,controller:F});w=l.map(e=>{const t=g.byId(A(["APD_",e.$Name]));const n=t.isA("sap.ui.mdc.MultiValueField");return{parameter:e,field:t,isMultiValue:n}});const Q=O(P);let Z={dialogCancelled:true,result:undefined};const ee=new d(A(["fe","APD_",t]),{title:o||Q.getText("C_OPERATIONS_ACTION_PARAMETER_DIALOG_TITLE"),content:[Y],escapeHandler:function(){ee.close()},beginButton:new c(A(["fe","APD_",t,"Action","Ok"]),{text:B?Q.getText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE_BUTTON"):V(Q,o,t,C),type:"Emphasized",press:async function(){try{if(!await x(H,w,Q)){return}s.lock(ee);try{v.removeTransitionMessages();let e;const t=z&&z.getParameterContext();for(const n in l){if(l[n].$isCollection){const t=ee.getModel("mvfview").getProperty(`/${l[n].$Name}`),s=[];for(const e in t){s.push(t[e].Key)}e=s}else{e=t.getProperty(l[n].$Name)}l[n].value=e;e=undefined}r.label=o;try{const e=await R(a,r,P,v,b,ee,false,$);Z={dialogCancelled:false,result:e};ee.close()}catch(e){const t=sap.ui.getCore().getMessageManager().getMessageModel().getData();if($&&$.is412Executed&&$.strictHandlingTransitionFails.length){$.delaySuccessMessages=$.delaySuccessMessages.concat(t)}throw e}finally{if($&&$.is412Executed&&$.strictHandlingTransitionFails.length){try{const e=$.strictHandlingTransitionFails;const t=[];e.forEach(function(e){t.push(e.oAction.getContext())});r.aContexts=t;const n=await R(a,r,P,v,b,ee,true,$);$.strictHandlingTransitionFails=[];Z={dialogCancelled:false,result:n}}catch{if($.is412Executed&&$.strictHandlingTransitionFails.length){g.getMessageManager().addMessages($.delaySuccessMessages)}let e=false;if(r.bGrouped&&$.strictHandlingPromises.length||q(r.bGrouped)!==-1){e=true}await v.showMessageDialog({isActionParameterDialogOpen:ee.isOpen(),onBeforeShowMessage:function(t,n){return j(r,b,ee,t,n,e)},aSelectedContexts:r.aContexts,sActionName:o})}}if(s.isLocked(ee)){s.unlock(ee)}}}catch(e){let t=true;let n=false;if(r.bGrouped&&$&&$.strictHandlingPromises.length||q(r.bGrouped)!==-1){n=true}await v.showMessages({context:r.aContexts[0],isActionParameterDialogOpen:ee.isOpen(),messagePageNavigationCallback:function(){ee.close()},onBeforeShowMessage:function(e,s){const a=j(r,b,ee,e,s,n);t=a.showMessageDialog;return a},aSelectedContexts:r.aContexts,sActionName:o,control:r.control});if(t){if(ee.isOpen()){}else{T(e)}}}}finally{if($){$={is412Executed:false,strictHandlingTransitionFails:[],strictHandlingPromises:[],strictHandlingWarningMessages:[],delaySuccessMessages:[],processedMessageIds:[]}}if(s.isLocked(ee)){s.unlock(ee)}}}}),endButton:new c(A(["fe","APD_",t,"Action","Cancel"]),{text:Q.getText("C_COMMON_ACTION_PARAMETER_DIALOG_CANCEL"),press:function(){ee.close()}}),beforeOpen:async function(t){const s=Object.assign({},t);v.removeTransitionMessages();const a=function(){const e=ee.getModel().getMetaModel(),t=p.sPath&&p.sPath.split("/@")[0],n=e.getObject(`${t}@com.sap.vocabularies.Common.v1.DefaultValuesFunction`);return n};const o=async function(t){const o=a();const c=async function(s,a){if(a!==undefined){if(b.length>0&&a.$Path){try{let e=await n.requestSingletonProperty(a.$Path,z.getModel());if(e===null){e=await z.getParameterContext().requestProperty(a.$Path)}if(b.length>1){let n=a.$Path;if(n.indexOf(`${t}/`)===0){n=n.replace(`${t}/`,"")}for(let t=1;t<b.length;t++){if(b[t].getProperty(n)!==e){return{paramName:s,value:undefined,bNoPossibleValue:true}}}}return{paramName:s,value:e}}catch(t){e.error("Error while reading default action parameter",s,r.actionName);return{paramName:s,value:undefined,bLatePropertyError:true}}}else{return{paramName:s,value:a}}}else if(k&&k.oData[s]){return{paramName:s,value:k.oData[s]}}else{return{paramName:s,value:undefined}}};const d=function(e){const t=ee.getModel().getMetaModel(),s=n.getParameterPath(p.getPath(),e)+"@",a=t.getObject(s),i=a&&a["@com.sap.vocabularies.UI.v1.ParameterDefaultValue"];return i};const g=[];let f,h;for(const e in l){f=l[e].$Name;h=d(f);g.push(c(f,h))}if(p.getObject("$IsBound")&&b.length>0){if(o&&o.length>0&&typeof o==="string"){for(const e in b){J.push(N(o,b[e],r.model))}}}const M=Promise.all(g);let E=Promise.resolve([]);let P;if(J&&J.length>0){E=Promise.all(J)}if(r.defaultValuesExtensionFunction){const e=r.defaultValuesExtensionFunction.substring(0,r.defaultValuesExtensionFunction.lastIndexOf(".")||-1).replace(/\./gi,"/"),t=r.defaultValuesExtensionFunction.substring(r.defaultValuesExtensionFunction.lastIndexOf(".")+1,r.defaultValuesExtensionFunction.length);P=i.actionWrapper(s,e,t,{contexts:b})}try{const e=await Promise.all([M,E,P]);const t=e[0];const n=e[1];const s=e[2];let a;for(const e in l){var C;a=l[e].$Name;const i=m===null||m===void 0?void 0:(C=m.find(t=>t.name===l[e].$Name))===null||C===void 0?void 0:C.value;if(i){z.setParameter(l[e].$Name,i)}else if(s&&s.hasOwnProperty(a)){z.setParameter(l[e].$Name,s[a])}else if(t[e]&&t[e].value!==undefined){z.setParameter(l[e].$Name,t[e].value)}else if(o&&!t[e].bNoPossibleValue){if(b.length>1){let t=0;while(t<b.length-1){if(n[t]&&n[t+1]&&n[t].getObject(a)===n[t+1].getObject(a)){t++}else{break}}if(t===b.length-1){z.setParameter(l[e].$Name,n[t].getObject(a))}}else if(n[0]&&n[0].getObject(a)){z.setParameter(l[e].$Name,n[0].getObject(a))}}}const i=t.some(function(e){if(e.bLatePropertyError){return e.bLatePropertyError}});if(i){const e=Q.getText("C_APP_COMPONENT_SAPFE_ETAG_LATE_PROPERTY");u.warning(e,{contentWidth:"25em"})}}catch(t){e.error("Error while retrieving the parameter",t)}};const c=async function(){if(p.getObject("$IsBound")&&b.length>0){const t=p.getObject("$Parameter");const n=t[0]&&t[0].$Name;try{const e=await b[0].requestObject();if(e){z.setParameter(n,e)}await o(n)}catch(t){e.error("Error while retrieving the parameter",t)}}else{await o()}};await c();for(const e of w){const t=e.isMultiValue?e.field.getItems():e.field.getValue();e.value=t;e.validationPromise=Promise.resolve(t)}},afterClose:function(){l.forEach(G);ee.destroy();if(Z.dialogCancelled){T(S.CancelActionDialog)}else{y(Z.result)}}});r.oDialog=ee;ee.setModel(p.getModel().oModel);ee.setModel(k,"paramsModel");ee.bindElement({path:"/",model:"paramsModel"});const te=new E({});ee.setModel(te,"mvfview");for(const e of w){if(e.isMultiValue){var W,U;e===null||e===void 0?void 0:(W=e.field)===null||W===void 0?void 0:(U=W.getBinding("items"))===null||U===void 0?void 0:U.attachChange(()=>{G(e.parameter)})}else{var X,K;e===null||e===void 0?void 0:(X=e.field)===null||X===void 0?void 0:(K=X.getBinding("value"))===null||K===void 0?void 0:K.attachChange(()=>{G(e.parameter)})}}let ne=`${t}(...)`;if(!b.length){ne=`/${ne}`}ee.bindElement({path:ne});if(P){P.addDependent(ee)}if(b.length>0){ee.setBindingContext(b[0])}z=ee.getObjectBinding();ee.open()}catch(e){T(e)}})}function F(e){const t=e.getObject("$Parameter")||[];if(t&&t.length){if(e.getObject("$IsBound")){return t.slice(1,t.length)||[]}}return t}function L(e,t,n,s){const a=e.getObject(`${t}@com.sap.vocabularies.Common.v1.IsActionCritical`);let i=a&&a.$Path;if(!i){return!!a}const o=s&&s.getObject("$Parameter"),r=i&&i.split("/"),l=o&&o.length&&typeof o==="object"&&i&&n&&n.length;if(l){o.filter(function(e){const t=r&&r.indexOf(e.$Name);if(t>-1){r.splice(t,1)}});i=r.join("/");return n[0].getObject(i)}else if(i){return n[0].getObject(i)}}function V(e,t,n,s){let a=n?n:null;const i=a.split(".");a=a.indexOf(".")>=0?i[i.length-1]:a;const o=a&&s?`${s}|${a}`:"";const r="ACTION_PARAMETER_DIALOG_ACTION_NAME";const l=e.checkIfResourceKeyExists(`${r}|${o}`);if(t){if(l){return e.getText(r,undefined,o)}else if(e.checkIfResourceKeyExists(`${r}|${s}`)){return e.getText(r,undefined,`${s}`)}else if(e.checkIfResourceKeyExists(`${r}`)){return e.getText(r)}else{return t}}else{return e.getText("C_COMMON_DIALOG_OK")}}function k(e,t,n,s,a,i,o,r,l,c,d){let u,g=true;if(t){t.internalOperationsPromiseResolve=l}if(n){var f;const t=e.getBoundContext().getPath();const n=e.getModel().getMetaModel().getMetaPath(t);const s=e.getModel().getMetaModel().getObject(n);if(s&&((f=s[0])===null||f===void 0?void 0:f.$kind)!=="Action"){g=false}}if(!g){u=e.execute(s).then(function(){l(e.getBoundContext());return e.getBoundContext()})}else{u=n?e.execute(s,undefined,P.fnOnStrictHandlingFailed.bind(z,s,t,a,r,e.getContext(),o,i,d)).then(function(){l(e.getBoundContext());return e.getBoundContext()}).catch(function(){c();return Promise.reject()}):e.execute(s,undefined,P.fnOnStrictHandlingFailed.bind(z,s,t,a,r,e.getContext(),o,i,d)).then(function(e){l(e);return e}).catch(function(){c();return Promise.reject()})}return u.catch(()=>{throw S.ActionExecutionFailed})}function W(){let e=null,t=null;const n=new Promise(function(n,s){e=n;t=s});return{oLocalActionPromise:n,internalOperationsPromiseResolve:e,internalOperationsPromiseReject:t}}function q(e){if(e){const e=g.getMessageManager().getMessageModel().getData();return e.findIndex(function(e){return e.getType()==="Error"||e.getType()==="Warning"})}return-1}function U(t,n,s,a,i){const o=n.aContexts||[];const r=n.model;const l=n.aActionParameters||[];const c=n.actionName;const d=n.fnOnSubmitted;const u=n.fnOnResponse;const f=O(s);let m;function p(){if(l&&l.length){for(let e=0;e<l.length;e++){if(!l[e].value){switch(l[e].$Type){case"Edm.String":l[e].value="";break;case"Edm.Boolean":l[e].value=false;break;case"Edm.Byte":case"Edm.Int16":case"Edm.Int32":case"Edm.Int64":l[e].value=0;break;default:break}}m.setParameter(l[e].$Name,l[e].value)}}}if(o.length){return new Promise(function(s){const l=n.mBindingParameters;const u=n.bGrouped;const h=n.bGetBoundContext;const M=[];let E;let C;let x;const b=W();const v=function(e,s,o,r){p();const l=[];x=!u?`$auto.${s}`:e.getUpdateGroupId();n.requestSideEffects=J.bind(z,t,o,n,x,l);E=k(e,n,h,x,f,a,r,s,b.internalOperationsPromiseResolve,b.internalOperationsPromiseReject,i);M.push(E);l.push(b.oLocalActionPromise);J(t,o,n,x,l);return Promise.allSettled(l)};const A=function(e,s,o,l){const c=[];p();x=`apiMode${s}`;n.requestSideEffects=J.bind(z,t,o,n,x,c);E=k(e,n,h,x,f,a,l,s,b.internalOperationsPromiseResolve,b.internalOperationsPromiseReject,i);M.push(E);c.push(b.oLocalActionPromise);J(t,o,n,x,c);r.submitBatch(x);return Promise.allSettled(c)};async function O(){const t=[];for(C=0;C<o.length;C++){m=r.bindContext(`${c}(...)`,o[C],l);t.push(v(m,o.length<=1?null:C,{context:o[C],pathExpressions:n.additionalSideEffect&&n.additionalSideEffect.pathExpressions,triggerActions:n.additionalSideEffect&&n.additionalSideEffect.triggerActions},o.length))}(d||function e(){})(M);await Promise.allSettled(t);if(i&&i.strictHandlingPromises.length){try{const e=q(true);if(e===-1){await P.renderMessageView(n,f,a,i.strictHandlingWarningMessages,i,o.length>1)}else{i.strictHandlingPromises.forEach(function(e){e.resolve(false)});const e=g.getMessageManager().getMessageModel();const t=e.getData();e.setData(t.concat(i.strictHandlingWarningMessages))}}catch{e.error("Retriggering of strict handling actions failed")}}$()}async function S(e){(d||function e(){})(M);function t(e,t,s){m=r.bindContext(`${c}(...)`,e,l);return A(m,t,{context:e,pathExpressions:n.additionalSideEffect&&n.additionalSideEffect.pathExpressions,triggerActions:n.additionalSideEffect&&n.additionalSideEffect.triggerActions},s)}await e.reduce(async(e,n,s)=>{await e;await t(n,s+1,o.length)},Promise.resolve());if(i&&i.strictHandlingPromises.length){await P.renderMessageView(n,f,a,i.strictHandlingWarningMessages,i,o.length>1)}$()}if(!u){S(o)}else{O()}function $(){return Promise.allSettled(M).then(s)}}).finally(function(){(u||function e(){})()})}else{m=r.bindContext(`/${c}(...)`);p();const t="actionImport";const s=m.execute(t,undefined,P.fnOnStrictHandlingFailed.bind(z,t,{label:n.label,model:r},f,null,null,null,a,i));r.submitBatch(t);(d||function e(){})(s);return s.then(function(e){if(e){return e}else{var t,n,s;return(t=(n=m).getBoundContext)===null||t===void 0?void 0:(s=t.call(n))===null||s===void 0?void 0:s.getObject()}}).catch(function(t){e.error("Error while executing action "+c,t);throw t}).finally(function(){(u||function e(){})()})}}function X(e,t){let n=e.getPath();n=e.getObject("$IsBound")?n.split("@$ui5.overload")[0]:n.split("/0")[0];return n.split(`/${t}`)[0]}function K(e,t,n,s){if(n){for(const e of t){if(e.$Name!=="ResultIsActiveEntity"&&!(n!==null&&n!==void 0&&n.find(t=>t.name===e.$Name))){return false}}}else if(e&&s){for(const e of t){if(!s[e.$Name]){return false}}}return true}function J(n,s,a,i,o){const r=n.getSideEffectsService();let l;if(s&&s.triggerActions&&s.triggerActions.length){s.triggerActions.forEach(function(e){if(e){l=r.executeAction(e,s.context,i);if(o){o.push(l)}}})}if(s&&s.pathExpressions&&s.pathExpressions.length>0){l=r.requestSideEffects(s.pathExpressions,s.context,i);if(o){o.push(l)}l.then(function(){if(a.operationAvailableMap&&a.internalModelContext){t.setActionEnablement(a.internalModelContext,JSON.parse(a.operationAvailableMap),a.selectedItems,"table")}}).catch(function(t){e.error("Error while requesting side effects",t)})}}const z={callBoundAction:T,callActionImport:_,callBoundFunction:N,callFunctionImport:w,executeDependingOnSelectedContexts:k,valuesProvidedForAllParameters:K,getActionParameterActionName:V,actionParameterShowMessageCallback:j,afterActionResolution:H};return z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/sticky", ["sap/base/Log","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/library","sap/m/MessageBox","sap/ui/core/Core","../../operationsHelper"],function(e,t,n,o,i,c){"use strict";var s=t.getResourceModel;const r=n.ProgrammingModel;async function a(e,t){const n=e.getModel(),o=n.getMetaModel(),i=o.getMetaPath(e.getPath()),r=o.getObject(`${i}@com.sap.vocabularies.Session.v1.StickySessionSupported/EditAction`);if(!r){throw new Error(`Edit Action for Sticky Session not found for ${i}`)}const a=s(t);const d=a.getText("C_COMMON_OBJECT_PAGE_EDIT");const u=n.bindContext(`${r}(...)`,e,{$$inheritExpandSelect:true});const f="direct";const g=u.execute(f,undefined,c.fnOnStrictHandlingFailed.bind(l,f,{label:d,model:n},a,null,null,null,undefined,undefined));n.submitBatch(f);const S=await g;const M=t.getSideEffectsService().getODataActionSideEffects(r,S);if(M!==null&&M!==void 0&&M.triggerActions&&M.triggerActions.length){await t.getSideEffectsService().requestSideEffectsForODataAction(M,S)}return S}async function d(t,n){const o=t.getModel(),i=o.getMetaModel(),r=i.getMetaPath(t.getPath()),a=i.getObject(`${r}@com.sap.vocabularies.Session.v1.StickySessionSupported/SaveAction`);if(!a){throw new Error(`Save Action for Sticky Session not found for ${r}`)}const d=s(n);const u=d.getText("C_OP_OBJECT_PAGE_SAVE");const f=o.bindContext(`${a}(...)`,t,{$$inheritExpandSelect:true});const g="direct";const S=f.execute(g,undefined,c.fnOnStrictHandlingFailed.bind(l,g,{label:u,model:o},d,null,null,null,undefined,undefined));o.submitBatch(g);try{return await S}catch(o){const c=i.getObject(`${r}/@${"com.sap.vocabularies.Common.v1.Messages"}/$Path`);if(c){try{await n.getSideEffectsService().requestSideEffects([c],t)}catch(t){e.error("Error while requesting side effects",t)}}throw o}}function u(e){const t=e.getModel(),n=t.getMetaModel(),o=n.getMetaPath(e.getPath()),i=n.getObject(`${o}@com.sap.vocabularies.Session.v1.StickySessionSupported/DiscardAction`);if(!i){throw new Error(`Discard Action for Sticky Session not found for ${o}`)}const c=t.bindContext(`/${i}(...)`);const s=c.execute("direct").then(function(){return e});t.submitBatch("direct");return s}function f(t,n,c){const s=n.getModel("ui").getProperty("/isEditable"),a=i.getLibraryResourceBundle("sap.fe.templates"),d=a&&a.getText("T_COMMON_UTILS_NAVIGATION_AWAY_MSG"),u=a&&a.getText("T_COMMON_UTILS_NAVIGATION_AWAY_CONFIRM_BUTTON"),f=a&&a.getText("T_COMMON_UTILS_NAVIGATION_AWAY_CANCEL_BUTTON");if(c===r.Sticky&&s){return o.warning(d,{actions:[u,f],emphasizedAction:u,onClose:function(n){if(n===u){e.info("Navigation confirmed.");t()}else{e.info("Navigation rejected.")}}})}return t()}const l={editDocumentInStickySession:a,activateDocument:d,discardDocument:u,processDataLossConfirmation:f};return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/messageHandler/messageHandling", ["sap/fe/core/helpers/ResourceModelHelper","sap/m/Bar","sap/m/Button","sap/m/Dialog","sap/m/FormattedText","sap/m/MessageBox","sap/m/MessageItem","sap/m/MessageToast","sap/m/MessageView","sap/m/Text","sap/ui/core/Core","sap/ui/core/format/DateFormat","sap/ui/core/IconPool","sap/ui/core/library","sap/ui/core/message/Message","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/ui/model/Sorter"],function(e,t,n,o,r,i,a,s,l,u,g,c,f,d,p,T,m,E,_){"use strict";var S=e.getResourceModel;const A=d.MessageType;let h=[];let C=[];let M=[];let b;let I;let N;function R(){let e;function t(e){return e.property?"( ${"+e.property+'} ? ("<p>'+e.property.substr(Math.max(e.property.lastIndexOf("/"),e.property.lastIndexOf("."))+1)+' : " + '+"${"+e.property+'} + "</p>") : "" )':""}function n(t){let n="";if(t.groupName&&t.property&&t.groupName!==e){n+="( ${"+t.property+'} ? "<br><h3>'+t.groupName+'</h3>" : "" ) + ';e=t.groupName}return n}function o(){const e="technicalDetails";return[{groupName:"",property:`${e}/status`},{groupName:"",property:`${e}/statusText`},{groupName:"Application",property:`${e}/error/@SAP__common.Application/ComponentId`},{groupName:"Application",property:`${e}/error/@SAP__common.Application/ServiceId`},{groupName:"Application",property:`${e}/error/@SAP__common.Application/ServiceRepository`},{groupName:"Application",property:`${e}/error/@SAP__common.Application/ServiceVersion`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.ErrorResolution/Analysis`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.ErrorResolution/Note`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.ErrorResolution/DetailedNote`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.ExceptionCategory`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.TimeStamp`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.TransactionId`},{groupName:"Messages",property:`${e}/error/code`},{groupName:"Messages",property:`${e}/error/message`}]}let r="Object.keys("+"${technicalDetails}"+').length > 0 ? "<h2>Technical Details</h2>" : "" ';o().forEach(function(e){r=`${r+n(e)}${t(e)} + `});return r}function P(){return"(${"+'description} ? ("<h2>Description</h2>" + ${'+'description}) : "")'}function x(e){let t=A.None;const n=e.length;const o={Error:0,Warning:0,Success:0,Information:0};for(let t=0;t<n;t++){++o[e[t].getType()]}if(o[A.Error]>0){t=A.Error}else if(o[A.Warning]>0){t=A.Warning}else if(o[A.Success]>0){t=A.Success}else if(o[A.Information]>0){t=A.Information}return t}function O(e,t,n){const o=e.getMessageModel().getObject("/");let r=false;let i="";o.forEach(function(a,s){const l=a.getTechnicalDetails&&a.getTechnicalDetails();if(l&&l.httpStatus===412&&l.isConcurrentModification){if(n){i=i||t.getText("C_APP_COMPONENT_SAPFE_ETAG_TECHNICAL_ISSUES_CONCURRENT_MODIFICATION")}else{i=i||t.getText("C_APP_COMPONENT_SAPFE_ETAG_TECHNICAL_ISSUES")}e.removeMessages(o[s]);a.setMessage(i);a.target="";e.addMessages(a);r=true}});return r}function y(){b.close();I.setVisible(false);h=[];const e=N.getModel();if(e){e.setData({})}X()}function v(e,t){const n=new Date;const o=e.getTechnicalDetails();const r=g.getLibraryResourceBundle("sap.fe.core");let i;if(o&&o.httpStatus===503&&o.retryAfter){const e=o.retryAfter;let a;if(n.getFullYear()!==e.getFullYear()){a=c.getDateTimeInstance({pattern:"MMMM dd, yyyy 'at' hh:mm a"});i=r.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR",[a.format(e)])}else if(n.getFullYear()==e.getFullYear()){if(t){i=`${r.getText("C_MESSAGE_HANDLING_SAPFE_503_TITLE")} ${r.getText("C_MESSAGE_HANDLING_SAPFE_503_DESC")}`}else if(n.getMonth()!==e.getMonth()||n.getDate()!==e.getDate()){a=c.getDateTimeInstance({pattern:"MMMM dd 'at' hh:mm a"});i=r.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR",[a.format(e)])}else{a=c.getDateTimeInstance({pattern:"hh:mm a"});i=r.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR_DAY",[a.format(e)])}}}if(o&&o.httpStatus===503&&!o.retryAfter){i=r.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR_NO_RETRY_AFTER")}return i}function G(e,t,o){let r;if(!t){const e='{= ${description} ? "<html><body>" + '+P()+' + "</html></body>" : "" }';const t='{= ${technicalDetails} ? "<html><body>" + '+R()+' + "</html></body>" : "" }';r=new a(undefined,{counter:{path:"counter"},title:"{message}",subtitle:"{additionalText}",longtextUrl:"{descriptionUrl}",type:{path:"type"},groupName:"{headerName}",description:e+t,markupDescription:true})}else if(o){r=new a(undefined,{counter:{path:"counter"},title:"{message}",subtitle:"{additionalText}",longtextUrl:"{descriptionUrl}",type:{path:"type"},description:"{description}",markupDescription:true})}else{r=new a({title:"{message}",type:{path:"type"},longtextUrl:"{descriptionUrl}"})}N=new l({showDetailsPageHeader:false,itemSelect:function(){I.setVisible(true)},items:{path:"/",template:r}});N.setGroupItems(true);I=I||new n({icon:f.getIconURI("nav-back"),visible:false,press:function(){N.navigateBack();this.setVisible(false)}});N.setModel(e);return{oMessageView:N,oBackButton:I}}function D(e,a,l,c,f,d,S,R,P){let O=this.getMessages();const D=g.getMessageManager();let $;let L;const w=[new T({path:"persistent",operator:m.NE,value1:false})];let B=false,U=false;if(l){O=O.concat(Z(true,true));w.push(new T({path:"persistent",operator:m.EQ,value1:true}));const e=function(e){let t=Infinity,n=g.byId(e[0]);const r=g.byId(e[0]);while(n){const e=n instanceof o?r.getParent().findElements(true).indexOf(r):Infinity;if(n instanceof o){if(t>e){t=e;r.focus()}return false}n=n.getParent()}return true};w.push(new T({path:"controlIds",test:e,caseSensitive:true}))}else{w.push(new T({path:"target",operator:m.EQ,value1:""}))}if(e&&e.length){e.forEach(function(e){const t=e.code?e.code:"";D.addMessages(new p({message:e.text,type:e.type,target:"",persistent:true,code:t}))})}const H=N&&N.getModel()||new E;const V=this.modifyETagMessagesOnly(D,g.getLibraryResourceBundle("sap.fe.core"),c);if(O.length===1&&O[0].getCode()==="503"){U=true}else if(O.length!==0){B=true}let j;let k=[];if(B||!U&&!R){const e=D.getMessageModel().bindList("/",undefined,undefined,w),t=e.getCurrentContexts();if(t&&t.length>0){B=true;const e=[];t.forEach(function(t){const n=t.getObject();e.push(n);C=e});let n=[];if(Array.isArray(H.getData())){n=H.getData()}const o={};k=C.concat(n).filter(function(e){return!o[e.id]&&(o[e.id]=true)});H.setData(k)}}if(R){j={showMessageBox:U,showMessageDialog:B};j=R(O,j);U=j.showMessageBox;B=j.showMessageDialog;if(B||j.showChangeSetErrorDialog){k=j.filteredMessages?j.filteredMessages:k}}if(O.length===0&&!e&&!V){return Promise.resolve(true)}else if(O.length===1&&O[0].getType()===A.Success&&!e){return new Promise(e=>{s.show(O[0].message);if(H){H.setData({})}D.removeMessages(O);e()})}else if(B){ge.updateMessageObjectGroupName(k,f,d,P);H.setData(k);M=M||[];return new Promise(function(e,r){M.push(e);g.getLibraryResourceBundle("sap.fe.core",true).then(function(r){const i=false;if(j&&j.fnGetMessageSubtitle){H.getData().forEach(function(e){j.fnGetMessageSubtitle(e)})}const s=G(H,i);const l=new _("",undefined,undefined,(e,t)=>{const n=F(e);const o=F(t);if(n<o){return-1}if(n>o){return 1}return 0});s.oMessageView.getBinding("items").sort(l);b=b&&b.isOpen()?b:new o({resizable:true,endButton:new n({press:function(){y();D.removeMessages(k)},text:r.getText("C_COMMON_SAPFE_CLOSE")}),customHeader:new t({contentMiddle:[new u({text:r.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE")})],contentLeft:[I]}),contentWidth:"37.5em",contentHeight:"21.5em",verticalScrolling:false,afterClose:function(){for(let e=0;e<M.length;e++){M[e].call()}M=[]}});b.removeAllContent();b.addContent(s.oMessageView);if(V){sap.ui.require(["sap/m/ButtonType"],function(e){b.setBeginButton(new n({press:function(){y();if(a.hasPendingChanges()){a.getBinding().resetChanges()}a.refresh()},text:r.getText("C_COMMON_SAPFE_REFRESH"),type:e.Emphasized}))})}else{b.destroyBeginButton()}$=x(N.getItems());L=Q($);b.setState($);b.getCustomHeader().getContentMiddle()[0].setText(L);N.navigateBack();b.open();if(S){e(b)}}).catch(r)})}else if(U){return new Promise(function(e){const t=O[0];if(t.technicalDetails&&h.indexOf(t.technicalDetails.originalMessage.message)===-1||j&&j.showChangeSetErrorDialog){if(!j||!j.showChangeSetErrorDialog){h.push(t.technicalDetails.originalMessage.message)}let n="<html><body>";const o=v(t,true);if(o){n=`<h6>${o}</h6><br>`}if(j&&j.fnGetMessageSubtitle){j.fnGetMessageSubtitle(t)}if(t.getCode()!=="503"&&t.getAdditionalText()!==undefined){n=`${n+t.getAdditionalText()}: ${t.getMessage()}</html></body>`}else{n=`${n+t.getMessage()}</html></body>`}const a=new r({htmlText:n});i.error(a,{onClose:function(){h=[];if(l){q()}X();e(true)}})}})}else{return Promise.resolve(true)}}function $(e,t,n,o){e.forEach(e=>{var r,i,a;e["headerName"]="";if(!((r=e.target)!==null&&r!==void 0&&r.length)&&((i=e.getCode)===null||i===void 0?void 0:i.call(e))!=="FE_CUSTOM_MESSAGE_CHANGESET_ALL_FAILED"){e["headerName"]="General"}else if((a=e.target)!==null&&a!==void 0&&a.length){if(o==="ListReport"){ge.setGroupNameLRTable(t,e,n)}else if(o==="ObjectPage"){ge.setGroupNameOPDisplayMode(e,n,t)}else{e["headerName"]=ge.getLastActionTextAndActionName(n)}}})}function L(e,t,n){const o=e&&e.getRowBinding();if(o){var r;const o=`${e.getRowBinding().getPath()}`;if(((r=t.target)===null||r===void 0?void 0:r.indexOf(o))===0){const o=e.getRowBinding().getContexts();o.forEach(o=>{var r;if((r=t.target)!==null&&r!==void 0&&r.includes(o.getPath())){const r=`${o.getPath()}/`;const i=e.getParent().getIdentifierColumn();const a=i&&o.getObject()[i];const s=ge.getTableColProperty(e,t,r);const{sTableTargetColName:l}=ge.getTableColInfo(e,s);if(s&&l){t["headerName"]=a?` ${a}`:e.getHeader()}else{t["headerName"]=ge.getLastActionTextAndActionName(n)}}})}}}function w(e,t,n){const o=n===null||n===void 0?void 0:n.getBindingContext();const r=(n===null||n===void 0?void 0:n.getContent)&&(n===null||n===void 0?void 0:n.getContent()[0]);let i=true;if(r){ge.getVisibleSectionsFromObjectPageLayout(r).forEach(function(n){const r=n.getSubSections();r.forEach(function(n){n.findElements(true).forEach(function(r){if(r.isA("sap.ui.mdc.Table")){const l=r.getRowBinding(),u=true;let c;r.findElements(true).forEach(e=>{if(e.isA("sap.m.Table")||e.isA("sap.ui.table.Table")){c=e}});if(l){var a,s;const f=`${o===null||o===void 0?void 0:o.getPath()}/${(a=r.getRowBinding())===null||a===void 0?void 0:a.getPath()}`;if(((s=e.target)===null||s===void 0?void 0:s.indexOf(f))===0){const o=ge.getTableColumnDataAndSetSubtile(e,r,c,l,t,u,U);const{oTargetTableInfo:a}=o;if(u){const t=r.getParent().getIdentifierColumn();if(t){const n=r.getRowBinding().getContexts();n.forEach(n=>{var o;if((o=e.target)!==null&&o!==void 0&&o.includes(n.getPath())){const o=t?n.getObject()[t]:undefined;e["additionalText"]=`${o}, ${a.sTableTargetColName}`}})}else{e["additionalText"]=`${a.sTableTargetColName}`}let o=r.getHeaderVisible()&&a.tableHeader;if(!o){o=n.getTitle()}else{const e=g.getLibraryResourceBundle("sap.fe.core");o=`${e.getText("T_MESSAGE_GROUP_TITLE_TABLE_DENOMINATOR")}: ${o}`}e["headerName"]=o;i=false}}}}})})})}if(i){var a;const n=`${o===null||o===void 0?void 0:o.getPath()}`;if(((a=e.target)===null||a===void 0?void 0:a.indexOf(n))===0){const n=ge.getLastActionTextAndActionName(t);e["headerName"]=n}else{e["headerName"]="General"}}}function B(e){const t=g.getLibraryResourceBundle("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_LAST_ACTION");return e?`${t}: ${e}`:""}function F(e){var t,n;if((t=e.headerName)!==null&&t!==void 0&&t.toString().includes("Last Action")){return 1}else if((n=e.headerName)!==null&&n!==void 0&&n.toString().includes("General")){return 3}else{return 2}}const U=(e,t,n)=>{if(n){const t=g.getLibraryResourceBundle("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_GENERAL");e["headerName"]=t}else{e["headerName"]=ge.getLastActionTextAndActionName(t)}};function H(e,t,n,o,r,i,a){const s=ge.getTableAndTargetInfo(t,e,n,o);s.tableHeader=t.getHeader();let l,u;if(!s.oTableRowContext){l=e.getControlIds().find(function(e){return ge.isControlInTable(t,e)})}if(l){const e=g.byId(l);u=ge.isControlPartOfCreationRow(e)}if(!s.sTableTargetColName){if(e.persistent&&r){a(e,r);i=false}}const c=ge.getMessageSubtitle(e,s.oTableRowBindingContexts,s.oTableRowContext,s.sTableTargetColName,t,u);return{oTargetTableInfo:s,subTitle:c}}function V(e,t,n,o,r,i,a){let s;let l;const u=S(r);const g=r.getParent().getIdentifierColumn();const c=ge.fetchColumnInfo(e,r);if(i){s=u.getText("T_MESSAGE_ITEM_SUBTITLE",[u.getText("T_MESSAGE_ITEM_SUBTITLE_CREATION_ROW_INDICATOR"),o?o:c.label])}else{const e=ge.getTableFirstColBindingContextForTextAnnotation(r,n,g);const i=e?e.getObject("$Path"):undefined;const f=i&&e?e.getObject("@com.sap.vocabularies.UI.v1.TextArrangement/$EnumMember"):undefined;if(t.length>0){if(a){l=a.getValue()}else if(n&&g){l=ge.getTableFirstColValue(g,n,i,f)}else{l=undefined}const e=ge.determineColumnInfo(c,u);if(l&&o){s=u.getText("T_MESSAGE_ITEM_SUBTITLE",[l,o])}else if(l&&e.sColumnIndicator==="Hidden"){s=`${u.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW")}: ${l}, ${e.sColumnValue}`}else if(l&&e.sColumnIndicator==="Unknown"){s=u.getText("T_MESSAGE_ITEM_SUBTITLE",[l,e.sColumnValue])}else if(l&&e.sColumnIndicator==="undefined"){s=`${u.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW")}: ${l}`}else if(!l&&o){s=u.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_COLUMN")+": "+o}else if(!l&&e.sColumnIndicator==="Hidden"){s=e.sColumnValue}else{s=null}}else{s=null}}return s}function j(e,t,n){let o;if(t&&n){const r=e===null||e===void 0?void 0:e.getModel();const i=r===null||r===void 0?void 0:r.getMetaModel();const a=i===null||i===void 0?void 0:i.getMetaPath(t.getPath());if(i!==null&&i!==void 0&&i.getObject(`${a}/${n}@com.sap.vocabularies.Common.v1.Text/$Path`)){o=i.createBindingContext(`${a}/${n}@com.sap.vocabularies.Common.v1.Text`)}}return o}function k(e,t,n,o){const r=t.getValue(e);let i;let a=r;if(n){if(e.lastIndexOf("/")>0){e=e.slice(0,e.lastIndexOf("/")+1);e=e.concat(n)}else{e=n}i=t.getValue(e);if(i){if(o){const e=o.slice(o.indexOf("/")+1);switch(e){case"TextOnly":a=i;break;case"TextFirst":a=`${i} (${r})`;break;case"TextLast":a=`${r} (${i})`;break;case"TextSeparate":a=r;break;default:}}else{a=`${i} (${r})`}}}return a}function W(e,t){const n=e===null||e===void 0?void 0:e.getTargets()[0].split("/").pop();return t.getParent().getTableDefinition().columns.find(function(e){return e.key.split("::").pop()===n})}function Y(e,t){const n={sColumnIndicator:String,sColumnValue:String};if(e){if(e.availability==="Hidden"){n.sColumnValue=undefined;n.sColumnIndicator="undefined"}else{n.sColumnValue=`${t.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_COLUMN")} (${t.getText("T_COLUMN_INDICATOR_IN_TABLE_DEFINITION")}): ${e.label}`;n.sColumnIndicator="Hidden"}}else{n.sColumnValue=t.getText("T_MESSAGE_ITEM_SUBTITLE_INDICATOR_UNKNOWN");n.sColumnIndicator="Unknown"}return n}function K(e,t){const n=g.byId(t);if(n&&!n.isA("sap.ui.table.Table")&&!n.isA("sap.m.Table")){return e.findElements(true,function(e){return e.getId()===n})}return false}function z(e){let t=e===null||e===void 0?void 0:e.getParent();while(t&&!((n=t)!==null&&n!==void 0&&n.isA("sap.ui.table.Row"))&&!((o=t)!==null&&o!==void 0&&o.isA("sap.ui.table.CreationRow"))&&!((r=t)!==null&&r!==void 0&&r.isA("sap.m.ColumnListItem"))){var n,o,r;t=t.getParent()}return!!t&&t.isA("sap.ui.table.CreationRow")}function Q(e){const t=g.getLibraryResourceBundle("sap.fe.core");switch(e){case"Error":return t.getText("C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_TITLE_ERRORS");case"Information":return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_INFO");case"Success":return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_SUCCESS");case"Warning":return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_WARNINGS");default:return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE")}}function X(){ee(false)}function q(e){ee(true,e)}function J(e,t){if(t===undefined){return e.getObject("/")}const n=e.bindList("/");n.filter(new T({path:"target",operator:m.StartsWith,value1:t}));return n.getCurrentContexts().map(function(e){return e.getObject()})}function Z(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n=arguments.length>2?arguments[2]:undefined;let o;const r=g.getMessageManager(),i=r.getMessageModel(),a=g.getLibraryResourceBundle("sap.fe.core"),s=[];let l=[];if(e&&t&&n){l=J(i,n)}else{l=i.getObject("/")}for(o=0;o<l.length;o++){if((!t||l[o].persistent)&&(e&&l[o].target!==""||!e&&(!l[o].target||l[o].target===""))){s.push(l[o])}}for(o=0;o<s.length;o++){if(s[o].code==="503"&&s[o].message!==""&&s[o].message.indexOf(a.getText("C_MESSAGE_HANDLING_SAPFE_503_BACKEND_PREFIX"))===-1){s[o].message=`\n${a.getText("C_MESSAGE_HANDLING_SAPFE_503_BACKEND_PREFIX")}${s[o].message}`}}const u=[];for(o=0;o<s.length;o++){if(s[o].technicalDetails&&(s[o].technicalDetails.originalMessage!==undefined&&s[o].technicalDetails.originalMessage!==null||s[o].technicalDetails.httpStatus!==undefined&&s[o].technicalDetails.httpStatus!==null)||s[o].code){u.push(s[o])}}return u}function ee(e,t){const n=Z(e,true,t);if(n.length>0){g.getMessageManager().removeMessages(n)}}function te(e,t,n){if(n.additionalText===undefined){const o=e.getParent().getIdentifierColumn();const r=t.find(function(e){return n.getTargets()[0].indexOf(e.getPath())!==-1});n.additionalText=r?r.getObject()[o]:undefined}}function ne(e){return e.getSections().filter(function(e){return e.getVisible()})}function oe(e,t){return e.findElements(true,e=>se(t.getControlIds(),e)).sort(function(e,t){if(e.isA("sap.ui.mdc.Table")&&!t.isA("sap.ui.mdc.Table")){return-1}return 1})}function re(e,t,n){const o=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")};if(!n){var r;n=new RegExp(`${o(`${(r=e.getBindingContext())===null||r===void 0?void 0:r.getPath()}/${e.getRowBinding().getPath()}`)}\\(.*\\)/`)}return t.getTargets()[0].replace(n,"")}function ie(e,t){let n;let o=e.getColumns().find(function(e){return e.getDataProperty()==t});if(!o){const i=e.getControlDelegate().getColumnsFor(e).find(function(e){if(!!e.template&&e.propertyInfos){return e.propertyInfos[0]===t||e.propertyInfos[0].replace("Property::","")===t}else{return false}});if(i){var r;o=i;t=(r=o)===null||r===void 0?void 0:r.name;n=e.getColumns().find(function(e){return t===e.getDataProperty()}).getHeader()}else{const r=e.getControlDelegate().getColumnsFor(e);o=r.find(function(e){if(e.key.indexOf("::FieldGroup::")!==-1){var n;return(n=e.propertyInfos)===null||n===void 0?void 0:n.find(function(){return r.find(function(e){return e.relativePath===t})})}});let i=false;if(o&&o.label){i=e.getColumns().some(function(e){return e.getHeader()===o.label})}n=i&&o.label;t=i&&o.key}}else{n=o&&o.getHeader()}return{sTableTargetColName:n,sTableTargetColProperty:t}}function ae(e,t,n,o){const r={};r.sTableTargetColProperty=re(e,t);const i=ie(e,r.sTableTargetColProperty);r.oTableRowBindingContexts=n.isA("sap.ui.table.Table")?o.getContexts():o.getCurrentContexts();r.sTableTargetColName=i.sTableTargetColName;r.sTableTargetColProperty=i.sTableTargetColProperty;r.oTableRowContext=r.oTableRowBindingContexts.find(function(e){return e&&t.getTargets()[0].indexOf(e.getPath())===0});return r}function se(e,t){return e.some(function(e){if(e===t.getId()){return true}return false})}function le(e,t,n,o,r){return e.getTitle()+(t.getTitle()&&n?`, ${t.getTitle()}`:"")+(o?`, ${r.getText("T_MESSAGE_GROUP_TITLE_TABLE_DENOMINATOR")}: ${o.tableHeader}`:"")}function ue(e,t){return!t.some(function(t){let n=e.getParent();while(n&&n!==t){n=n.getParent()}return n?true:false})}const ge={getMessages:Z,showUnboundMessages:D,removeUnboundTransitionMessages:X,removeBoundTransitionMessages:q,modifyETagMessagesOnly:O,getRetryAfterMessage:v,prepareMessageViewForDialog:G,setMessageSubtitle:te,getVisibleSectionsFromObjectPageLayout:ne,getControlFromMessageRelatingToSubSection:oe,fnFilterUponIds:se,getTableAndTargetInfo:ae,createSectionGroupName:le,bIsOrphanElement:ue,getLastActionTextAndActionName:B,getTableColumnDataAndSetSubtile:H,getTableColInfo:ie,getTableColProperty:re,getMessageSubtitle:V,determineColumnInfo:Y,fetchColumnInfo:W,getTableFirstColBindingContextForTextAnnotation:j,getMessageRank:F,fnCallbackSetGroupName:U,getTableFirstColValue:k,setGroupNameOPDisplayMode:w,updateMessageObjectGroupName:$,setGroupNameLRTable:L,isControlInTable:K,isControlPartOfCreationRow:z};return ge},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/pageReady/DataQueryWatcher", ["sap/base/Log","sap/fe/macros/table/Utils"],function(e,t){"use strict";let i=function(){function i(e,t){this._aBindingRegistrations=[];this._aOtherEventSources=[];this._isSearchPending=false;this._aMDCTables=[];this._aMDCCharts=[];this._oEventProvider=e;this._fnOnFinished=t}var n=i.prototype;n.isSearchPending=function e(){return this._isSearchPending};n.isDataReceived=function e(){return this._isDataReceived};n.resetDataReceived=function e(){this._isDataReceived=undefined};n.reset=function e(){this._aBindingRegistrations.forEach(e=>{e.binding.detachEvent("dataRequested",this.onDataRequested,this);e.binding.detachEvent("dataReceived",this.onDataReceived,this)});this._aOtherEventSources.forEach(e=>{e.detachEvent("search",this.onSearch,this);e.detachEvent("bindingUpdated",this.register,this)});this._aBindingRegistrations=[];this._aOtherEventSources=[];this._aMDCTables=[];this._aMDCCharts=[];this._isSearchPending=false;this._isDataReceived=undefined};n.onDataReceived=function t(i,n){const r=i.getSource();const a=this._aBindingRegistrations.find(e=>e.binding===r);if(!a){e.error("PageReady - data received on an unregistered binding");return}switch(r.getGroupId()){case"$auto.Workers":this._oEventProvider.fireEvent("workersBatchReceived");break;case"$auto.Heroes":this._oEventProvider.fireEvent("heroesBatchReceived");break;default:}a.receivedCount++;if(a.receivedCount<a.requestedCount){r.attachEventOnce("dataReceived",{triggeredBySearch:n.triggeredBySearch},this.onDataReceived,this);return}const s=this._aBindingRegistrations.some(e=>e.requestedCount!==0)&&this._aBindingRegistrations.every(e=>e.requestedCount===0||e.receivedCount>=e.requestedCount);if(n.triggeredBySearch||a.receivedCount>=a.requestedCount){this._isSearchPending=false}if(s){this._isDataReceived=true;this._fnOnFinished()}};n.onDataRequested=function t(i,n){const r=i.getSource();const a=this._aBindingRegistrations.find(e=>e.binding===r);if(!a){e.error("PageReady - data requested on an unregistered binding");return}a.requestedCount++;this._isDataReceived=false;if(a.requestedCount-a.receivedCount===1){r.attachEventOnce("dataReceived",{triggeredBySearch:n.triggeredBySearch},this.onDataReceived,this)}};n.onSearch=function t(i){const n=this._aMDCTables.filter(e=>{var t;return i.getSource().sId===e.getFilter()&&e.getVisible()&&!((t=e.getParent())!==null&&t!==void 0&&t.getProperty("bindingSuspended"))});const r=this._aMDCCharts.filter(e=>i.getSource().sId===e.getFilter()&&e.getVisible());if(n.length>0||r.length>0){this._isSearchPending=true}n.forEach(e=>{this.registerTable(e,true)});r.forEach(async t=>{try{if(t.innerChartBoundPromise){await t.innerChartBoundPromise}this.registerChart(t,true)}catch(t){e.error("Cannot find a inner bound chart",t)}})};n.register=function e(t,i){var n,r;const a=i.binding||((n=i.table)===null||n===void 0?void 0:n.getRowBinding())||((r=i.chart)===null||r===void 0?void 0:r.getControlDelegate().getInnerChart(i.chart).getBinding("data"));const s=i.table||i.chart;if(!a){return}let d=this._aBindingRegistrations.find(e=>e.binding===a);if(d){if(s){d.boundControl=s}if(d.requestedCount>0){a.detachEvent("dataRequested",this.onDataRequested,this);a.attachEventOnce("dataRequested",{triggeredBySearch:i.triggeredBySearch},this.onDataRequested,this)}return}if(s){d=this._aBindingRegistrations.find(e=>e.boundControl===s);if(d&&d.binding!==a){d.binding=a;d.requestedCount=0;d.receivedCount=0}}if(!d){d={binding:a,boundControl:s,requestedCount:0,receivedCount:0};this._aBindingRegistrations.push(d)}a.detachEvent("dataRequested",this.onDataRequested,this);a.attachEventOnce("dataRequested",{triggeredBySearch:i.triggeredBySearch},this.onDataRequested,this)};n.registerBinding=function e(t){this.register(null,{binding:t,triggeredBySearch:false})};n.registerTable=function e(t){let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this._aMDCTables.indexOf(t)<0){this._aMDCTables.push(t)}const n=t.getRowBinding();if(n){this.register(null,{table:t,triggeredBySearch:i})}if(this._aOtherEventSources.indexOf(t)===-1){t.attachEvent("bindingUpdated",{table:t,triggeredBySearch:i},this.register,this);this._aOtherEventSources.push(t)}};n.registerChart=function e(t){let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this._aMDCCharts.indexOf(t)<0){this._aMDCCharts.push(t)}const n=t.getControlDelegate().getInnerChart(t);const r=n===null||n===void 0?void 0:n.getBinding("data");if(r){this.register(null,{chart:t,triggeredBySearch:i})}if(this._aOtherEventSources.indexOf(t)===-1){t.attachEvent("bindingUpdated",{chart:t,triggeredBySearch:i},this.register,this);this._aOtherEventSources.push(t)}};n.registerTableOrChart=async function i(n){if(!n.isA("sap.ui.mdc.Table")&&!n.isA("sap.ui.mdc.Chart")){return}try{await n.initialized();if(n.isA("sap.ui.mdc.Table")){this.registerTable(n);if(n.getAutoBindOnInit()&&n.getDomRef()){await t.whenBound(n)}}else{this.registerChart(n)}}catch(t){e.error("PageReady - Cannot register a table or a chart",t)}};n.registerFilterBar=function e(t){t.attachEvent("search",this.onSearch,this);this._aOtherEventSources.push(t)};return i}();return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/routing/NavigationReason", [],function(){"use strict";var e;(function(e){e["RowPress"]="RowPress";e["AppStateChanged"]="AppStateChanged"})(e||(e={}));return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/routing/RouterProxy", ["sap/base/Log","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/Synchronization","sap/ui/base/Object","sap/ui/core/Core","sap/ui/thirdparty/URI"],function(t,e,s,i,n,o){"use strict";var a,r;var h=e.defineUI5Class;function u(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;c(t,e)}function c(t,e){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,s){e.__proto__=s;return e};return c(t,e)}const l={EQUAL:0,COMPATIBLE:1,ANCESTOR:2,DIFFERENT:3};const f={LAYOUTPARAM:"layout",IAPPSTATEPARAM:"sap-iapp-state"};function d(t){return{_guardHash:t.replace(/\?[^?]*$/,""),check:function(t){return t.indexOf(this._guardHash)===0}}}function g(t){const e=t.match(new RegExp(`\\?.*${f.IAPPSTATEPARAM}=([^&]*)`));return e&&e.length>1?e[1]:null}function p(t){return t.replace(new RegExp(`[&?]*${f.IAPPSTATEPARAM}=[^&]*`),"")}function y(t,e){let s;if(t.indexOf(f.IAPPSTATEPARAM)>=0){s=t.replace(new RegExp(`${f.IAPPSTATEPARAM}=[^&]*`),`${f.IAPPSTATEPARAM}=${e}`)}else{if(t.indexOf("?")<0){s=`${t}?`}else{s=`${t}&`}s+=`${f.IAPPSTATEPARAM}=${e}`}return s}let _=(a=h("sap.fe.core.RouterProxy"),a(r=function(e){u(i,e);function i(){var t;for(var s=arguments.length,i=new Array(s),n=0;n<s;n++){i[n]=arguments[n]}t=e.call(this,...i)||this;t.bIsRebuildHistoryRunning=false;t.bIsComputingTitleHierachy=false;t.bIsGuardCrossAllowed=false;t.sIAppStateKey=null;t._bActivateRouteMatchSynchro=false;t._bApplyRestore=false;t._bDelayedRebuild=false;t._pathMappings=[];return t}var a=i.prototype;a.init=function e(s,i){s.getService("shellServices").then(()=>{this._oShellServices=s.getShellServices();this.initRaw(s.getRouter());this.waitForRouteMatchBeforeNavigation();history.replaceState(Object.assign({feLevel:0},history.state),"",window.location);this.fclEnabled=i;this._fnBlockingNavFilter=this._blockingNavigationFilter.bind(this);this._oShellServices.registerNavigationFilter(this._fnBlockingNavFilter)}).catch(function(e){t.error("Cannot retrieve the shell services",e)});this._fnHashGuard=this.hashGuard.bind(this);window.addEventListener("popstate",this._fnHashGuard);this._bDisableOnHashChange=false;this._bIgnoreRestore=false;this._bForceFocus=true};a.destroy=function t(){if(this._oShellServices){this._oShellServices.unregisterNavigationFilter(this._fnBlockingNavFilter)}window.removeEventListener("popstate",this._fnHashGuard)};a.initRaw=function t(e){this._oRouter=e;this._oManagedHistory=[];this._oNavigationGuard=null;const s=this.getHash();this._oManagedHistory.push(this._extractStateFromHash(s));this.sIAppStateKey=g(s)};a.getHash=function t(){return this._oRouter.getHashChanger().getHash()};a.isFocusForced=function t(){return this._bForceFocus};a.setFocusForced=function t(e){this._bForceFocus=e};a.removeIAppStateKey=function t(){this.sIAppStateKey=null};a.navToHash=function t(e,s,i,n,o){if(o!==false){this._oShellServices.setBackNavigation()}if(this._oRouteMatchSynchronization){return this._oRouteMatchSynchronization.waitFor().then(()=>{this._oRouteMatchSynchronization=undefined;return this._internalNavToHash(e,s,i,n)})}else{if(this._bActivateRouteMatchSynchro){this.waitForRouteMatchBeforeNavigation()}return this._internalNavToHash(e,s,i,n)}};a._internalNavToHash=function t(e,s,i,o){if(this.fclEnabled&&this.sIAppStateKey&&!g(e)){e=y(e,this.sIAppStateKey)}if(!this.checkHashWithGuard(e)){if(!this.oResourceBundle){this.oResourceBundle=n.getLibraryResourceBundle("sap.fe.core")}if(!confirm(this.oResourceBundle.getText("C_ROUTER_PROXY_SAPFE_EXIT_NOTSAVED_MESSAGE"))){return Promise.resolve(false)}this.bIsGuardCrossAllowed=true}const a=this._extractStateFromHash(e);if(!this._bForceFocus){const t=this._extractEntitySetsFromHash(this.getHash());this._bForceFocus=o||t.length<a.keys.length&&t.every(function(t,e){return t===a.keys[e]})}const r=this._pushNewState(a,false,s,i);this.storeFocusInfoForCurrentHash();return this._rebuildBrowserHistory(r,false)};a.restoreHistory=function t(){if(this._bApplyRestore){this._bApplyRestore=false;let t=this.getHash();t=t.replace(/(\?|&)restoreHistory=true/,"");const e=this._extractStateFromHash(t);const s=this._pushNewState(e,true,false,true);return this._rebuildBrowserHistory(s,true)}else{return Promise.resolve()}};a.navBack=function t(){const e=this.getHash();let s;for(let t=this._oManagedHistory.length-1;t>0;t--){if(this._oManagedHistory[t].hash===e){s=this._oManagedHistory[t-1].hash;break}}if(s){return this.navToHash(s)}else{window.history.back();return Promise.resolve()}};a.navTo=function t(e,s){const i=this._oRouter.getURL(e,s);return this.navToHash(i,false,s.noPreservationCache,false,!s.bIsStickyMode)};a.exitFromApp=function t(){return this._oShellServices.backToPreviousApp()};a.isCurrentStateImpactedBy=function t(e){if(e[0]==="/"){e=e.substring(1)}const s=d(e);return s.check(this.getHash())};a.isNavigationFinalized=function t(){return!this.bIsRebuildHistoryRunning&&!this._bDelayedRebuild};a.setNavigationGuard=function t(e){this._oNavigationGuard=d(e);this.bIsGuardCrossAllowed=false};a.discardNavigationGuard=function t(){this._oNavigationGuard=null};a.hasNavigationGuard=function t(){return this._oNavigationGuard!==null};a.checkHashWithGuard=function t(e){return this._oNavigationGuard===null||this._oNavigationGuard.check(e)};a.isGuardCrossAllowedByUser=function t(){return this.bIsGuardCrossAllowed};a.activateRouteMatchSynchronization=function t(){this._bActivateRouteMatchSynchro=true};a.resolveRouteMatch=function t(){if(this._oRouteMatchSynchronization){this._oRouteMatchSynchronization.resolve()}};a.waitForRouteMatchBeforeNavigation=function t(){this._oRouteMatchSynchronization=new s;this._bActivateRouteMatchSynchro=false};a._extractEntitySetsFromHash=function t(e){if(e===undefined){e=""}const s=e.split("?")[0];const i=s.split("/");const n=[];i.forEach(t=>{if(t.length){n.push(t.split("(")[0])}});return n};a._extractStateFromHash=function t(e){if(e===undefined){e=""}const s={keys:this._extractEntitySetsFromHash(e)};const i=e.match(new RegExp(`\\?.*${f.LAYOUTPARAM}=([^&]*)`));s.sLayout=i&&i.length>1?i[1]:null;if(s.sLayout==="MidColumnFullScreen"){s.screenMode=1}else if(s.sLayout==="EndColumnFullScreen"){s.screenMode=2}else{s.screenMode=0}s.hash=e;return s};a._pushNewState=function t(e,s,i,n){const o=this.getHash();let a=this._oManagedHistory.length-1;let r=s?1:0;if(!s){while(a>=0&&this._oManagedHistory[a].hash!==o){this._oManagedHistory.pop();a--}if(this._oManagedHistory.length===0){this._oManagedHistory.push(this._extractStateFromHash(o));history.replaceState(Object.assign({feLevel:0},history.state),"")}}if(i&&!n){this._oManagedHistory[this._oManagedHistory.length-1].preserved=true}let h;while(this._oManagedHistory.length>0){const t=this._oManagedHistory[this._oManagedHistory.length-1];if((n||!t.preserved)&&this._compareCacheStates(t,e)!==l.ANCESTOR){h=this._oManagedHistory.pop();r++}else if(t.preserved&&p(t.hash)===p(e.hash)){h=this._oManagedHistory.pop();r++;e.preserved=true;break}else{break}}this.sIAppStateKey=g(e.hash);if(!this.fclEnabled&&h){const t=g(h.hash);const s=this._compareCacheStates(h,e);if(!this.sIAppStateKey&&t&&(s===l.EQUAL||s===l.COMPATIBLE)){e.hash=y(e.hash,t)}}const u=h&&e.hash===h.hash;if(this._oManagedHistory.length===0||this._oManagedHistory[this._oManagedHistory.length-1].hash!==e.hash){this._oManagedHistory.push(e);if(h&&p(h.hash)===p(e.hash)){e.focusControlId=h.focusControlId;e.focusInfo=h.focusInfo}}if(r===0){return{type:"append"}}else if(r===1){return u?{type:"none"}:{type:"replace"}}else{return u?{type:"back",steps:r-1}:{type:"back-replace",steps:r-1}}};a._blockingNavigationFilter=function t(){return this._bDisableOnHashChange?"Custom":"Continue"};a._disableEventOnHashChange=function t(){this._bDisableOnHashChange=true;this._oRouter.stop()};a._enableEventOnHashChange=function t(e){this._bDisableOnHashChange=false;this._oRouter.initialize(e)};a._rebuildBrowserHistory=function t(e,s){const i=this;return new Promise(t=>{this.bIsRebuildHistoryRunning=true;const n=this._oManagedHistory[this._oManagedHistory.length-1],o=this._oManagedHistory.length-1;function a(){if(!s){i._enableEventOnHashChange(true)}i._oRouter.getHashChanger().replaceHash(n.hash);history.replaceState(Object.assign({feLevel:o},history.state),"");if(s){setTimeout(function(){i._enableEventOnHashChange(true)},0)}i.bIsRebuildHistoryRunning=false;t(true)}function r(){window.removeEventListener("popstate",r);setTimeout(function(){a()},0)}function h(){window.removeEventListener("popstate",h);i.bIsRebuildHistoryRunning=false;t(true)}i._bIgnoreRestore=true;switch(e.type){case"replace":i._oRouter.getHashChanger().replaceHash(n.hash);history.replaceState(Object.assign({feLevel:o},history.state),"");i.bIsRebuildHistoryRunning=false;t(true);break;case"append":i._oRouter.getHashChanger().setHash(n.hash);history.replaceState(Object.assign({feLevel:o},history.state),"");i.bIsRebuildHistoryRunning=false;t(true);break;case"back":window.addEventListener("popstate",h);history.go(-e.steps);break;case"back-replace":this._disableEventOnHashChange();window.addEventListener("popstate",r);history.go(-e.steps);break;default:this.bIsRebuildHistoryRunning=false;t(false)}})};a.getLastHistoryEntry=function t(){return this._oManagedHistory[this._oManagedHistory.length-1]};a.setPathMapping=function t(e){this._pathMappings=e.filter(t=>t.oldPath!==t.newPath)};a.hashGuard=function t(){let e=window.location.hash;if(e.indexOf("restoreHistory=true")!==-1){this._bApplyRestore=true}else if(!this.bIsRebuildHistoryRunning){const t=this._pathMappings.find(t=>e.indexOf(t.oldPath)>=0);if(t){e=e.replace(t.oldPath,t.newPath);history.replaceState(Object.assign({},history.state),"",e)}const s=e.split("&/");const i=s[1]?s[1]:"";if(this.checkHashWithGuard(i)){this._bDelayedRebuild=true;const t=this._extractStateFromHash(i);this._pushNewState(t,false,false,true);setTimeout(()=>{this._bDelayedRebuild=false},0)}}};a._compareCacheStates=function t(e,s){if(e.keys.length>s.keys.length){return l.DIFFERENT}let i=true;let n;for(n=0;i&&n<e.keys.length;n++){if(e.keys[n]!==s.keys[n]){i=false}}if(!i){return l.DIFFERENT}if(e.keys.length<s.keys.length||e.screenMode<s.screenMode){return l.ANCESTOR}if(e.screenMode>s.screenMode){return l.DIFFERENT}return e.sLayout===s.sLayout?l.EQUAL:l.COMPATIBLE};a.checkIfBackIsOutOfGuard=function t(e){let s;let i;if(e===undefined){const t=this._oShellServices.splitHash(window.location.hash);if(t&&t.appSpecificRoute){i=t.appSpecificRoute;if(i.indexOf("&/")===0){i=i.substring(2)}}else{i=window.location.hash.substring(1);if(i[0]==="/"){i=i.substring(1)}}}else{i=e}e=o.decode(i);if(this._oNavigationGuard){for(let t=this._oManagedHistory.length-1;t>0;t--){if(this._oManagedHistory[t].hash===e){s=this._oManagedHistory[t-1].hash;break}}return!s||!this.checkHashWithGuard(s)}return false};a.checkIfBackHasSameContext=function t(){if(this._oManagedHistory.length<2){return false}const e=this._oManagedHistory[this._oManagedHistory.length-1];const s=this._oManagedHistory[this._oManagedHistory.length-2];return e.hash.split("?")[0]===s.hash.split("?")[0]};a.restoreFocusForCurrentHash=function t(){const e=p(this.getHash());const s=this._oManagedHistory.find(t=>p(t.hash)===e);let i=false;if(s!==null&&s!==void 0&&s.focusControlId){const t=sap.ui.getCore().byId(s.focusControlId);t===null||t===void 0?void 0:t.focus(s.focusInfo);i=t!==undefined}return i};a.storeFocusInfoForCurrentHash=function t(){const e=p(this.getHash());const s=this._oManagedHistory.find(t=>p(t.hash)===e);if(s){const t=sap.ui.getCore().getCurrentFocusedControlId();const e=t?sap.ui.getCore().byId(t):undefined;s.focusControlId=t;s.focusInfo=e===null||e===void 0?void 0:e.getFocusInfo()}};a.findLayoutForHash=function t(e){var s;if(!this.fclEnabled){return undefined}const i=e.split("?")[0];let n;for(let t=this._oManagedHistory.length-1;t>=0&&n===undefined;t--){if(this._oManagedHistory[t].hash.split("?")[0]===i){n=this._oManagedHistory[t]}}return(s=n)===null||s===void 0?void 0:s.sLayout};return i}(i))||r);return _},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/Any", ["sap/ui/base/ManagedObject"],function(e){"use strict";const n=e.extend("sap.fe.core.controls.Any",{metadata:{properties:{any:"any",anyText:"string"}},updateProperty:function(e){if(e==="any"){this.setAny(this.getBindingInfo(e).binding.getExternalValue())}else{this.setAnyText(this.getBindingInfo(e).binding.getExternalValue())}}});return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/AnyElement", ["sap/ui/core/Element"],function(e){"use strict";const t=e.extend("sap.fe.core.controls.AnyElement",{metadata:{properties:{anyText:"string"}},updateProperty:function(e){if(e==="anyText"){this.setAnyText(this.getBindingInfo(e).binding.getExternalValue())}}});return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/CommandExecution", ["sap/base/Log","sap/fe/core/helpers/ClassSupport","sap/ui/core/CommandExecution","sap/ui/core/Component","sap/ui/core/Element","sap/ui/core/Shortcut"],function(t,e,o,r,n,i){"use strict";var s,c,a;var u={};var p=e.defineUI5Class;function f(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;h(t,e)}function h(t,e){h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,o){e.__proto__=o;return e};return h(t,e)}let l=(s=p("sap.fe.core.controls.CommandExecution"),s(c=(a=function(e){f(o,e);function o(t,o){return e.call(this,t,o)||this}u=o;var s=o.prototype;s.setParent=function t(o){e.prototype.setParent.call(this,o);const r=o.data("sap.ui.core.Shortcut");if(Array.isArray(r)&&r.length>0){const t=o.data("sap.ui.core.Shortcut")[r.length-1],e=t.shortcutSpec;if(e){for(const t in e){if(e[t]&&t!=="key"){return this}}}return this}};s.destroy=function t(e){const o=this.getParent();if(o){const t=this._getCommandInfo();if(t){i.unregister(this.getParent(),t.shortcut)}this._cleanupContext(o)}n.prototype.destroy.apply(this,[e])};s.setVisible=function o(n){let i,s=this.getParent(),c;if(!s){e.prototype.setVisible.call(this,n)}while(!c&&s){c=r.getOwnerComponentFor(s);s=s.getParent()}if(c){i=c.getCommand(this.getCommand());if(i){e.prototype.setVisible.call(this,n)}else{t.info("There is no shortcut definition registered in the manifest for the command : "+this.getCommand())}}return this};return o}(o),a.executeCommand=t=>e=>{const r=o.find(e.getSource(),t);r===null||r===void 0?void 0:r.trigger()},a))||c);u=l;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/DataLossOrDraftDiscard/DataLossOrDraftDiscardHandler", ["sap/base/Log","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/model/json/JSONModel"],function(e,t,n,o,s){"use strict";var a={};var i;(function(e){e["Save"]="draftDataLossOptionSave";e["Keep"]="draftDataLossOptionKeep";e["Discard"]="draftDataLossOptionDiscard"})(i||(i={}));let r;let c;function d(a,i,d,f){let u;r=a;c=i;const l="sap.fe.core.controls.DataLossOrDraftDiscard.DataLossDraft";const p=d.getView();const m={onDataLossOk:function(){g(u,d,r,f)},onDataLossCancel:function(){c();u.close()},setDataLossPopup:function(e){d.dataLossPopup=e}};const L=new s({}),v={bindingContexts:{this:L.createBindingContext("/")},models:{this:L}};if(d.dataLossPopup){u=d.dataLossPopup;u.open();D(u)}else{const s=o.loadTemplate(l,"fragment");Promise.resolve(n.process(s,{name:l},v)).then(e=>t.load({definition:e,controller:m})).then(e=>{u=e;D(u);const t=u.getContent().find(e=>e.data("listIdentifier")==="draftDataLossOptionsList");t.addEventDelegate({onsapenter:function(){g(u,d,r,f)}});p.addDependent(u);u.open();m.setDataLossPopup(u)}).catch(function(t){e.error("Error while opening the Discard Dialog fragment",t)})}}function f(e,t,n,o){return new Promise(function(s,a){const i=function(t){const n=e(t);s(n)};const r=function(){t();a()};d(i,r,n,o)})}a.performAfterDiscardorKeepDraft=f;function u(e,t){const n=e.getView().getBindingContext();const o={skipBackNavigation:true,skipDiscardPopover:true,skipBindingToView:t!==undefined?t:true};return e.editFlow.cancelDocument(n,o)}a.discardDraft=u;function l(e){const t=e.getView().getBindingContext();if(e.isA("sap.fe.templates.ObjectPage.ObjectPageController")){return e._saveDocument(t)}else{return e.editFlow.saveDocument(t)}}a.saveDocument=l;function p(e){const t=e.getContent().find(e=>e.data("listIdentifier")==="draftDataLossOptionsList");return t.getSelectedItem().data("itemKey")}a.getSelectedKey=p;function D(e){const t=e.getContent().find(e=>e.data("listIdentifier")==="draftDataLossOptionsList");const n=t.getItems()[0];t.setSelectedItem(n);n===null||n===void 0?void 0:n.focus()}a.selectAndFocusFirstEntry=D;function g(t,n,o,s){const a=p(t);if(a===i.Save){l(n).then(o).catch(function(t){e.error("Error while saving document",t)});t.close()}else if(a===i.Keep){o();t.close()}else if(a===i.Discard){u(n,s).then(o).catch(function(t){e.error("Error while discarding draft",t)});t.close()}}a.handleDataLossOk=g;return{performAfterDiscardorKeepDraft:f,discardDraft:u,saveDocument:l,getSelectedKey:p,selectAndFocusFirstEntry:D}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/FilterBar", ["sap/fe/core/controls/filterbar/FilterContainer","sap/fe/core/controls/filterbar/VisualFilterContainer","sap/fe/core/helpers/ClassSupport","sap/ui/core/Core","sap/ui/mdc/FilterBar","sap/ui/mdc/filterbar/aligned/FilterItemLayout"],function(t,e,i,r,o,n){"use strict";var a,l,s,u,c,d,f;var h=i.property;var g=i.defineUI5Class;var y=i.association;function p(t,e,i,r){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function F(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function B(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;_(t,e)}function _(t,e){_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return _(t,e)}function b(t,e,i,r,o){var n={};Object.keys(r).forEach(function(t){n[t]=r[t]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=i.slice().reverse().reduce(function(i,r){return r(t,e,i)||i},n);if(o&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(o):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(t,e,n);n=null}return n}function m(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let L=(a=g("sap.fe.core.controls.FilterBar"),l=h({type:"string",defaultValue:"compact"}),s=y({type:"sap.m.SegmentedButton",multiple:false}),a(u=(c=function(i){B(o,i);function o(){var t;for(var e=arguments.length,r=new Array(e),o=0;o<e;o++){r[o]=arguments[o]}t=i.call(this,...r)||this;p(t,"initialLayout",d,F(t));p(t,"toggleControl",f,F(t));return t}var a=o.prototype;a.setToggleControl=function t(e){if(typeof e==="string"){this._oSegmentedButton=r.byId(e)}else{this._oSegmentedButton=e}if(this.toggleControl&&this._oSegmentedButton){this._oSegmentedButton.detachEvent("select",this._toggleLayout.bind(this))}if(this._oSegmentedButton){this._oSegmentedButton.attachEvent("select",this._toggleLayout.bind(this))}this.setAssociation("toggleControl",e,true)};a._toggleLayout=function t(){if(!this._oSecondaryFilterBarLayout){this._oSecondaryFilterBarLayout=new e}if(this._oSecondaryFilterBarLayout.isA("sap.fe.core.controls.filterbar.VisualFilterContainer")){this.setShowAdaptFiltersButton(false)}else{this.setShowAdaptFiltersButton(true)}const i=this._oFilterBarLayout;const r=this.getFilterItems();const o=i.getAllFilterFields();const n=this.getSortedFilterFields(r,o);const a=i.getAllButtons();const l=i.getAllVisualFilterFields&&i.getAllVisualFilterFields();if(this._oSecondaryFilterBarLayout.isA("sap.fe.core.controls.filterbar.VisualFilterContainer")){this._oSecondaryFilterBarLayout.setAllFilterFields(n,l)}this._oFilterBarLayout=this._oSecondaryFilterBarLayout;o.forEach((t,e)=>{i.removeFilterField(t);this._oFilterBarLayout.insertFilterField(t,e)});a.forEach(t=>{i.removeButton(t);this._oFilterBarLayout.addButton(t)});this._oSecondaryFilterBarLayout=i;this.setAggregation("layout",this._oFilterBarLayout,true);this._oFilterBarLayout.rerender()};a.getSortedFilterFields=function t(e,i){const r=[];e.forEach(function(t){r.push(t.getId())});i.sort(function(t,e){let i,o;t.getContent().forEach(function(t){if(t.isA("sap.ui.mdc.FilterField")){i=t.getId()}});e.getContent().forEach(function(t){if(t.isA("sap.ui.mdc.FilterField")){o=t.getId()}});return r.indexOf(i)-r.indexOf(o)});return i};a._createInnerLayout=function e(){this._oFilterBarLayout=new t;this._cLayoutItem=n;this._oFilterBarLayout.getInner().addStyleClass("sapUiMdcFilterBarBaseAFLayout");this._addButtons();const i=this._oFilterBarLayout.getInner();const r={onBeforeRendering:()=>{if(this.initialLayout==="visual"){this._toggleLayout()}i.removeEventDelegate(r)}};i.addEventDelegate(r);this.setAggregation("layout",this._oFilterBarLayout,true)};a.exit=function t(){i.prototype.exit.call(this);if(this._oSegmentedButton){this._oSegmentedButton.detachEvent("select",this._toggleLayout);delete this._oSegmentedButton}};a.getSegmentedButton=function t(){return this._oSegmentedButton};return o}(o),d=b(c.prototype,"initialLayout",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),f=b(c.prototype,"toggleControl",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||u);return L},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/FormElementWrapper", ["sap/fe/core/helpers/ClassSupport","sap/ui/core/Control"],function(e,t){"use strict";var r,i,n,o,l,a,u,s,c,p,f;var b=e.property;var d=e.implementInterface;var y=e.defineUI5Class;var m=e.aggregation;function h(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function g(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;w(e,t)}function w(e,t){w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return w(e,t)}function _(e,t,r,i,n){var o={};Object.keys(i).forEach(function(e){o[e]=i[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o);if(n&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(n):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function z(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let j=(r=y("sap.fe.core.controls.FormElementWrapper"),i=d("sap.ui.core.IFormContent"),n=b({type:"sap.ui.core.CSSSize",defaultValue:null}),o=b({type:"boolean",defaultValue:false}),l=m({type:"sap.ui.core.Control",multiple:false,isDefault:true}),r(a=(u=function(e){g(t,e);function t(){var t;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++){i[n]=arguments[n]}t=e.call(this,...i)||this;h(t,"__implements__sap_ui_core_IFormContent",s,v(t));h(t,"width",c,v(t));h(t,"formDoNotAdjustWidth",p,v(t));h(t,"content",f,v(t));return t}var r=t.prototype;r.getAccessibilityInfo=function e(){const t=this.content;return t&&t.getAccessibilityInfo?t.getAccessibilityInfo():{}};t.render=function e(t,r){t.openStart("div",r);t.style("min-height","1rem");t.style("width",r.width);t.openEnd();t.openStart("div");t.style("display","flex");t.style("box-sizing","border-box");t.style("justify-content","space-between");t.style("align-items","center");t.style("flex-wrap","wrap");t.style("align-content","stretch");t.style("width","100%");t.openEnd();t.renderControl(r.content);t.close("div");t.close("div")};return t}(t),s=_(u.prototype,"__implements__sap_ui_core_IFormContent",[i],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),c=_(u.prototype,"width",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),p=_(u.prototype,"formDoNotAdjustWidth",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),f=_(u.prototype,"content",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||a);return j},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/MassEditSelect", ["sap/m/Select","sap/m/SelectRenderer"],function(e,t){"use strict";const r=e.extend("sap.fe.core.controls.MassEditSelect",{metadata:{properties:{showValueHelp:{type:"boolean"},valueHelpIconSrc:{type:"string"},selectValue:{type:"string"}},events:{valueHelpRequest:{}},interfaces:["sap.ui.core.IFormContent"]},renderer:{apiVersion:2,render:t.render}});return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/MultiValueParameterDelegate", ["sap/ui/mdc/field/MultiValueFieldDelegate"],function(t){"use strict";const n=Object.assign({},t,{_transformConditions:function(t,n,s){const e=[];for(let i=0;i<t.length;i++){const o={};const c=t[i];o[n]=c.values[0];if(s){o[s]=c.values[1]}e.push(o)}return e},updateItems:function(t,n,s){const e=s.getBinding("items");const i=s.getBindingInfo("items");const o=i.path;const c=i.template;const a=c.getBindingInfo("key");const r=a&&a.parts[0].path;const u=c.getBindingInfo("description");const d=u&&u.parts[0].path;const f=e.getModel();f.setProperty(o,this._transformConditions(n,r,d))}});return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/filterbar/FilterContainer", ["sap/fe/core/helpers/ClassSupport","sap/ui/mdc/filterbar/aligned/FilterContainer"],function(t,e){"use strict";var i,l;var n=t.defineUI5Class;function r(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;o(t,e)}function o(t,e){o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return o(t,e)}let s=(i=n("sap.fe.core.controls.filterbar.FilterContainer"),i(l=function(t){r(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;i.init=function e(){this.aAllFilterFields=[];this.aAllVisualFilters={};for(var i=arguments.length,l=new Array(i),n=0;n<i;n++){l[n]=arguments[n]}t.prototype.init.call(this,...l)};i.exit=function e(){for(var i=arguments.length,l=new Array(i),n=0;n<i;n++){l[n]=arguments[n]}t.prototype.exit.call(this,...l);this.aAllFilterFields.forEach(function(t){t.destroy()});Object.keys(this.aAllVisualFilters).forEach(t=>{this.aAllVisualFilters[t].destroy()})};i.insertFilterField=function e(i,l){const n={onBeforeRendering:function(){if(i._fnGetContentCopy){i.getContent=i._fnGetContentCopy}i.removeEventDelegate(n)}};i.addEventDelegate(n);i.getContent().forEach(t=>{const e=t.getContent&&t.getContent();if(t.isA("sap.ui.mdc.FilterField")&&e&&e.isA("sap.fe.core.controls.filterbar.VisualFilter")){const i=t.getId();this.aAllVisualFilters[i]=e;t.setContent(null)}});this.aAllFilterFields.push(i);t.prototype.insertFilterField.call(this,i,l)};i.removeFilterField=function e(i){const l=this.aAllFilterFields.findIndex(function(t){return t.getId()===i.getId()});i.getContent().forEach(t=>{if(t.isA("sap.ui.mdc.FilterField")&&!t.getContent()){const e=t.getId();if(this.aAllVisualFilters[e]){t.setContent(this.aAllVisualFilters[e])}}});this.aAllFilterFields.splice(l,1);t.prototype.removeFilterField.call(this,i)};i.removeAllFilterFields=function t(){this.aAllFilterFields=[];this.aAllVisualFilters={};this.oLayout.removeAllContent()};i.getAllButtons=function t(){return this.oLayout.getEndContent()};i.removeButton=function t(e){this.oLayout.removeEndContent(e)};i.getAllFilterFields=function t(){return this.aAllFilterFields.slice()};i.getAllVisualFilterFields=function t(){return this.aAllVisualFilters};i.setAllFilterFields=function t(e){this.aAllFilterFields=e};return e}(e))||l);return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/filterbar/VisualFilter", ["sap/fe/core/CommonUtils","sap/fe/core/controls/filterbar/utils/VisualFilterUtils","sap/fe/core/helpers/ClassSupport","sap/fe/macros/CommonHelper","sap/fe/macros/filter/FilterUtils","sap/m/VBox","sap/ui/core/Core","../../templating/FilterHelper"],function(e,t,r,i,n,a,o,s){"use strict";var l,c,u,g,p,f,_,d,h,E,I;var m=s.getFiltersConditionsFromSelectionVariant;var T=r.property;var R=r.implementInterface;var S=r.event;var L=r.defineUI5Class;function b(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function P(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}function y(e,t){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return y(e,t)}function M(e,t,r,i,n){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function V(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let F=(l=L("sap.fe.core.controls.filterbar.VisualFilter"),c=R("sap.ui.core.IFormContent"),u=T({type:"boolean"}),g=T({type:"string"}),p=S(),l(f=(_=function(r){v(a,r);function a(){var e;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}e=r.call(this,...i)||this;b(e,"__implements__sap_ui_core_IFormContent",d,P(e));b(e,"showValueHelp",h,P(e));b(e,"valueHelpIconSrc",E,P(e));b(e,"valueHelpRequest",I,P(e));return e}var s=a.prototype;s.onAfterRendering=function e(){var r;let a;const s=this.getItems()[1].getItems()[0];const l=this.data("infoPath");const c=s.getBinding("segments")||s.getBinding("bars")||s.getBinding("points");const u=s.getBindingContext("internal");const g=o.getLibraryResourceBundle("sap.fe.macros");const p=s.data("showOverlayInitially");const f=s.data("selectionVariantAnnotation")?i.parseCustomData(s.data("selectionVariantAnnotation")):{SelectOptions:[]};const _=s.data("requiredProperties")?i.parseCustomData(s.data("requiredProperties")):[];const d=s.getModel().getMetaModel();const h=c?c.getPath():"";let E=(r=this.getParent())===null||r===void 0?void 0:r.getParent();if(E.getMetadata().getElementName()==="sap.ui.mdc.filterbar.p13n.AdaptationFilterBar"){var I;E=(I=E.getParent())===null||I===void 0?void 0:I.getParent()}let T={};let R=[];let S;if(E.getMetadata().getElementName()==="sap.fe.core.controls.FilterBar"){T=E.getConditions();R=E.getPropertyInfoSet();S=E.data("entityType").split("/")[1]}const L=s.data("parameters")?s.data("parameters").customData:[];const b=m(h,d,f,t.getCustomConditions.bind(t));const P=t.convertFilterCondions(b);const v={};Object.keys(T).forEach(function(e){if(T[e].length){v[e]=T[e]}});Object.keys(P).forEach(function(e){if(!v[e]){v[e]=P[e]}});if(p==="true"){if(!Object.keys(f).length){if(_.length>1){u.setProperty(l,{showError:true,errorMessageTitle:g.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:g.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_MULTIPLEVF")})}else{a=d.getObject(`${h}/${_[0]}@com.sap.vocabularies.Common.v1.Label`)||_[0];u.setProperty(l,{showError:true,errorMessageTitle:g.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:g.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_SINGLEVF",a)})}}else{const e=[];const t=[];if(f.SelectOptions){f.SelectOptions.forEach(function(t){e.push(t.PropertyName.$PropertyPath)})}if(f.Parameters){f.Parameters.forEach(function(t){e.push(t.PropertyName.$PropertyPath)})}_.forEach(function(r){if(e.indexOf(r)===-1){t.push(r)}});if(t.length>1){u.setProperty(l,{showError:true,errorMessageTitle:g.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:g.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_MULTIPLEVF")})}else{a=d.getObject(`${h}/${t[0]}@com.sap.vocabularies.Common.v1.Label`)||t[0];u.setProperty(l,{showError:true,errorMessageTitle:g.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:g.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_SINGLEVF",a)})}if(t.length>1){u.setProperty(l,{showError:true,errorMessageTitle:g.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:g.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_MULTIPLEVF")})}else{u.setProperty(l,{showError:true,errorMessageTitle:g.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:g.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_SINGLEVF",t[0])})}}}if(!this._oChartBinding||this._oChartBinding!==c){if(this._oChartBinding){this.detachDataReceivedHandler(this._oChartBinding)}this.attachDataRecivedHandler(c);this._oChartBinding=c}const y=u.getProperty(l)&&u.getProperty(l).showError;const M=h!==""?h.split("/")[1].split("(")[0]:"";if(L&&L.length&&S===M){const e=n.getBindingPathForParameters(E,v,R,L);if(e){c.sPath=e}}if(c&&c.isSuspended()&&!y){c.resume()}};s.attachDataRecivedHandler=function e(t){if(t){t.attachEvent("dataReceived",this.onInternalDataReceived,this);this._oChartBinding=t}};s.detachDataReceivedHandler=function e(t){if(t){t.detachEvent("dataReceived",this.onInternalDataReceived,this);this._oChartBinding=undefined}};s.setShowValueHelp=function e(t){if(this.getItems().length>0){const e=this.getItems()[0].getItems()[0];e.getContent().some(function(e){if(e.isA("sap.m.Button")){e.setVisible(t)}});this.setProperty("showValueHelp",t)}};s.setValueHelpIconSrc=function e(t){if(this.getItems().length>0){const e=this.getItems()[0].getItems()[0];e.getContent().some(function(e){if(e.isA("sap.m.Button")){e.setIcon(t)}});this.setProperty("valueHelpIconSrc",t)}};s.onInternalDataReceived=function r(i){const n=this.getId();const a=e.getTargetView(this);const s=this.getItems()[1].getItems()[0];const l=this.data("infoPath");const c=s.getBindingContext("internal");const u=o.getLibraryResourceBundle("sap.fe.macros");const g=s.data("uom");t.updateChartScaleFactorTitle(s,a,n,l);if(i.getParameter("error")){const e=u.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");const r=u.getText("M_VISUAL_FILTERS_ERROR_DATA_TEXT");t.applyErrorMessageAndTitle(e,r,l,a)}else if(i.getParameter("data")){const e=i.getSource().getCurrentContexts();if(e&&e.length===0){t.setNoDataMessage(l,u,a)}else{c.setProperty(l,{})}t.setMultiUOMMessage(e,s,l,u,a)}if(g&&(g["ISOCurrency"]&&g["ISOCurrency"].$Path||g["Unit"]&&g["Unit"].$Path)){const e=i.getSource().getContexts();const r=e&&e[0].getObject();t.applyUOMToTitle(s,r,a,l)}};return a}(a),d=M(_.prototype,"__implements__sap_ui_core_IFormContent",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),h=M(_.prototype,"showValueHelp",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),E=M(_.prototype,"valueHelpIconSrc",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),I=M(_.prototype,"valueHelpRequest",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),_))||f);return F},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/filterbar/VisualFilterContainer", ["sap/fe/core/helpers/ClassSupport","sap/m/FlexBox","sap/m/HeaderContainer","sap/ui/core/library","sap/ui/Device","sap/ui/mdc/filterbar/IFilterContainer"],function(e,t,i,n,r,o){"use strict";var l,a,s,u,c;var f=r.system;var d=e.defineUI5Class;var p=e.aggregation;function h(e,t,i,n){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function F(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;b(e,t)}function b(e,t){b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return b(e,t)}function C(e,t,i,n,r){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o);if(r&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(r):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function m(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let y=(l=d("sap.fe.core.controls.filterbar.VisualFilterContainer"),a=p({type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}),l(s=(u=function(e){v(r,e);function r(){var t;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++){n[r]=arguments[r]}t=e.call(this,...n)||this;h(t,"_layout",c,F(t));return t}var o=r.prototype;o.init=function r(){for(var o=arguments.length,l=new Array(o),a=0;a<o;a++){l[a]=arguments[a]}e.prototype.init.call(this,...l);const s=f,u=n.Orientation,c=s.phone?u.Vertical:undefined,d=s.phone?"ColumnReverse":"Column";this.oHeaderContainer=new i({orientation:c});this.oButtonFlexBox=new t({alignItems:"End",justifyContent:"End"});this.oLayout=new t({direction:d,items:[this.oHeaderContainer,this.oButtonFlexBox]});this.aAllFilterFields=[];this.aVisualFilterFields={}};o.exit=function t(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++){n[r]=arguments[r]}e.prototype.exit.call(this,...n);const o=this.getAllFilterFields();o.forEach(function(e){e.destroy()});this.oHeaderContainer=null;this.oButtonFlexBox=null;this.aAllFilterFields=[]};o.insertFilterField=function e(t,i){const n={onBeforeRendering:function(){if(!t._fnGetContentCopy){t._fnGetContentCopy=t.getContent}t.getContent=function(){const e=[];e.push(t._oFilterField);return e};t.removeEventDelegate(n)}};t.addEventDelegate(n);const r=this.aVisualFilterFields;t.getContent().some(e=>{const n=e.getId();if(r[n]&&e.isA("sap.ui.mdc.FilterField")){e.setContent(r[n]);this.oHeaderContainer.insertContent(t,i)}})};o.removeFilterField=function e(t){this.oHeaderContainer.removeContent(t)};o.removeAllFilterFields=function e(){this.aAllFilterFields=[];this.aVisualFilterFields={};this.oHeaderContainer.removeAllContent()};o.getFilterFields=function e(){return this.oHeaderContainer.getContent()};o.addButton=function e(t){this.oButtonFlexBox.insertItem(t)};o.getAllButtons=function e(){return this.oButtonFlexBox.getItems().reverse()};o.removeButton=function e(t){this.oButtonFlexBox.removeItem(t)};o.getAllFilterFields=function e(){return this.aAllFilterFields.slice()};o.setAllFilterFields=function e(t,i){this.aAllFilterFields=t;this.aVisualFilterFields=i};return r}(o),c=C(u.prototype,"_layout",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||s);return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/filterbar/utils/VisualFilterUtils", ["sap/base/Log","sap/fe/core/templating/FilterHelper","sap/ui/core/format/NumberFormat","sap/ui/mdc/condition/Condition","sap/ui/model/odata/type/DateTimeOffset"],function(e,t,r,n,a){"use strict";var o=t.getTypeCompliantValue;var s=t.getRangeProperty;const i={applyMedianScaleToChartData:function(e,t,r,n){const a=[];const o=e.data("measure");const s=t.getBindingContext("internal");const i=e.getPoints&&e.getPoints()||e.getBars&&e.getBars()||e.getSegments&&e.getSegments();for(let e=0;e<i.length;e++){a.push(i[e].getBindingContext().getObject())}const l=this._getMedianScaleFactor(a,o);if(l&&l.iShortRefNumber&&l.scale){s.setProperty(`scalefactor/${n}`,l.scale);s.setProperty(`scalefactorNumber/${n}`,l.iShortRefNumber)}else{s.setProperty(`scalefactor/${n}`,"");s.setProperty(`scalefactorNumber/${n}`,"");const e=t.byId(`${r}::ScaleUoMTitle`);const a=t.byId(`${r}::MeasureDimensionTitle`);const o=e.getText();if(o===" | "){e.setText("");a.setTooltip(a.getText())}}},_getMedianScaleFactor:function(e,t){let n;let a;e.sort(function(e,r){if(Number(e[t])<Number(r[t])){return-1}if(Number(e[t])>Number(r[t])){return 1}return 0});if(e.length>0){const r=e.length/2,o=r%1===0?(parseFloat(e[r-1][t])+parseFloat(e[r][t]))/2:parseFloat(e[Math.floor(r)][t]),s=o;for(n=0;n<14;n++){a=Math.pow(10,n);if(Math.round(Math.abs(s)/a)<10){break}}}const o=r.getIntegerInstance({style:"short",showScale:false,shortRefNumber:a});for(n=0;n<e.length;n++){const r=e[n],s=o.format(r[t]),i=s.split(".");if(!i[1]&&parseInt(i[0],10)===0||i[1]&&parseInt(i[0],10)===0&&i[1].indexOf("0")===0||s/1e3>=1e3){a=undefined;break}}return{iShortRefNumber:a,scale:a?o.getScale():""}},getFormattedNumber:function(e,t,n,a){let o;e=typeof e==="string"?Number(e.replace(/,/g,"")):e;if(a){const t=r.getCurrencyInstance({showMeasure:false});return t.format(parseFloat(e),a)}else if(t){o=r.getFloatInstance({style:"short",showScale:false,shortRefNumber:t,shortDecimals:n});return o.format(parseFloat(e))}else{o=r.getFloatInstance({decimals:n});return o.format(parseFloat(e))}},applyUOMToTitle:function(e,t,r,n){const a=e.data("uom");let o;let s;if(a&&a["ISOCurrency"]){o=a["ISOCurrency"];s=o.$Path?t[o.$Path]:o}else if(a&&a["Unit"]){o=a["Unit"]}if(o){const e=o.$Path?t[o.$Path]:o;const a=r.getBindingContext("internal");a.setProperty(`uom/${n}`,e);if(s){a.setProperty(`currency/${n}`,e)}}},updateChartScaleFactorTitle:function(e,t,n,a){if(!e.data("scalefactor")){this.applyMedianScaleToChartData(e,t,n,a)}else{const n=r.getIntegerInstance({style:"short",showScale:false,shortRefNumber:e.data("scalefactor")});const o=t.getBindingContext("internal");const s=n.getScale()?n.getScale():"";o.setProperty(`scalefactor/${a}`,s)}},applyErrorMessageAndTitle:function(e,t,r,n){const a=n.getBindingContext("internal");a.setProperty(r,{});a.setProperty(r,{errorMessageTitle:e,errorMessage:t,showError:true})},checkMulitUnit:function(e,t){const r=[];if(e&&t){for(let n=0;n<e.length;n++){const a=e[n]&&e[n].getObject();r.push(a[t])}}return!!r.reduce(function(e,t){return e===t?e:NaN})},setMultiUOMMessage:function(t,r,n,a,o){const s=r.data("uom");const i=s&&s["ISOCurrency"]&&s["ISOCurrency"].$Path;const l=s&&s["Unit"]&&s["Unit"].$Path;const c=i||l;let u,f;if(c){if(!this.checkMulitUnit(t,c)){if(i){u=a.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");f=a.getText("M_VISUAL_FILTERS_MULTIPLE_CURRENCY",c);this.applyErrorMessageAndTitle(u,f,n,o);e.warning(`Filter is set for multiple Currency for${c}`)}else if(l){u=a.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");f=a.getText("M_VISUAL_FILTERS_MULTIPLE_UNIT",c);this.applyErrorMessageAndTitle(u,f,n,o);e.warning(`Filter is set for multiple UOMs for${c}`)}}}},setNoDataMessage:function(e,t,r){const n=t.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");const a=t.getText("M_VISUAL_FILTER_NO_DATA_TEXT");this.applyErrorMessageAndTitle(n,a,e,r)},convertFilterCondions:function(e){const t={};Object.keys(e).forEach(function(r){const a=[];const o=e[r];for(let e=0;e<o.length;e++){const t=o[e].value2?[o[e].value1,o[e].value2]:[o[e].value1];a.push(n.createCondition(o[e].operator,t,null,null,"Validated"))}if(a.length){t[r]=a}});return t},getCustomConditions:function(e,t,r){let n,a;if(t.$Type==="Edm.DateTimeOffset"){n=this._parseDateTime(o(this._formatDateTime(e.Low),t.$Type));a=e.High?this._parseDateTime(o(this._formatDateTime(e.High),t.$Type)):null}else{n=e.Low;a=e.High?e.High:null}return{operator:e.Option?s(e.Option.$EnumMember||e.Option):null,value1:n,value2:a,path:r}},_parseDateTime:function(e){return this._getDateTimeTypeInstance().parseValue(e,"string")},_formatDateTime:function(e){return this._getDateTimeTypeInstance().formatValue(e,"string")},_getDateTimeTypeInstance:function(){return new a({pattern:"yyyy-MM-ddTHH:mm:ssZ",calendarType:"Gregorian"},{V4:true})}};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/massEdit/MassEditHandlers", ["sap/base/Log","sap/fe/core/helpers/ModelHelper","sap/fe/macros/internal/valuehelp/ValueListHelper","sap/ui/core/Core"],function(e,t,n,a){"use strict";const l={contextPropertyChange:function(e,t,n){const s=a.byId(n);const o=s&&s.getBindingContext();const i=s&&s.getModel("fieldsInfo");const u=i.getProperty(`/values/${t}`)||i.getProperty(`/unitData/${t}`)||[];if(o&&(u.inputType==="InputWithValueHelp"||u.inputType==="InputWithUnit")&&!u.valueListInfo){l._setValueListInfo(o,s,i,t)}const r=i&&i.getProperty("/isOpen");if(!r||!s.getVisible()){return}l._updateSelectKey(s,t,e)},handleMDCFieldChange:function(t,n){const a=t&&t.getSource();const s=t&&t.getParameter("promise");const o=a.getContent();if(!o||!n){return}s.then(l._updateSelectKeyForMDCFieldChange.bind(l,a,n)).catch(t=>{e.warning(`VHD selection couldn't be populated in the mass edit field.${t}`)})},handleSelectionChange:function(e){const t=e&&e.getSource();const n=t.getSelectedKey();const a=t&&n&&n.split("/");let s;if(a[0]==="UseValueHelpValue"){const n=e.getParameter("previousSelectedItem");const o=n.getKey();s=a.slice(1).join("/");l._onVHSelect(t,s,o);return}const o=t&&t.getModel("fieldsInfo");s=l._getPropertyNameFromKey(n);l._updateSuggestionForFieldsWithInParameters(o,s,n.startsWith("Default/")||n.startsWith("ClearFieldValue/"),true);l._updateSuggestionForFieldsWithOutParameters(o,s,n.startsWith("Default/")||n.startsWith("ClearFieldValue/"),false);l._updateResults(t,a,true)},_updateSelectKeyForMDCFieldChange:function(e,t,n){const a=e&&e.getBindingContext();const s=e&&e.getModel("fieldsInfo");const o=s.getProperty(`/values/${t}`)||s.getProperty(`/unitData/${t}`)||[];if(a&&(o.inputType==="InputWithValueHelp"||o.inputType==="InputWithUnit")&&!o.valueListInfo){l._setValueListInfo(a,e,s,t)}l._updateSuggestionForFieldsWithOutParameters(s,t,false,true);l._updateSuggestionForFieldsWithInParameters(s,t,false,true);const i=e.getFormFormattedValue();l._updateSelectKey(e,t,n,i)},_updateSuggestionForFieldsWithInParameters:function(e,t,n,a){const s=e.getProperty("/values");const o=e.getProperty("/unitData");const i=Object.keys(s);const u=Object.keys(o);i.forEach(l._updateInParameterSuggetions.bind(l,e,"/values/",t,n,a));u.forEach(l._updateInParameterSuggetions.bind(l,e,"/unitData/",t,n,a))},_updateInParameterSuggetions:function(e,t,n,a,s,o){const i=e.getProperty(`${t+o}/valueListInfo`);if(i&&n!=o){const u=i.inParameters;if(u&&u.length>0&&u.includes(n)){l._updateFieldPathSuggestions(e,t+o,a,s)}}},_updateSuggestionForFieldsWithOutParameters:function(e,t,n,a){const s=e.getProperty(`/values/${t}/valueListInfo`)||e.getProperty(`/unitData/${t}/valueListInfo`);if(s&&s.outParameters){const o=s.outParameters;if(o.length&&o.length>0){l._updateOutParameterSuggetions(o,e,n,a);const s=e.getProperty(`/values/${t}`)&&`/values/${t}`||e.getProperty(`/unitData/${t}`)&&`/unitData/${t}`;if(s){l._updateFieldPathSuggestions(e,s,false,true)}}}},_updateOutParameterSuggetions:function(e,t,n,a){const s=t.getProperty("/values");const o=t.getProperty("/unitData");const i=Object.keys(s);const u=Object.keys(o);e.forEach(e=>{if(i.includes(e)){l._updateFieldPathSuggestions(t,`/values/${e}`,n,a)}else if(u.includes(e)){l._updateFieldPathSuggestions(t,`/unitData/${e}`,n,a)}})},_updateFieldPathSuggestions:function(e,t,n,a){const l=e.getProperty(t);const s=l.defaultOptions;const o=e.getProperty(`${t}/selectedKey`);const i=a&&l.find(e=>e.key===o);if(n){const e=l.selectOptions;l.length=0;s.forEach(e=>l.push(e));e.forEach(e=>l.push(e))}else{l.length=0;s.forEach(e=>l.push(e))}e.setProperty(t,l);if(i&&!l.includes(i)){l.push(i);e.setProperty(`${t}/selectedKey`,o)}},_setValueListInfo:function(e,t,n,a){const s=n.getProperty(`/values/${a}`)&&"/values/"||n.getProperty(`/unitData/${a}`)&&"/unitData/";if(n.getProperty(`${s}${a}/valueListInfo`)){return}const o=n.getProperty(`${s}${a}/valueListInfo`);if(!o){l._requestValueList(e,t,n,a)}},_requestValueList:function(a,s,o,i){var u;const r=t.getMetaPathForContext(a);const d=r&&`${r}/${i}`;const c=s===null||s===void 0?void 0:s.getDependents();const g=s===null||s===void 0?void 0:s.getFieldHelp();const p=c===null||c===void 0?void 0:c.find(e=>e.getId()===g);const f=(u=p.getDelegate())===null||u===void 0?void 0:u.payload;if(!(p!==null&&p!==void 0&&p.getBindingContext())){p===null||p===void 0?void 0:p.setBindingContext(a)}const y=a.getModel().getMetaModel();n.createVHUIModel(p,d,y);const P=n.getValueListInfo(p,d,f);P.then(e=>{const t=e[0];const a=o.getProperty(`/values/${i}`)&&"/values/"||o.getProperty(`/unitData/${i}`)&&"/unitData/";const s={inParameters:t.vhParameters&&n.getInParameters(t.vhParameters).map(e=>e.helpPath),outParameters:t.vhParameters&&n.getOutParameters(t.vhParameters).map(e=>e.helpPath)};o.setProperty(`${a}${i}/valueListInfo`,s);if(s.outParameters.length>0){l._updateFieldPathSuggestions(o,`/values/${i}`,false,true)}}).catch(()=>{e.warning(`Mass Edit: Couldn't load valueList info for ${d}`)})},_getValueHelp:function(e,t){const n=t===null||t===void 0?void 0:t.getDependents();const a=t===null||t===void 0?void 0:t.getFieldHelp();return n===null||n===void 0?void 0:n.find(e=>e.getId()===a)},_onVHSelect:function(e,t,n){const a=e&&e.getModel("fieldsInfo");const s=a.getProperty(`/values/${t}`)&&"/values/"||a.getProperty(`/unitData/${t}`)&&"/unitData/";const o=e.getBindingContext();const i=l._getValueHelp(o,e.getParent());if(!(i!==null&&i!==void 0&&i.getBindingContext())){i===null||i===void 0?void 0:i.setBindingContext(o)}e.fireValueHelpRequest();a.setProperty(`${s+t}/selectedKey`,n)},_getPropertyNameFromKey:function(e){let t="";if(e.startsWith("Default/")||e.startsWith("ClearFieldValue/")||e.startsWith("UseValueHelpValue/")){t=e.substring(e.indexOf("/")+1)}else{t=e.substring(0,e.lastIndexOf("/"))}return t},_updateSelectKey:function(e,t,n,a){const s=e.getContent();if(!s||!t){return}let o=s.getSelectedKey();if((o.startsWith("Default/")||o.startsWith("ClearFieldValue/"))&&!n){return}const i=l._valueExists(a)?a:n;const u=e&&e.getModel("fieldsInfo");const r=u.getProperty(`/values/${t}`)||u.getProperty(`/unitData/${t}`)||[];const d=u.getProperty(`/values/${t}`)&&"/values/"||u.getProperty(`/unitData/${t}`)&&"/unitData/";const c=r.find(e=>{var t;return(e===null||e===void 0?void 0:(t=e.textInfo)===null||t===void 0?void 0:t.value)===n||e.text===n});if(c){if(a&&c.textInfo&&c.textInfo.descriptionPath&&(c.text!=i||c.textInfo.fullText!=i)){c.text=i;c.textInfo.fullText=i;c.textInfo.description=e.getAdditionalValue()}if(c.key===o){u.setProperty(`${d+t}/selectedKey`,o);return}o=c.key}else if([undefined,null,""].indexOf(n)===-1){o=`${t}/${n}`;const a={text:i,key:o,textInfo:{description:e.getAdditionalValue(),descriptionPath:r&&r.textInfo&&r.textInfo.descriptionPath,fullText:i,textArrangement:e.getDisplay(),value:e.getValue(),valuePath:t}};r.push(a);r.selectOptions=r.selectOptions||[];r.selectOptions.push(a);u.setProperty(d+t,r)}else{o=`Default/${t}`}u.setProperty(`${d+t}/selectedKey`,o);l._updateResults(s)},_getValue:function(e){var t;return e.getMetadata().getName()==="sap.fe.core.controls.MassEditSelect"?(t=e.getSelectedItem())===null||t===void 0?void 0:t.getText():e.getValue()},_getValueOnEmpty:function(e,t,n,a){if(!n){const l=t.getProperty(`/values/${a}`)||t.getProperty(`/unitData/${a}`)||[];if(l.unitProperty){n=0;e.setValue(n)}else if(l.inputType==="CheckBox"){n=false}}return n},_valueExists:function(e){return e!=undefined&&e!=null},_updateResults:function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let n=arguments.length>2?arguments[2]:undefined;const a=e&&e.getModel("fieldsInfo");const s=a&&a.getData();let o=l._getValue(e);t=t.length>0?t:e&&e.getSelectedKey()&&e.getSelectedKey().split("/");let i;const u=e.data("fieldPath");const r=e.data("propertyFullyQualifiedName");if(t[0]==="Default"){i={keyValue:t[1],propertyFullyQualifiedName:r,value:t[0]}}else if(t[0]==="ClearFieldValue"){o="";o=l._getValueOnEmpty(e,a,o,u);i={keyValue:t[1],propertyFullyQualifiedName:r,value:o}}else if(!t){o=l._getValueOnEmpty(e,a,o,u);i={keyValue:u,propertyFullyQualifiedName:r,value:o}}else{const e=t.slice(0,-1).join("/");const n=a.getProperty(`/values/${e}`)||a.getProperty(`/unitData/${e}`)||[];const s=(n||[]).find(function(e){var t;return(e===null||e===void 0?void 0:(t=e.textInfo)===null||t===void 0?void 0:t.value)===o||e.text===o});i={keyValue:e,propertyFullyQualifiedName:r,value:s.textInfo&&l._valueExists(s.textInfo.value)?s.textInfo.value:s.text}}let d=-1;for(let e=0;e<s.results.length;e++){if(s.results[e].keyValue===i.keyValue){d=e}}if(d!==-1){s.results[d]=i}else{s.results.push(i)}if(n&&!i.keyValue.includes("/")){const n=e.getBindingContext();if(t[0]==="Default"||t[0]==="ClearFieldValue"){n.setProperty(i.keyValue,null)}else if(i){n.setProperty(i.keyValue,i.value)}}}};return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/ConverterContext", ["sap/fe/core/converters/ManifestWrapper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper"],function(t,e,n,i){"use strict";var a=i.getTargetObjectPath;var r=i.getContextRelativeTargetObjectPath;var o=i.enhanceDataModelPath;var s=n.isServiceObject;var u=e.getInvolvedDataModelObjectFromPath;var h=e.convertTypes;const l=function(t){return typeof t==="object"};const c=function(t,e){let n;let i;let a;let r;let o=[];const u=[];t.objectPath.forEach(t=>{var e;if(s(t)){switch(t._type){case"NavigationProperty":o.push(t.name);u.push(t);r=t.targetType;if(a&&a.navigationPropertyBinding.hasOwnProperty(o.join("/"))){i=a.navigationPropertyBinding[o.join("/")];a=i;o=[]}else{i=undefined}break;case"EntitySet":if(n===undefined){n=t}i=t;a=i;r=(e=i)===null||e===void 0?void 0:e.entityType;break;default:break}}});const h={startingEntitySet:n,targetEntityType:r,targetEntitySet:i,navigationProperties:u,contextLocation:undefined,targetObject:t.target,convertedTypes:e};h.contextLocation=h;return h};let f=function(){function e(e,n,i,r,o){this.convertedTypes=e;this.manifestSettings=n;this.diagnostics=i;this.mergeFn=r;this.targetDataModelPath=o;this.manifestWrapper=new t(this.manifestSettings,r);this.baseContextPath=a(this.targetDataModelPath)}var n=e.prototype;n._getEntityTypeFromFullyQualifiedName=function t(e){return this.convertedTypes.entityTypes.find(t=>{if(e.startsWith(t.fullyQualifiedName)){const n=e.replace(t.fullyQualifiedName,"");return n.startsWith("/")||n.startsWith("@")}return false})};n.getAnnotationEntityType=function t(e){if(e){const t=e.fullyQualifiedName;const n=this._getEntityTypeFromFullyQualifiedName(t);if(!n){throw new Error(`Cannot find Entity Type for ${e.fullyQualifiedName}`)}return n}else{return this.targetDataModelPath.targetEntityType}};n.getManifestControlConfiguration=function t(e){if(l(e)){return this.manifestWrapper.getControlConfiguration(e.fullyQualifiedName.replace(this.targetDataModelPath.targetEntityType.fullyQualifiedName,""))}const n=this.manifestWrapper.hasMultipleEntitySets()&&this.baseContextPath!==`/${this.manifestWrapper.getEntitySet()}`?`${this.baseContextPath}/${e}`:e;return this.manifestWrapper.getControlConfiguration(n)};n.getAbsoluteAnnotationPath=function t(e){if(!e){return e}if(e[0]==="/"){return e}return`${this.baseContextPath}/${e}`};n.getEntitySet=function t(){return this.targetDataModelPath.targetEntitySet};n.getContextPath=function t(){return this.baseContextPath};n.getDataModelObjectPath=function t(){return this.targetDataModelPath};n.getEntityContainer=function t(){return this.convertedTypes.entityContainer};n.getEntityType=function t(){return this.targetDataModelPath.targetEntityType};n.getParameterEntityType=function t(){var e,n;const i=this.targetDataModelPath.startingEntitySet.entityType;const a=!!((e=i.annotations)!==null&&e!==void 0&&(n=e.Common)!==null&&n!==void 0&&n.ResultContext);return a&&i};n.getEntityTypeAnnotation=function t(n){if(!n.includes("@")){throw new Error(`Not an annotation path: '${n}'`)}const i=n.startsWith("/");let a;if(i){a=n}else{const t=this.getContextPath().split("@",1)[0];a=t.endsWith("/")?t+n:`${t}/${n}`}const r=this.resolveAbsolutePath(a);const o=u({target:r.target,visitedObjects:r.objectPath},this.convertedTypes,i?undefined:this.targetDataModelPath.contextLocation,true);return{annotation:r.target,converterContext:new e(this.convertedTypes,this.manifestSettings,this.diagnostics,this.mergeFn,o)}};n.getTemplateType=function t(){return this.manifestWrapper.getTemplateType()};n.getConvertedTypes=function t(){return this.convertedTypes};n.getRelativeAnnotationPath=function t(e,n){return e.replace(n.fullyQualifiedName,"")};n.getEntitySetBasedAnnotationPath=function t(e){if(!e){return e}const n=this.targetDataModelPath.targetEntityType.fullyQualifiedName;if(this.targetDataModelPath.targetEntitySet||(this.baseContextPath.startsWith("/")&&this.baseContextPath.match(/\//g)||[]).length>1){let t=e.replace(n,"/");if(t.length>2&&t[0]==="/"&&t[1]==="/"){t=t.substr(1)}return this.baseContextPath+(t.startsWith("/")?t:`/${t}`)}else{return`/${e}`}};n.getManifestWrapper=function t(){return this.manifestWrapper};n.getDiagnostics=function t(){return this.diagnostics};n.resolveAbsolutePath=function t(e){return this.convertedTypes.resolvePath(e)};n.getConverterContextFor=function t(n){const i=this.convertedTypes.resolvePath(n);const a=c(i,this.convertedTypes);return new e(this.convertedTypes,this.manifestSettings,this.diagnostics,this.mergeFn,a)};n.getAnnotationsByTerm=function t(e,n){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[this.getEntityType()];let a=[];i.forEach(t=>{if(t){const i=(t===null||t===void 0?void 0:t.annotations[e])||{};if(i){a=Object.keys(i).filter(t=>i[t].term===n).reduce((t,e)=>{t.push(i[e]);return t},a)}}});return a};n.getRelativeModelPathFunction=function t(){const e=this.targetDataModelPath;return function(t){const n=o(e,t);return r(n,true)}};e.createConverterContextForMacro=function t(n,i,a,r,o){let s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{};const u=i.isA("sap.ui.model.odata.v4.ODataMetaModel")?i:i.getModel();const l=h(u);let c=l.entitySets.find(t=>t.name===n);if(!c){c=l.singletons.find(t=>t.name===n)}if(!o||c!==o.startingEntitySet){o={startingEntitySet:c,navigationProperties:[],targetEntitySet:c,targetEntityType:c.entityType,targetObject:c,convertedTypes:l}}return new e(l,s,a,r,o)};return e}();return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/ManifestSettings", [],function(){"use strict";var e={};let t;(function(e){e["ListReport"]="ListReport";e["ObjectPage"]="ObjectPage";e["AnalyticalListPage"]="AnalyticalListPage"})(t||(t={}));e.TemplateType=t;let n;(function(e){e["DataFieldForAction"]="ForAction";e["DataFieldForIntentBasedNavigation"]="ForNavigation";e["Default"]="Default";e["Primary"]="Primary";e["Secondary"]="Secondary";e["SwitchToActiveObject"]="SwitchToActiveObject";e["SwitchToDraftObject"]="SwitchToDraftObject";e["DraftActions"]="DraftActions";e["CollaborationAvatars"]="CollaborationAvatars";e["DefaultApply"]="DefaultApply";e["Menu"]="Menu";e["ShowFormDetails"]="ShowFormDetails";e["Copy"]="Copy"})(n||(n={}));e.ActionType=n;let o;(function(e){e["Auto"]="Auto";e["None"]="None";e["Multi"]="Multi";e["Single"]="Single"})(o||(o={}));e.SelectionMode=o;let i;(function(e){e["Page"]="Page";e["Control"]="Control";e["None"]="None"})(i||(i={}));e.VariantManagementType=i;let a;(function(e){e["NewPage"]="NewPage";e["Inline"]="Inline";e["CreationRow"]="CreationRow";e["InlineCreationRows"]="InlineCreationRows";e["External"]="External"})(a||(a={}));e.CreationMode=a;let l;(function(e){e["Table"]="Table";e["Chart"]="Chart"})(l||(l={}));e.VisualizationType=l;let r;(function(e){e["High"]="High";e["Medium"]="Medium";e["Low"]="Low";e["None"]="None"})(r||(r={}));e.Importance=r;let c;(function(e){e["End"]="End";e["Begin"]="Begin";e["Center"]="Center"})(c||(c={}));e.HorizontalAlign=c;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/ManifestWrapper", ["sap/fe/core/converters/ManifestSettings","sap/ui/Device"],function(t,n){"use strict";var i=n.system;var e=t.VariantManagementType;function o(t,n){const i=t===null||t===void 0?void 0:t[n];if(Array.isArray(i)){i.forEach(t=>o(t,"annotationPath"))}else if(i&&!i.includes("@")){t[n]="@"+i}}let s=function(){function t(t,n){var i;this.oManifestSettings=t;this.mergeFn=n;o(this.oManifestSettings,"defaultTemplateAnnotationPath");(i=this.oManifestSettings.views)===null||i===void 0?void 0:i.paths.forEach(t=>{o(t,"annotationPath");o(t,"primary");o(t,"secondary")});if(this.oManifestSettings.controlConfiguration){for(const t of Object.values(this.oManifestSettings.controlConfiguration)){var e;const n=(e=t.tableSettings)===null||e===void 0?void 0:e.quickVariantSelection;o(n,"paths")}}}var s=t.prototype;s.getTemplateType=function t(){return this.oManifestSettings.converterType};s.isFilterBarHidden=function t(){var n;return!!((n=this.oManifestSettings)!==null&&n!==void 0&&n.hideFilterBar)};s.useHiddenFilterBar=function t(){var n;return!!((n=this.oManifestSettings)!==null&&n!==void 0&&n.useHiddenFilterBar)};s.isDesktop=function t(){return!!this.oManifestSettings.isDesktop};s.isPhone=function t(){return!!this.oManifestSettings.isPhone};s.getFormContainer=function t(n){var i;return(i=this.oManifestSettings.controlConfiguration)===null||i===void 0?void 0:i[n]};s.getHeaderFacets=function t(){var n,i,e,o;return this.mergeFn({},(n=this.oManifestSettings.controlConfiguration)===null||n===void 0?void 0:(i=n["@com.sap.vocabularies.UI.v1.HeaderFacets"])===null||i===void 0?void 0:i.facets,(e=this.oManifestSettings.content)===null||e===void 0?void 0:(o=e.header)===null||o===void 0?void 0:o.facets)};s.getHeaderActions=function t(){var n,i;return((n=this.oManifestSettings.content)===null||n===void 0?void 0:(i=n.header)===null||i===void 0?void 0:i.actions)||{}};s.getFooterActions=function t(){var n,i;return((n=this.oManifestSettings.content)===null||n===void 0?void 0:(i=n.footer)===null||i===void 0?void 0:i.actions)||{}};s.getVariantManagement=function t(){return this.oManifestSettings.variantManagement||e.None};s.getDefaultTemplateAnnotationPath=function t(){return this.oManifestSettings.defaultTemplateAnnotationPath};s.getControlConfiguration=function t(n){var i,e;return((i=this.oManifestSettings)===null||i===void 0?void 0:(e=i.controlConfiguration)===null||e===void 0?void 0:e[n])||{}};s.getNavigationConfiguration=function t(n){var i,e;return((i=this.oManifestSettings)===null||i===void 0?void 0:(e=i.navigation)===null||e===void 0?void 0:e[n])||{}};s.getViewLevel=function t(){var n;return((n=this.oManifestSettings)===null||n===void 0?void 0:n.viewLevel)||-1};s.getContentDensities=function t(){var n;return((n=this.oManifestSettings)===null||n===void 0?void 0:n.contentDensities)||{cozy:false,compact:false}};s.isFclEnabled=function t(){var n;return!!((n=this.oManifestSettings)!==null&&n!==void 0&&n.fclEnabled)};s.isCondensedLayoutCompliant=function t(){var e,o;const s=((e=this.oManifestSettings)===null||e===void 0?void 0:e.contentDensities)||{cozy:false,compact:false};const a=((o=this.oManifestSettings)===null||o===void 0?void 0:o.shellContentDensity)||"compact";let t=true;const r=!i.desktop||n.resize.width<=320;if((s===null||s===void 0?void 0:s.cozy)===true&&(s===null||s===void 0?void 0:s.compact)!==true||a==="cozy"||r){t=false}return t};s.isCompactType=function t(){var n;const i=this.getContentDensities();const e=((n=this.oManifestSettings)===null||n===void 0?void 0:n.shellContentDensity)||"compact";return i.compact!==false||e==="compact"?true:false};s.getSectionLayout=function t(){return this.oManifestSettings.sectionLayout};s.getSections=function t(){var n,i,e,o;return this.mergeFn({},(n=this.oManifestSettings.controlConfiguration)===null||n===void 0?void 0:(i=n["@com.sap.vocabularies.UI.v1.Facets"])===null||i===void 0?void 0:i.sections,(e=this.oManifestSettings.content)===null||e===void 0?void 0:(o=e.body)===null||o===void 0?void 0:o.sections)};s.isHeaderEditable=function t(){return this.getShowObjectPageHeader()&&this.oManifestSettings.editableHeaderContent};s.getShowAnchorBar=function t(){var n,i,e,o;return((n=this.oManifestSettings.content)===null||n===void 0?void 0:(i=n.header)===null||i===void 0?void 0:i.anchorBarVisible)!==undefined?!!((e=this.oManifestSettings.content)!==null&&e!==void 0&&(o=e.header)!==null&&o!==void 0&&o.anchorBarVisible):true};s.useIconTabBar=function t(){return this.getShowAnchorBar()&&this.oManifestSettings.sectionLayout==="Tabs"};s.getShowObjectPageHeader=function t(){var n,i,e,o;return((n=this.oManifestSettings.content)===null||n===void 0?void 0:(i=n.header)===null||i===void 0?void 0:i.visible)!==undefined?!!((e=this.oManifestSettings.content)!==null&&e!==void 0&&(o=e.header)!==null&&o!==void 0&&o.visible):true};s.getEnableLazyLoading=function t(){return this.oManifestSettings.enableLazyLoading??false};s.getViewConfiguration=function t(){return this.oManifestSettings.views};s.getStickyMultiTabHeaderConfiguration=function t(){const n=this.oManifestSettings.stickyMultiTabHeader;return n!==undefined?n:true};s.getKPIConfiguration=function t(){return this.oManifestSettings.keyPerformanceIndicators||{}};s.getFilterConfiguration=function t(){return this.getControlConfiguration("@com.sap.vocabularies.UI.v1.SelectionFields")};s.hasMultipleEntitySets=function t(){const n=this.getViewConfiguration()||{paths:[]};const i=this.oManifestSettings.entitySet;return n.paths.find(t=>{var n;if((n=t)!==null&&n!==void 0&&n.template){return undefined}else if(this.hasMultipleVisualizations(t)){const{primary:n,secondary:e}=t;return n.some(t=>t.entitySet&&t.entitySet!==i)||e.some(t=>t.entitySet&&t.entitySet!==i)}else{t=t;return t.entitySet&&t.entitySet!==i}})!==undefined};s.getContextPath=function t(){var n;return(n=this.oManifestSettings)===null||n===void 0?void 0:n.contextPath};s.hasMultipleVisualizations=function t(n){var i,e;if(!n){const t=this.getViewConfiguration()||{paths:[]};return t.paths.some(t=>{var n,i;return((n=t.primary)===null||n===void 0?void 0:n.length)>0&&((i=t.secondary)===null||i===void 0?void 0:i.length)>0})}return((i=n.primary)===null||i===void 0?void 0:i.length)>0&&((e=n.secondary)===null||e===void 0?void 0:e.length)>0};s.getEntitySet=function t(){return this.oManifestSettings.entitySet};return t}();return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/MetaModelConverter", ["sap/fe/core/converters/common/AnnotationConverter","sap/fe/core/helpers/TypeGuards","../helpers/StableIdHelper"],function(e,t,n){"use strict";var i={};var o=n.prepareId;var a=t.isSingleton;var r=t.isServiceObject;var l=t.isNavigationProperty;var s=t.isEntityType;var p=t.isEntitySet;var y=t.isEntityContainer;const c={"Org.OData.Capabilities.V1":"Capabilities","Org.OData.Core.V1":"Core","Org.OData.Measures.V1":"Measures","com.sap.vocabularies.Common.v1":"Common","com.sap.vocabularies.UI.v1":"UI","com.sap.vocabularies.Session.v1":"Session","com.sap.vocabularies.Analytics.v1":"Analytics","com.sap.vocabularies.PersonalData.v1":"PersonalData","com.sap.vocabularies.Communication.v1":"Communication"};const f={Chart:true,MicroChart:true,UShell:true,IntentBasedNavigation:true,AppState:true};i.DefaultEnvironmentCapabilities=f;function u(e,t,n,i,o){let a;const r=`${n}/${t}`;const l=typeof e;if(e===null){a={type:"Null",Null:null}}else if(l==="string"){a={type:"String",String:e}}else if(l==="boolean"){a={type:"Bool",Bool:e}}else if(l==="number"){a={type:"Int",Int:e}}else if(Array.isArray(e)){a={type:"Collection",Collection:e.map((e,t)=>d(e,`${r}/${t}`,i,o))};if(e.length>0){if(e[0].hasOwnProperty("$PropertyPath")){a.Collection.type="PropertyPath"}else if(e[0].hasOwnProperty("$Path")){a.Collection.type="Path"}else if(e[0].hasOwnProperty("$NavigationPropertyPath")){a.Collection.type="NavigationPropertyPath"}else if(e[0].hasOwnProperty("$AnnotationPath")){a.Collection.type="AnnotationPath"}else if(e[0].hasOwnProperty("$Type")){a.Collection.type="Record"}else if(e[0].hasOwnProperty("$If")){a.Collection.type="If"}else if(e[0].hasOwnProperty("$Or")){a.Collection.type="Or"}else if(e[0].hasOwnProperty("$And")){a.Collection.type="And"}else if(e[0].hasOwnProperty("$Eq")){a.Collection.type="Eq"}else if(e[0].hasOwnProperty("$Ne")){a.Collection.type="Ne"}else if(e[0].hasOwnProperty("$Not")){a.Collection.type="Not"}else if(e[0].hasOwnProperty("$Gt")){a.Collection.type="Gt"}else if(e[0].hasOwnProperty("$Ge")){a.Collection.type="Ge"}else if(e[0].hasOwnProperty("$Lt")){a.Collection.type="Lt"}else if(e[0].hasOwnProperty("$Le")){a.Collection.type="Le"}else if(e[0].hasOwnProperty("$Apply")){a.Collection.type="Apply"}else if(typeof e[0]==="object"){a.Collection.type="Record"}else{a.Collection.type="String"}}}else if(e.$Path!==undefined){a={type:"Path",Path:e.$Path}}else if(e.$Decimal!==undefined){a={type:"Decimal",Decimal:parseFloat(e.$Decimal)}}else if(e.$PropertyPath!==undefined){a={type:"PropertyPath",PropertyPath:e.$PropertyPath}}else if(e.$NavigationPropertyPath!==undefined){a={type:"NavigationPropertyPath",NavigationPropertyPath:e.$NavigationPropertyPath}}else if(e.$If!==undefined){a={type:"If",If:e.$If}}else if(e.$And!==undefined){a={type:"And",And:e.$And}}else if(e.$Or!==undefined){a={type:"Or",Or:e.$Or}}else if(e.$Not!==undefined){a={type:"Not",Not:e.$Not}}else if(e.$Eq!==undefined){a={type:"Eq",Eq:e.$Eq}}else if(e.$Ne!==undefined){a={type:"Ne",Ne:e.$Ne}}else if(e.$Gt!==undefined){a={type:"Gt",Gt:e.$Gt}}else if(e.$Ge!==undefined){a={type:"Ge",Ge:e.$Ge}}else if(e.$Lt!==undefined){a={type:"Lt",Lt:e.$Lt}}else if(e.$Le!==undefined){a={type:"Le",Le:e.$Le}}else if(e.$Apply!==undefined){a={type:"Apply",Apply:e.$Apply,Function:e.$Function}}else if(e.$AnnotationPath!==undefined){a={type:"AnnotationPath",AnnotationPath:e.$AnnotationPath}}else if(e.$EnumMember!==undefined){a={type:"EnumMember",EnumMember:`${$(e.$EnumMember.split("/")[0])}/${e.$EnumMember.split("/")[1]}`}}else{a={type:"Record",Record:d(e,n,i,o)}}return{name:t,value:a}}function $(e){let[t,n]=e.split("@");if(!n){n=t;t=""}else{t+="@"}const i=n.lastIndexOf(".");return`${t+c[n.substr(0,i)]}.${n.substr(i+1)}`}function d(e,t,n,i){let o={};const a=typeof e;if(e===null){o={type:"Null",Null:null}}else if(a==="string"){o={type:"String",String:e}}else if(a==="boolean"){o={type:"Bool",Bool:e}}else if(a==="number"){o={type:"Int",Int:e}}else if(e.$AnnotationPath!==undefined){o={type:"AnnotationPath",AnnotationPath:e.$AnnotationPath}}else if(e.$Path!==undefined){o={type:"Path",Path:e.$Path}}else if(e.$Decimal!==undefined){o={type:"Decimal",Decimal:parseFloat(e.$Decimal)}}else if(e.$PropertyPath!==undefined){o={type:"PropertyPath",PropertyPath:e.$PropertyPath}}else if(e.$If!==undefined){o={type:"If",If:e.$If}}else if(e.$And!==undefined){o={type:"And",And:e.$And}}else if(e.$Or!==undefined){o={type:"Or",Or:e.$Or}}else if(e.$Not!==undefined){o={type:"Not",Not:e.$Not}}else if(e.$Eq!==undefined){o={type:"Eq",Eq:e.$Eq}}else if(e.$Ne!==undefined){o={type:"Ne",Ne:e.$Ne}}else if(e.$Gt!==undefined){o={type:"Gt",Gt:e.$Gt}}else if(e.$Ge!==undefined){o={type:"Ge",Ge:e.$Ge}}else if(e.$Lt!==undefined){o={type:"Lt",Lt:e.$Lt}}else if(e.$Le!==undefined){o={type:"Le",Le:e.$Le}}else if(e.$Apply!==undefined){o={type:"Apply",Apply:e.$Apply,Function:e.$Function}}else if(e.$NavigationPropertyPath!==undefined){o={type:"NavigationPropertyPath",NavigationPropertyPath:e.$NavigationPropertyPath}}else if(e.$EnumMember!==undefined){o={type:"EnumMember",EnumMember:`${$(e.$EnumMember.split("/")[0])}/${e.$EnumMember.split("/")[1]}`}}else if(Array.isArray(e)){const a=o;a.collection=e.map((e,o)=>d(e,`${t}/${o}`,n,i));if(e.length>0){if(e[0].hasOwnProperty("$PropertyPath")){a.collection.type="PropertyPath"}else if(e[0].hasOwnProperty("$Path")){a.collection.type="Path"}else if(e[0].hasOwnProperty("$NavigationPropertyPath")){a.collection.type="NavigationPropertyPath"}else if(e[0].hasOwnProperty("$AnnotationPath")){a.collection.type="AnnotationPath"}else if(e[0].hasOwnProperty("$Type")){a.collection.type="Record"}else if(e[0].hasOwnProperty("$If")){a.collection.type="If"}else if(e[0].hasOwnProperty("$And")){a.collection.type="And"}else if(e[0].hasOwnProperty("$Or")){a.collection.type="Or"}else if(e[0].hasOwnProperty("$Eq")){a.collection.type="Eq"}else if(e[0].hasOwnProperty("$Ne")){a.collection.type="Ne"}else if(e[0].hasOwnProperty("$Not")){a.collection.type="Not"}else if(e[0].hasOwnProperty("$Gt")){a.collection.type="Gt"}else if(e[0].hasOwnProperty("$Ge")){a.collection.type="Ge"}else if(e[0].hasOwnProperty("$Lt")){a.collection.type="Lt"}else if(e[0].hasOwnProperty("$Le")){a.collection.type="Le"}else if(e[0].hasOwnProperty("$Apply")){a.collection.type="Apply"}else if(typeof e[0]==="object"){a.collection.type="Record"}else{a.collection.type="String"}}}else{if(e.$Type){const t=e.$Type;o.type=t}const a=[];Object.keys(e).forEach(o=>{if(o!=="$Type"&&o!=="$If"&&o!=="$Apply"&&o!=="$And"&&o!=="$Or"&&o!=="$Ne"&&o!=="$Gt"&&o!=="$Ge"&&o!=="$Lt"&&o!=="$Le"&&o!=="$Not"&&o!=="$Eq"&&!o.startsWith("@")){a.push(u(e[o],o,t,n,i))}else if(o.startsWith("@")){N({[o]:e[o]},t,n,i)}});o.propertyValues=a}return o}function h(e,t){if(!t.hasOwnProperty(e)){t[e]={target:e,annotations:[]}}return t[e]}function P(e){const t=e.ID??e.Target.$AnnotationPath;return t?o(t):t}function m(e){return e.filter(e=>{if(e.Target&&e.Target.$AnnotationPath){return e.Target.$AnnotationPath.indexOf(`@${"com.sap.vocabularies.UI.v1.Chart"}`)===-1}else{return true}})}function v(e){return e.filter(e=>e.$Type!=="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")}function g(e){return e.filter(e=>e.$AnnotationPath!==`@${"com.sap.vocabularies.UI.v1.Chart"}`)}function N(e,t,n,i){if(Object.keys(e).length===0){return}const o=h(t,n);if(!i.MicroChart){delete e[`@${"com.sap.vocabularies.UI.v1.Chart"}`]}for(let a in e){let r=e[a];switch(a){case`@${"com.sap.vocabularies.UI.v1.HeaderFacets"}`:if(!i.MicroChart){r=m(r);e[a]=r}break;case`@${"com.sap.vocabularies.UI.v1.Identification"}`:if(!i.IntentBasedNavigation){r=v(r);e[a]=r}break;case`@${"com.sap.vocabularies.UI.v1.LineItem"}`:if(!i.IntentBasedNavigation){r=v(r);e[a]=r}if(!i.MicroChart){r=m(r);e[a]=r}break;case`@${"com.sap.vocabularies.UI.v1.FieldGroup"}`:if(!i.IntentBasedNavigation){r.Data=v(r.Data);e[a]=r}if(!i.MicroChart){r.Data=m(r.Data);e[a]=r}break;case`@${"com.sap.vocabularies.UI.v1.PresentationVariant"}`:if(!i.Chart&&r.Visualizations){r.Visualizations=g(r.Visualizations);e[a]=r}break;default:break}let l=o;const s=a.split("@");if(s.length>2){l=h(`${t}@${s[1]}`,n);a=s[2]}else{a=s[1]}const p=a.split("#");const y=p[1];a=p[0];const c={term:a,qualifier:y};let f=`${t}@${c.term}`;if(y){f+=`#${y}`}let P=false;const O=typeof r;if(r===null){c.value={type:"Null"}}else if(O==="string"){c.value={type:"String",String:r}}else if(O==="boolean"){c.value={type:"Bool",Bool:r}}else if(O==="number"){c.value={type:"Int",Int:r}}else if(r.$If!==undefined){c.value={type:"If",If:r.$If}}else if(r.$And!==undefined){c.value={type:"And",And:r.$And}}else if(r.$Or!==undefined){c.value={type:"Or",Or:r.$Or}}else if(r.$Not!==undefined){c.value={type:"Not",Not:r.$Not}}else if(r.$Eq!==undefined){c.value={type:"Eq",Eq:r.$Eq}}else if(r.$Ne!==undefined){c.value={type:"Ne",Ne:r.$Ne}}else if(r.$Gt!==undefined){c.value={type:"Gt",Gt:r.$Gt}}else if(r.$Ge!==undefined){c.value={type:"Ge",Ge:r.$Ge}}else if(r.$Lt!==undefined){c.value={type:"Lt",Lt:r.$Lt}}else if(r.$Le!==undefined){c.value={type:"Le",Le:r.$Le}}else if(r.$Apply!==undefined){c.value={type:"Apply",Apply:r.$Apply,Function:r.$Function}}else if(r.$Path!==undefined){c.value={type:"Path",Path:r.$Path}}else if(r.$AnnotationPath!==undefined){c.value={type:"AnnotationPath",AnnotationPath:r.$AnnotationPath}}else if(r.$Decimal!==undefined){c.value={type:"Decimal",Decimal:parseFloat(r.$Decimal)}}else if(r.$EnumMember!==undefined){c.value={type:"EnumMember",EnumMember:`${$(r.$EnumMember.split("/")[0])}/${r.$EnumMember.split("/")[1]}`}}else if(Array.isArray(r)){P=true;c.collection=r.map((e,t)=>d(e,`${f}/${t}`,n,i));if(r.length>0){if(r[0].hasOwnProperty("$PropertyPath")){c.collection.type="PropertyPath"}else if(r[0].hasOwnProperty("$Path")){c.collection.type="Path"}else if(r[0].hasOwnProperty("$NavigationPropertyPath")){c.collection.type="NavigationPropertyPath"}else if(r[0].hasOwnProperty("$AnnotationPath")){c.collection.type="AnnotationPath"}else if(r[0].hasOwnProperty("$Type")){c.collection.type="Record"}else if(r[0].hasOwnProperty("$If")){c.collection.type="If"}else if(r[0].hasOwnProperty("$Or")){c.collection.type="Or"}else if(r[0].hasOwnProperty("$Eq")){c.collection.type="Eq"}else if(r[0].hasOwnProperty("$Ne")){c.collection.type="Ne"}else if(r[0].hasOwnProperty("$Not")){c.collection.type="Not"}else if(r[0].hasOwnProperty("$Gt")){c.collection.type="Gt"}else if(r[0].hasOwnProperty("$Ge")){c.collection.type="Ge"}else if(r[0].hasOwnProperty("$Lt")){c.collection.type="Lt"}else if(r[0].hasOwnProperty("$Le")){c.collection.type="Le"}else if(r[0].hasOwnProperty("$And")){c.collection.type="And"}else if(r[0].hasOwnProperty("$Apply")){c.collection.type="Apply"}else if(typeof r[0]==="object"){c.collection.type="Record"}else{c.collection.type="String"}}}else{const e={propertyValues:[]};if(r.$Type){const t=r.$Type;e.type=`${t}`}const t=[];for(const e in r){if(e!=="$Type"&&!e.startsWith("@")){t.push(u(r[e],e,f,n,i))}else if(e.startsWith("@")){N({[e]:r[e]},f,n,i)}}e.propertyValues=t;c.record=e}c.isCollection=P;l.annotations.push(c)}}function O(e,t,n){return{_type:"Property",name:n,fullyQualifiedName:`${t.fullyQualifiedName}/${n}`,type:e.$Type,maxLength:e.$MaxLength,precision:e.$Precision,scale:e.$Scale,nullable:e.$Nullable}}function b(e,t,n){let i=[];if(e.$ReferentialConstraint){i=Object.keys(e.$ReferentialConstraint).map(n=>({sourceTypeName:t.name,sourceProperty:n,targetTypeName:e.$Type,targetProperty:e.$ReferentialConstraint[n]}))}const o={_type:"NavigationProperty",name:n,fullyQualifiedName:`${t.fullyQualifiedName}/${n}`,partner:e.$Partner,isCollection:e.$isCollection?e.$isCollection:false,containsTarget:e.$ContainsTarget,targetTypeName:e.$Type,referentialConstraint:i};return o}function A(e,t,n){const i={_type:"EntitySet",name:t,navigationPropertyBinding:{},entityTypeName:e.$Type,fullyQualifiedName:`${n}/${t}`};return i}function T(e,t,n){return{_type:"Singleton",name:t,navigationPropertyBinding:{},entityTypeName:e.$Type,fullyQualifiedName:`${n}/${t}`,nullable:true}}function C(e,t,n){return{_type:"ActionImport",name:t,fullyQualifiedName:`${n}/${t}`,actionName:e.$Action}}function w(e,t,n){const i={_type:"TypeDefinition",name:t.substring(n.length),fullyQualifiedName:t,underlyingType:e.$UnderlyingType};return i}function I(e,t,n){const i={_type:"ComplexType",name:t.substring(n.length),fullyQualifiedName:t,properties:[],navigationProperties:[]};const o=Object.keys(e).filter(t=>{if(t!="$Key"&&t!="$kind"){return e[t].$kind==="Property"}}).sort((e,t)=>e>t?1:-1).map(t=>O(e[t],i,t));i.properties=o;const a=Object.keys(e).filter(t=>{if(t!="$Key"&&t!="$kind"){return e[t].$kind==="NavigationProperty"}}).sort((e,t)=>e>t?1:-1).map(t=>b(e[t],i,t));i.navigationProperties=a;return i}function E(e,t){if(!e.$Key&&e.$BaseType){return E(t[e.$BaseType],t)}return e.$Key??[]}function L(e,t,n,i){var o,a;const r={_type:"EntityType",name:t.substring(n.length),fullyQualifiedName:t,keys:[],entityProperties:[],navigationProperties:[],actions:{}};for(const t in e){const n=e[t];switch(n.$kind){case"Property":const e=O(n,r,t);r.entityProperties.push(e);break;case"NavigationProperty":const i=b(n,r,t);r.navigationProperties.push(i);break}}r.keys=E(e,i).map(e=>r.entityProperties.find(t=>t.name===e)).filter(e=>e!==undefined);(o=i.$Annotations[r.fullyQualifiedName])===null||o===void 0?void 0:(a=o[`@${"com.sap.vocabularies.UI.v1.FilterFacets"}`])===null||a===void 0?void 0:a.forEach(e=>{e.ID=P(e)});for(const e of r.entityProperties){if(!i.$Annotations[e.fullyQualifiedName]){i.$Annotations[e.fullyQualifiedName]={}}if(!i.$Annotations[e.fullyQualifiedName][`@${"com.sap.vocabularies.UI.v1.DataFieldDefault"}`]){i.$Annotations[e.fullyQualifiedName][`@${"com.sap.vocabularies.UI.v1.DataFieldDefault"}`]={$Type:"com.sap.vocabularies.UI.v1.DataField",Value:{$Path:e.name}}}}return r}function G(e,t,n){var i;let o="";let a=e;if(t.$IsBound){const n=t.$Parameter[0];o=n.$Type;if(n.$isCollection===true){a=`${e}(Collection(${o}))`}else{a=`${e}(${o})`}}const r=t.$Parameter??[];return{_type:"Action",name:e.substring(n.length),fullyQualifiedName:a,isBound:t.$IsBound??false,isFunction:t.$kind==="Function",sourceType:o,returnType:((i=t.$ReturnType)===null||i===void 0?void 0:i.$Type)??"",parameters:r.map(e=>({_type:"ActionParameter",fullyQualifiedName:`${a}/${e.$Name}`,isCollection:e.$isCollection??false,name:e.$Name,type:e.$Type}))}}function D(e,t,n,i){i.entityContainer={_type:"EntityContainer",name:t.substring(e.length),fullyQualifiedName:t};for(const e in n){const o=n[e];switch(o.$kind){case"EntitySet":i.entitySets.push(A(o,e,t));break;case"Singleton":i.singletons.push(T(o,e,t));break;case"ActionImport":i.actionImports.push(C(o,e,t));break}}for(const e of i.entitySets){const t=n[e.name].$NavigationPropertyBinding;if(t){for(const n of Object.keys(t)){const o=i.entitySets.find(e=>e.name===t[n]);if(o){e.navigationPropertyBinding[n]=o}}}}}function M(e,t){const n={};for(const i in e){N(e[i],i,n,t)}return Object.values(n)}function k(e){const t=Object.keys(e).find(t=>e[t].$kind==="Schema")??"";const n={namespace:t.slice(0,-1),entityContainer:{_type:"EntityContainer",name:"",fullyQualifiedName:""},entitySets:[],entityTypes:[],complexTypes:[],typeDefinitions:[],singletons:[],associations:[],associationSets:[],actions:[],actionImports:[],annotations:{}};const i=(i,o)=>{switch(o.$kind){case"EntityContainer":D(t,i,o,n);break;case"Action":case"Function":n.actions.push(G(i,o,t));break;case"EntityType":n.entityTypes.push(L(o,i,t,e));break;case"ComplexType":n.complexTypes.push(I(o,i,t));break;case"TypeDefinition":n.typeDefinitions.push(w(o,i,t));break}};for(const t in e){const n=e[t];if(Array.isArray(n)){for(const e of n){i(t,e)}}else{i(t,n)}}return n}function S(t){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:f;const i={identification:"metamodelResult",version:"4.0",references:[]};e.lazy(i,"schema",()=>{const i=t.getObject("/$");const o=k(i);e.lazy(o.annotations,"metamodelResult",()=>M(i.$Annotations,n));return o});return i}i.parseMetaModel=S;const j={};function B(t,n){const i=t.id;if(!j.hasOwnProperty(i)){const o=S(t,n);try{j[i]=e.convert(o)}catch(e){throw new Error(e)}}return j[i]}i.convertTypes=B;function F(e){const t=e.getModel();if(!t.isA("sap.ui.model.odata.v4.ODataMetaModel")){throw new Error("This should only be called on a ODataMetaModel")}return B(t)}i.getConvertedTypes=F;function Q(e){delete j[e.id]}i.deleteModelCacheData=Q;function q(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const n=B(e.getModel());const i=e.getPath();const o=i.split("/");let a=o[1];let r=2;if(n.entityContainer.fullyQualifiedName===a){a=o[2];r++}let l=n.entitySets.find(e=>e.name===a);if(!l){l=n.singletons.find(e=>e.name===a)}let s=o.slice(r).join("/");const p=[l];while(s&&s.length>0&&s.startsWith("$NavigationPropertyBinding")){var y;let e=s.split("/");let t=0;let n,i;e=e.slice(1);while(!n&&e.length>t){if(e[t]!=="$NavigationPropertyBinding"){i=e.slice(0,t+1).join("/").replace("/$NavigationPropertyBinding","");n=l&&l.navigationPropertyBinding[i]}t++}if(!n){i=e[0]}const o=((y=i)===null||y===void 0?void 0:y.split("/"))||[];let a=l&&l.entityType;for(const e of o){const t=a&&a.navigationProperties.find(t=>t.name===e);if(t){p.push(t);a=t.targetType}else{break}}l=l&&n||l&&l.navigationPropertyBinding[e[0]];if(l){p.push(l)}e=e.slice(o.length||1);if(e.length&&e[0]==="$"){e.shift()}s=e.join("/")}if(s.startsWith("$Type")){if(s.startsWith("$Type@")){s=s.replace("$Type","")}else{s=o.slice(3).join("/")}}if(l&&s.length){const e=l.entityType.resolvePath(s,t);if(e){if(t){e.visitedObjects=p.concat(e.visitedObjects)}}else if(l.entityType&&l.entityType.actions){const e=l.entityType&&l.entityType.actions;const t=s.split("/");if(e[t[0]]){const n=e[t[0]];if(t[1]&&n.parameters){const e=t[1];return n.parameters.find(t=>t.fullyQualifiedName.endsWith(`/${e}`))}else if(s.length===1){return n}}}return e}else{if(t){return{target:l,visitedObjects:p}}return l}}i.convertMetaModelContext=q;function U(e,t){const n=B(e.getModel());const i=q(e,true);let o;if(t&&t.getPath()!=="/"){o=U(t)}return R(i,n,o)}i.getInvolvedDataModelObjects=U;function R(e,t,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const o=e.visitedObjects.filter(e=>r(e)&&!s(e)&&!y(e));if(r(e.target)&&!s(e.target)&&o[o.length-1]!==e.target&&!i){o.push(e.target)}const c=[];const f=o[0];let u=f;let $=f.entityType;let d;let h=[];for(let e=1;e<o.length;e++){d=o[e];if(l(d)){var P;h.push(d.name);c.push(d);$=d.targetType;const e=(P=u)===null||P===void 0?void 0:P.navigationPropertyBinding[h.join("/")];if(e!==undefined){u=e;h=[]}}if(p(d)||a(d)){u=d;$=u.entityType}}if(h.length>0){u=undefined}if(n&&n.startingEntitySet!==f){const e=o.indexOf(n.startingEntitySet);if(e!==-1){const t=o.slice(0,e);n.startingEntitySet=f;n.navigationProperties=t.filter(l).concat(n.navigationProperties)}}const m={startingEntitySet:f,targetEntitySet:u,targetEntityType:$,targetObject:e.target,navigationProperties:c,contextLocation:n,convertedTypes:t};if(!r(m.targetObject)&&i){m.targetObject=r(d)?d:undefined}if(!m.contextLocation){m.contextLocation=m}return m}i.getInvolvedDataModelObjectFromPath=R;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/TemplateConverter", ["sap/base/util/merge","sap/fe/core/converters/helpers/IssueManager","./ConverterContext","./ManifestSettings","./MetaModelConverter","./templates/ListReportConverter","./templates/ObjectPageConverter"],function(e,t,o,n,i,a,s){"use strict";var l={};var v=i.getInvolvedDataModelObjects;var c=i.convertTypes;var d=n.TemplateType;var r=t.IssueSeverity;var u=t.IssueCategoryType;var f=t.IssueCategory;function g(e,t,o,n){e.forEach(e=>{let i=`For entity set ${o}`;if((e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.UI.v1.CollectionFacet"&&!(e!==null&&e!==void 0&&e.ID)){var a;i=`${i}, `+`level ${n}, the collection facet does not have an ID.`;t.addIssue(f.Facets,r.High,i,u,u===null||u===void 0?void 0:(a=u.Facets)===null||a===void 0?void 0:a.MissingID)}if((e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.UI.v1.CollectionFacet"&&n>=3){var s;i=`${i}, collection facet ${e.Label} is not supported at `+`level ${n}`;t.addIssue(f.Facets,r.Medium,i,u,u===null||u===void 0?void 0:(s=u.Facets)===null||s===void 0?void 0:s.UnSupportedLevel)}if(e!==null&&e!==void 0&&e.Facets){g(e===null||e===void 0?void 0:e.Facets,t,o,++n);n=n-1}})}function p(t,n,i,l,u,p,I){var y;const h=c(n,p);h.diagnostics.forEach(e=>{const t=l.checkIfIssueExists(f.Annotation,r.High,e.message);if(!t){l.addIssue(f.Annotation,r.High,e.message)}});h===null||h===void 0?void 0:(y=h.entityTypes)===null||y===void 0?void 0:y.forEach(e=>{var t,o;if(e!==null&&e!==void 0&&(t=e.annotations)!==null&&t!==void 0&&(o=t.UI)!==null&&o!==void 0&&o.Facets){var n,i;g(e===null||e===void 0?void 0:(n=e.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:i.Facets,l,e===null||e===void 0?void 0:e.name,1)}});const F=i.entitySet;const m=(i===null||i===void 0?void 0:i.contextPath)||(u==="/"?u+F:u);const C=n.createBindingContext(m);const b=v(C);if(b){let n={};const v=new o(h,i,l,e,b);switch(t){case d.ListReport:case d.AnalyticalListPage:n=a.convertPage(v);break;case d.ObjectPage:n=s.convertPage(v);break}if(I!==null&&I!==void 0&&I.extendPageDefinition){n=I.extendPageDefinition(n,v)}return n}return undefined}l.convertPage=p;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/annotations/DataField", ["sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/PropertyHelper","../helpers/DataFieldHelper"],function(e,t,a,i){"use strict";var o={};var n=i.isReferencePropertyStaticallyHidden;var l=a.getAssociatedUnitProperty;var r=a.getAssociatedTimezoneProperty;var d=a.getAssociatedCurrencyProperty;var v=t.getDisplayMode;var s=e.isProperty;var u=e.isPathAnnotationExpression;function c(e){return e.hasOwnProperty("Action")}o.isDataFieldForActionAbstract=c;function p(e){return e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"}o.isDataFieldForAnnotation=p;function f(e){return e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"}o.isDataFieldForAction=f;function g(e){return e.hasOwnProperty("Value")}o.isDataFieldTypes=g;function m(e){const t=e.targetObject;return $(f(t)?t:undefined)}o.isDataModelObjectPathForActionWithDialog=m;function $(e){const t=e===null||e===void 0?void 0:e.ActionTarget;if(t){var a,i;const e=(a=t.annotations)===null||a===void 0?void 0:(i=a.Common)===null||i===void 0?void 0:i.IsActionCritical;if(t.parameters.length>1||e){return"Dialog"}else{return"None"}}else{return"None"}}o.isActionWithDialog=$;function D(e){let t;if(s(e)){var a,i,o,n,l,r,d,v,c,p;t=((a=e.annotations)===null||a===void 0?void 0:(i=a.UI)===null||i===void 0?void 0:(o=i.DataFieldDefault)===null||o===void 0?void 0:(n=o.Target)===null||n===void 0?void 0:(l=n.$target)===null||l===void 0?void 0:l.TargetValue)??((r=e.annotations)===null||r===void 0?void 0:(d=r.UI)===null||d===void 0?void 0:(v=d.DataFieldDefault)===null||v===void 0?void 0:(c=v.Target)===null||c===void 0?void 0:(p=c.$target)===null||p===void 0?void 0:p.MaximumValue)}else{t=e.TargetValue??e.MaximumValue}if(typeof t==="number"){return t.toString()}return u(t)?t:"100"}o.getTargetValueOnDataPoint=D;const T=function(e){var t,a,i,o,n;return((t=e.annotations)===null||t===void 0?void 0:(a=t.UI)===null||a===void 0?void 0:(i=a.DataFieldDefault)===null||i===void 0?void 0:(o=i.Target)===null||o===void 0?void 0:(n=o.$target)===null||n===void 0?void 0:n.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"};o.isDataPointFromDataFieldDefault=T;function y(e,t){if(typeof t==="object"){var a;if(g(t)&&(a=t.Value)!==null&&a!==void 0&&a.$target){var i,o,n;const a=(i=t.Value)===null||i===void 0?void 0:i.$target;if((a===null||a===void 0?void 0:(o=a.annotations)===null||o===void 0?void 0:(n=o.Common)===null||n===void 0?void 0:n.SemanticObject)!==undefined){return e.getEntitySetBasedAnnotationPath(a===null||a===void 0?void 0:a.fullyQualifiedName)}}else if(s(t)){var l,r;if((t===null||t===void 0?void 0:(l=t.annotations)===null||l===void 0?void 0:(r=l.Common)===null||r===void 0?void 0:r.SemanticObject)!==undefined){return e.getEntitySetBasedAnnotationPath(t===null||t===void 0?void 0:t.fullyQualifiedName)}}}return undefined}o.getSemanticObjectPath=y;function b(e){return e.indexOf("/")>-1?e.substring(0,e.lastIndexOf("/")+1):""}function h(e,t,a,i){if(a==="AnalyticalTable"){var o,n;const a=(o=e.annotations)===null||o===void 0?void 0:(n=o.UI)===null||n===void 0?void 0:n.Hidden;if(a!==null&&a!==void 0&&a.path&&s(a.$target)){const e=t+a.path;i.additionalProperties[e]=a.$target}const l=e.Criticality;if(l!==null&&l!==void 0&&l.path&&s(l===null||l===void 0?void 0:l.$target)){const e=t+l.path;i.additionalProperties[e]=l===null||l===void 0?void 0:l.$target}}return i}function F(e,t,a,i,o){let n=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{properties:{},additionalProperties:{},textOnlyPropertiesFromTextAnnotation:[]};let u=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;let c=arguments.length>7&&arguments[7]!==undefined?arguments[7]:false;function p(e,t){if(!n.properties.hasOwnProperty(e)){n.properties[e]=t}return Object.keys(n.properties).indexOf(e)}function f(e){n.exportSettingsTemplate=n.exportSettingsTemplate?`${n.exportSettingsTemplate}${e}`:`${e}`}if(e&&t){var g,m;let G;let H;let R;let Q;let q;if(c){G=p(e,t);f(`{${G}}`);return n}const J=b(e);const K=(g=t.annotations)===null||g===void 0?void 0:(m=g.Common)===null||m===void 0?void 0:m.Text;if(n.exportSettingsTemplate){f("\n");n.exportSettingsWrapping=true}if(K!==null&&K!==void 0&&K.path&&K!==null&&K!==void 0&&K.$target){const i=a.getDataModelObjectPath();const o=J+K.path;const l=v(t,i);let r;switch(l){case"Value":G=p(e,t);f(`{${G}}`);break;case"Description":r=p(o,K.$target);f(`{${r}}`);n.textOnlyPropertiesFromTextAnnotation.push(o);break;case"ValueDescription":G=p(e,t);r=p(o,K.$target);f(`{${G}} ({${r}})`);break;case"DescriptionValue":G=p(e,t);r=p(o,K.$target);f(`{${r}} ({${G}})`);break}}else{var $,T,y,F,I,U,P,A,x,O,V,k,C,S,N;const a=d(t)||l(t);const o=(t===null||t===void 0?void 0:($=t.annotations)===null||$===void 0?void 0:(T=$.Measures)===null||T===void 0?void 0:T.ISOCurrency)||(t===null||t===void 0?void 0:(y=t.annotations)===null||y===void 0?void 0:(F=y.Measures)===null||F===void 0?void 0:F.Unit);const v=r(t);const c=t===null||t===void 0?void 0:(I=t.annotations)===null||I===void 0?void 0:(U=I.Common)===null||U===void 0?void 0:U.Timezone;if(a&&o!==null&&o!==void 0&&o.$target){G=p(e,t);R=p(J+o.path,o.$target);if(u){f(`{${G}}  {${R}}`)}else{n.exportUnitName=J+o.path}}else if(v&&c!==null&&c!==void 0&&c.$target){G=p(e,t);Q=p(J+c.path,c.$target);if(u){f(`{${G}}  {${Q}}`)}else{n.exportTimezoneName=J+c.path}}else if(((P=t.Target)===null||P===void 0?void 0:(A=P.$target)===null||A===void 0?void 0:A.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"&&!((x=t.Target)!==null&&x!==void 0&&(O=x.$target)!==null&&O!==void 0&&O.ValueFormat)||((V=t.annotations)===null||V===void 0?void 0:(k=V.UI)===null||k===void 0?void 0:(C=k.DataFieldDefault)===null||C===void 0?void 0:(S=C.Target)===null||S===void 0?void 0:(N=S.$target)===null||N===void 0?void 0:N.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"){var W,j,M,w,B;const a=(W=t.Target)===null||W===void 0?void 0:(j=W.$target)===null||j===void 0?void 0:j.Value.$target;const i=(M=t.Target)===null||M===void 0?void 0:M.$target;const o=(w=t.annotations)===null||w===void 0?void 0:(B=w.UI)===null||B===void 0?void 0:B.DataFieldDefault;G=p(J?J+e:e,o?t:a);H=D(o?t:i);if(s(H.$target)){H=H;q=p(J?J+H.$target.name:H.$target.name,H.$target);f(`{${G}}/{${q}}`)}else{n.exportDataPointTargetValue=H;f(`{${G}}/${H}`)}}else if(t.$Type==="com.sap.vocabularies.Communication.v1.ContactType"){var E,z;const e=(E=t.fn)===null||E===void 0?void 0:E.$target;const a=(z=t.fn)===null||z===void 0?void 0:z.path;G=p(J?J+a:a,e);f(`{${G}}`)}else if(!i){G=p(e,t);f(`{${G}}`);if(o){n.exportUnitString=`${o}`}else if(c){n.exportTimezoneString=`${c}`}}}n=h(t,J,o,n);if(Object.keys(n.additionalProperties).length>0&&Object.keys(n.properties).length===0){G=p(e,t);f(`{${G}}`)}}return n}o.collectRelatedProperties=F;function I(e,t,a){var i,o,l;let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{properties:{},additionalProperties:{},textOnlyPropertiesFromTextAnnotation:[]};let d=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;let v=false;switch(e===null||e===void 0?void 0:e.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":if(e.Value){var s,u,c;const i=e.Value;v=n((s=i.$target)===null||s===void 0?void 0:(u=s.annotations)===null||u===void 0?void 0:(c=u.UI)===null||c===void 0?void 0:c.DataFieldDefault)||n(e)||false;r=F(i.path,i.$target,t,false,a,r,d,v);const o=b(i.path);r=h(e,o,a,r)}break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":switch((i=e.Target)===null||i===void 0?void 0:(o=i.$target)===null||o===void 0?void 0:o.$Type){case"com.sap.vocabularies.UI.v1.FieldGroupType":(l=e.Target.$target.Data)===null||l===void 0?void 0:l.forEach(e=>{r=I(e,t,a,r,true)});break;case"com.sap.vocabularies.UI.v1.DataPointType":v=n(e)??false;r=F(e.Target.$target.Value.path,e,t,false,a,r,d,v);break;case"com.sap.vocabularies.Communication.v1.ContactType":const i=e.Target.$target;v=n(e)??false;r=F(e.Target.value,i,t,v,a,r,d,v);break;default:break}break;default:break}return r}o.collectRelatedPropertiesRecursively=I;const U=function(e){var t,a,i,o;if(s(e)){return e.type}let n;switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForActionGroup":case"com.sap.vocabularies.UI.v1.DataFieldWithActionGroup":case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":n=undefined;break;case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":n=e===null||e===void 0?void 0:(t=e.Value)===null||t===void 0?void 0:(a=t.$target)===null||a===void 0?void 0:a.type;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":default:const s=(i=e.Target)===null||i===void 0?void 0:(o=i.$target)===null||o===void 0?void 0:o.$Type;if(s){var l;const t=(l=e.Target)===null||l===void 0?void 0:l.$target;if(t.$Type==="com.sap.vocabularies.Communication.v1.ContactType"){var r,d;n=u(t===null||t===void 0?void 0:t.fn)&&(t===null||t===void 0?void 0:(r=t.fn)===null||r===void 0?void 0:(d=r.$target)===null||d===void 0?void 0:d.type)||undefined}else if(t.$Type==="com.sap.vocabularies.UI.v1.DataPointType"){var v,c,p;n=(t===null||t===void 0?void 0:(v=t.Value)===null||v===void 0?void 0:(c=v.$Path)===null||c===void 0?void 0:c.$Type)||(t===null||t===void 0?void 0:(p=t.Value)===null||p===void 0?void 0:p.$target.type)}else{var f;n=((f=e.Target)===null||f===void 0?void 0:f.$target.$Type)==="com.sap.vocabularies.UI.v1.ChartDefinitionType"?undefined:"Edm.Boolean"}}else{n=undefined}break}return n};o.getDataFieldDataType=U;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/common/AnnotationConverter", [],function(){var e;(function(){"use strict";var a={232:function(e,a,t){Object.defineProperty(a,"__esModule",{value:true});a.convert=void 0;const o=t(534);const r=Symbol("Annotation Target");function i(e,a){if(e[e.length-1]!==a){e.push(a)}return e}function n(e,a,t,s){var l,u,p,m;if(t.startsWith("/")){t=t.substring(1);a=undefined}const v=t.split("/").reduce((e,a)=>{if(a.includes("@")){const[t,r]=(0,o.splitAtFirst)(a,"@");e.push(t);e.push(`@${r}`)}else{e.push(a)}return e},[]);if(a===undefined){if(v[0].startsWith(e.rawSchema.namespace)&&v[0]!==((l=e.getConvertedEntityContainer())===null||l===void 0?void 0:l.fullyQualifiedName)){a=(p=(u=e.getConvertedEntityType(v[0]))!==null&&u!==void 0?u:e.getConvertedComplexType(v[0]))!==null&&p!==void 0?p:e.getConvertedAction(v[0]);v.shift()}else{a=e.getConvertedEntityContainer()}}else if(a[r]!==undefined){a=a[r]}else if(a._type==="Property"){const t=(0,o.substringBeforeFirst)(a.fullyQualifiedName,"/");a=(m=e.getConvertedEntityType(t))!==null&&m!==void 0?m:e.getConvertedComplexType(t)}const g=v.reduce((a,t)=>{var o,s,l,c,u;const p=e=>{a.messages.push({message:e});a.target=undefined;return a};if(a.target===undefined){return a}a.objectPath=i(a.objectPath,a.target);if(t.startsWith("@")&&t!=="@$ui5.overload"){const[r,i]=e.splitTerm(t);const n=(o=a.target.annotations[r.substring(1)])===null||o===void 0?void 0:o[i];if(n!==undefined){a.target=n;return a}return p(`Annotation '${t.substring(1)}' not found on ${a.target._type} '${a.target.fullyQualifiedName}'`)}if(a.target.$target){let o;if(t==="$AnnotationPath"){o=a.target.value}else if(t==="$Path"){o=a.target.path}if(o!==undefined){const t=n(e,a.target[r],o);t.objectPath.forEach(e=>{if(!a.objectPath.includes(e)){a.objectPath=i(a.objectPath,e)}});a.target=t.target;a.objectPath=i(a.objectPath,a.target);return a}}switch((s=a.target)===null||s===void 0?void 0:s._type){case"Schema":break;case"EntityContainer":{const e=a.target;if(t===""||t===e.fullyQualifiedName){return a}const o=(c=(l=e.entitySets.by_name(t))!==null&&l!==void 0?l:e.singletons.by_name(t))!==null&&c!==void 0?c:e.actionImports.by_name(t);if(o){a.target=o;return a}}break;case"EntitySet":case"Singleton":{const o=a.target;if(t===""||t==="$Type"){a.target=o.entityType;return a}if(t==="$"){return a}if(t==="$NavigationPropertyBinding"){const e=o.navigationPropertyBinding;a.target=e;return a}const r=n(e,o.entityType,t);a.target=r.target;a.objectPath=r.objectPath.reduce(i,a.objectPath);return a}case"EntityType":{const e=a.target;if(t===""||t==="$Type"){return a}const o=e.entityProperties.by_name(t);if(o){a.target=o;return a}const r=e.navigationProperties.by_name(t);if(r){a.target=r;return a}const i=e.actions[t];if(i){a.target=i;return a}}break;case"ActionImport":{const o=n(e,a.target.action,t);a.target=o.target;a.objectPath=o.objectPath.reduce(i,a.objectPath);return a}case"Action":{const e=a.target;if(t===""){return a}if(t==="@$ui5.overload"||t==="0"){return a}if(t==="$Parameter"&&e.isBound){a.target=e.parameters;return a}const o=(u=e.parameters[t])!==null&&u!==void 0?u:e.parameters.find(e=>e.name===t);if(o){a.target=o;return a}break}case"Property":{const e=a.target;const o=e.targetType;if(o!==undefined){const e=o.properties.by_name(t);if(e){a.target=e;return a}const r=o.navigationProperties.by_name(t);if(r){a.target=r;return a}}}break;case"ActionParameter":const o=a.target.typeReference;if(o!==undefined){const r=n(e,o,t);a.target=r.target;a.objectPath=r.objectPath.reduce(i,a.objectPath);return a}break;case"NavigationProperty":const r=n(e,a.target.targetType,t);a.target=r.target;a.objectPath=r.objectPath.reduce(i,a.objectPath);return a;default:if(t===""){return a}if(a.target[t]){a.target=a.target[t];a.objectPath=i(a.objectPath,a.target);return a}}return p(`Element '${t}' not found at ${a.target._type} '${a.target.fullyQualifiedName}'`)},{target:a,objectPath:[],messages:[]});g.messages.forEach(a=>e.logError(a.message));if(!g.target){if(s){const o=c(e,s,a.fullyQualifiedName);e.logError("Unable to resolve the path expression: "+"\n"+t+"\n"+"\n"+"Hint: Check and correct the path values under the following structure in the metadata (annotation.xml file or CDS annotations for the application): \n\n"+"<Annotation Term = "+s+">"+"\n"+"<Record Type = "+o+">"+"\n"+"<AnnotationPath = "+t+">")}else{e.logError("Unable to resolve the path expression: "+t+"\n"+"\n"+"Hint: Check and correct the path values under the following structure in the metadata (annotation.xml file or CDS annotations for the application): \n\n"+"<Annotation Term = "+v[0]+">"+"\n"+"<PropertyValue  Path= "+v[1]+">")}}return g}function s(e){return e.includes("@")}function l(e,a,t,i,l,c,u){if(c===undefined){return undefined}switch(c.type){case"String":return c.String;case"Int":return c.Int;case"Bool":return c.Bool;case"Decimal":return(0,o.Decimal)(c.Decimal);case"Date":return c.Date;case"EnumMember":const p=e.alias(c.EnumMember);const v=p.split(" ");if(v[0]&&o.EnumIsFlag[(0,o.substringBeforeFirst)(v[0],"/")]){return v}return p;case"PropertyPath":return{type:"PropertyPath",value:c.PropertyPath,fullyQualifiedName:u,$target:n(e,a,c.PropertyPath,t).target,[r]:a};case"NavigationPropertyPath":return{type:"NavigationPropertyPath",value:c.NavigationPropertyPath,fullyQualifiedName:u,$target:n(e,a,c.NavigationPropertyPath,t).target,[r]:a};case"AnnotationPath":return{type:"AnnotationPath",value:c.AnnotationPath,fullyQualifiedName:u,$target:n(e,a,e.unalias(c.AnnotationPath),t).target,annotationsTerm:t,term:"",path:"",[r]:a};case"Path":const y=n(e,a,c.Path,t).target;if(s(c.Path)){return y}else{return{type:"Path",path:c.Path,fullyQualifiedName:u,$target:y,[r]:a}}case"Record":return m(e,t,a,i,l,c.Record,u);case"Collection":return g(e,a,t,i,l,c.Collection,u);case"Apply":case"Null":case"Not":case"Eq":case"Ne":case"Gt":case"Ge":case"Lt":case"Le":case"If":case"And":case"Or":default:return c}}function c(e,a,t,r){let i=o.TermToTypes[a];if(r){a=`${(0,o.substringBeforeLast)(a,".")}.${r}`;i=o.TermToTypes[a]}e.logError(`The type of the record used within the term ${a} was not defined and was inferred as ${i}.\nHint: If possible, try to maintain the Type property for each Record.\n<Annotations Target="${t}">\n\t<Annotation Term="${a}">\n\t\t<Record>...</Record>\n\t</Annotation>\n</Annotations>`);return i}function u(e){return e.hasOwnProperty("Action")&&(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction")}function p(e,a,t,o,r){let i;if(!r.type&&a){i=c(e,a,t.fullyQualifiedName,o)}else{i=e.unalias(r.type)}return i}function m(e,a,t,i,n,s,c){var m;const v={$Type:p(e,a,t,i,s),fullyQualifiedName:c,[r]:t};(0,o.lazy)(v,"annotations",()=>{var a;let o;if(s.annotations&&s.annotations.length>0){o=s.annotations}else{o=(a=e.rawAnnotationsPerTarget[c])===null||a===void 0?void 0:a.annotations}o===null||o===void 0?void 0:o.forEach(e=>{e.target=c;e.__source=n;e[r]=t;e.fullyQualifiedName=`${c}@${e.term}`});return V(e,v,o!==null&&o!==void 0?o:[])});const g=(m=s.propertyValues)===null||m===void 0?void 0:m.reduce((r,i)=>{(0,o.lazy)(r,i.name,()=>l(e,t,a,i.name,n,i.value,`${c}/${i.name}`));return r},v);if(u(g)){(0,o.lazy)(g,"ActionTarget",()=>{var a,o;let r=(a=t.actions)===null||a===void 0?void 0:a[g.Action];if(!r){r=(o=e.getConvertedActionImport(g.Action))===null||o===void 0?void 0:o.action}if(!r){r=e.getConvertedAction(g.Action);if(!(r===null||r===void 0?void 0:r.isBound)){r=undefined}}if(!r){e.logError(`Unable to resolve the action '${g.Action}' defined for '${v.fullyQualifiedName}'`)}return r})}return g}function v(e){let a=e.type;if(a===undefined&&e.length>0){const t=e[0];if(t.hasOwnProperty("PropertyPath")){a="PropertyPath"}else if(t.hasOwnProperty("Path")){a="Path"}else if(t.hasOwnProperty("AnnotationPath")){a="AnnotationPath"}else if(t.hasOwnProperty("NavigationPropertyPath")){a="NavigationPropertyPath"}else if(typeof t==="object"&&(t.hasOwnProperty("type")||t.hasOwnProperty("propertyValues"))){a="Record"}else if(typeof t==="string"){a="String"}}else if(a===undefined){a="EmptyCollection"}return a}function g(e,a,t,r,i,s,l){const c=v(s);switch(c){case"PropertyPath":return s.map((r,i)=>{const s={type:"PropertyPath",value:r.PropertyPath,fullyQualifiedName:`${l}/${i}`};(0,o.lazy)(s,"$target",()=>{var o;return(o=n(e,a,r.PropertyPath,t).target)!==null&&o!==void 0?o:{}});return s});case"Path":return s.map(o=>n(e,a,o.Path,t).target);case"AnnotationPath":return s.map((r,i)=>{const s={type:"AnnotationPath",value:r.AnnotationPath,fullyQualifiedName:`${l}/${i}`,annotationsTerm:t,term:"",path:""};(0,o.lazy)(s,"$target",()=>n(e,a,r.AnnotationPath,t).target);return s});case"NavigationPropertyPath":return s.map((r,i)=>{var s;const c=(s=r.NavigationPropertyPath)!==null&&s!==void 0?s:"";const u={type:"NavigationPropertyPath",value:c,fullyQualifiedName:`${l}/${i}`};if(c===""){u.$target=undefined}else{(0,o.lazy)(u,"$target",()=>n(e,a,c,t).target)}return u});case"Record":return s.map((o,n)=>m(e,t,a,r,i,o,`${l}/${n}`));case"Apply":case"Null":case"If":case"Eq":case"Ne":case"Lt":case"Gt":case"Le":case"Ge":case"Not":case"And":case"Or":return s.map(e=>e);case"String":return s.map(e=>{if(typeof e==="string"||e===undefined){return e}else{return e.String}});default:if(s.length===0){return[]}throw new Error("Unsupported case")}}function y(e){return!!e.targetTypeName}function d(e,a){return(0,o.splitAtLast)((0,o.alias)(e,a),".")}function O(e,a,t){var i;let n;if(t.record){n=m(e,t.term,a,"",t.__source,t.record,t.fullyQualifiedName)}else if(t.collection===undefined){n=l(e,a,t.term,"",t.__source,(i=t.value)!==null&&i!==void 0?i:{type:"Bool",Bool:true},t.fullyQualifiedName)}else if(t.collection){n=g(e,a,t.term,"",t.__source,t.collection,t.fullyQualifiedName)}else{throw new Error("Unsupported case")}switch(typeof n){case"string":n=new String(n);break;case"boolean":n=new Boolean(n);break;case"number":n=new Number(n);break;default:break}n.fullyQualifiedName=t.fullyQualifiedName;n[r]=a;const[s,c]=e.splitTerm(t.term);n.term=e.unalias(`${s}.${c}`);n.qualifier=t.qualifier;n.__source=t.__source;try{(0,o.lazy)(n,"annotations",()=>{var o;const i=n.fullyQualifiedName;let s;if(t.annotations&&t.annotations.length>0){s=t.annotations}else{s=(o=e.rawAnnotationsPerTarget[i])===null||o===void 0?void 0:o.annotations}s===null||s===void 0?void 0:s.forEach(e=>{e.target=i;e.__source=n.__source;e[r]=a;e.fullyQualifiedName=`${i}@${e.term}`});return V(e,n,s!==null&&s!==void 0?s:[])})}catch(e){}return n}function f(e,a,t){const r=`${e}@${(0,o.unalias)(a,t.term)}`;if(t.qualifier){return`${r}#${t.qualifier}`}else{return r}}function C(e){const a={};Object.keys(e.schema.annotations).forEach(t=>{e.schema.annotations[t].forEach(r=>{const i=(0,o.unalias)(e.references,r.target);r.__source=t;if(!a[i]){a[i]={annotations:r.annotations.map(a=>{a.fullyQualifiedName=f(i,e.references,a);a.__source=t;return a}),target:i};a[i].__source=t}else{r.annotations.forEach(o=>{const r=a[i].annotations.findIndex(e=>e.term===o.term&&e.qualifier===o.qualifier);o.__source=t;o.fullyQualifiedName=f(i,e.references,o);if(r!==-1){a[i].annotations.splice(r,1,o)}else{a[i].annotations.push(o)}})}})});return a}class b{get rawAnnotationsPerTarget(){if(this._rawAnnotationsPerTarget===undefined){this._rawAnnotationsPerTarget=C(this.rawMetadata)}return this._rawAnnotationsPerTarget}getConvertedEntityContainer(){return this.getConvertedElement(this.rawMetadata.schema.entityContainer.fullyQualifiedName,this.rawMetadata.schema.entityContainer,P)}getConvertedEntitySet(e){return this.convertedOutput.entitySets.by_fullyQualifiedName(e)}getConvertedSingleton(e){return this.convertedOutput.singletons.by_fullyQualifiedName(e)}getConvertedEntityType(e){return this.convertedOutput.entityTypes.by_fullyQualifiedName(e)}getConvertedComplexType(e){return this.convertedOutput.complexTypes.by_fullyQualifiedName(e)}getConvertedTypeDefinition(e){return this.convertedOutput.typeDefinitions.by_fullyQualifiedName(e)}getConvertedActionImport(e){let a=this.convertedOutput.actionImports.by_fullyQualifiedName(e);if(!a){a=this.convertedOutput.actionImports.by_name(e)}return a}getConvertedAction(e){return this.convertedOutput.actions.by_fullyQualifiedName(e)}convert(e,a){if(Array.isArray(e)){return()=>{const t=e.reduce((e,t)=>{const o=this.getConvertedElement(t.fullyQualifiedName,t,a);if(o){e.push(o)}return e},[]);(0,o.addGetByValue)(t,"name");(0,o.addGetByValue)(t,"fullyQualifiedName");return t}}else{return()=>this.getConvertedElement(e.fullyQualifiedName,e,a)}}constructor(e,a){this.convertedElements=new Map;this.rawMetadata=e;this.rawSchema=e.schema;this.convertedOutput=a}getConvertedElement(e,a,t){let o=this.convertedElements.get(e);if(o===undefined){const r=typeof a==="function"?a.apply(undefined,[e]):a;if(r!==undefined){o=t.apply(undefined,[this,r]);this.convertedElements.set(e,o)}}return o}logError(e){this.convertedOutput.diagnostics.push({message:e})}splitTerm(e){return d(this.rawMetadata.references,e)}alias(e){return(0,o.alias)(this.rawMetadata.references,e)}unalias(e){var a;return(a=(0,o.unalias)(this.rawMetadata.references,e))!==null&&a!==void 0?a:""}}function T(e,a){return()=>{let t=e.getConvertedEntityType(a);if(!t){e.logError(`EntityType '${a}' not found`);t={}}return t}}function D(e,a,t){return()=>Object.keys(a).reduce((r,i)=>{const n=a[i];(0,o.lazy)(r,i,()=>{let a;if(n._type==="Singleton"){a=e.getConvertedSingleton(n.fullyQualifiedName)}else{a=e.getConvertedEntitySet(n.fullyQualifiedName)}if(!a){e.logError(`${t._type} '${t.fullyQualifiedName}': Failed to resolve NavigationPropertyBinding ${i}`);a={}}return a});return r},{})}function h(e,a){const t=a.annotations;return()=>{var o,r;return V(e,a,(r=t!==null&&t!==void 0?t:(o=e.rawAnnotationsPerTarget[a.fullyQualifiedName])===null||o===void 0?void 0:o.annotations)!==null&&r!==void 0?r:[])}}function V(e,a,t){return t.reduce((t,r)=>{const[i,n]=e.splitTerm(r.term);const s=`${n}${r.qualifier?"#"+r.qualifier:""}`;if(t[i]===undefined){t[i]={}}if(!t[i].hasOwnProperty(s)){(0,o.lazy)(t[i],s,()=>e.getConvertedElement(r.fullyQualifiedName,r,(e,t)=>O(e,a,t)))}return t},{})}function P(e,a){const t=a;(0,o.lazy)(t,"annotations",h(e,a));(0,o.lazy)(t,"entitySets",e.convert(e.rawSchema.entitySets,A));(0,o.lazy)(t,"singletons",e.convert(e.rawSchema.singletons,I));(0,o.lazy)(t,"actionImports",e.convert(e.rawSchema.actionImports,N));return t}function I(e,a){const t=a;t.entityTypeName=e.unalias(a.entityTypeName);(0,o.lazy)(t,"entityType",T(e,a.entityTypeName));(0,o.lazy)(t,"annotations",h(e,a));const r=a.navigationPropertyBinding;(0,o.lazy)(t,"navigationPropertyBinding",D(e,r,a));return t}function A(e,a){const t=a;t.entityTypeName=e.unalias(a.entityTypeName);(0,o.lazy)(t,"entityType",T(e,a.entityTypeName));(0,o.lazy)(t,"annotations",h(e,a));const r=a.navigationPropertyBinding;(0,o.lazy)(t,"navigationPropertyBinding",D(e,r,a));return t}function S(e,a){const t=a;a.keys.forEach(e=>{e.isKey=true});(0,o.lazy)(t,"annotations",h(e,a));(0,o.lazy)(t,"keys",e.convert(a.keys,E));(0,o.lazy)(t,"entityProperties",e.convert(a.entityProperties,E));(0,o.lazy)(t,"navigationProperties",e.convert(a.navigationProperties,U));(0,o.lazy)(t,"actions",()=>e.rawSchema.actions.filter(e=>e.isBound&&(e.sourceType===a.fullyQualifiedName||e.sourceType===`Collection(${a.fullyQualifiedName})`)).reduce((a,t)=>{const o=`${e.rawSchema.namespace}.${t.name}`;a[o]=e.getConvertedAction(t.fullyQualifiedName);return a},{}));t.resolvePath=(t,o)=>{const r=n(e,a,t);if(o){return{target:r.target,visitedObjects:r.objectPath,messages:r.messages}}else{return r.target}};return t}function E(e,a){const t=a;t.type=e.unalias(a.type);(0,o.lazy)(t,"annotations",h(e,a));(0,o.lazy)(t,"targetType",()=>{var t;const o=a.type;const r=o.startsWith("Collection")?o.substring(11,o.length-1):o;return(t=e.getConvertedComplexType(r))!==null&&t!==void 0?t:e.getConvertedTypeDefinition(r)});return t}function U(e,a){var t,r,i;const n=a;n.referentialConstraint=(t=n.referentialConstraint)!==null&&t!==void 0?t:[];if(y(a)){n.targetTypeName=e.unalias(a.targetTypeName)}else{const t=(r=e.rawSchema.associations.find(e=>e.fullyQualifiedName===a.relationship))===null||r===void 0?void 0:r.associationEnd.find(e=>e.role===a.toRole);n.isCollection=(t===null||t===void 0?void 0:t.multiplicity)==="*";n.targetTypeName=(i=t===null||t===void 0?void 0:t.type)!==null&&i!==void 0?i:""}(0,o.lazy)(n,"targetType",T(e,a.targetTypeName));(0,o.lazy)(n,"annotations",h(e,a));return n}function N(e,a){const t=a;t.actionName=e.unalias(a.actionName);(0,o.lazy)(t,"annotations",h(e,a));(0,o.lazy)(t,"action",()=>e.getConvertedAction(a.actionName));return t}function R(e,a){const t=a;t.sourceType=e.unalias(a.sourceType);if(t.sourceType){(0,o.lazy)(t,"sourceEntityType",T(e,a.sourceType))}t.returnType=e.unalias(a.returnType);if(t.returnType){(0,o.lazy)(t,"returnEntityType",T(e,a.returnType))}(0,o.lazy)(t,"parameters",e.convert(a.parameters,$));(0,o.lazy)(t,"annotations",()=>{var t,o,r,i,n,s,l,c,u,p,m;const v=a.fullyQualifiedName.match(/(?<action>[^()]+)(?:\((?<overload>.*)\))?/);let g=[];if(v){if((t=v.groups)===null||t===void 0?void 0:t.overload){g=(r=(o=e.rawAnnotationsPerTarget[a.fullyQualifiedName])===null||o===void 0?void 0:o.annotations)!==null&&r!==void 0?r:[]}else{g=(s=(n=e.rawAnnotationsPerTarget[`${(i=v.groups)===null||i===void 0?void 0:i.action}()`])===null||n===void 0?void 0:n.annotations)!==null&&s!==void 0?s:[]}if(((l=v.groups)===null||l===void 0?void 0:l.action)&&((c=v.groups)===null||c===void 0?void 0:c.action)!==a.fullyQualifiedName){const a=(m=(p=e.rawAnnotationsPerTarget[(u=v.groups)===null||u===void 0?void 0:u.action])===null||p===void 0?void 0:p.annotations)!==null&&m!==void 0?m:[];g=g.concat(a)}}return V(e,a,g)});return t}function $(e,a){const t=a;(0,o.lazy)(t,"typeReference",()=>{var t,o;return(o=(t=e.getConvertedEntityType(a.type))!==null&&t!==void 0?t:e.getConvertedComplexType(a.type))!==null&&o!==void 0?o:e.getConvertedTypeDefinition(a.type)});(0,o.lazy)(t,"annotations",h(e,a));return t}function M(e,a){const t=a;(0,o.lazy)(t,"properties",e.convert(a.properties,E));(0,o.lazy)(t,"navigationProperties",e.convert(a.navigationProperties,U));(0,o.lazy)(t,"annotations",h(e,a));return t}function w(e,a){const t=a;(0,o.lazy)(t,"annotations",h(e,a));return t}function F(e){if(e.references.length===0){e.references=o.defaultReferences}const a={version:e.version,namespace:e.schema.namespace,annotations:e.schema.annotations,references:o.defaultReferences.concat(e.references),diagnostics:[]};const t=new b(e,a);(0,o.lazy)(a,"entityContainer",t.convert(t.rawSchema.entityContainer,P));(0,o.lazy)(a,"entitySets",t.convert(t.rawSchema.entitySets,A));(0,o.lazy)(a,"singletons",t.convert(t.rawSchema.singletons,I));(0,o.lazy)(a,"entityTypes",t.convert(t.rawSchema.entityTypes,S));(0,o.lazy)(a,"actions",t.convert(t.rawSchema.actions,R));(0,o.lazy)(a,"complexTypes",t.convert(t.rawSchema.complexTypes,M));(0,o.lazy)(a,"actionImports",t.convert(t.rawSchema.actionImports,N));(0,o.lazy)(a,"typeDefinitions",t.convert(t.rawSchema.typeDefinitions,w));a.resolvePath=function e(a){const o=n(t,undefined,a);if(o.target){i(o.objectPath,o.target)}return o};return a}a.convert=F},782:function(e,a,t){var o=this&&this.__createBinding||(Object.create?function(e,a,t,o){if(o===undefined)o=t;var r=Object.getOwnPropertyDescriptor(a,t);if(!r||("get"in r?!a.__esModule:r.writable||r.configurable)){r={enumerable:true,get:function(){return a[t]}}}Object.defineProperty(e,o,r)}:function(e,a,t,o){if(o===undefined)o=t;e[o]=a[t]});var r=this&&this.__exportStar||function(e,a){for(var t in e)if(t!=="default"&&!Object.prototype.hasOwnProperty.call(a,t))o(a,e,t)};Object.defineProperty(a,"__esModule",{value:true});r(t(232),a);r(t(488),a);r(t(534),a)},534:function(e,a){Object.defineProperty(a,"__esModule",{value:true});a.addGetByValue=a.createIndexedFind=a.lazy=a.Decimal=a.isComplexTypeDefinition=a.TermToTypes=a.EnumIsFlag=a.unalias=a.alias=a.substringBeforeLast=a.substringBeforeFirst=a.splitAtLast=a.splitAtFirst=a.defaultReferences=void 0;a.defaultReferences=[{alias:"Capabilities",namespace:"Org.OData.Capabilities.V1",uri:""},{alias:"Aggregation",namespace:"Org.OData.Aggregation.V1",uri:""},{alias:"Validation",namespace:"Org.OData.Validation.V1",uri:""},{namespace:"Org.OData.Core.V1",alias:"Core",uri:""},{namespace:"Org.OData.Measures.V1",alias:"Measures",uri:""},{namespace:"com.sap.vocabularies.Common.v1",alias:"Common",uri:""},{namespace:"com.sap.vocabularies.UI.v1",alias:"UI",uri:""},{namespace:"com.sap.vocabularies.Session.v1",alias:"Session",uri:""},{namespace:"com.sap.vocabularies.Analytics.v1",alias:"Analytics",uri:""},{namespace:"com.sap.vocabularies.CodeList.v1",alias:"CodeList",uri:""},{namespace:"com.sap.vocabularies.PersonalData.v1",alias:"PersonalData",uri:""},{namespace:"com.sap.vocabularies.Communication.v1",alias:"Communication",uri:""},{namespace:"com.sap.vocabularies.HTML5.v1",alias:"HTML5",uri:""}];function t(e,a){return a<0?[e,""]:[e.substring(0,a),e.substring(a+1)]}function o(e,a){return a<0?e:e.substring(0,a)}function r(e,a){return t(e,e.indexOf(a))}a.splitAtFirst=r;function i(e,a){return t(e,e.lastIndexOf(a))}a.splitAtLast=i;function n(e,a){return o(e,e.indexOf(a))}a.substringBeforeFirst=n;function s(e,a){return o(e,e.lastIndexOf(a))}a.substringBeforeLast=s;function l(e,a){if(!e.reverseReferenceMap){e.reverseReferenceMap=e.reduce((e,a)=>{e[a.namespace]=a;return e},{})}if(!a){return a}const[t,o]=i(a,".");const n=e.reverseReferenceMap[t];if(n){return`${n.alias}.${o}`}else if(a.includes("@")){const[t,o]=r(a,"@");return`${t}@${l(e,o)}`}else{return a}}a.alias=l;function c(e,a){if(!e.referenceMap){e.referenceMap=e.reduce((e,a)=>{e[a.alias]=a;return e},{})}if(!a){return a}const[t,o]=r(a,".");const i=e.referenceMap[t];if(i){return`${i.namespace}.${o}`}else if(a.includes("@")){const[t,o]=r(a,"@");return`${t}@${c(e,o)}`}else{return a}}a.unalias=c;a.EnumIsFlag={"Auth.KeyLocation":false,"Core.RevisionKind":false,"Core.DataModificationOperationKind":false,"Core.Permission":true,"Capabilities.ConformanceLevelType":false,"Capabilities.IsolationLevel":true,"Capabilities.NavigationType":false,"Capabilities.SearchExpressions":true,"Capabilities.HttpMethod":true,"Aggregation.RollupType":false,"Common.TextFormatType":false,"Common.FilterExpressionType":false,"Common.FieldControlType":false,"Common.EffectType":true,"Communication.KindType":false,"Communication.ContactInformationType":true,"Communication.PhoneType":true,"Communication.GenderType":false,"UI.VisualizationType":false,"UI.CriticalityType":false,"UI.ImprovementDirectionType":false,"UI.TrendType":false,"UI.ChartType":false,"UI.ChartAxisScaleBehaviorType":false,"UI.ChartAxisAutoScaleDataScopeType":false,"UI.ChartDimensionRoleType":false,"UI.ChartMeasureRoleType":false,"UI.SelectionRangeSignType":false,"UI.SelectionRangeOptionType":false,"UI.TextArrangementType":false,"UI.ImportanceType":false,"UI.CriticalityRepresentationType":false,"UI.OperationGroupingType":false};var u;(function(e){e["Org.OData.Authorization.V1.SecuritySchemes"]="Org.OData.Authorization.V1.SecurityScheme";e["Org.OData.Authorization.V1.Authorizations"]="Org.OData.Authorization.V1.Authorization";e["Org.OData.Core.V1.Revisions"]="Org.OData.Core.V1.RevisionType";e["Org.OData.Core.V1.Links"]="Org.OData.Core.V1.Link";e["Org.OData.Core.V1.Example"]="Org.OData.Core.V1.ExampleValue";e["Org.OData.Core.V1.Messages"]="Org.OData.Core.V1.MessageType";e["Org.OData.Core.V1.ValueException"]="Org.OData.Core.V1.ValueExceptionType";e["Org.OData.Core.V1.ResourceException"]="Org.OData.Core.V1.ResourceExceptionType";e["Org.OData.Core.V1.DataModificationException"]="Org.OData.Core.V1.DataModificationExceptionType";e["Org.OData.Core.V1.IsLanguageDependent"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.AppliesViaContainer"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.DereferenceableIDs"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.ConventionalIDs"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.Permissions"]="Org.OData.Core.V1.Permission";e["Org.OData.Core.V1.DefaultNamespace"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.Immutable"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.Computed"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.ComputedDefaultValue"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.IsURL"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.IsMediaType"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.ContentDisposition"]="Org.OData.Core.V1.ContentDispositionType";e["Org.OData.Core.V1.OptimisticConcurrency"]="Edm.PropertyPath";e["Org.OData.Core.V1.AdditionalProperties"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.AutoExpand"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.AutoExpandReferences"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.MayImplement"]="Org.OData.Core.V1.QualifiedTypeName";e["Org.OData.Core.V1.Ordered"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.PositionalInsert"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.AlternateKeys"]="Org.OData.Core.V1.AlternateKey";e["Org.OData.Core.V1.OptionalParameter"]="Org.OData.Core.V1.OptionalParameterType";e["Org.OData.Core.V1.OperationAvailable"]="Edm.Boolean";e["Org.OData.Core.V1.SymbolicName"]="Org.OData.Core.V1.SimpleIdentifier";e["Org.OData.Core.V1.GeometryFeature"]="Org.OData.Core.V1.GeometryFeatureType";e["Org.OData.Capabilities.V1.ConformanceLevel"]="Org.OData.Capabilities.V1.ConformanceLevelType";e["Org.OData.Capabilities.V1.AsynchronousRequestsSupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.BatchContinueOnErrorSupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.IsolationSupported"]="Org.OData.Capabilities.V1.IsolationLevel";e["Org.OData.Capabilities.V1.CrossJoinSupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.CallbackSupported"]="Org.OData.Capabilities.V1.CallbackType";e["Org.OData.Capabilities.V1.ChangeTracking"]="Org.OData.Capabilities.V1.ChangeTrackingType";e["Org.OData.Capabilities.V1.CountRestrictions"]="Org.OData.Capabilities.V1.CountRestrictionsType";e["Org.OData.Capabilities.V1.NavigationRestrictions"]="Org.OData.Capabilities.V1.NavigationRestrictionsType";e["Org.OData.Capabilities.V1.IndexableByKey"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.TopSupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.SkipSupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.ComputeSupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.SelectSupport"]="Org.OData.Capabilities.V1.SelectSupportType";e["Org.OData.Capabilities.V1.BatchSupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.BatchSupport"]="Org.OData.Capabilities.V1.BatchSupportType";e["Org.OData.Capabilities.V1.FilterRestrictions"]="Org.OData.Capabilities.V1.FilterRestrictionsType";e["Org.OData.Capabilities.V1.SortRestrictions"]="Org.OData.Capabilities.V1.SortRestrictionsType";e["Org.OData.Capabilities.V1.ExpandRestrictions"]="Org.OData.Capabilities.V1.ExpandRestrictionsType";e["Org.OData.Capabilities.V1.SearchRestrictions"]="Org.OData.Capabilities.V1.SearchRestrictionsType";e["Org.OData.Capabilities.V1.KeyAsSegmentSupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.QuerySegmentSupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.InsertRestrictions"]="Org.OData.Capabilities.V1.InsertRestrictionsType";e["Org.OData.Capabilities.V1.DeepInsertSupport"]="Org.OData.Capabilities.V1.DeepInsertSupportType";e["Org.OData.Capabilities.V1.UpdateRestrictions"]="Org.OData.Capabilities.V1.UpdateRestrictionsType";e["Org.OData.Capabilities.V1.DeepUpdateSupport"]="Org.OData.Capabilities.V1.DeepUpdateSupportType";e["Org.OData.Capabilities.V1.DeleteRestrictions"]="Org.OData.Capabilities.V1.DeleteRestrictionsType";e["Org.OData.Capabilities.V1.CollectionPropertyRestrictions"]="Org.OData.Capabilities.V1.CollectionPropertyRestrictionsType";e["Org.OData.Capabilities.V1.OperationRestrictions"]="Org.OData.Capabilities.V1.OperationRestrictionsType";e["Org.OData.Capabilities.V1.AnnotationValuesInQuerySupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.ModificationQueryOptions"]="Org.OData.Capabilities.V1.ModificationQueryOptionsType";e["Org.OData.Capabilities.V1.ReadRestrictions"]="Org.OData.Capabilities.V1.ReadRestrictionsType";e["Org.OData.Capabilities.V1.CustomHeaders"]="Org.OData.Capabilities.V1.CustomParameter";e["Org.OData.Capabilities.V1.CustomQueryOptions"]="Org.OData.Capabilities.V1.CustomParameter";e["Org.OData.Capabilities.V1.MediaLocationUpdateSupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Aggregation.V1.ApplySupported"]="Org.OData.Aggregation.V1.ApplySupportedType";e["Org.OData.Aggregation.V1.ApplySupportedDefaults"]="Org.OData.Aggregation.V1.ApplySupportedBase";e["Org.OData.Aggregation.V1.Groupable"]="Org.OData.Core.V1.Tag";e["Org.OData.Aggregation.V1.Aggregatable"]="Org.OData.Core.V1.Tag";e["Org.OData.Aggregation.V1.ContextDefiningProperties"]="Edm.PropertyPath";e["Org.OData.Aggregation.V1.LeveledHierarchy"]="Edm.PropertyPath";e["Org.OData.Aggregation.V1.RecursiveHierarchy"]="Org.OData.Aggregation.V1.RecursiveHierarchyType";e["Org.OData.Aggregation.V1.AvailableOnAggregates"]="Org.OData.Aggregation.V1.AvailableOnAggregatesType";e["Org.OData.Validation.V1.Minimum"]="Edm.PrimitiveType";e["Org.OData.Validation.V1.Maximum"]="Edm.PrimitiveType";e["Org.OData.Validation.V1.Exclusive"]="Org.OData.Core.V1.Tag";e["Org.OData.Validation.V1.AllowedValues"]="Org.OData.Validation.V1.AllowedValue";e["Org.OData.Validation.V1.MultipleOf"]="Edm.Decimal";e["Org.OData.Validation.V1.Constraint"]="Org.OData.Validation.V1.ConstraintType";e["Org.OData.Validation.V1.ItemsOf"]="Org.OData.Validation.V1.ItemsOfType";e["Org.OData.Validation.V1.OpenPropertyTypeConstraint"]="Org.OData.Validation.V1.SingleOrCollectionType";e["Org.OData.Validation.V1.DerivedTypeConstraint"]="Org.OData.Validation.V1.SingleOrCollectionType";e["Org.OData.Validation.V1.AllowedTerms"]="Org.OData.Core.V1.QualifiedTermName";e["Org.OData.Validation.V1.ApplicableTerms"]="Org.OData.Core.V1.QualifiedTermName";e["Org.OData.Validation.V1.MaxItems"]="Edm.Int64";e["Org.OData.Validation.V1.MinItems"]="Edm.Int64";e["Org.OData.Measures.V1.Scale"]="Edm.Byte";e["Org.OData.Measures.V1.DurationGranularity"]="Org.OData.Measures.V1.DurationGranularityType";e["com.sap.vocabularies.Analytics.v1.Dimension"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Analytics.v1.Measure"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Analytics.v1.AccumulativeMeasure"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Analytics.v1.RolledUpPropertyCount"]="Edm.Int16";e["com.sap.vocabularies.Analytics.v1.PlanningAction"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Analytics.v1.AggregatedProperties"]="com.sap.vocabularies.Analytics.v1.AggregatedPropertyType";e["com.sap.vocabularies.Analytics.v1.AggregatedProperty"]="com.sap.vocabularies.Analytics.v1.AggregatedPropertyType";e["com.sap.vocabularies.Analytics.v1.AnalyticalContext"]="com.sap.vocabularies.Analytics.v1.AnalyticalContextType";e["com.sap.vocabularies.Common.v1.ServiceVersion"]="Edm.Int32";e["com.sap.vocabularies.Common.v1.ServiceSchemaVersion"]="Edm.Int32";e["com.sap.vocabularies.Common.v1.TextFor"]="Edm.PropertyPath";e["com.sap.vocabularies.Common.v1.IsLanguageIdentifier"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.TextFormat"]="com.sap.vocabularies.Common.v1.TextFormatType";e["com.sap.vocabularies.Common.v1.IsDigitSequence"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsUpperCase"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsCurrency"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsUnit"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.UnitSpecificScale"]="Edm.PrimitiveType";e["com.sap.vocabularies.Common.v1.UnitSpecificPrecision"]="Edm.PrimitiveType";e["com.sap.vocabularies.Common.v1.SecondaryKey"]="Edm.PropertyPath";e["com.sap.vocabularies.Common.v1.MinOccurs"]="Edm.Int64";e["com.sap.vocabularies.Common.v1.MaxOccurs"]="Edm.Int64";e["com.sap.vocabularies.Common.v1.AssociationEntity"]="Edm.NavigationPropertyPath";e["com.sap.vocabularies.Common.v1.DerivedNavigation"]="Edm.NavigationPropertyPath";e["com.sap.vocabularies.Common.v1.Masked"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.RevealOnDemand"]="Edm.Boolean";e["com.sap.vocabularies.Common.v1.SemanticObjectMapping"]="com.sap.vocabularies.Common.v1.SemanticObjectMappingType";e["com.sap.vocabularies.Common.v1.IsInstanceAnnotation"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.FilterExpressionRestrictions"]="com.sap.vocabularies.Common.v1.FilterExpressionRestrictionType";e["com.sap.vocabularies.Common.v1.FieldControl"]="com.sap.vocabularies.Common.v1.FieldControlType";e["com.sap.vocabularies.Common.v1.Application"]="com.sap.vocabularies.Common.v1.ApplicationType";e["com.sap.vocabularies.Common.v1.Timestamp"]="Edm.DateTimeOffset";e["com.sap.vocabularies.Common.v1.ErrorResolution"]="com.sap.vocabularies.Common.v1.ErrorResolutionType";e["com.sap.vocabularies.Common.v1.Messages"]="Edm.ComplexType";e["com.sap.vocabularies.Common.v1.numericSeverity"]="com.sap.vocabularies.Common.v1.NumericMessageSeverityType";e["com.sap.vocabularies.Common.v1.MaximumNumericMessageSeverity"]="com.sap.vocabularies.Common.v1.NumericMessageSeverityType";e["com.sap.vocabularies.Common.v1.IsActionCritical"]="Edm.Boolean";e["com.sap.vocabularies.Common.v1.Attributes"]="Edm.PropertyPath";e["com.sap.vocabularies.Common.v1.RelatedRecursiveHierarchy"]="Edm.AnnotationPath";e["com.sap.vocabularies.Common.v1.Interval"]="com.sap.vocabularies.Common.v1.IntervalType";e["com.sap.vocabularies.Common.v1.ResultContext"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.SAPObjectNodeType"]="com.sap.vocabularies.Common.v1.SAPObjectNodeTypeType";e["com.sap.vocabularies.Common.v1.Composition"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsNaturalPerson"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.ValueList"]="com.sap.vocabularies.Common.v1.ValueListType";e["com.sap.vocabularies.Common.v1.ValueListRelevantQualifiers"]="Org.OData.Core.V1.SimpleIdentifier";e["com.sap.vocabularies.Common.v1.ValueListWithFixedValues"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.ValueListMapping"]="com.sap.vocabularies.Common.v1.ValueListMappingType";e["com.sap.vocabularies.Common.v1.IsCalendarYear"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsCalendarHalfyear"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsCalendarQuarter"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsCalendarMonth"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsCalendarWeek"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsDayOfCalendarMonth"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsDayOfCalendarYear"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsCalendarYearHalfyear"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsCalendarYearQuarter"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsCalendarYearMonth"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsCalendarYearWeek"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsCalendarDate"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsFiscalYear"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsFiscalPeriod"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsFiscalQuarter"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsFiscalYearQuarter"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsFiscalWeek"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsFiscalYearWeek"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsDayOfFiscalYear"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsFiscalYearVariant"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.MutuallyExclusiveTerm"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.DraftRoot"]="com.sap.vocabularies.Common.v1.DraftRootType";e["com.sap.vocabularies.Common.v1.DraftNode"]="com.sap.vocabularies.Common.v1.DraftNodeType";e["com.sap.vocabularies.Common.v1.DraftActivationVia"]="Org.OData.Core.V1.SimpleIdentifier";e["com.sap.vocabularies.Common.v1.EditableFieldFor"]="Edm.PropertyPath";e["com.sap.vocabularies.Common.v1.SemanticKey"]="Edm.PropertyPath";e["com.sap.vocabularies.Common.v1.SideEffects"]="com.sap.vocabularies.Common.v1.SideEffectsType";e["com.sap.vocabularies.Common.v1.DefaultValuesFunction"]="com.sap.vocabularies.Common.v1.QualifiedName";e["com.sap.vocabularies.Common.v1.FilterDefaultValue"]="Edm.PrimitiveType";e["com.sap.vocabularies.Common.v1.FilterDefaultValueHigh"]="Edm.PrimitiveType";e["com.sap.vocabularies.Common.v1.SortOrder"]="com.sap.vocabularies.Common.v1.SortOrderType";e["com.sap.vocabularies.Common.v1.RecursiveHierarchy"]="com.sap.vocabularies.Common.v1.RecursiveHierarchyType";e["com.sap.vocabularies.Common.v1.CreatedAt"]="Edm.DateTimeOffset";e["com.sap.vocabularies.Common.v1.CreatedBy"]="com.sap.vocabularies.Common.v1.UserID";e["com.sap.vocabularies.Common.v1.ChangedAt"]="Edm.DateTimeOffset";e["com.sap.vocabularies.Common.v1.ChangedBy"]="com.sap.vocabularies.Common.v1.UserID";e["com.sap.vocabularies.Common.v1.ApplyMultiUnitBehaviorForSortingAndFiltering"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.PrimitivePropertyPath"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.CodeList.v1.CurrencyCodes"]="com.sap.vocabularies.CodeList.v1.CodeListSource";e["com.sap.vocabularies.CodeList.v1.UnitsOfMeasure"]="com.sap.vocabularies.CodeList.v1.CodeListSource";e["com.sap.vocabularies.CodeList.v1.StandardCode"]="Edm.PropertyPath";e["com.sap.vocabularies.CodeList.v1.ExternalCode"]="Edm.PropertyPath";e["com.sap.vocabularies.CodeList.v1.IsConfigurationDeprecationCode"]="Edm.Boolean";e["com.sap.vocabularies.Communication.v1.Contact"]="com.sap.vocabularies.Communication.v1.ContactType";e["com.sap.vocabularies.Communication.v1.Address"]="com.sap.vocabularies.Communication.v1.AddressType";e["com.sap.vocabularies.Communication.v1.IsEmailAddress"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Communication.v1.IsPhoneNumber"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Communication.v1.Event"]="com.sap.vocabularies.Communication.v1.EventData";e["com.sap.vocabularies.Communication.v1.Task"]="com.sap.vocabularies.Communication.v1.TaskData";e["com.sap.vocabularies.Communication.v1.Message"]="com.sap.vocabularies.Communication.v1.MessageData";e["com.sap.vocabularies.Hierarchy.v1.RecursiveHierarchy"]="com.sap.vocabularies.Hierarchy.v1.RecursiveHierarchyType";e["com.sap.vocabularies.PersonalData.v1.EntitySemantics"]="com.sap.vocabularies.PersonalData.v1.EntitySemanticsType";e["com.sap.vocabularies.PersonalData.v1.FieldSemantics"]="com.sap.vocabularies.PersonalData.v1.FieldSemanticsType";e["com.sap.vocabularies.PersonalData.v1.IsPotentiallyPersonal"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Session.v1.StickySessionSupported"]="com.sap.vocabularies.Session.v1.StickySessionSupportedType";e["com.sap.vocabularies.UI.v1.HeaderInfo"]="com.sap.vocabularies.UI.v1.HeaderInfoType";e["com.sap.vocabularies.UI.v1.Identification"]="com.sap.vocabularies.UI.v1.DataFieldAbstract";e["com.sap.vocabularies.UI.v1.Badge"]="com.sap.vocabularies.UI.v1.BadgeType";e["com.sap.vocabularies.UI.v1.LineItem"]="com.sap.vocabularies.UI.v1.DataFieldAbstract";e["com.sap.vocabularies.UI.v1.StatusInfo"]="com.sap.vocabularies.UI.v1.DataFieldAbstract";e["com.sap.vocabularies.UI.v1.FieldGroup"]="com.sap.vocabularies.UI.v1.FieldGroupType";e["com.sap.vocabularies.UI.v1.ConnectedFields"]="com.sap.vocabularies.UI.v1.ConnectedFieldsType";e["com.sap.vocabularies.UI.v1.GeoLocations"]="com.sap.vocabularies.UI.v1.GeoLocationType";e["com.sap.vocabularies.UI.v1.GeoLocation"]="com.sap.vocabularies.UI.v1.GeoLocationType";e["com.sap.vocabularies.UI.v1.Contacts"]="Edm.AnnotationPath";e["com.sap.vocabularies.UI.v1.MediaResource"]="com.sap.vocabularies.UI.v1.MediaResourceType";e["com.sap.vocabularies.UI.v1.DataPoint"]="com.sap.vocabularies.UI.v1.DataPointType";e["com.sap.vocabularies.UI.v1.KPI"]="com.sap.vocabularies.UI.v1.KPIType";e["com.sap.vocabularies.UI.v1.Chart"]="com.sap.vocabularies.UI.v1.ChartDefinitionType";e["com.sap.vocabularies.UI.v1.ValueCriticality"]="com.sap.vocabularies.UI.v1.ValueCriticalityType";e["com.sap.vocabularies.UI.v1.CriticalityLabels"]="com.sap.vocabularies.UI.v1.CriticalityLabelType";e["com.sap.vocabularies.UI.v1.SelectionFields"]="Edm.PropertyPath";e["com.sap.vocabularies.UI.v1.Facets"]="com.sap.vocabularies.UI.v1.Facet";e["com.sap.vocabularies.UI.v1.HeaderFacets"]="com.sap.vocabularies.UI.v1.Facet";e["com.sap.vocabularies.UI.v1.QuickViewFacets"]="com.sap.vocabularies.UI.v1.Facet";e["com.sap.vocabularies.UI.v1.QuickCreateFacets"]="com.sap.vocabularies.UI.v1.Facet";e["com.sap.vocabularies.UI.v1.FilterFacets"]="com.sap.vocabularies.UI.v1.ReferenceFacet";e["com.sap.vocabularies.UI.v1.SelectionPresentationVariant"]="com.sap.vocabularies.UI.v1.SelectionPresentationVariantType";e["com.sap.vocabularies.UI.v1.PresentationVariant"]="com.sap.vocabularies.UI.v1.PresentationVariantType";e["com.sap.vocabularies.UI.v1.SelectionVariant"]="com.sap.vocabularies.UI.v1.SelectionVariantType";e["com.sap.vocabularies.UI.v1.ThingPerspective"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.IsSummary"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.PartOfPreview"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.Map"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.Gallery"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.IsImageURL"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.IsImage"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.MultiLineText"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.TextArrangement"]="com.sap.vocabularies.UI.v1.TextArrangementType";e["com.sap.vocabularies.UI.v1.Importance"]="com.sap.vocabularies.UI.v1.ImportanceType";e["com.sap.vocabularies.UI.v1.Hidden"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.IsCopyAction"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.CreateHidden"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.UpdateHidden"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.DeleteHidden"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.HiddenFilter"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.AdaptationHidden"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.DataFieldDefault"]="com.sap.vocabularies.UI.v1.DataFieldAbstract";e["com.sap.vocabularies.UI.v1.Criticality"]="com.sap.vocabularies.UI.v1.CriticalityType";e["com.sap.vocabularies.UI.v1.CriticalityCalculation"]="com.sap.vocabularies.UI.v1.CriticalityCalculationType";e["com.sap.vocabularies.UI.v1.Emphasized"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.OrderBy"]="Edm.PropertyPath";e["com.sap.vocabularies.UI.v1.ParameterDefaultValue"]="Edm.PrimitiveType";e["com.sap.vocabularies.UI.v1.RecommendationState"]="com.sap.vocabularies.UI.v1.RecommendationStateType";e["com.sap.vocabularies.UI.v1.RecommendationList"]="com.sap.vocabularies.UI.v1.RecommendationListType";e["com.sap.vocabularies.UI.v1.ExcludeFromNavigationContext"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.DoNotCheckScaleOfMeasuredQuantity"]="Edm.Boolean";e["com.sap.vocabularies.HTML5.v1.CssDefaults"]="com.sap.vocabularies.HTML5.v1.CssDefaultsType"})(u=a.TermToTypes||(a.TermToTypes={}));function p(e){return!!e&&e._type==="ComplexType"&&!!e.properties}a.isComplexTypeDefinition=p;function m(e){return{isDecimal(){return true},valueOf(){return e},toString(){return e.toString()}}}a.Decimal=m;function v(e,a,t){const o=Symbol("initial");let r=o;Object.defineProperty(e,a,{enumerable:true,get(){if(r===o){r=t()}return r},set(e){r=e}})}a.lazy=v;function g(e,a){const t=new Map;return function o(r){const i=t.get(r);if((i===null||i===void 0?void 0:i[a])===r){return i}return e.find(e=>{if(!(e===null||e===void 0?void 0:e.hasOwnProperty(a))){return false}const o=e[a];t.set(o,e);return o===r})}}a.createIndexedFind=g;function y(e,a){const t=`by_${a}`;if(!e.hasOwnProperty(t)){Object.defineProperty(e,t,{writable:false,value:g(e,a)})}else{throw new Error(`Property '${t}' already exists`)}return e}a.addGetByValue=y},488:function(e,a,t){Object.defineProperty(a,"__esModule",{value:true});a.revertTermToGenericType=void 0;const o=t(534);function r(e,a){var t,o,r,i,n,s;let c;if(Array.isArray(a)){c={type:"Collection",Collection:a.map(a=>l(e,a))}}else if((t=a.isDecimal)===null||t===void 0?void 0:t.call(a)){c={type:"Decimal",Decimal:a.valueOf()}}else if((o=a.isString)===null||o===void 0?void 0:o.call(a)){const t=a.valueOf().split(".");if(t.length>1&&e.find(e=>e.alias===t[0])){c={type:"EnumMember",EnumMember:a.valueOf()}}else{c={type:"String",String:a.valueOf()}}}else if((r=a.isInt)===null||r===void 0?void 0:r.call(a)){c={type:"Int",Int:a.valueOf()}}else if((i=a.isFloat)===null||i===void 0?void 0:i.call(a)){c={type:"Float",Float:a.valueOf()}}else if((n=a.isDate)===null||n===void 0?void 0:n.call(a)){c={type:"Date",Date:a.valueOf()}}else if((s=a.isBoolean)===null||s===void 0?void 0:s.call(a)){c={type:"Bool",Bool:a.valueOf()==="true"}}else if(a.type==="Path"){c={type:"Path",Path:a.path}}else if(a.type==="AnnotationPath"){c={type:"AnnotationPath",AnnotationPath:a.value}}else if(a.type==="Apply"){c={type:"Apply",Apply:a.Apply}}else if(a.type==="Null"){c={type:"Null"}}else if(a.type==="PropertyPath"){c={type:"PropertyPath",PropertyPath:a.value}}else if(a.type==="NavigationPropertyPath"){c={type:"NavigationPropertyPath",NavigationPropertyPath:a.value}}else if(Object.prototype.hasOwnProperty.call(a,"$Type")){c={type:"Record",Record:l(e,a)}}return c}function i(e,a){let t;const o=a===null||a===void 0?void 0:a.constructor.name;switch(o){case"String":case"string":const o=a.toString().split(".");if(o.length>1&&e.find(e=>e.alias===o[0])){t={type:"EnumMember",EnumMember:a.toString()}}else{t={type:"String",String:a.toString()}}break;case"Boolean":case"boolean":t={type:"Bool",Bool:a.valueOf()};break;case"Number":case"number":if(a.toString()===a.toFixed()){t={type:"Int",Int:a.valueOf()}}else{t={type:"Decimal",Decimal:a.valueOf()}}break;case"object":default:t=r(e,a);break}return t}const n=["$Type","term","__source","qualifier","ActionTarget","fullyQualifiedName","annotations"];function s(e,a,t){Object.keys(a).filter(e=>e!=="_annotations").forEach(r=>{Object.keys(a[r]).forEach(i=>{const n=c(e,a[r][i]);if(!n.term){const a=(0,o.unalias)(e,`${r}.${i}`);if(a){const e=a.split("#");n.term=e[0];if(e.length>1){n.qualifier=e[1]}}}t.push(n)})})}function l(e,a){if(typeof a==="string"){return a}else if(typeof a==="object"){if(a.hasOwnProperty("$Type")){const t={type:a.$Type,propertyValues:[]};Object.keys(a).forEach(o=>{if(n.indexOf(o)===-1){const r=a[o];t.propertyValues.push({name:o,value:i(e,r)})}else if(o==="annotations"&&Object.keys(a[o]).length>0){t.annotations=[];s(e,a[o],t.annotations)}});return t}else if(a.type==="PropertyPath"){return{type:"PropertyPath",PropertyPath:a.value}}else if(a.type==="AnnotationPath"){return{type:"AnnotationPath",AnnotationPath:a.value}}else if(a.type==="NavigationPropertyPath"){return{type:"NavigationPropertyPath",NavigationPropertyPath:a.value}}}return undefined}function c(e,a){const t={term:a.term,qualifier:a.qualifier};if(Array.isArray(a)){if(a.hasOwnProperty("annotations")&&Object.keys(a.annotations).length>0){t.annotations=[];s(e,a.annotations,t.annotations)}return{...t,collection:a.map(a=>l(e,a))}}else if(a.hasOwnProperty("$Type")){return{...t,record:l(e,a)}}else{return{...t,value:i(e,a)}}}a.revertTermToGenericType=c}};var t={};function o(e){var r=t[e];if(r!==undefined){return r.exports}var i=t[e]={exports:{}};a[e].call(i.exports,i,i.exports,o);return i.exports}var r=o(782);e=r})();return e},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/Action", ["sap/base/Log","sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/ID","sap/fe/core/converters/ManifestSettings","sap/fe/core/formatters/FPMFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper"],function(e,n,t,i,o,a,r,l){"use strict";var s={};var u=l.replaceSpecialChars;var c=r.resolveBindingString;var d=r.pathInModel;var v=r.or;var f=r.isConstant;var p=r.ifElse;var b=r.greaterOrEqual;var m=r.getExpressionFromAnnotation;var y=r.formatResult;var g=r.equal;var h=r.constant;var A=r.compileExpression;var S=r.and;var C=o.ActionType;var E=i.getCustomActionID;var k=t.Placement;var x=n.bindingContextPathVisitor;let F;(function(e){e["Accept"]="Accept";e["Attention"]="Attention";e["Back"]="Back";e["Critical"]="Critical";e["Default"]="Default";e["Emphasized"]="Emphasized";e["Ghost"]="Ghost";e["Negative"]="Negative";e["Neutral"]="Neutral";e["Reject"]="Reject";e["Success"]="Success";e["Transparent"]="Transparent";e["Unstyled"]="Unstyled";e["Up"]="Up"})(F||(F={}));s.ButtonType=F;function I(e,n,t,i){const o=n.find(e=>e.key===i);const a=e[i];const r={...o??a};if(o){r.enabled=(a===null||a===void 0?void 0:a.enabled)??o.enabled;r.visible=(a===null||a===void 0?void 0:a.visible)??o.visible;for(const e in a||{}){const n=e;if(!o[n]&&n!=="menu"){r[n]=a[n]}}}const l=((r===null||r===void 0?void 0:r.visible)||(r===null||r===void 0?void 0:r.type)===C.DataFieldForAction||(r===null||r===void 0?void 0:r.type)===C.DataFieldForIntentBasedNavigation)&&!t.find(e=>e.key===(r===null||r===void 0?void 0:r.key));return{action:r,canBeMenuItem:l}}function M(e,n,t,i,o){const{action:a,canBeMenuItem:r}=I(n,t,o,e.defaultAction);if(r){e.defaultAction=a}if(a.command){i[a.key]=a}}function O(e,n,t,i,o){const a=[];for(const r of e.menu??[]){const{action:e,canBeMenuItem:l}=I(n,t,o,r);if(l){a.push(e)}if(e.command){i[r]=e}}e.menu=a;const r=a.map(e=>c(e.visible,"boolean"));e.visible=A(S(c(e.visible,"boolean"),v(...r)))}function P(e,n,t){const i={};const o=[];const a={};for(const l in e){const s=e[l];if(s.defaultAction!==undefined){M(s,e,n,a,t)}if(s.type===C.Menu){var r;o.push(...s.menu);O(s,e,n,a,t);if(!((r=s.menu)!==null&&r!==void 0&&r.length)){o.push(s.key)}}if(s.command){a[l]=s}i[l]=s}o.forEach(e=>delete i[e]);return{actions:i,commandActions:a}}const B=function(e,n,t){if(n&&e.enabled===undefined){return undefined}const i=q(e.enabled,t);return A(p(e.requiresSelection===true,S(b(d("numberOfSelectedContexts","internal"),1),i),i))};const N=function(e,n,t){if(n&&e.visible===undefined){return undefined}const i=q(e.visible,t);return A(i)};function D(e,n){if(!n){return}e.type=n.type;e.annotationPath=n.annotationPath;e.press=n.press;e.enabled=e.enabled??n.enabled;e.visible=e.visible??n.visible}function T(e,n){if(n!==null&&n!==void 0&&n.find(n=>n.key===e.key)){e.visible="false"}}function j(e,n,t,i,o,a,r){const l={};for(const d in e){var s,c;const v=e[d];const f=((s=v.press)===null||s===void 0?void 0:s.lastIndexOf("."))||-1;const p=t===null||t===void 0?void 0:t.find(e=>e.key===d);const b=!!p;if(v.facetName){r=v.facetName}l[d]={id:p?d:E(d),type:v.menu?C.Menu:C.Default,visible:N(v,b,n),enabled:B(v,b,n),handlerModule:v.press&&v.press.substring(0,f).replace(/\./gi,"/"),handlerMethod:v.press&&v.press.substring(f+1),press:v.press,text:v.text,noWrap:v.__noWrap,key:u(d),enableOnSelect:v.enableOnSelect,defaultValuesExtensionFunction:v.defaultValuesFunction,position:{anchor:(c=v.position)===null||c===void 0?void 0:c.anchor,placement:v.position===undefined?k.After:v.position.placement},isNavigable:V(v,i,o),command:v.command,requiresSelection:v.requiresSelection===undefined?false:v.requiresSelection,enableAutoScroll:$(v),menu:v.menu??[],facetName:v.inline?r:undefined,defaultAction:v.defaultAction};D(l[d],p);T(l[d],a)}return P(l,t??[],a??[])}s.getActionsFromManifest=j;function q(e,n){const t=c(e,"boolean");let i;if(f(t)&&t.value===undefined){i=h(true)}else if(f(t)&&typeof t.value==="string"){var o;const e=t.value;i=y([d("/","$view"),e,d("selectedContexts","internal")],a.customBooleanPropertyCheck,((o=n.getDataModelObjectPath().contextLocation)===null||o===void 0?void 0:o.targetEntityType)||n.getEntityType())}else{i=t}return i}const U=e=>{let n={};e.forEach(e=>{var t;if(e!==null&&e!==void 0&&(t=e.menu)!==null&&t!==void 0&&t.length){const t=e.menu;n=t.reduce((e,n)=>{let{key:t}=n;if(t&&!e[t]){e[t]=true}return e},n)}});return e.filter(e=>!n[e.key])};s.removeDuplicateActions=U;function L(e,n){var t,i,o;const a=n!==null&&n!==void 0&&n.isBound?n===null||n===void 0?void 0:(t=n.parameters[0])===null||t===void 0?void 0:t.fullyQualifiedName:undefined;const r=m(n===null||n===void 0?void 0:(i=n.annotations.Core)===null||i===void 0?void 0:i.OperationAvailable,[],undefined,n=>x(n,e,a));if((n===null||n===void 0?void 0:(o=n.annotations.Core)===null||o===void 0?void 0:o.OperationAvailable)!==undefined){return A(g(r,true))}return"true"}s.getEnabledForAnnotationAction=L;function R(e){return e?e.map(e=>({LocalProperty:{$PropertyPath:e.LocalProperty.value},SemanticObjectProperty:e.SemanticObjectProperty})):[]}s.getSemanticObjectMapping=R;function V(e,n,t){var i,o;let a=true;if(t){const e=n&&(n.detail||n.display);a=e!==null&&e!==void 0&&e.route?true:false}if(e&&e.afterExecution&&(((i=e.afterExecution)===null||i===void 0?void 0:i.navigateToInstance)===false||((o=e.afterExecution)===null||o===void 0?void 0:o.enableAutoScroll)===true)||!a){return false}return true}s.isActionNavigable=V;function $(e){var n;return(e===null||e===void 0?void 0:(n=e.afterExecution)===null||n===void 0?void 0:n.enableAutoScroll)===true}s.enableAutoScroll=$;function w(e){var n,t,i;return((n=e.annotations)===null||n===void 0?void 0:(t=n.UI)===null||t===void 0?void 0:(i=t.IsCopyAction)===null||i===void 0?void 0:i.valueOf())===true&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"}s.dataFieldIsCopyAction=w;function z(n){if(n.length===1){return n[0]}if(n.length>1){e.error("Multiple actions are annotated with isCopyAction. There can be only one standard copy action.")}return undefined}s.getCopyAction=z;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/Chart", ["sap/base/Log","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/DataModelPathHelper","sap/ui/core/Core","../../helpers/Aggregation","../../helpers/ID","../../ManifestSettings"],function(t,e,n,a,o,i,r,l,s,g,c){"use strict";var p={};var u=c.VisualizationType;var d=c.VariantManagementType;var v=c.TemplateType;var f=c.ActionType;var m=g.getFilterBarID;var y=g.getChartID;var h=s.AggregationHelper;var b=r.getTargetObjectPath;var P=i.not;var A=i.getExpressionFromAnnotation;var T=i.equal;var S=i.compileExpression;var C=o.KeyHelper;var M=a.OverrideType;var O=a.insertCustomElements;var D=n.getActionsFromManifest;var F=e.isDataFieldForActionAbstract;function I(t,e,n){const a=[];if(t){const e=t.Actions||[];e.forEach(t=>{var e;let o;if(F(t)&&!t.Inline&&!t.Determining){const a=C.generateKeyFromDataField(t);switch(t.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":if(!((e=t.ActionTarget)!==null&&e!==void 0&&e.isBound)){o={type:f.DataFieldForAction,annotationPath:n.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),key:a,visible:$(t,n)}}break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":o={type:f.DataFieldForIntentBasedNavigation,annotationPath:n.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),key:a,visible:$(t,n),isNavigable:true};break}}if(o){a.push(o)}})}return a}function E(t,e,n){const a=I(t,e,n);const o=D(n.getManifestControlConfiguration(e).actions,n,a);const i={enabled:M.overwrite,enableOnSelect:M.overwrite,visible:M.overwrite,command:M.overwrite};const r=O(a,o.actions,i);return{actions:r,commandActions:o.commandActions}}p.getChartActions=E;function N(t,e){var n;const a=e.getManifestWrapper();const o=e.getManifestControlConfiguration(t);const i=a.getVariantManagement();const r=[];const l=o===null||o===void 0?void 0:(n=o.chartSettings)===null||n===void 0?void 0:n.personalization;const s=i===d.Control?true:false;if(l!==undefined&&!l||l=="false"){return undefined}switch(true){case typeof l==="object":if(l.type){r.push("Type")}if(l.item){r.push("Item")}if(l.sort){r.push("Sort")}if(l.filter){r.push("Filter")}return r.join(",");case s:case!!l:return"Sort,Type,Item,Filter";default:return"Sort,Type,Item"}}p.getP13nMode=N;function V(t){var e;return(t===null||t===void 0?void 0:(e=t.annotationPath)===null||e===void 0?void 0:e.indexOf(`@${"com.sap.vocabularies.UI.v1.SelectionPresentationVariant"}`))!==-1?t===null||t===void 0?void 0:t.annotationPath:undefined}function w(e,n,a,o,i){var r;const s=new h(a.getEntityType(),a);if(!o&&!s.isAnalyticsSupported()){throw new Error("ApplySupported is not added to the annotations")}const g=s.getTransAggregations();const c=s.getCustomAggregateDefinitions();const p=a.getManifestWrapper();const d=p.getVariantManagement();const f=N(n,a);if(f===undefined&&d==="Control"){t.warning("Variant Management cannot be enabled when personalization is disabled")}const P={};const A=V(i);if(c){const t=s.getEntityType();for(const e of c){var T,S,C,M,O;const n=e===null||e===void 0?void 0:(T=e.annotations)===null||T===void 0?void 0:(S=T.Aggregation)===null||S===void 0?void 0:S.ContextDefiningProperties;const a=e===null||e===void 0?void 0:e.qualifier;const o=a&&t.entityProperties.find(t=>t.name===a);const i=o&&(o===null||o===void 0?void 0:(C=o.annotations)===null||C===void 0?void 0:(M=C.Common)===null||M===void 0?void 0:(O=M.Label)===null||O===void 0?void 0:O.toString());P[a]={name:a,label:i||`Custom Aggregate (${a})`,sortable:true,sortOrder:"both",contextDefiningProperty:n?n.map(t=>t.value):[]}}}const D={};const F=l.getLibraryResourceBundle("sap.fe.core");if(g){for(let t=0;t<g.length;t++){var I,w,$,z,L,x;D[g[t].Name]={name:g[t].Name,propertyPath:g[t].AggregatableProperty.valueOf().value,aggregationMethod:g[t].AggregationMethod,label:(I=g[t])!==null&&I!==void 0&&(w=I.annotations)!==null&&w!==void 0&&($=w.Common)!==null&&$!==void 0&&$.Label?(z=g[t])===null||z===void 0?void 0:(L=z.annotations)===null||L===void 0?void 0:(x=L.Common)===null||x===void 0?void 0:x.Label.toString():`${F.getText("AGGREGATABLE_PROPERTY")} (${g[t].Name})`,sortable:true,sortOrder:"both",custom:false}}}const G=s.getAggregatableProperties();const j=s.getGroupableProperties();const k={};k.$Type="Org.OData.Aggregation.V1.ApplySupportedType";k.AggregatableProperties=[];k.GroupableProperties=[];for(let t=0;G&&t<G.length;t++){var R,H,Q;const e={$Type:(R=G[t])===null||R===void 0?void 0:R.$Type,Property:{$PropertyPath:(H=G[t])===null||H===void 0?void 0:(Q=H.Property)===null||Q===void 0?void 0:Q.value}};k.AggregatableProperties.push(e)}for(let t=0;j&&t<j.length;t++){var U;const e={$PropertyPath:(U=j[t])===null||U===void 0?void 0:U.value};k.GroupableProperties.push(e)}const W=E(e,n,a);let[K]=n.split("@");if(K.lastIndexOf("/")===K.length-1){K=K.substr(0,K.length-1)}const q=((r=e.Title)===null||r===void 0?void 0:r.toString())||"";const J=a.getDataModelObjectPath();const Y=K.length===0;const _=J.targetEntitySet?J.targetEntitySet.name:J.startingEntitySet.name;const X=Y?m(a.getContextPath()):undefined;const Z={legendGroup:{layout:{position:"bottom"}}};let tt;if(a.getTemplateType()===v.ObjectPage){tt=true}else if(a.getTemplateType()===v.ListReport||a.getTemplateType()===v.AnalyticalListPage){tt=false}const et=a.getManifestWrapper().hasMultipleVisualizations()||a.getTemplateType()===v.AnalyticalListPage;const nt=et?".handlers.onSegmentedButtonPressed":"";const at=et?"{= ${pageInternal>alpContentView} !== 'Table'}":"true";const ot=s.getAllowedTransformations();k.enableSearch=ot?ot.indexOf("search")>=0:true;let it="";if(e.fullyQualifiedName.split("#").length>1){it=e.fullyQualifiedName.split("#")[1]}return{type:u.Chart,id:it?y(Y?_:K,it,u.Chart):y(Y?_:K,u.Chart),collection:b(a.getDataModelObjectPath()),entityName:_,personalization:N(n,a),navigationPath:K,annotationPath:a.getAbsoluteAnnotationPath(n),filterId:X,vizProperties:JSON.stringify(Z),actions:W.actions,commandActions:W.commandActions,title:q,autoBindOnInit:tt,onSegmentedButtonPressed:nt,visible:at,customAgg:P,transAgg:D,applySupported:k,selectionPresentationVariantPath:A,variantManagement:B(f,d)}}p.createChartVisualization=w;function B(t,e){return e==="Control"&&!t?d.None:e}function $(t,e){var n,a;return S(P(T(A((n=t.annotations)===null||n===void 0?void 0:(a=n.UI)===null||a===void 0?void 0:a.Hidden,[],undefined,e.getRelativeModelPathFunction()),true)))}function z(t){const e=t.getManifestWrapper().hasMultipleVisualizations()||t.getTemplateType()===v.AnalyticalListPage;const n=t.getDataModelObjectPath();const a=n.targetEntitySet?n.targetEntitySet.name:n.startingEntitySet.name;const o={type:u.Chart,id:y(a,u.Chart),entityName:a,title:"",collection:"",personalization:undefined,navigationPath:"",annotationPath:"",vizProperties:JSON.stringify({legendGroup:{layout:{position:"bottom"}}}),actions:[],commandActions:{},autoBindOnInit:false,onSegmentedButtonPressed:"",visible:e?"{= ${pageInternal>alpContentView} !== 'Table'}":"true",customAgg:{},transAgg:{},applySupported:{$Type:"Org.OData.Aggregation.V1.ApplySupportedType",AggregatableProperties:[],GroupableProperties:[],enableSearch:false},multiViews:false,variantManagement:d.None};return o}p.createBlankChartVisualization=z;return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/Criticality", ["sap/fe/core/formatters/TableFormatterTypes"],function(e){"use strict";var i={};var t=e.MessageType;function a(e){let i;switch(e){case"UI.CriticalityType/Negative":case"UI.CriticalityType/VeryNegative":i=t.Error;break;case"UI.CriticalityType/Critical":i=t.Warning;break;case"UI.CriticalityType/Positive":case"UI.CriticalityType/VeryPositive":i=t.Success;break;case"UI.CriticalityType/Information":i=t.Information;break;case"UI.CriticalityType/Neutral":default:i=t.None}return i}i.getMessageTypeFromCriticalityType=a;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/DataVisualization", ["sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/MetaModelConverter","sap/fe/macros/CommonHelper","../../ManifestSettings","./Chart","./Table"],function(t,n,e,a,i,o){"use strict";var r={};var s=i.createChartVisualization;var l=i.createBlankChartVisualization;var u=a.TemplateType;var c=t.IssueType;var v=t.IssueSeverity;var f=t.IssueCategory;const d=function(t,n,e,a){const i=[];const o=S(e);const r=n.split("@")[0];if((a===true||o)&&!I(t,o)){if(!y(t,"com.sap.vocabularies.UI.v1.LineItem")){const t=z("com.sap.vocabularies.UI.v1.LineItem",r,e);if(t){i.push(t)}}if(!y(t,"com.sap.vocabularies.UI.v1.Chart")){const t=z("com.sap.vocabularies.UI.v1.Chart",r,e);if(t){i.push(t)}}}const s=t.Visualizations;const l=function(t){const n=s===null||s===void 0?void 0:s.find(n=>{var e;return t.indexOf((e=n.$target)===null||e===void 0?void 0:e.term)>=0});if(n){i.push({visualization:n.$target,annotationPath:`${r}${n.value}`,converterContext:e})}};if(o){l(["com.sap.vocabularies.UI.v1.LineItem"]);l(["com.sap.vocabularies.UI.v1.Chart"])}else{l(["com.sap.vocabularies.UI.v1.LineItem","com.sap.vocabularies.UI.v1.Chart"])}return i};r.getVisualizationsFromPresentationVariant=d;function p(t,n,e){if(n){const t=e.getEntityTypeAnnotation(n);const a=t.annotation;if(a){if(a.term==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){return a}}else{throw new Error("Annotation Path for the SPV mentioned in the manifest is not found, Please add the SPV in the annotation")}}else{var a,i;return(a=t.annotations)===null||a===void 0?void 0:(i=a.UI)===null||i===void 0?void 0:i.SelectionPresentationVariant}}r.getSelectionPresentationVariant=p;function m(t,n){const e=t&&t.PresentationVariant;if(e){return I(e,n)}else{throw new Error("Presentation Variant is not present in the SPV annotation")}}r.isSelectionPresentationCompliant=m;function I(t){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let e=false,a=false;if(n){if(t!==null&&t!==void 0&&t.Visualizations){const n=t.Visualizations;n.forEach(t=>{var n,i;if(((n=t.$target)===null||n===void 0?void 0:n.term)==="com.sap.vocabularies.UI.v1.LineItem"){e=true}if(((i=t.$target)===null||i===void 0?void 0:i.term)==="com.sap.vocabularies.UI.v1.Chart"){a=true}})}return a&&e}else{return(t===null||t===void 0?void 0:t.Visualizations)&&!!t.Visualizations.find(t=>{var n,e;return((n=t.$target)===null||n===void 0?void 0:n.term)==="com.sap.vocabularies.UI.v1.LineItem"||((e=t.$target)===null||e===void 0?void 0:e.term)==="com.sap.vocabularies.UI.v1.Chart"})}}r.isPresentationCompliant=I;function h(t){var n;return(n=t.annotations.UI)===null||n===void 0?void 0:n.LineItem}r.getDefaultLineItem=h;function g(t){var n;return(n=t.annotations.UI)===null||n===void 0?void 0:n.Chart}r.getDefaultChart=g;function P(t){var n,e;return(n=t.annotations)===null||n===void 0?void 0:(e=n.UI)===null||e===void 0?void 0:e.PresentationVariant}r.getDefaultPresentationVariant=P;function V(t){var n,e;return(n=t.annotations)===null||n===void 0?void 0:(e=n.UI)===null||e===void 0?void 0:e.SelectionVariant}r.getDefaultSelectionVariant=V;function b(t,n){const e=n.getManifestWrapper().getDefaultTemplateAnnotationPath();const a=p(t,e,n);let i;if(a){i=a.SelectionVariant;if(i){return i}}else{i=V(t);return i}}r.getSelectionVariant=b;function C(t,n,e,a,i,r,u){const p=t!==""?e.getEntityTypeAnnotation(t):{annotation:undefined,converterContext:e};const m=r?e.getEntityTypeAnnotation(r):null;const I=p.annotation;e=p.converterContext;let h=[];let g;let P="";let V,b;const C=I===null||I===void 0?void 0:I.term;if(C){switch(C){case"com.sap.vocabularies.UI.v1.LineItem":case"com.sap.vocabularies.UI.v1.Chart":g=m===null||m===void 0?void 0:m.annotation;h.push({visualization:I,annotationPath:t,converterContext:e});break;case"com.sap.vocabularies.UI.v1.PresentationVariant":g=I;h=h.concat(d(I,t,e,u));break;case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":g=I.PresentationVariant;P=g.fullyQualifiedName;h=h.concat(d(g,t,e,u));break;default:break}h.forEach(t=>{const{visualization:e,annotationPath:r,converterContext:l}=t;switch(e.term){case"com.sap.vocabularies.UI.v1.Chart":V=s(e,r,l,i,a);break;case"com.sap.vocabularies.UI.v1.LineItem":default:b=o.createTableVisualization(e,r,l,g,n,a);break}})}const U=[];let y=C==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"?P:I===null||I===void 0?void 0:I.fullyQualifiedName;if(y===undefined){y="/"}const z=S(e);if(!C||z&&b===undefined){b=o.createDefaultTableVisualization(e,u!==true);e.getDiagnostics().addIssue(f.Annotation,v.Medium,c.MISSING_LINEITEM)}if(z&&V===undefined){V=l(e);e.getDiagnostics().addIssue(f.Annotation,v.Medium,c.MISSING_CHART)}if(V){U.push(V)}if(b){U.push(b)}return{visualizations:U,annotationPath:e.getEntitySetBasedAnnotationPath(y)}}r.getDataVisualizationConfiguration=C;function U(t,a){e.validatePresentationMetaPath(t.getPath(),a);const i=n.convertMetaModelContext(t),o=e.createPresentationPathContext(t),r=t.getModel();if(i){if(e._isPresentationVariantAnnotation(o.getPath())){const n=i.PresentationVariant?i.PresentationVariant.Visualizations:i.Visualizations;if(Array.isArray(n)){for(const e of n){if(e.type=="AnnotationPath"&&e.value.indexOf(a)!==-1&&!!r.getMetaContext(t.getPath().split("@")[0]+e.value).getObject()){a=e.value;break}}}}else{return t}}return r.getMetaContext(t.getPath().split("@")[0]+a)}r.getUiControl=U;const y=function(t,n){var e;return((e=t.Visualizations)===null||e===void 0?void 0:e.some(t=>t.value.indexOf(n)>-1))??false};r.annotationExistsInPresentationVariant=y;const z=function(t,n,e){const a=e.getEntityType();const i=t==="com.sap.vocabularies.UI.v1.LineItem"?h(a):g(a);if(i){return{visualization:i,annotationPath:`${n}${e.getRelativeAnnotationPath(i.fullyQualifiedName,a)}`,converterContext:e}}return undefined};r.prepareDefaultVisualization=z;const S=function(t){return t.getManifestWrapper().hasMultipleVisualizations()||t.getTemplateType()===u.AnalyticalListPage};r.isAlpAnnotation=S;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/Form", ["sap/fe/core/converters/annotations/DataField","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","../../../helpers/StableIdHelper","../../helpers/ConfigurableObject","../../helpers/DataFieldHelper","../../helpers/ID","../../helpers/Key","../../ManifestSettings"],function(e,t,a,n,o,i,r,l,s,v){"use strict";var c={};var d=v.ActionType;var u=s.KeyHelper;var f=l.getFormStandardActionButtonID;var p=l.getFormID;var m=r.isReferencePropertyStaticallyHidden;var y=i.Placement;var P=i.OverrideType;var h=i.insertCustomElements;var O=o.createIdForAnnotation;var g=n.getTargetObjectPath;var F=n.getTargetEntitySetPath;var b=a.isSingleton;var I=t.pathInModel;var E=t.not;var T=t.ifElse;var D=t.getExpressionFromAnnotation;var C=t.equal;var A=t.compileExpression;var S=e.getSemanticObjectPath;let w;(function(e){e["Default"]="Default";e["Slot"]="Slot";e["Annotation"]="Annotation"})(w||(w={}));c.FormElementType=w;function U(){return{textLinesEdit:4}}function N(e,t){var a,n,o,i;return(t===null||t===void 0?void 0:t.valueOf())===false||((a=e.annotations)===null||a===void 0?void 0:(n=a.UI)===null||n===void 0?void 0:n.PartOfPreview)===undefined||((o=e.annotations)===null||o===void 0?void 0:(i=o.UI)===null||i===void 0?void 0:i.PartOfPreview.valueOf())===true}function $(e,t){const a=[];const n=t.getEntityTypeAnnotation(e.Target.value);const o=n.annotation;t=n.converterContext;function i(e,n){var o,i,r;const l=S(t,e);if(e.$Type!=="com.sap.vocabularies.UI.v1.DataFieldForAction"&&e.$Type!=="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&!m(e)&&((o=e.annotations)===null||o===void 0?void 0:(i=o.UI)===null||i===void 0?void 0:(r=i.Hidden)===null||r===void 0?void 0:r.valueOf())!==true){const o={key:u.generateKeyFromDataField(e),type:w.Annotation,annotationPath:`${t.getEntitySetBasedAnnotationPath(e.fullyQualifiedName)}/`,semanticObjectPath:l,formatOptions:U(),isPartOfPreview:N(e,n)};if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&e.Target.$target.$Type==="com.sap.vocabularies.UI.v1.ConnectedFieldsType"){const a=Object.values(e.Target.$target.Data).filter(e=>e===null||e===void 0?void 0:e.hasOwnProperty("Value"));o.connectedFields=a.map(e=>({semanticObjectPath:S(t,e)}))}a.push(o)}}switch(o===null||o===void 0?void 0:o.term){case"com.sap.vocabularies.UI.v1.FieldGroup":o.Data.forEach(t=>{var a,n;return i(t,(a=e.annotations)===null||a===void 0?void 0:(n=a.UI)===null||n===void 0?void 0:n.PartOfPreview)});break;case"com.sap.vocabularies.UI.v1.Identification":o.forEach(t=>{var a,n;return i(t,(a=e.annotations)===null||a===void 0?void 0:(n=a.UI)===null||n===void 0?void 0:n.PartOfPreview)});break;case"com.sap.vocabularies.UI.v1.DataPoint":a.push({key:`DataPoint::${o.qualifier?o.qualifier:""}`,type:w.Annotation,annotationPath:`${t.getEntitySetBasedAnnotationPath(o.fullyQualifiedName)}/`});break;case"com.sap.vocabularies.Communication.v1.Contact":a.push({key:`Contact::${o.qualifier?o.qualifier:""}`,type:w.Annotation,annotationPath:`${t.getEntitySetBasedAnnotationPath(o.fullyQualifiedName)}/`});break;default:break}return a}function M(e,t){const a=t.getManifestWrapper();const n=a.getFormContainer(e.Target.value);const o={};if(n!==null&&n!==void 0&&n.fields){Object.keys(n===null||n===void 0?void 0:n.fields).forEach(e=>{o[e]={key:e,id:`CustomFormElement::${e}`,type:n.fields[e].type||w.Default,template:n.fields[e].template,label:n.fields[e].label,position:n.fields[e].position||{placement:y.After},formatOptions:{...U(),...n.fields[e].formatOptions}}})}return o}c.getFormElementsFromManifest=M;function _(e,t,a){var n,o,i,r,l,s;const v=O(e);const c=t.getEntitySetBasedAnnotationPath(e.fullyQualifiedName);const u=t.getEntityTypeAnnotation(e.Target.value);const p=A(E(C(true,D((n=e.annotations)===null||n===void 0?void 0:(o=n.UI)===null||o===void 0?void 0:o.Hidden))));let m;const y=u.converterContext.getEntitySet();if(y&&y!==t.getEntitySet()){m=F(u.converterContext.getDataModelObjectPath())}else if(((i=u.converterContext.getDataModelObjectPath().targetObject)===null||i===void 0?void 0:i.containsTarget)===true){m=g(u.converterContext.getDataModelObjectPath(),false)}else if(y&&!m&&b(y)){m=y.fullyQualifiedName}const S=h($(e,t),M(e,t),{formatOptions:P.overwrite});a=a!==undefined?a.filter(t=>t.facetName==e.fullyQualifiedName):[];if(a.length===0){a=undefined}const w={id:f(v,"ShowHideDetails"),key:"StandardAction::ShowHideDetails",text:A(T(C(I("showDetails","internal"),true),I("T_COMMON_OBJECT_PAGE_HIDE_FORM_CONTAINER_DETAILS","sap.fe.i18n"),I("T_COMMON_OBJECT_PAGE_SHOW_FORM_CONTAINER_DETAILS","sap.fe.i18n"))),type:d.ShowFormDetails,press:"FormContainerRuntime.toggleDetails"};if(((r=e.annotations)===null||r===void 0?void 0:(l=r.UI)===null||l===void 0?void 0:(s=l.PartOfPreview)===null||s===void 0?void 0:s.valueOf())!==false&&S.some(e=>e.isPartOfPreview===false)){if(a!==undefined){a.push(w)}else{a=[w]}}return{id:v,formElements:S,annotationPath:c,isVisible:p,entitySet:m,actions:a}}c.getFormContainer=_;function k(e,t,a){var n;const o=[];(n=e.Facets)===null||n===void 0?void 0:n.forEach(e=>{if(e.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){return}o.push(_(e,t,a))});return o}function j(e){return e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"}c.isReferenceFacet=j;function H(e,t,a,n){var o,i,r;switch(e.$Type){case"com.sap.vocabularies.UI.v1.CollectionFacet":return{id:p(e),useFormContainerLabels:true,hasFacetsNotPartOfPreview:e.Facets.some(e=>{var t,a,n;return((t=e.annotations)===null||t===void 0?void 0:(a=t.UI)===null||a===void 0?void 0:(n=a.PartOfPreview)===null||n===void 0?void 0:n.valueOf())===false}),formContainers:k(e,a,n),isVisible:t};case"com.sap.vocabularies.UI.v1.ReferenceFacet":return{id:p(e),useFormContainerLabels:false,hasFacetsNotPartOfPreview:((o=e.annotations)===null||o===void 0?void 0:(i=o.UI)===null||i===void 0?void 0:(r=i.PartOfPreview)===null||r===void 0?void 0:r.valueOf())===false,formContainers:[_(e,a,n)],isVisible:t};default:throw new Error("Cannot create form based on ReferenceURLFacet")}}c.createFormDefinition=H;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/KPI", ["sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/helpers/SelectionVariantHelper","sap/fe/core/formatters/TableFormatterTypes","sap/fe/core/helpers/TypeGuards","../../helpers/Aggregation","../../helpers/ID","./Criticality"],function(e,t,a,i,n,o,l){"use strict";var r={};var u=l.getMessageTypeFromCriticalityType;var c=o.getKPIID;var s=n.AggregationHelper;var d=i.isPathAnnotationExpression;var v=i.isAnnotationOfType;var p=a.MessageType;var f=t.getFilterDefinitionsFromSelectionVariant;var g=e.IssueType;var y=e.IssueSeverity;var C=e.IssueCategory;const h={"UI.TrendType/StrongUp":"Up","UI.TrendType/Up":"Up","UI.TrendType/StrongDown":"Down","UI.TrendType/Down":"Down","UI.TrendType/Sideways":"None"};const T={"UI.ChartType/ColumnStacked":"StackedColumn","UI.ChartType/BarStacked":"StackedBar","UI.ChartType/Donut":"Donut","UI.ChartType/Line":"Line","UI.ChartType/Bubble":"bubble","UI.ChartType/Column":"column","UI.ChartType/Bar":"bar","UI.ChartType/VerticalBullet":"vertical_bullet","UI.ChartType/Combination":"combination","UI.ChartType/Scatter":"scatter"};function m(e,t){var a,i;if(e.Measures===undefined){return undefined}const n=e.Dimensions?e.Dimensions.map(t=>{var a,i,n,o;const l=(a=e.DimensionAttributes)===null||a===void 0?void 0:a.find(e=>{var a;return((a=e.Dimension)===null||a===void 0?void 0:a.value)===t.value});return{name:t.value,label:((i=t.$target.annotations.Common)===null||i===void 0?void 0:(n=i.Label)===null||n===void 0?void 0:n.toString())||t.value,role:l===null||l===void 0?void 0:(o=l.Role)===null||o===void 0?void 0:o.replace("UI.ChartDimensionRoleType/","")}}):[];const o=e.Measures.map(t=>{var a,i,n,o;const l=(a=e.MeasureAttributes)===null||a===void 0?void 0:a.find(e=>{var a;return((a=e.Measure)===null||a===void 0?void 0:a.value)===t.value});return{name:t.value,label:((i=t.$target.annotations.Common)===null||i===void 0?void 0:(n=i.Label)===null||n===void 0?void 0:n.toString())||t.value,role:l===null||l===void 0?void 0:(o=l.Role)===null||o===void 0?void 0:o.replace("UI.ChartMeasureRoleType/","")}});return{chartType:T[e.ChartType]||"Line",dimensions:n,measures:o,sortOrder:t===null||t===void 0?void 0:(a=t.SortOrder)===null||a===void 0?void 0:a.map(e=>{var t;return{name:((t=e.Property)===null||t===void 0?void 0:t.value)||"",descending:!!e.Descending}}),maxItems:t===null||t===void 0?void 0:(i=t.MaxItems)===null||i===void 0?void 0:i.valueOf()}}function I(e,t){var a,i;const n=e.Value.$target;if((a=n.annotations.Measures)!==null&&a!==void 0&&a.ISOCurrency){var o;const e=(o=n.annotations.Measures)===null||o===void 0?void 0:o.ISOCurrency;if(d(e)){t.datapoint.unit={value:e.$target.name,isCurrency:true,isPath:true}}else{t.datapoint.unit={value:e.toString(),isCurrency:true,isPath:false}}}else if((i=n.annotations.Measures)!==null&&i!==void 0&&i.Unit){var l;const e=(l=n.annotations.Measures)===null||l===void 0?void 0:l.Unit;if(d(e)){t.datapoint.unit={value:e.$target.name,isCurrency:false,isPath:true}}else{t.datapoint.unit={value:e.toString(),isCurrency:false,isPath:false}}}}function S(e,t,a){if(e.Criticality){if(typeof e.Criticality==="object"){const i=e.Criticality.$target;if(t.isPropertyAggregatable(i)){a.datapoint.criticalityPath=e.Criticality.path}else{a.datapoint.criticalityValue=p.None}}else{a.datapoint.criticalityValue=u(e.Criticality)}}else if(e.CriticalityCalculation){a.datapoint.criticalityCalculationMode=e.CriticalityCalculation.ImprovementDirection;a.datapoint.criticalityCalculationThresholds=[];switch(a.datapoint.criticalityCalculationMode){case"UI.ImprovementDirectionType/Target":a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.DeviationRangeLowValue);a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.ToleranceRangeLowValue);a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.AcceptanceRangeLowValue);a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.AcceptanceRangeHighValue);a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.ToleranceRangeHighValue);a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.DeviationRangeHighValue);break;case"UI.ImprovementDirectionType/Minimize":a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.AcceptanceRangeHighValue);a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.ToleranceRangeHighValue);a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.DeviationRangeHighValue);break;case"UI.ImprovementDirectionType/Maximize":default:a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.DeviationRangeLowValue);a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.ToleranceRangeLowValue);a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.AcceptanceRangeLowValue)}}else{a.datapoint.criticalityValue=p.None}}function D(e,t,a){if(e.Trend){if(typeof e.Trend==="object"){const i=e.Trend.$target;if(t.isPropertyAggregatable(i)){a.datapoint.trendPath=e.Trend.path}else{a.datapoint.trendValue="None"}}else{a.datapoint.trendValue=h[e.Trend]||"None"}}else if(e.TrendCalculation){a.datapoint.trendCalculationIsRelative=e.TrendCalculation.IsRelativeDifference?true:false;if(e.TrendCalculation.ReferenceValue.$target){const i=e.TrendCalculation.ReferenceValue.$target;if(t.isPropertyAggregatable(i)){a.datapoint.trendCalculationReferencePath=e.TrendCalculation.ReferenceValue.path}else{a.datapoint.trendValue="None"}}else{a.datapoint.trendCalculationReferenceValue=e.TrendCalculation.ReferenceValue}if(a.datapoint.trendCalculationReferencePath!==undefined||a.datapoint.trendCalculationReferenceValue!==undefined){a.datapoint.trendCalculationTresholds=[e.TrendCalculation.StrongDownDifference.valueOf(),e.TrendCalculation.DownDifference.valueOf(),e.TrendCalculation.UpDifference.valueOf(),e.TrendCalculation.StrongUpDifference.valueOf()]}}else{a.datapoint.trendValue="None"}}function b(e,t,a){if(e.TargetValue){if(e.TargetValue.$target){const i=e.TargetValue.$target;if(t.isPropertyAggregatable(i)){a.datapoint.targetPath=e.TargetValue.path}}else{a.datapoint.targetValue=e.TargetValue}}}function V(e){const t=e.annotations["Common"]||{};let a;Object.keys(t).forEach(e=>{const i=t[e];if(i.term==="com.sap.vocabularies.Common.v1.SemanticObject"){if(!i.qualifier||!a){a=i}}});if(a){const e={semanticObject:a.toString(),unavailableActions:[]};const i=Object.keys(t).find(e=>{var i;return t[e].term==="com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"&&t[e].qualifier===((i=a)===null||i===void 0?void 0:i.qualifier)});if(i){e.unavailableActions=t[i]}return e}else{return undefined}}function U(e,t,a){var i,n;const o=a.getConverterContextFor(`/${t.entitySet}`);const l=new s(o.getEntityType(),o);if(!l.isAnalyticsSupported()){a.getDiagnostics().addIssue(C.Annotation,y.Medium,g.KPI_ISSUES.NO_ANALYTICS+t.entitySet);return undefined}let r;let u;let d;let p;let h;const T=o.getAnnotationsByTerm("UI","com.sap.vocabularies.UI.v1.KPI");const U=T.find(e=>e.qualifier===t.qualifier);if(U){var P,A,R,O,M;u=U.DataPoint;r=U.SelectionVariant;d=(P=U.Detail)===null||P===void 0?void 0:P.DefaultPresentationVariant;p=(A=d)===null||A===void 0?void 0:(R=A.Visualizations)===null||R===void 0?void 0:(O=R.find(e=>v(e.$target,"com.sap.vocabularies.UI.v1.ChartDefinitionType")))===null||O===void 0?void 0:O.$target;if((M=U.Detail)!==null&&M!==void 0&&M.SemanticObject){var N;h={semanticObject:U.Detail.SemanticObject.toString(),action:(N=U.Detail.Action)===null||N===void 0?void 0:N.toString(),unavailableActions:[]}}}else{const e=o.getAnnotationsByTerm("UI","com.sap.vocabularies.UI.v1.SelectionPresentationVariant");const i=e.find(e=>e.qualifier===t.qualifier);if(i){var $,w,L,_,E,j;r=i.SelectionVariant;d=i.PresentationVariant;u=($=d)===null||$===void 0?void 0:(w=$.Visualizations)===null||w===void 0?void 0:(L=w.find(e=>v(e.$target,"com.sap.vocabularies.UI.v1.DataPointType")))===null||L===void 0?void 0:L.$target;p=(_=d)===null||_===void 0?void 0:(E=_.Visualizations)===null||E===void 0?void 0:(j=E.find(e=>v(e.$target,"com.sap.vocabularies.UI.v1.ChartDefinitionType")))===null||j===void 0?void 0:j.$target}else{a.getDiagnostics().addIssue(C.Annotation,y.Medium,g.KPI_ISSUES.KPI_NOT_FOUND+t.qualifier);return undefined}}if(!d||!u||!p){a.getDiagnostics().addIssue(C.Annotation,y.Medium,g.KPI_ISSUES.KPI_DETAIL_NOT_FOUND+t.qualifier);return undefined}const q=u.Value.$target;if(!l.isPropertyAggregatable(q)){a.getDiagnostics().addIssue(C.Annotation,y.Medium,g.KPI_ISSUES.MAIN_PROPERTY_NOT_AGGREGATABLE+t.qualifier);return undefined}const K=m(p,d);if(!K){return undefined}const k={id:c(e),entitySet:t.entitySet,datapoint:{propertyPath:u.Value.path,annotationPath:o.getEntitySetBasedAnnotationPath(u.fullyQualifiedName),title:(i=u.Title)===null||i===void 0?void 0:i.toString(),description:(n=u.Description)===null||n===void 0?void 0:n.toString()},selectionVariantFilterDefinitions:r?f(r):undefined,chart:K};if(!h){if(t.detailNavigation){h={outboundNavigation:t.detailNavigation}}else{h=V(q)}}if(h){k.navigation=h}I(u,k);S(u,l,k);D(u,l,k);b(u,l,k);return k}function P(e){const t=e.getManifestWrapper().getKPIConfiguration(),a=[];Object.keys(t).forEach(i=>{const n=U(i,t[i],e);if(n){a.push(n)}});return a}r.getKPIDefinitions=P;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/Table", ["sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/helpers/Key","sap/fe/core/formatters/TableFormatter","sap/fe/core/formatters/TableFormatterTypes","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/EntitySetHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/internal/helpers/ActionHelper","sap/ui/core/Core","../../helpers/Aggregation","../../helpers/DataFieldHelper","../../helpers/ID","../../ManifestSettings","./Criticality","./table/StandardActions"],function(e,t,n,o,i,a,l,r,s,d,u,c,v,f,p,g,m,y,b,h,T,I,P,A,D){"use strict";var F={};var C=D.isInDisplayMode;var S=D.isDraftOrStickySupported;var E=D.getStandardActionPaste;var O=D.getStandardActionMassEdit;var x=D.getStandardActionDelete;var M=D.getStandardActionCreate;var U=D.getRestrictions;var $=D.getMassEditVisibility;var N=D.getInsertUpdateActionsTemplating;var w=D.getDeleteVisibility;var V=D.getCreationRow;var k=D.generateStandardActionsContext;var L=A.getMessageTypeFromCriticalityType;var R=P.VisualizationType;var j=P.VariantManagementType;var H=P.TemplateType;var B=P.SelectionMode;var z=P.Importance;var G=P.HorizontalAlign;var K=P.CreationMode;var W=P.ActionType;var q=I.getTableID;var Q=T.isReferencePropertyStaticallyHidden;var _=h.AggregationHelper;var Y=m.isMultiValueField;var J=g.getAssociatedUnitProperty;var X=g.getAssociatedTimezoneProperty;var Z=g.getAssociatedCurrencyProperty;var ee=p.getNonSortablePropertiesRestrictions;var te=f.getDisplayMode;var ne=v.isPathUpdatable;var oe=v.isPathSearchable;var ie=v.isPathDeletable;var ae=v.getTargetObjectPath;var le=v.enhanceDataModelPath;var re=c.isTypeDefinition;var se=c.isProperty;var de=c.isPathAnnotationExpression;var ue=c.isNavigationProperty;var ce=c.isAnnotationOfType;var ve=u.replaceSpecialChars;var fe=u.generate;var pe=s.resolveBindingString;var ge=s.pathInModel;var me=s.or;var ye=s.not;var be=s.isConstant;var he=s.ifElse;var Te=s.getExpressionFromAnnotation;var Ie=s.formatResult;var Pe=s.equal;var Ae=s.EDM_TYPE_MAPPING;var De=s.constant;var Fe=s.compileExpression;var Ce=s.and;var Se=r.MessageType;var Ee=a.KeyHelper;var Oe=i.IssueType;var xe=i.IssueSeverity;var Me=i.IssueCategoryType;var Ue=i.IssueCategory;var $e=o.Placement;var Ne=o.OverrideType;var we=o.insertCustomElements;var Ve=n.UI;var ke=n.Entity;var Le=t.getEnabledForAnnotationAction;var Re=t.removeDuplicateActions;var je=t.isActionNavigable;var He=t.getCopyAction;var Be=t.getActionsFromManifest;var ze=t.dataFieldIsCopyAction;var Ge=e.isDataPointFromDataFieldDefault;var Ke=e.isDataFieldTypes;var We=e.isDataFieldForActionAbstract;var qe=e.getTargetValueOnDataPoint;var Qe=e.getSemanticObjectPath;var _e=e.getDataFieldDataType;var Ye=e.collectRelatedPropertiesRecursively;var Je=e.collectRelatedProperties;var Xe;(function(e){e["Default"]="Default";e["Annotation"]="Annotation";e["Slot"]="Slot"})(Xe||(Xe={}));function Ze(e,t,n,o){const i=ht(e,t,n);const a=i.tableActions;const l=i.hiddenTableActions;const r=Be(n.getManifestControlConfiguration(t).actions,n,a,o,true,l);const s={isNavigable:Ne.overwrite,enableOnSelect:Ne.overwrite,enableAutoScroll:Ne.overwrite,enabled:Ne.overwrite,visible:Ne.overwrite,defaultValuesExtensionFunction:Ne.overwrite,command:Ne.overwrite};const d=we(a,r.actions,s);return{actions:d,commandActions:r.commandActions}}F.getTableActions=Ze;function et(e,t,n,o){const i=Jt(e,t,n);const a=en(n.getManifestControlConfiguration(t).columns,i,n,n.getAnnotationEntityType(e),o);return we(i,a,{width:Ne.overwrite,importance:Ne.overwrite,horizontalAlign:Ne.overwrite,availability:Ne.overwrite,isNavigable:Ne.overwrite,settings:Ne.overwrite,formatOptions:Ne.overwrite})}F.getTableColumns=et;const tt=function(e,t,n){const o=new _(e,n);function i(e){return t.find(t=>{const n=t;return n.propertyInfos===undefined&&n.relativePath===e})}if(!o.isAnalyticsSupported()){return undefined}const a=new Set;t.forEach(e=>{const t=e;if(t.unit){a.add(t.unit)}});const l=o.getCustomAggregateDefinitions();const r={};l.forEach(e=>{const t=o._entityType.entityProperties.find(t=>t.name===e.qualifier);if(t){var n,i;const o=(n=e.annotations)===null||n===void 0?void 0:(i=n.Aggregation)===null||i===void 0?void 0:i.ContextDefiningProperties;r[t.name]=o?o.map(e=>e.value):[]}});const s={};t.forEach(e=>{const t=e;if(t.propertyInfos===undefined&&t.relativePath){const e=r[t.relativePath];if(e&&!a.has(t.name)){s[t.name]={defaultAggregate:{},relativePath:t.relativePath};const n=[];e.forEach(e=>{const t=i(e);if(t){n.push(t.name)}});if(n.length){s[t.name].defaultAggregate.contextDefiningProperties=n}}}});return s};F.getAggregateDefinitionsFromEntityType=tt;function nt(e,t,n,o){if(e.control.type==="AnalyticalTable"){const i=tt(t,e.columns,n),a=new _(t,n);if(i){e.enableAnalytics=true;e.enable$select=false;e.enable$$getKeepAliveContext=false;e.aggregates=i;sn(e);const t=a.getAllowedTransformations();e.enableBasicSearch=t?t.indexOf("search")>=0:true;e.annotation.groupConditions=rn(o,e.columns,e.control.type);e.annotation.aggregateConditions=dn(o,e.columns)}e.control.type="GridTable"}else if(e.control.type==="ResponsiveTable"){e.annotation.groupConditions=rn(o,e.columns,e.control.type)}else if(e.control.type==="TreeTable"){const o=new _(t,n);const i=o.getAllowedTransformations();e.enableBasicSearch=i?i.includes("search"):true;e.enable$$getKeepAliveContext=false}}F.updateTableVisualizationForType=nt;function ot(e,t){const n=e.getManifestWrapper();if(t&&n.getNavigationConfiguration(t)){const e=n.getNavigationConfiguration(t);if(Object.keys(e).length>0){return t}}const o=e.getDataModelObjectPath();const i=e.getContextPath();const a=n.getNavigationConfiguration(i);if(a&&Object.keys(a).length>0){return i}return o.targetEntitySet?o.targetEntitySet.name:o.startingEntitySet.name}function it(e,t){function n(e){return t.find(t=>{const n=t;return n.propertyInfos===undefined&&n.relativePath===e})}t.forEach(t=>{const o=t;if(o.propertyInfos===undefined&&o.relativePath){const t=e.entityProperties.find(e=>e.name===o.relativePath);if(t){var i,a,l;const e=Z(t)||J(t);const c=X(t);const v=t===null||t===void 0?void 0:(i=t.annotations)===null||i===void 0?void 0:(a=i.Common)===null||a===void 0?void 0:a.Timezone;if(e){const t=n(e.name);o.unit=t===null||t===void 0?void 0:t.name}else{var r,s,d,u;const e=(t===null||t===void 0?void 0:(r=t.annotations)===null||r===void 0?void 0:(s=r.Measures)===null||s===void 0?void 0:s.ISOCurrency)||(t===null||t===void 0?void 0:(d=t.annotations)===null||d===void 0?void 0:(u=d.Measures)===null||u===void 0?void 0:u.Unit);if(e){o.unitText=`${e}`}}if(c){const e=n(c.name);o.timezone=e===null||e===void 0?void 0:e.name}else if(v){o.timezoneText=v.toString()}const f=te(t),p=(l=t.annotations.Common)===null||l===void 0?void 0:l.Text;if(de(p)&&f!=="Value"){const e=n(p.path);if(e&&e.name!==o.name){o.textArrangement={textProperty:e.name,mode:f}}}}}})}F.updateLinkedProperties=it;function at(e){var t,n,o,i,a,l,r,s,d,u,c,v,f;const p=(t=e.getAnnotationEntityType())===null||t===void 0?void 0:(n=t.annotations)===null||n===void 0?void 0:(o=n.UI)===null||o===void 0?void 0:(i=o.HeaderInfo)===null||i===void 0?void 0:(a=i.Title)===null||a===void 0?void 0:(l=a.Value)===null||l===void 0?void 0:l.path;const g=(r=e.getAnnotationEntityType())===null||r===void 0?void 0:(s=r.annotations)===null||s===void 0?void 0:(d=s.Common)===null||d===void 0?void 0:d.SemanticKey;const m=e===null||e===void 0?void 0:(u=e.getAnnotationEntityType())===null||u===void 0?void 0:(c=u.annotations)===null||c===void 0?void 0:(v=c.UI)===null||v===void 0?void 0:(f=v.HeaderInfo)===null||f===void 0?void 0:f.TypeName;const y=[];if(g){g.forEach(function(e){y.push(e.value)})}return{headerInfoTitlePath:p,semanticKeyColumns:y,headerInfoTypeName:m}}function lt(e,t,n,o,i,a){const l=Fn(e,t,n,i);const{navigationPropertyPath:r}=vn(t);const s=ot(n,r);const d=n.getManifestWrapper().getNavigationConfiguration(s);const u=et(e,t,n,d);const c=st(e,n);const v=at(n);const f=Ze(e,t,n,d);const p={type:R.Table,annotation:un(e,t,n,l,u,o,a),control:l,actions:Re(f.actions),commandActions:f.commandActions,columns:u,operationAvailableMap:JSON.stringify(c),operationAvailableProperties:ut(c,n),headerInfoTitle:v.headerInfoTitlePath,semanticKeys:v.semanticKeyColumns,headerInfoTypeName:v.headerInfoTypeName,enable$select:true,enable$$getKeepAliveContext:true};it(n.getAnnotationEntityType(e),u);nt(p,n.getAnnotationEntityType(e),n,o);return p}F.createTableVisualization=lt;function rt(e,t){const n=Fn(undefined,"",e,false);const o=At({},e.getEntityType(),[],[],e,n.type,[]);const i=st(undefined,e);const a=at(e);const l={type:R.Table,annotation:un(undefined,"",e,n,t?[]:o),control:n,actions:[],columns:o,operationAvailableMap:JSON.stringify(i),operationAvailableProperties:ut(i,e),headerInfoTitle:a.headerInfoTitlePath,semanticKeys:a.semanticKeyColumns,headerInfoTypeName:a.headerInfoTypeName,enable$select:true,enable$$getKeepAliveContext:true};it(e.getEntityType(),o);nt(l,e.getEntityType(),e);return l}F.createDefaultTableVisualization=rt;function st(e,t){return y.getOperationAvailableMap(e,"table",t)}function dt(e){var t,n;const o=U(e);const i=e.getEntitySet();const a=o.isUpdatable;const l=!be(a.expression)&&a.navigationExpression._type==="Unresolvable";const r=i===null||i===void 0?void 0:(t=i.annotations.Capabilities)===null||t===void 0?void 0:(n=t.UpdateRestrictions)===null||n===void 0?void 0:n.Updatable;const s=de(r)&&r.path;return l?s:""}function ut(e,t){const n=new Set;for(const t in e){const o=e[t];if(o===null){n.add(t)}else if(typeof o==="string"){n.add(o)}}if(n.size){var o,i,a,l,r;const e=t.getEntityType();const s=(o=e.annotations)===null||o===void 0?void 0:(i=o.UI)===null||i===void 0?void 0:(a=i.HeaderInfo)===null||a===void 0?void 0:(l=a.Title)===null||l===void 0?void 0:(r=l.Value)===null||r===void 0?void 0:r.path;if(s){n.add(s)}}return Array.from(n).join(",")}function ct(e,t,n,o){const i=[];e.forEach(e=>{var a,l;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&e!==null&&e!==void 0&&(a=e.ActionTarget)!==null&&a!==void 0&&a.isBound&&t===(e===null||e===void 0?void 0:e.ActionTarget.sourceEntityType)||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&e.RequiresContext&&(e===null||e===void 0?void 0:(l=e.Inline)===null||l===void 0?void 0:l.valueOf())!==true){var r,s,d;if(typeof((r=e.annotations)===null||r===void 0?void 0:(s=r.UI)===null||s===void 0?void 0:(d=s.Hidden)===null||d===void 0?void 0:d.valueOf())==="object"){i.push(Pe(vt(e,n,o),false))}}});return i}function vt(e,t,n){let o;if((e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.UI.v1.DataFieldForAction"||(e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){var i,a;o=e===null||e===void 0?void 0:(i=e.annotations)===null||i===void 0?void 0:(a=i.UI)===null||a===void 0?void 0:a.Hidden}else{o=e===null||e===void 0?void 0:e.visible}let l;if(de(o)){l=o.path}else{l=o}if(l){if(e!==null&&e!==void 0&&e.visible){l=l.substring(1,l.length-1)}if(l.indexOf("/")>0){const e=l.split("/");const n=e[0];if(ue(t===null||t===void 0?void 0:t.targetObject)&&t.targetObject.partner===n){return ge(e.slice(1).join("/"))}else{return De(true)}}else if(n){return ge(l)}else{return De(true)}}return De(true)}function ft(e,t,n){return Object.keys(n).some(o=>{if(o===e){var i;if(t!==null&&t!==void 0&&(i=t.ActionTarget)!==null&&i!==void 0&&i.isBound||t!==null&&t!==void 0&&t.RequiresContext){n[e].requiresSelection=true}return true}return false})}function pt(e,t,n){return e.some(e=>{var o,i,a,l,r,s,d;if((e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&(e===null||e===void 0?void 0:(o=e.Inline)===null||o===void 0?void 0:o.valueOf())!==true&&(((i=e.annotations)===null||i===void 0?void 0:(a=i.UI)===null||a===void 0?void 0:(l=a.Hidden)===null||l===void 0?void 0:l.valueOf())===false||((r=e.annotations)===null||r===void 0?void 0:(s=r.UI)===null||s===void 0?void 0:(d=s.Hidden)===null||d===void 0?void 0:d.valueOf())===undefined)){if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){var u;const o=fe(["DataFieldForAction",e.Action]);if(ft(o,e,t)){return false}return(e===null||e===void 0?void 0:(u=e.ActionTarget)===null||u===void 0?void 0:u.isBound)&&n===(e===null||e===void 0?void 0:e.ActionTarget.sourceEntityType)}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){if(ft(`DataFieldForIntentBasedNavigation::${e.SemanticObject}::${e.Action}`,e,t)){return false}return e.RequiresContext}}return false})}function gt(e){return Object.keys(e).some(t=>{var n;const o=e[t];if(o.requiresSelection&&((n=o.visible)===null||n===void 0?void 0:n.toString())==="true"){return true}return false})}function mt(e){const t=[];if(e){Object.keys(e).forEach(n=>{const o=e[n];if(o.requiresSelection===true&&o.visible!==undefined){if(typeof o.visible==="string"){var i;t.push(pe(o===null||o===void 0?void 0:(i=o.visible)===null||i===void 0?void 0:i.valueOf()))}}})}return t}function yt(e){const t=ie(e.getDataModelObjectPath());const n=ne(e.getDataModelObjectPath());return{isDeletable:!(be(t)&&t.value===false),isUpdatable:!(be(n)&&n.value===false)}}F.getCapabilityRestriction=yt;function bt(e,t,n,o,i,a){var l;let r=arguments.length>6&&arguments[6]!==undefined?arguments[6]:De(false);if(!e){return B.None}const s=n.getManifestControlConfiguration(t);let d=(l=s.tableSettings)===null||l===void 0?void 0:l.selectionMode;let u=[],c=[];const v=Be(n.getManifestControlConfiguration(t).actions,n,[],undefined,false);let f,p;if(n.getTemplateType()===H.ObjectPage){f=ie(n.getDataModelObjectPath());p=f?Fe(f,true):f}const g=!be(r)||r.value!==false;if(d&&d===B.None&&a){if(n.getTemplateType()===H.ObjectPage&&g){return Fe(he(Ce(Ve.IsEditable,r),De("Multi"),he(a,De("Multi"),De("None"))))}else if(g){return B.Multi}return Fe(he(a,De("Multi"),De("None")))}if(!d||d===B.Auto){d=B.Multi}if(g){d=d===B.Single?B.Single:B.Multi}if(pt(e,v.actions,n.getEntityType())||gt(v.actions)){return d}u=ct(e,n.getEntityType(),n.getDataModelObjectPath(),o);c=mt(v.actions);if(u.length===0&&c.length===0&&(a||g)){if(!o){if(i.isDeletable||p!=="false"||g){const e=me(a||true,r);return Fe(he(Ce(Ve.IsEditable,e),De(d),De(B.None)))}else{return B.None}}else if(g){return d}else if(i.isDeletable&&a){return Fe(he(a,De(d),De("None")))}else{return B.None}}else if(!o){if(i.isDeletable||p!=="false"||g){const e=he(g&&!i.isDeletable,r,De(true));return Fe(he(Ce(Ve.IsEditable,e),De(d),he(me(...u.concat(c)),De(d),De(B.None))))}else{return Fe(he(me(...u.concat(c)),De(d),De(B.None)))}}else if(i.isDeletable||g){return d}else{return Fe(he(me(...u.concat(c),r),De(d),De(B.None)))}}F.getSelectionMode=bt;function ht(e,t,n){const o=[];const i=[];const a=He(e.filter(e=>ze(e)));const l=n.getEntityType().fullyQualifiedName;if(a){var r,s,d;o.push({type:W.Copy,annotationPath:n.getEntitySetBasedAnnotationPath(a.fullyQualifiedName),key:Ee.generateKeyFromDataField(a),enabled:Fe(Pe(ge("numberOfSelectedContexts","internal"),1)),visible:Fe(ye(Pe(Te((r=a.annotations)===null||r===void 0?void 0:(s=r.UI)===null||s===void 0?void 0:s.Hidden,[],undefined,n.getRelativeModelPathFunction()),true))),text:((d=a.Label)===null||d===void 0?void 0:d.toString())??b.getLibraryResourceBundle("sap.fe.core").getText("C_COMMON_COPY"),isNavigable:true})}e.filter(e=>!ze(e)).forEach(e=>{var t,a,r,s,d,u,c,v,f,p,g,m;if(((t=e.annotations)===null||t===void 0?void 0:(a=t.UI)===null||a===void 0?void 0:(r=a.Hidden)===null||r===void 0?void 0:r.valueOf())===true){i.push({type:W.Default,key:Ee.generateKeyFromDataField(e)})}else if(We(e)&&((s=e.Inline)===null||s===void 0?void 0:s.valueOf())!==true&&((d=e.Determining)===null||d===void 0?void 0:d.valueOf())!==true){switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":let t=false;if(((u=e.ActionTarget)===null||u===void 0?void 0:(c=u.annotations)===null||c===void 0?void 0:(v=c.Core)===null||v===void 0?void 0:v.OperationAvailable)!==undefined){var y,b,h,T;if(!((y=e.ActionTarget)!==null&&y!==void 0&&y.isBound)){t=true}else if((b=e.ActionTarget)!==null&&b!==void 0&&b.isBound&&((h=e.ActionTarget)===null||h===void 0?void 0:h.sourceType)!==l){t=true}else if((T=e.ActionTarget)!==null&&T!==void 0&&T.parameters[0].isCollection){t=true}}const i={type:W.DataFieldForAction,annotationPath:n.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),key:Ee.generateKeyFromDataField(e),visible:Fe(ye(Pe(Te((f=e.annotations)===null||f===void 0?void 0:(p=f.UI)===null||p===void 0?void 0:p.Hidden,[],undefined,n.getRelativeModelPathFunction()),true))),isNavigable:true};if(t){i.enabled=Le(n,e.ActionTarget)}o.push(i);break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":o.push({type:W.DataFieldForIntentBasedNavigation,annotationPath:n.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),key:Ee.generateKeyFromDataField(e),visible:Fe(ye(Pe(Te((g=e.annotations)===null||g===void 0?void 0:(m=g.UI)===null||m===void 0?void 0:m.Hidden,[],undefined,n.getRelativeModelPathFunction()),true)))});break;default:break}}});return{tableActions:o,hiddenTableActions:i}}function Tt(e,t,n){let o=Se.None;if(e){if(typeof e==="object"){o=Te(e)}else{o=L(e)}}const i=[];n===null||n===void 0?void 0:n.keys.forEach(e=>{if(e.name!=="IsActiveEntity"){i.push(ge(e.name,undefined))}});return Ie([o,ge(`filteredMessages`,"internal"),t&&ke.HasActive,t&&ke.IsActive,`${t}`,...i],l.rowHighlighting,n)}function It(e,t,n,o,i){var a;const l=(o===null||o===void 0?void 0:o.create)||(o===null||o===void 0?void 0:o.detail);const r=n.getManifestControlConfiguration(i);const s=r&&r.tableSettings||{};if(l!==null&&l!==void 0&&l.outbound&&l.outboundDetail&&o!==null&&o!==void 0&&o.create){return{mode:"External",outbound:l.outbound,outboundDetail:l.outboundDetail,navigationSettings:o}}let d;if(e){var u,c,v;const e=(u=n.getEntitySet())===null||u===void 0?void 0:u.annotations;const o=e===null||e===void 0?void 0:e.Common,i=e===null||e===void 0?void 0:e.Session;d=(o===null||o===void 0?void 0:(c=o.DraftRoot)===null||c===void 0?void 0:c.NewAction)||(i===null||i===void 0?void 0:(v=i.StickySessionSupported)===null||v===void 0?void 0:v.NewAction);if(t.creationMode===K.CreationRow&&d){throw Error(`Creation mode '${K.CreationRow}' can not be used with a custom 'new' action (${d})`)}if(l!==null&&l!==void 0&&l.route){var f;return{mode:t.creationMode,append:t.createAtEnd,newAction:(f=d)===null||f===void 0?void 0:f.toString(),navigateToTarget:t.creationMode===K.NewPage?l.route:undefined}}}if(t.creationMode===K.NewPage){var p;t.creationMode=K.Inline;if(((p=s.creationMode)===null||p===void 0?void 0:p.createAtEnd)===undefined){t.createAtEnd=false}}return{mode:t.creationMode,append:t.createAtEnd,newAction:(a=d)===null||a===void 0?void 0:a.toString()}}const Pt=function(e,t,n,o,i){let a,r;let s=De(Se.None);const u=t.getEntityType();if(n&&e){var v,f;r=((v=n.display)===null||v===void 0?void 0:v.target)||((f=n.detail)===null||f===void 0?void 0:f.outbound);if(r){a=".handlers.onChevronPressNavigateOutBound( $controller ,'"+r+"', ${$parameters>bindingContext})"}else if(u){var p,g,m;const l=t.getEntitySet();r=(p=n.detail)===null||p===void 0?void 0:p.route;s=Tt((g=e.annotations)===null||g===void 0?void 0:(m=g.UI)===null||m===void 0?void 0:m.Criticality,!!d.getDraftRoot(l)||!!d.getDraftNode(l),u);if(r&&c.isEntitySet(l)){a="API.onTableRowPress($event, $controller, ${$parameters>bindingContext}, { callExtension: true, targetPath: '"+o+"', editable : "+(d.getDraftRoot(l)||d.getDraftNode(l)?"!${$parameters>bindingContext}.getProperty('IsActiveEntity')":"undefined")+(i==="AnalyticalTable"||i==="TreeTable"?", bRecreateContext: true":"")+"})"}}}const y=Ie([ge("/deepestPath","internal")],l.navigatedRow,u);return{press:a,action:a?"Navigation":undefined,rowHighlighting:Fe(s),rowNavigated:Fe(y),visible:Fe(ye(Ve.IsInactive))}};const At=function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];let o=arguments.length>3?arguments[3]:undefined;let i=arguments.length>4?arguments[4]:undefined;let a=arguments.length>5?arguments[5]:undefined;let l=arguments.length>6?arguments[6]:undefined;const r=n;const s=new _(t,i);t.entityProperties.forEach(t=>{const d=n.some(e=>e.name===t.name);if(!t.targetType&&!d){const n=Je(t.name,t,i,true,a);const d=Object.keys(n.properties);const u=Object.keys(n.additionalProperties);if(n.textOnlyPropertiesFromTextAnnotation.length>0){l.push(...n.textOnlyPropertiesFromTextAnnotation)}const c=Dt(t,i.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),t.name,true,true,o,s,i,l);const v=i.getAnnotationsByTerm("Common","com.sap.vocabularies.Common.v1.SemanticKey",[i.getEntityType()])[0];const f=Wt(c.name,v,false,null);if(Object.keys(f).length>0){c.formatOptions={...f}}if(d.length>0){c.propertyInfos=d;c.exportSettings={...c.exportSettings,template:n.exportSettingsTemplate,wrap:n.exportSettingsWrapping};c.exportSettings.type=cn(t.type,d.length>1);if(n.exportUnitName){c.exportSettings.unitProperty=n.exportUnitName;c.exportSettings.type="Currency"}else if(n.exportUnitString){c.exportSettings.unit=n.exportUnitString}if(n.exportTimezoneName){c.exportSettings.timezoneProperty=n.exportTimezoneName;c.exportSettings.utc=false}else if(n.exportTimezoneString){c.exportSettings.timezone=n.exportTimezoneString}if(n.exportDataPointTargetValue){c.exportDataPointTargetValue=n.exportDataPointTargetValue;c.exportSettings.type="String"}d.forEach(t=>{e[t]=n.properties[t]})}if(u.length>0){c.additionalPropertyInfos=u;u.forEach(t=>{e[t]=n.additionalProperties[t]})}r.push(c)}if(te(t)==="Description"){o=o.concat(t.name);r.push(Dt(t,i.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),t.name,false,false,o,s,i,[]))}});const d=Ut(e,r,o,i,t,l);return r.concat(d)};F.getColumnsFromEntityType=At;const Dt=function(e,t,n,o,i,a,l,r,s){var d,u,c,v,f;const p=o?n:`Property::${n}`;const g=(o?"DataField::":"Property::")+ve(n);const m=Qe(r,e);const y=((d=e.annotations)===null||d===void 0?void 0:(u=d.UI)===null||u===void 0?void 0:(c=u.Hidden)===null||c===void 0?void 0:c.valueOf())===true;const b=e.name?kt(e.name,true,false):undefined;const h=b!=e.name;const T=cn(e.type);const I=e.type==="Edm.Date"?"YYYY-MM-DD":undefined;const P=_e(e);const A=Cn(e,P);const D=r.getAnnotationsByTerm("Common","com.sap.vocabularies.Common.v1.SemanticKey",[r.getEntityType()])[0];const F=s&&s.indexOf(n)>=0;const C=(!y||F)&&a.indexOf(n)===-1;const S={className:e.type||P,formatOptions:A.formatOptions,constraints:A.constraints};let E=null;if(Ft(e)){var O,x,M,U,$,N;const t=Z(e)||J(e);const n=X(e);const o=((O=e.annotations)===null||O===void 0?void 0:(x=O.Measures)===null||x===void 0?void 0:x.ISOCurrency)||((M=e.annotations)===null||M===void 0?void 0:(U=M.Measures)===null||U===void 0?void 0:U.Unit);const i=($=e.annotations)===null||$===void 0?void 0:(N=$.Common)===null||N===void 0?void 0:N.Timezone;E={type:T,inputFormat:I,scale:e.scale,delimiter:e.type==="Edm.Int64"};if(t){E.unitProperty=t.name;E.type="Currency"}else if(o){E.unit=`${o}`}if(n){E.timezoneProperty=n.name;E.utc=false}else if(i){E.timezone=i.toString()}}const w=Dn(n,r);const V={key:g,type:Xe.Annotation,label:Ot(e,h),groupLabel:h?Ot(e):undefined,group:h?b:undefined,annotationPath:t,semanticObjectPath:m,availability:!i||y?"Hidden":"Adaptation",name:p,relativePath:n,sortable:C,isGroupable:l.isAnalyticsSupported()?!!l.isPropertyGroupable(e):C,isKey:e.isKey,exportSettings:E,caseSensitive:jt(r),typeConfig:S,importance:Yt((v=e.annotations)===null||v===void 0?void 0:(f=v.UI)===null||f===void 0?void 0:f.DataFieldDefault,D),additionalLabels:w};const k=xt(e);if(k){V.tooltip=k}const L=qe(e);if(Ge(e)&&typeof L==="string"&&V.exportSettings){V.exportDataPointTargetValue=L;V.exportSettings.template="{0}/"+L}return V};function Ft(e){var t;let n,o;const i=(t=e.annotations.UI)===null||t===void 0?void 0:t.DataFieldDefault;if(se(e)&&i!==null&&i!==void 0&&i.$Type){if(Q(i)===true){return false}n=i===null||i===void 0?void 0:i.$Type}else if(Q(e)===true){return false}else{var a,l,r,s,d,u,c,v,f,p,g;o=e;n=o.$Type;if(n==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&(a=o.Target)!==null&&a!==void 0&&(l=a.$target)!==null&&l!==void 0&&l.$Type){var m,y;n=(m=o.Target)===null||m===void 0?void 0:(y=m.$target)===null||y===void 0?void 0:y.$Type;return"com.sap.vocabularies.UI.v1.ChartDefinitionType".indexOf(n)===-1}else if(((r=o.Value)===null||r===void 0?void 0:(s=r.$target)===null||s===void 0?void 0:(d=s.annotations)===null||d===void 0?void 0:(u=d.Core)===null||u===void 0?void 0:(c=u.MediaType)===null||c===void 0?void 0:c.term)==="Org.OData.Core.V1.MediaType"&&((v=o.Value)===null||v===void 0?void 0:(f=v.$target)===null||f===void 0?void 0:(p=f.annotations)===null||p===void 0?void 0:(g=p.Core)===null||g===void 0?void 0:g.isURL)!==true){return false}}return n?["com.sap.vocabularies.UI.v1.DataFieldForAction","com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation","com.sap.vocabularies.UI.v1.DataFieldForActionGroup"].indexOf(n)===-1:true}const Ct=function(e){switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":return!!e.Inline;case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":return true;default:}};const St=function(e){var t,n,o,i,a,l;const r=e.targetObject;let s;if(r){switch(r.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataPointType":s=r.Value.$target;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if((r===null||r===void 0?void 0:(t=r.Target)===null||t===void 0?void 0:(n=t.$target)===null||n===void 0?void 0:n.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"){var d;s=(d=r.Target.$target)===null||d===void 0?void 0:d.Value.$target}break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForAction":default:s=undefined}}const u=De(false);const c=De(false);return Ce(...[ye(Pe(Te(r===null||r===void 0?void 0:(o=r.annotations)===null||o===void 0?void 0:(i=o.UI)===null||i===void 0?void 0:i.Hidden),true)),he(!!s,s&&ye(Pe(Te((a=s.annotations)===null||a===void 0?void 0:(l=a.UI)===null||l===void 0?void 0:l.Hidden),true)),true),me(ye(u),c)])};F._getVisibleExpression=St;const Et=function(e){var t,n;const o=[];if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&((t=e.Target)===null||t===void 0?void 0:(n=t.$target)===null||n===void 0?void 0:n.$Type)==="com.sap.vocabularies.UI.v1.FieldGroupType"){var i,a;if(e!==null&&e!==void 0&&(i=e.annotations)!==null&&i!==void 0&&(a=i.UI)!==null&&a!==void 0&&a.Hidden){return Fe(ye(Pe(Te(e.annotations.UI.Hidden),true)))}else{var l;(l=e.Target.$target.Data)===null||l===void 0?void 0:l.forEach(e=>{o.push(St({targetObject:e}))});return Fe(he(me(...o),De(true),De(false)))}}else{return undefined}};const Ot=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!e){return undefined}if(se(e)||ue(e)){var n,o,i,a,l;const t=(n=e.annotations)===null||n===void 0?void 0:(o=n.UI)===null||o===void 0?void 0:o.DataFieldDefault;if(t&&!t.qualifier&&(i=t.Label)!==null&&i!==void 0&&i.valueOf()){var r;return Fe(Te((r=t.Label)===null||r===void 0?void 0:r.valueOf()))}return Fe(Te(((a=e.annotations.Common)===null||a===void 0?void 0:(l=a.Label)===null||l===void 0?void 0:l.valueOf())||e.name))}else if(Ke(e)){var s,d,u,c,v,f,p,g;if(!!t&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){var m;return Fe(Te((m=e.Label)===null||m===void 0?void 0:m.valueOf()))}return Fe(Te(((s=e.Label)===null||s===void 0?void 0:s.valueOf())||((d=e.Value)===null||d===void 0?void 0:(u=d.$target)===null||u===void 0?void 0:(c=u.annotations)===null||c===void 0?void 0:(v=c.Common)===null||v===void 0?void 0:(f=v.Label)===null||f===void 0?void 0:f.valueOf())||((p=e.Value)===null||p===void 0?void 0:(g=p.$target)===null||g===void 0?void 0:g.name)))}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var y,b,h,T,I,P,A,D;return Fe(Te(((y=e.Label)===null||y===void 0?void 0:y.valueOf())||((b=e.Target)===null||b===void 0?void 0:(h=b.$target)===null||h===void 0?void 0:(T=h.Value)===null||T===void 0?void 0:(I=T.$target)===null||I===void 0?void 0:(P=I.annotations)===null||P===void 0?void 0:(A=P.Common)===null||A===void 0?void 0:(D=A.Label)===null||D===void 0?void 0:D.valueOf())))}else{var F;return Fe(Te((F=e.Label)===null||F===void 0?void 0:F.valueOf()))}};const xt=function(e){var t,n;if(!e){return undefined}if(se(e)||(t=e.annotations)!==null&&t!==void 0&&(n=t.Common)!==null&&n!==void 0&&n.QuickInfo){var o,i;return(o=e.annotations)!==null&&o!==void 0&&(i=o.Common)!==null&&i!==void 0&&i.QuickInfo?Fe(Te(e.annotations.Common.QuickInfo.valueOf())):undefined}else if(Ke(e)){var a,l,r,s;return(a=e.Value)!==null&&a!==void 0&&(l=a.$target)!==null&&l!==void 0&&(r=l.annotations)!==null&&r!==void 0&&(s=r.Common)!==null&&s!==void 0&&s.QuickInfo?Fe(Te(e.Value.$target.annotations.Common.QuickInfo.valueOf())):undefined}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var d,u,c,v,f;const t=(d=e.Target)===null||d===void 0?void 0:d.$target;return t!==null&&t!==void 0&&(u=t.Value)!==null&&u!==void 0&&(c=u.$target)!==null&&c!==void 0&&(v=c.annotations)!==null&&v!==void 0&&(f=v.Common)!==null&&f!==void 0&&f.QuickInfo?Fe(Te(t.Value.$target.annotations.Common.QuickInfo.valueOf())):undefined}else{return undefined}};function Mt(e,t){return Ie([ge(`semanticKeyHasDraftIndicator`,"internal"),ge(`filteredMessages`,"internal"),e,t],l.getErrorStatusTextVisibilityFormatter)}F.getRowStatusVisibility=Mt;const Ut=function(e,t,n,o,i,a){const l=[];const r={};const s=new _(i,o);Object.keys(e).forEach(i=>{const d=e[i],u=o.getAbsoluteAnnotationPath(i),c=t.find(e=>e.name===i);if(c===undefined){const e=Dt(d,u,i,true,false,n,s,o,a);e.isPartOfLineItem=t.some(e=>{var t;return((t=e.propertyInfos)===null||t===void 0?void 0:t.includes(i))&&e.isPartOfLineItem});l.push(e)}else if(c.annotationPath!==u||c.propertyInfos){const e=`Property::${i}`;if(!t.some(t=>t.name===e)){const t=Dt(d,u,i,false,false,n,s,o,a);t.isPartOfLineItem=c.isPartOfLineItem;l.push(t);r[i]=e}else if(t.some(t=>t.name===e)&&t.some(e=>{var t;return(t=e.propertyInfos)===null||t===void 0?void 0:t.includes(i)})){r[i]=e}}});t.forEach(e=>{var t,n;e.propertyInfos=(t=e.propertyInfos)===null||t===void 0?void 0:t.map(e=>r[e]??e);e.additionalPropertyInfos=(n=e.additionalPropertyInfos)===null||n===void 0?void 0:n.map(e=>r[e]??e)});return l};const $t=function(e){var t,n,o;if(Ke(e)){var i;return(i=e.Value)===null||i===void 0?void 0:i.path}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&(t=e.Target)!==null&&t!==void 0&&(n=t.$target)!==null&&n!==void 0&&(o=n.Value)!==null&&o!==void 0&&o.path){var a,l;return(a=e.Target)===null||a===void 0?void 0:(l=a.$target)===null||l===void 0?void 0:l.Value.path}else{return Ee.generateKeyFromDataField(e)}};const Nt=function(e,t,n){const o=`Property_Technical::${e}`;const i=t.find(e=>e.key===o);const a=!i&&t.find(t=>t.name===e&&!t.propertyInfos);if(a){const i={key:o,type:Xe.Annotation,label:a.label,annotationPath:a.annotationPath,availability:"Hidden",name:o,relativePath:a.relativePath,sortable:false,isGroupable:false,isKey:false,exportSettings:null,caseSensitive:false,aggregatable:false,extension:{technicallyGroupable:true,technicallyAggregatable:true}};t.push(i);n[e]=i.name}};const wt=function(e,t,n){var o;const i=(o=n.getManifestControlConfiguration(t))===null||o===void 0?void 0:o.columns;const a=i&&Object.keys(i);return a&&!!a.find(function(t){return t===e&&i[t].showDataFieldsLabel})};const Vt=function(e){var t,n;let o="";switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":o=e===null||e===void 0?void 0:(t=e.Value)===null||t===void 0?void 0:t.path;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":o=e===null||e===void 0?void 0:(n=e.Target)===null||n===void 0?void 0:n.value;break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForActionGroup":case"com.sap.vocabularies.UI.v1.DataFieldWithActionGroup":o=Ee.generateKeyFromDataField(e);break}return o};const kt=function(e,t,n){const o=t?e.lastIndexOf("/"):e.indexOf("/");if(o===-1){return e}return n?e.substring(o+1,e.length):e.substring(0,o)};const Lt=function(e,t){if(Ke(e)&&de(e.Value)){const n=le(t.getDataModelObjectPath(),e.Value.path);return Y(n)}else{return false}};const Rt=function(e,t,n){return n.indexOf(t)===-1&&(e.$Type==="com.sap.vocabularies.UI.v1.DataField"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction")};const jt=function(e){const t=Ht(e);return Array.isArray(t)?t.indexOf("tolower")===-1:true};F.isFilteringCaseSensitive=jt;function Ht(e){const t=e.getEntitySet();if(c.isEntitySet(t)){var n,o;return((n=t.annotations.Capabilities)===null||n===void 0?void 0:n.FilterFunctions)??((o=e.getEntityContainer().annotations.Capabilities)===null||o===void 0?void 0:o.FilterFunctions)}return undefined}function Bt(e){return e===undefined?undefined:{textLinesEdit:4,...e}}function zt(e,t){const n=[];let o=false;for(let i=0;i<e.length;i++){n.push(e[i].value);if(e[i].value===t){o=true}}return{values:n,semanticKeyFound:o}}function Gt(e,t){let n=false;let o;if(e&&e.length>=1&&t&&t.length>=1){for(let i=0;i<e.length;i++){if([e[i]].some(e=>t.indexOf(e)>=0)){n=true;o=e[i];break}}}return{semanticKeyHasPropertyInFieldGroup:n,fieldGroupPropertyPath:o}}function Kt(e,t){var n,o;const i=[];let a={semanticKeyHasPropertyInFieldGroup:false,fieldGroupPropertyPath:undefined};if(e&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&((n=e.Target)===null||n===void 0?void 0:(o=n.$target)===null||o===void 0?void 0:o.$Type)==="com.sap.vocabularies.UI.v1.FieldGroupType"){var l;(l=e.Target.$target.Data)===null||l===void 0?void 0:l.forEach(e=>{if((e.$Type==="com.sap.vocabularies.UI.v1.DataField"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&e.Value){i.push(e.Value.path)}a=Gt(t,i)})}return{semanticKeyHasPropertyInFieldGroup:a.semanticKeyHasPropertyInFieldGroup,propertyPath:a.fieldGroupPropertyPath}}function Wt(e,t,n,o){if(!t){return{}}const i=zt(t,e);const a=Kt(o,i.values);if(i.semanticKeyFound){const t={hasDraftIndicator:true,semantickeys:i.values,showErrorObjectStatus:Fe(Mt(e,false))};if(n&&a.semanticKeyHasPropertyInFieldGroup){t.showErrorObjectStatus=Fe(Mt(e,true));t.fieldGroupDraftIndicatorPropertyPath=a.propertyPath}return t}else if(!a.semanticKeyHasPropertyInFieldGroup){return{}}else{return{fieldGroupDraftIndicatorPropertyPath:a.propertyPath,fieldGroupName:e,showErrorObjectStatus:Fe(Mt(e,true))}}}function qt(e){var t,n;const o=e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.Importance;if(o&&o.includes("UI.ImportanceType/High")){return 3}if(o&&o.includes("UI.ImportanceType/Medium")){return 2}if(o&&o.includes("UI.ImportanceType/Low")){return 1}return 0}function Qt(e){var t,n;const o=e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.Importance;return o?o.split("/")[1]:z.None}function _t(e){if(e&&e.length>0){let t=-1;let n=-1;let o;for(const i of e){n=qt(i);if(n>t){t=n;o=i}}return Qt(o)}return z.None}function Yt(e,t){var n;let o,i=[];if(t&&t.length>0){i=t.map(function(e){return e.value})}if(!e){return undefined}if(ce(e,"com.sap.vocabularies.UI.v1.DataFieldForAnnotation")){const t=e.Target.$target;if(ce(t,"com.sap.vocabularies.UI.v1.FieldGroupType")){const n=t.Data;const r=n&&n.some(function(e){var t,n;return(e===null||e===void 0?void 0:(t=e.Value)===null||t===void 0?void 0:t.path)&&e.$Type!=="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&i.includes(e===null||e===void 0?void 0:(n=e.Value)===null||n===void 0?void 0:n.path)});if(r){return z.High}else{var a,l;if(e!==null&&e!==void 0&&(a=e.annotations)!==null&&a!==void 0&&(l=a.UI)!==null&&l!==void 0&&l.Importance){return Qt(e)}o=n&&n.filter(function(e){var t,n;return e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.Importance});return _t(o)}}}return e.Value&&e!==null&&e!==void 0&&(n=e.Value)!==null&&n!==void 0&&n.path&&i.includes(e.Value.path)?z.High:Qt(e)}F.getImportance=Yt;const Jt=function(e,t,n){var o;const i=n.getAnnotationEntityType(e),a=[],l={},r=ee(n.getEntitySet()),s=n.getManifestControlConfiguration(t),d=(s===null||s===void 0?void 0:(o=s.tableSettings)===null||o===void 0?void 0:o.type)||"ResponsiveTable";const u=[];const c=n.getAnnotationsByTerm("Common","com.sap.vocabularies.Common.v1.SemanticKey",[n.getEntityType()])[0];if(e){const o=n.getConverterContextFor(ae(n.getDataModelObjectPath()));e.forEach(e=>{var i,s,v,f,p,g,m,y,b,h,T;if(!Ct(e)){return}let I=null;const P=Ke(e)&&(i=e.Value)!==null&&i!==void 0&&(s=i.$target)!==null&&s!==void 0&&s.fullyQualifiedName?Qe(n,e):undefined;const A=Vt(e);const D=Ye(e,n,d);const F=Object.keys(D.properties);const C=Object.keys(D.additionalProperties);const S=kt(A,true,false);const E=S!=A;const O=Ot(e,E);const x=$t(e);const M=S.indexOf(`@${"com.sap.vocabularies.UI.v1.FieldGroup"}`)>-1;const U=M?wt(x,t,n):false;const $=_e(e);const N=$==="Edm.Date"?"YYYY-MM-DD":undefined;const w=Bt(Wt(x,c,M,e));let V;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&((v=e.Target)===null||v===void 0?void 0:(f=v.$target)===null||f===void 0?void 0:f.$Type)==="com.sap.vocabularies.UI.v1.FieldGroupType"){V=Et(e)}if(Ft(e)){I={template:D.exportSettingsTemplate,wrap:D.exportSettingsWrapping,type:$?cn($,F.length>1):undefined,inputFormat:N,delimiter:$==="Edm.Int64"};if(D.exportUnitName){I.unitProperty=D.exportUnitName;I.type="Currency"}else if(D.exportUnitString){I.unit=D.exportUnitString}if(D.exportTimezoneName){I.timezoneProperty=D.exportTimezoneName}else if(D.exportTimezoneString){I.timezone=D.exportTimezoneString}}let k;if($){k=Cn(e,$)}const L={className:$,formatOptions:{...w,...(p=k)===null||p===void 0?void 0:p.formatOptions},constraints:{...(g=k)===null||g===void 0?void 0:g.constraints}};const R={};if(!$||!L){R.widthCalculation=null}const j=Lt(e,o);const H=!j&&Rt(e,A,r);const B={key:Ee.generateKeyFromDataField(e),type:Xe.Annotation,label:O,groupLabel:E?Ot(e):undefined,group:E?S:undefined,FieldGroupHiddenExpressions:V,annotationPath:n.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),semanticObjectPath:P,availability:Q(e)?"Hidden":"Default",name:x,showDataFieldsLabel:U,relativePath:A,sortable:H,propertyInfos:F.length?F:undefined,additionalPropertyInfos:C.length>0?C:undefined,exportSettings:I,width:((m=e.annotations)===null||m===void 0?void 0:(y=m.HTML5)===null||y===void 0?void 0:(b=y.CssDefaults)===null||b===void 0?void 0:(h=b.width)===null||h===void 0?void 0:h.valueOf())||undefined,importance:Yt(e,c),isNavigable:true,formatOptions:w,caseSensitive:jt(n),typeConfig:L,visualSettings:R,timezoneText:(T=I)===null||T===void 0?void 0:T.timezone,isPartOfLineItem:true};const z=xt(e);if(z){B.tooltip=z}if(D.textOnlyPropertiesFromTextAnnotation.length>0){u.push(...D.textOnlyPropertiesFromTextAnnotation)}if(D.exportDataPointTargetValue&&B.exportSettings){B.exportDataPointTargetValue=D.exportDataPointTargetValue;B.exportSettings.type="String"}a.push(B);F.forEach(e=>{l[e]=D.properties[e];if(j){r.push(e)}});C.forEach(e=>{l[e]=D.additionalProperties[e]})})}return At(l,i,a,r,n,d,u)};const Xt=function(e,t,n,o){let i;if(e){i=e.map(function(e){const i=t.find(function(t){return t.relativePath===e&&t.propertyInfos===undefined});if(i){return i.name}else{const i=Ut({[e]:o.resolvePath(e)},t,[],n,o,[]);t.push(i[0]);return i[0].name}})}return i};const Zt=function(e){return e.map(t=>`{${e.indexOf(t)}}`).join(`${"\n"}`)};const en=function(e,t,n,o,i){const a={};function l(e,n){return t.some(e=>e.key===n)}function r(e){return e.type===Xe.Slot}function s(e){return e.type===undefined&&!!e.template}function d(e,t){const o=ee(n.getEntitySet());e.forEach(e=>{t.forEach(t=>{if(t.name===e){t.sortable=o.indexOf(e.replace("Property::",""))===-1;t.isGroupable=t.sortable}})})}for(const v in e){var u;const f=e[v];Ee.validateKey(v);const p={key:v,width:f.width||undefined,position:{anchor:(u=f.position)===null||u===void 0?void 0:u.anchor,placement:f.position===undefined?$e.After:f.position.placement},caseSensitive:jt(n)};if(l(f,v)){const e={...p,importance:f===null||f===void 0?void 0:f.importance,horizontalAlign:f===null||f===void 0?void 0:f.horizontalAlign,availability:f===null||f===void 0?void 0:f.availability,type:Xe.Annotation,isNavigable:l(f,v)?undefined:je(f,i,true),settings:f.settings,formatOptions:Bt(f.formatOptions)};a[v]=e}else{const e=Xt(f.properties,t,n,o);const i={...p,header:f.header,importance:(f===null||f===void 0?void 0:f.importance)||z.None,horizontalAlign:(f===null||f===void 0?void 0:f.horizontalAlign)||G.Begin,availability:(f===null||f===void 0?void 0:f.availability)||"Default",template:f.template,propertyInfos:e,exportSettings:e?{template:Zt(e),wrap:!!(e.length>1)}:null,id:`CustomColumn::${v}`,name:`CustomColumn::${v}`,formatOptions:{textLinesEdit:4},isGroupable:false,isNavigable:false,sortable:false,visualSettings:{widthCalculation:null},properties:f.properties};if(e){d(e,t)}if(r(f)){const e={...i,type:Xe.Slot};a[v]=e}else if(s(f)){const e={...i,type:Xe.Default};a[v]=e}else{var c;const e=`The annotation column '${v}' referenced in the manifest is not found`;n.getDiagnostics().addIssue(Ue.Manifest,xe.Low,e,Me,Me===null||Me===void 0?void 0:(c=Me.AnnotationColumns)===null||c===void 0?void 0:c.InvalidKey)}}}return a};function tn(e,t,n){var o;const i=t.getManifestWrapper();const a=t.getManifestControlConfiguration(e);const l=i.getVariantManagement();const r=[];const s=n.type==="AnalyticalTable";const d=n.type==="ResponsiveTable";if((a===null||a===void 0?void 0:(o=a.tableSettings)===null||o===void 0?void 0:o.personalization)!==undefined){const e=a.tableSettings.personalization;if(e===true){switch(n.type){case"AnalyticalTable":return"Sort,Column,Filter,Group,Aggregate";case"ResponsiveTable":return"Sort,Column,Filter,Group";default:return"Sort,Column,Filter"}}else if(typeof e==="object"){if(e.sort){r.push("Sort")}if(e.column){r.push("Column")}if(e.filter){r.push("Filter")}if(e.group&&(s||d)){r.push("Group")}if(e.aggregate&&s){r.push("Aggregate")}return r.length>0?r.join(","):undefined}}else{r.push("Sort");r.push("Column");if(t.getTemplateType()===H.ListReport){if(l===j.Control||nn(i,t)){r.push("Filter")}}else{r.push("Filter")}if(s){r.push("Group");r.push("Aggregate")}if(d){r.push("Group")}return r.join(",")}return undefined}F.getP13nMode=tn;function nn(e,t){return e.isFilterBarHidden()&&!t.getManifestWrapper().hasMultipleVisualizations()&&t.getTemplateType()!==H.AnalyticalListPage}function on(e,t,n){const o=ee(e.getEntitySet());let i;if(t!==null&&t!==void 0&&t.SortOrder){const e=[];const a={sorters:e};t.SortOrder.forEach(e=>{var t;const i=e.Property;if(i&&o.indexOf((t=i.$target)===null||t===void 0?void 0:t.name)===-1){const t=ln([i],n)[0];if(t){a.sorters.push({name:t,descending:!!e.Descending})}}});i=a.sorters.length?JSON.stringify(a):undefined}return i}function an(e){var t;if(!e){return undefined}const n=(t=e.InitialExpansionLevel)===null||t===void 0?void 0:t.valueOf();return typeof n==="number"?n:undefined}function ln(e,t){const n=[];let o,i;e.forEach(e=>{if(e!==null&&e!==void 0&&e.value){o=t.find(t=>{i=t;return!i.propertyInfos&&i.relativePath===(e===null||e===void 0?void 0:e.value)});if(o){n.push(o.name)}}});return n}function rn(e,t,n){let o;if(e!==null&&e!==void 0&&e.GroupBy){let i=e.GroupBy;if(n==="ResponsiveTable"){i=i.slice(0,1)}const a=ln(i,t).map(e=>({name:e}));o=a.length?JSON.stringify({groupLevels:a}):undefined}return o}function sn(e){const t={};e.columns.forEach(n=>{var o;n=n;const i=Object.keys(e.aggregates).find(e=>e===n.name);if(i){const t=e.aggregates[i];n.aggregatable=true;n.extension={customAggregate:t.defaultAggregate??{}}}if((o=n.additionalPropertyInfos)!==null&&o!==void 0&&o.length){n.additionalPropertyInfos.forEach(n=>{Nt(n,e.columns,t)})}});e.columns.forEach(e=>{e=e;if(e.additionalPropertyInfos){var n;e.additionalPropertyInfos=e.additionalPropertyInfos.map(e=>t[e]??e);e.propertyInfos=(n=e.propertyInfos)===null||n===void 0?void 0:n.concat(e.additionalPropertyInfos)}})}function dn(e,t){let n;if(e!==null&&e!==void 0&&e.Total){const o=e.Total;const i={};ln(o,t).forEach(e=>{i[e]={}});n=JSON.stringify(i)}return n}function un(e,t,n,o,i,a,l){var r,s,d;const{navigationPropertyPath:u}=vn(t);const c=(r=n.getDataModelObjectPath().targetEntityType.annotations)===null||r===void 0?void 0:(s=r.UI)===null||s===void 0?void 0:(d=s.HeaderInfo)===null||d===void 0?void 0:d.TypeNamePlural;const v=c&&Fe(Te(c));const f=n.getDataModelObjectPath().targetEntitySet;const p=n.getManifestWrapper();const g=u.length===0,m=tn(t,n,o),y=u?q(t):q(n.getContextPath(),"LineItem");const b=yt(n);const h=ot(n,u);const T=p.getNavigationConfiguration(h);const I=It(e,o,n,T,t);const P=k(n,I.mode,o,l);const A=w(n,P);const D=$(n,P);const F=N(P,S(n));const U=bt(e,t,n,g,b,A,D);let L=u?10:30;if(a!==null&&a!==void 0&&a.MaxItems){L=a.MaxItems.valueOf()}const R=p.getVariantManagement();const B=oe(n.getDataModelObjectPath());const z={create:M(n,P),delete:x(n,P),paste:E(n,P,F),massEdit:O(n,P),creationRow:V(n,P)};return{id:y,entityName:f?f.name:"",collection:ae(n.getDataModelObjectPath()),navigationPath:u,row:Pt(e,n,T,h,o.type),p13nMode:m,standardActions:{actions:z,isInsertUpdateTemplated:F,updatablePropertyPath:dt(n)},displayMode:C(n,l),create:I,selectionMode:U,autoBindOnInit:nn(p,n)||n.getTemplateType()!==H.ListReport&&n.getTemplateType()!==H.AnalyticalListPage&&!(l&&p.hasMultipleVisualizations(l)),variantManagement:R==="Control"&&!m?j.None:R,threshold:L,sortConditions:on(n,a,i),title:v,searchable:o.type!=="AnalyticalTable"&&!(be(B)&&B.value===false),initialExpansionLevel:an(a)}}F.getTableAnnotationConfiguration=un;function cn(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n="String";if(t){if(e==="Edm.DateTimeOffset"){n="DateTime"}return n}else{switch(e){case"Edm.Decimal":case"Edm.Int32":case"Edm.Int64":case"Edm.Double":case"Edm.Byte":n="Number";break;case"Edm.DateOfTime":case"Edm.Date":n="Date";break;case"Edm.DateTimeOffset":n="DateTime";break;case"Edm.TimeOfDay":n="Time";break;case"Edm.Boolean":n="Boolean";break;default:n="String"}}return n}function vn(e){const[t,n]=e.split("@");let o=t;if(o.lastIndexOf("/")===o.length-1){o=o.substr(0,o.length-1)}return{navigationPropertyPath:o,annotationPath:n}}F.splitPath=vn;function fn(e,t){const n=t.getEntityTypeAnnotation(e);const o=n.annotation;if(o){var i,a;const e=[];(i=o.SelectOptions)===null||i===void 0?void 0:i.forEach(t=>{const n=t.PropertyName;const o=(n===null||n===void 0?void 0:n.value)??"";if(e.indexOf(o)===-1){e.push(o)}});return{text:o===null||o===void 0?void 0:(a=o.Text)===null||a===void 0?void 0:a.toString(),propertyNames:e}}return undefined}F.getSelectionVariantConfiguration=fn;function pn(e,t,n){let o=e.enableFullScreen??n;if(!n&&o&&t.getTemplateType()===H.ListReport){o=false;t.getDiagnostics().addIssue(Ue.Manifest,xe.Low,Oe.FULLSCREENMODE_NOT_ON_LISTREPORT)}return o}function gn(e,t,n){let o;if(t!=="ResponsiveTable"){return undefined}switch(n.getTemplateType()){case H.ListReport:case H.AnalyticalListPage:o=!e.selectAll?"ClearAll":"Default";break;case H.ObjectPage:o=e.selectAll===false?"ClearAll":"Default";if(n.getManifestWrapper().useIconTabBar()){o=!e.selectAll?"ClearAll":"Default"}break;default:}return o}function mn(e,t,n){let o=(e===null||e===void 0?void 0:e.type)||"ResponsiveTable";if((o==="AnalyticalTable"||o==="TreeTable")&&!n.getManifestWrapper().isDesktop()){o="ResponsiveTable"}return o}function yn(e,t,n){if(e==="GridTable"){if(n){return{rowCountMode:"Auto",rowCount:3}}else{return{rowCountMode:t.rowCountMode??"Fixed",rowCount:t.rowCount?t.rowCount:5}}}else{return{}}}function bn(e,t){return t.condensedTableLayout!==undefined&&e!=="ResponsiveTable"?t.condensedTableLayout:false}function hn(e){return e.selectAll===true||e.selectionLimit===0?0:e.selectionLimit||200}function Tn(e){var t,n;return(t=e.creationMode)!==null&&t!==void 0&&t.inlineCreationRowCount?(n=e.creationMode)===null||n===void 0?void 0:n.inlineCreationRowCount:2}function In(e,t,n,o,i){var a;if(n){t.push({annotationPath:o.annotationPath})}return{quickFilters:{enabled:i.getTemplateType()!==H.ListReport,showCounts:e===null||e===void 0?void 0:(a=e.quickVariantSelection)===null||a===void 0?void 0:a.showCounts,paths:t}}}function Pn(e,t,n){return e.enableExport!==undefined?e.enableExport:t.getTemplateType()!=="ObjectPage"||n}function An(e,t,n){var o,i,a;if(!t){return{}}const l=[];const r=n.getAnnotationEntityType(t);let s;let d;e===null||e===void 0?void 0:(o=e.quickVariantSelection)===null||o===void 0?void 0:(i=o.paths)===null||i===void 0?void 0:i.forEach(t=>{s=r.resolvePath(t.annotationPath);d=In(e,l,s,t,n)});let u=false;u=!!((a=e.quickVariantSelection)!==null&&a!==void 0&&a.hideTableTitle);return{filters:d,headerVisible:!(s&&u)}}function Dn(e,t){const n=le(t.getDataModelObjectPath(),e).navigationProperties;if((n===null||n===void 0?void 0:n.length)>0){const e=[];n.forEach(t=>{e.push(Ot(t)||t.name)});return e}}function Fn(e,t,n){var o,i,a,l,r,s,d,u;let c=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const v=n.getManifestWrapper();const f=n.getManifestControlConfiguration(t);const p=f&&f.tableSettings||{};const g=((o=p.creationMode)===null||o===void 0?void 0:o.name)||K.NewPage;const m=!v.isPhone();const y=p.enablePaste!==undefined?p.enablePaste:n.getTemplateType()==="ObjectPage";const b=n.getTemplateType();const h=b===H.ListReport?"API.dataStateIndicatorFilter":undefined;const T=c&&v.isCondensedLayoutCompliant();const I=An(p,e,n);const P=(i=p.creationMode)===null||i===void 0?void 0:i.customValidationFunction;const A=n.getEntityType();const D=new _(A,n);const F=mn(p,D,n);const C=yn(F,p,b===H.ListReport);const S=bn(F,p);const E={createAtEnd:((a=p.creationMode)===null||a===void 0?void 0:a.createAtEnd)!==undefined?(l=p.creationMode)===null||l===void 0?void 0:l.createAtEnd:g!==K.Inline,creationMode:g,customValidationFunction:P,dataStateIndicatorFilter:h,disableAddRowButtonForEmptyData:!P?!!((r=p.creationMode)!==null&&r!==void 0&&r.disableAddRowButtonForEmptyData):false,enableAutoColumnWidth:m,enableExport:Pn(p,n,y),enableFullScreen:pn(p,n,v.isPhone()),enableMassEdit:p===null||p===void 0?void 0:p.enableMassEdit,enablePaste:y,headerVisible:true,multiSelectMode:gn(p,F,n),selectionLimit:hn(p),inlineCreationRowCount:Tn(p),inlineCreationRowsHiddenInEditMode:(p===null||p===void 0?void 0:(s=p.creationMode)===null||s===void 0?void 0:s.inlineCreationRowsHiddenInEditMode)??false,showRowCount:!(p!==null&&p!==void 0&&(d=p.quickVariantSelection)!==null&&d!==void 0&&d.showCounts)&&!((u=v.getViewConfiguration())!==null&&u!==void 0&&u.showCounts),type:F,useCondensedTableLayout:S&&T,isCompactType:v.isCompactType()};const O={...E,...C,...I};if(F==="TreeTable"){O.hierarchyQualifier=p.hierarchyQualifier}return O}F.getTableManifestConfiguration=Fn;function Cn(e,t){var n,o,i,a,l;let r;if(se(e)){r=re(e.targetType)?Ae[e.targetType.underlyingType]:Ae[e.type]}if(r===undefined&&t!==undefined){r=Ae[t]}const s={type:(n=r)===null||n===void 0?void 0:n.type,constraints:{},formatOptions:{}};if(se(e)&&r!==undefined){var d,u,c,v,f,p,g,m,y,b,h,T,I,P,A,D,F;s.constraints={scale:(d=r.constraints)!==null&&d!==void 0&&d.$Scale?e.scale:undefined,precision:(u=r.constraints)!==null&&u!==void 0&&u.$Precision?e.precision:undefined,maxLength:(c=r.constraints)!==null&&c!==void 0&&c.$MaxLength?e.maxLength:undefined,nullable:(v=r.constraints)!==null&&v!==void 0&&v.$Nullable?e.nullable:undefined,minimum:(f=r.constraints)!==null&&f!==void 0&&f["@Org.OData.Validation.V1.Minimum/$Decimal"]&&!isNaN((p=e.annotations)===null||p===void 0?void 0:(g=p.Validation)===null||g===void 0?void 0:g.Minimum)?`${(m=e.annotations)===null||m===void 0?void 0:(y=m.Validation)===null||y===void 0?void 0:y.Minimum}`:undefined,maximum:(b=r.constraints)!==null&&b!==void 0&&b["@Org.OData.Validation.V1.Maximum/$Decimal"]&&!isNaN((h=e.annotations)===null||h===void 0?void 0:(T=h.Validation)===null||T===void 0?void 0:T.Maximum)?`${(I=e.annotations)===null||I===void 0?void 0:(P=I.Validation)===null||P===void 0?void 0:P.Maximum}`:undefined,isDigitSequence:s.type==="sap.ui.model.odata.type.String"&&(A=r.constraints)!==null&&A!==void 0&&A[`@${"com.sap.vocabularies.Common.v1.IsDigitSequence"}`]&&(D=e.annotations)!==null&&D!==void 0&&(F=D.Common)!==null&&F!==void 0&&F.IsDigitSequence?true:undefined}}s.formatOptions={parseAsString:(s===null||s===void 0?void 0:(o=s.type)===null||o===void 0?void 0:o.indexOf("sap.ui.model.odata.type.Int"))===0||(s===null||s===void 0?void 0:(i=s.type)===null||i===void 0?void 0:i.indexOf("sap.ui.model.odata.type.Double"))===0?false:undefined,emptyString:(s===null||s===void 0?void 0:(a=s.type)===null||a===void 0?void 0:a.indexOf("sap.ui.model.odata.type.Int"))===0||(s===null||s===void 0?void 0:(l=s.type)===null||l===void 0?void 0:l.indexOf("sap.ui.model.odata.type.Double"))===0?"":undefined,parseKeepsEmptyString:s.type==="sap.ui.model.odata.type.String"?true:undefined};return s}F.getTypeConfig=Cn;return{getTableActions:Ze,getTableColumns:et,getColumnsFromEntityType:At,updateLinkedProperties:it,createTableVisualization:lt,createDefaultTableVisualization:rt,getCapabilityRestriction:yt,getSelectionMode:bt,getRowStatusVisibility:Mt,getImportance:Yt,getP13nMode:tn,getTableAnnotationConfiguration:un,isFilteringCaseSensitive:jt,splitPath:vn,getSelectionVariantConfiguration:fn,getTableManifestConfiguration:Fn,getTypeConfig:Cn,updateTableVisualizationForType:nt}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/table/StandardActions", ["sap/fe/core/formatters/TableFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","../../../helpers/BindingHelper","../../../ManifestSettings"],function(e,t,n,i,a,o,r){"use strict";var s={};var l=r.TemplateType;var d=r.CreationMode;var c=o.UI;var u=o.singletonPathVisitor;var p=a.isPathUpdatable;var f=a.isPathInsertable;var v=a.isPathDeletable;var g=a.getTargetObjectPath;var b=i.isNavigationProperty;var h=i.isEntitySet;var y=t.pathInModel;var T=t.or;var C=t.notEqual;var M=t.not;var m=t.length;var P=t.isPathInModelExpression;var E=t.isConstant;var D=t.ifElse;var A=t.greaterThan;var S=t.greaterOrEqual;var O=t.getExpressionFromAnnotation;var x=t.formatResult;var I=t.equal;var R=t.constant;var w=t.compileExpression;var H=t.and;var U;(function(e){e["CreateHidden"]="CreateHidden";e["DeleteHidden"]="DeleteHidden";e["UpdateHidden"]="UpdateHidden"})(U||(U={}));function j(e,t,n,i){return{collectionPath:g(e.getDataModelObjectPath()),hiddenAnnotation:{create:L(e,U.CreateHidden),delete:L(e,U.DeleteHidden),update:L(e,U.UpdateHidden)},creationMode:t,isDraftOrStickySupported:V(e),isViewWithMultipleVisualizations:i?e.getManifestWrapper().hasMultipleVisualizations(i):false,newAction:k(e),tableManifestConfiguration:n,restrictions:z(e)}}s.generateStandardActionsContext=j;function V(e){var t,i,a;const o=e.getDataModelObjectPath();const r=n.isObjectPathDraftSupported(o);const s=(t=o.startingEntitySet)!==null&&t!==void 0&&(i=t.annotations)!==null&&i!==void 0&&(a=i.Session)!==null&&a!==void 0&&a.StickySessionSupported?true:false;return r||s}s.isDraftOrStickySupported=V;function k(e){var t,n,i,a;const o=e.getEntitySet();const r=h(o)?((t=o.annotations.Common)===null||t===void 0?void 0:(n=t.DraftRoot)===null||n===void 0?void 0:n.NewAction)??((i=o.annotations.Session)===null||i===void 0?void 0:(a=i.StickySessionSupported)===null||a===void 0?void 0:a.NewAction):undefined;const s=r===null||r===void 0?void 0:r.toString();if(s){var l,d,c,u;let t=e===null||e===void 0?void 0:(l=e.getEntityType().actions[s])===null||l===void 0?void 0:(d=l.annotations)===null||d===void 0?void 0:(c=d.Core)===null||c===void 0?void 0:(u=c.OperationAvailable)===null||u===void 0?void 0:u.valueOf();t=t!==undefined?t:true;return{name:s,available:O(t)}}return undefined}s.getNewAction=k;function L(e,t){var n;let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const a=e.getEntitySet();const o=e.getDataModelObjectPath();const r=o.navigationProperties.length>0&&i?[o.navigationProperties[o.navigationProperties.length-1].name]:[];const s=(a===null||a===void 0?void 0:(n=a.annotations.UI)===null||n===void 0?void 0:n[t])||false;return a?O(s,r,undefined,t=>u(t,e.getConvertedTypes(),r)):R(false)}s.isActionAnnotatedHidden=L;function z(e){const t=e.getDataModelObjectPath();const n=[{key:"isInsertable",function:f},{key:"isUpdatable",function:p},{key:"isDeletable",function:v}];const i={};n.forEach(function(n){const a=n["function"];i[n.key]={expression:a.apply(null,[t,{pathVisitor:(t,n)=>u(t,e.getConvertedTypes(),n)}]),navigationExpression:a.apply(null,[t,{ignoreTargetCollection:true,authorizeUnresolvable:true,pathVisitor:(t,n)=>u(t,e.getConvertedTypes(),n)}])}});return i}s.getRestrictions=z;function F(e,t){return t||e.creationMode===d.External}s.getInsertUpdateActionsTemplating=F;function N(e,t){const n=J(e,t);return{isTemplated:w(_(t,n)),visible:w(n),enabled:w(Z(e,t,n))}}s.getStandardActionCreate=N;function W(e,t){const n=K(e,t);return{isTemplated:w(G(n)),visible:w(n),enabled:w(ee(e,t,n))}}s.getStandardActionDelete=W;function q(e,t){const n=J(e,t,true);return{isTemplated:w(_(t,n,true)),visible:w(n),enabled:w(Y(e,t,n))}}s.getCreationRow=q;function B(e,t,n){const i=J(e,t);const a=Z(e,t,i);const o=Q(e,t,i,n);return{visible:w(o),enabled:w(te(o,a))}}s.getStandardActionPaste=B;function $(e,t){const n=X(e,t);return{isTemplated:w(G(n)),visible:w(n),enabled:w(ne(e,t,n))}}s.getStandardActionMassEdit=$;function _(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return H(T(H(n,e.creationMode===d.CreationRow),H(!n,e.creationMode!==d.CreationRow)),T(M(E(t)),t))}s.getCreateTemplating=_;function G(e){return T(M(E(e)),e)}s.getDefaultTemplating=G;function J(e,t){var n,i;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const o=t.restrictions.isInsertable.expression;const r=a?L(e,U.CreateHidden,false):t.hiddenAnnotation.create;const s=t.newAction;return D(t.creationMode===d.External,H(M(r),T(e.getTemplateType()===l.ListReport,c.IsEditable)),D(T(H(E(s===null||s===void 0?void 0:s.available),I(s===null||s===void 0?void 0:s.available,false)),H(E(o),I(o,false),!s),H(E(r),I(r,true)),H(t.creationMode===d.InlineCreationRows,((n=t.tableManifestConfiguration)===null||n===void 0?void 0:n.type)==="ResponsiveTable",D((t===null||t===void 0?void 0:(i=t.tableManifestConfiguration)===null||i===void 0?void 0:i.inlineCreationRowsHiddenInEditMode)===false,true,c.IsCreateMode))),false,D(e.getTemplateType()===l.ListReport,T(M(P(r)),M(r)),H(M(r),c.IsEditable))))}s.getCreateVisibility=J;function K(e,t){const n=t.hiddenAnnotation.delete;const i=t.restrictions.isDeletable.expression;return D(e.getTemplateType()===l.AnalyticalListPage,false,D(H(E(i),I(i,false)),false,D(H(E(n),I(n,R(true))),false,D(e.getTemplateType()!==l.ListReport,H(M(n),c.IsEditable),M(H(P(n),n))))))}s.getDeleteVisibility=K;function Q(e,t,n,i){return H(C(t.tableManifestConfiguration.enablePaste,false),n,i,[l.ListReport,l.AnalyticalListPage].indexOf(e.getTemplateType())===-1,t.restrictions.isInsertable.expression)}s.getPasteVisibility=Q;function X(e,t){var n;const i=t.hiddenAnnotation.update,a=t.restrictions.isUpdatable.expression,o=((n=t.tableManifestConfiguration)===null||n===void 0?void 0:n.enableMassEdit)||false;const r=e.getTemplateType()===l.ObjectPage?c.IsEditable:e.getTemplateType()===l.ListReport;return H(M(H(E(a),I(a,false))),o,r,M(i))}s.getMassEditVisibility=X;function Y(t,n,i){const a=f(t.getDataModelObjectPath(),{ignoreTargetCollection:true,authorizeUnresolvable:true,pathVisitor:(e,n)=>{if(e.indexOf("/")===0){e=u(e,t.getConvertedTypes(),n);return e}const i=t.getDataModelObjectPath().navigationProperties;if(i){const t=i[i.length-1];const n=b(t)&&t.partner;if(n){e=`${n}/${e}`}}return e}});const o=a._type==="Unresolvable"?f(t.getDataModelObjectPath(),{pathVisitor:e=>u(e,t.getConvertedTypes(),[])}):a;return H(i,o,T(!n.tableManifestConfiguration.disableAddRowButtonForEmptyData,x([y("creationRowFieldValidity","internal")],e.validateCreationRowFields)))}s.getCreationRowEnablement=Y;function Z(e,t,n){let i;if(t.creationMode===d.InlineCreationRows){i=M(t.hiddenAnnotation.create)}else{i=n}const a=t.restrictions.isInsertable.expression;const o=e.resolveAbsolutePath(t.collectionPath).target;return H(i,T(h(o),H(a,T(e.getTemplateType()!==l.ObjectPage,c.IsEditable))))}s.getCreateEnablement=Z;function ee(e,t,n){const i=y("deletableContexts","internal");const a=y("unSavedContexts","internal");const o=y("draftsWithDeletableActive","internal");const r=y("draftsWithNonDeletableActive","internal");return H(n,D(e.getTemplateType()===l.ObjectPage,T(H(C(i,undefined),A(m(i),0)),H(C(o,undefined),A(m(o),0))),T(H(C(i,undefined),A(m(i),0)),H(C(o,undefined),A(m(o),0)),H(C(r,undefined),A(m(r),0)),H(C(a,undefined),A(m(a),0)))))}s.getDeleteEnablement=ee;function te(e,t){return H(e,t)}s.getPasteEnablement=te;function ne(e,t,i){const a=t.restrictions.isUpdatable.expression;const o=!E(a)&&t.restrictions.isUpdatable.navigationExpression._type==="Unresolvable";const r=S(y("numberOfSelectedContexts","internal"),1);const s=S(m(y("updatableContexts","internal")),1);const l=n.isObjectPathDraftSupported(e.getDataModelObjectPath());const d=ie(e);const c=D(T(H(d,l),o),H(r,s),H(r));return H(i,D(o,c,H(c,a)))}s.getMassEditEnablement=ne;function ie(e,t){const n=e.getTemplateType();if(n===l.ListReport||n===l.AnalyticalListPage||t&&e.getManifestWrapper().hasMultipleVisualizations(t)){return true}return false}s.isInDisplayMode=ie;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/ListReport/FilterBar", ["sap/fe/core/converters/controls/Common/Table","sap/fe/core/converters/controls/ListReport/VisualFilters","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","../Common/DataVisualization"],function(e,t,n,o,i,a,r,l,s,c,u){"use strict";var d={};var v=u.getSelectionVariant;var p=c.getAssociatedUnitPropertyPath;var f=c.getAssociatedTimezonePropertyPath;var g=c.getAssociatedTextPropertyPath;var h=c.getAssociatedCurrencyPropertyPath;var y=s.enhanceDataModelPath;var m=l.isNavigationProperty;var P=l.isMultipleNavigationProperty;var b=l.isEntitySet;var F=l.isComplexType;var S=a.getExpressionFromAnnotation;var T=a.compileExpression;var E=i.KeyHelper;var x=o.IssueType;var O=o.IssueSeverity;var C=o.IssueCategory;var D=n.Placement;var I=n.OverrideType;var A=n.insertCustomElements;var N=t.getVisualFilters;var U=e.isFilteringCaseSensitive;var R=e.getTypeConfig;var M=e.getSelectionVariantConfiguration;var w;(function(e){e["Default"]="Default";e["Slot"]="Slot"})(w||(w={}));const V="Edm.String";const $="sap.ui.model.odata.type.String";function k(e){const t={};e.Data.forEach(n=>{if(n.$Type==="com.sap.vocabularies.UI.v1.DataField"){var o,i;t[n.Value.path]={group:e.fullyQualifiedName,groupLabel:T(S(e.Label||((o=e.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Label)||e.qualifier))||e.qualifier}}});return t}function L(e){return e.reduce((e,t)=>{t.propertyNames.forEach(t=>{e[t]=true});return e},{})}function j(e,t){if(t&&e.length>0){return e.every(e=>e.enableAnalytics&&t===e.annotation.collection)}return false}function q(e,t){const n=[];return e.map(e=>{const o=e.control.filters;const i=[];for(const e in o){if(Array.isArray(o[e].paths)){const a=o[e].paths;a.forEach(e=>{if(e&&e.annotationPath&&n.indexOf(e.annotationPath)===-1){n.push(e.annotationPath);const o=M(e.annotationPath,t);if(o){i.push(o)}}})}}return i}).reduce((e,t)=>e.concat(t),[])}const H=function(e,t){const n=t.split("/");let o;let i="";while(n.length){let t=n.shift();o=o?`${o}/${t}`:t;const a=e.resolvePath(o);if(P(a)){t+="*"}i=i?`${i}/${t}`:t}return i};const B=function(e,t,n,o,i){var a,r,l;if(t&&t.targetType===undefined&&(o||((a=t.annotations)===null||a===void 0?void 0:(r=a.UI)===null||r===void 0?void 0:(l=r.Hidden)===null||l===void 0?void 0:l.valueOf())!==true)){var s,c,u,d,v,p,f,g;const o=i.getAnnotationEntityType(t);return{key:E.getSelectionFieldKeyFromPath(n),annotationPath:i.getAbsoluteAnnotationPath(n),conditionPath:H(e,n),availability:((s=t.annotations)===null||s===void 0?void 0:(c=s.UI)===null||c===void 0?void 0:(u=c.HiddenFilter)===null||u===void 0?void 0:u.valueOf())===true?"Hidden":"Adaptation",label:T(S(((d=t.annotations.Common)===null||d===void 0?void 0:(v=d.Label)===null||v===void 0?void 0:v.valueOf())||t.name)),group:o.name,groupLabel:T(S((o===null||o===void 0?void 0:(p=o.annotations)===null||p===void 0?void 0:(f=p.Common)===null||f===void 0?void 0:(g=f.Label)===null||g===void 0?void 0:g.valueOf())||o.name))}}return undefined};const W=function(e,t,n,o,i){const a={};if(n){n.forEach(n=>{const r=n.name;const l=(t?`${t}/`:"")+r;const s=B(e,n,l,o,i);if(s){a[l]=s}})}return a};const K=function(e,t,n,o){let i={};if(t){t.forEach(t=>{let a;const r=e.resolvePath(t);if(r===undefined){return}if(m(r)){a=W(e,t,r.targetType.entityProperties,n,o)}else if(F(r.targetType)){a=W(e,t,r.targetType.properties,n,o)}else{const i=t.includes("/")?t.split("/").splice(0,1).join("/"):"";a=W(e,i,[r],n,o)}i={...i,...a}})}return i};const J=function(e,t,n,o){let i=e[t];if(i){delete e[t]}else{i=B(o,o.resolvePath(t),t,true,n)}if(!i){var a;(a=n.getDiagnostics())===null||a===void 0?void 0:a.addIssue(C.Annotation,O.High,x.MISSING_SELECTIONFIELD)}if(i){var r,l;i.availability=i.availability==="Hidden"?"Hidden":"Default";i.isParameter=!!((r=o.annotations)!==null&&r!==void 0&&(l=r.Common)!==null&&l!==void 0&&l.ResultContext)}return i};const G=function(e,t,n,o,i){const a=[];const r={};const l=t.entityProperties;i===null||i===void 0?void 0:i.forEach(e=>{r[e.value]=true});if(e&&e.length>0){e===null||e===void 0?void 0:e.forEach(e=>{const r=e.PropertyName;const l=r===null||r===void 0?void 0:r.value;const s={};i===null||i===void 0?void 0:i.forEach(e=>{s[e.value]=true});if(l&&!(l in o)){if(!(l in s)){const e=X(l,n,t);if(e){a.push(e)}}}})}else if(l){l.forEach(e=>{var i,l;const s=(i=e.annotations)===null||i===void 0?void 0:(l=i.Common)===null||l===void 0?void 0:l.FilterDefaultValue;const c=e.name;if(!(c in o)){if(s&&!(c in r)){const e=X(c,n,t);if(e){a.push(e)}}}})}return a};function z(e){var t,n;const o=e.getDataModelObjectPath();const i=o.startingEntitySet.entityType;const a=!!((t=i.annotations)!==null&&t!==void 0&&(n=t.Common)!==null&&n!==void 0&&n.ResultContext)&&!o.targetEntitySet;const r=a&&e.getConverterContextFor(`/${o.startingEntitySet.name}`);return r?i.entityProperties.map(function(e){return J({},e.name,r,i)}):[]}const Q=function(e,t,n){const o=t.length===0||t.every(e=>!e.applySupported.enableSearch);const i=e.length===0||e.every(e=>(e.enableAnalytics||e.control.type==="TreeTable")&&!e.enableBasicSearch);const a=n.getContextPath();if(a&&o&&i){return true}else{return false}};d.getFilterBarHideBasicSearch=Q;const _=function(e,t){const n=t.getManifestWrapper().getFilterConfiguration();const o=(n===null||n===void 0?void 0:n.filterFields)||{};const i=K(e,Object.keys(o).map(e=>E.getPathFromSelectionFieldKey(e)),true,t);const a={};for(const n in o){const r=o[n];const l=E.getPathFromSelectionFieldKey(n);const s=i[l];const c=r.type==="Slot"?w.Slot:w.Default;const u=r&&r!==null&&r!==void 0&&r.visualFilter?N(e,t,n,o):undefined;a[n]={key:n,type:c,slotName:(r===null||r===void 0?void 0:r.slotName)||n,annotationPath:s===null||s===void 0?void 0:s.annotationPath,conditionPath:(s===null||s===void 0?void 0:s.conditionPath)||l,template:r.template,label:r.label,position:r.position||{placement:D.After},availability:r.availability||"Default",settings:r.settings,visualFilter:u,required:r.required}}return a};d.getManifestFilterFields=_;const X=function(e,t,n){return J({},e,t,n)};d.getFilterField=X;const Y=function(e,t){let n=[];if(e&&e[t]){n=e[t].map(function(e){return e.value})}return n};d.getFilterRestrictions=Y;const Z=function(e){const t={};if(e&&e.FilterExpressionRestrictions){e.FilterExpressionRestrictions.forEach(function(e){var n;if((n=e.Property)!==null&&n!==void 0&&n.value&&e.AllowedExpressions){var o;if(t[(o=e.Property)===null||o===void 0?void 0:o.value]){var i;t[(i=e.Property)===null||i===void 0?void 0:i.value].push(e.AllowedExpressions.toString())}else{var a;t[(a=e.Property)===null||a===void 0?void 0:a.value]=[e.AllowedExpressions.toString()]}}})}return t};d.getFilterAllowedExpression=Z;const ee=function(){return{name:"$search",path:"$search",dataType:$,maxConditions:1}};const te=function(){return{name:"$editState",path:"$editState",groupLabel:"",group:"",dataType:$,hiddenFilter:false}};const ne=function(e){var t;const n=e.getEntitySet();return b(n)?(t=n.annotations.Capabilities)===null||t===void 0?void 0:t.SearchRestrictions:undefined};const oe=function(e,t){var n,o,i;const a=(n=e.getEntitySet())===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Capabilities)===null||i===void 0?void 0:i.NavigationRestrictions;const r=a&&a.RestrictedProperties;return r&&r.find(function(e){return e&&e.NavigationProperty&&e.NavigationProperty.value===t})};d.getNavigationRestrictions=oe;const ie=function(e){return{key:e.key,annotationPath:e.annotationPath,conditionPath:e.conditionPath,name:e.conditionPath,label:e.label,hiddenFilter:e.availability==="Hidden",display:"Value",isParameter:e.isParameter,caseSensitive:e.caseSensitive,availability:e.availability,position:e.position,type:e.type,template:e.template,menu:e.menu,required:e.required}};const ae=function(e){const t=["SingleValue","MultiValue","SingleRange","MultiRange","SearchExpression","MultiRangeOrSearchExpression"];e.sort(function(e,n){return t.indexOf(e)-t.indexOf(n)});return e[0]};d.getSpecificAllowedExpression=ae;const re=function(e,t){var n,o,i,a,r,l;const s=e===null||e===void 0?void 0:(n=e.Common)===null||n===void 0?void 0:n.Text,c=s&&(e&&(e===null||e===void 0?void 0:(o=e.Common)===null||o===void 0?void 0:(i=o.Text)===null||i===void 0?void 0:(a=i.annotations)===null||a===void 0?void 0:(r=a.UI)===null||r===void 0?void 0:r.TextArrangement)||t&&(t===null||t===void 0?void 0:(l=t.UI)===null||l===void 0?void 0:l.TextArrangement));if(c){if(c.valueOf()==="UI.TextArrangementType/TextOnly"){return"Description"}else if(c.valueOf()==="UI.TextArrangementType/TextLast"){return"ValueDescription"}return"DescriptionValue"}return s?"DescriptionValue":"Value"};d.displayMode=re;const le=function(e,t,n){var o;let i=ie(t);const a=t.annotationPath;if(!a){return i}const r=e.getConverterContextFor(a).getDataModelObjectPath().targetObject;const l=r===null||r===void 0?void 0:r.annotations;const s=e===null||e===void 0?void 0:(o=e.getDataModelObjectPath().targetObject)===null||o===void 0?void 0:o.annotations;const c=n.formatOptions;const u=n.constraints;i=Object.assign(i,{formatOptions:c,constraints:u,display:re(l,s)});return i};d.fetchPropertyInfo=le;const se=function(e){let t=true;switch(e.filterExpression){case"SearchExpression":case"SingleRange":case"SingleValue":t=false;break;default:break}if(e.type&&e.type.indexOf("Boolean")>0){t=false}return t};d.isMultiValue=se;const ce=function(e){return(e.$Type==="com.sap.vocabularies.UI.v1.DataField"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath")&&e.Value.path.includes("/")};const ue=function(e,t,n){var o;const i=(o=e.Value)===null||o===void 0?void 0:o.$target;if(i){const e=g(i)||h(i)||p(i)||f(i);const o=e?y(t.getDataModelObjectPath(),e).navigationProperties:undefined;if(o!==null&&o!==void 0&&o.length){const e=o[0].name;if(!n.includes(e)){n.push(e)}}}};const de=function(e,t,n){var o,i,a;switch(t.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":switch((o=t.Target)===null||o===void 0?void 0:(i=o.$target)===null||i===void 0?void 0:i.$Type){case"com.sap.vocabularies.UI.v1.FieldGroupType":(a=t.Target.$target.Data)===null||a===void 0?void 0:a.forEach(t=>{de(e,t,n)});break;default:break}break;case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":if(ce(t)){const o=y(n.getDataModelObjectPath(),t.Value.path).navigationProperties[0].name;if(!e.includes(o)){e.push(o)}}ue(t,n,e);break;default:break}return e};const ve=function(e){var t,n,o;let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let l=arguments.length>4?arguments[4]:undefined;const s=q(i,e);const c=L(s);const u=e.getEntityType();const d=a&&((t=e.getEntityTypeAnnotation(a))===null||t===void 0?void 0:t.annotation)||((n=u.annotations)===null||n===void 0?void 0:(o=n.UI)===null||o===void 0?void 0:o.SelectionFields)||[];let p=[];if(i.length===0&&!!l){var f;(f=e.getEntityTypeAnnotation(l).annotation)===null||f===void 0?void 0:f.forEach(t=>{p=de(p,t,e)})}const g={...W(u,"",u.entityProperties,r,e),...K(u,p,false,e),...K(u,e.getManifestWrapper().getFilterConfiguration().navigationProperties,r,e)};let h=[];const y=v(u,e);if(y){h=y.SelectOptions}const m=(d===null||d===void 0?void 0:d.reduce((t,n)=>{const o=n.value;if(!(o in c)){let n;if(a.startsWith("@com.sap.vocabularies.UI.v1.SelectionFields")){n=""}else{n=a.split("/@com.sap.vocabularies.UI.v1.SelectionFields")[0]}const i=n?n+"/"+o:o;const r=J(g,i,e,u);if(r){r.group="";r.groupLabel="";t.push(r)}}return t},[]))||[];const P=G(h,u,e,c,d);return{excludedFilterProperties:c,entityType:u,annotatedSelectionFields:d,filterFields:g,propertyInfoFields:m,defaultFilterFields:P}};const pe=function(e){const t=R(e,e===null||e===void 0?void 0:e.type);if((e===null||e===void 0?void 0:e.type)===V&&(t.constraints.nullable===undefined||t.constraints.nullable===true)){t.formatOptions.parseKeepsEmptyString=false}return t};d.fetchTypeConfig=pe;const fe=function(e,t,n,o){let i=le(t,e,o[e.key]),a="";if(e.conditionPath){a=e.conditionPath.replace(/\+|\*/g,"")}if(i){i=Object.assign(i,{maxConditions:!i.isParameter&&se(i)?-1:1,required:e.required??(i.isParameter||n.indexOf(a)>=0),caseSensitive:U(t),dataType:o[e.key].type})}return i};d.assignDataTypeToPropertyInfo=fe;const ge=function(e,t,n){var o;const i=[];const a={};if(n){e=e.concat(n)}e.forEach(function(e){if(e.annotationPath){const n=t.getConverterContextFor(e.annotationPath);const o=n.getDataModelObjectPath().targetObject;i.push(o===null||o===void 0?void 0:o.type);const r=pe(o);a[e.key]=r}else{i.push(V);a[e.key]={type:$}}});const l=t.getEntitySet();const s=b(l)?(o=l.annotations.Capabilities)===null||o===void 0?void 0:o.FilterRestrictions:undefined;const c={};c.RequiredProperties=Y(s,"RequiredProperties")||[];c.NonFilterableProperties=Y(s,"NonFilterableProperties")||[];c.FilterAllowedExpressions=Z(s);const u=t.getContextPath();const d=u.split("/");if(d.length>2){const e=d[d.length-1];d.splice(-1,1);const n=oe(t,e);const o=n&&n.FilterRestrictions;c.RequiredProperties=c.RequiredProperties.concat(Y(o,"RequiredProperties")||[]);c.NonFilterableProperties=c.NonFilterableProperties.concat(Y(o,"NonFilterableProperties")||[]);c.FilterAllowedExpressions={...Z(o)||{},...c.FilterAllowedExpressions}}const v=c.RequiredProperties;const p=c.NonFilterableProperties;const f=[];e.forEach(function(e){const n=e.conditionPath.replace(/\+|\*/g,"");if(p.indexOf(n)===-1){const n=fe(e,t,v,a);f.push(n)}});const g=t.getDataModelObjectPath();if(r.isObjectPathDraftSupported(g)){f.push(te())}const h=ne(t);const y=Boolean(h&&!h.Searchable);if(u&&y!==true){if(!h||h!==null&&h!==void 0&&h.Searchable){f.push(ee())}}return f};d.processSelectionFields=ge;const he=function(e,t,n){return A(e,_(t,n),{availability:I.overwrite,label:I.overwrite,type:I.overwrite,position:I.overwrite,slotName:I.overwrite,template:I.overwrite,settings:I.overwrite,visualFilter:I.overwrite,required:I.overwrite})};d.insertCustomManifestElements=he;const ye=function(e){var t,n;let o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";let a=arguments.length>3?arguments[3]:undefined;let r=arguments.length>4?arguments[4]:undefined;const l=ve(e,o,i,a,r);const s=z(e);let c=JSON.parse(JSON.stringify(l.propertyInfoFields));const u=l.entityType;c=s.concat(c);c=he(c,u,e);const d=ge(c,e,l.defaultFilterFields);d.sort(function(e,t){if(e.groupLabel===undefined||e.groupLabel===null){return-1}if(t.groupLabel===undefined||t.groupLabel===null){return 1}return e.groupLabel.localeCompare(t.groupLabel)});let v=JSON.stringify(d);v=v.replace(/\{/g,"\\{");v=v.replace(/\}/g,"\\}");const p=v;let f=JSON.parse(JSON.stringify(l.propertyInfoFields));f=s.concat(f);const g=l.excludedFilterProperties;const h=u===null||u===void 0?void 0:(t=u.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.FilterFacets;let y={};const m=e.getAnnotationsByTerm("UI","com.sap.vocabularies.UI.v1.FieldGroup");if(h===undefined||h.length<0){for(const e in m){y={...y,...k(m[e])}}}else{y=h.reduce((e,t)=>{for(let d=0;d<(t===null||t===void 0?void 0:(n=t.Target)===null||n===void 0?void 0:(o=n.$target)===null||o===void 0?void 0:(i=o.Data)===null||i===void 0?void 0:i.length);d++){var n,o,i,a,r,l,s,c,u;e[t===null||t===void 0?void 0:(a=t.Target)===null||a===void 0?void 0:(r=a.$target)===null||r===void 0?void 0:(l=r.Data[d])===null||l===void 0?void 0:(s=l.Value)===null||s===void 0?void 0:s.path]={group:t===null||t===void 0?void 0:(c=t.ID)===null||c===void 0?void 0:c.toString(),groupLabel:t===null||t===void 0?void 0:(u=t.Label)===null||u===void 0?void 0:u.toString()}}return e},{})}const P=l.filterFields;let b=f.concat(Object.keys(P).filter(e=>!(e in g)).map(e=>Object.assign(P[e],y[e])));const F=e.getContextPath();if(j(o,F)){const e=o[0].aggregates;if(e){const t=Object.keys(e).map(t=>e[t].relativePath);b=b.filter(e=>t.indexOf(e.key)===-1)}}const S=he(b,u,e);const T=U(e);S.forEach(e=>{e.caseSensitive=T});return{selectionFields:S,sPropertyInfo:p}};d.getSelectionFields=ye;const me=function(e,t,n){const o=Y(t,"RequiredProperties");const i=ne(e);const a=Boolean(i&&!i.Searchable);if(o.length>0||a||(n===null||n===void 0?void 0:n.FetchValues)===2){return true}return false};d.getExpandFilterFields=me;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/ListReport/VisualFilters", ["sap/fe/core/converters/helpers/Aggregation","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/FilterTemplating"],function(t,e,i,o,n,l){"use strict";var a={};var r=l.isPropertyFilterable;var v=l.getIsRequired;var d=n.checkFilterExpressionRestrictions;var s=o.isEntitySet;var u=i.not;var g=i.compileExpression;var c=e.IssueType;var f=e.IssueSeverity;var p=e.IssueCategory;var P=t.AggregationHelper;const y=function(t,e,i){var o,n,l,a;let r,v,d;let s;const u=i.getCustomAggregateDefinitions();let g=i.getTransAggregations();let c=[];if(e!==null&&e!==void 0&&(o=e.$target)!==null&&o!==void 0&&o.Measures){var f,p,P;c=u.filter(function(t){var i,o,n;return t.qualifier===(e===null||e===void 0?void 0:(i=e.$target)===null||i===void 0?void 0:(o=i.Measures)===null||o===void 0?void 0:(n=o[0])===null||n===void 0?void 0:n.value)});s=c.length>0?c[0].qualifier:e===null||e===void 0?void 0:(f=e.$target)===null||f===void 0?void 0:(p=f.Measures)===null||p===void 0?void 0:(P=p[0])===null||P===void 0?void 0:P.value}if(!c[0]&&e!==null&&e!==void 0&&(n=e.$target)!==null&&n!==void 0&&n.DynamicMeasures){var y,h;s=t.getConverterContextFor(t.getAbsoluteAnnotationPath((y=e.$target.DynamicMeasures)===null||y===void 0?void 0:(h=y[0])===null||h===void 0?void 0:h.value)).getDataModelObjectPath().targetObject.Name;g=i.getAggregatedProperties("AggregatedProperty")}else{g=i.getAggregatedProperties("AggregatedProperties")[0]}const m=e===null||e===void 0?void 0:(l=e.$target)===null||l===void 0?void 0:(a=l.Dimensions[0])===null||a===void 0?void 0:a.value;if(u.some(function(t){return t.qualifier===s})){r=s}else if(g&&g[0]){g.some(function(t){if(t.Name===s){r=t===null||t===void 0?void 0:t.AggregatableProperty.value}})}const A=i.getAggregatableProperties();const L=i.getGroupableProperties();if(A&&A.length){for(const t of A){var E;if((t===null||t===void 0?void 0:(E=t.Property)===null||E===void 0?void 0:E.value)===r){d=true}}}if(L&&L.length){for(const t of L){if((t===null||t===void 0?void 0:t.value)===m){v=true}}}return d&&v};function h(t,e,i,o){var n;let l;const a=o[i];if(a!==null&&a!==void 0&&(n=a.visualFilter)!==null&&n!==void 0&&n.valueList){var h,m,A,L,E,I;const o=a===null||a===void 0?void 0:(h=a.visualFilter)===null||h===void 0?void 0:h.valueList;const n=o.split("#");const gt=n.length>1?`ValueList#${n[1]}`:n[0];const ct=t.resolvePath(i);const ft=ct===null||ct===void 0?void 0:(m=ct.annotations)===null||m===void 0?void 0:(A=m.Common)===null||A===void 0?void 0:A[gt];const pt=(ct===null||ct===void 0?void 0:(L=ct.annotations)===null||L===void 0?void 0:(E=L.Common)===null||E===void 0?void 0:(I=E.ValueListWithFixedValues)===null||I===void 0?void 0:I.valueOf())||false;if(ft){var C,S;const t=ft===null||ft===void 0?void 0:ft.CollectionPath.toString();const o=e.getConverterContextFor(`/${t||((C=e.getEntitySet())===null||C===void 0?void 0:C.name)}`);const n=ft===null||ft===void 0?void 0:ft.Parameters;let a;const h=[];let m=[];const A=o.getParameterEntityType();m=A?A.keys.map(function(t){return t.name}):[];if(e.getContextPath()===o.getContextPath()){m.forEach(function(t){h.push({localDataProperty:t,valueListProperty:t})})}if(n){for(const t of n){var D;const e=(D=t.LocalDataProperty)===null||D===void 0?void 0:D.value;const n=t.ValueListProperty;if(((t===null||t===void 0?void 0:t.$Type)==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||(t===null||t===void 0?void 0:t.$Type)==="com.sap.vocabularies.Common.v1.ValueListParameterOut")&&i===e){a=t}if(((t===null||t===void 0?void 0:t.$Type)==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||(t===null||t===void 0?void 0:t.$Type)==="com.sap.vocabularies.Common.v1.ValueListParameterIn")&&i!==e){const t=r(o,n);if(!t){h.push({localDataProperty:e,valueListProperty:n})}}}}if(h&&h.length){h.forEach(function(t){const n=g(d(e.getConverterContextFor(e.getAbsoluteAnnotationPath(t===null||t===void 0?void 0:t.localDataProperty)).getDataModelObjectPath(),["SingleValue"]));const l=g(d(o.getConverterContextFor(o.getAbsoluteAnnotationPath(t===null||t===void 0?void 0:t.valueListProperty)).getDataModelObjectPath(),["SingleValue"]));if(l==="true"&&n==="false"){throw new Error(`FilterRestrictions of ${i} in MainEntitySet and ValueListEntitySet are different`)}})}const L=ft===null||ft===void 0?void 0:ft.PresentationVariantQualifier;const E=ft===null||ft===void 0?void 0:ft.SelectionVariantQualifier;const I=o===null||o===void 0?void 0:(S=o.getEntityType().annotations.UI)===null||S===void 0?void 0:S[`PresentationVariant#${L}`];const gt=new P(o.getEntityType(),o);if(!gt.isAnalyticsSupported()){return undefined}if(I){var V;const n=I===null||I===void 0?void 0:I.Visualizations;const r=`/${ft===null||ft===void 0?void 0:ft.CollectionPath}`||`/${o===null||o===void 0?void 0:(V=o.getEntitySet())===null||V===void 0?void 0:V.name}`;l={};l.contextPath=r;l.isValueListWithFixedValues=pt;let P;for(const t of n){var T;if(((T=t.$target)===null||T===void 0?void 0:T.term)==="com.sap.vocabularies.UI.v1.Chart"){P=t;break}}if(P){var $,F,O,M,R,b,x,N,U,H,q,w,j,Q;const r=y(o,P,gt);if(!r){return}const L=($=P)===null||$===void 0?void 0:(F=$.$target)===null||F===void 0?void 0:(O=F.Dimensions[0])===null||O===void 0?void 0:(M=O.$target)===null||M===void 0?void 0:(R=M.annotations)===null||R===void 0?void 0:(b=R.UI)===null||b===void 0?void 0:(x=b.Hidden)===null||x===void 0?void 0:x.valueOf();const C=(N=P)===null||N===void 0?void 0:(U=N.$target)===null||U===void 0?void 0:(H=U.Dimensions[0])===null||H===void 0?void 0:(q=H.$target)===null||q===void 0?void 0:(w=q.annotations)===null||w===void 0?void 0:(j=w.UI)===null||j===void 0?void 0:(Q=j.HiddenFilter)===null||Q===void 0?void 0:Q.valueOf();if(L===true||C===true){return}else if(n&&n.length){var _,k,G,W,z,B,J,K,X,Y;l.chartAnnotation=P?o===null||o===void 0?void 0:o.getAbsoluteAnnotationPath(`${P.$target.fullyQualifiedName}/$AnnotationPath/`):undefined;const n=(_=o.getEntitySet())===null||_===void 0?void 0:_.name;let r;const y=o===null||o===void 0?void 0:o.getRelativeAnnotationPath(`${I.fullyQualifiedName}/`,o.getEntityType());if(A){r=o.getContextPath()+"/"+y}else{r="/"+n+"/"+y}l.presentationAnnotation=I?r:undefined;l.outParameter=(k=a)===null||k===void 0?void 0:(G=k.LocalDataProperty)===null||G===void 0?void 0:G.value;l.inParameters=h;l.valuelistProperty=(W=a)===null||W===void 0?void 0:W.ValueListProperty;const L=d(e.getConverterContextFor(e.getAbsoluteAnnotationPath(i)).getDataModelObjectPath(),["SingleRange","MultiRange"]);if(g(L)==="true"){e.getDiagnostics().addIssue(p.Annotation,f.High,c.MALFORMED_VISUALFILTERS.VALUELIST);return undefined}const C=d(e.getConverterContextFor(e.getAbsoluteAnnotationPath(i)).getDataModelObjectPath(),["SingleValue"]);l.multipleSelectionAllowed=g(u(C));l.required=v(e,i);let S;if(E){var Z,tt;S=o===null||o===void 0?void 0:(Z=o.getEntityTypeAnnotation(`@UI.SelectionVariant#${E}`))===null||Z===void 0?void 0:Z.annotation;let t;const e=o===null||o===void 0?void 0:o.getRelativeAnnotationPath(`${(tt=S)===null||tt===void 0?void 0:tt.fullyQualifiedName}/`,o.getEntityType());if(A){t=o.getContextPath()+"/"+e}else{t="/"+n+"/"+e}l.selectionVariantAnnotation=S?t:undefined}let D=[];if(A){var et,it,ot,nt,lt;const i=t.split("/")[0];const o=t.split("/")[1];const n=e.getConverterContextFor(`/${i}`);const l=n===null||n===void 0?void 0:(et=n.getDataModelObjectPath().startingEntitySet)===null||et===void 0?void 0:(it=et.annotations)===null||it===void 0?void 0:(ot=it.Capabilities)===null||ot===void 0?void 0:(nt=ot.NavigationRestrictions)===null||nt===void 0?void 0:nt.RestrictedProperties;const a=l===null||l===void 0?void 0:l.find(t=>{var e;if(((e=t.NavigationProperty)===null||e===void 0?void 0:e.type)==="NavigationPropertyPath"){return t.NavigationProperty.value===o}});D=(a===null||a===void 0?void 0:(lt=a.FilterRestrictions)===null||lt===void 0?void 0:lt.RequiredProperties)??[]}else{const t=o===null||o===void 0?void 0:o.getEntitySet();if(s(t)){var at,rt;D=((at=t.annotations.Capabilities)===null||at===void 0?void 0:(rt=at.FilterRestrictions)===null||rt===void 0?void 0:rt.RequiredProperties)??[]}}let V=[];if((z=D)!==null&&z!==void 0&&z.length){D.forEach(function(t){V.push(t.value)})}V=V.concat(m);l.requiredProperties=V;if((B=l.requiredProperties)!==null&&B!==void 0&&B.length){if(!l.inParameters||!l.inParameters.length){if(!l.selectionVariantAnnotation){l.showOverlayInitially=true}else{var vt,dt,st,ut;let t=((vt=S)===null||vt===void 0?void 0:(dt=vt.SelectOptions)===null||dt===void 0?void 0:dt.map(t=>{var e;return(e=t.PropertyName)===null||e===void 0?void 0:e.value}))||[];const e=((st=S)===null||st===void 0?void 0:(ut=st.Parameters)===null||ut===void 0?void 0:ut.map(t=>{var e;return(e=t.PropertyName)===null||e===void 0?void 0:e.value}))||[];t=t.concat(e);V=V.sort();t=t.sort();l.showOverlayInitially=V.some(function(e){return t.indexOf(e)===-1})}}else{l.showOverlayInitially=false}}else{l.showOverlayInitially=false}const T=(J=P)===null||J===void 0?void 0:(K=J.$target)===null||K===void 0?void 0:(X=K.Dimensions[0])===null||X===void 0?void 0:(Y=X.$target)===null||Y===void 0?void 0:Y.type;if(!(T==="Edm.DateTimeOffset"||T==="Edm.Date"||T==="Edm.TimeOfDay")&&P.$target.ChartType==="UI.ChartType/Line"){l.renderLineChart=false}else{l.renderLineChart=true}}}else{e.getDiagnostics().addIssue(p.Annotation,f.High,c.MALFORMED_VISUALFILTERS.CHART);return}}else{e.getDiagnostics().addIssue(p.Annotation,f.High,c.MALFORMED_VISUALFILTERS.PRESENTATIONVARIANT)}}else{e.getDiagnostics().addIssue(p.Annotation,f.High,c.MALFORMED_VISUALFILTERS.VALUELIST)}}else{e.getDiagnostics().addIssue(p.Manifest,f.High,c.MALFORMED_VISUALFILTERS.VALUELIST)}return l}a.getVisualFilters=h;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/ObjectPage/Avatar", ["sap/fe/core/helpers/BindingToolkit"],function(e){"use strict";var n={};var r=e.getExpressionFromAnnotation;var i=e.compileExpression;var o;(function(e){e["Circle"]="Circle";e["Square"]="Square"})(o||(o={}));const t=e=>{var n,r;return((n=e.getEntityType().annotations.Common)===null||n===void 0?void 0:(r=n.IsNaturalPerson)===null||r===void 0?void 0:r.valueOf())===true};const a=e=>{var n,o;const a=(n=e.getEntityType().annotations)===null||n===void 0?void 0:(o=n.UI)===null||o===void 0?void 0:o.HeaderInfo;if(!a||a&&!a.ImageUrl&&!a.TypeImageUrl){return undefined}if(a.ImageUrl&&a.TypeImageUrl){return i(r(a.TypeImageUrl))}return i(t(e)?"sap-icon://person-placeholder":"sap-icon://product")};const l=e=>{var n,o;const t=(n=e.getEntityType().annotations)===null||n===void 0?void 0:(o=n.UI)===null||o===void 0?void 0:o.HeaderInfo;if(!t||!(t.ImageUrl||t.TypeImageUrl)){return undefined}return i(r(t.ImageUrl||t.TypeImageUrl))};const d=e=>{var n,d;const s=(n=e.getEntityType().annotations)===null||n===void 0?void 0:(d=n.UI)===null||d===void 0?void 0:d.HeaderInfo;const u=s&&(s.ImageUrl||s.TypeImageUrl||s.Initials);if(!u){return undefined}return{src:l(e),initials:i(r((s===null||s===void 0?void 0:s.Initials)||"")),fallbackIcon:a(e),displayShape:i(t(e)?o.Circle:o.Square)}};n.getAvatar=d;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/ObjectPage/HeaderFacet", ["sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/ID","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingToolkit","../../../helpers/StableIdHelper","../../helpers/DataFieldHelper","../Common/Form"],function(e,t,a,i,o,n,l,r){"use strict";var d={};var v=r.getFormElementsFromManifest;var s=r.FormElementType;var c=l.isReferencePropertyStaticallyHidden;var u=l.isAnnotationFieldStaticallyHidden;var f=n.createIdForAnnotation;var p=o.not;var m=o.getExpressionFromAnnotation;var g=o.equal;var b=o.compileExpression;var y=i.KeyHelper;var F=a.getHeaderFacetID;var I=a.getHeaderFacetFormID;var h=a.getHeaderFacetContainerID;var T=a.getCustomHeaderFacetID;var $=t.Placement;var U=t.insertCustomElements;var D=e.getSemanticObjectPath;let C;(function(e){e["Annotation"]="Annotation";e["XMLFragment"]="XMLFragment"})(C||(C={}));d.HeaderFacetType=C;let A;(function(e){e["Reference"]="Reference";e["Collection"]="Collection"})(A||(A={}));d.FacetType=A;let P;(function(e){e["Default"]="Default";e["NotAdaptable"]="not-adaptable";e["NotAdaptableTree"]="not-adaptable-tree";e["NotAdaptableVisibility"]="not-adaptable-visibility"})(P||(P={}));d.FlexDesignTimeType=P;var S;(function(e){e["ProgressIndicator"]="ProgressIndicator";e["RatingIndicator"]="RatingIndicator";e["Content"]="Content"})(S||(S={}));var H;(function(e){e["None"]="None";e["DataPoint"]="DataPoint";e["Chart"]="Chart";e["Identification"]="Identification";e["Contact"]="Contact";e["Address"]="Address";e["FieldGroup"]="FieldGroup"})(H||(H={}));function E(e){var t,a,i;const o=[];(t=e.getEntityType().annotations)===null||t===void 0?void 0:(a=t.UI)===null||a===void 0?void 0:(i=a.HeaderFacets)===null||i===void 0?void 0:i.forEach(t=>{const a=B(t,e);if(a){o.push(a)}});return o}d.getHeaderFacetsFromAnnotations=E;function N(e){const t={};Object.keys(e).forEach(a=>{const i=e[a];t[a]=W(i,a)});return t}d.getHeaderFacetsFromManifest=N;function R(e,t,a){var i;if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&t.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){return false}const o=f(e)??"";const n=a.getManifestWrapper().getHeaderFacets();const l=(i=n[o])===null||i===void 0?void 0:i.stashed;return l===true}d.getStashedSettingsForHeaderFacet=R;function k(e,t,a){let i=P.Default;const o=f(e);if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&t.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){i=P.NotAdaptableTree}else{const e=a.getManifestWrapper().getHeaderFacets();if(o){var n,l;const t=(n=e[o])===null||n===void 0?void 0:(l=n.flexSettings)===null||l===void 0?void 0:l.designtime;switch(t){case P.NotAdaptable:case P.NotAdaptableTree:case P.NotAdaptableVisibility:i=t;break;default:break}}}return i}d.getDesignTimeMetadataSettingsForHeaderFacet=k;function O(e,t,a){var i,o,n;if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&!(((i=e.annotations)===null||i===void 0?void 0:(o=i.UI)===null||o===void 0?void 0:(n=o.Hidden)===null||n===void 0?void 0:n.valueOf())===true)){var l,r;const i=F(e),o=(e,t)=>{var a,i;return((a=e.ID)===null||a===void 0?void 0:a.toString())||((i=e.Label)===null||i===void 0?void 0:i.toString())||t},n=e.Target.value,s=L(e);let c;let f;switch(s){case H.FieldGroup:c=V(e,a);break;case H.DataPoint:f=j(e,a);break;default:break}const{annotations:y}=e;if(((l=e.Target)===null||l===void 0?void 0:(r=l.$target)===null||r===void 0?void 0:r.term)==="com.sap.vocabularies.UI.v1.Chart"&&u(e)){return undefined}else{var d,v;return{type:C.Annotation,facetType:A.Reference,id:i,containerId:h(e),key:o(e,i),flexSettings:{designtime:k(e,t,a)},stashed:R(e,t,a),visible:b(p(g(m(y===null||y===void 0?void 0:(d=y.UI)===null||d===void 0?void 0:(v=d.Hidden)===null||v===void 0?void 0:v.valueOf()),true))),annotationPath:`${a.getEntitySetBasedAnnotationPath(e.fullyQualifiedName)}/`,targetAnnotationValue:n,targetAnnotationType:s,headerFormData:c,headerDataPointData:f}}}return undefined}function x(e,t){if(e.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){var a,i,o;const n=[],l=F(e),r=(e,t)=>{var a,i;return((a=e.ID)===null||a===void 0?void 0:a.toString())||((i=e.Label)===null||i===void 0?void 0:i.toString())||t};e.Facets.forEach(a=>{const i=O(a,e,t);if(i){n.push(i)}});return{type:C.Annotation,facetType:A.Collection,id:l,containerId:h(e),key:r(e,l),flexSettings:{designtime:k(e,e,t)},stashed:R(e,e,t),visible:b(p(g(m((a=e.annotations)===null||a===void 0?void 0:(i=a.UI)===null||i===void 0?void 0:(o=i.Hidden)===null||o===void 0?void 0:o.valueOf()),true))),annotationPath:`${t.getEntitySetBasedAnnotationPath(e.fullyQualifiedName)}/`,facets:n}}return undefined}function L(e){let t=H.None;const a={"com.sap.vocabularies.UI.v1.DataPoint":H.DataPoint,"com.sap.vocabularies.UI.v1.Chart":H.Chart,"com.sap.vocabularies.UI.v1.Identification":H.Identification,"com.sap.vocabularies.Communication.v1.Contact":H.Contact,"com.sap.vocabularies.Communication.v1.Address":H.Address,"com.sap.vocabularies.UI.v1.FieldGroup":H.FieldGroup};if(e.$Type!=="com.sap.vocabularies.UI.v1.ReferenceURLFacet"&&e.$Type!=="com.sap.vocabularies.UI.v1.CollectionFacet"){var i,o;t=a[(i=e.Target)===null||i===void 0?void 0:(o=i.$target)===null||o===void 0?void 0:o.term]||H.None}return t}function V(e,t){var a;if(!e){throw new Error("Cannot get FieldGroup form data without facet definition")}const i=U(M(e,t),v(e,t));return{id:I(e),label:(a=e.Label)===null||a===void 0?void 0:a.toString(),formElements:i}}function M(e,t){const a=[];if(e.$Type!=="com.sap.vocabularies.UI.v1.ReferenceURLFacet"&&e.$Type!=="com.sap.vocabularies.UI.v1.CollectionFacet"){var i,o;(i=e.Target)===null||i===void 0?void 0:(o=i.$target)===null||o===void 0?void 0:o.Data.forEach(i=>{var o,n,l;if(!(((o=i.annotations)===null||o===void 0?void 0:(n=o.UI)===null||n===void 0?void 0:(l=n.Hidden)===null||l===void 0?void 0:l.valueOf())===true)){const o=D(t,i);if((i.$Type==="com.sap.vocabularies.UI.v1.DataField"||i.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"||i.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"||i.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||i.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction")&&!c(i)){var r,d,v,u,f,F,h,T,$,U,C;const{annotations:n}=i;a.push({isValueMultilineText:((r=i.Value)===null||r===void 0?void 0:(d=r.$target)===null||d===void 0?void 0:(v=d.annotations)===null||v===void 0?void 0:(u=v.UI)===null||u===void 0?void 0:(f=u.MultiLineText)===null||f===void 0?void 0:f.valueOf())===true,type:s.Annotation,key:y.generateKeyFromDataField(i),visible:b(p(g(m(n===null||n===void 0?void 0:(F=n.UI)===null||F===void 0?void 0:(h=F.Hidden)===null||h===void 0?void 0:h.valueOf()),true))),label:((T=i.Value)===null||T===void 0?void 0:($=T.$target)===null||$===void 0?void 0:(U=$.annotations)===null||U===void 0?void 0:(C=U.Common)===null||C===void 0?void 0:C.Label)||i.Label,idPrefix:I(e,i),annotationPath:`${t.getEntitySetBasedAnnotationPath(i.fullyQualifiedName)}/`,semanticObjectPath:o})}else if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&!c(i)){var A,P,S,H,E,N,R,k;const{annotations:n}=i;a.push({isValueMultilineText:false,type:s.Annotation,key:y.generateKeyFromDataField(i),visible:b(p(g(m(n===null||n===void 0?void 0:(A=n.UI)===null||A===void 0?void 0:(P=A.Hidden)===null||P===void 0?void 0:P.valueOf()),true))),label:((S=i.Target)===null||S===void 0?void 0:(H=S.$target)===null||H===void 0?void 0:(E=H.annotations)===null||E===void 0?void 0:(N=E.Common)===null||N===void 0?void 0:(R=N.Label)===null||R===void 0?void 0:R.toString())||((k=i.Label)===null||k===void 0?void 0:k.toString()),idPrefix:I(e,i),annotationPath:`${t.getEntitySetBasedAnnotationPath(i.fullyQualifiedName)}/`,semanticObjectPath:o})}}})}return a}function j(e,t){let a=S.Content;let i;if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&!u(e)){var o,n,l,r,d;if(((o=e.Target)===null||o===void 0?void 0:(n=o.$target)===null||n===void 0?void 0:n.Visualization)==="UI.VisualizationType/Progress"){a=S.ProgressIndicator}else if(((l=e.Target)===null||l===void 0?void 0:(r=l.$target)===null||r===void 0?void 0:r.Visualization)==="UI.VisualizationType/Rating"){a=S.RatingIndicator}const u=(d=e.Target)===null||d===void 0?void 0:d.$target;if(typeof u==="object"){var v;if(u!==null&&u!==void 0&&(v=u.Value)!==null&&v!==void 0&&v.$target){var s,c;const e=u.Value.$target;if((e===null||e===void 0?void 0:(s=e.annotations)===null||s===void 0?void 0:(c=s.Common)===null||c===void 0?void 0:c.SemanticObject)!==undefined){i=t.getEntitySetBasedAnnotationPath(e===null||e===void 0?void 0:e.fullyQualifiedName)}}}}return{type:a,semanticObjectPath:i}}function B(e,t){let a;switch(e.$Type){case"com.sap.vocabularies.UI.v1.ReferenceFacet":a=O(e,e,t);break;case"com.sap.vocabularies.UI.v1.CollectionFacet":a=x(e,t);break;default:break}return a}function G(e){if(!e){return undefined}const t=["Heroes","Decoration","Workers","LongRunners"].indexOf(e)!==-1?`$auto.${e}`:e;return`{ path : '', parameters : { $$groupId : '${t}' } }`}function W(e,t){const a=T(t);let i=e.position;if(!i){i={placement:$.After}}return{facetType:A.Reference,facets:{},type:e.type,id:a,containerId:a,key:t,position:i,visible:e.visible,fragmentName:e.template||e.name,title:e.title,subTitle:e.subTitle,stashed:e.stashed||false,flexSettings:{...{designtime:P.Default},...e.flexSettings},binding:G(e.requestGroupId),templateEdit:e.templateEdit}}return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/ObjectPage/SubSection", ["sap/base/Log","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/controls/ObjectPage/HeaderFacet","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","../../annotations/DataField","../../helpers/ConfigurableObject","../../helpers/ID","../../ManifestSettings","../../objectPage/FormMenuActions","../Common/DataVisualization","../Common/Form"],function(e,t,n,a,i,o,s,r,l,c,d,u,v,f){"use strict";var m={};var p=f.isReferenceFacet;var g=f.createFormDefinition;var b=v.getDataVisualizationConfiguration;var I=u.getVisibilityEnablementFormMenuActions;var F=u.getFormHiddenActions;var h=u.getFormActions;var y=d.ActionType;var U=c.getSubSectionID;var C=c.getSideContentID;var D=c.getFormID;var S=c.getCustomSubSectionID;var A=l.Placement;var T=l.OverrideType;var L=l.insertCustomElements;var E=r.isActionWithDialog;var O=s.isPathAnnotationExpression;var M=o.resolveBindingString;var k=o.ref;var P=o.pathInModel;var N=o.or;var $=o.notEqual;var x=o.not;var w=o.ifElse;var R=o.getExpressionFromAnnotation;var V=o.fn;var H=o.equal;var z=o.compileExpression;var j=o.and;var B=i.KeyHelper;var _=a.IssueType;var G=a.IssueSeverity;var q=a.IssueCategory;var W=n.getStashedSettingsForHeaderFacet;var X=n.getHeaderFacetsFromManifest;var K=n.getDesignTimeMetadataSettingsForHeaderFacet;var Q=t.removeDuplicateActions;var J=t.isActionNavigable;var Y=t.getSemanticObjectMapping;var Z=t.getEnabledForAnnotationAction;var ee=t.getActionsFromManifest;var te=t.ButtonType;let ne;(function(e){e["Unknown"]="Unknown";e["Form"]="Form";e["DataVisualization"]="DataVisualization";e["XMLFragment"]="XMLFragment";e["Placeholder"]="Placeholder";e["Mixed"]="Mixed";e["EmbeddedComponent"]="EmbeddedComponent"})(ne||(ne={}));m.SubSectionType=ne;const ae=["com.sap.vocabularies.UI.v1.LineItem","com.sap.vocabularies.UI.v1.Chart","com.sap.vocabularies.UI.v1.PresentationVariant","com.sap.vocabularies.UI.v1.SelectionPresentationVariant"];function ie(e,t,n){const a=e.reduce((e,t)=>{switch(t.$Type){case"com.sap.vocabularies.UI.v1.ReferenceFacet":e.push(t);break;case"com.sap.vocabularies.UI.v1.CollectionFacet":if(t.Facets.find(e=>e.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet")){e.splice(e.length,0,...t.Facets)}else{e.push(t)}break;case"com.sap.vocabularies.UI.v1.ReferenceURLFacet":break}return e},[]);return a.map(e=>{var i;return ue(e,a,t,0,!(e!==null&&e!==void 0&&(i=e.Facets)!==null&&i!==void 0&&i.length),n)})}m.createSubSections=ie;function oe(e){const t=X(e.getManifestWrapper().getHeaderFacets());const n=[];Object.keys(t).forEach(function(e){n.push(t[e]);return n});const a=n.reduce((e,t)=>{if(t.templateEdit){e.push(t)}return e},[]);return a.map(e=>se(e))}m.createCustomHeaderFacetSubSections=oe;function se(e){const t=S(e.key);const n={id:t,key:e.key,title:e.title,type:ne.XMLFragment,template:e.templateEdit||"",visible:e.visible,level:1,sideContent:undefined,stashed:e.stashed,flexSettings:e.flexSettings,actions:{},objectPageLazyLoaderEnabled:false};return n}const re=(e,t)=>{var n,a;return((n=e.ID)===null||n===void 0?void 0:n.toString())||((a=e.Label)===null||a===void 0?void 0:a.toString())||t};function le(e,t,n){const a=F(t,n)||[],i=h(t,n),o=ee(i,n,e,undefined,undefined,a),s={enabled:T.overwrite,visible:T.overwrite,command:T.overwrite},r=L(e,o.actions,s);return{actions:r?I(Q(r)):e,commandActions:o.commandActions}}function ce(e,t){let n=[];switch(e.$Type){case"com.sap.vocabularies.UI.v1.CollectionFacet":n=e.Facets.filter(e=>p(e)).reduce((e,n)=>fe(e,n,t),[]);break;case"com.sap.vocabularies.UI.v1.ReferenceFacet":n=fe([],e,t);break;default:break}return le(n,e,t)}function de(e){const t=H(R(e),true);return z(w(t,te.Ghost,te.Transparent))}function ue(t,n,a,i,o,s){var r,l,c,d,u,v,f,m;const p=U(t);const I=(r=t.annotations)===null||r===void 0?void 0:(l=r.UI)===null||l===void 0?void 0:l.Hidden;const F=x(H(true,R(I)));const h=z(F);const y=h!==undefined&&typeof h==="string"&&h.indexOf("{=")===0&&!O(I);const C=h&&y?h.substring(h.indexOf("{=")+2,h.lastIndexOf("}"))!==undefined:false;const D=z(R(t.Label));const S={id:p,key:re(t,p),title:D,type:ne.Unknown,annotationPath:a.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),visible:h,isVisibilityDynamic:y,level:i,sideContent:undefined,objectPageLazyLoaderEnabled:a.getManifestWrapper().getEnableLazyLoading()};if(s){S.stashed=W(t,t,a);S.flexSettings={designtime:K(t,t,a)}}let A="";i++;switch(t.$Type){case"com.sap.vocabularies.UI.v1.CollectionFacet":const r=t.Facets;const l=r.map((e,t)=>({index:t,facet:e})).filter(e=>{var t,n;let{facet:a}=e;return ae.includes((t=a.Target)===null||t===void 0?void 0:(n=t.$target)===null||n===void 0?void 0:n.term)});const p=r.filter(e=>!l.find(t=>t.facet===e));if(l.length>0){const n=[];const r=[];const c=[];for(const{facet:e}of l){n.push(ue(e,[],a,i,true,s))}if(p.length>0){e.warning(`Warning: CollectionFacet '${t.ID}' includes a combination of either a chart or a table and other content. This can lead to rendering issues. Consider moving the chart or table into a separate CollectionFacet.`);const n={...t};n.Facets=p;r.push(ue(n,[],a,i,o,s))}if(l.find(e=>{let{index:t}=e;return t===0})){c.push(...n);c.push(...r)}else{c.push(...r);c.push(...n)}const d={...S,type:ne.Mixed,level:i,content:c};return d}else{const e=ce(t,a),n={...S,type:ne.Form,formDefinition:g(t,h,a,e.actions),level:i,actions:e.actions.filter(e=>e.facetName===undefined),commandActions:e.commandActions};return n}case"com.sap.vocabularies.UI.v1.ReferenceFacet":if(!t.Target.$target){A=`Unable to find annotationPath ${t.Target.value}`}else{switch(t.Target.$target.term){case"com.sap.vocabularies.UI.v1.LineItem":case"com.sap.vocabularies.UI.v1.Chart":case"com.sap.vocabularies.UI.v1.PresentationVariant":case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":const e=b(t.Target.value,be(t,n,a),a,undefined,s);const r=S.title?S.title:"";const l=((c=e.visualizations[0])===null||c===void 0?void 0:(d=c.annotation)===null||d===void 0?void 0:d.title)||((u=e.visualizations[0])===null||u===void 0?void 0:u.title);const p=((v=t.annotations)===null||v===void 0?void 0:(f=v.UI)===null||f===void 0?void 0:(m=f.PartOfPreview)===null||m===void 0?void 0:m.valueOf())!==false;const I=ve(l??"",r,o);const U=w(y,j(C,x(H(D,"undefined")),I),j(h!==undefined,D!=="undefined",D!==undefined,F,I));const T={...S,type:ne.DataVisualization,level:i,presentation:e,showTitle:z(I),isPartOfPreview:p,titleVisible:z(U)};return T;case"com.sap.vocabularies.UI.v1.FieldGroup":case"com.sap.vocabularies.UI.v1.Identification":case"com.sap.vocabularies.UI.v1.DataPoint":case"com.sap.vocabularies.UI.v1.StatusInfo":case"com.sap.vocabularies.Communication.v1.Contact":const L=ce(t,a),E={...S,type:ne.Form,level:i,formDefinition:g(t,h,a,L.actions),actions:L.actions.filter(e=>e.facetName===undefined),commandActions:L.commandActions};return E;default:A=`For ${t.Target.$target.term} Fragment`;break}}break;case"com.sap.vocabularies.UI.v1.ReferenceURLFacet":A="For Reference URL Facet";break;default:break}const T={...S,text:A};return T}m.createSubSection=ue;function ve(e,t,n){return N(x(n),$(M(e),M(t)))}m.getTitleVisibility=ve;function fe(e,t,n){const a=t.Target.$target;const i=t.Target.value;let o={};let s=[];let r;[r]=i.split("@");if(r.length>0){if(r.lastIndexOf("/")===r.length-1){r=r.substr(0,r.length-1)}}else{r=undefined}if(a){switch(a.term){case"com.sap.vocabularies.UI.v1.FieldGroup":s=a.Data;o=ee(n.getManifestControlConfiguration(a).actions,n,undefined,undefined,undefined,undefined,t.fullyQualifiedName).actions;break;case"com.sap.vocabularies.UI.v1.Identification":case"com.sap.vocabularies.UI.v1.StatusInfo":if(a.qualifier){s=a}break;default:break}}e=s.reduce((e,i)=>{var o,s,l,c,d,u,v,f,m,p,g,b,I,F,h,U;switch(i.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":if(((o=i.RequiresContext)===null||o===void 0?void 0:o.valueOf())===true){n.getDiagnostics().addIssue(q.Annotation,G.Low,_.MALFORMED_DATAFIELD_FOR_IBN.REQUIRESCONTEXT)}if(((s=i.Inline)===null||s===void 0?void 0:s.valueOf())===true){n.getDiagnostics().addIssue(q.Annotation,G.Low,_.MALFORMED_DATAFIELD_FOR_IBN.INLINE)}if(((l=i.Determining)===null||l===void 0?void 0:l.valueOf())===true){n.getDiagnostics().addIssue(q.Annotation,G.Low,_.MALFORMED_DATAFIELD_FOR_IBN.DETERMINING)}const C={};if(i.Mapping){C.semanticObjectMapping=Y(i.Mapping)}e.push({type:y.DataFieldForIntentBasedNavigation,id:D(t,i),key:B.generateKeyFromDataField(i),text:(c=i.Label)===null||c===void 0?void 0:c.toString(),annotationPath:"",enabled:i.NavigationAvailable!==undefined?z(H(R((d=i.NavigationAvailable)===null||d===void 0?void 0:d.valueOf()),true)):"true",visible:z(x(H(R((u=i.annotations)===null||u===void 0?void 0:(v=u.UI)===null||v===void 0?void 0:(f=v.Hidden)===null||f===void 0?void 0:f.valueOf()),true))),buttonType:de((m=i.annotations)===null||m===void 0?void 0:(p=m.UI)===null||p===void 0?void 0:p.Emphasized),press:z(V("._intentBasedNavigation.navigate",[R(i.SemanticObject),R(i.Action),C])),customData:z({semanticObject:R(i.SemanticObject),action:R(i.Action)})});break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":const S=n.getManifestControlConfiguration(a).actions;const A=B.generateKeyFromDataField(i);e.push({type:y.DataFieldForAction,id:D(t,i),key:A,text:(g=i.Label)===null||g===void 0?void 0:g.toString(),annotationPath:"",enabled:Z(n,i.ActionTarget),binding:r?`{ 'path' : '${r}'}`:undefined,visible:z(x(H(R((b=i.annotations)===null||b===void 0?void 0:(I=b.UI)===null||I===void 0?void 0:(F=I.Hidden)===null||F===void 0?void 0:F.valueOf()),true))),requiresDialog:E(i),buttonType:de((h=i.annotations)===null||h===void 0?void 0:(U=h.UI)===null||U===void 0?void 0:U.Emphasized),press:z(V("invokeAction",[i.Action,{contexts:V("getBindingContext",[],P("","$source")),invocationGrouping:i.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated",label:R(i.Label),model:V("getModel",[],P("/","$source")),isNavigable:J(S&&S[A])}],k(".editFlow"))),facetName:i.Inline?t.fullyQualifiedName:undefined});break;default:break}return e},e);return L(e,o)}function me(e){if(e){var t,n;const a=(t=e.annotations)===null||t===void 0?void 0:(n=t.Common)===null||n===void 0?void 0:n.IsActionCritical;if(e.parameters.length>1||a){return"Dialog"}else{return"None"}}else{return"None"}}m.isDialog=me;function pe(e,t){const n={};Object.keys(e).forEach(a=>n[a]=ge(e[a],a,t));return n}m.createCustomSubSections=pe;function ge(e,t,n){const a=e.sideContent?{template:e.sideContent.template,id:C(t),visible:false,equalSplit:e.sideContent.equalSplit}:undefined;let i=e.position;if(!i){i={placement:A.After}}const o=e.visible!==undefined?e.visible:true;const s=o&&typeof o==="string"&&o.indexOf("{=")===0;const r=ee(e.actions,n);const l={type:ne.Unknown,id:e.id||S(t),actions:r.actions,key:t,title:e.title,level:1,position:i,visible:e.visible!==undefined?e.visible:"true",sideContent:a,isVisibilityDynamic:s,objectPageLazyLoaderEnabled:e.enableLazyLoading??false,componentName:"",settings:""};if(e.template||e.name){l.type=ne.XMLFragment;l.template=e.template||e.name||""}else if(e.embeddedComponent!==undefined){l.type=ne.EmbeddedComponent;l.componentName=e.embeddedComponent.name;if(e.embeddedComponent.settings!==undefined){l.settings=JSON.stringify(e.embeddedComponent.settings)}}else{l.type=ne.Placeholder}return l}m.createCustomSubSection=ge;function be(e,t,n){const a=n.getManifestWrapper();if(a.useIconTabBar()){return Ie(e,t)}else{var i,o,s,r,l,c;const a=n.getEntityType();if((i=a.annotations)!==null&&i!==void 0&&(o=i.UI)!==null&&o!==void 0&&(s=o.Facets)!==null&&s!==void 0&&s.length&&((r=a.annotations)===null||r===void 0?void 0:(l=r.UI)===null||l===void 0?void 0:(c=l.Facets)===null||c===void 0?void 0:c.length)>1){return Ie(e,t)}else{return true}}}function Ie(e,t){return t.every(function(t){if(t!==e){if(t.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){var n,a,i,o,s;const e=t;if(((n=e.Target)===null||n===void 0?void 0:(a=n.$target)===null||a===void 0?void 0:a.term)==="com.sap.vocabularies.UI.v1.LineItem"||((i=e.Target)===null||i===void 0?void 0:(o=i.$target)===null||o===void 0?void 0:o.term)==="com.sap.vocabularies.UI.v1.PresentationVariant"||((s=e.Target.$target)===null||s===void 0?void 0:s.term)==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){var r,l,c,d;return((r=e.annotations)===null||r===void 0?void 0:(l=r.UI)===null||l===void 0?void 0:l.Hidden)!==undefined?(c=e.annotations)===null||c===void 0?void 0:(d=c.UI)===null||d===void 0?void 0:d.Hidden:false}return true}else{const e=t;return e.Facets.every(function(e){var t,n,a,i,o,s;const r=e;if(((t=r.Target)===null||t===void 0?void 0:(n=t.$target)===null||n===void 0?void 0:n.term)==="com.sap.vocabularies.UI.v1.LineItem"||((a=r.Target)===null||a===void 0?void 0:(i=a.$target)===null||i===void 0?void 0:i.term)==="com.sap.vocabularies.UI.v1.PresentationVariant"||((o=r.Target)===null||o===void 0?void 0:(s=o.$target)===null||s===void 0?void 0:s.term)==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){var l,c,d,u;return((l=r.annotations)===null||l===void 0?void 0:(c=l.UI)===null||c===void 0?void 0:c.Hidden)!==undefined?(d=r.annotations)===null||d===void 0?void 0:(u=d.UI)===null||u===void 0?void 0:u.Hidden:false}return true})}}return true})}return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/Aggregation", ["sap/fe/core/helpers/TypeGuards"],function(t){"use strict";var e={};var n=t.isNavigationProperty;var o=t.isEntityType;var r=t.isEntitySet;let i=function(){function t(t,e){var i;this._entityType=t;this._converterContext=e;this._oAggregationAnnotationTarget=this._determineAggregationAnnotationTarget();if(n(this._oAggregationAnnotationTarget)||o(this._oAggregationAnnotationTarget)||r(this._oAggregationAnnotationTarget)){this.oTargetAggregationAnnotations=this._oAggregationAnnotationTarget.annotations.Aggregation}this._bApplySupported=(i=this.oTargetAggregationAnnotations)!==null&&i!==void 0&&i.ApplySupported?true:false;if(this._bApplySupported){var g,a,s,l;this._aGroupableProperties=(g=this.oTargetAggregationAnnotations)===null||g===void 0?void 0:(a=g.ApplySupported)===null||a===void 0?void 0:a.GroupableProperties;this._aAggregatableProperties=(s=this.oTargetAggregationAnnotations)===null||s===void 0?void 0:(l=s.ApplySupported)===null||l===void 0?void 0:l.AggregatableProperties;this.oContainerAggregationAnnotation=e.getEntityContainer().annotations.Aggregation}}e.AggregationHelper=t;var i=t.prototype;i._determineAggregationAnnotationTarget=function t(){var e,n,o,i,g;const a=(e=this._converterContext.getDataModelObjectPath())!==null&&e!==void 0&&(n=e.targetEntitySet)!==null&&n!==void 0&&(o=n.entityType)!==null&&o!==void 0&&(i=o.annotations)!==null&&i!==void 0&&(g=i.Common)!==null&&g!==void 0&&g.ResultContext?true:false;let s;if(a){var l,p,u,A;const t=this._converterContext.getDataModelObjectPath();const e=t===null||t===void 0?void 0:t.targetObject;const n=t===null||t===void 0?void 0:t.targetEntityType;if(e!==null&&e!==void 0&&(l=e.annotations)!==null&&l!==void 0&&(p=l.Aggregation)!==null&&p!==void 0&&p.ApplySupported){s=e}else if(n!==null&&n!==void 0&&(u=n.annotations)!==null&&u!==void 0&&(A=u.Aggregation)!==null&&A!==void 0&&A.ApplySupported){s=n}}else{var d;const t=this._converterContext.getEntitySet();if(r(t)&&(d=t.annotations.Aggregation)!==null&&d!==void 0&&d.ApplySupported){s=t}else{s=this._converterContext.getEntityType()}}return s};i.isAnalyticsSupported=function t(){return this._bApplySupported};i.isPropertyGroupable=function t(e){if(!this._bApplySupported){return undefined}else if(!this._aGroupableProperties||this._aGroupableProperties.length===0){return true}else{return this._aGroupableProperties.findIndex(t=>t.$target.fullyQualifiedName===e.fullyQualifiedName)>=0}};i.isPropertyAggregatable=function t(e){if(!this._bApplySupported){return undefined}else{const t=this._converterContext.getAnnotationsByTerm("Aggregation","Org.OData.Aggregation.V1.CustomAggregate",[this._oAggregationAnnotationTarget]);return t.some(t=>e.name===t.qualifier)}};i.getGroupableProperties=function t(){return this._aGroupableProperties};i.getAggregatableProperties=function t(){return this._aAggregatableProperties};i.getEntityType=function t(){return this._entityType};i.getAggregatedProperties=function t(e){if(e==="AggregatedProperties"){return this._converterContext.getAnnotationsByTerm("Analytics","com.sap.vocabularies.Analytics.v1.AggregatedProperties",[this._converterContext.getEntityContainer(),this._converterContext.getEntityType()])}return this._converterContext.getAnnotationsByTerm("Analytics","com.sap.vocabularies.Analytics.v1.AggregatedProperty",[this._converterContext.getEntityContainer(),this._converterContext.getEntityType()])};i.getTransAggregations=function t(){var e;let n=this.getAggregatedProperties("AggregatedProperty");if(!n||n.length===0){n=this.getAggregatedProperties("AggregatedProperties")[0]}return(e=n)===null||e===void 0?void 0:e.filter(t=>{if(this._getAggregatableAggregates(t.AggregatableProperty)){return t}})};i._getAggregatableAggregates=function t(e){const n=this.getAggregatableProperties()||[];return n.find(function(t){return t.Property.value===(e.qualifier?e.qualifier:e.$target.name)})};i.getCustomAggregateDefinitions=function t(){const e=this._converterContext.getAnnotationsByTerm("Aggregation","Org.OData.Aggregation.V1.CustomAggregate",[this._oAggregationAnnotationTarget]);return e};i.getAllowedTransformations=function t(){var e,n,o,r;return((e=this.oTargetAggregationAnnotations)===null||e===void 0?void 0:(n=e.ApplySupported)===null||n===void 0?void 0:n.Transformations)||((o=this.oContainerAggregationAnnotation)===null||o===void 0?void 0:(r=o.ApplySupportedDefaults)===null||r===void 0?void 0:r.Transformations)};return t}();e.AggregationHelper=i;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/BindingHelper", ["sap/fe/core/helpers/BindingToolkit"],function(t){"use strict";var e={};var i=t.pathInModel;var n=t.or;var s=t.not;var a=t.equal;var r=t.and;const o={IsCreateMode:i("createMode","ui"),IsEditable:i("/isEditable","ui"),IsTransientBinding:a(i("@$ui5.context.isTransient"),true),IsTotal:a(i("@$ui5.node.isTotal"),true),IsExpanded:a(i("@$ui5.node.isExpanded"),true),NodeLevel:i("@$ui5.node.level"),IsInactive:i("@$ui5.context.isInactive")};e.UI=o;const u={HasDraft:i("HasDraftEntity"),HasActive:i("HasActiveEntity"),IsActive:i("IsActiveEntity")};e.Entity=u;const c={IsNewObject:r(s(u.HasActive),s(u.IsActive)),HasNoDraftForCurrentUser:n(s(u.HasDraft),r(u.HasDraft,s(i("DraftAdministrativeData/DraftIsCreatedByMe"))))};e.Draft=c;function d(t,e){return t.singletons.find(t=>t.fullyQualifiedName===e)}const f=function(t,e,i){if(t.indexOf("/")===0){const i=t.split("/").filter(Boolean),n=i.pop(),s=i.join("/"),a=d(e,s);if(a){t=`/${a.name}/${n}`}}else{const e=i.concat();e.push(t);t=e.join("/")}return t};e.singletonPathVisitor=f;function l(t,e,i){if(i){const e=`${i===null||i===void 0?void 0:i.substring(i.lastIndexOf("/")+1)}/`;if(t.startsWith(e)){return t.substring(e.length)}}return f(t,e.getConvertedTypes(),[])}e.bindingContextPathVisitor=l;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/ConfigurableObject", ["sap/base/Log"],function(e){"use strict";var n={};let t;(function(e){e["After"]="After";e["Before"]="Before";e["End"]="End"})(t||(t={}));n.Placement=t;const o=(n,i,r,s)=>{let c=r.indexOf(i);if(c!==-1){return c}const l=n[i];if(l===undefined){const n=i.split("::"),t=Object.keys(s)[0];e.warning(`Position anchor '${n[n.length-1]}' not found for item '${t}'. Please check manifest settings.`);return r.length}s[i]=l;if(l&&!(l.anchor in s)){c=o(n,l.anchor,r,s);if(l.placement!==t.Before){++c}}else{c=r.length}r.splice(c,0,i);return c};let i;(function(e){e["merge"]="merge";e["overwrite"]="overwrite";e["ignore"]="ignore"})(i||(i={}));n.OverrideType=i;function r(e){return typeof e==="object"}function s(e,n,t){const o=n||t;for(const i in e){if(Object.hasOwnProperty.call(e,i)){const s=e[i];if(n!==null){switch(s){case"overwrite":if(t.hasOwnProperty(i)&&t[i]!==undefined){n[i]=t[i]}break;case"merge":default:const e=n[i]||[];let o={};if(r(s)){o=s}if(Array.isArray(e)){n[i]=c(e,t&&t[i]||{},o)}break}}else{switch(s){case"overwrite":if(t.hasOwnProperty(i)&&t[i]!==undefined){o[i]=t[i]}break;case"merge":default:let e={};if(r(s)){e=s}o[i]=c([],t&&t[i]||{},e);break}}}}return o}function c(e,n){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const r=e.length?e[0].key:null;const c=e.filter(e=>{var n;return((n=e.position)===null||n===void 0?void 0:n.placement)!==t.End});const l=e.length?e[c.length-1].key:null;let a;const f={};const u={};e.forEach(e=>{var n;if(((n=e.position)===null||n===void 0?void 0:n.placement)===t.End&&!a){a=e}else{var o,i;f[e.key]={anchor:((o=e.position)===null||o===void 0?void 0:o.anchor)||e.key,placement:((i=e.position)===null||i===void 0?void 0:i.placement)||t.After}}u[e.key]=e});Object.keys(n).forEach(e=>{var o;const c=n[e];const a=c.position.anchor;if(!c.position.placement){c.position.placement=t.After}if(!a){const n=c.position.placement===t.After?l:r;c.position.anchor=n?n:e}c.menu=c===null||c===void 0?void 0:(o=c.menu)===null||o===void 0?void 0:o.map(e=>u[e.key]??e);const p=c.key;if(u[p]){u[p]=s(i,u[p],c);if(a&&c.position&&i.position&&i.position==="overwrite"){f[p]=u[p].position}}else{u[p]=s(i,null,c);f[p]=c.position}});const p=[];Object.keys(f).forEach(e=>{o(f,e,p,{})});const d=p.map(e=>u[e]);if(a){d.push(a)}return d}n.insertCustomElements=c;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/DataFieldHelper", ["sap/base/Log"],function(e){"use strict";var i={};function n(i){var n,l,o,d,a,r,v,u,s,f,g,c,U,I,H;if(i){switch(i.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":return t(i);case"com.sap.vocabularies.UI.v1.DataField":if(((n=i.annotations)===null||n===void 0?void 0:(l=n.UI)===null||l===void 0?void 0:(o=l.Hidden)===null||o===void 0?void 0:o.valueOf())===true){var h,p;if(i.annotations&&((h=i.annotations.UI)===null||h===void 0?void 0:(p=h.HiddenFilter)===null||p===void 0?void 0:p.valueOf())===true){e.warning("Warning: Property "+i.Value.path+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else if(((d=i.Value)===null||d===void 0?void 0:(a=d.$target)===null||a===void 0?void 0:(r=a.annotations)===null||r===void 0?void 0:(v=r.UI)===null||v===void 0?void 0:(u=v.Hidden)===null||u===void 0?void 0:u.valueOf())===true){var F,y,b,w,O;if(((F=i.Value)===null||F===void 0?void 0:(y=F.$target)===null||y===void 0?void 0:(b=y.annotations)===null||b===void 0?void 0:(w=b.UI)===null||w===void 0?void 0:(O=w.HiddenFilter)===null||O===void 0?void 0:O.valueOf())===true){e.warning("Warning: Property "+i.Value.path+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else{return false}case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":const m=(s=i.Value)===null||s===void 0?void 0:(f=s.$target)===null||f===void 0?void 0:f.annotations;if((m===null||m===void 0?void 0:(g=m.UI)===null||g===void 0?void 0:(c=g.Hidden)===null||c===void 0?void 0:c.valueOf())===true){var $,V;if((m===null||m===void 0?void 0:($=m.UI)===null||$===void 0?void 0:(V=$.HiddenFilter)===null||V===void 0?void 0:V.valueOf())===true){e.warning("Warning: Property "+i.Value.path+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else{return false}case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":if(((U=i.annotations)===null||U===void 0?void 0:(I=U.UI)===null||I===void 0?void 0:(H=I.Hidden)===null||H===void 0?void 0:H.valueOf())===true){var P,W;if(i.annotations&&((P=i.annotations.UI)===null||P===void 0?void 0:(W=P.HiddenFilter)===null||W===void 0?void 0:W.valueOf())===true){e.warning("Warning: Property "+i.Value.path+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else{return false}default:}}}i.isReferencePropertyStaticallyHidden=n;function t(i){var t,l,o;const d=i.Target.$target.term;switch(d){case"com.sap.vocabularies.UI.v1.Chart":let d;i.Target.$target.Measures.forEach(i=>{var n,t,l;if(((n=i.$target.annotations)===null||n===void 0?void 0:(t=n.UI)===null||t===void 0?void 0:(l=t.Hidden)===null||l===void 0?void 0:l.valueOf())===true){var o,a;e.warning("Warning: Measure attribute for Chart "+i.$target.name+" is statically hidden hence chart can't be rendered");if(i.$target.annotations&&((o=i.$target.annotations.UI)===null||o===void 0?void 0:(a=o.HiddenFilter)===null||a===void 0?void 0:a.valueOf())===true){e.warning("Warning: Property "+i.$target.name+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}d=true}});if(d===true){return true}else{return false}case"com.sap.vocabularies.UI.v1.ConnectedFields":if(i){var a,r,v;if(((a=i.annotations)===null||a===void 0?void 0:(r=a.UI)===null||r===void 0?void 0:(v=r.Hidden)===null||v===void 0?void 0:v.valueOf())===true){var u,s;if(i.annotations&&((u=i.annotations.UI)===null||u===void 0?void 0:(s=u.HiddenFilter)===null||s===void 0?void 0:s.valueOf())===true){e.warning("Warning: Property "+i.Target.$target.qualifier+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else{return false}}break;case"com.sap.vocabularies.UI.v1.FieldGroup":if(i){if(i.Target.$target.Data.every(e=>n(e)===true)){return true}else{return false}}break;case"com.sap.vocabularies.UI.v1.DataPoint":const U=i.Target.$target.Value.$target;if(((t=U.annotations)===null||t===void 0?void 0:(l=t.UI)===null||l===void 0?void 0:(o=l.Hidden)===null||o===void 0?void 0:o.valueOf())===true){var f,g,c;if(((f=U.annotations)===null||f===void 0?void 0:(g=f.UI)===null||g===void 0?void 0:(c=g.HiddenFilter)===null||c===void 0?void 0:c.valueOf())===true){e.warning("Warning: Property "+i.Target.$target.Value.path+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else{return false}default:}}i.isAnnotationFieldStaticallyHidden=t;function l(i){if(i.targetObject){var n,t,l,o,d,a,r,v,u;const y=i.targetObject;if(y.annotations&&((n=y.annotations)===null||n===void 0?void 0:(t=n.UI)===null||t===void 0?void 0:(l=t.Hidden)===null||l===void 0?void 0:l.valueOf())===true){var s,f,g,c,U;if(((s=y.Value)===null||s===void 0?void 0:(f=s.$target)===null||f===void 0?void 0:(g=f.annotations)===null||g===void 0?void 0:(c=g.UI)===null||c===void 0?void 0:(U=c.HiddenFilter)===null||U===void 0?void 0:U.valueOf())===true){e.warning("Warning: Property "+y.Value.path+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else if(y!==null&&y!==void 0&&(o=y.Value)!==null&&o!==void 0&&o.$target&&(y===null||y===void 0?void 0:(d=y.Value)===null||d===void 0?void 0:(a=d.$target)===null||a===void 0?void 0:(r=a.annotations)===null||r===void 0?void 0:(v=r.UI)===null||v===void 0?void 0:(u=v.Hidden)===null||u===void 0?void 0:u.valueOf())===true){var I,H,h,p,F;if((y===null||y===void 0?void 0:(I=y.Value)===null||I===void 0?void 0:(H=I.$target)===null||H===void 0?void 0:(h=H.annotations)===null||h===void 0?void 0:(p=h.UI)===null||p===void 0?void 0:(F=p.HiddenFilter)===null||F===void 0?void 0:F.valueOf())===true){e.warning("Warning: Property "+y.Value.path+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else{return false}}}i.isHeaderStaticallyHidden=l;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/ID", ["../../helpers/StableIdHelper"],function(t){"use strict";var e={};var n=t.generate;const o=["fe"];function r(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++){e[r]=arguments[r]}return function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++){r[a]=arguments[a]}return n(o.concat(...e,...r))}}e.createIDGenerator=r;const a=r("HeaderFacet");e.getHeaderFacetID=a;const c=r("HeaderFacetContainer");e.getHeaderFacetContainerID=c;const i=r("HeaderFacet","Form");e.getHeaderFacetFormID=i;const s=r("HeaderFacetCustomContainer");e.getCustomHeaderFacetID=s;const u=r("EditableHeaderSection");e.getEditableHeaderSectionID=u;const g=r("FacetSection");e.getSectionID=g;const I=r("CustomSection");e.getCustomSectionID=I;const D=r("FacetSubSection");e.getSubSectionID=D;const d=r("CustomSubSection");e.getCustomSubSectionID=d;const C=r("SideContent");e.getSideContentID=C;const m=function(t){return n(["fe",t,"SideContentLayout"])};e.getSideContentLayoutID=m;const F=r("Form");e.getFormID=F;const S=r("FormContainer");e.getFormContainerID=S;const f=function(t,e){return n(["fe","FormContainer",t,"StandardAction",e])};e.getFormStandardActionButtonID=f;const l=r("table");e.getTableID=l;const b=r("CustomTab");e.getCustomTabID=b;const H=r("FilterBar");e.getFilterBarID=H;const p=function(){return"fe::ListReport"};e.getDynamicListReportID=p;const A=r("TabMultipleMode");e.getIconTabBarID=A;const h=function(t){return n([t,"VariantManagement"])};e.getFilterVariantManagementID=h;const y=r("Chart");e.getChartID=y;const T=function(t){return n(["CustomAction",t])};e.getCustomActionID=T;const v=r("KPI");e.getKPIID=v;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/IssueManager", [],function(){"use strict";var e={};let n;(function(e){e[e["High"]=0]="High";e[e["Low"]=1]="Low";e[e["Medium"]=2]="Medium"})(n||(n={}));e.IssueSeverity=n;const t={Facets:{MissingID:"MissingID",UnSupportedLevel:"UnsupportedLevel"},AnnotationColumns:{InvalidKey:"InvalidKey"},Annotations:{IgnoredAnnotation:"IgnoredAnnotation"}};e.IssueCategoryType=t;let i;(function(e){e["Annotation"]="Annotation";e["Template"]="Template";e["Manifest"]="Manifest";e["Facets"]="Facets"})(i||(i={}));e.IssueCategory=i;const o={MISSING_CHART:"We couldn't find a chart annotation for the current entitySet, you should consider adding one.",MISSING_LINEITEM:"We couldn't find a line item annotation for the current entitySet, you should consider adding one.",MISSING_SELECTIONFIELD:"We couldn't find the defined selection field.",MALFORMED_DATAFIELD_FOR_IBN:{REQUIRESCONTEXT:"DataFieldForIntentBasedNavigation cannot use RequiresContext in the form or header.",INLINE:"DataFieldForIntentBasedNavigation cannot use Inline in the form or header.",DETERMINING:"DataFieldForIntentBasedNavigation cannot use Determining in the form or header."},MALFORMED_VISUALFILTERS:{VALUELIST:"We couldn't find the ValueList path provided in the manifest",PRESENTATIONVARIANT:"PresentationVariant is missing for the VisualFilters",CHART:"Chart is missing from the PV configured for the VisualFilters",VALUELISTCONFIG:"ValueList has not been configured inside the Visual Filter Settings",FilterRestrictions:"For VisualFilters, range expressions are not allowed"},FULLSCREENMODE_NOT_ON_LISTREPORT:"enableFullScreenMode is not supported on list report pages.",KPI_ISSUES:{KPI_NOT_FOUND:"Couldn't find KPI or SPV with qualifier ",KPI_DETAIL_NOT_FOUND:"Can't find proper datapoint or chart definition for KPI ",NO_ANALYTICS:"The following entitySet used in a KPI definition doesn't support $apply queries:",MAIN_PROPERTY_NOT_AGGREGATABLE:"Main property used in KPI cannot be aggregated "}};e.IssueType=o;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/Key", ["../../helpers/StableIdHelper"],function(e){"use strict";var t={};var r=e.getStableIdPartFromDataField;let n=function(){function e(){}t.KeyHelper=e;e.generateKeyFromDataField=function e(t){return r(t,true)};e.validateKey=function e(t){const r=/[^A-Za-z0-9_\-:]/;if(r.exec(t)){throw new Error(`Invalid key: ${t} - only 'A-Za-z0-9_-:' are allowed`)}};e.getSelectionFieldKeyFromPath=function e(t){return t.replace(/([*+])?\//g,"::")};e.getPathFromSelectionFieldKey=function e(t){return t.replace(/::/g,"/")};return e}();t.KeyHelper=n;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/SelectionVariantHelper", [],function(){"use strict";var e={};function n(e,n){let t;const a=e.Sign==="UI.SelectionRangeSignType/I"?true:false;switch(e.Option){case"UI.SelectionRangeOptionType/BT":t=a?"BT":"NB";break;case"UI.SelectionRangeOptionType/CP":t=a?"Contains":"NotContains";break;case"UI.SelectionRangeOptionType/EQ":t=a?"EQ":"NE";break;case"UI.SelectionRangeOptionType/GE":t=a?"GE":"LT";break;case"UI.SelectionRangeOptionType/GT":t=a?"GT":"LE";break;case"UI.SelectionRangeOptionType/LE":t=a?"LE":"GT";break;case"UI.SelectionRangeOptionType/LT":t=a?"LT":"GE";break;case"UI.SelectionRangeOptionType/NB":t=a?"NB":"BT";break;case"UI.SelectionRangeOptionType/NE":t=a?"NE":"EQ";break;case"UI.SelectionRangeOptionType/NP":t=a?"NotContains":"Contains";break;default:t="EQ"}return{operator:t,rangeLow:n&&n.indexOf("Edm.Date")===0?new Date(e.Low):e.Low,rangeHigh:e.High&&n&&n.indexOf("Edm.Date")===0?new Date(e.High):e.High}}function t(e){const t=[];if(e.SelectOptions){e.SelectOptions.forEach(e=>{if(e.PropertyName&&e.Ranges.length>0){t.push({propertyPath:e.PropertyName.value,propertyType:e.PropertyName.$target.type,ranges:e.Ranges.map(t=>{var a;return n(t,(a=e.PropertyName)===null||a===void 0?void 0:a.$target.type)})})}})}return t}e.getFilterDefinitionsFromSelectionVariant=t;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/objectPage/FormMenuActions", ["sap/fe/core/converters/helpers/Key"],function(i){"use strict";var o={};var e=i.KeyHelper;var a;(function(i){i["Default"]="Default"})(a||(a={}));const n=i=>{let o,e;i.forEach(i=>{var a;o=false;e=[];if(i!==null&&i!==void 0&&(a=i.menu)!==null&&a!==void 0&&a.length){var n;i===null||i===void 0?void 0:(n=i.menu)===null||n===void 0?void 0:n.forEach(i=>{const a=i.visible;if(!o){if(a&&typeof a==="boolean"||a.valueOf()==="true"){o=true}else if(a&&a.valueOf()!=="false"){e.push(a.valueOf())}}});if(e.length){i.visible=e}else{i.visible=o.toString()}}});return i};o.getVisibilityEnablementFormMenuActions=n;const l=(i,o)=>{for(const e in i){if(i.hasOwnProperty(e)){o[e]=i[e]}}return i};o.mergeFormActions=l;const t=(i,o)=>{var n,l;const t=v(i,o)||[],d=o===null||o===void 0?void 0:(n=o.getEntityType())===null||n===void 0?void 0:(l=n.annotations)===null||l===void 0?void 0:l.UI;const r=[];for(const i in d){var u,s,c;if(((u=d[i])===null||u===void 0?void 0:u.$Type)==="com.sap.vocabularies.UI.v1.FieldGroupType"){var f;(f=d[i])===null||f===void 0?void 0:f.Data.forEach(i=>{if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&t.hasOwnProperty(`DataFieldForAction::${i.Action}`)){var o,n,l;if((i===null||i===void 0?void 0:(o=i.annotations)===null||o===void 0?void 0:(n=o.UI)===null||n===void 0?void 0:(l=n.Hidden)===null||l===void 0?void 0:l.valueOf())===true){r.push({type:a.Default,key:e.generateKeyFromDataField(i)})}}else if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&t.hasOwnProperty(`DataFieldForIntentBasedNavigation::${i.Action}`)){var v,d,u;if((i===null||i===void 0?void 0:(v=i.annotations)===null||v===void 0?void 0:(d=v.UI)===null||d===void 0?void 0:(u=d.Hidden)===null||u===void 0?void 0:u.valueOf())===true){r.push({type:a.Default,key:e.generateKeyFromDataField(i)})}}})}else if(((s=d[i])===null||s===void 0?void 0:s.term)==="com.sap.vocabularies.UI.v1.Identification"||((c=d[i])===null||c===void 0?void 0:c.term)==="@com.sap.vocabularies.UI.v1.StatusInfo"){var p;(p=d[i])===null||p===void 0?void 0:p.forEach(i=>{if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&t.hasOwnProperty(`DataFieldForAction::${i.Action}`)){var o,n,l;if((i===null||i===void 0?void 0:(o=i.annotations)===null||o===void 0?void 0:(n=o.UI)===null||n===void 0?void 0:(l=n.Hidden)===null||l===void 0?void 0:l.valueOf())===true){r.push({type:a.Default,key:e.generateKeyFromDataField(i)})}}else if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&t.hasOwnProperty(`DataFieldForIntentBasedNavigation::${i.Action}`)){var v,d,u;if((i===null||i===void 0?void 0:(v=i.annotations)===null||v===void 0?void 0:(d=v.UI)===null||d===void 0?void 0:(u=d.Hidden)===null||u===void 0?void 0:u.valueOf())===true){r.push({type:a.Default,key:e.generateKeyFromDataField(i)})}}})}}return r};o.getFormHiddenActions=t;const v=(i,o)=>{const e=o.getManifestWrapper();let a,n;let t={};if((i===null||i===void 0?void 0:i.$Type)==="com.sap.vocabularies.UI.v1.CollectionFacet"){if(i!==null&&i!==void 0&&i.Facets){i===null||i===void 0?void 0:i.Facets.forEach(i=>{var o,v;a=i===null||i===void 0?void 0:(o=i.Target)===null||o===void 0?void 0:o.value;n=e.getFormContainer(a);if((v=n)!==null&&v!==void 0&&v.actions){var d;for(const o in n.actions){n.actions[o].facetName=i.fullyQualifiedName}t=l((d=n)===null||d===void 0?void 0:d.actions,t)}})}}else if((i===null||i===void 0?void 0:i.$Type)==="com.sap.vocabularies.UI.v1.ReferenceFacet"){var v,d;a=i===null||i===void 0?void 0:(v=i.Target)===null||v===void 0?void 0:v.value;n=e.getFormContainer(a);if((d=n)!==null&&d!==void 0&&d.actions){for(const o in n.actions){n.actions[o].facetName=i.fullyQualifiedName}t=n.actions}}return t};o.getFormActions=v;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/objectPage/HeaderAndFooterAction", ["sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/ui/core/Core","../helpers/BindingHelper","../ManifestSettings"],function(e,t,i,n,o,a,l,r,d,v){"use strict";var s={};var u=v.ActionType;var c=d.UI;var f=d.singletonPathVisitor;var p=d.Draft;var y=l.isPathDeletable;var g=a.isEntitySet;var b=n.pathInModel;var E=n.not;var h=n.ifElse;var A=n.getExpressionFromAnnotation;var m=n.fn;var D=n.equal;var C=n.constant;var I=n.compileExpression;var O=n.and;var S=i.KeyHelper;var T=t.Placement;var P=e.getSemanticObjectMapping;var B=e.getEnabledForAnnotationAction;var F=e.getCopyAction;var N=e.dataFieldIsCopyAction;var U=e.ButtonType;function H(e,t){var i,n,o;return((i=e.annotations)===null||i===void 0?void 0:(n=i.UI)===null||n===void 0?void 0:(o=n.Identification)===null||o===void 0?void 0:o.filter(e=>{var i,n,o,a,l,r,d,v,s,u;return((i=e.annotations)===null||i===void 0?void 0:(n=i.UI)===null||n===void 0?void 0:(o=n.Hidden)===null||o===void 0?void 0:o.valueOf())!==true&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&Boolean((a=e.Determining)===null||a===void 0?void 0:a.valueOf())===t&&(((l=e.ActionTarget)===null||l===void 0?void 0:(r=l.isBound)===null||r===void 0?void 0:r.valueOf())!==true||(e===null||e===void 0?void 0:(d=e.ActionTarget)===null||d===void 0?void 0:(v=d.annotations)===null||v===void 0?void 0:(s=v.Core)===null||s===void 0?void 0:(u=s.OperationAvailable)===null||u===void 0?void 0:u.valueOf())!==false)?true:false}))||[]}s.getIdentificationDataFieldForActions=H;function M(e,t){var i,n,o;return((i=e.annotations)===null||i===void 0?void 0:(n=i.UI)===null||n===void 0?void 0:(o=n.Identification)===null||o===void 0?void 0:o.filter(e=>{var i,n,o,a;return((i=e.annotations)===null||i===void 0?void 0:(n=i.UI)===null||n===void 0?void 0:(o=n.Hidden)===null||o===void 0?void 0:o.valueOf())!==true&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&Boolean((a=e.Determining)===null||a===void 0?void 0:a.valueOf())===t?true:false}))||[]}const k=["UI.CriticalityType/VeryPositive","UI.CriticalityType/Positive","UI.CriticalityType/Negative","UI.CriticalityType/VeryNegative"];s.IMPORTANT_CRITICALITIES=k;function R(e,t){const i=e.getDataModelObjectPath(),n=i.navigationProperties.map(e=>e.name),o=A(t,n,undefined,t=>f(t,e.getConvertedTypes(),[])),a=e.getManifestWrapper(),l=a.getViewLevel(),r=l>1?c.IsEditable:E(c.IsEditable);return h(t===undefined||t.valueOf()===false,r,O(r,D(o,false)))}s.getDeleteButtonVisibility=R;function x(e,t,i){const n=i.getEntitySet(),a=o.isDraftRoot(n);let l=h(t!==undefined,t,h(e!==undefined,D(A(e),true),C(true)));l=a?O(l,E(b("DraftAdministrativeData/InProcessByUser"))):l;return l}s.getDeleteButtonEnabled=x;function V(e,t,i,n,a){const l=i===null||i===void 0?void 0:i.getEntitySet(),r=e.getEntitySet(),d=e.getManifestWrapper().isFclEnabled();let v;const s=j(i,t);if(a&&a>1){v=o.isDraftNode(r)}else{v=o.isDraftRoot(l)}const u=j(i,n);const f=E(c.IsEditable);const y=h(a>1,h(n===undefined||n.valueOf()===false,O(f,D(b("rootEditVisible","internal"),true),h(d,D(b("/showEditButton","fclhelper"),true),true)),O(f,D(u,false),D(b("rootEditVisible","internal"),true),h(d,D(b("/showEditButton","fclhelper"),true),true))),h(t===undefined||t.valueOf()===false,f,O(f,D(s,false))));return h(v,O(y,p.HasNoDraftForCurrentUser),y)}s.getEditButtonVisibility=V;function j(e,t){const i=e.getDataModelObjectPath(),n=i.navigationProperties.map(e=>e.name),o=A(t,n,undefined,t=>f(t,e.getConvertedTypes(),n));return o}s.getHiddenExpression=j;function w(e,t,i){const n=e.getEntitySet(),a=o.isDraftRoot(n),l=o.isSticky(n);let r;if(a&&g(n)){var d,v;r=(d=n.annotations.Common)===null||d===void 0?void 0:(v=d.DraftRoot)===null||v===void 0?void 0:v.EditAction}else if(l&&g(n)){var s,u;r=(s=n.annotations.Session)===null||s===void 0?void 0:(u=s.StickySessionSupported)===null||u===void 0?void 0:u.EditAction}if(r){var c,f;const n=e.getAbsoluteAnnotationPath(r);const o=e.resolveAbsolutePath(n).target;if((o===null||o===void 0?void 0:(c=o.annotations)===null||c===void 0?void 0:(f=c.Core)===null||f===void 0?void 0:f.OperationAvailable)===null){}else if(i>1){if(t!==undefined){return I(O(D(A(t),true),D(b("rootEditEnabled","internal"),true)))}else{return I(D(b("rootEditEnabled","internal"),true))}}else{return B(e,o??undefined)}}return"true"}s.getEditButtonEnabled=w;function L(e){var t,i,n,a,l;const d=e.getContextPath();const v=o.getRootEntitySetPath(d);const s=e.getConverterContextFor("/"+v);const c=e.getEntitySet(),p=e.getEntityType(),h=s.getEntitySet(),C=s.getEntityType(),T=o.getStickySession(h),B=o.getDraftRoot(h),j=o.getDraftNode(h),L=c&&((t=c.annotations)===null||t===void 0?void 0:(i=t.Capabilities)===null||i===void 0?void 0:i.DeleteRestrictions),K=o.isUpdateHidden(h,C),W=h&&g(h)&&(K===null||K===void 0?void 0:K.valueOf()),_=e.getDataModelObjectPath(),q=y(_,{pathVisitor:(t,i)=>f(t,e.getConvertedTypes(),i)}),Q=q?I(q):q,G=H(e.getEntityType(),false);const Y=e.getManifestWrapper().getViewLevel()===1?F(G.filter(e=>N(e))):undefined;const z=G.filter(e=>!N(e));const J=[];if(g(c)&&B!==null&&B!==void 0&&B.EditAction&&W!==true){J.push({type:u.DraftActions,key:"DraftActions"})}const X=e.getManifestWrapper().getViewLevel();const Z=X>1?c===null||c===void 0?void 0:(n=c.annotations.Capabilities)===null||n===void 0?void 0:(a=n.UpdateRestrictions)===null||a===void 0?void 0:a.Updatable:undefined;if(B||j){J.push({type:u.CollaborationAvatars,key:"CollaborationAvatars"})}z.filter(e=>k.indexOf(e===null||e===void 0?void 0:e.Criticality)>-1).forEach(t=>{J.push($(t,e))});if((B!==null&&B!==void 0&&B.EditAction||T!==null&&T!==void 0&&T.EditAction)&&W!==true){J.push({type:u.Primary,key:"EditAction",visible:I(V(e,K,s,o.isUpdateHidden(c,p),X)),enabled:w(s,Z,X)})}if(Q&&Q!=="false"||(L===null||L===void 0?void 0:(l=L.Deletable)===null||l===void 0?void 0:l.valueOf())!==false&&Q!=="false"){const t=o.getDeleteHidden(c,p);J.push({type:u.Secondary,key:"DeleteAction",visible:I(R(e,t)),enabled:I(x(L===null||L===void 0?void 0:L.Deletable,q,e)),parentEntityDeleteEnabled:Q})}if(Y){var ee;J.push({...$(Y,e),type:u.Copy,text:((ee=Y.Label)===null||ee===void 0?void 0:ee.toString())??r.getLibraryResourceBundle("sap.fe.core").getText("C_COMMON_COPY")})}const te=M(e.getEntityType(),false);te.filter(e=>k.indexOf(e===null||e===void 0?void 0:e.Criticality)===-1).forEach(t=>{var i,n,o,a,l,r;if(((i=t.RequiresContext)===null||i===void 0?void 0:i.valueOf())===true){throw new Error(`RequiresContext property should not be true for header IBN action : ${t.Label}`)}if(((n=t.Inline)===null||n===void 0?void 0:n.valueOf())===true){throw new Error(`Inline property should not be true for header IBN action : ${t.Label}`)}const d={semanticObjectMapping:P(t.Mapping)};J.push({type:u.DataFieldForIntentBasedNavigation,text:(o=t.Label)===null||o===void 0?void 0:o.toString(),annotationPath:e.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),buttonType:U.Ghost,visible:I(O(E(D(A((a=t.annotations)===null||a===void 0?void 0:(l=a.UI)===null||l===void 0?void 0:l.Hidden),true)),E(D(b("shellNavigationNotAvailable","internal"),true)))),enabled:t.NavigationAvailable!==undefined?I(D(A((r=t.NavigationAvailable)===null||r===void 0?void 0:r.valueOf()),true)):true,key:S.generateKeyFromDataField(t),isNavigable:true,press:I(m("._intentBasedNavigation.navigate",[A(t.SemanticObject),A(t.Action),d])),customData:I({semanticObject:A(t.SemanticObject),action:A(t.Action)})})});z.filter(e=>k.indexOf(e===null||e===void 0?void 0:e.Criticality)===-1).forEach(t=>{J.push($(t,e))});return J}s.getHeaderDefaultActions=L;function K(e){var t,i,n;const o=e.getEntityType();const a=((t=o.annotations)===null||t===void 0?void 0:(i=t.UI)===null||i===void 0?void 0:(n=i.Identification)===null||n===void 0?void 0:n.filter(e=>{var t,i,n;return(e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(i=t.UI)===null||i===void 0?void 0:(n=i.Hidden)===null||n===void 0?void 0:n.valueOf())===true}))||[];return a.map(e=>({type:u.Default,key:S.generateKeyFromDataField(e)}))}s.getHiddenHeaderActions=K;function W(e,t){var i,n,a,l;const r=t.getEntitySet();const d=t.getEntityType();const v=o.getStickySession(r),s=g(r)&&(((i=r.annotations.Common)===null||i===void 0?void 0:(n=i.DraftRoot)===null||n===void 0?void 0:n.term)??((a=r.annotations.Session)===null||a===void 0?void 0:(l=a.StickySessionSupported)===null||l===void 0?void 0:l.term)),c=Boolean(s==="com.sap.vocabularies.Common.v1.DraftRoot"||v&&(v===null||v===void 0?void 0:v.SaveAction)),f=e>1,p=Boolean(s==="com.sap.vocabularies.Common.v1.DraftRoot"||v&&(v===null||v===void 0?void 0:v.DiscardAction));const y=H(t.getEntityType(),true);const b=y.filter(e=>k.indexOf(e===null||e===void 0?void 0:e.Criticality)>-1).map(e=>$(e,t));if((r===null||r===void 0?void 0:r.entityTypeName)===(d===null||d===void 0?void 0:d.fullyQualifiedName)&&c){b.push({type:u.Primary,key:"SaveAction"})}if(f){b.push({type:u.DefaultApply,key:"ApplyAction"})}y.filter(e=>k.indexOf(e===null||e===void 0?void 0:e.Criticality)===-1).forEach(e=>{b.push($(e,t))});if(p){b.push({type:u.Secondary,key:"CancelAction",position:{placement:T.End}})}return b}s.getFooterDefaultActions=W;function $(e,t){var i,n;return{type:u.DataFieldForAction,annotationPath:t.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),key:S.generateKeyFromDataField(e),visible:I(E(D(A((i=e.annotations)===null||i===void 0?void 0:(n=i.UI)===null||n===void 0?void 0:n.Hidden),true))),enabled:B(t,e.ActionTarget),isNavigable:true}}return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/templates/ListReportConverter", ["sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/helpers/BindingToolkit","../controls/Common/DataVisualization","../controls/Common/KPI","../helpers/ID","../ManifestSettings"],function(t,e,n,i,a,o,r,s){"use strict";var l={};var c=s.VisualizationType;var u=s.VariantManagementType;var f=s.TemplateType;var d=r.getTableID;var p=r.getIconTabBarID;var v=r.getFilterVariantManagementID;var h=r.getFilterBarID;var y=r.getDynamicListReportID;var g=r.getCustomTabID;var m=r.getChartID;var C=o.getKPIDefinitions;var b=a.isSelectionPresentationCompliant;var P=a.isPresentationCompliant;var T=a.getSelectionVariant;var I=a.getSelectionPresentationVariant;var V=a.getDefaultPresentationVariant;var w=a.getDefaultLineItem;var E=a.getDefaultChart;var z=a.getDataVisualizationConfiguration;var S=i.getExpressionFromAnnotation;var M=i.compileExpression;var k=n.insertCustomElements;var A=e.getSelectionFields;var D=e.getManifestFilterFields;var F=e.getFilterBarHideBasicSearch;var L=t.getActionsFromManifest;function B(t){const e=[];t.forEach(function(t){if(!t.type){const n=t.secondaryVisualization?t.secondaryVisualization.visualizations:t.presentation.visualizations;n.forEach(function(t){if(t.type===c.Table){e.push(t)}})}});return e}function x(t){const e=[];t.forEach(function(t){if(!t.type){const n=t.primaryVisualization?t.primaryVisualization.visualizations:t.presentation.visualizations;n.forEach(function(t){if(t.type===c.Chart){e.push(t)}})}});return e}const R=function(t){const e={};for(const s in t){var n,i,a;if((n=t[s])!==null&&n!==void 0&&(i=n.settings)!==null&&i!==void 0&&(a=i.defaultValues)!==null&&a!==void 0&&a.length){var o,r;e[s]=(o=t[s])===null||o===void 0?void 0:(r=o.settings)===null||r===void 0?void 0:r.defaultValues}}return e};function W(t,e,n){const i=e.getManifestWrapper().getDefaultTemplateAnnotationPath();const a=I(t,i,e);const o="ALP flavor needs both chart and table to load the application";if(a){if(i){const t=a.PresentationVariant;if(!t){throw new Error("Presentation Variant is not configured in the SPV mentioned in the manifest")}if(!P(t,n)){if(n){throw new Error(o)}return undefined}}if(b(a,n)===true){return a}else if(n){throw new Error(o)}}const r=V(t);if(r){if(P(r,n)){return r}else if(n){throw new Error(o)}}if(!n){return w(t)}return undefined}const H=function(t){let e=t;if(e.converterContext){var n,i;let t=e.converterContext;e=e;const a=function(t){return t.key!==undefined};let o=z(e.annotation?t.getRelativeAnnotationPath(e.annotation.fullyQualifiedName,t.getEntityType()):"",true,t,e,undefined,undefined,a(e));let r="";let s="";let l="";let u="";const p=function(t,e){let n;for(const i of t.visualizations){if(e&&i.type===c.Chart){n=i;break}if(!e&&i.type===c.Table){n=i;break}}const i=Object.assign({},t);if(n){i.visualizations=[n]}else{throw new Error((e?"Primary":"Secondary")+" visualisation needs valid "+(e?"chart":"table"))}return i};const v=function(n,i){const a=t.getEntityTypeAnnotation(n.annotationPath);const r=a.annotation;t=a.converterContext;const s=r;if(s||t.getTemplateType()===f.AnalyticalListPage){o=z(s?t.getRelativeAnnotationPath(s.fullyQualifiedName,t.getEntityType()):"",true,t,e);return o}else{const t="Annotation Path for the "+(i?"primary":"secondary")+" visualisation mentioned in the manifest is not found";throw new Error(t)}};const h=function(t,n){var i,a,o;const l=p(t[0],true);s=l===null||l===void 0?void 0:(i=l.visualizations[0])===null||i===void 0?void 0:i.id;const c=p(t[1]?t[1]:t[0],false);r=c===null||c===void 0?void 0:(a=c.visualizations[0])===null||a===void 0?void 0:(o=a.annotation)===null||o===void 0?void 0:o.id;if(l&&c){e=e;const t=e.visible;const i={primaryVisualization:l,secondaryVisualization:c,tableControlId:r,chartControlId:s,defaultPath:n,visible:t};return i}};if(!t.getManifestWrapper().hasMultipleVisualizations(e)&&((n=o)===null||n===void 0?void 0:(i=n.visualizations)===null||i===void 0?void 0:i.length)===2&&t.getTemplateType()===f.AnalyticalListPage){const t=h([o],"both");if(t){return t}}else if(t.getManifestWrapper().hasMultipleVisualizations(e)||t.getTemplateType()===f.AnalyticalListPage){const{primary:t,secondary:n}=e;if(t&&t.length&&n&&n.length){const i=h([v(t[0],true),v(n[0],false)],e.defaultPath);if(i){return i}}else{throw new Error("SecondaryItems in the Views is not present")}}else if(a(e)){const n=t.getEntityTypeAnnotation(e.annotationPath);const i=n.annotation;t=n.converterContext;l=M(S(i.Text));o.visualizations.forEach((t,n)=>{var i;switch(t.type){case c.Table:const t=o.visualizations[n];const r=t.control.filters||{};r.hiddenFilters=r.hiddenFilters||{paths:[]};if(!e.keepPreviousPersonalization){t.annotation.id=d(e.key||"","LineItem")}e=e;if(((i=e.annotation)===null||i===void 0?void 0:i.term)==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){var a;if(!e.annotation.SelectionVariant){throw new Error(`The Selection Variant is missing for the Selection Presentation Variant ${e.annotation.fullyQualifiedName}`)}u=`@${(a=e.annotation.SelectionVariant)===null||a===void 0?void 0:a.fullyQualifiedName.split("@")[1]}`}else{u=e.annotationPath}r.hiddenFilters.paths.push({annotationPath:u});t.control.filters=r;break;case c.Chart:const s=o.visualizations[n];s.id=m(e.key||"","Chart");s.multiViews=true;break;default:break}})}o.visualizations.forEach(t=>{if(t.type===c.Table){r=t.annotation.id}else if(t.type===c.Chart){s=t.id}});e=e;const y=e.visible;return{presentation:o,tableControlId:r,chartControlId:s,title:l,selectionVariantPath:u,visible:y}}else{e=e;const t=e.label,n=e.template,i=e.type,a=g(e.key||""),o=e.visible;return{title:t,fragment:n,type:i,customTabId:a,visible:o}}};const j=function(t,e){let n=[];if(e){e.paths.forEach(i=>{if(t.getManifestWrapper().hasMultipleVisualizations(i)){if(e.paths.length>1){throw new Error("ALP flavor cannot have multiple views")}else{i=i;n.push({converterContext:t,primary:i.primary,secondary:i.secondary,defaultPath:i.defaultPath})}}else if(i.template){i=i;n.push({key:i.key,label:i.label,template:i.template,type:"Custom",visible:i.visible})}else{i=i;const e=t.getConverterContextFor(i.contextPath||i.entitySet&&`/${i.entitySet}`||t.getContextPath()),a=e.getEntityType();if(a&&e){let t;const o=e.getEntityTypeAnnotation(i.annotationPath);const r=o.annotation;if(r){t=r.term==="com.sap.vocabularies.UI.v1.SelectionVariant"?W(a,e,false):r;n.push({converterContext:e,annotation:t,annotationPath:i.annotationPath,keepPreviousPersonalization:i.keepPreviousPersonalization,key:i.key,visible:i.visible})}}else{}}})}else{const e=t.getEntityType();if(t.getTemplateType()===f.AnalyticalListPage){n=Q(t,n)}else{n.push({annotation:W(e,t,false),converterContext:t})}}return n.map(t=>H(t))};const N=function(t,e){const n=t.getManifestWrapper();const i=n.getViewConfiguration();if(e.length>1&&!$(t)){return{showTabCounts:i?(i===null||i===void 0?void 0:i.showCounts)||n.hasMultipleEntitySets():undefined,id:p()}}return undefined};function Q(t,e){const n=t.getEntityType();const i=W(n,t,true);let a,o;if(i){e.push({annotation:i,converterContext:t})}else{a=E(n);o=w(n);if(a&&o){const n=[{annotationPath:"@"+a.term}];const i=[{annotationPath:"@"+o.term}];e.push({converterContext:t,primary:n,secondary:i,defaultPath:"both"})}else{throw new Error("ALP flavor needs both chart and table to load the application")}}return e}function $(t){return t.getManifestWrapper().hasMultipleVisualizations()||t.getTemplateType()===f.AnalyticalListPage}const K=function(t){const e=t.getManifestWrapper();return k([],L(e.getHeaderActions(),t).actions)};l.getHeaderActions=K;const O=function(t,e){t.forEach(t=>{if(!t.type){const n=t.presentation;n.visualizations.forEach(t=>{if(t.type===c.Chart&&t.filterId!==e){t.filterId=e}})}})};l.checkChartFilterBarId=O;const U=function(t){const e=t.getEntityType();const n=t.getContextPath();if(!n){throw new Error("An EntitySet is required to be able to display a ListReport, please adjust your `entitySet` property to point to one.")}const i=t.getManifestWrapper();const a=i.getViewConfiguration();const o=i.hasMultipleEntitySets();const r=j(t,a);const s=B(r);const l=x(r);const c=s.some(t=>t.control.type==="ResponsiveTable");let f="";let d="";const p=y();const g=h(n);const m=v(g);const b=i.getFilterConfiguration();const P=(b===null||b===void 0?void 0:b.initialLayout)!==undefined?b===null||b===void 0?void 0:b.initialLayout.toLowerCase():"compact";const I=(b===null||b===void 0?void 0:b.layout)!==undefined?b===null||b===void 0?void 0:b.layout.toLowerCase():"compact";const V=b.useSemanticDateRange!==undefined?b.useSemanticDateRange:true;const w=b.showClearButton!==undefined?b.showClearButton:false;const E=q(t,r);if(E){d=E.chartId;f=E.tableId}const z=i.useHiddenFilterBar();const S=(i.isFilterBarHidden()||z)&&d==="";const M=A(t,s);const k=M.selectionFields;const L=M.sPropertyInfo;const W=F(s,l,t);const H=N(t,r);const Q=H?undefined:T(e,t);const U=V?R(D(e,t)):{};const G=K(t);if(o){O(r,g)}const J=s.map(t=>t.annotation.id).concat(l.map(t=>t.id));const X=[...S&&!z?[]:[g],...i.getVariantManagement()!==u.Control?J:[],...H?[H.id]:[]];const Y=H&&i.getStickyMultiTabHeaderConfiguration()?H.id:undefined;return{mainEntitySet:n,mainEntityType:`${n}/`,multiViewsControl:H,stickySubheaderProvider:Y,singleTableId:f,singleChartId:d,dynamicListReportId:p,headerActions:G,showPinnableToggle:c,filterBar:{propertyInfo:L,selectionFields:k,hideBasicSearch:W,showClearButton:w},views:r,filterBarId:S&&!z?"":g,filterConditions:{selectionVariant:Q,defaultSemanticDates:U},variantManagement:{id:m,targetControlIds:X.join(",")},hasMultiVisualizations:$(t),templateType:i.getTemplateType(),useSemanticDateRange:V,filterInitialLayout:P,filterLayout:I,kpiDefinitions:C(t),hideFilterBar:S,useHiddenFilterBar:z}};l.convertPage=U;function q(t,e){let n="",i="";if(t.getManifestWrapper().hasMultipleVisualizations()||t.getTemplateType()===f.AnalyticalListPage){for(let t of e){t=t;if(t.chartControlId&&t.tableControlId){i=t.chartControlId;n=t.tableControlId;break}}}else{for(let t of e){t=t;if(!n&&t.tableControlId){n=t.tableControlId||""}if(!i&&t.chartControlId){i=t.chartControlId||""}if(i&&n){break}}}if(n||i){return{chartId:i,tableId:n}}return undefined}return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/templates/ObjectPageConverter", ["sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/objectPage/HeaderAndFooterAction","sap/fe/core/helpers/BindingToolkit","../controls/ObjectPage/Avatar","../controls/ObjectPage/HeaderFacet","../controls/ObjectPage/SubSection","../helpers/BindingHelper","../helpers/ConfigurableObject","../helpers/ID","../ManifestSettings"],function(e,t,n,o,i,a,s,r,c,l){"use strict";var d={};var u=l.VisualizationType;var v=l.TemplateType;var f=c.getSectionID;var b=c.getEditableHeaderSectionID;var g=c.getCustomSectionID;var p=r.Placement;var m=r.OverrideType;var y=r.insertCustomElements;var h=s.UI;var E=a.SubSectionType;var A=a.createSubSections;var S=a.createCustomSubSections;var C=a.createCustomHeaderFacetSubSections;var T=i.getHeaderFacetsFromManifest;var w=i.getHeaderFacetsFromAnnotations;var H=o.getAvatar;var I=n.not;var F=n.ifElse;var k=n.getExpressionFromAnnotation;var L=n.equal;var M=n.constant;var O=n.compileExpression;var P=t.getHiddenHeaderActions;var j=t.getHeaderDefaultActions;var z=t.getFooterDefaultActions;var x=e.removeDuplicateActions;var D=e.getActionsFromManifest;const B=(e,t)=>{var n,o;return((n=e.ID)===null||n===void 0?void 0:n.toString())||((o=e.Label)===null||o===void 0?void 0:o.toString())||t};function U(e,t){var n,o;const i=b();const a=(n=e.getEntityType().annotations)===null||n===void 0?void 0:(o=n.UI)===null||o===void 0?void 0:o.HeaderFacets;const s=a?A(a,e,true):[];const r=C(e);let c=[];if(r.length>0){let e=0;t.forEach(function(t){while(s.length>e&&s[e].visible==="false"){c.push(s[e]);e++}if(s.length>e&&(t.key===s[e].key||t.key.slice(t.key.lastIndexOf("::")+2)===s[e].key.slice(s[e].key.lastIndexOf("::")+2))){c.push(s[e]);e++}else{r.forEach(function(e){if(t.key===e.key){c.push(e)}})}})}else{c=s}const l={id:i,key:"EditableHeaderContent",title:"{sap.fe.i18n>T_COMMON_OBJECT_PAGE_HEADER_SECTION}",visible:O(h.IsEditable),subSections:c};return l}d.createEditableHeaderSection=U;function V(e){var t,n,o;const i=e.getEntityType();const a=((t=i.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:(o=n.Facets)===null||o===void 0?void 0:o.map(t=>W(t,e)))||[];return a}function W(e,t){var n,o,i;const a=f(e);const s={id:a,key:B(e,a),title:e.Label?O(k(e.Label)):undefined,showTitle:!!e.Label,visible:O(I(L(k((n=e.annotations)===null||n===void 0?void 0:(o=n.UI)===null||o===void 0?void 0:(i=o.Hidden)===null||i===void 0?void 0:i.valueOf()),true))),subSections:A([e],t)};return s}function _(e,t){const n={};Object.keys(e).forEach(o=>{n[o]=N(e[o],o,t)});return n}function N(e,t,n){const o=e.id||g(t);let i=e.position;if(!i){i={placement:p.After}}let a;if(!e.subSections){a={[t]:{...e,position:undefined,visible:"true"}}}else{a=e.subSections}const s=S(a,n);const r={id:o,key:t,title:e.title,showTitle:!!e.title,visible:e.visible!==undefined?e.visible:"true",position:i,subSections:s};return r}const G=function(e){const t=j(e);const n=e.getManifestWrapper();const o=D(n.getHeaderActions(),e,t,undefined,undefined,P(e));const i={isNavigable:m.overwrite,enabled:m.overwrite,visible:m.overwrite,defaultValuesExtensionFunction:m.overwrite,command:m.overwrite};const a=y(t,o.actions,i);return{actions:x(a),commandActions:o.commandActions}};d.getHeaderActions=G;const q=function(e){const t=e.getManifestWrapper();const n=z(t.getViewLevel(),e);const o=D(t.getFooterActions(),e,n);const i={isNavigable:m.overwrite,enabled:m.overwrite,visible:m.overwrite,defaultValuesExtensionFunction:m.overwrite,command:m.overwrite};const a=y(n,o.actions,i);return{actions:a,commandActions:o.commandActions}};d.getFooterActions=q;function J(e){var t;return e!==null&&e!==void 0&&(t=e.presentation)!==null&&t!==void 0&&t.visualizations[0]?e.presentation.visualizations[0]:undefined}function R(e,t){var n,o;return e.visible==="true"&&(e===null||e===void 0?void 0:(n=e.presentation)===null||n===void 0?void 0:n.visualizations)&&(t===null||t===void 0?void 0:t.type)==="Table"&&(t===null||t===void 0?void 0:(o=t.control)===null||o===void 0?void 0:o.type)==="GridTable"}function K(e,t,n,o){if(R(t,n)){const t=n.control;if(!(o==="Page"&&e.length>1)){t.rowCountMode="Auto"}if(o!=="Tabs"){t.useCondensedTableLayout=false}}}function Q(e,t){var n;if((e===null||e===void 0?void 0:(n=e.content)===null||n===void 0?void 0:n.length)===1){var o;const n=((o=e.content[0].presentation)===null||o===void 0?void 0:o.visualizations[0]).control;if(n.type==="GridTable"){n.rowCountMode="Auto";if(t!=="Tabs"){n.useCondensedTableLayout=false}}}}function X(e,t,n){let o;let i;const a=t.subSections;if(a.length===1){o=a[0];switch(a[0].type){case"DataVisualization":i=J(o);K(e,o,i,n);break;case"Mixed":Q(o,n);break;default:break}return}Y(a)}function Y(e){let t;e.forEach(e=>{var n,o,i;t=e;if((n=t)!==null&&n!==void 0&&(o=n.presentation)!==null&&o!==void 0&&o.visualizations){var a,s;(a=t)===null||a===void 0?void 0:(s=a.presentation)===null||s===void 0?void 0:s.visualizations.forEach(e=>{if(e.type===u.Table){e.control.useCondensedTableLayout=false}})}if((i=t)!==null&&i!==void 0&&i.content){t.content.forEach(e=>{var t;(t=e.presentation)===null||t===void 0?void 0:t.visualizations.forEach(e=>{if(e.type===u.Table){e.control.useCondensedTableLayout=false}})})}})}const Z=function(e){const t=e.getManifestWrapper();const n=y(V(e),_(t.getSections(),e),{title:m.overwrite,visible:m.overwrite,subSections:{actions:m.merge,title:m.overwrite,sideContent:m.overwrite,objectPageLazyLoaderEnabled:m.overwrite}});n.forEach(function(e){var o;X(n,e,t.getSectionLayout());(o=e.subSections)===null||o===void 0?void 0:o.forEach(function(e){var t;e.title=e.title==="undefined"?undefined:e.title;if(e.type==="Mixed"){var n;(n=e.content)===null||n===void 0?void 0:n.forEach(t=>{t.objectPageLazyLoaderEnabled=e.objectPageLazyLoaderEnabled})}if(e.type==="Mixed"&&(t=e.content)!==null&&t!==void 0&&t.length){var o;const t=e.content.find(e=>e.type===E.Form);if(e.sideContent){if(t){t.sideContent=e.sideContent}else{e.content[0].sideContent=e.sideContent}e.sideContent=undefined}if(t&&(o=e.actions)!==null&&o!==void 0&&o.length){t.actions=e.actions;e.actions=[]}}})});return n};d.getSections=Z;function $(e){var t,n;const o=e.getManifestWrapper();return(((t=e.getEntityType().annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.HeaderFacets)||[]).length>0||Object.keys(o.getHeaderFacets()).length>0}function ee(e){const t=e.getManifestWrapper();return F(!$(e),M(false),F(L(t.isHeaderEditable(),false),M(true),I(h.IsEditable)))}const te=function(e){return O(ee(e))};d.getShowHeaderContent=te;const ne=function(e){return O(I(ee(e)))};d.getExpandedImageVisible=ne;const oe=function(e){var t,n;const o=e.getManifestWrapper();let i;const a=e.getEntityType();const s=y(w(e),T(o.getHeaderFacets()));const r=G(e);const c=q(e);if(o.isHeaderEditable()&&((t=a.annotations.UI)!==null&&t!==void 0&&t.HeaderFacets||(n=a.annotations.UI)!==null&&n!==void 0&&n.HeaderInfo)){i=U(e,s)}const l=Z(e);return{template:v.ObjectPage,header:{visible:o.getShowObjectPageHeader(),section:i,facets:s,actions:r.actions,showContent:te(e),hasContent:$(e),avatar:H(e),title:{expandedImageVisible:ne(e)}},sections:l,footerActions:c.actions,headerCommandActions:r.commandActions,footerCommandActions:c.commandActions,showAnchorBar:o.getShowAnchorBar(),useIconTabBar:o.useIconTabBar()}};d.convertPage=oe;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/CollaborationFormatter", ["sap/ui/core/Core"],function(t){"use strict";var o={};const r=function(t){if(r.hasOwnProperty(t)){for(var o=arguments.length,n=new Array(o>1?o-1:0),e=1;e<o;e++){n[e-1]=arguments[e]}return r[t].apply(this,n)}else{return""}};const n=function(t){for(var o=arguments.length,r=new Array(o>1?o-1:0),n=1;n<o;n++){r[n-1]=arguments[n]}return!!a(t,...r)};n.__functionName="sap.fe.core.formatters.CollaborationFormatter#hasCollaborationActivity";o.hasCollaborationActivity=n;const e=function(t){for(var o=arguments.length,r=new Array(o>1?o-1:0),n=1;n<o;n++){r[n-1]=arguments[n]}const e=a(t,...r);return(e===null||e===void 0?void 0:e.initials)||undefined};e.__functionName="sap.fe.core.formatters.CollaborationFormatter#getCollaborationActivityInitials";o.getCollaborationActivityInitials=e;const i=function(t){for(var o=arguments.length,r=new Array(o>1?o-1:0),n=1;n<o;n++){r[n-1]=arguments[n]}const e=a(t,...r);return e!==null&&e!==void 0&&e.color?`Accent${e.color}`:undefined};i.__functionName="sap.fe.core.formatters.CollaborationFormatter#getCollaborationActivityColor";o.getCollaborationActivityColor=i;function a(t){for(var o=arguments.length,r=new Array(o>1?o-1:0),n=1;n<o;n++){r[n-1]=arguments[n]}if(t&&t.length>0){return t.find(function(t){var o;const n=(t===null||t===void 0?void 0:(o=t.key)===null||o===void 0?void 0:o.split(","))||[];let e="";let i;for(let t=0;t<n.length;t++){var a;i=n[t].split("=");e=(i[1]||i[0]).split("'").join("");if(e!==((a=r[t])===null||a===void 0?void 0:a.toString())){return false}}return true})}}const l=function(){const o=arguments.length<=0?undefined:arguments[0];const r=t.getLibraryResourceBundle("sap.fe.core");const n=[];for(let t=1;t<arguments.length;t++){n.push(t<0||arguments.length<=t?undefined:arguments[t])}return r.getText(o,n)};l.__functionName="sap.fe.core.formatters.CollaborationFormatter#getFormattedText";o.getFormattedText=l;r.hasCollaborationActivity=n;r.getCollaborationActivityInitials=e;r.getCollaborationActivityColor=i;r.getFormattedText=l;return r},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/FPMFormatter", [],function(){"use strict";const t=function(t,e,n){const o=t.getController().getExtensionAPI();const r=e.split(".");const s=r.pop();const i=r.join("/");return new Promise(t=>{sap.ui.require([i],e=>{t(e[s].bind(o)(this.getBindingContext(),n||[]))})})};t.__functionName="sap.fe.core.formatters.FPMFormatter#customBooleanPropertyCheck";const e=function(t){if(e.hasOwnProperty(t)){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++){o[r-1]=arguments[r]}return e[t].apply(this,o)}else{return""}};e.customBooleanPropertyCheck=t;return e},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/FiscalFormat", ["sap/ui/core/Locale","sap/ui/core/LocaleData"],function(e,t){"use strict";var r={};let a=function(){function a(r){const a=new e(sap.ui.getCore().getConfiguration().getLanguage()),s=new t(a);let n=r.format;if(r.format.length>4){n="yM"}else if(r.format==="PPP"){n="M"}let o=s.getCustomDateTimePattern(n,r.calendarType);o=o.replace(/([\u4e00-\u9faf\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uffef])+/gi,"");if(r.format.length>4){o=o.replace(/y+/i,r.format.slice(0,r.format.lastIndexOf("Y")+1));o=o.replace(/m+/i,r.format.slice(r.format.lastIndexOf("Y")+1))}else if(r.format==="PPP"){o="PPP"}const i=this.parseCalendarDatePattern(o);this.pattern=i.length>1?o:undefined;this._setFormatRegex(i);this._setParseRegex(i);this._setValidationRegex(i)}r=a;a.getDateInstance=function e(t){return new a(t)};var n=a.prototype;n.getPattern=function e(){return this.pattern};n.format=function e(t){if(t==null){return""}if(typeof t!=="string"){return t}return t.replace(this.formatRegExPattern,this.formatRegExGroups)};n.parse=function e(t){if(!t){return""}return t.replace(this.parseRegExPattern,this.parseRegExReplacer)};n.validate=function e(t){return this.validationRegExPattern.test(t)};n.parseCalendarDatePattern=function e(t){const r=[];let s,n={digits:0,value:"",symbol:""};for(const e of t){if(s!==e){n={digits:0,value:"",symbol:""}}else{n.digits+=1;continue}if(typeof a.symbols[e]==="undefined"){n.value=e}else{n.symbol=e;n.digits=1}s=e;r.push(n)}return r};n._setFormatRegex=function e(t){const r=[],s=[];let n,o,i,f;for(let e=0;e<t.length;e++){n=t[e];o=n.symbol;i=a.symbols[o].format;if(o===""){s[e]=n.value}else if(o.toLocaleLowerCase()==="y"){r.unshift("("+i.source+")");s[e]="$"+1}else{r.push("("+i.source+")");f=t.some(function(e){return e.symbol.toLowerCase()==="y"});s[e]=f?"$"+2:"$"+1}}this.formatRegExPattern=new RegExp(r.join(""));this.formatRegExGroups=s.join("")};n._setParseRegex=function e(t){const r=[],s={};let n,o,i,f=0;for(const e of t){n=e.symbol;if(n===""){r.push("\\D+?")}else{o=a.symbols[n].parse;r.push("("+o.source+")");i=++f;s[i]=e}}this.parseRegExPattern=new RegExp("^"+r.join("")+"$");this.parseRegExReplacer=this.getRegExReplacer(s)};n.getRegExReplacer=function e(t){return function(){const e=[];let r,a;for(var n=arguments.length,o=new Array(n),i=0;i<n;i++){o[i]=arguments[i]}for(const n in t){r=t[n];a=o[parseInt(n,10)];if(a.length<r.digits){if(r.symbol.toLowerCase()==="y"){a=s(a)}else{a=a.padStart(r.digits,"0")}}if(r.symbol.toLowerCase()==="y"){e.unshift(a)}else{e.push(a)}}return e.join("")}};n._setValidationRegex=function e(t){const r=[];let s,n;for(const e of t){s=e.symbol;n=a.symbols[s].format;if(s===""){continue}else if(s.toLowerCase()==="y"){r.unshift(n.source)}else{r.push(n.source)}}this.validationRegExPattern=new RegExp("^("+r.join(")(")+")$")};return a}();a.regexFormatPatterns={year:/[1-9]\d{3}/,period:/\d{3}/,quarter:/[1-4]/,week:/0[1-9]|[1-4]\d|5[0-3]/,day:/371|370|3[0-6]\d|[1-2]\d{2}|[1-9]\d|[1-9]/};r=a;a.regexParsePatterns={year:/\d{1,4}/,period:/\d{1,3}/,quarter:/[1-4]/,week:/\d{1,2}/,day:/[1-9]/};a.symbols={"":{format:/ /,parse:/ /},y:{format:a.regexFormatPatterns.year,parse:a.regexParsePatterns.year},Y:{format:a.regexFormatPatterns.year,parse:a.regexParsePatterns.year},P:{format:a.regexFormatPatterns.period,parse:a.regexParsePatterns.period},W:{format:a.regexFormatPatterns.week,parse:a.regexParsePatterns.week},d:{format:a.regexFormatPatterns.day,parse:a.regexParsePatterns.day},Q:{format:a.regexFormatPatterns.quarter,parse:a.regexParsePatterns.quarter},q:{format:a.regexFormatPatterns.quarter,parse:a.regexParsePatterns.quarter}};function s(e){let t=Number.parseInt(e,10);const r=(new Date).getUTCFullYear(),a=Math.floor(r/100),s=a*100+t-r;if(e.length===3){t+=Math.floor((a-1)/10)*1e3}else if(s<-70){t+=(a+1)*100}else if(s<30){t+=a*100}else{t+=(a-1)*100}return t}return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/KPIFormatter", ["sap/ui/core/Core"],function(e){"use strict";const t=function(e){if(e){const t=e.split(" ");let r;if(t.length===1){r=t[0].substring(0,3).toUpperCase()}else if(t.length===2){r=(t[0].substring(0,1)+t[1].substring(0,1)).toUpperCase()}else{r=(t[0].substring(0,1)+t[1].substring(0,1)+t[2].substring(0,1)).toUpperCase()}return r}else{return""}};t.__functionName="sap.fe.core.formatters.KPIFormatter#labelFormat";const r=function(t,r,s,n,o){const i=e.getLibraryResourceBundle("sap.fe.core");const a=n?`C_KPI_TOOLTIP_${n.toUpperCase()}`:"C_KPI_TOOLTIP_NONE";let u;if(o==="true"){if(!s){u=i.getText("C_KPI_TOOLTIP_AMOUNT_MULTIUNIT")}else{u=`${r} ${s}`}}else{u=r}return i.getText(a,[t,u])};r.__functionName="sap.fe.core.formatters.KPIFormatter#tooltipFormat";const s=function(e){if(s.hasOwnProperty(e)){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}return s[e].apply(this,r)}else{return""}};s.labelFormat=t;s.tooltipFormat=r;return s},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/StandardFormatter", ["sap/fe/core/controls/Any","sap/fe/core/helpers/BindingToolkit"],function(e,t){"use strict";var n=t.transformRecursively;var r=t.constant;var o=t.compileExpression;const a=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++){a[i-1]=arguments[i]}const c=JSON.parse(e);n(c,"PathInModel",e=>{if(e.modelName==="$"){return r(a[parseInt(e.path.substring(1),10)])}return e},true);n(c,"ComplexType",e=>{const t=o(e);if(t){return r(s(t,this))}return r(t)});const u=o(c);return s(u,this)};const s=function(t,n){const r=new e({anyText:t});r.setModel(n.getModel());r.setBindingContext(n.getBindingContext());return r.getAnyText()};a.__functionName="sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression";const i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}return t.join("")};i.__functionName="sap.fe.core.formatters.StandardFormatter#concat";const c=function(e,t,n){return e?t:n};c.__functionName="sap.fe.core.formatters.StandardFormatter#ifElse";const u=function(e){if(u.hasOwnProperty(e)){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++){n[r-1]=arguments[r]}return u[e].apply(this,n)}else{return""}};u.evaluateComplexExpression=a;u.concat=i;u.ifElse=c;return u},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/TableFormatter", ["sap/fe/core/formatters/TableFormatterTypes","sap/fe/macros/DelegateUtil","sap/fe/macros/table/TableSizeHelper","sap/ui/mdc/enum/EditMode","../CommonUtils"],function(t,e,n,r,i){"use strict";var a=t.MessageType;const o=function(t){switch(t){case"Error":return 4;case"Warning":return 3;case"Information":return 2;case"None":return 1;default:return-1}};const s=function(t){if(!t){return false}const e=Object.keys(t);return e.length>0&&e.every(function(e){return t[e]["validity"]})};s.__functionName="sap.fe.core.formatters.TableFormatter#validateCreationRowFields";const l=function(t,e,n,r){let i=false;if(e&&e.length>0&&(r||n===t)){const t=this.getBindingContext()?this.getBindingContext().getPath():undefined;e.forEach(e=>{if(e.type==="Error"&&e.aTargets[0].indexOf(t)===0){i=true;return i}})}return i};l.__functionName="sap.fe.core.formatters.TableFormatter#getErrorStatusTextVisibilityFormatter";const f=function(t,e,n,r,i){var s;let l=-1;if(e&&e.length>0){var f;const n=(f=this.getBindingContext())===null||f===void 0?void 0:f.getPath();e.forEach(e=>{if(e.aTargets[0].indexOf(n)===0&&l<o(e.type)){l=o(e.type);t=e.type}})}if(typeof t!=="string"){switch(t){case 1:t=a.Error;break;case 2:t=a.Warning;break;case 3:t=a.Success;break;case 5:t=a.Information;break;default:t=a.None}}if(t!==a.None){return t}const u=((s=this.getBindingContext())===null||s===void 0?void 0:s.isInactive())??false;const c=!n&&!r&&!u;return i==="true"&&c?a.Information:a.None};f.__functionName="sap.fe.core.formatters.TableFormatter#rowHighlighting";const u=function(t){var e;const n=(e=this.getBindingContext())===null||e===void 0?void 0:e.getPath();if(n&&t){return t.indexOf(n)===0}else{return false}};u.__functionName="sap.fe.core.formatters.TableFormatter#navigatedRow";const c=function(t,i,a){let o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;if(!i){return null}const s=this.getParent();const l=e.getCachedProperties(s);const f=l===null||l===void 0?void 0:l.find(t=>t.name===a);if(f){let e=l?n.getMDCColumnWidthFromProperty(f,l,true):null;if(e&&t===r.Editable){var u;switch((u=f.typeConfig)===null||u===void 0?void 0:u.baseType){case"Date":case"Time":case"DateTime":e+=2.8;break;default:}}if(o){return e+"rem"}return e}return null};c.__functionName="sap.fe.core.formatters.TableFormatter#getColumnWidth";const g=function(t,e,n){const a=i.isSmallDevice();const o=!a;return a&&n||!a&&!n?y.getColumnWidth.call(this,r.Display,t,e,o):null};g.__functionName="sap.fe.core.formatters.TableFormatter#getColumnWidthForValueHelpTable";function d(t){if(t.isA("sap.fe.macros.controls.FieldWrapper")){const e=Array.isArray(t.getContentDisplay())?t.getContentDisplay()[0]:t.getContentDisplay();if(e&&e.isA("sap.m.RatingIndicator")){return true}}return false}function m(t,e){const n=Array.isArray(t.getContentDisplay())?t.getContentDisplay()[0]:t.getContentDisplay();const r=Array.isArray(t.getContentEdit())?t.getContentEdit()[0]:t.getContentEdit();if(e){n.addStyleClass("sapUiNoMarginBottom");n.addStyleClass("sapUiNoMarginTop");r.removeStyleClass("sapUiTinyMarginBottom")}else{n.addStyleClass("sapUiNoMarginBottom");n.removeStyleClass("sapUiNoMarginTop");r.addStyleClass("sapUiTinyMarginBottom")}}function p(){const t=this.getItems();let e=false;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++){r[i]=arguments[i]}for(let n=t.length-1;n>=0;n--){if(!e){if(r[n]!==true){e=true;if(d(t[n])){m(t[n],true)}else{t[n].removeStyleClass("sapUiTinyMarginBottom")}}}else if(d(t[n])){m(t[n],false)}else{t[n].addStyleClass("sapUiTinyMarginBottom")}}return true}p.__functionName="sap.fe.core.formatters.TableFormatter#getVBoxVisibility";const y=function(t){if(y.hasOwnProperty(t)){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++){n[r-1]=arguments[r]}return y[t].apply(this,n)}else{return""}};y.validateCreationRowFields=s;y.rowHighlighting=f;y.navigatedRow=u;y.getErrorStatusTextVisibilityFormatter=l;y.getVBoxVisibility=p;y.isRatingIndicator=d;y.getColumnWidth=c;y.getColumnWidthForValueHelpTable=g;return y},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/TableFormatterTypes", [],function(){"use strict";var n={};let r;(function(n){n["Error"]="Error";n["Information"]="Information";n["None"]="None";n["Success"]="Success";n["Warning"]="Warning"})(r||(r={}));n.MessageType=r;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/ValueFormatter", ["sap/base/strings/whitespaceReplacer","sap/ui/core/Core","sap/ui/core/format/DateFormat"],function(e,t,r){"use strict";var i={};const a=function(e){if(a.hasOwnProperty(e)){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++){r[i-1]=arguments[i]}return a[e].apply(this,r)}else{return""}};const o=(e,r)=>{if(e&&r){return t.getLibraryResourceBundle("sap.fe.core").getText("C_FORMAT_FOR_TEXT_ARRANGEMENT",[e,r])}else{return e||r||""}};o.__functionName="sap.fe.core.formatters.ValueFormatter#formatWithBrackets";const s=(r,i,a,s,n,c)=>{let l=c?o(e(n),e(c)):e(n);if(!l){const e=r?r:t.getLibraryResourceBundle("sap.fe.templates").getText("T_NEW_OBJECT");const o=i?i:t.getLibraryResourceBundle("sap.fe.templates").getText("T_ANNOTATION_HELPER_DEFAULT_OBJECT_PAGE_HEADER_TITLE_NO_HEADER_INFO");l=!s&&!a?e:o}return l};s.__functionName="sap.fe.core.formatters.ValueFormatter#formatIdentifierTitle";const n=e=>e!==null&&e!==undefined?`${e} %`:"";n.__functionName="sap.fe.core.formatters.ValueFormatter#formatWithPercentage";const c=(e,t,r)=>{let i;if(e===undefined){return"0"}const a=typeof e==="string"?parseFloat(e):e;const o=typeof t==="string"?parseFloat(t):t;if(r==="%"){if(a>100){i="100"}else if(a<=0){i="0"}else{i=typeof e==="string"?e:e===null||e===void 0?void 0:e.toString()}}else if(a>o){i="100"}else if(a<=0){i="0"}else{i=a&&o?(a/o*100).toString():"0"}return i};c.__functionName="sap.fe.core.formatters.ValueFormatter#computePercentage";const l=e=>{let t;if(e==="UI.CriticalityType/Negative"||e==="1"||e===1){t="sap-icon://message-error"}else if(e==="UI.CriticalityType/Critical"||e==="2"||e===2){t="sap-icon://message-warning"}else if(e==="UI.CriticalityType/Positive"||e==="3"||e===3){t="sap-icon://message-success"}else if(e==="UI.CriticalityType/Information"||e==="5"||e===5){t="sap-icon://message-information"}else{t=""}return t};l.__functionName="sap.fe.core.formatters.ValueFormatter#formatCriticalityIcon";i.formatCriticalityIcon=l;const f=e=>{let t;if(e==="UI.CriticalityType/Negative"||e==="1"||e===1){t="Error"}else if(e==="UI.CriticalityType/Critical"||e==="2"||e===2){t="Warning"}else if(e==="UI.CriticalityType/Positive"||e==="3"||e===3){t="Success"}else if(e==="UI.CriticalityType/Information"||e==="5"||e===5){t="Information"}else{t="None"}return t};f.__functionName="sap.fe.core.formatters.ValueFormatter#formatCriticalityValueState";i.formatCriticalityValueState=f;const m=e=>{let t;if(e==="UI.CriticalityType/Negative"||e==="1"||e===1){t="Reject"}else if(e==="UI.CriticalityType/Positive"||e==="3"||e===3){t="Accept"}else{t="Default"}return t};m.__functionName="sap.fe.core.formatters.ValueFormatter#formatCriticalityButtonType";i.formatCriticalityButtonType=m;const u=e=>{let t;if(e==="UI.CriticalityType/Negative"||e==="1"||e===1){t="Error"}else if(e==="UI.CriticalityType/Critical"||e==="2"||e===2){t="Critical"}else if(e==="UI.CriticalityType/Positive"||e==="3"||e===3){t="Good"}else{t="Neutral"}return t};u.__functionName="sap.fe.core.formatters.ValueFormatter#formatCriticalityColorMicroChart";i.formatCriticalityColorMicroChart=u;const p=(e,i,a)=>{if(e&&i&&a){var o,s,n;const c=a.split("-");const l=`${c[1]===undefined?a:c[1]}-narrow`;const f=r.getDateInstance();const m=f.oLocaleData.mData;const u=t.getLibraryResourceBundle("sap.fe.macros");let p=a;if(m!==null&&m!==void 0&&(o=m.dateFields[l])!==null&&o!==void 0&&o.displayName){p=m.dateFields[l].displayName}else if(m!==null&&m!==void 0&&(s=m.units)!==null&&s!==void 0&&(n=s.short[a])!==null&&n!==void 0&&n.displayName){p=m.units.short[a].displayName}return u.getText("T_COMMON_PROGRESS_INDICATOR_DISPLAY_VALUE_WITH_UOM",[e,i,p])}};p.__functionName="sap.fe.core.formatters.ValueFormatter#formatProgressIndicatorText";i.formatProgressIndicatorText=p;const y=t=>t===null||t===undefined?"":e(t+"");y.__functionName="sap.fe.core.formatters.ValueFormatter#formatToKeepWhitespace";i.formatToKeepWhitespace=y;a.formatWithBrackets=o;a.formatIdentifierTitle=s;a.formatWithPercentage=n;a.computePercentage=c;a.formatCriticalityIcon=l;a.formatCriticalityValueState=f;a.formatCriticalityButtonType=m;a.formatCriticalityColorMicroChart=u;a.formatProgressIndicatorText=p;a.formatToKeepWhitespace=y;return a},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/fpm/Component", ["sap/fe/core/helpers/ClassSupport","sap/fe/core/TemplateComponent"],function(e,r){"use strict";var i,t,n,a,o,l,u,c,f;var s=e.property;var p=e.defineUI5Class;function b(e,r,i,t){if(!i)return;Object.defineProperty(e,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(t):void 0})}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function d(e,r){e.prototype=Object.create(r.prototype);e.prototype.constructor=e;v(e,r)}function v(e,r){v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(r,i){r.__proto__=i;return r};return v(e,r)}function w(e,r,i,t,n){var a={};Object.keys(t).forEach(function(e){a[e]=t[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=i.slice().reverse().reduce(function(i,t){return t(e,r,i)||i},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,r,a);a=null}return a}function y(e,r){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let g=(i=p("sap.fe.core.fpm.Component",{manifest:"json"}),t=s({type:"string"}),n=s({type:"string"}),a=s({type:"string"}),i(o=(l=function(e){d(r,e);function r(r){var i;if(r.viewType==="JSX"){r._mdxViewName=r.viewName;r.viewName="module:sap/fe/core/jsx-runtime/ViewLoader"}i=e.call(this,r)||this;b(i,"viewName",u,m(i));b(i,"controllerName",c,m(i));b(i,"_mdxViewName",f,m(i));return i}return r}(r),u=w(l.prototype,"viewName",[t],{configurable:true,enumerable:true,writable:true,initializer:null}),c=w(l.prototype,"controllerName",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),f=w(l.prototype,"_mdxViewName",[a],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),l))||o);return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/AnnotationEnum", [],function(){"use strict";var e={};const n={"com.sap.vocabularies.Common.v1.FieldControlType":{Mandatory:7,Optional:3,ReadOnly:0,Inapplicable:0,Disabled:1}};const a=function(e){const[a,o]=e.split("/");if(n.hasOwnProperty(a)){return n[a][o]}else{return false}};e.resolveEnumValue=a;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/AppStartupHelper", ["sap/ui/model/Filter","sap/ui/model/FilterOperator","./ModelHelper"],function(e,t,n){"use strict";const r={_getKeysFromStartupParams:function(e,t){let n=true;const r=e.map(e=>{if(t[e]&&t[e].length===1){return{name:e,value:t[e][0]}}else{n=false;return{name:e,value:""}}});return n?r:undefined},_createFilterFromKeys:function(r,a,s){const i=n.isFilteringCaseSensitive(s);let o=false;const c=r.map(n=>{if(n.name==="IsActiveEntity"){o=true}return new e({path:n.name,operator:t.EQ,value1:n.value,caseSensitive:i})});if(a&&!o){const t=new e({filters:[new e("IsActiveEntity","EQ",false),new e("SiblingEntity/IsActiveEntity","EQ",null)],and:false});c.push(t)}return new e(c,true)},_requestObjectsFromParameters:function(e,t){const n=e.map(e=>{const n=e.semanticKeys||e.technicalKeys||[];const r=this._createFilterFromKeys(n,e.draftMode,t.getMetaModel());const a=t.bindList(e.contextPath,undefined,undefined,r,{$select:n.map(e=>e.name).join(",")});return a.requestContexts(0,2)});return Promise.all(n)},_getReachablePageInfoFromRoute:function(e,t,n,r){var a,s;let i=e.pattern.replace(":?query:","");i=i.replace(/\/$/,"");if(!i||!i.endsWith(")")){return undefined}i=i.replace(/\(\{[^}]*\}\)/g,"(#)");const o=Array.isArray(e.target)?e.target[e.target.length-1]:e.target;const c=t.targets[o];const u=i.split("/");const l=u.length-1;if(l!==0&&(c===null||c===void 0?void 0:(a=c.options)===null||a===void 0?void 0:(s=a.settings)===null||s===void 0?void 0:s.allowDeepLinking)!==true){return undefined}const f=c.options.settings.contextPath||c.options.settings.entitySet&&`/${c.options.settings.entitySet}`;const p=f&&r.getObject(`/$EntityContainer${f}/`);if(!p){return undefined}const g=r.getObject(`/$EntityContainer${f}/@com.sap.vocabularies.Common.v1.SemanticKey`);const h=g?this._getKeysFromStartupParams(g.map(e=>e.$PropertyPath),n):undefined;const d=!h&&l===0?this._getKeysFromStartupParams(p["$Key"],n):undefined;if(h===undefined&&d===undefined){return undefined}const m=r.getObject(`/$EntityContainer${f}@com.sap.vocabularies.Common.v1.DraftRoot`)||r.getObject(`/$EntityContainer${f}@com.sap.vocabularies.Common.v1.DraftNode`)?true:false;return{pattern:i,contextPath:f,draftMode:m,technicalKeys:d,semanticKeys:h,target:o,pageLevel:l}},_getReachablePages:function(e,t,n){const r=e.routes;const a={};r.forEach(r=>{const s=this._getReachablePageInfoFromRoute(r,e,t,n);if(s){if(!a[s.pageLevel]){a[s.pageLevel]=[]}a[s.pageLevel].push(s)}});const s=[];let i=0;while(a[i]){s.push(a[i]);i++}return s},_getStartupPagesFromStartupParams:function(e,t,n){const r=this._getReachablePages(e,t,n);if(r.length===0){return[]}let a=[];const s=[];function i(e){const t=r[e];const n=s.length?s[s.length-1]:undefined;if(t){t.forEach(function(t){if(!n||t.pattern.indexOf(n.pattern)===0){s.push(t);i(e+1);s.pop()}})}if(s.length>a.length){a=s.slice()}}i(0);return a},_getDeepLinkObject:function(e,t){if(t.length===1){return{context:t[0]}}else if(t.length>1){let n=e[e.length-1].pattern;t.forEach(function(e){n=n.replace("(#)",`(${e.getPath().split("(")[1]}`)});return{hash:n}}else{return{}}},getDeepLinkStartupHash:function(e,t,n){let r;return n.getMetaModel().requestObject("/$EntityContainer/").then(()=>{r=this._getStartupPagesFromStartupParams(e,t,n.getMetaModel());return this._requestObjectsFromParameters(r,n)}).then(e=>{if(e.length){const t=[];e.forEach(function(e){if(e.length===1){t.push(e[0])}});return t.length===e.length?this._getDeepLinkObject(r,t):{}}else{return{}}})},getCreateStartupHash:function(e,t,n,r){return r.requestObject(`${t}@`).then(a=>{let s="";let i=true;if(a["@com.sap.vocabularies.Common.v1.DraftRoot"]&&a["@com.sap.vocabularies.Common.v1.DraftRoot"]["NewAction"]){s=`${t}@com.sap.vocabularies.Common.v1.DraftRoot/NewAction@Org.OData.Core.V1.OperationAvailable`}else if(a["@com.sap.vocabularies.Session.v1.StickySessionSupported"]&&a["@com.sap.vocabularies.Session.v1.StickySessionSupported"]["NewAction"]){s=`${t}@com.sap.vocabularies.Session.v1.StickySessionSupported/NewAction@Org.OData.Core.V1.OperationAvailable`}if(s){const e=r.getObject(s);if(e===false){i=false}}else{const e=a["@Org.OData.Capabilities.V1.InsertRestrictions"];if(e&&e.Insertable===false){i=false}}if(i){return this.getDefaultCreateHash(e,t,n)}else{return""}})},getDefaultCreateHash:function(e,t,n){let r=e&&e.preferredMode?e.preferredMode[0]:"create";let a="";r=r.indexOf(":")!==-1&&r.length>r.indexOf(":")+1?r.substr(0,r.indexOf(":")):"create";a=`${t.substring(1)}(...)?i-action=${r}`;if(n.getRouteInfoByHash(a)){return a}else{throw new Error(`No route match for creating a new ${t.substring(1)}`)}}};return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/BindingToolkit", ["./AnnotationEnum"],function(e){"use strict";var n={};var t=e.resolveEnumValue;const r={"Edm.Boolean":{type:"sap.ui.model.odata.type.Boolean"},"Edm.Byte":{type:"sap.ui.model.odata.type.Byte"},"Edm.Date":{type:"sap.ui.model.odata.type.Date"},"Edm.DateTimeOffset":{constraints:{$Precision:"precision",$V4:"V4"},type:"sap.ui.model.odata.type.DateTimeOffset"},"Edm.Decimal":{constraints:{"@Org.OData.Validation.V1.Minimum/$Decimal":"minimum","@Org.OData.Validation.V1.Minimum@Org.OData.Validation.V1.Exclusive":"minimumExclusive","@Org.OData.Validation.V1.Maximum/$Decimal":"maximum","@Org.OData.Validation.V1.Maximum@Org.OData.Validation.V1.Exclusive":"maximumExclusive",$Precision:"precision",$Scale:"scale"},type:"sap.ui.model.odata.type.Decimal"},"Edm.Double":{type:"sap.ui.model.odata.type.Double"},"Edm.Guid":{type:"sap.ui.model.odata.type.Guid"},"Edm.Int16":{type:"sap.ui.model.odata.type.Int16"},"Edm.Int32":{type:"sap.ui.model.odata.type.Int32"},"Edm.Int64":{type:"sap.ui.model.odata.type.Int64"},"Edm.SByte":{type:"sap.ui.model.odata.type.SByte"},"Edm.Single":{type:"sap.ui.model.odata.type.Single"},"Edm.Stream":{type:"sap.ui.model.odata.type.Stream"},"Edm.Binary":{type:"sap.ui.model.odata.type.Stream"},"Edm.String":{constraints:{"@com.sap.vocabularies.Common.v1.IsDigitSequence":"isDigitSequence",$MaxLength:"maxLength",$Nullable:"nullable"},type:"sap.ui.model.odata.type.String"},"Edm.TimeOfDay":{constraints:{$Precision:"precision"},type:"sap.ui.model.odata.type.TimeOfDay"}};n.EDM_TYPE_MAPPING=r;const a={_type:"Unresolvable"};n.unresolvableExpression=a;function o(e){return e.replace(/'/g,"\\'")}function i(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++){n[t]=arguments[t]}return n.find(e=>e._type==="Unresolvable")!==undefined}n.hasUnresolvableExpression=i;function s(e,n){if(e._type!==n._type){return false}switch(e._type){case"Unresolvable":return false;case"Constant":case"EmbeddedBinding":case"EmbeddedExpressionBinding":return e.value===n.value;case"Not":return s(e.operand,n.operand);case"Truthy":return s(e.operand,n.operand);case"Set":return e.operator===n.operator&&e.operands.length===n.operands.length&&e.operands.every(e=>n.operands.some(n=>s(e,n)));case"IfElse":return s(e.condition,n.condition)&&s(e.onTrue,n.onTrue)&&s(e.onFalse,n.onFalse);case"Comparison":return e.operator===n.operator&&s(e.operand1,n.operand1)&&s(e.operand2,n.operand2);case"Concat":const t=e.expressions;const r=n.expressions;if(t.length!==r.length){return false}return t.every((e,n)=>s(e,r[n]));case"Length":return s(e.pathInModel,n.pathInModel);case"PathInModel":return e.modelName===n.modelName&&e.path===n.path&&e.targetEntitySet===n.targetEntitySet;case"Formatter":return e.fn===n.fn&&e.parameters.length===n.parameters.length&&e.parameters.every((e,t)=>s(n.parameters[t],e));case"ComplexType":return e.type===n.type&&e.bindingParameters.length===n.bindingParameters.length&&e.bindingParameters.every((e,t)=>s(n.bindingParameters[t],e));case"Function":const a=n;if(e.obj===undefined||a.obj===undefined){return e.obj===a}return e.fn===a.fn&&s(e.obj,a.obj)&&e.parameters.length===a.parameters.length&&e.parameters.every((e,n)=>s(a.parameters[n],e));case"Ref":return e.ref===n.ref}return false}n._checkExpressionsAreEqual=s;function u(e){return e.operands.reduce((n,t)=>{const r=t._type==="Set"&&t.operator===e.operator?t.operands:[t];r.forEach(e=>{if(n.operands.every(n=>!s(n,e))){n.operands.push(e)}});return n},{_type:"Set",operator:e.operator,operands:[]})}function l(e){const n=e.map(f);return e.some((e,t)=>{for(let r=t+1;r<n.length;r++){if(s(e,n[r])){return true}}return false})}function p(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++){n[t]=arguments[t]}const r=u({_type:"Set",operator:"&&",operands:n.map($)}).operands;if(i(...r)){return a}let o=false;const s=r.filter(e=>{if(I(e)){o=true}return!E(e)});if(o){return v(false)}else if(s.length===0){const e=r.reduce((e,n)=>e&&O(n),true);return v(e)}else if(s.length===1){return s[0]}else if(l(s)){return v(false)}else{return{_type:"Set",operator:"&&",operands:s}}}n.and=p;function d(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++){n[t]=arguments[t]}const r=u({_type:"Set",operator:"||",operands:n.map($)}).operands;if(i(...r)){return a}let o=false;const s=r.filter(e=>{if(O(e)){o=true}return!E(e)||e.value});if(o){return v(true)}else if(s.length===0){const e=r.reduce((e,n)=>e&&O(n),true);return v(e)}else if(s.length===1){return s[0]}else if(l(s)){return v(true)}else{return{_type:"Set",operator:"||",operands:s}}}n.or=d;function f(e){e=$(e);if(i(e)){return a}else if(E(e)){return v(!e.value)}else if(typeof e==="object"&&e._type==="Set"&&e.operator==="||"&&e.operands.every(e=>E(e)||P(e))){return p(...e.operands.map(e=>f(e)))}else if(typeof e==="object"&&e._type==="Set"&&e.operator==="&&"&&e.operands.every(e=>E(e)||P(e))){return d(...e.operands.map(e=>f(e)))}else if(P(e)){switch(e.operator){case"!==":return{...e,operator:"==="};case"<":return{...e,operator:">="};case"<=":return{...e,operator:">"};case"===":return{...e,operator:"!=="};case">":return{...e,operator:"<="};case">=":return{...e,operator:"<"}}}else if(e._type==="Not"){return e.operand}return{_type:"Not",operand:e}}n.not=f;function c(e){if(E(e)){return v(!!e.value)}else{return{_type:"Truthy",operand:e}}}n.isTruthy=c;function m(e,n){let t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];let r=arguments.length>3?arguments[3]:undefined;return y(e,n,t,r)}n.bindingExpression=m;function y(e,n){let t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];let r=arguments.length>3?arguments[3]:undefined;if(e===undefined){return a}let o;if(r){o=r(e);if(o===undefined){return a}}else{const n=t.concat();n.push(e);o=n.join("/")}return{_type:"PathInModel",modelName:n,path:o}}n.pathInModel=y;function v(e){let n;if(typeof e==="object"&&e!==null&&e!==undefined){if(Array.isArray(e)){n=e.map($)}else if(F(e)){n=e.valueOf()}else{n=Object.entries(e).reduce((e,n)=>{let[t,r]=n;const a=$(r);if(a._type!=="Constant"||a.value!==undefined){e[t]=a}return e},{})}}else{n=e}return{_type:"Constant",value:n}}n.constant=v;function h(e,n){if(e!==undefined&&typeof e==="string"&&e.startsWith("{")){const n=/^{(.*)>(.+)}$/;const t=n.exec(e);if(e.startsWith("{=")){return{_type:"EmbeddedExpressionBinding",value:e}}else if(t){return y(t[2]||"",t[1]||undefined)}else{return{_type:"EmbeddedBinding",value:e}}}else if(n==="boolean"&&typeof e==="string"&&(e==="true"||e==="false")){return v(e==="true")}else if(n==="number"&&typeof e==="string"&&(!isNaN(Number(e))||e==="NaN")){return v(Number(e))}else{return v(e)}}n.resolveBindingString=h;function g(e){return{_type:"Ref",ref:e}}n.ref=g;function $(e){if(b(e)){return e}return v(e)}function b(e){return(e===null||e===void 0?void 0:e._type)!==undefined}n.isBindingToolkitExpression=b;function E(e){return typeof e!=="object"||e._type==="Constant"}n.isConstant=E;function O(e){return E(e)&&e.value===true}function I(e){return E(e)&&e.value===false}function _(e){return(e===null||e===void 0?void 0:e._type)==="PathInModel"}n.isPathInModelExpression=_;function x(e){return(e===null||e===void 0?void 0:e._type)==="ComplexType"}n.isComplexTypeExpression=x;function C(e){return(e===null||e===void 0?void 0:e._type)==="Concat"}function P(e){return e._type==="Comparison"}function S(e){const n=e;return(n===null||n===void 0?void 0:n._type)==="Constant"&&(n===null||n===void 0?void 0:n.value)===undefined}n.isUndefinedExpression=S;function F(e){switch(e.constructor.name){case"String":case"Number":case"Boolean":return true;default:return false}}function T(e){return typeof e==="object"&&!F(e)}function N(e){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let t=arguments.length>2?arguments[2]:undefined;let r=arguments.length>3?arguments[3]:undefined;return M(e,n,t,r)}n.annotationExpression=N;function M(e){var n;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let r=arguments.length>2?arguments[2]:undefined;let o=arguments.length>3?arguments[3]:undefined;if(e===undefined){return $(r)}e=(n=e)===null||n===void 0?void 0:n.valueOf();if(!T(e)){return v(e)}switch(e.type){case"Path":return y(e.path,undefined,t,o);case"If":return D(e.If,t,o);case"Not":return f(w(e.Not,t,o));case"Eq":return L(w(e.Eq[0],t,o),w(e.Eq[1],t,o));case"Ne":return k(w(e.Ne[0],t,o),w(e.Ne[1],t,o));case"Gt":return q(w(e.Gt[0],t,o),w(e.Gt[1],t,o));case"Ge":return B(w(e.Ge[0],t,o),w(e.Ge[1],t,o));case"Lt":return U(w(e.Lt[0],t,o),w(e.Lt[1],t,o));case"Le":return G(w(e.Le[0],t,o),w(e.Le[1],t,o));case"Or":return d(...e.Or.map(function(e){return w(e,t,o)}));case"And":return p(...e.And.map(function(e){return w(e,t,o)}));case"Apply":return A(e,t,o)}return a}n.getExpressionFromAnnotation=M;function w(e){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let r=arguments.length>2?arguments[2]:undefined;if(e===null||typeof e!=="object"){return v(e)}else if(e.hasOwnProperty("$Or")){return d(...e.$Or.map(function(e){return w(e,n,r)}))}else if(e.hasOwnProperty("$And")){return p(...e.$And.map(function(e){return w(e,n,r)}))}else if(e.hasOwnProperty("$Not")){return f(w(e.$Not,n,r))}else if(e.hasOwnProperty("$Eq")){return L(w(e.$Eq[0],n,r),w(e.$Eq[1],n,r))}else if(e.hasOwnProperty("$Ne")){return k(w(e.$Ne[0],n,r),w(e.$Ne[1],n,r))}else if(e.hasOwnProperty("$Gt")){return q(w(e.$Gt[0],n,r),w(e.$Gt[1],n,r))}else if(e.hasOwnProperty("$Ge")){return B(w(e.$Ge[0],n,r),w(e.$Ge[1],n,r))}else if(e.hasOwnProperty("$Lt")){return U(w(e.$Lt[0],n,r),w(e.$Lt[1],n,r))}else if(e.hasOwnProperty("$Le")){return G(w(e.$Le[0],n,r),w(e.$Le[1],n,r))}else if(e.hasOwnProperty("$Path")){return y(e.$Path,undefined,n,r)}else if(e.hasOwnProperty("$Apply")){return M({type:"Apply",Function:e.$Function,Apply:e.$Apply},n,undefined,r)}else if(e.hasOwnProperty("$If")){return M({type:"If",If:e.$If},n,undefined,r)}else if(e.hasOwnProperty("$EnumMember")){return v(t(e.$EnumMember))}return v(false)}function D(e){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let t=arguments.length>2?arguments[2]:undefined;return Y(w(e[0],n,t),w(e[1],n,t),w(e[2],n,t))}n.annotationIfExpression=D;function A(e){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let t=arguments.length>2?arguments[2]:undefined;switch(e.Function){case"odata.concat":return ee(...e.Apply.map(e=>{let r=e;if(e.hasOwnProperty("$Path")){r={type:"Path",path:e.$Path}}else if(e.hasOwnProperty("$If")){r={type:"If",If:e.$If}}else if(e.hasOwnProperty("$Apply")){r={type:"Apply",Function:e.$Function,Apply:e.$Apply}}return M(r,n,undefined,t)}))}return a}n.annotationApplyExpression=A;function j(e,n,t){const r=$(n);const o=$(t);if(i(r,o)){return a}if(E(r)&&E(o)){switch(e){case"!==":return v(r.value!==o.value);case"===":return v(r.value===o.value);case"<":return v(r.value<o.value);case"<=":return v(r.value<=o.value);case">":return v(r.value>o.value);case">=":return v(r.value>=o.value)}}else{return{_type:"Comparison",operator:e,operand1:r,operand2:o}}}function V(e){if(e._type==="Unresolvable"){return e}return{_type:"Length",pathInModel:e}}n.length=V;function L(e,n){const t=$(e);const r=$(n);if(i(t,r)){return a}if(s(t,r)){return v(true)}function o(e,n){if(e._type==="Comparison"&&O(n)){return e}else if(e._type==="Comparison"&&I(n)){return f(e)}else if(e._type==="IfElse"&&s(e.onTrue,n)){return d(e.condition,L(e.onFalse,n))}else if(e._type==="IfElse"&&s(e.onFalse,n)){return d(f(e.condition),L(e.onTrue,n))}else if(e._type==="IfElse"&&E(e.onTrue)&&E(e.onFalse)&&E(n)&&!s(e.onTrue,n)&&!s(e.onFalse,n)){return v(false)}return undefined}const u=o(t,r)??o(r,t);return u??j("===",t,r)}n.equal=L;function k(e,n){return f(L(e,n))}n.notEqual=k;function B(e,n){return j(">=",e,n)}n.greaterOrEqual=B;function q(e,n){return j(">",e,n)}n.greaterThan=q;function G(e,n){return j("<=",e,n)}n.lessOrEqual=G;function U(e,n){return j("<",e,n)}n.lessThan=U;function Y(e,n,t){let r=$(e);let o=$(n);let u=$(t);if(i(r,o,u)){return a}if(r._type==="Not"){[o,u]=[u,o];r=f(r)}if(o._type==="IfElse"&&s(r,o.condition)){o=o.onTrue}if(u._type==="IfElse"&&s(r,u.condition)){u=u.onFalse}if(E(r)){return r.value?o:u}if(s(o,u)){return o}if(I(u)){return p(r,o)}if(O(u)){return d(f(r),o)}if(I(o)){return p(f(r),u)}if(O(o)){return d(r,u)}if(x(e)||x(n)||x(t)){let r=0;const a=R([e,n,t],"sap.fe.core.formatters.StandardFormatter#ifElse");const o=[];ne(a,"PathInModel",e=>{o.push(e);return y(`$${r++}`,"$")},true);o.unshift(v(JSON.stringify(a)));return R(o,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}return{_type:"IfElse",condition:r,onTrue:o,onFalse:u}}n.ifElse=Y;function W(e){switch(e._type){case"Constant":case"Formatter":case"ComplexType":return false;case"Set":return e.operands.some(W);case"PathInModel":return e.modelName===undefined;case"Comparison":return W(e.operand1)||W(e.operand2);case"IfElse":return W(e.condition)||W(e.onTrue)||W(e.onFalse);case"Not":case"Truthy":return W(e.operand);default:return false}}function R(e,n,t){let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const o=e.map($);if(i(...o)){return a}if(t){if(!o.some(W)){t.keys.forEach(e=>o.push(y(e.name,"")))}}let s="";if(typeof n==="string"){s=n}else{s=n.__functionName}const[u,l]=s.split("#");if(!r&&(o.some(x)||o.some(C))){let e=0;const n=R(o,s,undefined,true);const t=[];ne(n,"PathInModel",n=>{t.push(n);return y(`$${e++}`,"$")});t.unshift(v(JSON.stringify(n)));return R(t,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}else if(!!l&&l.length>0){o.unshift(v(l))}return{_type:"Formatter",fn:u,parameters:o}}n.formatResult=R;function Q(e,n){var t,r,a,o,i,s,u,l,p,d,f,c,m;const y={};if(e!==null&&e!==void 0&&(t=e.constraints)!==null&&t!==void 0&&t.$Scale&&n.scale!==undefined){y.scale=n.scale}if(e!==null&&e!==void 0&&(r=e.constraints)!==null&&r!==void 0&&r.$Precision&&n.precision!==undefined){y.precision=n.precision}if(e!==null&&e!==void 0&&(a=e.constraints)!==null&&a!==void 0&&a.$MaxLength&&n.maxLength!==undefined){y.maxLength=n.maxLength}if(n.nullable===false){y.nullable=false}if(e!==null&&e!==void 0&&(o=e.constraints)!==null&&o!==void 0&&o["@Org.OData.Validation.V1.Minimum/$Decimal"]&&!isNaN((i=n.annotations)===null||i===void 0?void 0:(s=i.Validation)===null||s===void 0?void 0:s.Minimum)){var v,h;y.minimum=`${(v=n.annotations)===null||v===void 0?void 0:(h=v.Validation)===null||h===void 0?void 0:h.Minimum}`}if(e!==null&&e!==void 0&&(u=e.constraints)!==null&&u!==void 0&&u["@Org.OData.Validation.V1.Maximum/$Decimal"]&&!isNaN((l=n.annotations)===null||l===void 0?void 0:(p=l.Validation)===null||p===void 0?void 0:p.Maximum)){var g,$;y.maximum=`${(g=n.annotations)===null||g===void 0?void 0:($=g.Validation)===null||$===void 0?void 0:$.Maximum}`}if((d=n.annotations)!==null&&d!==void 0&&(f=d.Common)!==null&&f!==void 0&&f.IsDigitSequence&&e.type==="sap.ui.model.odata.type.String"&&e!==null&&e!==void 0&&(c=e.constraints)!==null&&c!==void 0&&c["@com.sap.vocabularies.Common.v1.IsDigitSequence"]){y.isDigitSequence=true}if(e!==null&&e!==void 0&&(m=e.constraints)!==null&&m!==void 0&&m.$V4){y.V4=true}return y}n.setUpConstraints=Q;function J(e,n){var t;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const o=n;if(e._type!=="Property"){return o}const i=r[e.type];if(!i){return o}if(!o.formatOptions){o.formatOptions={}}o.constraints={};o.type=i.type;if(!a){o.constraints=Q(i,e)}if((o===null||o===void 0?void 0:(t=o.type)===null||t===void 0?void 0:t.indexOf("sap.ui.model.odata.type.Int"))===0&&(o===null||o===void 0?void 0:o.type)!=="sap.ui.model.odata.type.Int64"||(o===null||o===void 0?void 0:o.type)==="sap.ui.model.odata.type.Double"){o.formatOptions=Object.assign(o.formatOptions,{parseAsString:false})}if(o.type==="sap.ui.model.odata.type.String"){o.formatOptions.parseKeepsEmptyString=true;const n=K(e);if(n){o.formatOptions.fiscalType=n;o.type="sap.fe.core.type.FiscalDate"}}if(o.type==="sap.ui.model.odata.type.Decimal"||(o===null||o===void 0?void 0:o.type)==="sap.ui.model.odata.type.Int64"){o.formatOptions=Object.assign(o.formatOptions,{emptyString:""})}return o}n.formatWithTypeInformation=J;const K=function(e){var n,t,r,a,o,i,s,u,l,p,d,f,c,m,y,v;if((n=e.annotations)!==null&&n!==void 0&&(t=n.Common)!==null&&t!==void 0&&t.IsFiscalYear){return"com.sap.vocabularies.Common.v1.IsFiscalYear"}if((r=e.annotations)!==null&&r!==void 0&&(a=r.Common)!==null&&a!==void 0&&a.IsFiscalPeriod){return"com.sap.vocabularies.Common.v1.IsFiscalPeriod"}if((o=e.annotations)!==null&&o!==void 0&&(i=o.Common)!==null&&i!==void 0&&i.IsFiscalYearPeriod){return"com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"}if((s=e.annotations)!==null&&s!==void 0&&(u=s.Common)!==null&&u!==void 0&&u.IsFiscalQuarter){return"com.sap.vocabularies.Common.v1.IsFiscalQuarter"}if((l=e.annotations)!==null&&l!==void 0&&(p=l.Common)!==null&&p!==void 0&&p.IsFiscalYearQuarter){return"com.sap.vocabularies.Common.v1.IsFiscalYearQuarter"}if((d=e.annotations)!==null&&d!==void 0&&(f=d.Common)!==null&&f!==void 0&&f.IsFiscalWeek){return"com.sap.vocabularies.Common.v1.IsFiscalWeek"}if((c=e.annotations)!==null&&c!==void 0&&(m=c.Common)!==null&&m!==void 0&&m.IsFiscalYearWeek){return"com.sap.vocabularies.Common.v1.IsFiscalYearWeek"}if((y=e.annotations)!==null&&y!==void 0&&(v=y.Common)!==null&&v!==void 0&&v.IsDayOfFiscalYear){return"com.sap.vocabularies.Common.v1.IsDayOfFiscalYear"}};n.getFiscalType=K;function z(e,n,t,r){const o=e.map($);if(i(...o)){return a}if(o.length===1&&E(o[0])&&!t){return o[0]}else if(t){if(!o.some(W)){t.keys.forEach(e=>o.push(y(e.name,"")))}}r=H(e[0],r);if(n==="sap.ui.model.odata.type.Unit"){const e=y("/##@@requestUnitsOfMeasure");e.targetType="any";e.mode="OneTime";o.push(e)}else if(n==="sap.ui.model.odata.type.Currency"){const e=y("/##@@requestCurrencyCodes");e.targetType="any";e.mode="OneTime";o.push(e)}return{_type:"ComplexType",type:n,formatOptions:r||{},parameters:{},bindingParameters:o}}n.addTypeInformation=z;function H(e,n){var t,r;if(!(n&&n.showNumber===false)&&((e===null||e===void 0?void 0:(t=e.type)===null||t===void 0?void 0:t.indexOf("sap.ui.model.odata.type.Int"))===0||(e===null||e===void 0?void 0:e.type)==="sap.ui.model.odata.type.Decimal"||(e===null||e===void 0?void 0:e.type)==="sap.ui.model.odata.type.Double")){if((e===null||e===void 0?void 0:e.type)==="sap.ui.model.odata.type.Int64"||(e===null||e===void 0?void 0:e.type)==="sap.ui.model.odata.type.Decimal"){var a;n=((a=n)===null||a===void 0?void 0:a.showMeasure)===false?{emptyString:"",showMeasure:false}:{emptyString:""}}else{var o;n=((o=n)===null||o===void 0?void 0:o.showMeasure)===false?{parseAsString:false,showMeasure:false}:{parseAsString:false}}}if((e===null||e===void 0?void 0:(r=e.constraints)===null||r===void 0?void 0:r.nullable)!==false){var i;(i=n)===null||i===void 0?true:delete i.emptyString}return n}function X(e,n,t){const r=typeof e==="string"?e:e.__functionName;return{_type:"Function",obj:t!==undefined?$(t):undefined,fn:r,parameters:n.map($)}}n.fn=X;function Z(e){const n=[];ne(e,"PathInModel",e=>{n.push(d(L(e,""),L(e,undefined),L(e,null)));return e});return p(...n)}n.isEmpty=Z;function ee(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++){n[t]=arguments[t]}const r=n.map($);if(i(...r)){return a}if(r.every(E)){return v(r.reduce((e,n)=>{if(n.value!==undefined){return e+n.value.toString()}return e},""))}else if(r.some(x)){let e=0;const n=R(r,"sap.fe.core.formatters.StandardFormatter#concat",undefined,true);const t=[];ne(n,"PathInModel",n=>{t.push(n);return y(`$${e++}`,"$")});t.unshift(v(JSON.stringify(n)));return R(t,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}return{_type:"Concat",expressions:r}}n.concat=ee;function ne(e,n,t){let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let a=e;switch(a._type){case"Function":case"Formatter":a.parameters=a.parameters.map(e=>ne(e,n,t,r));break;case"Concat":a.expressions=a.expressions.map(e=>ne(e,n,t,r));a=ee(...a.expressions);break;case"ComplexType":a.bindingParameters=a.bindingParameters.map(e=>ne(e,n,t,r));break;case"IfElse":const e=ne(a.onTrue,n,t,r);const o=ne(a.onFalse,n,t,r);let i=a.condition;if(r){i=ne(a.condition,n,t,r)}a=Y(i,e,o);break;case"Not":if(r){const e=ne(a.operand,n,t,r);a=f(e)}break;case"Truthy":break;case"Set":if(r){const e=a.operands.map(e=>ne(e,n,t,r));a=a.operator==="||"?d(...e):p(...e)}break;case"Comparison":if(r){const e=ne(a.operand1,n,t,r);const o=ne(a.operand2,n,t,r);a=j(a.operator,e,o)}break;case"Ref":case"Length":case"PathInModel":case"Constant":case"EmbeddedBinding":case"EmbeddedExpressionBinding":case"Unresolvable":break}if(n===a._type){a=t(e)}return a}n.transformRecursively=ne;const te=function(e){return!E(e)&&!_(e)&&b(e)&&e._type!=="IfElse"&&e._type!=="Function"};function re(e){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(n&&Object.keys(e.value).length===0){return""}const t=e.value;const r=[];Object.keys(t).forEach(e=>{const a=t[e];const o=ue(a,true,false,n);if(o&&o.length>0){r.push(`${e}: ${o}`)}});return`{${r.join(", ")}}`}function ae(e,n){let t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(e.value===null){return r?null:"null"}if(e.value===undefined){return r?undefined:"undefined"}if(typeof e.value==="object"){if(Array.isArray(e.value)){const n=e.value.map(e=>ue(e,true));return`[${n.join(", ")}]`}else{return re(e,t)}}if(n){switch(typeof e.value){case"number":case"bigint":case"boolean":return e.value.toString();case"string":return`'${o(e.value.toString())}'`;default:return""}}else{return r?e.value:e.value.toString()}}n.compileConstant=ae;function oe(e,n,t){if(e.type||e.parameters||e.targetType||e.formatOptions||e.constraints){const r={path:ce(e),type:e.type,targetType:e.targetType,parameters:e.parameters,formatOptions:e.formatOptions,constraints:e.constraints};const a=ue(r,false,false,true);if(n){return`${t}${a}`}return a}else if(n){return`${t}{${ce(e)}}`}else{return`{${ce(e)}}`}}function ie(e){if(e.bindingParameters.length===1){return`{${de(e.bindingParameters[0],true)}, type: '${e.type}'}`}let n=`], type: '${e.type}'`;if(fe(e.formatOptions)){n+=`, formatOptions: ${ue(e.formatOptions)}`}if(fe(e.parameters)){n+=`, parameters: ${ue(e.parameters)}`}n+="}";return`{mode:'TwoWay', parts:[${e.bindingParameters.map(e=>de(e)).join(",")}${n}`}function se(e,n){let t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(n){if(t){return`(${e})`}else{return e}}else{return`{= ${e}}`}}n.wrapBindingExpression=se;function ue(e){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const a=$(e);const o=t?"$":"%";switch(a._type){case"Unresolvable":return undefined;case"Constant":return ae(a,n,r);case"Ref":return a.ref||"null";case"Function":const e=`${a.parameters.map(e=>ue(e,true)).join(", ")}`;return a.obj===undefined?`${a.fn}(${e})`:`${ue(a.obj,true)}.${a.fn}(${e})`;case"EmbeddedExpressionBinding":return n?`(${a.value.substring(2,a.value.length-1)})`:`${a.value}`;case"EmbeddedBinding":return n?`${o}${a.value}`:`${a.value}`;case"PathInModel":return oe(a,n,o);case"Comparison":const t=le(a);return se(t,n);case"IfElse":const i=`${ue(a.condition,true)} ? ${ue(a.onTrue,true)} : ${ue(a.onFalse,true)}`;return se(i,n,true);case"Set":const s=a.operands.map(e=>ue(e,true)).join(` ${a.operator} `);return se(s,n,true);case"Concat":const u=a.expressions.map(e=>ue(e,true,true)).join(" + ");return se(u,n);case"Length":const l=`${ue(a.pathInModel,true)}.length`;return se(l,n);case"Not":const p=`!${ue(a.operand,true)}`;return se(p,n);case"Truthy":const d=`!!${ue(a.operand,true)}`;return se(d,n);case"Formatter":const f=pe(a);return n?`$${f}`:f;case"ComplexType":const c=ie(a);return n?`$${c}`:c;default:return""}}n.compileExpression=ue;function le(e){function n(e){const n=ue(e,true)??"undefined";return se(n,true,te(e))}return`${n(e.operand1)} ${e.operator} ${n(e.operand2)}`}function pe(e){if(e.parameters.length===1){return`{${de(e.parameters[0],true)}, formatter: '${e.fn}'}`}else{const n=e.parameters.map(e=>{if(e._type==="ComplexType"){return ie(e)}else{return de(e)}});return`{parts: [${n.join(", ")}], formatter: '${e.fn}'}`}}function de(e){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let t="";if(e._type==="Constant"){if(e.value===undefined){t=`value: 'undefined'`}else{t=`value: ${ae(e,true)}`}}else if(e._type==="PathInModel"){t=`path: '${ce(e)}'`;t+=e.type?`, type: '${e.type}'`:`, targetType: 'any'`;if(fe(e.mode)){t+=`, mode: '${ue(e.mode)}'`}if(fe(e.constraints)){t+=`, constraints: ${ue(e.constraints)}`}if(fe(e.formatOptions)){t+=`, formatOptions: ${ue(e.formatOptions)}`}if(fe(e.parameters)){t+=`, parameters: ${ue(e.parameters)}`}}else{return""}return n?t:`{${t}}`}function fe(e){return e&&Object.keys(e).length>0}function ce(e){return`${e.modelName?`${e.modelName}>`:""}${e.path}`}return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/ClassSupport", ["sap/base/util/merge","sap/base/util/ObjectPath","sap/base/util/uid","sap/ui/base/Metadata","sap/ui/core/mvc/ControllerMetadata"],function(t,e,n,r,i){"use strict";var o={};const a=function(e){e.metadata=t({controllerExtensions:{},properties:{},aggregations:{},associations:{},methods:{},events:{},interfaces:[]},e.metadata||{});return e.metadata};function s(t){return function(e,n){if(!e.override){e.override={}}let r=e.override;if(t){if(!r.extension){r.extension={}}if(!r.extension[t]){r.extension[t]={}}r=r.extension[t]}r[n.toString()]=e[n.toString()]}}o.methodOverride=s;function c(t){return function(e,n){const r=a(e);if(!r.methods[n.toString()]){r.methods[n.toString()]={}}r.methods[n.toString()].overrideExecution=t}}o.extensible=c;function u(){return function(t,e,n){const r=a(t);n.enumerable=true;if(!r.methods[e.toString()]){r.methods[e.toString()]={}}r.methods[e.toString()].public=true}}o.publicExtension=u;function f(){return function(t,e,n){const r=a(t);n.enumerable=true;if(!r.methods[e.toString()]){r.methods[e.toString()]={}}r.methods[e.toString()].public=false}}o.privateExtension=f;function d(){return function(t,e,n){const r=a(t);n.enumerable=true;if(!r.methods[e.toString()]){r.methods[e.toString()]={}}r.methods[e.toString()].final=true}}o.finalExtension=d;function l(t){return function(e,n,r){const i=a(e);delete r.initializer;i.controllerExtensions[n.toString()]=t;return r}}o.usingExtension=l;function g(){return function(t,e){const n=a(t);if(!n.events[e.toString()]){n.events[e.toString()]={}}}}o.event=g;function p(t){return function(e,n,r){const i=a(e);if(!i.properties[n]){i.properties[n]=t}delete r.writable;delete r.initializer;return r}}o.property=p;function m(t){return function(e,n,r){const i=a(e);if(t.multiple===undefined){t.multiple=false}if(!i.aggregations[n]){i.aggregations[n]=t}if(t.isDefault){i.defaultAggregation=n}delete r.writable;delete r.initializer;return r}}o.aggregation=m;function h(t){return function(e,n,r){const i=a(e);if(!i.associations[n]){i.associations[n]=t}delete r.writable;delete r.initializer;return r}}o.association=h;function v(t){return function(e){const n=a(e);n.interfaces.push(t)}}o.implementInterface=v;function b(){return function(t,e){const n=t.constructor;n[e.toString()]=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++){r[i]=arguments[i]}if(r&&r.length){const t=n.getAPI(r[0]);t===null||t===void 0?void 0:t[e.toString()](...r)}}}}o.xmlEventHandler=b;function y(t,e){return function(n){if(!n.prototype.metadata){n.prototype.metadata={}}if(e){for(const t in e){n.prototype.metadata[t]=e[t]}}return E(n,t,n.prototype)}}o.defineUI5Class=y;function x(){return{current:undefined,setCurrent:function(t){this.current=t}}}o.createReference=x;function S(){return function(t,e,n){delete n.writable;delete n.initializer;n.initializer=x;return n}}o.defineReference=S;function E(t,o,a){var s,c,u,f;if(t.getMetadata&&t.getMetadata().isA("sap.ui.core.mvc.ControllerExtension")){Object.getOwnPropertyNames(a).forEach(t=>{const e=Object.getOwnPropertyDescriptor(a,t);if(e&&!e.enumerable){e.enumerable=true}})}const d={};d.metadata=a.metadata||{};d.override=a.override;d.constructor=t;d.metadata.baseType=Object.getPrototypeOf(t.prototype).getMetadata().getName();if((t===null||t===void 0?void 0:(s=t.getMetadata())===null||s===void 0?void 0:s.getStereotype())==="control"){const e=a.renderer||t.renderer||t.render;d.renderer={apiVersion:2};if(typeof e==="function"){d.renderer.render=e}else if(e!=undefined){d.renderer=e}}d.metadata.interfaces=((c=a.metadata)===null||c===void 0?void 0:c.interfaces)||((u=t.metadata)===null||u===void 0?void 0:u.interfaces);Object.keys(t.prototype).forEach(e=>{if(e!=="metadata"){try{d[e]=t.prototype[e]}catch(t){}}});if((f=d.metadata)!==null&&f!==void 0&&f.controllerExtensions&&Object.keys(d.metadata.controllerExtensions).length>0){for(const t in d.metadata.controllerExtensions){d[t]=d.metadata.controllerExtensions[t]}}const l=t.extend(o,d);const g=l.prototype.init;l.prototype.init=function(){if(g){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++){e[n]=arguments[n]}g.apply(this,e)}this.metadata=d.metadata;if(d.metadata.properties){const t=Object.keys(d.metadata.properties);t.forEach(t=>{Object.defineProperty(this,t,{configurable:true,set:e=>this.setProperty(t,e),get:()=>this.getProperty(t)})});const e=Object.keys(d.metadata.aggregations);e.forEach(t=>{Object.defineProperty(this,t,{configurable:true,set:e=>this.setAggregation(t,e),get:()=>{const e=this.getAggregation(t);if(d.metadata.aggregations[t].multiple){return e||[]}else{return e}}})});const n=Object.keys(d.metadata.associations);n.forEach(t=>{Object.defineProperty(this,t,{configurable:true,set:e=>this.setAssociation(t,e),get:()=>{const e=this.getAssociation(t);if(d.metadata.associations[t].multiple){return e||[]}else{return e}}})})}};t.override=function(e){const o={};o.constructor=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++){n[r]=arguments[r]}return t.apply(this,n)};const a=r.createClass(t,`anonymousExtension~${n()}`,o,i);a.getMetadata()._staticOverride=e;a.getMetadata()._override=t.getMetadata()._override;return a};e.set(o,l);return l}return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/DeleteHelper", ["sap/base/Log","sap/fe/core/controllerextensions/editFlow/draft","sap/m/CheckBox","sap/m/MessageToast","sap/m/Text"],function(e,t,n,o,s){"use strict";var l={};let i;(function(e){e["deletableContexts"]="deletableContexts";e["draftsWithDeletableActive"]="draftsWithDeletableActive";e["createModeContexts"]="createModeContexts";e["unSavedContexts"]="unSavedContexts";e["draftsWithNonDeletableActive"]="draftsWithNonDeletableActive";e["draftsToDeleteBeforeActive"]="draftsToDeleteBeforeActive"})(i||(i={}));l.DeleteOptionTypes=i;let E;(function(e){e["CHECKBOX"]="checkBox";e["TEXT"]="text"})(E||(E={}));l.DeleteDialogContentControl=E;function r(e,t,n,o){o.forEach(e=>{const t=n.indexOf(e);if(t!==-1){n.splice(t,1)}});e.setProperty(t,[]);return[...n]}function a(e,t){let n=e.getProperty("selectedContexts")||[];if(t.type===i.deletableContexts){n=r(e,i.deletableContexts,n,e.getProperty(i.deletableContexts)||[]);n=r(e,i.createModeContexts,n,e.getProperty(i.createModeContexts)||[]);const t=e.getProperty(i.draftsWithDeletableActive)||[];const o=t.map(e=>e.draft);n=r(e,i.draftsWithDeletableActive,n,o)}else{const o=e.getProperty(t.type)||[];n=r(e,t.type,n,o)}e.setProperty("selectedContexts",n);e.setProperty("numberOfSelectedContexts",n.length)}function _(e,t,n,s){const{internalModelContext:l,entitySetName:i}=e;if(l){if(l.getProperty("deleteEnabled")!=undefined){t.forEach(e=>{if(e.selected){a(l,e)}})}l.setProperty("deleteEnabled",t.some(e=>!e.selected))}if(n.length===1){o.show(s.getText("C_TRANSACTION_HELPER_DELETE_TOAST_SINGULAR",undefined,i))}else{o.show(s.getText("C_TRANSACTION_HELPER_DELETE_TOAST_PLURAL",undefined,i))}}function T(e){const t=e.getObject()["DraftAdministrativeData"];return t&&t["InProcessByUser"]||""}function c(e,t,n){let o="";if(t===1&&n.length===1){const t=T(n[0]);o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_SINGLE_OBJECT_LOCKED",[t])}else if(n.length==1){const s=T(n[0]);o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_ONE_OBJECT_LOCKED",[t,s])}else if(n.length>1){o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_LOCKED",[n.length,t])}return o}function f(e,t,n){let o="";if(n===t){if(t===1){o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_ONLY_DRAFT_OF_NON_DELETABLE_ACTIVE")}else{o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_ONLY_DRAFTS_OF_NON_DELETABLE_ACTIVE")}}else if(t===1){o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_DRAFT_OF_NON_DELETABLE_ACTIVE")}else{o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_DRAFTS_OF_NON_DELETABLE_ACTIVE")}return o}function C(e){const t=e.getObject()["DraftAdministrativeData"];let n="";if(t){n=t["LastChangedByUserDescription"]||t["LastChangedByUser"]||""}return n}function N(e,t,n,o){let s="",l="",i=false;if(t===1&&n.length===1){const t=C(n[0]);s=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_CHANGES",[t]);i=true}else if(t===n.length){s=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_CHANGES_MULTIPLE_OBJECTS");i=true}else if(o===n.length){if(n.length===1){const t=C(n[0]);s=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_AND_FEW_OBJECTS_LOCKED_SINGULAR",[t])}else{s=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_AND_FEW_OBJECTS_LOCKED_PLURAL")}i=true}else if(o>n.length){if(n.length===1){const t=C(n[0]);l=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_UNSAVED_SINGULAR",[t])}else{l=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_UNSAVED_PLURAL")}}return{infoTxt:s,optionTxt:l,optionWithoutTxt:i}}function A(e,t,n){const{numberOfSelectedContexts:o,lockedContexts:l=[],draftsWithNonDeletableActive:i=[]}=e;const E=o-(l.length+t-i.length);let r="";if(E>0&&(t===0||i.length===t)){if(l.length>0){if(E===1){r=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_ALL_REMAINING_NON_DELETABLE_SINGULAR")}else{r=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_ALL_REMAINING_NON_DELETABLE_PLURAL")}}else if(E===1){r=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_SINGLE_AND_ONE_OBJECT_NON_DELETABLE")}else{r=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_MULTIPLE_AND_ALL_OBJECT_NON_DELETABLE")}}else if(E===1){r=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_ONE_OBJECT_NON_DELETABLE",[o])}else if(E>1){r=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_NON_DELETABLE",[E,o])}return r?new s({text:r}):undefined}function d(e,t){return t.reduce((e,t)=>t.selected&&t.type!==i.draftsToDeleteBeforeActive?e.concat(t.contexts):e,e)}function D(e){const t=[];return e.reduce((e,t)=>t.selected&&t.type===i.draftsToDeleteBeforeActive?e.concat(t.contexts):e,t)}function g(e,t,n,o,l,r){const{numberOfSelectedContexts:a,draftsWithDeletableActive:_,unSavedContexts:T,createModeContexts:c,lockedContexts:f,draftsWithNonDeletableActive:C}=e;let N="";if(_.length>0){const e=[];_.forEach(n=>{if(n.draft.getProperty("DraftAdministrativeData/InProcessByUser")){e.push(n.draft)}t.push(n.siblingInfo.targetContext)});if(e.length>0){r.push({type:i.draftsToDeleteBeforeActive,contexts:e,selected:true})}}if(c.length>0){c.forEach(e=>t.push(e))}if(f.length>0){N=h.getLockedObjectsText(o,a,f)||"";l.push(new s({text:N}))}const A=a!=n-C.length+f.length;const d=A&&h.getNonDeletableText(e,n,o);if(d){l.push(d)}if(T.length>0){const e=h.getUnsavedContextsText(o,a,T,n)||{};if(e.infoTxt){l.push(new s({text:e.infoTxt}))}if(e.optionTxt||e.optionWithoutTxt){r.push({type:i.unSavedContexts,contexts:T,text:e.optionTxt,selected:true,control:E.CHECKBOX})}}if(C.length>0){const e=h.getNonDeletableActivesOfDraftsText(o,C.length,n)||"";if(e){r.push({type:i.draftsWithNonDeletableActive,contexts:C,text:e,selected:true,control:n>0?E.CHECKBOX:E.TEXT})}}}function O(e,t){if(e.length===1){const n=e[0];if(n.text){t.push(new s({text:n.text}))}}else if(e.length>1){e.forEach(e=>{if(e.control==="text"&&e.text){t.push(new s({text:e.text}))}});e.forEach(e=>{if(e.control==="checkBox"&&e.text){t.push(new n({text:e.text,selected:true,select:function(t){const n=t.getSource();const o=n.getSelected();e.selected=o}}))}})}}function L(e,t,n,o){const{numberOfSelectedContexts:s,entitySetName:l,parentControl:r,description:a,lockedContexts:_,draftsWithNonDeletableActive:T,unSavedContexts:c}=e;const f=t.length+T.length+c.length;const C=s-(_.length+f-T.length);if(s===1&&s===t.length){const e=t[0].getObject();const s=r;const _=s&&s.getParent().getIdentifierColumn();let T;let c=[];if(_){const t=_?e[_]:undefined;const o=a&&a.path?e[a.path]:undefined;if(t){if(o&&a&&_!==a.path){c=[t+" ",o]}else{c=[t,""]}T=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO",c,l)}else{T=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",undefined,l)}}else{T=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",undefined,l)}o.push({type:i.deletableContexts,contexts:t,text:T,selected:true,control:E.TEXT})}else if(c.length!==f&&s>0&&(t.length>0||c.length>0&&T.length>0)){if(s>t.length&&C+_.length>0){let e="";if(f===1){e=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR_NON_DELETABLE",undefined,l)}else{e=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_PLURAL_NON_DELETABLE",undefined,l)}o.unshift({type:i.deletableContexts,contexts:t,text:e,selected:true,control:E.TEXT})}else{const e=f===1?n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",undefined,l):n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_PLURAL",undefined,l);o.push({type:i.deletableContexts,contexts:t,text:e,selected:true,control:E.TEXT})}}}async function x(n,o,s,l,i,E){try{const r=h.getConfirmedDeletableContext([],n);const a=D(n);const{beforeDeleteCallBack:_,parentControl:T}=o;if(_){await _({contexts:r})}if(r&&r.length){try{const s=r.length===1?true:false;const _=[];await Promise.allSettled(a.map(function(n){try{return t.deleteDraft(n,i,s)}catch(t){e.error(`FE : core : DeleteHelper : Error while discrding draft with path : ${n.getPath()}`);_.push(t)}}));await Promise.all(r.map(function(e){if(E&&!e.getProperty("IsActiveEntity")){return t.deleteDraft(e,i,s)}return e.delete()}));h.afterDeleteProcess(o,n,r,l);if(_.length>0){throw Error(`FE : core : DeleteHelper : Errors on draft delete : ${_}`)}}catch(e){await s.showMessageDialog({control:T});throw e}}}catch(e){await s.showMessages();throw e}}async function I(e,n){const o=n.map(e=>{const n=e.getModel().getMetaModel().getMetaContext(e.getCanonicalPath());const o=n.getProperty("@Org.OData.Capabilities.V1.DeleteRestrictions/Deletable/$Path");const s=!o&&n.getProperty("@Org.OData.Capabilities.V1.DeleteRestrictions/Deletable")!==false;const l={context:e,isDraftRoot:!!n.getProperty("@com.sap.vocabularies.Common.v1.DraftRoot"),isDraftNode:!!n.getProperty("@com.sap.vocabularies.Common.v1.DraftNode"),isActive:true,hasActive:false,hasDraft:false,locked:false,deletable:o?e.getProperty(o):s,siblingPromise:Promise.resolve(undefined),siblingInfo:undefined,siblingDeletable:false};if(l.isDraftRoot){var i;l.locked=!!((i=e.getObject("DraftAdministrativeData"))!==null&&i!==void 0&&i.InProcessByUser);l.hasDraft=e.getProperty("HasDraftEntity")}if(l.isDraftRoot){l.isActive=e.getProperty("IsActiveEntity");l.hasActive=e.getProperty("HasActiveEntity");if(!l.isActive&&l.hasActive){l.siblingPromise=t.computeSiblingInformation(e,e).then(async e=>{l.siblingInfo=e;if(o){var t;l.siblingDeletable=await(e===null||e===void 0?void 0:(t=e.targetContext)===null||t===void 0?void 0:t.requestProperty(o))}else{l.siblingDeletable=s}})}}return l});await Promise.all(o.map(e=>e.siblingPromise));const s=[{key:"draftsWithDeletableActive",value:o.filter(e=>e.isDraftRoot&&!e.isActive&&e.hasActive&&e.siblingDeletable)},{key:"draftsWithNonDeletableActive",value:o.filter(e=>e.isDraftRoot&&!e.isActive&&e.hasActive&&!e.siblingDeletable)},{key:"lockedContexts",value:o.filter(e=>e.isDraftRoot&&e.isActive&&e.hasDraft&&e.locked)},{key:"unSavedContexts",value:o.filter(e=>e.isDraftRoot&&e.isActive&&e.hasDraft&&!e.locked)},{key:"deletableContexts",value:o.filter(e=>!e.isDraftRoot&&!e.isDraftNode&&e.deletable||e.isDraftRoot&&e.isActive&&!e.hasDraft&&e.deletable||e.isDraftRoot&&!e.isActive&&!e.hasActive||e.isDraftNode&&e.deletable)}];for(const{key:t,value:n}of s){e.setProperty(t,n.map(e=>t==="draftsWithDeletableActive"?{draft:e.context,siblingInfo:e.siblingInfo}:e.context))}}const h={getNonDeletableText:A,deleteConfirmHandler:x,updateOptionsForDeletableTexts:L,updateContentForDeleteDialog:O,updateDraftOptionsForDeletableTexts:g,getConfirmedDeletableContext:d,getLockedObjectsText:c,getUnsavedContextsText:N,getNonDeletableActivesOfDraftsText:f,afterDeleteProcess:_,updateDeleteInfoForSelectedContexts:I};return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/DynamicAnnotationPathHelper", ["sap/ui/base/BindingParser"],function(s){"use strict";var t={};function r(s,t){if(!s){return null}const e=t.split("/");if(e.length===1){return s[t]}else{return r(s[e[0]],e.splice(1).join("/"))}}function e(t,n){if(t.indexOf("[")!==-1){const i=t.indexOf("[");const u=t.substr(0,i);const a=t.substr(i+1);const l=a.indexOf("]");const o=n.getObject(u);const f=s.parseExpression(a.substr(0,l));if(Array.isArray(o)&&f&&f.result&&f.result.parts&&f.result.parts[0]&&f.result.parts[0].path){let s;let i=false;for(s=0;s<o.length&&!i;s++){const t=r(o[s],f.result.parts[0].path);const e=f.result.formatter(t);if(e){i=true}}if(i){t=e(u+(s-1)+a.substr(l+1),n)}}}return t}t.resolveDynamicExpression=e;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/EditState", [],function(){"use strict";const t={CLEAN:0,PROCESSED:1,DIRTY:2};let e=t.CLEAN;return{setEditStateDirty:function(){e=t.DIRTY},setEditStateProcessed:function(){e=t.PROCESSED},resetEditState:function(){e=t.CLEAN},isEditStateDirty:function(){return e!==t.CLEAN},cleanProcessedEditState:function(){if(e===t.PROCESSED){e=t.CLEAN}}}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/ExcelFormatHelper", ["sap/ui/core/format/DateFormat"],function(e){"use strict";const t={getExcelDatefromJSDate:function(){let t=e.getDateInstance().oFormatOptions.pattern.toLowerCase();if(t){const e=/^[^y]*y[^y]*$/m;if(e.exec(t)){t=t.replace("y","yyyy")}}return t},getExcelDateTimefromJSDateTime:function(){let t=e.getDateTimeInstance().oFormatOptions.pattern.toLowerCase();if(t){const e=/^[^y]*y[^y]*$/m;if(e.exec(t)){t=t.replace("y","yyyy")}if(t.includes("a")){t=t.replace("a","AM/PM")}}return t},getExcelTimefromJSTime:function(){let t=e.getTimeInstance().oFormatOptions.pattern;if(t&&t.includes("a")){t=t.replace("a","AM/PM")}return t}};return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/FPMHelper", ["sap/base/util/ObjectPath","sap/fe/core/CommonUtils"],function(e,t){"use strict";const n={actionWrapper:function(n,o,r,i){return new Promise(function(s){const l=n.getSource?n.getSource():n.oSource,a=t.getTargetView(l),c=l.getBindingContext();let u;let p;if(i!==undefined){p=i.contexts||[]}else if(c!==undefined){p=[c]}else{p=[]}if(a.getControllerName()==="sap.fe.templates.ObjectPage.ObjectPageController"||a.getControllerName()==="sap.fe.templates.ListReport.ListReportController"){u=a.getController().getExtensionAPI()}if(o.startsWith("/extension/")){const t=e.get(o.replace(/\//g,".").substr(1),u);s(t[r](c,p))}else{sap.ui.require([o],function(e){s(e[r].bind(u)(c,p))})}})},validationWrapper:function(e,t,n,o,r){return new Promise(function(i){let s;if(o.getControllerName()==="sap.fe.templates.ObjectPage.ObjectPageController"||o.getControllerName()==="sap.fe.templates.ListReport.ListReportController"){s=o.getController().getExtensionAPI()}sap.ui.require([e],function(e){i(e[t].bind(s)(r,n))})})}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/KeepAliveHelper", ["sap/base/Log","sap/fe/core/helpers/KeepAliveRefreshTypes","./ModelHelper"],function(t,e,n){"use strict";var o=e.RefreshStrategyType;var r=e.PATH_TO_STORE;const s=function(t,e){const o=n.getEntitySetPath(e);const r=o.indexOf("$NavigationPropertyBinding")>-1&&t.getObject(o);return r?`/${r}`:e};const i=function(t,e,n){return t===e||n===o.IncludingDependents&&t.startsWith(e)};const c=function(t,e,n,o){let r=e.startsWith("/")?e:`/${e}`,c=n.startsWith("/")?n:`/${n}`;if(!i(r,c,o)){r=s(t,r);if(!i(r,c,o)){c=s(t,c)}else{return true}}return i(r,c,o)};const a=function(t,e){const n=[];const o=t.getModel().getMetaModel();const s=t.getModel("internal");const i=s.getProperty(r)||{};if(e){e.forEach(function(t){const e=t.data("targetCollectionPath");for(const r in i){const s=i[r];if(n.indexOf(t)===-1&&c(o,e,r,s)){n.push(t)}}})}return n};const l=function(t,e){const n=t.getModel().getMetaModel();const o=t.getModel("internal");const s=o.getProperty(r)||{};let i;if(e){for(const t in s){const o=s[t];if(c(n,e,t,o)){i=o;if(i==="includingDependents"){break}}}}return i};const f=function(t){const e=t.getViewData(),n=e&&((e===null||e===void 0?void 0:e.contextPath)||`/${e===null||e===void 0?void 0:e.entitySet}`);return h.getControlRefreshStrategyForContextPath(t,n)};const u=function(t,e,n){const o=e&&n&&`${e}-${n}`;const r=t.intents;const s=r&&o&&r[o];const i=!s&&r&&e&&r[e];return s||i||(t===null||t===void 0?void 0:t.defaultBehavior)||(t===null||t===void 0?void 0:t._feDefault)};const g=function(t,e){if(t&&t.getModel("viewData")&&t.getModel("internal")){const n=t.getModel("viewData");const o=n.getProperty(r);if(o){const n=t.getModel("internal");const s=h.getRefreshStrategyForIntent(o,e===null||e===void 0?void 0:e.semanticObject,e===null||e===void 0?void 0:e.action);n.setProperty(r,s)}}};const d=function(e){const n=e.getBindingContext("internal");const o=e.getController();const r=o===null||o===void 0?void 0:o.viewState;let s=Promise.resolve();if(n&&n.getProperty("restoreStatus")==="pending"){if(r.refreshViewBindings){s=r.refreshViewBindings();s.then(function(){t.info(`FE V4: Refresh was triggered successfull: ${e.getId()}`)}).catch(function(n){t.warning(`FE V4: Refresh was unsuccessfull: ${e.getId()}`,n)})}s=s.then(function(){r.onRestore();n.setProperty("restoreStatus","done")}).catch(function(n){t.warning(`FE V4: Restore was unsuccessfull: ${e.getId()}`,n)})}return s};const h={getControlsForRefresh:a,getControlRefreshStrategyForContextPath:l,getViewRefreshInfo:f,getRefreshStrategyForIntent:u,storeControlRefreshStrategyForHash:g,restoreView:d};return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/KeepAliveRefreshTypes", [],function(){"use strict";var e={};let n;(function(e){e["Self"]="self";e["IncludingDependents"]="includingDependents"})(n||(n={}));e.RefreshStrategyType=n;const t="/refreshStrategyOnAppRestore";e.PATH_TO_STORE=t;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/LoaderUtils", [],function(){"use strict";var e={};async function n(e){let n;const r=new Promise(e=>{n=e});if(e.length>0){sap.ui.require(e,function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++){r[i]=arguments[i]}n(r)})}else{n([])}return r}e.requireDependencies=n;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/MassEditHelper", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/library","sap/fe/core/TemplateModel","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/macros/field/FieldTemplating","sap/fe/macros/table/TableHelper","sap/m/Button","sap/m/Dialog","sap/m/MessageToast","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/mdc/enum/EditMode","sap/ui/model/json/JSONModel","../controllerextensions/messageHandler/messageHandling","../controls/Any","../converters/MetaModelConverter","../templating/FieldControlHelper","../templating/UIFormatters"],function(e,t,n,o,a,i,r,s,l,u,c,d,p,f,g,y,P,h,v,x,m,E,b,O){"use strict";var T=O.isMultiValueField;var M=O.getRequiredExpression;var C=O.getEditMode;var F=b.isReadOnlyExpression;var V=E.getInvolvedDataModelObjects;var D=E.convertMetaModelContext;var S=l.setEditStyleProperties;var $=l.getTextBinding;var B=s.hasValueHelpWithFixedValues;var k=s.hasValueHelp;var I=s.hasUnit;var j=s.hasCurrency;var A=s.getAssociatedUnitPropertyPath;var w=s.getAssociatedUnitProperty;var _=r.getRelativePaths;var H=r.enhanceDataModelPath;var R=o.isProperty;var L=n.pathInModel;var N=n.or;var U=n.not;var G=n.ifElse;var Q=n.constant;var q=n.compileExpression;const K={initLastLevelOfPropertyPath:function(e,t){let n;let o=0;const a=e.split("/");let i="";a.forEach(function(a){if(!t[a]&&o===0){t[a]={};n=t[a];i=i+a;o++}else if(!n[a]){i=`${i}/${a}`;if(i!==e){n[a]={};n=n[a]}else{n[a]=[]}}});return n},getUniqueValues:function(e,t,n){return e!=undefined&&e!=null?n.indexOf(e)===t:undefined},getValueForMultiLevelPath:function(e,t){let n;if(e&&e.indexOf("/")>0){const o=e.split("/");o.forEach(function(e){n=t&&t[e]?t[e]:n&&n[e]})}return n},getDefaultSelectionPathComboBox:function(e,t){let n;if(t&&e.length>0){const o=e,a=[];o.forEach(function(e){const n=e.getObject();const o=t.indexOf("/")>-1&&n.hasOwnProperty(t.split("/")[0]);if(e&&(n.hasOwnProperty(t)||o)){a.push(e.getObject(t))}});const i=a.filter(K.getUniqueValues);if(i.length>1){n=`Default/${t}`}else if(i.length===0){n=`Empty/${t}`}else if(i.length===1){n=`${t}/${i[0]}`}}return n},getHiddenValueForContexts:function(e,t){if(e&&e.$Path){return!t.some(function(t){return t.getObject(e.$Path)===false})}return e},getInputType:function(e,t,n){const o={};let a;if(e){S(o,t,n,true);a=(o===null||o===void 0?void 0:o.editStyle)||""}const i=a&&["DatePicker","TimePicker","DateTimePicker","RatingIndicator"].indexOf(a)===-1&&!T(n)&&!B(e);return(i||"")&&a},getIsFieldGrp:function(e){return e&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&e.Target&&e.Target.value&&e.Target.value.indexOf("FieldGroup")>-1},getTextPath:function(e,t,n){let o;if(t&&(t.path||t.parameters&&t.parameters.length)&&e){if(t.path&&n==="Description"){o=t.path}else if(t.parameters){t.parameters.forEach(function(t){if(t.path&&t.path!==e){o=t.path}})}}return o},prepareDataForDialog:function(e,n,o){const a=e&&e.getModel().getMetaModel(),i=e.data("metaPath"),r=K.getTableFields(e),s=a.getContext(`${i}/@`),l=a.getContext(i),u=V(s);const c=new v;let d;let p;let f;let g;let y;let P;r.forEach(function(e){const r=e.dataProperty;if(r){var s,c,v,x,m,E,b,O,T;let S=r&&a.getObject(`${i}/${r}@`);p=e.label||S&&S["@com.sap.vocabularies.Common.v1.Label"]||r;if(u){u.targetObject=u.targetEntityType.entityProperties.filter(function(e){return e.name===r})}u.targetObject=u.targetObject[0]||{};P=$(u,{},true)||{};const B=a.getContext(e.annotationPath),L=D(B),N=a.getContext(`${i}/${r}@`),U=N&&N.getInterface();let G=V(B,l);if((L===null||L===void 0?void 0:(s=L.Value)===null||s===void 0?void 0:(c=s.path)===null||c===void 0?void 0:c.length)>0){G=H(G,r)}const q=K.getHiddenValueForContexts(B&&B.getObject()["@com.sap.vocabularies.UI.v1.Hidden"],n)||false;const X=S&&S["@com.sap.vocabularies.UI.v1.IsImageURL"];U.context={getModel:function(){return U.getModel()},getPath:function(){return`${i}/${r}`}};S=R(L)?L:(L===null||L===void 0?void 0:(v=L.Value)===null||v===void 0?void 0:v.$target)??(L===null||L===void 0?void 0:(x=L.Target)===null||x===void 0?void 0:x.$target);const z=S&&S.term&&S.term==="com.sap.vocabularies.UI.v1.Chart";const J=!!L.Action;const Y=K.getIsFieldGrp(L);if(X||q||z||J||Y){return}g=(j(S)||I(S))&&A(S)||"";const W=g&&w(S);f=k(S);y=W&&k(W);const Z=(f||y)&&(((m=S)===null||m===void 0?void 0:(E=m.annotations)===null||E===void 0?void 0:(b=E.Common)===null||b===void 0?void 0:b.ValueListRelevantQualifiers)||W&&(W===null||W===void 0?void 0:(O=W.annotations)===null||O===void 0?void 0:(T=O.Common)===null||T===void 0?void 0:T.ValueListRelevantQualifiers));if(Z){return}const ee=S&&S.Value?S.Value:S;const te=C(ee,G,false,false,L,Q(true));const ne=Object.keys(h);const oe=!!te&&ne.includes(te);const ae=!!te&&(oe&&te===h.Editable||!oe);const ie=r.includes("/")&&f;if(!ae||ie){return}const re=K.getInputType(S,L,G);if(re){const e=_(G);const a=F(S,e);const s=t.computeDisplayMode(N.getObject());const l=f?f:false;const u=y&&!g.includes("/")?y:false;const c=g&&!r.includes("/")?g:false;d={label:p,dataProperty:r,isValueHelpEnabled:f?f:false,unitProperty:c,isFieldRequired:M(S,L,true,false,{},G),defaultSelectionPath:r?K.getDefaultSelectionPathComboBox(n,r):false,defaultSelectionUnitPath:g?K.getDefaultSelectionPathComboBox(n,g):false,entitySet:i,display:s,descriptionPath:K.getTextPath(r,P,s),nullable:S.nullable!==undefined?S.nullable:true,isPropertyReadOnly:a!==undefined?a:false,inputType:re,editMode:ae?te:undefined,propertyInfo:{hasVH:l,runtimePath:"fieldsInfo>/values/",relativePath:r,propertyFullyQualifiedName:S.fullyQualifiedName,propertyPathForValueHelp:`${i}/${r}`},unitInfo:c&&{hasVH:u,runtimePath:"fieldsInfo>/unitData/",relativePath:c,propertyPathForValueHelp:`${i}/${c}`}};o.push(d)}}});c.setData(o);return c},getTableFields:function(e){const t=e&&e.getColumns()||[];const n=e&&e.getParent().getTableDefinition().columns;return t.map(function(e){const t=e&&e.getDataProperty(),o=n&&n.filter(function(e){return e.name===t&&e.type==="Annotation"});return{dataProperty:t,label:e.getHeader(),annotationPath:o&&o[0]&&o[0].annotationPath}})},getDefaultTextsForDialog:function(e,t,n){const o=n.data("displayModePropertyBinding")==="true";return{keepExistingPrefix:"< Keep",leaveBlankValue:"< Leave Blank >",clearFieldValue:"< Clear Values >",massEditTitle:e.getText("C_MASS_EDIT_DIALOG_TITLE",t.toString()),applyButtonText:o?e.getText("C_MASS_EDIT_SAVE_BUTTON_TEXT"):e.getText("C_MASS_EDIT_APPLY_BUTTON_TEXT"),useValueHelpValue:"< Use Value Help >",cancelButtonText:e.getText("C_COMMON_OBJECT_PAGE_CANCEL"),noFields:e.getText("C_MASS_EDIT_NO_EDITABLE_FIELDS"),okButtonText:e.getText("C_COMMON_DIALOG_OK")}},setDefaultValuesToDialog:function(e,t,n,o){const a=o?n.unitProperty:n.dataProperty,i=n.inputType,r=n.isFieldRequired;const s="Values";e.defaultOptions=e.defaultOptions||[];const l=e.selectOptions&&e.selectOptions.length>0;const u={text:`${t.keepExistingPrefix} ${s} >`,key:`Default/${a}`};if(i==="CheckBox"){const t={text:"No",key:`${a}/false`,textInfo:{value:false}};const n={text:"Yes",key:`${a}/true`,textInfo:{value:true}};e.unshift(t);e.defaultOptions.unshift(t);e.unshift(n);e.defaultOptions.unshift(n);e.unshift(u);e.defaultOptions.unshift(u)}else{var c,d;if(n!==null&&n!==void 0&&(c=n.propertyInfo)!==null&&c!==void 0&&c.hasVH||n!==null&&n!==void 0&&(d=n.unitInfo)!==null&&d!==void 0&&d.hasVH&&o){const n={text:t.useValueHelpValue,key:`UseValueHelpValue/${a}`};e.unshift(n);e.defaultOptions.unshift(n)}if(l){if(r!=="true"&&!o){const n={text:t.clearFieldValue,key:`ClearFieldValue/${a}`};e.unshift(n);e.defaultOptions.unshift(n)}e.unshift(u);e.defaultOptions.unshift(u)}else{const n={text:t.leaveBlankValue,key:`Default/${a}`};e.unshift(n);e.defaultOptions.unshift(n)}}},getTextArrangementInfo:function(t,n,o,a){let i=a.getObject(t),r,s;if(n&&t){switch(o){case"Description":r=a.getObject(n)||"";s=r;break;case"Value":i=a.getObject(t)||"";s=i;break;case"ValueDescription":i=a.getObject(t)||"";r=a.getObject(n)||"";s=r?`${i} (${r})`:i;break;case"DescriptionValue":i=a.getObject(t)||"";r=a.getObject(n)||"";s=r?`${r} (${i})`:i;break;default:e.info(`Display Property not applicable: ${t}`);break}}return{textArrangement:o,valuePath:t,descriptionPath:n,value:i,description:r,fullText:s}},isEditable:function(e){const t=e.getBinding("any");const n=t.getExternalValue();return n===h.Editable},onContextEditableChange:function(e,t){const n=e.getProperty(`/values/${t}/objectsForVisibility`)||[];const o=n.some(K.isEditable);if(o){e.setProperty(`/values/${t}/visible`,o)}},updateOnContextChange:function(e,t,n,o){const a=e.getBinding("any");o.objectsForVisibility=o.objectsForVisibility||[];o.objectsForVisibility.push(e);a===null||a===void 0?void 0:a.attachChange(K.onContextEditableChange.bind(null,t,n))},getBoundObject:function(e,t){const n=new m({any:e});const o=t.getModel();n.setModel(o);n.setBindingContext(t);return n},getFieldVisiblity:function(e,t,n,o,a){const i=K.getBoundObject(e,a);const r=K.isEditable(i);if(!r){K.updateOnContextChange(i,t,n,o)}return r},setRuntimeModelOnDialog:function(e,t,n,o){const a=[];const i=[];const r=[];const s=[];const l=[];const u={values:a,unitData:i,results:r,readablePropertyData:l,selectedKey:undefined,textPaths:s,noFields:n.noFields};const c=new v(u);t.forEach(function(t){let n;let r;let l;const u={};const c={};if(t.dataProperty&&t.dataProperty.indexOf("/")>-1){const o=K.initLastLevelOfPropertyPath(t.dataProperty,a);const i=t.dataProperty.split("/");for(const a of e){const e=a.getObject(t.dataProperty);r=`${t.dataProperty}/${e}`;if(!u[r]&&o[i[i.length-1]]){n=K.getTextArrangementInfo(t.dataProperty,t.descriptionPath,t.display,a);o[i[i.length-1]].push({text:n&&n.fullText||e,key:r,textInfo:n});u[r]=e}}o[i[i.length-1]].textInfo={descriptionPath:t.descriptionPath,valuePath:t.dataProperty,displayMode:t.display}}else{a[t.dataProperty]=a[t.dataProperty]||[];a[t.dataProperty]["selectOptions"]=a[t.dataProperty]["selectOptions"]||[];if(t.unitProperty){i[t.unitProperty]=i[t.unitProperty]||[];i[t.unitProperty]["selectOptions"]=i[t.unitProperty]["selectOptions"]||[]}for(const o of e){const e=o.getObject();r=`${t.dataProperty}/${e[t.dataProperty]}`;if(t.dataProperty&&e[t.dataProperty]&&!u[r]){if(t.inputType!="CheckBox"){n=K.getTextArrangementInfo(t.dataProperty,t.descriptionPath,t.display,o);const i={text:n&&n.fullText||e[t.dataProperty],key:r,textInfo:n};a[t.dataProperty].push(i);a[t.dataProperty]["selectOptions"].push(i)}u[r]=e[t.dataProperty]}if(t.unitProperty&&e[t.unitProperty]){l=`${t.unitProperty}/${e[t.unitProperty]}`;if(!c[l]){if(t.inputType!="CheckBox"){n=K.getTextArrangementInfo(t.unitProperty,t.descriptionPath,t.display,o);const a={text:n&&n.fullText||e[t.unitProperty],key:l,textInfo:n};i[t.unitProperty].push(a);i[t.unitProperty]["selectOptions"].push(a)}c[l]=e[t.unitProperty]}}}a[t.dataProperty].textInfo={descriptionPath:t.descriptionPath,valuePath:t.dataProperty,displayMode:t.display};if(Object.keys(u).length===1){o.setProperty(t.dataProperty,r&&u[r])}if(Object.keys(c).length===1){o.setProperty(t.unitProperty,l&&c[l])}}s[t.dataProperty]=t.descriptionPath?[t.descriptionPath]:[]});t.forEach(function(t){let o={};if(t.dataProperty.indexOf("/")>-1){const e=K.getValueForMultiLevelPath(t.dataProperty,a);if(!e){e.push({text:n.leaveBlankValue,key:`Empty/${t.dataProperty}`})}else{K.setDefaultValuesToDialog(e,n,t)}o=e}else if(a[t.dataProperty]){a[t.dataProperty]=a[t.dataProperty]||[];K.setDefaultValuesToDialog(a[t.dataProperty],n,t);o=a[t.dataProperty]}if(i[t.unitProperty]&&i[t.unitProperty].length){K.setDefaultValuesToDialog(i[t.unitProperty],n,t,true);i[t.unitProperty].textInfo={};i[t.unitProperty].selectedKey=K.getDefaultSelectionPathComboBox(e,t.unitProperty);i[t.unitProperty].inputType=t.inputType}else if(t.dataProperty&&a[t.dataProperty]&&!a[t.dataProperty].length||t.unitProperty&&i[t.unitProperty]&&!i[t.unitProperty].length){const o=a[t.dataProperty]&&a[t.dataProperty].some(function(e){return e.text==="< Clear Values >"||e.text==="< Leave Blank >"});if(t.dataProperty&&!o){a[t.dataProperty].push({text:n.leaveBlankValue,key:`Empty/${t.dataProperty}`})}const r=i[t.unitProperty]&&i[t.unitProperty].some(function(e){return e.text==="< Clear Values >"||e.text==="< Leave Blank >"});if(t.unitProperty){if(!r){i[t.unitProperty].push({text:n.leaveBlankValue,key:`Empty/${t.unitProperty}`})}i[t.unitProperty].textInfo={};i[t.unitProperty].selectedKey=K.getDefaultSelectionPathComboBox(e,t.unitProperty);i[t.unitProperty].inputType=t.inputType}}if(t.isPropertyReadOnly&&typeof t.isPropertyReadOnly==="boolean"){l.push({property:t.dataProperty,value:t.isPropertyReadOnly,type:"Default"})}else if(t.isPropertyReadOnly&&t.isPropertyReadOnly.operands&&t.isPropertyReadOnly.operands[0]&&t.isPropertyReadOnly.operands[0].operand1&&t.isPropertyReadOnly.operands[0].operand2){l.push({property:t.dataProperty,propertyPath:t.isPropertyReadOnly.operands[0].operand1.path,propertyValue:t.isPropertyReadOnly.operands[0].operand2.value,type:"Path"})}if(t.editMode){o.visible=t.editMode===h.Editable||e.some(K.getFieldVisiblity.bind(K,t.editMode,c,t.dataProperty,o))}else{o.visible=true}o.selectedKey=K.getDefaultSelectionPathComboBox(e,t.dataProperty);o.inputType=t.inputType;o.unitProperty=t.unitProperty});return c},getDialogContext:function(e,t){let n=t&&t.getBindingContext();if(!n){const t=e.getModel();const o=e.getRowBinding();const a=t.bindList(o.getPath(),o.getContext(),[],[],{$$updateGroupId:"submitLater"});a.refreshInternal=function(){};n=a.create({},true)}return n},onDialogOpen:function(e){const t=e.getSource();const n=t.getModel("fieldsInfo");n.setProperty("/isOpen",true)},closeDialog:function(e){e.close();e.destroy()},messageHandlingForMassEdit:async function(e,t,n,o,i,r){var s,l,u,c;const d=a.DraftStatus;const g=f.getLibraryResourceBundle("sap.fe.core");(s=n.getView())===null||s===void 0?void 0:(l=s.getBindingContext("internal"))===null||l===void 0?void 0:l.setProperty("getBoundMessagesForMassEdit",true);n.messageHandler.showMessages({onBeforeShowMessage:function(o,a){a.fnGetMessageSubtitle=x.setMessageSubtitle.bind({},e,t);const s=[];o.forEach(function(e){if(!e.getTarget()){s.push(e)}});if(i.length>0&&r.length===0){n.editFlow.setDraftStatus(d.Saved);const e=g.getText("C_MASS_EDIT_SUCCESS_TOAST");p.show(e)}else if(r.length<e.getSelectedContexts().length){n.editFlow.setDraftStatus(d.Saved)}else if(r.length===e.getSelectedContexts().length){n.editFlow.setDraftStatus(d.Clear)}if(n.getModel("ui").getProperty("/isEditable")&&s.length===0){a.showMessageBox=false;a.showMessageDialog=false}return a}});if(o.isOpen()){var y,P;K.closeDialog(o);(y=n.getView())===null||y===void 0?void 0:(P=y.getBindingContext("internal"))===null||P===void 0?void 0:P.setProperty("skipPatchHandlers",false)}(u=n.getView())===null||u===void 0?void 0:(c=u.getBindingContext("internal"))===null||c===void 0?void 0:c.setProperty("getBoundMessagesForMassEdit",false)},getSideEffectDataForKey:function(e,t,n,o){const a=e.getProperty("$Type");const i={};o.forEach(e=>{const o=e.keyValue;const r=t.getSideEffectsService();const s=r.computeFieldGroupIds(a,e.propertyFullyQualifiedName??"")??[];i[o]=n._sideEffects.getSideEffectsMapForFieldGroups(s)});return i},fnGetPathForSourceProperty:function(e,t,n){const o=e.indexOf("/")>0?"/"+t+"/"+e.substr(0,e.lastIndexOf("/")+1)+"@sapui.name":false,a=!o?Promise.resolve(t):n.requestObject(o);e=o?e.substr(e.lastIndexOf("/")+1):e;return{sPath:e,pOwnerEntity:a,sNavigationPath:o}},fnGetEntityTypeOfOwner:function(e,t,n,o,a){const i=n.getProperty("$Type");const{$Type:r,$Partner:s}=e.getObject(`${n}/${t}`);if(s){const t=e.getObject(`/${r}/${s}`);if(t){const e=t["$Type"];if(e!==i){a.push(o)}}}else{a.push(o)}return a},fnGetTargetsForMassEdit:function(e,t,n,o){const{targetProperties:a,targetEntities:i}=e;const r=[];let s=[];const l=t.getProperty("$Type");if(n===l){i===null||i===void 0?void 0:i.forEach(e=>{e=e["$NavigationPropertyPath"];let n;if(e.includes("/")){n=e.split("/")[0]}else{n=e}s=K.fnGetEntityTypeOfOwner(o,n,t,e,s)})}if(a.length){a.forEach(e=>{const{pOwnerEntity:a}=K.fnGetPathForSourceProperty(e,n,o);r.push(a.then(n=>{if(n===l){s.push(e)}else if(e.includes("/")){const n=e.split("/")[0];s=K.fnGetEntityTypeOfOwner(o,n,t,e,s)}return Promise.resolve(s)}))})}else{r.push(Promise.resolve(s))}return Promise.all(r)},checkIfEntityExistsAsTargetEntity:(e,t)=>{const n=t.getProperty("$Type");const o=Object.values(e).filter(e=>e.name.indexOf(n)==-1);const a=t.getPath().split("/").pop();const i=o.filter(e=>{const t=e.sideEffects.targetEntities;return t!==null&&t!==void 0&&t.filter(e=>e["$NavigationPropertyPath"]===a).length?e:false});return i.length},handleMassEditFieldUpdateAndRequestSideEffects:async function(e){const{oController:n,oFieldPromise:o,sideEffectsMap:a,textPaths:i,groupId:r,key:s,oEntitySetContext:l,oMetaModel:c,oSelectedContext:d,deferredTargetsForAQualifiedName:p}=e;const f=[o];const g=l.getProperty("$Type");const y=t.getAppComponent(n.getView());const P=y.getSideEffectsService();const h=K.checkIfEntityExistsAsTargetEntity(a,l);if(a){const e=Object.keys(a);const t=Object.values(a);const o={};p[s]={};for(const[a,i]of t.entries()){const t=e[a];const y=t.split("#")[0];const P=n._sideEffects.getContextForSideEffects(d,y);i.context=P;const v=n._sideEffects.getRegisteredFailedRequests();const x=v[P.getPath()];n._sideEffects.unregisterFailedSideEffectsForAContext(P);let m=[i.sideEffects];m=x&&x.length?m.concat(x):m;o[P]={};for(const e of m){if(!o[P].hasOwnProperty(e.fullyQualifiedName)){o[P][e.fullyQualifiedName]=true;let t=[],a=[],i;const d=async function(e){const{targetProperties:n,targetEntities:o}=e;const r=e.fullyQualifiedName.split("@")[0];const d=await K.fnGetTargetsForMassEdit(e,l,r,c);t=d[0];a=(n||[]).concat(o||[]);const f=e.triggerAction;const y=a.filter(e=>!t.includes(e));p[s][e.fullyQualifiedName]={aTargets:y,oContext:P,mSideEffect:e};if(f&&r===g){const t=u._isStaticAction(c.getObject(`/${f}`),f);if(!t){i=f}else{p[s][e.fullyQualifiedName]["TriggerAction"]=f}}else{p[s][e.fullyQualifiedName]["TriggerAction"]=f}if(h){t=[]}return{aTargets:t,TriggerAction:i}};f.push(n._sideEffects.requestSideEffects(e,P,r,d))}}}}if(i!==null&&i!==void 0&&i[s]&&i[s].length){f.push(P.requestSideEffects(i[s],d,r))}return Promise.allSettled(f)},createDialog:async function(n,o,a){const r="sap/fe/core/controls/massEdit/MassEditDialog",s=[],l=f.getLibraryResourceBundle("sap.fe.core"),u=K.getDefaultTextsForDialog(l,o.length,n),p=K.prepareDataForDialog(n,o,s),h=K.getDialogContext(n),v=K.setRuntimeModelOnDialog(o,s,u,h),m=n.getModel(),E=m.getMetaModel(),b=new i(p.getData(),E);const O=P.loadTemplate(r,"fragment");const T=await Promise.resolve(y.process(O,{name:r},{bindingContexts:{dataFieldModel:b.createBindingContext("/"),metaModel:E.createBindingContext("/"),contextPath:E.createBindingContext(E.getMetaPath(h.getPath()))},models:{dataFieldModel:b,metaModel:E,contextPath:E}}));const M=await g.load({definition:T});const C=new d({resizable:true,title:u.massEditTitle,content:[M],afterOpen:K.onDialogOpen,beginButton:new c({text:K.helpers.getExpBindingForApplyButtonTxt(u,p.getObject("/")),type:"Emphasized",press:async function(i){var r,s;x.removeBoundTransitionMessages();x.removeUnboundTransitionMessages();(r=a.getView())===null||r===void 0?void 0:(s=r.getBindingContext("internal"))===null||s===void 0?void 0:s.setProperty("skipPatchHandlers",true);const l=t.getAppComponent(a.getView());const u=i.getSource().getParent();const c=u.getModel("fieldsInfo");const d=c.getProperty("/results");const p=n&&n.getModel().getMetaModel(),f=n.data("metaPath"),g=p.getContext(f);const y=[];const P=c.getProperty("/textPaths");const h=c.getProperty("/readablePropertyData");let v;let m;const E=[];const b={};const O=o.length;const T={};const M=K.getSideEffectDataForKey(g,l,a,d);o.forEach(function(t,n){m=[];d.forEach(async function(o){if(!b.hasOwnProperty(o.keyValue)){b[o.keyValue]=0}if(M[o.keyValue]){m[o.keyValue]=M[o.keyValue]}if(h){h.some(function(e){if(o.keyValue===e.property){if(e.type==="Default"){return e.value===true}else if(e.type==="Path"&&e.propertyValue&&e.propertyPath){return t.getObject(e.propertyPath)===e.propertyValue}}})}v=`$auto.${n}`;const i=t.setProperty(o.keyValue,o.value,v).catch(function(n){y.push(t.getObject());e.error("Mass Edit: Something went wrong in updating entries.",n);b[o.keyValue]=b[o.keyValue]+1;return Promise.reject({isFieldUpdateFailed:true})});const r={oController:a,oFieldPromise:i,sideEffectsMap:M[o.keyValue],textPaths:P,groupId:v,key:o.keyValue,oEntitySetContext:g,oMetaModel:p,oSelectedContext:t,deferredTargetsForAQualifiedName:T};E.push(K.handleMassEditFieldUpdateAndRequestSideEffects(r))})});await Promise.allSettled(E).then(async function(){v=`$auto.massEditDeferred`;const e=[];const t=Object.values(T);const n=Object.keys(T);t.forEach((t,o)=>{const i=n[o];if(b[i]!==O){const n=Object.values(t);n.forEach(t=>{const{aTargets:n,oContext:o,TriggerAction:i,mSideEffect:r}=t;const s=function(){return n};const l=function(){return{aTargets:s(),TriggerAction:i}};e.push(a._sideEffects.requestSideEffects(r,o,v,l))})}})}).then(function(){K.messageHandlingForMassEdit(n,o,a,u,d,y)}).catch(e=>{K.closeDialog(C);return Promise.reject(e)})}}),endButton:new c({text:u.cancelButtonText,visible:K.helpers.hasEditableFieldsBinding(p.getObject("/"),true),press:function(e){const t=e.getSource().getParent();K.closeDialog(t)}})});C.setModel(v,"fieldsInfo");C.setModel(m);C.setBindingContext(h);return C},helpers:{getBindingExpForHasEditableFields:(e,t)=>{const n=e.reduce((e,t)=>N(e,L("/values/"+t.dataProperty+"/visible","fieldsInfo")),Q(false));return t?n:U(n)},getExpBindingForApplyButtonTxt:(e,t)=>{const n=K.helpers.getBindingExpForHasEditableFields(t,true);const o=G(n,Q(e.applyButtonText),Q(e.okButtonText));return q(o)},hasEditableFieldsBinding:(e,t)=>q(K.helpers.getBindingExpForHasEditableFields(e,t))}};return K},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/MessageStrip", ["sap/fe/core/CommonUtils","sap/fe/core/helpers/ResourceModelHelper","sap/ui/core/Core","sap/ui/Device"],function(e,t,n,r){"use strict";var o=r.system;var s=t.getLocalizedText;function _(e,t,n,r){const o=n.getModel().getMetaModel(),_=e.map(function(e){if(e==="$search"){return r.getText("M_FILTERBAR_SEARCH")||""}if(e==="$editState"){return r.getText("FILTERBAR_EDITING_STATUS")||""}const _=o.getObject(`${t}${e}@com.sap.vocabularies.Common.v1.Label`);return s(_,n)});return _}function c(t,r,o){let s="";let _=[];const c=R();if(!c){return""}const u=e.getTargetView(r);const i=u.getController().getChartControl();const L=i.data("draftSupported")==="true";const l=n.getLibraryResourceBundle("sap.fe.macros");o=o&&t.includes(l.getText("M_FILTERBAR_SEARCH"));const g=`C_LR_MULTIVIZ_CHART_${a(t)}_IGNORED_FILTER_${T()}`;if(L&&(t.length===2&&o||t.length===1)){s=t.length===1?"C_MULTIVIZ_CHART_IGNORED_FILTER_DRAFT_DATA":"C_LR_MULTIVIZ_CHART_IGNORED_FILTER_DRAFT_DATA_AND_SEARCH"}else{s=g;_=[t.join(", ")]}return c.getText(s,_)}function u(e,t,n){const r=R();return r?r.getText(`C_LR_MULTITABLES_${a(e)}_IGNORED_FILTER_${T()}`,[e.join(", "),s(n,t)]):""}function T(){return o.desktop?"LARGE":"SMALL"}function a(e){return e.length===1?"SINGLE":"MULTI"}function R(){return n.getLibraryResourceBundle("sap.fe.templates")}const i={getALPText:c,getText:u,getLabels:_};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/MetaModelFunction", ["sap/fe/core/converters/helpers/IssueManager","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/type/EDM"],function(e,t,r,i){"use strict";var o={};var n=i.isTypeFilterable;var s=t.pathInModel;var a=t.or;var l=t.not;var c=t.compileExpression;var u=e.IssueSeverity;var p=e.IssueCategoryType;var g=e.IssueCategory;function d(e,t){let i;let o;const n="$NavigationPropertyBinding";const s="@Org.OData.Capabilities.V1.SearchRestrictions";const a=e.replaceAll("%2F","/").split("/").filter(r.filterOutNavPropBinding);const l=r.getEntitySetPath(e,t);const c=l.split("/").filter(r.filterOutNavPropBinding);const u=t.getObject(`/${a.join("/")}/$ContainsTarget`)?true:false;const p=u?a[a.length-1]:"";if(!u){i=t.getObject(`${l}${s}`)}if(a.length>1){const e=u?p:c[c.length-1];const r=u?l:`/${c.slice(0,-1).join(`/${n}/`)}`;const i=U.getNavigationRestrictions(t,r,e.replaceAll("%2F","/"));o=i===null||i===void 0?void 0:i.SearchRestrictions}return o??i}o.getSearchRestrictions=d;function f(e,t,r){const i=e.getObject(`${t}@Org.OData.Capabilities.V1.NavigationRestrictions`);const o=i===null||i===void 0?void 0:i.RestrictedProperties;return o===null||o===void 0?void 0:o.find(function(e){var t;return((t=e.NavigationProperty)===null||t===void 0?void 0:t.$NavigationPropertyPath)===r})}o.getNavigationRestrictions=f;function v(e,t,r){let i=false;const o=e.getObject(`${t}@Org.OData.Capabilities.V1.FilterRestrictions`);if(o!==null&&o!==void 0&&o.NonFilterableProperties){i=o.NonFilterableProperties.some(function(e){return e.$NavigationPropertyPath===r||e.$PropertyPath===r})}return i}function P(e,t,r){let i=false;const o=e.getObject(t+"@Org.OData.Aggregation.V1.ApplySupported")?true:false;if(o){const o=e.getObject(`${t}@`);const n=U.getAllCustomAggregates(o);const s=n?Object.keys(n):undefined;if(s!==null&&s!==void 0&&s.includes(r)){i=true}}return i}o.isCustomAggregate=P;function b(e,t,r,i){let o=e.split("/").length===2&&!r.includes("/")?!v(t,e,r)&&!P(t,e,r):!h(t,e,r);if(o&&i){const e=$(i);if(e){o=e?n(e):false}else{o=false}}return o}function h(e,t,r){const i=`${t}/${r}`,o=i.split("/").splice(0,2),n=i.split("/").splice(2);let s=false,a="";t=o.join("/");s=n.some(function(r,i,o){if(a.length>0){a+=`/${r}`}else{a=r}if(i===o.length-2){const i=U.getNavigationRestrictions(e,t,r);const n=i===null||i===void 0?void 0:i.FilterRestrictions;const s=n===null||n===void 0?void 0:n.NonFilterableProperties;const a=o[o.length-1];if(s!==null&&s!==void 0&&s.find(function(e){return e.$PropertyPath===a})){return true}}if(i===o.length-1){s=v(e,t,a)}else if(e.getObject(`${t}/$NavigationPropertyBinding/${r}`)){s=v(e,t,a);a="";t=`/${e.getObject(`${t}/$NavigationPropertyBinding/${r}`)}`}return s});return s}function $(e){let t=e.getProperty("$Type");if(!e.getProperty("$kind")){switch(t){case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":t=undefined;break;case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":t=e.getProperty("Value/$Path/$Type");break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":default:const r=e.getProperty("Target/$AnnotationPath");if(r){if(r.includes("com.sap.vocabularies.Communication.v1.Contact")){t=e.getProperty("Target/$AnnotationPath/fn/$Path/$Type")}else if(r.includes("com.sap.vocabularies.UI.v1.DataPoint")){t=e.getProperty("Value/$Path/$Type")}else{t=undefined}}else{t=undefined}break}}return t}function y(e,t,r,i){if(typeof r!=="string"){throw new Error("sProperty parameter must be a string")}if(e.getObject(`${t}/@com.sap.vocabularies.Common.v1.ResultContext`)===true){return true}const o=e.createBindingContext(`${t}/${r}`);if(o&&!i){if(o.getProperty("@com.sap.vocabularies.UI.v1.Hidden")===true||o.getProperty("@com.sap.vocabularies.UI.v1.HiddenFilter")===true){return false}const e=o.getProperty("@com.sap.vocabularies.UI.v1.Hidden/$Path");const t=o.getProperty("@com.sap.vocabularies.UI.v1.HiddenFilter/$Path");if(e&&t){return c(l(a(s(e),s(t))))}else if(e){return c(l(s(e)))}else if(t){return c(l(s(t)))}}return b(t,e,r,o)}o.isPropertyFilterable=y;function R(e,t,r){const i=e.getObject(`${t}/`).$Key;const o=[];const n=[];const s=e.getObject(`${t}/`);for(const a in s){if(s[a].$kind&&s[a].$kind==="Property"){const l=e.getObject(`${t}/${a}@`)||{},c=i.includes(a),d=l["@Org.OData.Core.V1.Immutable"],f=!l["@Org.OData.Core.V1.Computed"],v=!l["@com.sap.vocabularies.UI.v1.Hidden"],P=l["@Org.OData.Core.V1.ComputedDefaultValue"],b=c&&s[a].$Type==="Edm.Guid"?P&&l["@com.sap.vocabularies.Common.v1.Text"]:false;if((b||c&&s[a].$Type!=="Edm.Guid")&&f&&v){o.push(a)}else if(d&&f&&v){n.push(a)}if(!f&&P&&r){const e=r.getDiagnostics();const t="Core.ComputedDefaultValue is ignored as Core.Computed is already set to true";e.addIssue(g.Annotation,u.Medium,t,p,p.Annotations.IgnoredAnnotation)}}}const a=U.getRequiredPropertiesFromInsertRestrictions(t,e);if(a.length){a.forEach(function(r){const i=e.getObject(`${t}/${r}@`),s=!(i!==null&&i!==void 0&&i["@com.sap.vocabularies.UI.v1.Hidden"]);if(s&&!o.includes(r)&&!n.includes(r)){o.push(r)}})}return o.concat(n)}o.getNonComputedVisibleFields=R;function m(e,t){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const o=[];let n=[];const s="$NavigationPropertyBinding";let a=null;if(e.endsWith("$")){e=e.replace("/$","")}const l=e.replaceAll("%2F","/").split("/").filter(r.filterOutNavPropBinding);const c=r.getEntitySetPath(e,t);const u=c.split("/").filter(r.filterOutNavPropBinding);const p=t.getObject(`/${l.join("/")}/$ContainsTarget`)?true:false;const g=p?l[l.length-1]:"";if(!p){a=t.getObject(`${c}@`)}if(l.length>1){const e=p?g:u[u.length-1];const r=p?c:`/${u.slice(0,-1).join(`/${s}/`)}`;const o=U.getNavigationRestrictions(t,r,e.replaceAll("%2F","/"));if(o!==undefined&&U.hasRestrictedPropertiesInAnnotations(o,true,i)){var d,f;n=i?((d=o.UpdateRestrictions)===null||d===void 0?void 0:d.RequiredProperties)??[]:((f=o.InsertRestrictions)===null||f===void 0?void 0:f.RequiredProperties)??[]}if(!n.length&&U.hasRestrictedPropertiesInAnnotations(a,false,i)){n=U.getRequiredPropertiesFromAnnotations(a,i)}}else if(U.hasRestrictedPropertiesInAnnotations(a,false,i)){n=U.getRequiredPropertiesFromAnnotations(a,i)}n.forEach(function(e){const t=e.$PropertyPath;o.push(t)});return o}function O(e,t){return U.getRequiredProperties(e,t)}o.getRequiredPropertiesFromInsertRestrictions=O;function I(e,t){return U.getRequiredProperties(e,t,true)}o.getRequiredPropertiesFromUpdateRestrictions=I;function F(e){var t;let r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(r){var i;return(e===null||e===void 0?void 0:(i=e["@Org.OData.Capabilities.V1.UpdateRestrictions"])===null||i===void 0?void 0:i.RequiredProperties)??[]}return(e===null||e===void 0?void 0:(t=e["@Org.OData.Capabilities.V1.InsertRestrictions"])===null||t===void 0?void 0:t.RequiredProperties)??[]}function C(e){var t;let r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(r){var o;const t=e;if(i){var n;return t!==null&&t!==void 0&&(n=t.UpdateRestrictions)!==null&&n!==void 0&&n.RequiredProperties?true:false}return t!==null&&t!==void 0&&(o=t.InsertRestrictions)!==null&&o!==void 0&&o.RequiredProperties?true:false}else if(i){var s;const t=e;return t!==null&&t!==void 0&&(s=t["@Org.OData.Capabilities.V1.UpdateRestrictions"])!==null&&s!==void 0&&s.RequiredProperties?true:false}const a=e;return a!==null&&a!==void 0&&(t=a["@Org.OData.Capabilities.V1.InsertRestrictions"])!==null&&t!==void 0&&t.RequiredProperties?true:false}function A(e){const t={};let r;for(const i in e){if(i.startsWith("@Org.OData.Aggregation.V1.CustomAggregate")){r=i.replace("@Org.OData.Aggregation.V1.CustomAggregate#","");const o=r.split("@");if(o.length==2){const r={};if(o[1]=="Org.OData.Aggregation.V1.ContextDefiningProperties"){r.contextDefiningProperties=e[i]}if(o[1]=="com.sap.vocabularies.Common.v1.Label"){r.label=e[i]}t[o[0]]=r}else if(o.length==1){t[o[0]]={name:o[0],propertyPath:o[0],label:`Custom Aggregate (${r})`,sortable:true,sortOrder:"both",custom:true}}}}return t}o.getAllCustomAggregates=A;function D(e){const t={sortable:true,propertyInfo:{}};const r=e["@Org.OData.Capabilities.V1.SortRestrictions"];if(!r){return t}if(r.Sortable===false){t.sortable=false}for(const e of r.NonSortableProperties||[]){const r=e.$PropertyPath;t.propertyInfo[r]={sortable:false}}for(const e of r.AscendingOnlyProperties||[]){const r=e.$PropertyPath;t.propertyInfo[r]={sortable:true,sortDirection:"asc"}}for(const e of r.DescendingOnlyProperties||[]){const r=e.$PropertyPath;t.propertyInfo[r]={sortable:true,sortDirection:"desc"}}return t}o.getSortRestrictionsInfo=D;function N(e){let t,r;const i={filterable:true,requiresFilter:(e===null||e===void 0?void 0:e.RequiresFilter)||false,propertyInfo:{},requiredProperties:[]};if(!e){return i}if(e.Filterable===false){i.filterable=false}if(e.RequiredProperties){for(t=0;t<e.RequiredProperties.length;t++){r=e.RequiredProperties[t].$PropertyPath;i.requiredProperties.push(r)}}if(e.NonFilterableProperties){for(t=0;t<e.NonFilterableProperties.length;t++){r=e.NonFilterableProperties[t].$PropertyPath;i.propertyInfo[r]={filterable:false}}}if(e.FilterExpressionRestrictions){for(t=0;t<e.FilterExpressionRestrictions.length;t++){var o;r=(o=e.FilterExpressionRestrictions[t].Property)===null||o===void 0?void 0:o.$PropertyPath;if(r){i.propertyInfo[r]={filterable:true,allowedExpressions:e.FilterExpressionRestrictions[t].AllowedExpressions}}}}return i}o.getFilterRestrictionsInfo=N;function q(e){let t=true;switch(e){case"SearchExpression":case"SingleRange":case"SingleValue":t=false;break;default:break}return t}o.isMultiValueFilterExpression=q;const U={getRequiredProperties:m,getRequiredPropertiesFromAnnotations:F,hasRestrictedPropertiesInAnnotations:C,getRequiredPropertiesFromInsertRestrictions:O,getNavigationRestrictions:f,getAllCustomAggregates:A};o.METAMODEL_FUNCTIONS=U;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/ModelHelper", ["sap/base/util/UriParameters","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards"],function(t,e,n){"use strict";var o=n.isEntitySet;var i=e.getInvolvedDataModelObjects;const r={isStickySessionSupported:function(t){const e=t.getObject("/");for(const n in e){if(e[n].$kind==="EntitySet"&&t.getObject(`/${n}@com.sap.vocabularies.Session.v1.StickySessionSupported`)){return true}}return false},isDraftSupported:function(t,e){const n=t.getMetaContext(e);const o=i(n);return this.isObjectPathDraftSupported(o)},isObjectPathDraftSupported:function(t){var e,n,o,i,a,s,d;const u=t.targetEntitySet;const l=r.isDraftRoot(u);const c=r.isDraftNode(u);const g=(e=t.targetObject)!==null&&e!==void 0&&e.containsTarget&&((n=t.startingEntitySet)!==null&&n!==void 0&&(o=n.annotations)!==null&&o!==void 0&&(i=o.Common)!==null&&i!==void 0&&i.DraftRoot||(a=t.startingEntitySet)!==null&&a!==void 0&&(s=a.annotations)!==null&&s!==void 0&&(d=s.Common)!==null&&d!==void 0&&d.DraftNode)?true:false;return l||c||!u&&g},isCollaborationDraftSupported:function(e,n){if(t.fromQuery(window.location.search).get("sap-fe-xx-enableCollaborationDraft")==="true"){var o;const t=(n===null||n===void 0?void 0:(o=n.context)===null||o===void 0?void 0:o.getModel())||e;const i=t.getObject("/");for(const e in i){if(i[e].$kind==="EntitySet"&&t.getObject(`/${e}@com.sap.vocabularies.Common.v1.DraftRoot/ShareAction`)){return true}}}return false},getDraftRootPath:function(t){const n=t.getModel().getMetaModel();const o=function(t,i){var r;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const s=a?t:(r=new RegExp(/.*(?=\/)/).exec(t))===null||r===void 0?void 0:r[0];if(s&&s!=="/"){var d,u;const t=n.getMetaPath(s);const r=e.getInvolvedDataModelObjects(n.getContext(t));if((d=r.targetEntitySet)!==null&&d!==void 0&&(u=d.annotations.Common)!==null&&u!==void 0&&u.DraftRoot){return s}return o(s,i,false)}return undefined};return o(t.getPath(),t.getModel())},getStickyRootPath:function(t){const n=t.getModel().getMetaModel();const o=function(t,i){var r;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const s=a?t:(r=new RegExp(/.*(?=\/)/).exec(t))===null||r===void 0?void 0:r[0];if(s&&s!=="/"){var d,u,l;const t=n.getMetaPath(s);const r=e.getInvolvedDataModelObjects(n.getContext(t));if((d=r.targetEntitySet)!==null&&d!==void 0&&(u=d.annotations)!==null&&u!==void 0&&(l=u.Session)!==null&&l!==void 0&&l.StickySessionSupported){return s}return o(s,i,false)}return undefined};return o(t.getPath(),t.getModel())},getTargetEntitySet:function(t){const e=t.getPath();if(t.getObject("$kind")==="EntitySet"||t.getObject("$kind")==="Action"||t.getObject("0/$kind")==="Action"){return e}const n=r.getEntitySetPath(e);return`/${t.getObject(n)}`},getEntitySetPath:function(t,e){let n="";if(!e){n=`/${t.split("/").filter(r.filterOutNavPropBinding).join("/$NavigationPropertyBinding/")}`}else{const o=t.split("/").filter(r.filterOutNavPropBinding);if(o.length>1){const t={growingPath:"/",pendingNavPropBinding:""};const i=o.reduce((t,n,o)=>{const i=!!o&&"/$NavigationPropertyBinding/"||"";let{growingPath:r,pendingNavPropBinding:a}=t;const s=r+i;const d=e.getObject(s);const u=a?`${a}/${n}`:n;if(d&&Object.keys(d).length>0&&d.hasOwnProperty(u)){r=s+u.replace("/","%2F");a=""}else{a+=a?`/${n}`:n}return{growingPath:r,pendingNavPropBinding:a}},t);n=i.growingPath}else{n=`/${o[0]}`}}return n},getActionParameterItemsModelPath:function(t){return t&&t.$Name?`{path: 'mvfview>/${t.$Name}'}`:undefined},filterOutNavPropBinding:function(t){return t!==""&&t!=="$NavigationPropertyBinding"},enhanceInternalJSONModel:function(t){const e=t.bindContext;t.bindContext=function(t,n,o){for(var i=arguments.length,r=new Array(i>3?i-3:0),a=3;a<i;a++){r[a-3]=arguments[a]}n=e.apply(this,[t,n,o,...r]);const s=n.getBoundContext;n.getBoundContext=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++){e[n]=arguments[n]}const o=s.apply(this,...e);if(o&&!o.setProperty){o.setProperty=function(t,e){if(this.getObject()===undefined){this.getModel().setProperty(this.getPath(),{})}this.getModel().setProperty(t,e,this)}}return o};return n}},enhanceUiJSONModel:function(t,e){const n=t.setProperty;t.setProperty=function(){for(var o=arguments.length,i=new Array(o),r=0;r<o;r++){i[r]=arguments[r]}const a=i[1];if(i[0]==="/isEditable"){t.setProperty("/editMode",a?e.EditMode.Editable:e.EditMode.Display,i[2],i[3])}return n.apply(this,[...i])}},isFilteringCaseSensitive:function(t){if(!t){return undefined}const e=t.getObject("/@Org.OData.Capabilities.V1.FilterFunctions");return e?e.indexOf("tolower")===-1:true},getMetaPathForContext:function(t){const e=t.getModel(),n=e.getMetaModel(),o=t.getPath();return n&&o&&n.getMetaPath(o)},getRootEntitySetPath:function(t){let e="";const n=t?t.split("/"):[];if(n.length>1){e=n[1]}return e},getAbsoluteMetaPathForListBinding:function(t,e){const n=t.getModel().getMetaModel();let o;if(typeof e==="string"){if(e.startsWith("/")){o=n.getMetaPath(e)}else{const i=t.getBindingContext();const r=i.getPath();o=n.getMetaPath(`${r}/${e}`)}}else{const t=e;const i=t.getRootBinding();if(t===i){o=n.getMetaPath(t.getPath())}else{const e=i.getPath();const r=t.getPath();o=n.getMetaPath(`${e}/${r}`)}}return o},isDraftRoot:function(t){return this.getDraftRoot(t)!==undefined},isDraftNode:function(t){return this.getDraftNode(t)!==undefined},isSticky:function(t){return this.getStickySession(t)!==undefined},isUpdateHidden:function(t,e){if(o(t)){var n,i;return((n=t.annotations.UI)===null||n===void 0?void 0:n.UpdateHidden)??(e===null||e===void 0?void 0:(i=e.annotations.UI)===null||i===void 0?void 0:i.UpdateHidden)??false}else{return false}},getDraftRoot:function(t){var e;return o(t)?(e=t.annotations.Common)===null||e===void 0?void 0:e.DraftRoot:undefined},getDraftNode:function(t){var e;return o(t)?(e=t.annotations.Common)===null||e===void 0?void 0:e.DraftNode:undefined},getStickySession:function(t){var e;return o(t)?(e=t.annotations.Session)===null||e===void 0?void 0:e.StickySessionSupported:undefined},getDeleteHidden:function(t,e){if(o(t)){var n,i;return((n=t.annotations.UI)===null||n===void 0?void 0:n.DeleteHidden)??((i=e.annotations.UI)===null||i===void 0?void 0:i.DeleteHidden)}else{return false}}};return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/PasteHelper", ["sap/base/Log","sap/m/MessageBox","sap/ui/core/Core","sap/ui/core/util/PasteHelper"],function(e,t,r,n){"use strict";const o=function(e,t,r,n){const o=r.getProperty(e),s={parseKeepsEmptyString:true},i=n.getUI5Type(`${t}/${e}`,s),a=!o||r.getProperty(`${e}@Org.OData.Core.V1.Computed`);return{property:e,ignore:a,type:i}};const s=function(e){const n=[...e];const o=r.getLibraryResourceBundle("sap.fe.core"),s=o.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_CORRECTION_MESSAGE"),i=o.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_CORRECTION_NOTE");let a;if(n.length>1){a=o.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_MESSAGE_PLURAL",[n.length])}else{a=o.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_MESSAGE_SINGULAR")}n.unshift("");n.unshift(i);n.unshift(s);t.error(a,{title:o.getText("C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_TITLE_ERROR"),details:n.join("<br>")})};const i={displayErrorMessages:s,formatCustomMessage:function(e,t){let n="";const o=e.length;const s=r.getLibraryResourceBundle("sap.fe.core"),i=s.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW");if(o>0){n+=`${i} ${t}: `;e.forEach((e,t)=>{if(e.messageText){n+=e.messageText+(t+1!==o?" ":"")}})}return n},getColumnInfo:function(e){const t=e.getRowBinding().getModel(),r=t.getMetaModel(),n=t.resolve(e.getRowBinding().getPath(),e.getRowBinding().getContext()),o=r.getMetaContext(n);return e.getControlDelegate().fetchProperties(e).then(t=>{const s=Object.assign({},...t.map(e=>({[e.name]:e})));const i=[];e.getColumns().forEach(e=>{const t=s[e.getDataProperty()];if(t.propertyInfos){t.propertyInfos.forEach(e=>{const t=s[e];if(t.exportSettings!==null){if(e.indexOf("/")>-1){i.push({property:t.path,ignore:true})}else{i.push(this.getInfoForEntityProperty(t.path,n,o,r))}}});if(t.exportDataPointTargetValue){i.push({property:"targetValueFromDataPoint",ignore:true})}}else if(t.exportSettings!==null){if(t.path){i.push(this.getInfoForEntityProperty(t.path,n,o,r))}else{i.push({property:"unused",type:null,ignore:true})}}});return i})},getInfoForEntityProperty:o,parsePastedData:function(e,t){return this.getColumnInfo(t).then(function(t){const r=e.length?e[0].length:0;let o=-1;for(let e=0;e<t.length&&o<0;e++){if(!t[e].ignore){o=e}}return o<0||o>r-1?Promise.resolve({}):n.parse(e,t)}).then(e=>{if(e.errors){const t=e.errors.map(function(e){return e.message});this.displayErrorMessages(t);return[]}else{return e.parsedData?e.parsedData:[]}})},pasteData:function(t,r,n){const o=n.editFlow;const s=r.getParent().getTableDefinition();let i=[];return this.parsePastedData(t,r).then(e=>{i=e||[];return Promise.all(i.map(e=>{var t;return o.validateDocument(r.getBindingContext(),{data:e,customValidationFunction:s===null||s===void 0?void 0:(t=s.control)===null||t===void 0?void 0:t.customValidationFunction})}))}).then(e=>{const t=e.reduce(function(e,t,r){if(t.length>0){e.push({messages:t,row:r+1})}return e},[]);if(t.length>0){const e=t.map(e=>this.formatCustomMessage(e.messages,e.row));this.displayErrorMessages(e);return[]}return i}).then(e=>{var t;return e.length>0?o.createMultipleDocuments(r.getRowBinding(),e,s===null||s===void 0?void 0:(t=s.control)===null||t===void 0?void 0:t.createAtEnd,true,n.editFlow.onBeforeCreate):undefined}).catch(t=>{e.error("Error while pasting data",t)})}};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/ResourceModelHelper", ["sap/base/Log"],function(e){"use strict";var t={};function o(e){if(e.isA("sap.ui.core.mvc.Controller")||e.isA("sap.ui.core.mvc.ControllerExtension")){var t;return(t=e.getView())===null||t===void 0?void 0:t.getModel("sap.fe.i18n")}else{return e.getModel("sap.fe.i18n")}}t.getResourceModel=o;function n(t,o){const n=/{([A-Za-z0-9_.|@]+)>([A-Za-z0-9_.|]+)}/.exec(t);if(n){try{const e=o.getModel(n[1]).getResourceBundle();return e.getText(n[2])}catch(o){e.info(`Unable to retrieve localized text ${t}`)}}return t}t.getLocalizedText=n;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/SemanticDateOperators", ["sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/Operator","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/ValidateException"],function(e,t,a,o,r){"use strict";const n=["DATE","FROM","TO","DATERANGE"];const s="DYNAMIC.DATE";const T="FIXED.DATE";const l="DYNAMIC.DATE.INT";const i="DYNAMIC.DATERANGE";const c="DYNAMIC.MONTH";const u="FIXED.WEEK";const E="FIXED.MONTH";const y="FIXED.QUARTER";const A="FIXED.YEAR";const p="DYNAMIC.WEEK.INT";const R="DYNAMIC.MONTH.INT";const O="DYNAMIC.QUARTER.INT";const f="DYNAMIC.YEAR.INT";const g="DYNAMIC.MINUTE.INT";const d="DYNAMIC.HOUR.INT";const D={EQ:{key:"EQ",category:s},BT:{key:"BT",category:i}};const S={DATE:{key:"DATE",category:s},FROM:{key:"FROM",category:s},TO:{key:"TO",category:s},DATERANGE:{key:"DATERANGE",category:i},SPECIFICMONTH:{key:"SPECIFICMONTH",category:c},TODAY:{key:"TODAY",category:T},TODAYFROMTO:{key:"TODAYFROMTO",category:l},YESTERDAY:{key:"YESTERDAY",category:T},TOMORROW:{key:"TOMORROW",category:T},LASTDAYS:{key:"LASTDAYS",category:l},NEXTDAYS:{key:"NEXTDAYS",category:l},THISWEEK:{key:"THISWEEK",category:u},LASTWEEK:{key:"LASTWEEK",category:u},LASTWEEKS:{key:"LASTWEEKS",category:p},NEXTWEEK:{key:"NEXTWEEK",category:u},NEXTWEEKS:{key:"NEXTWEEKS",category:p},THISMONTH:{key:"THISMONTH",category:E},LASTMONTH:{key:"LASTMONTH",category:E},LASTMONTHS:{key:"LASTMONTHS",category:R},NEXTMONTH:{key:"NEXTMONTH",category:E},NEXTMONTHS:{key:"NEXTMONTHS",category:R},THISQUARTER:{key:"THISQUARTER",category:y},LASTQUARTER:{key:"LASTQUARTER",category:y},LASTQUARTERS:{key:"LASTQUARTERS",category:O},NEXTQUARTER:{key:"NEXTQUARTER",category:y},NEXTQUARTERS:{key:"NEXTQUARTERS",category:O},QUARTER1:{key:"QUARTER1",category:y},QUARTER2:{key:"QUARTER2",category:y},QUARTER3:{key:"QUARTER3",category:y},QUARTER4:{key:"QUARTER4",category:y},THISYEAR:{key:"THISYEAR",category:A},LASTYEAR:{key:"LASTYEAR",category:A},LASTYEARS:{key:"LASTYEARS",category:f},NEXTYEAR:{key:"NEXTYEAR",category:A},NEXTYEARS:{key:"NEXTYEARS",category:f},LASTMINUTES:{key:"LASTMINUTES",category:g},NEXTMINUTES:{key:"NEXTMINUTES",category:g},LASTHOURS:{key:"LASTHOURS",category:d},NEXTHOURS:{key:"NEXTHOURS",category:d},YEARTODATE:{key:"YEARTODATE",category:A},DATETOYEAR:{key:"DATETOYEAR",category:A}};function M(){return new t({name:"DATERANGE",filterOperator:o.BT,alias:{Date:"DATERANGE",DateTime:"DATERANGE"},valueTypes:[{name:"sap.ui.model.odata.type.Date"},{name:"sap.ui.model.odata.type.Date"}],getModelFilter:function(e,t,a){return Y.getModelFilterForDateRange(e,t,a,this)},validate:function(e,a){if(e.length<2){throw new r("Date Range must have two values")}else{const t=new Date(e[0]);const a=new Date(e[1]);if(t.getTime()>a.getTime()){throw new r("From Date Should Be Less Than To Date")}}t.prototype.validate.apply(this,[e,a])}})}function N(){return new t({name:"DATE",alias:{Date:"DATE",DateTime:"DATE"},filterOperator:o.EQ,valueTypes:[{name:"sap.ui.model.odata.type.Date"}],getModelFilter:function(e,t,a){return Y.getModelFilterForDate(e,t,a,this)}})}function m(){return new t({name:"FROM",alias:{Date:"FROM",DateTime:"FROM"},filterOperator:o.GE,valueTypes:[{name:"sap.ui.model.odata.type.Date"}],getModelFilter:function(e,t,a){return Y.getModelFilterForFrom(e,t,a,this)}})}function F(){return new t({name:"TO",alias:{Date:"TO",DateTime:"TO"},filterOperator:o.LE,valueTypes:[{name:"sap.ui.model.odata.type.Date"}],getModelFilter:function(e,t,a){return Y.getModelFilterForTo(e,t,a,this)}})}function k(e,t){if(!t){return true}t=Array.isArray(t)?t:[t];let a;t.some(function(t){let o;if(!t.path){return false}const r=e[t.path];const n=t.exclude||false;let s;if(t.contains&&r){s=t.contains.split(",");a=n;for(o=0;o<s.length;o++){if(n&&r.indexOf(s[o])>-1){a=false;return true}else if(!n&&r.indexOf(s[o])>-1){a=true;return true}}}if(t.equals&&r){s=t.equals.split(",");a=n;for(o=0;o<s.length;o++){if(n&&r===s[o]){a=false;return true}else if(!n&&r===s[o]){a=true;return true}}}return false});return a}function I(e){return e==="Edm.DateTimeOffset"?Object.assign({},S,D):S}const Y={addSemanticDateOperators:function(){e.addOperator(M());e.addOperator(N());e.addOperator(m());e.addOperator(F())},getSupportedOperations:function(){return n},getSemanticDateOperations:function(e){const t=I(e);return Object.keys(t)},removeSemanticDateOperators:function(){},getFilterOperations:function(e,t){const a=[];const o=I(t);for(const t in o){const r=o[t];if(k(r,e)){a.push(r)}}return a.map(function(e){return e.key})},hasSemanticDateOperations:function(e){const t=this.getSemanticDateOperations();for(const a in e){const o=e[a];const r=o.find(function(e){return t.indexOf(e.operator)>-1});if(r){return false}}return true},getModelFilterForDate:function(e,t,r,n){if(r.isA("sap.ui.model.odata.type.DateTimeOffset")){const s=n._createLocalType(n.valueTypes[0]);let T=e.values[0];const l=s.getModelFormat();const i=l.parse(T,false);T=r.getModelValue(i);i.setHours(23);i.setMinutes(59);i.setSeconds(59);i.setMilliseconds(999);const c=r.getModelValue(i);return new a({path:t,operator:o.BT,value1:T,value2:c})}else{return new a({path:t,operator:n.filterOperator,value1:e.values[0]})}},getModelFilterForTo:function(e,t,r,n){if(r.isA("sap.ui.model.odata.type.DateTimeOffset")){const s=n._createLocalType(n.valueTypes[0]);const T=e.values[0];const l=s.getModelFormat();const i=l.parse(T,false);i.setHours(23);i.setMinutes(59);i.setSeconds(59);i.setMilliseconds(999);const c=r.getModelValue(i);return new a({path:t,operator:o.LE,value1:c})}else{return new a({path:t,operator:n.filterOperator,value1:e.values[0]})}},getModelFilterForFrom:function(e,t,r,n){if(r.isA("sap.ui.model.odata.type.DateTimeOffset")){const s=n._createLocalType(n.valueTypes[0]);const T=e.values[0];const l=s.getModelFormat();const i=l.parse(T,false);i.setHours(0);i.setMinutes(0);i.setSeconds(0);i.setMilliseconds(0);const c=r.getModelValue(i);return new a({path:t,operator:o.GE,value1:c})}else{return new a({path:t,operator:n.filterOperator,value1:e.values[0]})}},getModelFilterForDateRange:function(e,t,r,n){if(r.isA("sap.ui.model.odata.type.DateTimeOffset")){let s=n._createLocalType(n.valueTypes[0]);let T=e.values[0];let l=s.getModelFormat();let i=l.parse(T,false);T=r.getModelValue(i);s=n._createLocalType(n.valueTypes[1]);l=s.getModelFormat();let c=e.values[1];i=l.parse(c,false);i.setHours(23);i.setMinutes(59);i.setSeconds(59);i.setMilliseconds(999);c=r.getModelValue(i);return new a({path:t,operator:o.BT,value1:T,value2:c})}else{return new a({path:t,operator:n.filterOperator,value1:e.values[0],value2:e.values[1]})}}};return Y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/SemanticKeyHelper", ["sap/base/Log"],function(e){"use strict";const t={getSemanticKeys:function(e,t){return e.getObject(`/${t}/@com.sap.vocabularies.Common.v1.SemanticKey`)},getSemanticObjectInformation:function(e,t){const n=e.getObject(`/${t}/@com.sap.vocabularies.Common.v1.SemanticObject`);const i=this.getSemanticKeys(e,t);return{semanticObject:n,semanticKeys:i}},getSemanticPath:function(t){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const i=t.getModel().getMetaModel(),a=i.getMetaContext(t.getPath()).getObject("@sapui.name"),o=this.getSemanticObjectInformation(i,a);let c,s;if(t.isA("sap.ui.model.odata.v4.ODataListBinding")&&t.isRelative()){c=t.getHeaderContext().getPath()}else{c=t.getPath()}if(this._isPathForSemantic(c)&&o.semanticKeys){const n=o.semanticKeys,c=i.getObject(`/${i.getObject(`/${a}`).$Type}`);try{const e=n.map(function(e){const i=e.$PropertyPath;let a=t.getProperty(i);if(a===undefined||a===null){throw new Error(`Couldn't resolve semantic key value for ${i}`)}else{if(c[i].$Type==="Edm.String"){a=`'${encodeURIComponent(a)}'`}if(n.length>1){a=`${i}=${a}`}return a}}).join(",");s=`/${a}(${e})`}catch(t){e.info(t)}}return n?s:s||c},_isPathForSemantic:function(e){return/^[^()]+\([^()]+\)$/.test(e)}};return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/SizeHelper", ["sap/m/Button","sap/ui/core/Core","sap/ui/dom/units/Rem"],function(t,i,n){"use strict";const e={calls:0,hiddenButton:undefined,init:function(){this.calls++;this.hiddenButton=this.hiddenButton?this.hiddenButton:(new t).placeAt(i.getStaticAreaRef());this.hiddenButton.setVisible(false)},getButtonWidth:function(t){var i;if(!t||!this.hiddenButton){return 0}this.hiddenButton.setVisible(true);this.hiddenButton.setText(t);this.hiddenButton.rerender();const e=n.fromPx((i=this.hiddenButton.getDomRef())===null||i===void 0?void 0:i.scrollWidth);this.hiddenButton.setVisible(false);return Math.round(e*100)/100},exit:function(){this.calls--;if(this.calls===0){var t;(t=this.hiddenButton)===null||t===void 0?void 0:t.destroy();this.hiddenButton=undefined}}};return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/StableIdHelper", [],function(){"use strict";var e={};const a=e=>{var a;const t=[e.SemanticObject.valueOf(),(a=e.Action)===null||a===void 0?void 0:a.valueOf()];if(e.RequiresContext){t.push("RequiresContext")}return t.filter(e=>e).join("::")};const t=e=>{const a=e.Value;if(a.path){return a.path}else if(a.Apply&&a.Function==="odata.concat"){return a.Apply.map(e=>e.$Path).join("::")}return l(a.replace(/ /g,"_"))};const i=e=>/^([A-Za-z_][-A-Za-z0-9_.:]*)$/.test(e);const r=e=>{e=e.replace("com.sap.vocabularies.UI.v1.","");e=e.replace("com.sap.vocabularies.Communication.v1.","");return e};const n=function(e){var a;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;let i;switch(e.$Type){case"com.sap.vocabularies.UI.v1.ReferenceFacet":i=e.ID??e.Target.value;break;case"com.sap.vocabularies.UI.v1.CollectionFacet":i=e.ID??"undefined";break;case"com.sap.vocabularies.UI.v1.FieldGroupType":i=e.Label;break;default:i=c(e);break}i=(a=i)===null||a===void 0?void 0:a.toString();return i&&t?s(i):i};e.createIdForAnnotation=n;const o=e=>{const a=e.map(e=>{if(typeof e==="string"||!e){return e}return n(e.targetObject||e,false)});const t=a.filter(e=>e).join("::");return s(t)};e.generate=o;const c=function(e){let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let r="";switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":r=`DataFieldForAction::${e.Action}`;break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":r=`DataFieldForIntentBasedNavigation::${a(e)}`;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":r=`DataFieldForAnnotation::${e.Target.value}`;break;case"com.sap.vocabularies.UI.v1.DataFieldWithAction":r=`DataFieldWithAction::${t(e)}::${e.Action}`;break;case"com.sap.vocabularies.UI.v1.DataField":r=`DataField::${t(e)}`;break;case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":r=`DataFieldWithIntentBasedNavigation::${t(e)}::${a(e)}`;break;case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":r=`DataFieldWithNavigationPath::${t(e)}`;if(e.Target.type==="NavigationPropertyPath"&&!i){r=`${r}::${e.Target.value}`}break;case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":r=`DataFieldWithUrl::${t(e)}`;break;default:break}return r?s(r):undefined};e.getStableIdPartFromDataField=c;const l=e=>{if(e.indexOf(" ")>=0){throw Error(`${e} - Spaces are not allowed in ID parts.`)}e=e.replace(/^\/|^@|^#|^\*/,"").replace(/\/$|@$|#$|\*$/,"").replace(/\/|@|\(|\)|#|\*/g,"::");while(e.indexOf("::::")>-1){e=e.replace("::::","::")}if(e.slice(-2)=="::"){e=e.slice(0,-2)}return e};e.replaceSpecialChars=l;const s=function(e){e=l(r(e));if(i(e)){return e}else{throw Error(`${e} - Stable Id could not be generated due to insufficient information.`)}};e.prepareId=s;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/Synchronization", [],function(){"use strict";let e=function(){function e(){this._fnResolve=null;this._isResolved=false}var s=e.prototype;s.waitFor=function e(){if(this._isResolved){return Promise.resolve()}else{return new Promise(e=>{this._fnResolve=e})}};s.resolve=function e(){if(!this._isResolved){this._isResolved=true;if(this._fnResolve){this._fnResolve()}}};return e}();return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/ToES6Promise", [],function(){"use strict";function r(r){return Promise.resolve(r.then(function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++){e[n]=arguments[n]}return Array.prototype.slice.call(e)}).catch(function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++){e[n]=arguments[n]}return Array.prototype.slice.call(e)}))}return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/TypeGuards", [],function(){"use strict";var n={};function i(n){var i,t;return n===null||n===void 0?void 0:(i=(t=n).isA)===null||i===void 0?void 0:i.call(t,"sap.ui.model.Context")}n.isContext=i;function t(n){return Array.isArray(n)&&n.length>0&&n.every(n=>typeof n==="function")}n.isFunctionArray=t;function o(n,i){return n.$Type===i}n.isAnnotationOfType=o;function e(n){return(n===null||n===void 0?void 0:n.hasOwnProperty("_type"))??false}n.isServiceObject=e;function r(n){return(n===null||n===void 0?void 0:n._type)==="ComplexType"}n.isComplexType=r;function u(n){return(n===null||n===void 0?void 0:n._type)==="TypeDefinition"}n.isTypeDefinition=u;function l(n){return(n===null||n===void 0?void 0:n._type)==="EntityContainer"}n.isEntityContainer=l;function y(n){return(n===null||n===void 0?void 0:n._type)==="EntitySet"}n.isEntitySet=y;function p(n){return(n===null||n===void 0?void 0:n._type)==="Singleton"}n.isSingleton=p;function v(n){return(n===null||n===void 0?void 0:n._type)==="EntityType"}n.isEntityType=v;function s(n){return(n===null||n===void 0?void 0:n._type)==="Property"}n.isProperty=s;function d(n){return(n===null||n===void 0?void 0:n._type)==="NavigationProperty"}n.isNavigationProperty=d;function a(n){return d(n)&&!n.isCollection}n.isSingleNavigationProperty=a;function c(n){return d(n)&&n.isCollection}n.isMultipleNavigationProperty=c;function f(n){return(n===null||n===void 0?void 0:n.type)==="Path"}n.isPathAnnotationExpression=f;function P(n){return(n===null||n===void 0?void 0:n.type)==="PropertyPath"}n.isPropertyPathExpression=P;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/jsx-runtime/Fragment", [],function(){"use strict";var e={};let t=function e(){};t.isFragment=true;e=t;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/jsx-runtime/ViewLoader", ["sap/fe/core/helpers/ClassSupport","sap/m/Page","sap/ui/base/ManagedObject","sap/ui/core/mvc/View","sap/fe/core/jsx-runtime/jsx"],function(e,r,t,i,n){"use strict";var a,o,s,c,l;var u={};var p=e.property;var f=e.defineUI5Class;function d(e,r,t,i){if(!t)return;Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function b(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(e,r){e.prototype=Object.create(r.prototype);e.prototype.constructor=e;h(e,r)}function h(e,r){h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(r,t){r.__proto__=t;return r};return h(e,r)}function m(e,r,t,i,n){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,r,a);a=null}return a}function w(e,r){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let y=(a=f("sap.fe.core.jsx-runtime.MDXViewLoader"),o=p({type:"string"}),a(s=(c=function(e){v(i,e);function i(){var r;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}r=e.call(this,...i)||this;d(r,"viewName",l,b(r));return r}u=i;var a=i.prototype;a.loadDependency=function e(r){return new Promise(e=>{sap.ui.require([r],async r=>{e(r)})})};a.getControllerName=function e(){const r=this.getViewData();return r.controllerName};a.createContent=async function e(a){const o=this.getViewData();const s=o.viewContent||await this.loadDependency(o._mdxViewName);i.preprocessorData=this.mPreprocessors.xml;i.controller=a;const c=t.runWithPreprocessors(()=>s(),{id:e=>this.createId(e)});return n(r,{class:"sapUiContentPadding",children:{content:c}})};return i}(i),l=m(c.prototype,"viewName",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||s);u=y;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/jsx-runtime/jsx-control", ["sap/fe/core/helpers/BindingToolkit","sap/m/Text","sap/ui/base/DataType"],function(e,t,n){"use strict";var i=e.isConstant;var s=e.compileExpression;var o=e.compileConstant;const l=function(e,t,n){if(n===undefined||typeof n==="string"){return}if(!e[t]){e[t]=[]}if(a(n)){e[t].push(n)}else if(Array.isArray(n)){n.forEach(n=>{l(e,t,n)})}else{Object.keys(n).forEach(t=>{l(e,t,n[t])})}};const a=function(e){var t,n;return e===null||e===void 0?void 0:(t=(n=e).isA)===null||t===void 0?void 0:t.call(n,"sap.ui.core.Element")};const r=function(e){return!!(e!==null&&e!==void 0&&e.getMetadata)};function f(e,t){const n=e.getAllAggregations();const i=e.getDefaultAggregationName();const s={};l(s,i,t.children);delete t.children;Object.keys(n).forEach(e=>{if(s[e]!==undefined){if(t.hasOwnProperty(e)){t[e].template=s[e][0]}else{t[e]=s[e]}}})}function c(e,t){let l;for(l in t){const c=t[l];if(c!==null&&c!==void 0&&c._type){const e=c;if(i(e)){t[l]=o(c,false,true,true)}else{t[l]=s(e)}}else if(typeof t[l]==="string"&&!t[l].startsWith("{")){var a,r,f;const i=(a=e.getAllProperties()[l])===null||a===void 0?void 0:(r=(f=a).getType)===null||r===void 0?void 0:r.call(f);if(i&&i instanceof n&&["boolean","int","float"].indexOf(i.getName())>-1){t[l]=i.parseValue(c)}}}}const u=function(e,n,i,s){let o;if(e!==null&&e!==void 0&&e.isFragment){o=n.children}else if(e!==null&&e!==void 0&&e.isRuntime){const t=new e(n);o=t.getContent(s.view,s.appComponent)}else if(r(e)){const t=e.getMetadata();if(i!==undefined){n["key"]=i}f(t,n);const s=n.class;const l=n.ref;delete n.ref;delete n.class;c(t,n);o=new e(n);if(s){o.addStyleClass(s)}if(l){l.setCurrent(o)}}else if(typeof e==="function"){const t=e;o=t(n)}else{o=new t({text:"Missing component "+e})}return o};return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/jsx-runtime/jsx-xml", [],function(){"use strict";const e=function(e){if(Array.isArray(e)){return e.join("")}else{return e}};const t=function(e,n,s){if(s===undefined){return}if(!e[n]){e[n]=[]}if(typeof s==="string"&&s.trim().length>0){e[n].push(s)}else if(Array.isArray(s)){s.forEach(s=>{t(e,n,s)})}else{Object.keys(s).forEach(n=>{t(e,n,s[n])})}};const n="fl:delegate";const s=function(s,i,r){const o=s.getMetadata();const a=o.getName().split(".");if(r!==undefined){i["key"]=r}const c=o.getAllProperties();const f=o.getAllAggregations();c["class"]={name:"class"};c["id"]={name:"id"};c[n]={name:n};c["xmlns:fl"]={name:n};if(o.getName()==="sap.ui.core.Fragment"){c["fragmentName"]={name:"fragmentName"}}const l=a.slice(0,-1);const g=a[a.length-1];const u=l[l.length-1];const $=`${u}:${g}`;const h=[];const m=[];const y=o.getDefaultAggregationName();Object.keys(c).forEach(e=>{if(i.hasOwnProperty(e)&&i[e]!==undefined){if(typeof i[e]==="object"){h.push(`${e}='${JSON.stringify(i[e])}'`)}else{h.push(`${e}='${i[e]}'`)}}});const d={[y]:[]};t(d,y,i.children);Object.keys(f).forEach(t=>{if(d.hasOwnProperty(t)&&d[t].length>0){m.push(`<${u}:${t}>\n\t\t\t\t\t\t${e(d[t])}\n\t\t\t\t\t</${u}:${t}>`)}if(i.hasOwnProperty(t)&&i[t]!==undefined){h.push(`${t}='${JSON.stringify(i[t])}'`)}});return`<${$} xmlns:${u}="${l.join(".")}" ${h.join(" ")}>${m.join("")}</${$}>`};return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/jsx-runtime/jsx", ["sap/fe/core/jsx-runtime/jsx-control","sap/fe/core/jsx-runtime/jsx-xml"],function(e,t){"use strict";let n=false;const r=function(r,u,o){if(!n){return e(r,u,o,s)}else{return t(r,u,o)}};r.renderAsXML=function(e){n=true;const t=e();n=false;return t};let s={};r.getContext=function(){return s};r.withContext=function(e,t){s=e;const n=t();s={};return n};return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/jsx-runtime/jsxs", ["sap/fe/core/jsx-runtime/jsx"],function(e){"use strict";return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/jsx-runtime/useMDXComponents", ["sap/base/Log","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/helpers/ClassSupport","sap/fe/core/jsx-runtime/ViewLoader","sap/fe/macros/macroLibrary","sap/m/FormattedText","sap/m/HBox","sap/m/Panel","sap/m/Title","sap/ui/codeeditor/CodeEditor","sap/ui/core/Fragment","sap/ui/core/library","sap/ui/core/util/XMLPreprocessor","sap/fe/core/jsx-runtime/jsx"],function(e,r,t,n,i,a,o,s,l,c,d,u,p,h){"use strict";var m=u.TitleLevel;var f=t.createReference;var g=r.parseXMLString;function v(e){const r=Array.isArray(e.children)?e.children.map(e=>{let r;if(typeof e==="string"){r=e}else{switch(e.getMetadata().getName()){case"sap.m.Link":r=`<a href="${e.getHref()}">${e.getText()}</a>`;break;case"sap.ui.codeeditor.CodeEditor":r=`<code>${e.getValue()}</code>`;break}}return r}).join(""):e.children;return h(a,{htmlText:r,class:"sapUiTinyMarginBottom"})}function x(e){return h(l,{text:e.children,level:m.H1,class:"sapUiTinyMarginBottom"})}function y(e){return`<a href={strValue.href}>${e.children}</a>`}function T(e){const r=`<ul>${Array.isArray(e.children)?e.children.join(""):e.children}</ul>`;return h(a,{htmlText:r})}function b(e){return`<li>${Array.isArray(e.children)?e.children.join(""):e.children}</li>`}function B(e){return h(l,{text:e.children,level:m.H2,class:"sapUiSmallMarginTop sapUiTinyMarginBottom"})}function M(e){return e.children}function L(r){const t=f();const a=r.binding?{path:r.binding}:undefined;const l=h(s,{headerText:r.headerText||"",class:"sapUiSmallMarginTop",children:h(o,{ref:t})});if(a){l.bindElement(a)}i.register();const c=p.process(g(`<root>${r.children}</root>`,true)[0],{name:"myBuildingBlockFragment"},n.preprocessorData);Promise.resolve(c).then(e=>d.load({definition:e.firstElementChild,controller:n.controller})).then(e=>{t.current.removeAllItems();t.current.addItem(e)}).catch(r=>{e.error(r)});return l}function k(e){var r,t,n;const i=((r=e.children)===null||r===void 0?void 0:r.trim())||"";const a=e.lineCount||Math.max((t=i.split("\n"))===null||t===void 0?void 0:t.length,3);const o=e.type||(e===null||e===void 0?void 0:(n=e.className)===null||n===void 0?void 0:n.split("-")[1])||"js";const s=h(c,{class:"sapUiTinyMargin",lineNumbers:e.lineNumbers||false,type:o,editable:e.editable||false,maxLines:a,height:"auto",width:"98%"});s.setValue(i);if(e.source){fetch(e.source).then(e=>e.text()).then(e=>{var r;const t=Math.max((r=e.split("\n"))===null||r===void 0?void 0:r.length,3);s.setMaxLines(t);s.setValue(e)}).catch(e=>{s.setValue(e.message)})}return s}const j=function(){return{p:v,a:y,h1:x,h2:B,ul:T,li:b,pre:M,code:k,CodeBlock:k,BuildingBlockPlayground:L}};return j},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/library", ["sap/base/Log","sap/fe/core/formatters/FPMFormatter","sap/fe/core/formatters/StandardFormatter","sap/fe/core/formatters/ValueFormatter","sap/fe/core/services/AsyncComponentServiceFactory","sap/fe/core/services/CacheHandlerServiceFactory","sap/fe/core/services/EnvironmentServiceFactory","sap/fe/core/services/NavigationServiceFactory","sap/fe/core/services/ResourceModelServiceFactory","sap/fe/core/services/RoutingServiceFactory","sap/fe/core/services/ShellServicesFactory","sap/fe/core/services/SideEffectsServiceFactory","sap/fe/core/services/TemplatedViewServiceFactory","sap/fe/core/type/DateTimeWithTimezone","sap/fe/core/type/Email","sap/fe/core/type/FiscalDate","sap/fe/navigation/library","sap/fe/placeholder/library","sap/ui/base/DataType","sap/ui/core/Core","sap/ui/core/library","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/fl/library","sap/ui/mdc/library"],function(e,a,r,i,o,t,s,n,c,l,p,f,d,v,u,y,S,m,g,C,b,F,w,D){"use strict";var E={};const M="sap.fe";E.feNamespace=M;const N="sap.fe.core";E.feCoreNamespace=N;const I="sap.fe.controllerextensions";E.feCextNamespace=I;const h="sap.fe.core.fpm";E.feFpmNamespace=h;const A=C.initLibrary({name:"sap.fe.core",dependencies:["sap.ui.core","sap.fe.navigation","sap.fe.placeholder","sap.ui.fl","sap.ui.mdc","sap.f"],types:["sap.fe.core.CreationMode","sap.fe.core.VariantManagement"],interfaces:[],controls:[],elements:[],version:"1.113.0",noLibraryCSS:true,extensions:{"sap.ui.support":{publicRules:true,internalRules:true},flChangeHandlers:{"sap.fe.core.controls.FilterBar":"sap/ui/mdc/flexibility/FilterBar"}}});A.InvocationGrouping={Isolated:"Isolated",ChangeSet:"ChangeSet"};A.CreationMode={NewPage:"NewPage",Sync:"Sync",Async:"Async",Deferred:"Deferred",Inline:"Inline",CreationRow:"CreationRow",InlineCreationRows:"InlineCreationRows",External:"External"};A.VariantManagement={None:"None",Page:"Page",Control:"Control"};A.Constants={CancelActionDialog:"cancel",ActionExecutionFailed:"actionExecutionFailed",CreationFailed:"creationFailed"};A.ProgrammingModel={Draft:"Draft",Sticky:"Sticky",NonDraft:"NonDraft"};A.DraftStatus={Saving:"Saving",Saved:"Saved",Clear:"Clear"};A.EditMode={Display:"Display",Editable:"Editable"};A.TemplateContentView={Hybrid:"Hybrid",Chart:"Chart",Table:"Table"};let R;(function(e){e["Enabled"]="Enabled";e["Disabled"]="Disabled";e["Auto"]="Auto"})(R||(R={}));E.InitialLoadMode=R;A.InitialLoadMode=R;A.StartupMode={Normal:"Normal",Deeplink:"Deeplink",Create:"Create",AutoCreate:"AutoCreate"};const L=g.createType("sap.fe.core.InitialLoadMode",{defaultValue:A.InitialLoadMode.Auto,isValid:function(a){if(typeof a==="boolean"){e.warning("DEPRECATED: boolean value not allowed for 'initialLoad' manifest setting - supported values are: Disabled|Enabled|Auto")}return a===undefined||a===null||typeof a==="boolean"||A.InitialLoadMode.hasOwnProperty(a)}});L.setNormalizer(function(e){if(!e){return A.InitialLoadMode.Disabled}return e===true?A.InitialLoadMode.Enabled:e});F.register("sap.fe.core.services.TemplatedViewService",new d);F.register("sap.fe.core.services.ResourceModelService",new c);F.register("sap.fe.core.services.CacheHandlerService",new t);F.register("sap.fe.core.services.NavigationService",new n);F.register("sap.fe.core.services.RoutingService",new l);F.register("sap.fe.core.services.SideEffectsService",new f);F.register("sap.fe.core.services.ShellServices",new p);F.register("sap.fe.core.services.EnvironmentService",new s);F.register("sap.fe.core.services.AsyncComponentService",new o);return A},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/manifestMerger/ChangePageConfiguration", ["sap/base/Log","sap/base/util/ObjectPath"],function(t,n){"use strict";var o={};let e={};function i(n,o){const e=o.getContent();const i=e===null||e===void 0?void 0:e.page;const a=e===null||e===void 0?void 0:e.entityPropertyChange;if((a===null||a===void 0?void 0:a.operation)!=="UPSERT"||!(a!==null&&a!==void 0&&a.propertyPath)||(a===null||a===void 0?void 0:a.propertyValue)===undefined||a!==null&&a!==void 0&&a.propertyPath.startsWith("/")){t.error("Change content is not a valid");return n}return r(n,i,a.propertyPath,a.propertyValue)}o.applyChange=i;function r(o,i,r,l,u){const f=s(o,i);if(f){const t=a(r);n.set(t,l,f);if(u){e[i]=e[i]||[];e[i].push(r)}}else{t.error(`No Fiori elements page with ID ${i} found in routing targets.`)}return o}o.changeConfiguration=r;function a(t){let n=t.split("/");if(n[0]==="controlConfiguration"){let t="";for(let o=1;o<n.length;o++){t+=(o>1?"/":"")+n[o];if(t.indexOf("@")>-1){n=["controlConfiguration",t].concat(n.slice(o+1));break}}}return n}function s(t,n){var o,e;let i;const r=((o=t["sap.ui5"])===null||o===void 0?void 0:(e=o.routing)===null||e===void 0?void 0:e.targets)??{};for(const t in r){if(r[t].id===n&&r[t].name.startsWith("sap.fe.templates.")){var a;i=((a=r[t].options)===null||a===void 0?void 0:a.settings)??{};break}}return i}function l(t,o,i,r){o=o??{};const a=e[r]||[];for(const e of a){const i=n.get(e,t);n.set(e,i,o)}return o}o.applyPageConfigurationChanges=l;function u(){e={}}o.cleanPageConfigurationChanges=u;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/operationsHelper", ["sap/m/MessageBox","sap/ui/core/message/Message","sap/ui/model/json/JSONModel","./controllerextensions/dialog/OperationsDialog.block","./controllerextensions/messageHandler/messageHandling","./formatters/TableFormatterTypes"],function(e,t,n,s,i,o){"use strict";var r=o.MessageType;function l(o,l,a,c,d,g,f,u,_){const E=o.label;const M=o.model;const S=d===null||d===void 0?void 0:d.strictHandlingPromises;let C;let O=l.getText("C_COMMON_DIALOG_CANCEL");let T="";let G="";T=o.bGrouped?l.getText("C_COMMON_DIALOG_CANCEL_MESSAGE_TEXT",[E]):l.getText("C_COMMON_DIALOG_SKIP_SINGLE_MESSAGE_TEXT");if(c.length===1){const t=c[0].getMessage();const n=c[0].getAdditionalText();G=l.getText("C_COMMON_DIALOG_CANCEL_SINGLE_MESSAGE_TEXT");if(!g){C=`${t}\n${l.getText("PROCEED")}`}else if(n!==undefined&&n!==""){O=o.bGrouped?O:l.getText("C_COMMON_DIALOG_SKIP");const e=o.control.getParent().getTableDefinition().headerInfoTypeName;if(e){C=`${e.toString()} ${n}: ${t}\n\n${T}`}else{C=`${n}: ${t}\n\n${T}`}}else{O=o.bGrouped?O:l.getText("C_COMMON_DIALOG_SKIP");C=`${t}\n\n${T}`}if(g){C=`${G}\n\n${C}`}e.warning(C,{title:l.getText("WARNING"),actions:[E,O],emphasizedAction:E,onClose:function(t){if(t===E){if(_){f(true);M.submitBatch(u);if(o.requestSideEffects){o.requestSideEffects()}}else if(!g){S[0].resolve(true);M.submitBatch(S[0].groupId);if(S[0].requestSideEffects){S[0].requestSideEffects()}}else{S.forEach(function(e){e.resolve(true);M.submitBatch(e.groupId);if(e.requestSideEffects){e.requestSideEffects()}});const e=d===null||d===void 0?void 0:d.strictHandlingTransitionFails;if(e.length>0){a===null||a===void 0?void 0:a.removeTransitionMessages()}}if(d){d.is412Executed=true}}else{if(d){d.is412Executed=false}if(_){f(false)}else if(!g){S[0].resolve(false)}else{S.forEach(function(e){e.resolve(false)})}if(o.bGrouped){e.information(l.getText("M_CHANGESET_CANCEL_MESSAGES"),{contentWidth:"150px"})}}if(d){d.strictHandlingWarningMessages=[]}}})}else if(c.length>1){if(g){O=o.bGrouped?O:l.getText("C_COMMON_DIALOG_SKIP");const e=o.bGrouped?l.getText("C_COMMON_DIALOG_CANCEL_MESSAGES_WARNING"):l.getText("C_COMMON_DIALOG_SKIP_MESSAGES_WARNING");const n=o.bGrouped?l.getText("C_COMMON_DIALOG_CANCEL_MESSAGES_TEXT",[E]):l.getText("C_COMMON_DIALOG_SKIP_MESSAGES_TEXT",[E]);const s=new t({message:e,type:r.Warning,target:undefined,persistent:true,description:n});c=[s].concat(c)}const _=new n;_.setData(c);const C=true;const T=i.prepareMessageViewForDialog(_,C,g);const G=new s({messageObject:T,isMultiContext412:g,isGrouped:o===null||o===void 0?void 0:o.bGrouped,resolve:f,model:M,groupId:u,actionName:E,strictHandlingUtilities:d,strictHandlingPromises:S,messageHandler:a,messageDialogModel:_,cancelButtonTxt:O,showMessageInfo:function t(){e.information(l.getText("M_CHANGESET_CANCEL_MESSAGES"),{contentWidth:"150px"})}});G.open()}}async function a(e,t,n,s,i,o,r,l,a){let d;if(s===null&&o===null||s===1&&o===1){return new Promise(function(s){c.renderMessageView(t,n,r,a,l,false,s,e,true)})}if(a.length){var g,f;const n=new Promise(function(n){d={requestSideEffects:t.requestSideEffects,resolve:n,groupId:e}});l.strictHandlingPromises.push(d);const s=l.strictHandlingWarningMessages;const r=(g=t.control)===null||g===void 0?void 0:(f=g.getParent())===null||f===void 0?void 0:f.getIdentifierColumn();let c="";if(r&&o&&o>1){c=i&&i.getObject(r)}a.forEach(function(e){e.setType("Warning");e.setAdditionalText(c);s.push(e)});l.strictHandlingWarningMessages=s;t.internalOperationsPromiseResolve();return n}}const c={renderMessageView:l,fnOnStrictHandlingFailed:a};return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/rootView/Fcl.controller", ["sap/base/Log","sap/f/FlexibleColumnLayoutSemanticHelper","sap/f/library","sap/fe/core/controllerextensions/ViewState","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/KeepAliveHelper","sap/m/Link","sap/m/MessageBox","sap/m/MessagePage","./RootViewBaseController"],function(e,t,n,o,i,r,l,s,a,u){"use strict";var g,c,C,h,d;var f=s.Icon;var m=s.Action;var p=i.usingExtension;var F=i.defineUI5Class;function w(e,t,n,o){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function E(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function P(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;b(e,t)}function b(e,t){b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return b(e,t)}function M(e,t,n,o,i){var r={};Object.keys(o).forEach(function(e){r[e]=o[e]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},r);if(i&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(i):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(e,t,r);r=null}return r}function v(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}const y=n.LayoutType;const x={page:{names:["BeginColumn","MidColumn","EndColumn"],currentGetter:{prefix:"getCurrent",suffix:"Page"},getter:{prefix:"get",suffix:"Pages"}}};const T=function(e){if(e.isA("sap.ui.core.ComponentContainer")){return e.getComponentInstance().getRootControl()}else{return e}};let R=(g=F("sap.fe.core.rootView.Fcl"),c=p(o.override({applyInitialStateOnly:function(){return false},adaptBindingRefreshControls:function(e){this.getView().getController()._getAllVisibleViews().forEach(function(t){const n=Promise.resolve(t);e.push(n)})},adaptStateControls:function(e){this.getView().getController()._getAllVisibleViews().forEach(function(t){const n=Promise.resolve(t);e.push(n)})},onRestore:function(){const e=this.getView().getController();const t=e.getAppContentContainer();const n=t.getModel("internal");const o=n.getProperty("/pages");for(const e in o){n.setProperty(`/pages/${e}/restoreStatus`,"pending")}e.onContainerReady()},onSuspend:function(){const e=this.getView().getController();const t=e.getFclControl();const n=t.getBeginColumnPages()||[];const o=t.getMidColumnPages()||[];const i=t.getEndColumnPages()||[];const r=[].concat(n,o,i);r.forEach(function(e){const t=T(e);const n=t&&t.getController();if(n&&n.viewState&&n.viewState.onSuspend){n.viewState.onSuspend()}})}})),g(C=(h=function(n){P(o,n);function o(){var e;for(var t=arguments.length,o=new Array(t),i=0;i<t;i++){o[i]=arguments[i]}e=n.call(this,...o)||this;w(e,"viewState",d,E(e));return e}var i=o.prototype;i.onInit=function e(){n.prototype.onInit.call(this);this._internalInit()};i.manageDataReceived=function e(t){if(t.getParameter("error")){var n;const e=t.getParameter("path"),o=this._getAllVisibleViews().find(t=>{var n;return((n=t.getBindingContext())===null||n===void 0?void 0:n.getPath())===e});if(e&&o!==null&&o!==void 0&&(n=o.getBindingContext())!==null&&n!==void 0&&n.isKeepAlive()){o.getController()._routing.onDataReceived(t)}}};i.attachRouteMatchers=function e(){this.getRouter().attachBeforeRouteMatched(this._getViewForNavigatedRowsComputation,this);n.prototype.attachRouteMatchers.call(this);this._internalInit();this.getRouter().attachBeforeRouteMatched(this.onBeforeRouteMatched,this);this.getRouter().attachRouteMatched(this.onRouteMatched,this);this.getFclControl().attachStateChange(this._saveLayout,this)};i._internalInit=function e(){var t,n;if(this._oRouterProxy){return}this.sCurrentRouteName="";this.sCurrentArguments={};this.SQUERYKEYNAME="?query";const o=this.getAppComponent();const i=this.getAppComponent().getModel();i===null||i===void 0?void 0:i.attachEvent("dataReceived",this.manageDataReceived.bind(this));this._oRouterProxy=o.getRouterProxy();this._oFCLConfig={maxColumnsCount:3};const r=o.getManifest()["sap.ui5"].routing;if(r!==null&&r!==void 0&&(t=r.config)!==null&&t!==void 0&&t.flexibleColumnLayout){const e=r.config.flexibleColumnLayout;if(e.defaultTwoColumnLayoutType){this._oFCLConfig.defaultTwoColumnLayoutType=e.defaultTwoColumnLayoutType}if(e.defaultThreeColumnLayoutType){this._oFCLConfig.defaultThreeColumnLayoutType=e.defaultThreeColumnLayoutType}if(e.limitFCLToTwoColumns===true){this._oFCLConfig.maxColumnsCount=2}}if(r!==null&&r!==void 0&&(n=r.config)!==null&&n!==void 0&&n.controlAggregation){this._oFCLConfig.defaultControlAggregation=r.config.controlAggregation}this._initializeTargetAggregation(o);this._initializeRoutesInformation(o);this.getFclControl().attachStateChange(this.onStateChanged,this);this.getFclControl().attachAfterEndColumnNavigate(this.onStateChanged,this)};i.getFclControl=function e(){return this.getAppContentContainer()};i._saveLayout=function e(t){this.sPreviousLayout=t.getParameters().layout};i._getViewForNavigatedRowsComputation=function e(){const t=this._getAllVisibleViews(this.sPreviousLayout);const n=t[t.length-1];let o;this.getRouter().attachEventOnce("routeMatched",e=>{o=T(e.getParameter("views")[e.getParameter("views").length-1]);if(n){if(o.getViewData()&&o.getViewData().viewLevel===this._oFCLConfig.maxColumnsCount){this.oAdditionalViewForNavRowsComputation=o}if(o.getViewData()&&n.getViewData()&&n.getViewData().viewLevel<this._oFCLConfig.maxColumnsCount&&n.getViewData()&&n.getViewData().viewLevel>o.getViewData().viewLevel&&o!==n){this.oAdditionalViewForNavRowsComputation=n}}})};i.getViewForNavigatedRowsComputation=function e(){return this.oAdditionalViewForNavRowsComputation};i.onExit=function e(){this.getRouter().detachRouteMatched(this.onRouteMatched,this);this.getRouter().detachBeforeRouteMatched(this.onBeforeRouteMatched,this);this.getFclControl().detachStateChange(this.onStateChanged,this);this.getFclControl().detachAfterEndColumnNavigate(this.onStateChanged,this);this._oTargetsAggregation=null;this._oTargetsFromRoutePattern=null;u.prototype.onExit.bind(this)()};i.isFclEnabled=function e(){return true};i.displayErrorPage=function e(t,n){const o=this.getFclControl();if(this._oFCLConfig&&n.FCLLevel>=this._oFCLConfig.maxColumnsCount){n.FCLLevel=this._oFCLConfig.maxColumnsCount-1}if(!this.aMessagePages){this.aMessagePages=[null,null,null]}let i=this.aMessagePages[n.FCLLevel];if(!i){i=new a({showHeader:false,icon:"sap-icon://message-error"});this.aMessagePages[n.FCLLevel]=i;switch(n.FCLLevel){case 0:o.addBeginColumnPage(i);break;case 1:o.addMidColumnPage(i);break;default:o.addEndColumnPage(i)}}i.setText(t);if(n.technicalMessage){i.setCustomDescription(new l({text:n.description||n.technicalMessage,press:function(){s.show(n.technicalMessage,{icon:f.ERROR,title:n.title,actions:[m.OK],defaultAction:m.OK,details:n.technicalDetails||"",contentWidth:"60%"})}}))}else{i.setDescription(n.description||"")}o.to(i.getId());return Promise.resolve(true)};i._initializeTargetAggregation=function e(t){const n=t.getManifest(),o=n["sap.ui5"].routing?n["sap.ui5"].routing.targets:null;this._oTargetsAggregation={};if(o){Object.keys(o).forEach(e=>{const t=o[e];if(t.controlAggregation){this._oTargetsAggregation[e]={aggregation:t.controlAggregation,pattern:t.contextPattern}}else{this._oTargetsAggregation[e]={aggregation:"page",pattern:null}}})}};i._initializeRoutesInformation=function e(t){const n=t.getManifest(),o=n["sap.ui5"].routing?n["sap.ui5"].routing.routes:null;this._oTargetsFromRoutePattern={};if(o){o.forEach(e=>{this._oTargetsFromRoutePattern[e.pattern]=e.target})}};i.getCurrentArgument=function e(){return this.sCurrentArguments};i.getCurrentRouteName=function e(){return this.sCurrentRouteName};i.getConstants=function e(){return x};i.getTargetAggregation=function e(){return this._oTargetsAggregation};i.onRouteMatched=function e(t){const n=t.getParameter("name");this.sCurrentRouteName=n;this.sCurrentArguments=t.getParameter("arguments")};i._scrollTablesToLastNavigatedItems=function e(){const t=this._getAllVisibleViews();if(t.length>1||t[0].getViewData().viewLevel<this._oFCLConfig.maxColumnsCount){let e;const n=this.getViewForNavigatedRowsComputation();if(n&&t.indexOf(n)===-1){t.push(n)}for(let n=t.length-1;n>0;n--){const o=t[n],i=t[n-1];if(o.getBindingContext()){e=o.getBindingContext().getPath();i.getController()._scrollTablesToRow(e)}}}};i.onStateChanged=function e(t){const n=t.getParameter("isNavigationArrow");if(this.sCurrentArguments!==undefined){if(!this.sCurrentArguments[this.SQUERYKEYNAME]){this.sCurrentArguments[this.SQUERYKEYNAME]={}}this.sCurrentArguments[this.SQUERYKEYNAME].layout=t.getParameter("layout")}this._forceModelContextChangeOnBreadCrumbs(t);if(n){this._oRouterProxy.navTo(this.sCurrentRouteName,this.sCurrentArguments)}const o=this.getRightmostView();if(o){this._computeTitleHierarchy(o)}};i._forceModelContextChangeOnBreadCrumbs=function e(t){const n=t.getSource();let o=[];o=o.concat(n.getBeginColumnPages()).concat(n.getMidColumnPages()).concat(n.getEndColumnPages());o.forEach(function(e){const t=T(e);const n=t.byId&&t.byId("breadcrumbs");if(n){n.fireModelContextChange()}})};i._updateShareButtonVisibility=function e(t,n){let o;switch(n){case"OneColumn":o=t==="beginColumn";break;case"MidColumnFullScreen":case"ThreeColumnsBeginExpandedEndHidden":case"ThreeColumnsMidExpandedEndHidden":case"TwoColumnsBeginExpanded":case"TwoColumnsMidExpanded":o=t==="midColumn";break;case"EndColumnFullScreen":case"ThreeColumnsEndExpanded":case"ThreeColumnsMidExpanded":o=t==="endColumn";break;default:o=false}return o};i._updateEditButtonVisiblity=function e(t,n){let o=true;switch(t){case"midColumn":switch(n){case"TwoColumnsMidExpanded":case"ThreeColumnsMidExpanded":case"ThreeColumnsEndExpanded":o=false;break}break;case"endColumn":switch(n){case"ThreeColumnsMidExpanded":case"ThreeColumnsEndExpanded":o=false}break}return o};i.updateUIStateForView=function e(t,n){const o=this.getHelper().getCurrentUIState(),i=["beginColumn","midColumn","endColumn"],r=this.getFclControl().getLayout();let l;if(!t.getModel("fclhelper")){t.setModel(this._createHelperModel(),"fclhelper")}if(n>=this._oFCLConfig.maxColumnsCount){l=i[this._oFCLConfig.maxColumnsCount-1];o.actionButtonsInfo.midColumn.fullScreen=null;o.actionButtonsInfo.midColumn.exitFullScreen=null;o.actionButtonsInfo.midColumn.closeColumn=null;o.actionButtonsInfo.endColumn.exitFullScreen=null;o.actionButtonsInfo.endColumn.fullScreen=null;o.actionButtonsInfo.endColumn.closeColumn=null}else{l=i[n]}if(n>=this._oFCLConfig.maxColumnsCount||r==="EndColumnFullScreen"||r==="MidColumnFullScreen"||r==="OneColumn"){t.getModel("fclhelper").setProperty("/breadCrumbIsVisible",true)}else{t.getModel("fclhelper").setProperty("/breadCrumbIsVisible",false)}o.actionButtonsInfo.beginColumn={fullScreen:null,exitFullScreen:null,closeColumn:null};const s=Object.assign({},o.actionButtonsInfo[l]);s.switchVisible=s.fullScreen!==null||s.exitFullScreen!==null;s.switchIcon=s.fullScreen!==null?"sap-icon://full-screen":"sap-icon://exit-full-screen";s.isFullScreen=s.fullScreen===null;s.closeVisible=s.closeColumn!==null;t.getModel("fclhelper").setProperty("/actionButtonsInfo",s);t.getModel("fclhelper").setProperty("/showEditButton",this._updateEditButtonVisiblity(l,r));t.getModel("fclhelper").setProperty("/showShareIcon",this._updateShareButtonVisibility(l,r))};i.onBeforeRouteMatched=function e(t){if(t){const e=t.getParameters().arguments[this.SQUERYKEYNAME];let n=e?e.layout:null;if(!n){const e=this.getHelper().getNextUIState(0);n=e.layout}const o=t.getParameter("config").target;n=this._correctLayoutForTargets(n,o);if(n){this.getFclControl().setLayout(n)}}};i.getHelper=function e(){return t.getInstanceFor(this.getFclControl(),this._oFCLConfig)};i.calculateLayout=function e(t,n,o){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(!o){o=i?this.getFclControl().getLayout():this.getHelper().getNextUIState(t).layout}const r=this.getRouter().getRouteByHash(`${n}?layout=${o}`);const l=this._oTargetsFromRoutePattern[r.getPattern()];return this._correctLayoutForTargets(o,l)};i._correctLayoutForTargets=function e(t,n){const o={2:["TwoColumnsMidExpanded","TwoColumnsBeginExpanded","MidColumnFullScreen"],3:["ThreeColumnsMidExpanded","ThreeColumnsEndExpanded","ThreeColumnsMidExpandedEndHidden","ThreeColumnsBeginExpandedEndHidden","MidColumnFullScreen","EndColumnFullScreen"]};if(n&&!Array.isArray(n)){n=[n]}if(!n){return t}else if(n.length>1){const e=o[n.length];if(e.indexOf(t)<0){t=e[0]}}else{const e=this.getTargetAggregation()[n[0]].aggregation||this._oFCLConfig.defaultControlAggregation;switch(e){case"beginColumnPages":t="OneColumn";break;case"midColumnPages":t="MidColumnFullScreen";break;case"endColumnPages":t="EndColumnFullScreen";break}}return t};i.getInstancedViews=function e(){const t=this.getFclControl();const n=[...t.getBeginColumnPages(),...t.getMidColumnPages(),...t.getEndColumnPages()];return n.map(e=>e.getComponentInstance().getRootControl())};i._getAllVisibleViews=function t(n){const o=[];n=n?n:this.getFclControl().getLayout();switch(n){case y.EndColumnFullScreen:if(this.getFclControl().getCurrentEndColumnPage()){o.push(T(this.getFclControl().getCurrentEndColumnPage()))}break;case y.MidColumnFullScreen:if(this.getFclControl().getCurrentMidColumnPage()){o.push(T(this.getFclControl().getCurrentMidColumnPage()))}break;case y.OneColumn:if(this.getFclControl().getCurrentBeginColumnPage()){o.push(T(this.getFclControl().getCurrentBeginColumnPage()))}break;case y.ThreeColumnsEndExpanded:case y.ThreeColumnsMidExpanded:if(this.getFclControl().getCurrentBeginColumnPage()){o.push(T(this.getFclControl().getCurrentBeginColumnPage()))}if(this.getFclControl().getCurrentMidColumnPage()){o.push(T(this.getFclControl().getCurrentMidColumnPage()))}if(this.getFclControl().getCurrentEndColumnPage()){o.push(T(this.getFclControl().getCurrentEndColumnPage()))}break;case y.TwoColumnsBeginExpanded:case y.TwoColumnsMidExpanded:case y.ThreeColumnsMidExpandedEndHidden:case y.ThreeColumnsBeginExpandedEndHidden:if(this.getFclControl().getCurrentBeginColumnPage()){o.push(T(this.getFclControl().getCurrentBeginColumnPage()))}if(this.getFclControl().getCurrentMidColumnPage()){o.push(T(this.getFclControl().getCurrentMidColumnPage()))}break;default:e.error(`Unhandled switch case for ${this.getFclControl().getLayout()}`)}return o};i._getAllViews=function t(n){const o=[];n=n?n:this.getFclControl().getLayout();switch(n){case y.OneColumn:if(this.getFclControl().getCurrentBeginColumnPage()){o.push(T(this.getFclControl().getCurrentBeginColumnPage()))}break;case y.ThreeColumnsEndExpanded:case y.ThreeColumnsMidExpanded:case y.ThreeColumnsMidExpandedEndHidden:case y.ThreeColumnsBeginExpandedEndHidden:case y.EndColumnFullScreen:if(this.getFclControl().getCurrentBeginColumnPage()){o.push(T(this.getFclControl().getCurrentBeginColumnPage()))}if(this.getFclControl().getCurrentMidColumnPage()){o.push(T(this.getFclControl().getCurrentMidColumnPage()))}if(this.getFclControl().getCurrentEndColumnPage()){o.push(T(this.getFclControl().getCurrentEndColumnPage()))}break;case y.TwoColumnsBeginExpanded:case y.TwoColumnsMidExpanded:if(this.getFclControl().getCurrentBeginColumnPage()){o.push(T(this.getFclControl().getCurrentBeginColumnPage()))}if(this.getFclControl().getCurrentMidColumnPage()){o.push(T(this.getFclControl().getCurrentMidColumnPage()))}break;case y.MidColumnFullScreen:const t=this.getHelper().getCurrentUIState().actionButtonsInfo.midColumn.exitFullScreen;if(this.getFclControl().getCurrentBeginColumnPage()){o.push(T(this.getFclControl().getCurrentBeginColumnPage()))}if(this.getFclControl().getCurrentMidColumnPage()){o.push(T(this.getFclControl().getCurrentMidColumnPage()))}if(t.indexOf("ThreeColumn")>=0){if(this.getFclControl().getCurrentEndColumnPage()){o.push(T(this.getFclControl().getCurrentEndColumnPage()))}}break;default:e.error(`Unhandled switch case for ${this.getFclControl().getLayout()}`)}return o};i.onContainerReady=function e(){const t=this._getAllVisibleViews();const n=t.reduce(function(e,t){e.push(r.restoreView(t));return e},[]);return Promise.all(n)};i.getRightmostContext=function e(){const t=this.getRightmostView();return t&&t.getBindingContext()};i.getRightmostView=function e(){return this._getAllViews().pop()};i.isContextUsedInPages=function e(t){if(!this.getFclControl()){return false}const n=this._getAllViews();for(const e of n){if(e){if(e.getBindingContext()===t){return true}}else{return false}}return false};i._setShellMenuTitle=function e(t,n,o){if(this.getHelper().getCurrentUIState().isFullScreen!==true){t.getShellServices().setTitle(o)}else{t.getShellServices().setTitle(n)}};return o}(u),d=M(h.prototype,"viewState",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),h))||C);return R},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/rootView/NavContainer.controller", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/ViewState","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/KeepAliveHelper","sap/m/IllustratedMessage","sap/m/Page","./RootViewBaseController"],function(e,t,n,r,o,i,a,s){"use strict";var l,c,u,g,f;var p=r.usingExtension;var d=r.defineUI5Class;function h(e,t,n,r){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function C(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;w(e,t)}function w(e,t){w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return w(e,t)}function P(e,t,n,r,o){var i={};Object.keys(r).forEach(function(e){i[e]=r[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i);if(o&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(o):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(e,t,i);i=null}return i}function b(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let y=(l=d("sap.fe.core.rootView.NavContainer"),c=p(n.override({applyInitialStateOnly:function(){return false},adaptBindingRefreshControls:function(e){const t=this.getView(),n=t.getController();e.push(n._getCurrentPage(t))},adaptStateControls:function(e){const t=this.getView(),n=t.getController();e.push(n._getCurrentPage(t))},onRestore:function(){const e=this.getView(),t=e.getController(),n=t.getAppContentContainer();const r=n.getModel("internal");const o=r.getProperty("/pages");for(const e in o){r.setProperty(`/pages/${e}/restoreStatus`,"pending")}t.onContainerReady()},onSuspend:function(){const e=this.getView(),n=e.getController(),r=n.getAppContentContainer();const o=r.getPages();o.forEach(function(e){const n=t.getTargetView(e);const r=n&&n.getController();if(r&&r.viewState&&r.viewState.onSuspend){r.viewState.onSuspend()}})}})),l(u=(g=function(n){v(r,n);function r(){var e;for(var t=arguments.length,r=new Array(t),o=0;o<t;o++){r[o]=arguments[o]}e=n.call(this,...r)||this;h(e,"viewState",f,C(e));return e}var s=r.prototype;s.onContainerReady=function e(){const n=this.getView(),r=this._getCurrentPage(n);return r.then(function(e){const n=t.getTargetView(e);return o.restoreView(n)})};s._getCurrentPage=function e(n){const r=this.getAppContentContainer();return new Promise(function(e){const o=r.getCurrentPage();if(o&&o.getController&&o.getController().isPlaceholder&&o.getController().isPlaceholder()){o.getController().attachEventOnce("targetPageInsertedInContainer",function(r){const o=r.getParameter("targetpage");const i=t.getTargetView(o);e(i!==n&&i)})}else{const r=t.getTargetView(o);e(r!==n&&r)}})};s._getNavContainer=function e(){return this.getAppContentContainer()};s.getInstancedViews=function e(){return this._getNavContainer().getPages().map(e=>e.getComponentInstance().getRootControl())};s.isFclEnabled=function e(){return false};s._scrollTablesToLastNavigatedItems=function e(){};s.displayErrorPage=function n(r,o){return new Promise((n,s)=>{try{const e=this._getNavContainer();if(!this.oPage){this.oPage=new a({showHeader:false});this.oIllustratedMessage=new i({title:r,description:o.description||"",illustrationType:`sapIllus-${o.errorType}`});this.oPage.insertContent(this.oIllustratedMessage,0);e.addPage(this.oPage)}if(o.handleShellBack){const n=e.getCurrentPage(),r=t.getAppComponent(e.getCurrentPage());r.getShellServices().setBackNavigation(function(){e.to(n.getId());r.getShellServices().setBackNavigation()})}e.attachAfterNavigate(function(){n(true)});e.to(this.oPage.getId())}catch(t){s(false);e.info(t)}})};return r}(s),f=P(g.prototype,"viewState",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),g))||u);return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/rootView/RootViewBaseController", ["sap/base/Log","sap/fe/core/BaseController","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/Placeholder","sap/fe/core/controllerextensions/ViewState","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/SizeHelper","sap/ui/base/BindingParser","sap/ui/core/routing/HashChanger","sap/ui/model/json/JSONModel","sap/ui/model/odata/v4/AnnotationHelper"],function(e,t,o,n,i,r,a,s,c,l,u){"use strict";var h,f,p,g,d,m,y;var b=r.usingExtension;var P=r.defineUI5Class;function C(e,t,o,n){if(!o)return;Object.defineProperty(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function v(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function R(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}function _(e,t){_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return _(e,t)}function T(e,t,o,n,i){var r={};Object.keys(n).forEach(function(e){r[e]=n[e]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},r);if(i&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(i):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(e,t,r);r=null}return r}function H(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let w=(h=P("sap.fe.core.rootView.RootViewBaseController"),f=b(n),p=b(i),h(g=(d=function(t){R(n,t);function n(){var e;for(var o=arguments.length,n=new Array(o),i=0;i<o;i++){n[i]=arguments[i]}e=t.call(this,...n)||this;C(e,"oPlaceholder",m,v(e));C(e,"viewState",y,v(e));e.bIsComputingTitleHierachy=false;return e}var i=n.prototype;i.onInit=function e(){a.init();this._aHelperModels=[]};i.getPlaceholder=function e(){return this.oPlaceholder};i.attachRouteMatchers=function e(){this.oPlaceholder.attachRouteMatchers();this.getAppComponent().getRoutingService().attachAfterRouteMatched(this._onAfterRouteMatched,this)};i.onExit=function e(){this.getAppComponent().getRoutingService().detachAfterRouteMatched(this._onAfterRouteMatched,this);this.oRouter=undefined;a.exit();this._aHelperModels.forEach(function(e){e.destroy()})};i.getResourceBundle=function e(){return this.getOwnerComponent().getModel("i18n").getResourceBundle()};i.getRouter=function e(){if(!this.oRouter){this.oRouter=this.getAppComponent().getRouter()}return this.oRouter};i._createHelperModel=function e(){const t=new l;this._aHelperModels.push(t);return t};i.waitForRightMostViewReady=function e(t){return new Promise(function(e){const o=t.getParameter("views"),n=[];o.forEach(function(e){let t=e;if(e&&e.getComponentInstance){const o=e.getComponentInstance();t=o.getRootControl()}if(t&&t.getController()&&t.getController().pageReady){n.push(t)}});const i=n[n.length-1];if(i&&i.getController().pageReady.isPageReady()){e(i)}else if(i){i.getController().pageReady.attachEventOnce("pageReady",function(){e(i)})}})};i._onAfterRouteMatched=function t(o){if(!this._oRouteMatchedPromise){this._oRouteMatchedPromise=this.waitForRightMostViewReady(o).then(e=>{const t=this.getView().getContent()[0];if(t&&t.getAutoFocus&&!t.getAutoFocus()){t.setProperty("autoFocus",true,true)}const o=this.getAppComponent();this._scrollTablesToLastNavigatedItems();if(o.getEnvironmentCapabilities().getCapabilities().UShell){this._computeTitleHierarchy(e)}const n=o.getRouterProxy().isFocusForced();o.getRouterProxy().setFocusForced(false);if(e.getController()&&e.getController().onPageReady&&e.getParent().onPageReady){e.getParent().onPageReady({forceFocus:n})}if(!n){o.getRouterProxy().restoreFocusForCurrentHash()}if(this.onContainerReady){this.onContainerReady()}}).catch(function(t){e.error("An error occurs while computing the title hierarchy and calling focus method",t)}).finally(()=>{this._oRouteMatchedPromise=null})}};i._getTitleHierarchyCache=function e(){if(!this.oTitleHierarchyCache){this.oTitleHierarchyCache={}}return this.oTitleHierarchyCache};i._computeTitleInfo=function e(t,o,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";const r=n.split("/");if(r[r.length-1].indexOf("?")===-1){n+="?restoreHistory=true"}else{n+="&restoreHistory=true"}return{title:t,subtitle:o,intent:n,icon:i}};i._formatTitle=function e(t,o,n){let i="";switch(t){case"Value":i=`${o}`;break;case"ValueDescription":i=`${o} (${n})`;break;case"DescriptionValue":i=`${n} (${o})`;break;case"Description":i=`${n}`;break;default:}return i};i._fetchTitleValue=async function t(n){const i=this.getAppComponent(),r=this.getView().getModel(),a=i.getMetaModel(),c=a.getMetaPath(n),l=r.createBindingContext(n),h=u.format(a.getObject(`${c}/@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value`),{context:a.createBindingContext("/")});if(!h){return Promise.resolve("")}const f=u.format(a.getObject(`${c}/@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value/$Path@com.sap.vocabularies.Common.v1.Text`),{context:a.createBindingContext("/")}),p=a.getObject(`${c}/@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value/$Path@`),g=[],d=s.complexParser(h),m=new Promise(function(e){const t=o.computeDisplayMode(p);e(t)});g.push(m);const y=d.parts?d.parts[0].path:d.path,b=d.formatter,P=r.bindProperty(y,l);P.initialize();const C=new Promise(function(e){const t=function(o){const n=b?b(o.getSource().getValue()):o.getSource().getValue();P.detachChange(t);e(n)};P.attachChange(t)});g.push(C);if(f){const e=s.complexParser(f);let t=e.parts?e.parts[0].path:e.path;t=y.lastIndexOf("/")>-1?`${y.slice(0,y.lastIndexOf("/"))}/${t}`:t;const o=e.formatter,n=r.bindProperty(t,l);n.initialize();const i=new Promise(function(e){const t=function(i){const r=o?o(i.getSource().getValue()):i.getSource().getValue();n.detachChange(t);e(r)};n.attachChange(t)});g.push(i)}try{const e=await Promise.all(g);let t="";if(typeof e!=="string"){t=this._formatTitle(e[0],e[1],e[2])}return t}catch(t){e.error("Error while fetching the title from the header info :"+t)}return""};i._getAppSpecificHash=function e(){const t=c.getInstance();return"hrefForAppSpecificHash"in t?t.hrefForAppSpecificHash(""):"#/"};i._getHash=function e(){return c.getInstance().getHash()};i.getTitleInfoFromPath=function e(t){const o=this._getTitleHierarchyCache();if(o[t]){return Promise.resolve(o[t])}const n=this.getAppComponent().getMetaModel();const i=n.getMetaPath(t);const r=n.getObject(`${i}/@com.sap.vocabularies.UI.v1.HeaderInfo/TypeName`);const a=this._getAppSpecificHash();const s=a+t.slice(1);return this._fetchTitleValue(t).then(e=>{const n=this._computeTitleInfo(r,e,s);o[t]=n;return n})};i._ensureHierarchyElementsAreStrings=function e(t){const o=[];for(const e in t){const n=t[e];const i={};for(const e in n){i[e]=typeof n[e]!=="string"?String(n[e]):n[e]}o.push(i)}return o};i._getTargetTypeFromHash=function e(t){var o;const n=this.getAppComponent();let i="";const r=((o=n.getManifestEntry("sap.ui5").routing)===null||o===void 0?void 0:o.routes)??[];for(const e of r){const o=n.getRouter().getRoute(e.name);if(o!==null&&o!==void 0&&o.match(t)){const t=Array.isArray(e.target)?e.target[0]:e.target;i=n.getRouter().getTarget(t)._oOptions.name;break}}return i};i._computeTitleHierarchy=function t(o){const n=this.getAppComponent(),i=o.getBindingContext(),r=o.getParent(),a=[],s=this._getAppSpecificHash(),c=n.getManifestEntry("sap.app"),l=c.title||"",u=c.subTitle||"",h=c.icon||"";let f,p;if(r&&r._getPageTitleInformation){if(i){if(this._getTargetTypeFromHash("")==="sap.fe.templates.ListReport"){a.push(Promise.resolve(this._computeTitleInfo(l,u,s,h)))}p=i.getPath();const e=p.split("/");let t="";e.shift();e.pop();e.forEach(e=>{t+=`/${e}`;const o=n.getMetaModel(),i=o.getMetaPath(t),r=o.getObject(`${i}/@com.sap.vocabularies.Common.v1.ResultContext`);if(!r){a.push(this.getTitleInfoFromPath(t))}})}f=r._getPageTitleInformation();f=this._computeTitleInfo(f.title,f.subtitle,s+this._getHash());if(i){this._getTitleHierarchyCache()[p]=f}else{this._getTitleHierarchyCache()[s]=f}}else{a.push(Promise.reject("Title information missing in HeaderInfo"))}return Promise.all(a).then(e=>{const t=this._ensureHierarchyElementsAreStrings(e),o=f.title;t.reverse();n.getShellServices().setHierarchy(t);this._setShellMenuTitle(n,o,l)}).catch(function(t){e.error(t)}).finally(()=>{this.bIsComputingTitleHierachy=false}).catch(function(t){e.error(t)})};i.calculateLayout=function e(t,o,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;return null};i.onContextBoundToView=function e(t){if(t){const e=this.getView().getModel("internal").getProperty("/deepestPath"),o=t.getPath();if(!e||e.indexOf(o)!==0){this.getView().getModel("internal").setProperty("/deepestPath",o,undefined,true)}}};i.displayErrorPage=function e(t,o){return Promise.resolve(true)};i.updateUIStateForView=function e(t,o){};i.getInstancedViews=function e(){return[]};i._scrollTablesToLastNavigatedItems=function e(){};i.isFclEnabled=function e(){return false};i._setShellMenuTitle=function e(t,o,n){t.getShellServices().setTitle(o)};i.getAppContentContainer=function e(){var t,o;const n=this.getAppComponent();const i=((t=n.getManifestEntry("sap.ui5").routing)===null||t===void 0?void 0:(o=t.config)===null||o===void 0?void 0:o.controlId)??"appContent";return this.getView().byId(i)};return n}(t),m=T(d.prototype,"oPlaceholder",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),y=T(d.prototype,"viewState",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),d))||g);return w},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/AsyncComponentServiceFactory", ["sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(t,e){"use strict";function r(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;n(t,e)}function n(t,e){n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,r){e.__proto__=r;return e};return n(t,e)}let o=function(t){r(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;n.init=function t(){this.initPromise=new Promise((t,e)=>{this.resolveFn=t;this.rejectFn=e});const e=this.getContext();const r=e.scopeObject;const n=r._getManifestEntry("/sap.ui5/services",true);Promise.all(Object.keys(n).filter(t=>n[t].startup==="waitFor"&&n[t].factoryName!=="sap.fe.core.services.AsyncComponentService").map(t=>r.getService(t).then(e=>{const n=`get${t[0].toUpperCase()}${t.substr(1)}`;if(!r.hasOwnProperty(n)){r[n]=function(){return e}}}))).then(()=>r.pRootControlLoaded||Promise.resolve()).then(()=>{if(r.onServicesStarted){r.onServicesStarted()}this.resolveFn(this)}).catch(this.rejectFn)};return e}(t);let i=function(t){r(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;n.createInstance=function t(e){const r=new o(e);return r.initPromise};return e}(e);return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/CacheHandlerServiceFactory", ["sap/base/strings/hash","sap/ui/core/cache/CacheManager","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(e,t,n,i){"use strict";var s={};function o(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;r(e,t)}function r(e,t){r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return r(e,t)}function a(e,t,n){return new Promise(function(i){jQuery.ajax(e,{method:"GET"}).done(function(s,o,r){n[e]=r.getResponseHeader("ETag")||r.getResponseHeader("Last-Modified");i(t===n[e])}).fail(function(){n[e]="";i(false)})})}let c=function(n){o(i,n);function i(){return n.apply(this,arguments)||this}s.CacheHandlerService=i;var r=i.prototype;r.init=function e(){const t=this.getContext();this.oFactory=t.factory;const n=t.settings;if(!n.metaModel){throw new Error("a `metaModel` property is expected when instantiating the CacheHandlerService")}this.oMetaModel=n.metaModel;this.oAppComponent=n.appComponent;this.oComponent=n.component;this.initPromise=this.oMetaModel.fetchEntityContainer().then(()=>this);this.mCacheNeedsInvalidate={}};r.exit=function e(){this.oFactory.removeGlobalInstance(this.oMetaModel)};r.validateCacheKey=async function e(n,i){let s=true;let o;try{const e=await t.get(n);const r=this.getETags(i);o=JSON.stringify(r);if(e){const t={};const n=JSON.parse(e.cachedETags);const i=await Promise.all(Object.keys(n).map(function(e){if(n[e]){if(r[e]){t[e]=r[e];return n[e]===r[e]}else{return a(e,n[e],t)}}else{t[e]=r[e];return n[e]===r[e]}}));s=i.indexOf(false)>=0;if(Object.keys(t).some(function(e){return!t[e]})){o=null}else{o=s?JSON.stringify(t):e.viewCacheKey}}else if(Object.keys(r).some(function(e){return!r[e]})){s=true;o=null}}catch(e){s=true;o=null}this.mCacheNeedsInvalidate[n]=s;return o};r.invalidateIfNeeded=function e(n,i,s){const o=JSON.stringify(this.getETags(s));if(this.mCacheNeedsInvalidate[i]||n&&n!==o){const e={};e.cachedETags=o;e.viewCacheKey=n;return t.set(i,e)}else{return Promise.resolve()}};r.getETags=function t(n){const i=this.oMetaModel.getETags();Object.keys(i).forEach(function(e){if(i[e]instanceof Date){i[e]=i[e].toISOString()}});const s=this.oAppComponent.getManifest();const o=e(JSON.stringify({sapApp:s["sap.app"],viewData:n.getViewData()}));i["manifest"]=o;return i};r.getInterface=function e(){return this};return i}(n);s.CacheHandlerService=c;let u=function(e){o(t,e);function t(){var t;for(var n=arguments.length,i=new Array(n),s=0;s<n;s++){i[s]=arguments[s]}t=e.call(this,...i)||this;t._oInstanceRegistry={};return t}var n=t.prototype;n.createInstance=function e(t){const n=t.settings.metaModel.getId();let i=this._oInstanceRegistry[n];if(!i){this._oInstanceRegistry[n]=i=new c(Object.assign({factory:this,scopeObject:null,scopeType:"service"},t))}return i.initPromise.then(()=>this._oInstanceRegistry[n]).catch(e=>{this._oInstanceRegistry[n]=null;throw e})};n.getInstance=function e(t){return this._oInstanceRegistry[t.getId()]};n.removeGlobalInstance=function e(t){this._oInstanceRegistry[t.getId()]=null};return t}(i);return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/EnvironmentServiceFactory", ["sap/ui/core/Core","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/VersionInfo","../converters/MetaModelConverter"],function(t,e,i,n,r){"use strict";var s={};var a=r.DefaultEnvironmentCapabilities;function o(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;c(t,e)}function c(t,e){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return c(t,e)}let p=function(e){o(i,e);function i(){return e.apply(this,arguments)||this}s.EnvironmentCapabilitiesService=i;var r=i.prototype;r.init=function t(){this.initPromise=new Promise((t,e)=>{this.resolveFn=t;this.rejectFn=e});const e=this.getContext();this.environmentCapabilities=Object.assign({},a);n.load().then(t=>{this.environmentCapabilities.Chart=!!t.libraries.find(t=>t.name==="sap.viz");this.environmentCapabilities.MicroChart=!!t.libraries.find(t=>t.name==="sap.suite.ui.microchart");this.environmentCapabilities.UShell=!!(sap&&sap.ushell&&sap.ushell.Container);this.environmentCapabilities.IntentBasedNavigation=!!(sap&&sap.ushell&&sap.ushell.Container);this.environmentCapabilities=Object.assign(this.environmentCapabilities,e.settings);this.resolveFn(this)}).catch(this.rejectFn)};r.resolveLibrary=function e(i){return new Promise(function(e){try{t.loadLibrary(`${i.replace(/\./g,"/")}`,{async:true}).then(function(){e(true)}).catch(function(){e(false)})}catch(t){e(false)}})};r.setCapabilities=function t(e){this.environmentCapabilities=e};r.setCapability=function t(e,i){this.environmentCapabilities[e]=i};r.getCapabilities=function t(){return this.environmentCapabilities};r.getInterface=function t(){return this};return i}(e);s.EnvironmentCapabilitiesService=p;let u=function(t){o(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;i.createInstance=function t(e){const i=new p(e);return i.initPromise};return e}(i);return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/NavigationServiceFactory", ["sap/fe/navigation/NavigationHandler","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(t,e,n){"use strict";var r={};function i(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;a(t,e)}function a(t,e){a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,n){e.__proto__=n;return e};return a(t,e)}let o=function(e){i(n,e);function n(){return e.apply(this,arguments)||this}r.NavigationService=n;var a=n.prototype;a.init=function e(){const n=this.getContext(),r=n&&n.scopeObject;this.oNavHandler=new t(r);this.oNavHandler.setModel(r.getModel());this.initPromise=Promise.resolve(this)};a.exit=function t(){this.oNavHandler.destroy()};a.navigate=function t(e,n,r,i,a,o,s){this.oNavHandler.navigate(e,n,r,i,a,o,s)};a.parseNavigation=function t(){return this.oNavHandler.parseNavigation()};a._processBeforeSmartLinkPopoverOpens=function t(e,n,r){return this.oNavHandler.processBeforeSmartLinkPopoverOpens(e,n,r)};a.getAppStateKeyAndUrlParameters=function t(e){return this.oNavHandler._getAppStateKeyAndUrlParameters(e)};a.getTechnicalParameters=function t(){return this.oNavHandler.getTechnicalParameters()};a.setTechnicalParameters=function t(e){this.oNavHandler.setTechnicalParameters(e)};a.setModel=function t(e){this.oNavHandler.setModel(e)};a.storeInnerAppStateAsync=function t(e,n,r){return new Promise((t,i)=>this.oNavHandler.storeInnerAppStateAsync(e,n,r).then(t,i))};a.storeInnerAppStateWithImmediateReturn=function t(e,n){return this.oNavHandler.storeInnerAppStateWithImmediateReturn(e,n)};a.replaceHash=function t(e){this.oNavHandler.replaceHash(e)};a.replaceInnerAppStateKey=function t(e,n){return this.oNavHandler._replaceInnerAppStateKey(e,n)};a.getUrlParametersFromSelectionVariant=function t(e){return this.oNavHandler._getURLParametersFromSelectionVariant(e)};a.saveAppStateWithImmediateReturn=function t(e){if(e){const t=e.toJSONString(),n=JSON.parse(t),r={selectionVariant:n},i=this.oNavHandler._saveAppStateWithImmediateReturn(r);return i!==null&&i!==void 0&&i.appStateKey?i.appStateKey:""}else{return undefined}};a.mixAttributesAndSelectionVariant=function t(e,n,r){return this.oNavHandler.mixAttributesAndSelectionVariant(e,n,r)};a.constructContextUrl=function t(e,n){return this.oNavHandler.constructContextUrl(e,n)};a.getInterface=function t(){return this};return n}(e);r.NavigationService=o;function s(){return{}}function c(){return Promise.resolve({})}function u(){const t=jQuery.Deferred();t.resolve({},{},"initial");return t.promise()}function p(){return""}let l=function(){function t(){this.createEmptyAppState=s;this.storeInnerAppStateWithImmediateReturn=s;this.mixAttributesAndSelectionVariant=s;this.getAppState=c;this.getStartupAppState=c;this.parseNavigation=u;this.constructContextUrl=p;this.initPromise=Promise.resolve(this)}r.NavigationServicesMock=t;var e=t.prototype;e.getInterface=function t(){return this};e.replaceInnerAppStateKey=function t(e){return e?e:""};e.navigate=function t(){};return t}();r.NavigationServicesMock=l;let h=function(t){i(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;n.createInstance=function t(e){const n=sap.ushell&&sap.ushell.Container?new o(e):new l;return n.initPromise.then(function(t){return t})};return e}(n);return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/ResourceModelServiceFactory", ["sap/fe/core/ResourceModel","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(e,t,n){"use strict";var o={};function s(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return c(e,t)}let r=function(t){s(n,t);function n(){return t.apply(this,arguments)||this}o.ResourceModelService=n;var c=n.prototype;c.init=function t(){const n=this.getContext();const o=n.settings;this.oFactory=n.factory;const s=o.bundles.concat(o.enhanceI18n||[]).map(function(e){return typeof e.isA==="function"&&e.isA("sap.ui.model.resource.ResourceModel")?e.getResourceBundle():{bundleName:e.replace(/\//g,".")}});this.oResourceModel=new e({bundleName:s[0].bundleName,enhanceWith:s.slice(1),async:true});if(n.scopeType==="component"){const e=n.scopeObject;e.setModel(this.oResourceModel,o.modelName)}this.initPromise=Promise.all([this.oResourceModel.getResourceBundle(),this.oResourceModel._pEnhanced||Promise.resolve()]).then(e=>{this.oResourceModel.__bundle=e[0];return this})};c.getResourceModel=function e(){return this.oResourceModel};c.getInterface=function e(){return this};c.exit=function e(){this.oFactory.removeGlobalInstance()};return n}(t);o.ResourceModelService=r;let i=function(e){s(t,e);function t(){var t;for(var n=arguments.length,o=new Array(n),s=0;s<n;s++){o[s]=arguments[s]}t=e.call(this,...o)||this;t._oInstances={};return t}var n=t.prototype;n.createInstance=function e(t){const n=`${t.scopeObject.getId()}_${t.settings.bundles.join(",")}`+(t.settings.enhanceI18n?`,${t.settings.enhanceI18n.join(",")}`:"");if(!this._oInstances[n]){this._oInstances[n]=new r(Object.assign({factory:this},t))}return this._oInstances[n].initPromise};n.removeGlobalInstance=function e(){this._oInstances={}};return t}(n);return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/RoutingServiceFactory", ["sap/base/Log","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/controllerextensions/Placeholder","sap/fe/core/controllerextensions/routing/NavigationReason","sap/fe/core/helpers/AppStartupHelper","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/EditState","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/SemanticKeyHelper","sap/suite/ui/commons/collaboration/CollaborationHelper","sap/ui/base/BindingParser","sap/ui/base/EventProvider","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/model/odata/v4/ODataUtils"],function(t,e,o,n,i,r,a,s,u,h,c,l,g,f,p,d){"use strict";var m,v,P,C,R,_,y;var M={};var b=a.event;var x=a.defineUI5Class;function L(t,e,o,n){if(!o)return;Object.defineProperty(t,e,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function T(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function S(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;w(t,e)}function w(t,e){w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,o){e.__proto__=o;return e};return w(t,e)}function E(t,e,o,n,i){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=o.slice().reverse().reduce(function(o,n){return n(t,e,o)||o},r);if(i&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(i):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function I(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let A=(m=x("sap.fe.core.services.RoutingServiceEventing"),v=b(),P=b(),m(C=(R=function(t){S(e,t);function e(){var e;for(var o=arguments.length,n=new Array(o),i=0;i<o;i++){n[i]=arguments[i]}e=t.call(this,...n)||this;L(e,"routeMatched",_,T(e));L(e,"afterRouteMatched",y,T(e));return e}return e}(g),_=E(R.prototype,"routeMatched",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),y=E(R.prototype,"afterRouteMatched",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),R))||C);let O=function(a){S(g,a);function g(){var t;for(var e=arguments.length,o=new Array(e),n=0;n<e;n++){o[n]=arguments[n]}t=a.call(this,...o)||this;t.navigationInfoQueue=[];return t}M.RoutingService=g;var f=g.prototype;f.init=function t(){const e=this.getContext();if(e.scopeType==="component"){var o;this.oAppComponent=e.scopeObject;this.oModel=this.oAppComponent.getModel();this.oMetaModel=this.oModel.getMetaModel();this.oRouter=this.oAppComponent.getRouter();this.oRouterProxy=this.oAppComponent.getRouterProxy();this.eventProvider=new A;const t=this.oAppComponent.getManifestEntry("sap.ui5").routing;this._parseRoutingConfiguration(t);const n=this.oAppComponent.getManifestEntry("sap.app");this.outbounds=(o=n.crossNavigation)===null||o===void 0?void 0:o.outbounds}this.initPromise=Promise.resolve(this)};f.beforeExit=function t(){this.oRouter.detachRouteMatched(this._fnOnRouteMatched,this);this.eventProvider.fireEvent("routeMatched",{})};f.exit=function t(){this.eventProvider.destroy()};f._parseRoutingConfiguration=function e(o){var n;const i=(o===null||o===void 0?void 0:(n=o.config)===null||n===void 0?void 0:n.routerClass)==="sap.f.routing.Router";this._mTargets={};Object.keys(o.targets).forEach(t=>{this._mTargets[t]=Object.assign({targetName:t},o.targets[t]);if(this._mTargets[t].contextPattern!==undefined){this._mTargets[t].viewLevel=this._getViewLevelFromPattern(this._mTargets[t].contextPattern,0)}});this._mRoutes={};for(const e in o.routes){const n=o.routes[e],r=Array.isArray(n.target)?n.target:[n.target],a=Array.isArray(o.routes)?n.name:e,s=n.pattern;if(s.length<8||s.indexOf(":?query:")!==s.length-8){t.warning(`Pattern for route ${a} doesn't end with ':?query:' : ${s}`)}const u=this._getViewLevelFromPattern(s,0);this._mRoutes[a]={name:a,pattern:s,targets:r,routeLevel:u};for(let t=0;t<r.length;t++){const e=this._mTargets[r[t]].parent;if(e){r.push(e)}}if(!i){if(this._mTargets[r[0]].viewLevel===undefined||this._mTargets[r[0]].viewLevel<u){this._mTargets[r[0]].viewLevel=u}this._mTargets[r[0]].FCLLevel=-1}else if(r.length===1&&this._mTargets[r[0]].controlAggregation!=="beginColumnPages"){this._mTargets[r[0]].FCLLevel=3}else{r.forEach(t=>{switch(this._mTargets[t].controlAggregation){case"beginColumnPages":this._mTargets[t].FCLLevel=0;break;case"midColumnPages":this._mTargets[t].FCLLevel=1;break;default:this._mTargets[t].FCLLevel=2}})}}Object.keys(this._mTargets).forEach(t=>{while(this._mTargets[t].parent){const e=this._mTargets[t].parent;this._mTargets[e].viewLevel=this._mTargets[e].viewLevel||this._mTargets[t].viewLevel;this._mTargets[e].contextPattern=this._mTargets[e].contextPattern||this._mTargets[t].contextPattern;this._mTargets[e].FCLLevel=this._mTargets[e].FCLLevel||this._mTargets[t].FCLLevel;this._mTargets[e].controlAggregation=this._mTargets[e].controlAggregation||this._mTargets[t].controlAggregation;t=e}});const r=[];const a=[];let s;for(const t in this._mRoutes){const e=this._mRoutes[t].routeLevel;if(e===0){r.push(t)}else if(e===1){a.push(t)}}if(r.length===1){s=r[0]}else if(a.length===1){s=a[0]}if(s){const e=this._mRoutes[s].targets.slice(-1)[0];this.sContextPath="";if(this._mTargets[e].options&&this._mTargets[e].options.settings){const t=this._mTargets[e].options.settings;this.sContextPath=t.contextPath||`/${t.entitySet}`}if(!this.sContextPath){t.warning(`Cannot determine default contextPath: contextPath or entitySet missing in default target: ${e}`)}}else{t.warning("Cannot determine default contextPath: no default route found.")}Object.keys(this._mTargets).map(t=>this._mTargets[t]).sort((t,e)=>t.viewLevel<e.viewLevel?-1:1).forEach(t=>{if(t.options){const e=t.options.settings;const o=e.contextPath||(e.entitySet?`/${e.entitySet}`:"");if(!e.fullContextPath&&o){e.fullContextPath=`${o}/`}Object.keys(e.navigation||{}).forEach(o=>{const n=this._mRoutes[e.navigation[o].detail.route];if(n&&n.targets){n.targets.forEach(n=>{if(this._mTargets[n].options&&this._mTargets[n].options.settings&&!this._mTargets[n].options.settings.fullContextPath){if(t.viewLevel===0){this._mTargets[n].options.settings.fullContextPath=`${(o.startsWith("/")?"":"/")+o}/`}else{this._mTargets[n].options.settings.fullContextPath=`${e.fullContextPath+o}/`}}})}})}})};f._getViewLevelFromPattern=function t(e,o){e=e.replace(":?query:","");const n=new RegExp("/[^/]*$");if(e&&e[0]!=="/"&&e[0]!=="?"){e=`/${e}`}if(e.length){e=e.replace(n,"");if(this.oRouter.match(e)||e===""){return this._getViewLevelFromPattern(e,++o)}else{return this._getViewLevelFromPattern(e,o)}}else{return o}};f._getRouteInformation=function t(e){return this._mRoutes[e]};f._getTargetInformation=function t(e){return this._mTargets[e]};f._getComponentId=function t(e,o){if(o.indexOf(`${e}---`)===0){return o.substr(e.length+3)}return o};f.getTargetInformationFor=function t(e){const o=this._getComponentId(e._sOwnerId,e.getId());let n=null;Object.keys(this._mTargets).forEach(t=>{if(this._mTargets[t].id===o||this._mTargets[t].viewId===o){n=t}});return this._getTargetInformation(n)};f.getLastSemanticMapping=function t(){return this.oLastSemanticMapping};f.setLastSemanticMapping=function t(e){this.oLastSemanticMapping=e};f.navigateTo=function t(e,o,n,i){let r,a;if(e.getModel()&&e.getModel().getMetaModel&&e.getModel().getMetaModel()){a=u.isStickySessionSupported(e.getModel().getMetaModel())}if(!n){r=Promise.resolve(h.getSemanticPath(e))}else{r=this.prepareParameters(n,o,e).then(t=>this.oRouter.getURL(o,t))}return r.then(t=>{this.oRouterProxy.navToHash(t,i,false,false,!a)})};f.prepareParameters=function e(o,n,i){let r;try{const t=i.getPath();const e=i.getModel().getMetaModel();const n=t.split("/");const a=Object.keys(o).map(t=>{const r=o[t];const a=l.complexParser(r);const s=a.parts||[a];const u=s.map(function(t){const o=t.path.split("../");const r=n.slice(0,n.length-o.length+1);r.push(o[o.length-1]);const a=r.join("/");const s=e.getMetaContext(a);return i.requestProperty(a).then(function(t){const e=s.getObject();const o=e.$Type;return d.formatLiteral(t,o)})});return Promise.all(u).then(e=>{const o=a.formatter?a.formatter.apply(this,e):e.join("");return{key:t,value:o}})});r=Promise.all(a).then(function(t){const e={};t.forEach(function(t){e[t.key]=t.value});return e})}catch(e){t.error(`Could not parse the parameters for the navigation to route ${n}`);r=Promise.resolve(undefined)}return r};f._fireRouteMatchEvents=function t(e){this.eventProvider.fireEvent("routeMatched",e);this.eventProvider.fireEvent("afterRouteMatched",e);s.cleanProcessedEditState()};f.navigateToContext=function t(e,n,i,r){let a="",s,h=false;if(e.getModel()&&e.getModel().getMetaModel){h=u.isStickySessionSupported(e.getModel().getMetaModel())}if(n&&n.targetPath&&i&&i.navigation){const t=i.navigation[n.targetPath].detail;a=t.route;if(t.parameters){s=this.prepareParameters(t.parameters,a,e)}}let c=this._getPathFromContext(e,n);if(c.length===0&&this.bExitOnNavigateBackToRoot){this.oRouterProxy.exitFromApp();return Promise.resolve(true)}if(n!==null&&n!==void 0&&n.asyncContext||n!==null&&n!==void 0&&n.bDeferredContext){c+="(...)"}const l=this._calculateLayout(c,n);if(l){c+=`?layout=${l}`}const g={oAsyncContext:n===null||n===void 0?void 0:n.asyncContext,bDeferredContext:n===null||n===void 0?void 0:n.bDeferredContext,bTargetEditable:n===null||n===void 0?void 0:n.editable,bPersistOPScroll:n===null||n===void 0?void 0:n.bPersistOPScroll,useContext:(n===null||n===void 0?void 0:n.updateFCLLevel)===-1||n!==null&&n!==void 0&&n.bRecreateContext?undefined:e,bDraftNavigation:n===null||n===void 0?void 0:n.bDraftNavigation,bShowPlaceholder:(n===null||n===void 0?void 0:n.showPlaceholder)!==undefined?n===null||n===void 0?void 0:n.showPlaceholder:true,reason:n===null||n===void 0?void 0:n.reason};if(n!==null&&n!==void 0&&n.checkNoHashChange){const t=this.oRouterProxy.getHash().replace(/[&?]{1}sap-iapp-state=[A-Z0-9]+/,"");if(c===t){const t=this.oRouter.getRouteInfoByHash(this.oRouterProxy.getHash());if(t){t.navigationInfo=g;t.routeInformation=this._getRouteInformation(this.sCurrentRouteName);t.routePattern=this.sCurrentRoutePattern;t.views=this.aCurrentViews}this.oRouterProxy.setFocusForced(!!n.bForceFocus);this._fireRouteMatchEvents(t);return Promise.resolve(true)}}if(n!==null&&n!==void 0&&n.transient&&n.editable==true&&c.indexOf("(...)")===-1){if(c.indexOf("?")>-1){c+="&i-action=create"}else{c+="?i-action=create"}}if(r&&r.name==="sap.fe.templates.ListReport"){const t=this.oRouter.getRouteInfoByHash(c);if(t){const e=this._getRouteInformation(t.name);if(e&&e.targets&&e.targets.length>0){const t=e.targets[e.targets.length-1];const n=this._getTargetInformation(t);if(n&&n.name==="sap.fe.templates.ObjectPage"){o.removeUnboundTransitionMessages()}}}}this.navigationInfoQueue.push(g);if(a&&s){return s.then(t=>{t.bIsStickyMode=h;this.oRouter.navTo(a,t);return Promise.resolve(true)})}return this.oRouterProxy.navToHash(c,false,n===null||n===void 0?void 0:n.noPreservationCache,n===null||n===void 0?void 0:n.bForceFocus,!h).then(t=>{if(!t){this.navigationInfoQueue.pop()}return t})};f.navigateToRoute=function t(e,o){const n=this.oRouter.getURL(e,o);return this.oRouterProxy.navToHash(n,undefined,undefined,undefined,!o.bIsStickyMode)};f.isCurrentStateImpactedBy=function t(e){const o=e.getPath();if(this.oRouterProxy.isCurrentStateImpactedBy(o)){return true}else if(/^[^()]+\([^()]+\)$/.test(o)){let t;if(this.oLastSemanticMapping&&this.oLastSemanticMapping.technicalPath===o){t=this.oLastSemanticMapping.semanticPath}else{t=h.getSemanticPath(e)}return t!=o?this.oRouterProxy.isCurrentStateImpactedBy(t):false}else{return false}};f._findPathToNavigate=function t(e){const o=new RegExp("/[^/]*$");e=e.replace(o,"");if(this.oRouter.match(e)||e===""){return e}else{return this._findPathToNavigate(e)}};f._checkIfContextSupportsSemanticPath=function t(e){const o=e.getPath();if(!/^\/[^(]+\([^)]+\)$/.test(o)){return false}const n=e.getModel().getMetaModel();const i=n.getMetaContext(e.getPath()).getObject("@sapui.name");if(!h.getSemanticKeys(n,i)){return false}return u.isDraftSupported(n,o)};f._getPathFromContext=function t(e,o){let n;if(e.isA("sap.ui.model.odata.v4.ODataListBinding")&&e.isRelative()){n=e.getHeaderContext().getPath()}else{n=e.getPath()}if(o.updateFCLLevel===-1){n=this._findPathToNavigate(n);if(this.oLastSemanticMapping&&this.oLastSemanticMapping.technicalPath===n){n=this.oLastSemanticMapping.semanticPath}}else if(this._checkIfContextSupportsSemanticPath(e)){const t=h.getSemanticPath(e,true);if(!t){this.setLastSemanticMapping(undefined)}else if(t!==n){this.setLastSemanticMapping({technicalPath:n,semanticPath:t});n=t}}if(n[0]==="/"){n=n.substring(1)}return n};f._calculateLayout=function t(e,o){let n=o.FCLLevel;if(o.updateFCLLevel){n+=o.updateFCLLevel;if(n<0){n=0}}if(o.updateFCLLevel<0&&!o.sLayout){o.sLayout=this.oRouterProxy.findLayoutForHash(e)}return this.oAppComponent.getRootViewController().calculateLayout(n,e,o.sLayout,o.keepCurrentLayout)};f._beforeRouteMatched=function t(){const o=(new n).isPlaceholderEnabled();if(!o){const t=this.oAppComponent.getRootControl();e.lock(t)}};f._onRouteMatched=function o(r){const a=this.oAppComponent.getAppStateHandler(),s=this.oAppComponent.getRootControl();const u=(new n).isPlaceholderEnabled();if(e.isLocked(s)&&!u){e.unlock(s)}const h=r.getParameters();if(this.navigationInfoQueue.length){h.navigationInfo=this.navigationInfoQueue[0];this.navigationInfoQueue=this.navigationInfoQueue.slice(1)}else{h.navigationInfo={}}if(a.checkIfRouteChangedByIApp()){h.navigationInfo.reason=i.AppStateChanged;a.resetRouteChangedByIApp()}this.sCurrentRouteName=r.getParameter("name");this.sCurrentRoutePattern=h.config.pattern;this.aCurrentViews=r.getParameter("views");h.routeInformation=this._getRouteInformation(this.sCurrentRouteName);h.routePattern=this.sCurrentRoutePattern;this._fireRouteMatchEvents(h);if(!history.state||history.state.feLevel===undefined){this.oRouterProxy.restoreHistory().then(()=>{this.oRouterProxy.resolveRouteMatch()}).catch(function(e){t.error("Error while restoring history",e)})}else{this.oRouterProxy.resolveRouteMatch()}};f.attachRouteMatched=function t(e,o,n){this.eventProvider.attachEvent("routeMatched",e,o,n)};f.detachRouteMatched=function t(e,o){this.eventProvider.detachEvent("routeMatched",e,o)};f.attachAfterRouteMatched=function t(e,o,n){this.eventProvider.attachEvent("afterRouteMatched",e,o,n)};f.detachAfterRouteMatched=function t(e,o){this.eventProvider.detachEvent("afterRouteMatched",e,o)};f.getRouteFromHash=function t(e,o){const n=e.getHashChanger().hash;const i=e.getRouteInfoByHash(n);return o.getMetadata().getManifestEntry("/sap.ui5/routing/routes").filter(function(t){return t.name===i.name})[0]};f.getTargetsFromRoute=function t(e){const o=e.target;if(typeof o==="string"){return[this._mTargets[o]]}else{const t=[];o.forEach(e=>{t.push(this._mTargets[e])});return t}};f.initializeRouting=async function e(){await c.processAndExpandHash();this._fnOnRouteMatched=this._onRouteMatched.bind(this);this.oRouter.attachRouteMatched(this._fnOnRouteMatched,this);const o=(new n).isPlaceholderEnabled();if(!o){this.oRouter.attachBeforeRouteMatched(this._beforeRouteMatched.bind(this))}this.navigationInfoQueue=[];s.resetEditState();this.bExitOnNavigateBackToRoot=!this.oRouter.match("");const i=this.oRouter.getHashChanger().getHash().indexOf("sap-iapp-state")!==-1;try{const t=await this.oAppComponent.getStartupParameters();const e=t!==undefined&&Object.keys(t).length!==0;const o=this.oRouter.getHashChanger().getHash();if(!i&&e&&!o){if(t.preferredMode&&t.preferredMode[0].toUpperCase().indexOf("CREATE")!==-1){await this._manageCreateStartup(t)}else{await this._manageDeepLinkStartup(t)}}}catch(e){t.error("Error during routing initialization",e)}};f.getDefaultCreateHash=function t(e){return r.getDefaultCreateHash(e,this.getContextPath(),this.oRouter)};f._manageCreateStartup=function t(e){return r.getCreateStartupHash(e,this.getContextPath(),this.oRouter,this.oMetaModel).then(t=>{if(t){this.oRouter.getHashChanger().replaceHash(t);if(e!==null&&e!==void 0&&e.preferredMode&&e.preferredMode[0].toUpperCase().indexOf("AUTOCREATE")!==-1){this.oAppComponent.setStartupModeAutoCreate()}else{this.oAppComponent.setStartupModeCreate()}this.bExitOnNavigateBackToRoot=true}})};f._manageDeepLinkStartup=function t(e){return r.getDeepLinkStartupHash(this.oAppComponent.getManifest()["sap.ui5"].routing,e,this.oModel).then(t=>{let e;if(t.context){const o=t.context.getPath();const n=this._checkIfContextSupportsSemanticPath(t.context)?h.getSemanticPath(t.context):o;if(n!==o){this.setLastSemanticMapping({technicalPath:o,semanticPath:n})}e=n.substring(1)}else if(t.hash){e=t.hash}if(e){this.oRouter.getHashChanger().replaceHash(e);this.oAppComponent.setStartupModeDeeplink()}})};f.getOutbounds=function t(){return this.outbounds};f.getContextPath=function t(){return this.sContextPath};f.getInterface=function t(){return this};return g}(f);M.RoutingService=O;let H=function(t){S(e,t);function e(){return t.apply(this,arguments)||this}var o=e.prototype;o.createInstance=function t(e){const o=new O(e);return o.initPromise};return e}(p);return H},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/ShellServicesFactory", ["sap/base/Log","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(e,t,n){"use strict";function i(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;r(e,t)}function r(e,t){r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return r(e,t)}let s=function(e){i(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.init=function e(){this.initPromise=Promise.resolve(this);this.instanceType="mock"};n.getLinks=function e(){return Promise.resolve([])};n.getLinksWithCache=function e(){return Promise.resolve([])};n.toExternal=function e(){};n.getStartupAppState=function e(){return Promise.resolve(undefined)};n.backToPreviousApp=function e(){};n.hrefForExternal=function e(){return""};n.getHash=function e(){return window.location.href};n.hrefForExternalAsync=function e(){return Promise.resolve({})};n.getAppState=function e(){return Promise.resolve({})};n.createEmptyAppState=function e(){return Promise.resolve({})};n.createEmptyAppStateAsync=function e(){return Promise.resolve({})};n.isNavigationSupported=function e(){return Promise.resolve({})};n.isInitialNavigation=function e(){return false};n.isInitialNavigationAsync=function e(){return Promise.resolve({})};n.expandCompactHash=function e(){return Promise.resolve({})};n.parseShellHash=function e(){return{}};n.splitHash=function e(){return Promise.resolve({})};n.constructShellHash=function e(){return""};n.setDirtyFlag=function e(){};n.registerDirtyStateProvider=function e(){};n.deregisterDirtyStateProvider=function e(){};n.createRenderer=function e(){return{}};n.getUser=function e(){return{}};n.hasUShell=function e(){return false};n.registerNavigationFilter=function e(){};n.unregisterNavigationFilter=function e(){};n.setBackNavigation=function e(){};n.setHierarchy=function e(){};n.setTitle=function e(){};n.getContentDensity=function e(){if(document.body.classList.contains("sapUiSizeCozy")){return"cozy"}else if(document.body.classList.contains("sapUiSizeCompact")){return"compact"}else{return""}};n.getPrimaryIntent=function e(){return Promise.resolve()};n.waitForPluginsLoad=function e(){return Promise.resolve(true)};return t}(t);function o(e){return new Promise((t,n)=>{e.done(t).fail(n)})}let c=function(t){i(n,t);function n(){return t.apply(this,arguments)||this}var r=n.prototype;r.init=function e(){const t=this.getContext();const n=t.scopeObject;this.oShellContainer=t.settings.shellContainer;this.instanceType="real";this.linksCache={};this.fnFindSemanticObjectsInCache=function(e){const t=e;const n=[];const i=[];for(let r=0;r<t.length;r++){if(!!t[r][0]&&!!t[r][0].semanticObject){if(this.linksCache[t[r][0].semanticObject]){n.push(this.linksCache[t[r][0].semanticObject].links);Object.defineProperty(e[r][0],"links",{value:this.linksCache[t[r][0].semanticObject].links})}else{i.push(t[r])}}}return{oldArgs:e,newArgs:i,cachedLinks:n}};this.initPromise=new Promise((e,t)=>{this.resolveFn=e;this.rejectFn=t});const i=this.oShellContainer.getServiceAsync("CrossApplicationNavigation");const r=this.oShellContainer.getServiceAsync("URLParsing");const s=this.oShellContainer.getServiceAsync("ShellNavigation");const o=this.oShellContainer.getServiceAsync("PluginManager");const c=n.getService("ShellUIService");Promise.all([i,r,s,c,o]).then(e=>{let[t,n,i,r,s]=e;this.crossAppNavService=t;this.urlParsingService=n;this.shellNavigation=i;this.shellUIService=r;this.shellPluginManager=s;this.resolveFn()}).catch(this.rejectFn)};r.getLinks=function e(t){return new Promise((e,n)=>{this.crossAppNavService.getLinks(t).fail(e=>{n(new Error(`${e} sap.fe.core.services.ShellServicesFactory.getLinks`))}).then(e)})};r.getLinksWithCache=function e(t){return new Promise((e,n)=>{if(t.length===0){e([])}else{const i=this.fnFindSemanticObjectsInCache(t);if(i.newArgs.length===0){e(i.cachedLinks)}else{this.crossAppNavService.getLinks(i.newArgs).fail(e=>{n(new Error(`${e} sap.fe.core.services.ShellServicesFactory.getLinksWithCache`))}).then(t=>{if(t.length!==0){const e={};for(let n=0;n<t.length;n++){if(t[n].length>0&&i.newArgs[n][0].links===undefined){e[i.newArgs[n][0].semanticObject]={links:t[n]};this.linksCache=Object.assign(this.linksCache,e)}}}if(i.cachedLinks.length===0){e(t)}else{const n=[];let r=0;for(let e=0;e<i.oldArgs.length;e++){if(r<t.length){if(t[r].length>0&&i.oldArgs[e][0].semanticObject===i.newArgs[r][0].semanticObject){n.push(t[r]);r++}else{n.push(i.oldArgs[e][0].links)}}else{n.push(i.oldArgs[e][0].links)}}e(n)}})}}})};r.getShellContainer=function e(){return this.oShellContainer};r.toExternal=function e(t,n){this.crossAppNavService.toExternal(t,n)};r.getStartupAppState=function e(t){return new Promise((e,n)=>{this.crossAppNavService.getStartupAppState(t).fail(e=>{n(new Error(`${e} sap.fe.core.services.ShellServicesFactory.getStartupAppState`))}).then(t=>e(t))})};r.backToPreviousApp=function e(){return this.crossAppNavService.backToPreviousApp()};r.hrefForExternal=function e(t,n,i){return this.crossAppNavService.hrefForExternal(t,n,!!i)};r.hrefForExternalAsync=function e(t,n){return this.crossAppNavService.hrefForExternalAsync(t,n)};r.getAppState=function e(t,n){return o(this.crossAppNavService.getAppState(t,n))};r.createEmptyAppState=function e(t){return this.crossAppNavService.createEmptyAppState(t)};r.createEmptyAppStateAsync=function e(t){return this.crossAppNavService.createEmptyAppStateAsync(t)};r.isNavigationSupported=function e(t,n){return o(this.crossAppNavService.isNavigationSupported(t,n))};r.isInitialNavigation=function e(){return this.crossAppNavService.isInitialNavigation()};r.isInitialNavigationAsync=function e(){return this.crossAppNavService.isInitialNavigationAsync()};r.expandCompactHash=function e(t){return this.crossAppNavService.expandCompactHash(t)};r.getHash=function e(){return`#${this.urlParsingService.getShellHash(window.location.href)}`};r.parseShellHash=function e(t){return this.urlParsingService.parseShellHash(t)};r.splitHash=function e(t){return this.urlParsingService.splitHash(t)};r.constructShellHash=function e(t){return this.urlParsingService.constructShellHash(t)};r.setDirtyFlag=function e(t){this.oShellContainer.setDirtyFlag(t)};r.registerDirtyStateProvider=function e(t){this.oShellContainer.registerDirtyStateProvider(t)};r.deregisterDirtyStateProvider=function e(t){this.oShellContainer.deregisterDirtyStateProvider(t)};r.createRenderer=function e(){return this.oShellContainer.createRenderer()};r.getUser=function e(){return this.oShellContainer.getUser()};r.hasUShell=function e(){return true};r.registerNavigationFilter=function e(t){this.shellNavigation.registerNavigationFilter(t)};r.unregisterNavigationFilter=function e(t){this.shellNavigation.unregisterNavigationFilter(t)};r.setBackNavigation=function e(t){this.shellUIService.setBackNavigation(t)};r.setHierarchy=function e(t){this.shellUIService.setHierarchy(t)};r.setTitle=function e(t){this.shellUIService.setTitle(t)};r.getContentDensity=function e(){return this.oShellContainer.getUser().getContentDensity()};r.getPrimaryIntent=function e(t,n){return new Promise((e,i)=>{this.crossAppNavService.getPrimaryIntent(t,n).fail(e=>{i(new Error(`${e} sap.fe.core.services.ShellServicesFactory.getPrimaryIntent`))}).then(e)})};r.waitForPluginsLoad=function t(){return new Promise(t=>{var n;if(!((n=this.shellPluginManager)!==null&&n!==void 0&&n.getPluginLoadingPromise)){t(false)}else{this.shellPluginManager.getPluginLoadingPromise("RendererExtensions").fail(n=>{e.error(n,"sap.fe.core.services.ShellServicesFactory.waitForPluginsLoad");t(false)}).then(()=>t(true))}})};return n}(t);let a=function(e){i(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.createInstance=function e(t){t.settings.shellContainer=sap.ushell&&sap.ushell.Container;const n=t.settings.shellContainer?new c(t):new s(t);return n.initPromise.then(()=>{t.scopeObject.getShellServices=()=>n;return n})};return t}(n);return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/SideEffectsServiceFactory", ["sap/base/Log","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/PropertyHelper","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","../templating/DataModelPathHelper"],function(t,e,i,r,o,n,s){"use strict";var a={};var c=s.getTargetObjectPath;var f=s.getTargetNavigationPath;var u=s.enhanceDataModelPath;var l=r.getAssociatedTextPropertyPath;var d=i.isProperty;var p=i.isEntityType;var g=i.isComplexType;var h=e.getInvolvedDataModelObjects;var E=e.convertTypes;function y(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;v(t,e)}function v(t,e){v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return v(t,e)}let m=function(e){y(i,e);function i(){return e.apply(this,arguments)||this}a.SideEffectsService=i;var r=i.prototype;r.init=function t(){this.sideEffectsRegistry={oData:{entities:{},actions:{}},control:{}};this.isInitialized=false;this.initPromise=Promise.resolve(this)};r.addControlSideEffects=function t(e,i){if(i.sourceControlId){const t={...i,fullyQualifiedName:`${e}/SideEffectsForControl/${i.sourceControlId}`};const r=this.sideEffectsRegistry.control[e]||{};r[t.sourceControlId]=t;this.sideEffectsRegistry.control[e]=r}};r.executeAction=function t(e,i,r){const o=i.getModel().bindContext(`${e}(...)`,i);return o.execute(r||i.getBinding().getUpdateGroupId())};r.getConvertedMetaModel=function t(){return E(this.getMetaModel(),this.capabilities)};r.getEntityTypeFromContext=function t(e){const i=e.getModel().getMetaModel(),r=i.getMetaPath(e.getPath()),o=i.getObject(r)["$Type"];return o};r.getODataEntitySideEffects=function t(e){return this.sideEffectsRegistry.oData.entities[e]||{}};r.getGlobalODataEntitySideEffects=function t(e){const i=this.getODataEntitySideEffects(e);const r=[];for(const t in i){const e=i[t];if(!e.sourceEntities&&!e.sourceProperties){r.push(e)}}return r};r.getODataActionSideEffects=function t(e,i){if(i){const t=this.getEntityTypeFromContext(i);if(t){var r;return(r=this.sideEffectsRegistry.oData.actions[t])===null||r===void 0?void 0:r[e]}}return undefined};r.initializeSideEffects=function t(e){this.capabilities=e;if(!this.isInitialized){const t={entities:{},properties:{}};const e=this.getConvertedMetaModel();e.entityTypes.forEach(e=>{this.sideEffectsRegistry.oData.entities[e.fullyQualifiedName]=this.retrieveODataEntitySideEffects(e);this.sideEffectsRegistry.oData.actions[e.fullyQualifiedName]=this.retrieveODataActionsSideEffects(e);this.mapSideEffectSources(e,t)});this.sourcesToSideEffectMappings=t;this.isInitialized=true}};r.removeControlSideEffects=function t(e){Object.keys(this.sideEffectsRegistry.control).forEach(t=>{if(this.sideEffectsRegistry.control[t][e]){delete this.sideEffectsRegistry.control[t][e]}})};r.requestSideEffects=function t(e,i,r){this.logRequest(e,i);return i.requestSideEffects(e,r)};r.requestSideEffectsForODataAction=function t(e,i){var r,o;let n;if((r=e.triggerActions)!==null&&r!==void 0&&r.length){n=e.triggerActions.map(t=>this.executeAction(t,i))}else{n=[]}if((o=e.pathExpressions)!==null&&o!==void 0&&o.length){n.push(this.requestSideEffects(e.pathExpressions,i))}return n.length?Promise.all(n):Promise.resolve([])};r.requestSideEffectsForNavigationProperty=function e(i,r,o){const n=this.getEntityTypeFromContext(r);if(n){const e=`${i}/`;const s=this.getODataEntitySideEffects(n);let a=[];let c=[];let f=[];Object.keys(s).filter(t=>{const r=s[t];return(r.sourceProperties||[]).some(t=>t.startsWith(e)&&t.replace(e,"").indexOf("/")===-1)||(r.sourceEntities||[]).some(t=>t.$NavigationPropertyPath===i)}).forEach(t=>{const e=s[t];if(e.triggerAction){this.executeAction(e.triggerAction,r,o)}a=a.concat(e.targetProperties);c=c.concat(e.targetEntities)});const u=this.removeDuplicateTargets({targetProperties:a,targetEntities:c});f=[...u.targetProperties,...u.targetEntities];if(f.length){return this.requestSideEffects(f,r,o).catch(e=>t.error(`SideEffects - Error while processing SideEffects for Navigation Property ${i}`,e))}}return Promise.resolve()};r.getControlEntitySideEffects=function t(e){return this.sideEffectsRegistry.control[e]||{}};r.getSideEffectWhereEntityIsSource=function t(e){return this.sourcesToSideEffectMappings.entities[e]||[]};r.computeFieldGroupIds=function t(e,i){const r=this.getSideEffectWhereEntityIsSource(e).map(t=>this.getFieldGroupIdForSideEffect(t,true));return r.concat(this.getSideEffectWherePropertyIsSource(i).map(t=>this.getFieldGroupIdForSideEffect(t)))};r.getSideEffectWherePropertyIsSource=function t(e){return this.sourcesToSideEffectMappings.properties[e]||[]};r.addTextProperties=function t(e,i){const r=new Set(e.targetProperties);const o=new Set(e.targetEntities.map(t=>t.$NavigationPropertyPath));const n=e.targetProperties.reduce((t,e)=>t.concat(this.getDataModelPropertiesFromAPath(e,i)),[]);for(const t of n){const e=l(t.targetObject);if(e){const i=u(t,e);const n=f(i,true);const s=c(i,true);if(d(i.targetObject)&&!r.has(s)&&!r.has(`${n}${i.navigationProperties.length?"/":""}*`)&&!o.has(`${n}`)){if(t.targetEntitySet!==i.targetEntitySet&&i.navigationProperties&&i.targetEntityType){o.add(n)}else{r.add(s)}}}}return{targetProperties:Array.from(r),targetEntities:Array.from(o).map(t=>({$NavigationPropertyPath:t}))}};r.convertSideEffects=function t(e,i,r){const o=e.TriggerAction;const n=this.convertSideEffectsFormat(e);let s={targetProperties:n.targetProperties,targetEntities:n.targetEntities};s=this.removeBindingParameter(s,r);s=this.addTextProperties(s,i);s=this.removeDuplicateTargets(s);return{...n,...{targetEntities:s.targetEntities,targetProperties:s.targetProperties,triggerAction:o}}};r.convertSideEffectsFormat=function e(i){const r=e=>e?e.reduce((e,r)=>{const o=r.type&&r.value||r;if(o){e.push(o)}else{t.error(`SideEffects - Error while processing TargetProperties for SideEffects ${i.fullyQualifiedName}`)}return e},[]):e;const o=t=>t?t.map(t=>({$NavigationPropertyPath:t.value})):t;return{fullyQualifiedName:i.fullyQualifiedName,sourceProperties:r(i.SourceProperties),sourceEntities:o(i.SourceEntities),targetProperties:r(i.TargetProperties)??[],targetEntities:o(i.TargetEntities)??[]}};r.getDataModelPropertiesFromAPath=function t(e,i){let r=[];const o=this.getConvertedMetaModel();const n=o.entitySets.find(t=>t.entityType===i)||o.singletons.find(t=>t.entityType===i);if(n){const t=this.getMetaModel(),i=t.createBindingContext(`/${n.name}`);if(i){const t=h(i);const o=u(t,e.replace("*","")||"/"),n=o.targetObject;if(d(n)){if(g(n.targetType)){r=r.concat(n.targetType.properties.map(t=>u(o,t.name)))}else{r.push(o)}}else if(p(n)){r=r.concat(o.targetEntityType.entityProperties.map(t=>u(o,t.name)))}i.destroy()}}return r.filter(t=>t.targetObject)};r.getMetaModel=function t(){const e=this.getContext();const i=e.scopeObject;return i.getModel().getMetaModel()};r.getSideEffectsFromSource=function t(e){var i;let r="";const o=p(e);const n=o?e:e.sourceEntityType;const s=(i=e.annotations)===null||i===void 0?void 0:i.Common;if(n&&s){if(!o){var a;const t=(a=e.parameters)===null||a===void 0?void 0:a.find(t=>t.type===n.fullyQualifiedName);r=(t===null||t===void 0?void 0:t.fullyQualifiedName.split("/")[1])??""}return this.getSideEffectsAnnotationFromSource(e).map(t=>this.convertSideEffects(t,n,r))}return[]};r.getSideEffectsAnnotationFromSource=function t(e){var i;const r=[];const o=(i=e.annotations)===null||i===void 0?void 0:i.Common;for(const t in o){const e=o[t];if(this.isSideEffectsAnnotation(e)){r.push(e)}}return r};r.isSideEffectsAnnotation=function t(e){return(e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.Common.v1.SideEffectsType"};r.logRequest=function e(i,r){const o=i.reduce(function(t,e){return`${t}\n\t\t${e.$NavigationPropertyPath||e||""}`},"");t.debug(`SideEffects - Request:\n\tContext path : ${r.getPath()}\n\tProperty paths :${o}`)};r.removeBindingParameter=function t(e,i){if(i){const t=function(t){return t.replace(new RegExp(`^${i}/?`),"")};return{targetProperties:e.targetProperties.map(e=>t(e)),targetEntities:e.targetEntities.map(e=>({$NavigationPropertyPath:t(e.$NavigationPropertyPath)}))}}return{targetProperties:e.targetProperties,targetEntities:e.targetEntities}};r.removeDuplicateTargets=function t(e){const i=e.targetEntities.map(t=>t.$NavigationPropertyPath);const r=new Set(i);const o=new Set(e.targetProperties);const n=Array.from(r).map(t=>({$NavigationPropertyPath:t}));return{targetProperties:Array.from(o),targetEntities:n}};r.retrieveODataActionsSideEffects=function t(e){const i={};const r=e.actions;if(r){Object.keys(r).forEach(t=>{const r=e.actions[t];const o=new Set;let n=[];let s=[];this.getSideEffectsFromSource(r).forEach(t=>{const e=t.triggerAction;n=n.concat(t.targetProperties);s=s.concat(t.targetEntities);if(e){o.add(e)}});const a=this.removeDuplicateTargets({targetProperties:n,targetEntities:s});i[t]={pathExpressions:[...a.targetProperties,...a.targetEntities],triggerActions:Array.from(o)}})}return i};r.retrieveODataEntitySideEffects=function t(e){const i={};this.getSideEffectsFromSource(e).forEach(t=>{i[t.fullyQualifiedName]=t});return i};r.mapSideEffectSources=function t(e,i){for(const t of this.getSideEffectsAnnotationFromSource(e)){var r;for(const r of t.SourceEntities??[]){var o;const n=r.value?(o=r.$target)===null||o===void 0?void 0:o.targetType:e;if(n){if(!i.entities[n.fullyQualifiedName]){i.entities[n.fullyQualifiedName]=[]}i.entities[n.fullyQualifiedName].push({entity:e.fullyQualifiedName,qualifier:t.qualifier})}}const c=((r=t.SourceProperties)===null||r===void 0?void 0:r.length)===1;for(const r of t.SourceProperties??[]){var n,s;if(!i.properties[(n=r.$target)===null||n===void 0?void 0:n.fullyQualifiedName]){var a;i.properties[(a=r.$target)===null||a===void 0?void 0:a.fullyQualifiedName]=[]}i.properties[(s=r.$target)===null||s===void 0?void 0:s.fullyQualifiedName].push({entity:e.fullyQualifiedName,qualifier:t.qualifier,hasUniqueSourceProperty:c})}}};r.getFieldGroupIdForSideEffect=function t(e){let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const r=e.qualifier?`${e.entity}#${e.qualifier}`:e.entity;return i||e.hasUniqueSourceProperty===true?`${r}$$ImmediateRequest`:r};r.getInterface=function t(){return this};return i}(o);a.SideEffectsService=m;let P=function(t){y(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;i.createInstance=function t(e){const i=new m(e);return i.initPromise};return e}(n);return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/TemplatedViewServiceFactory", ["sap/base/Log","sap/fe/core/helpers/LoaderUtils","sap/fe/core/manifestMerger/ChangePageConfiguration","sap/fe/core/TemplateModel","sap/ui/core/Component","sap/ui/core/mvc/View","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/Device","sap/ui/model/base/ManagedObjectModel","sap/ui/model/json/JSONModel","sap/ui/VersionInfo","../helpers/DynamicAnnotationPathHelper"],function(e,t,n,o,i,r,s,a,c,l,u,p,g,d){"use strict";var f=d.resolveDynamicExpression;var h=n.applyPageConfigurationChanges;var v=t.requireDependencies;function m(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}function C(e,t){C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return C(e,t)}let w=function(t){m(n,t);function n(){return t.apply(this,arguments)||this}var s=n.prototype;s.init=function e(){const t=[];const n=this.getContext();const o=n.scopeObject;const r=i.getOwnerComponentFor(o);const s=r.getMetaModel();this.pageId=r.getLocalId(o.getId());const a=`${r.getMetadata().getComponentName()}::${this.pageId}`;const l=o.getEnhanceI18n()||[];let u;this.oFactory=n.factory;if(l){u=r.getMetadata().getComponentName();for(let e=0;e<l.length;e++){const t=r.getModel(l[e]);if(t&&t.isA("sap.ui.model.resource.ResourceModel")){l[e]=t}else{l[e]=`${u}.${l[e].replace(".properties","")}`}}}const p=`${r.getMetadata().getName()}_${a}_${sap.ui.getCore().getConfiguration().getLanguageTag()}`;t.push(c.get("sap.fe.core.services.ResourceModelService").createInstance({scopeType:"component",scopeObject:o,settings:{bundles:["sap.fe.core.messagebundle","sap.fe.macros.messagebundle","sap.fe.templates.messagebundle"],enhanceI18n:l,modelName:"sap.fe.i18n"}}).then(e=>{this.oResourceModelService=e;return e.getResourceModel()}));t.push(c.get("sap.fe.core.services.CacheHandlerService").createInstance({settings:{metaModel:s,appComponent:r,component:o}}).then(e=>{this.oCacheHandlerService=e;return e.validateCacheKey(p,o)}));t.push(g.load().then(function(e){let t="";if(!e.libraries){t=sap.ui.buildinfo.buildtime}else{e.libraries.forEach(function(e){t+=e.buildTimestamp})}return t}).catch(function(){return"<NOVALUE>"}));this.initPromise=Promise.all(t).then(async e=>{const t=e[0];const n=e[1];const o=r.getSideEffectsService();o.initializeSideEffects(r.getEnvironmentCapabilities().getCapabilities());const[i,s]=await v(["sap/fe/core/converters/TemplateConverter","sap/fe/core/converters/MetaModelConverter"]);return this.createView(t,a,n,i,s)}).then(function(e){const t=c.get("sap.fe.core.services.CacheHandlerService").getInstance(s);t.invalidateIfNeeded(e,p,o)})};s.refreshView=function t(n){const o=n.getRootControl();if(o){o.destroy()}else if(this.oView){this.oView.destroy()}return this.createView(this.resourceModel,this.stableId,"",this.TemplateConverter,this.MetaModelConverter).then(function(){n.oContainer.invalidate()}).catch(function(t){n.oContainer.invalidate();e.error(t)})};s.createView=async function t(n,s,a,c,g){this.resourceModel=n;this.stableId=s;this.TemplateConverter=c;this.MetaModelConverter=g;const d=this.getContext();const v=d.settings;const m=v.converterType;const C=d.scopeObject;const w=i.getOwnerComponentFor(C);const y=w.getRoutingService().getTargetInformationFor(C).options.settings.fullContextPath;const M=w.getMetaModel();const V=w.getManifest();const I=new p(l).setDefaultBindingMode("OneWay");const S=new p(V);const O=false;let x,D,P,j;function N(){const e=y.split("/");const t=e.reduce(function(e,t){if(t===""){return e}if(e===""){e=`/${t}`}else{const n=M.getObject(`${e}/$NavigationPropertyBinding/${t}`);if(n&&Object.keys(n).length>0){e+="/$NavigationPropertyBinding"}e+=`/${t}`}return e},"");let o=v.viewType||C.getViewType()||"XML";if(o!=="XML"){o=undefined}return{type:o,preprocessors:{xml:{bindingContexts:{entitySet:t?M.createBindingContext(t):null,fullContextPath:y?M.createBindingContext(y):null,contextPath:y?M.createBindingContext(y):null,converterContext:x.createBindingContext("/",undefined,{noResolve:true}),viewData:j?D.createBindingContext("/"):null},models:{entitySet:M,fullContextPath:M,contextPath:M,"sap.fe.i18n":n,metaModel:M,device:I,manifest:S,converterContext:x,viewData:D},appComponent:w}},id:s,viewName:v.viewName||C.getViewName(),viewData:j,cache:{keys:[a],additionalData:{getAdditionalCacheData:()=>x.getData(),setAdditionalCacheData:e=>{x.setData(e)}}},models:{"sap.fe.i18n":n},height:"100%"}}const T=t=>{e.error(t.message,t);P.viewName=v.errorViewName||"sap.fe.core.services.view.TemplatingErrorPage";P.preprocessors.xml.models["error"]=new p(t);return C.runAsOwner(()=>r.create(P).then(e=>{this.oView=e;this.oView.setModel(new u(this.oView),"$view");C.setAggregation("rootControl",this.oView);return a}))};try{var $;const t=await w.getService("routingService");const i=t.getTargetInformationFor(C);const d=V["sap.app"]&&V["sap.app"].crossNavigation&&V["sap.app"].crossNavigation.outbounds||{};const v=C.getNavigation()||{};Object.keys(v).forEach(function(e){const t=v[e];let n;if(t.detail&&t.detail.outbound&&d[t.detail.outbound]){n=d[t.detail.outbound];t.detail.outboundDetail={semanticObject:n.semanticObject,action:n.action,parameters:n.parameters}}if(t.create&&t.create.outbound&&d[t.create.outbound]){n=d[t.create.outbound];t.create.outboundDetail={semanticObject:n.semanticObject,action:n.action,parameters:n.parameters}}});j={appComponent:w,navigation:v,viewLevel:i.viewLevel,stableId:s,contentDensities:($=V["sap.ui5"])===null||$===void 0?void 0:$.contentDensities,resourceModel:n,fullContextPath:y,isDesktop:l.system.desktop,isPhone:l.system.phone};if(C.getViewData){var E,F,R,B,L;Object.assign(j,C.getViewData());const e=(V===null||V===void 0?void 0:(E=V["sap.ui5"])===null||E===void 0?void 0:(F=E.routing)===null||F===void 0?void 0:(R=F.targets)===null||R===void 0?void 0:(B=R[this.pageId])===null||B===void 0?void 0:(L=B.options)===null||L===void 0?void 0:L.settings)||{};j=h(e,j,w,this.pageId)}j.isShareButtonVisibleForMyInbox=b.getShareButtonVisibilityForMyInbox(w);const I=w.getShellServices();j.converterType=m;j.shellContentDensity=I.getContentDensity();j.retrieveTextFromValueList=V["sap.fe"]&&V["sap.fe"].form?V["sap.fe"].form.retrieveTextFromValueList:undefined;D=new p(j);if(j.controlConfiguration){for(const e in j.controlConfiguration){if(e.indexOf("[")!==-1){const t=f(e,M);j.controlConfiguration[t]=j.controlConfiguration[e]}}}g.convertTypes(M,w.getEnvironmentCapabilities().getCapabilities());x=new o(()=>{try{const t=w.getDiagnostics();const n=t.getIssues().length;const o=c.convertPage(m,M,j,t,y,w.getEnvironmentCapabilities().getCapabilities(),C);const i=t.getIssues();const r=i.slice(n);if(r.length>0){e.warning("Some issues have been detected in your project, please check the UI5 support assistant rule for sap.fe.core")}return o}catch(t){e.error(t,t);return{}}},M);if(!O){P=N();C.setModel(x,"_pageModel");return C.runAsOwner(()=>r.create(P).catch(T).then(e=>{this.oView=e;this.oView.setModel(new u(this.oView),"$view");this.oView.setModel(D,"viewData");C.setAggregation("rootControl",this.oView);return a}).catch(t=>e.error(t.message,t)))}}catch(t){e.error(t.message,t);throw new Error(`Error while creating view : ${t}`)}};s.getView=function e(){return this.oView};s.getInterface=function e(){return this};s.exit=function e(){if(this.oResourceModelService){this.oResourceModelService.destroy()}if(this.oCacheHandlerService){this.oCacheHandlerService.destroy()}this.oFactory.removeGlobalInstance()};return n}(s);let b=function(e){m(t,e);function t(){var t;for(var n=arguments.length,o=new Array(n),i=0;i<n;i++){o[i]=arguments[i]}t=e.call(this,...o)||this;t._oInstanceRegistry={};return t}var n=t.prototype;n.createInstance=function e(n){t.iCreatingViews++;const o=new w(Object.assign({factory:this},n));return o.initPromise.then(function(){t.iCreatingViews--;return o})};n.removeGlobalInstance=function e(){this._oInstanceRegistry={}};t.getShareButtonVisibilityForMyInbox=function e(t){const n=t.getComponentData();if(n!==undefined&&n.feEnvironment){return n.feEnvironment.getShareControlVisibility()}return undefined};t.getNumberOfViewsInCreationState=function e(){return t.iCreatingViews};return t}(a);return b},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/view/TemplatingErrorPage.controller", ["sap/fe/core/controllerextensions/InternalRouting","sap/fe/core/helpers/ClassSupport","sap/ui/core/mvc/Controller"],function(e,r,i){"use strict";var t,n,o,a,l;var u=r.usingExtension;var c=r.defineUI5Class;function s(e,r,i,t){if(!i)return;Object.defineProperty(e,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(t):void 0})}function f(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function p(e,r){e.prototype=Object.create(r.prototype);e.prototype.constructor=e;b(e,r)}function b(e,r){b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(r,i){r.__proto__=i;return r};return b(e,r)}function d(e,r,i,t,n){var o={};Object.keys(t).forEach(function(e){o[e]=t[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=i.slice().reverse().reduce(function(i,t){return t(e,r,i)||i},o);if(n&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(n):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,r,o);o=null}return o}function v(e,r){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let g=(t=c("sap.fe.core.services.view.TemplatingErrorPage"),n=u(e),t(o=(a=function(e){p(r,e);function r(){var r;for(var i=arguments.length,t=new Array(i),n=0;n<i;n++){t[n]=arguments[n]}r=e.call(this,...t)||this;s(r,"_routing",l,f(r));return r}return r}(i),l=d(a.prototype,"_routing",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),a))||o);return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/support/CommonHelper", ["sap/fe/core/converters/helpers/IssueManager","sap/ui/support/library"],function(e,t){"use strict";var s={};var i=e.IssueSeverity;var r=e.IssueCategory;const o=t.Categories,n=t.Severity,a=t.Audiences;s.Categories=o;s.Audiences=a;s.Severity=n;const c=function(e){switch(e){case i.Low:return n.Low;case i.High:return n.High;case i.Medium:return n.Medium}};s.getSeverity=c;const u=function(e,t,s,i){const o=t.getComponents();let n;Object.keys(o).forEach(e=>{var t,s;const i=o[e];if((i===null||i===void 0?void 0:(t=i.getMetadata())===null||t===void 0?void 0:(s=t.getParent())===null||s===void 0?void 0:s.getName())==="sap.fe.core.AppComponent"){n=i}});if(n){const t=n.getDiagnostics().getIssuesByCategory(r[s],i);t.forEach(function(t){e.addIssue({severity:c(t.severity),details:t.details,context:{id:t.category}})})}};s.getIssueByCategory=u;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/support/Diagnostics", [],function(){"use strict";let s=function(){function s(){this._issues=[]}var e=s.prototype;e.addIssue=function s(e,t,i,r,u){const n=this.checkIfIssueExists(e,t,i,r,u);if(!n){this._issues.push({category:e,severity:t,details:i,subCategory:u})}};e.getIssues=function s(){return this._issues};e.getIssuesByCategory=function s(e,t){if(t){return this._issues.filter(s=>s.category===e&&s.subCategory===t)}else{return this._issues.filter(s=>s.category===e)}};e.checkIfIssueExists=function s(e,t,i,r,u){if(r&&r[e]&&u){return this._issues.some(s=>s.category===e&&s.severity===t&&s.details.replace(/\n/g,"")===i.replace(/\n/g,"")&&s.subCategory===u)}return this._issues.some(s=>s.category===e&&s.severity===t&&s.details.replace(/\n/g,"")===i.replace(/\n/g,""))};return s}();return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/CommonFormatters", ["sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","../converters/helpers/DataFieldHelper"],function(t,e,a,r,n,o){"use strict";var i={};var s=o.isReferencePropertyStaticallyHidden;var c=r.getRelativePaths;var l=r.getContextRelativeTargetObjectPath;var p=r.enhanceDataModelPath;var d=a.isPathAnnotationExpression;var v=e.pathInModel;var u=e.getExpressionFromAnnotation;var f=e.formatWithTypeInformation;var g=e.formatResult;var h=e.compileExpression;const m=function(t){return h(t)};i.getExpressionBinding=m;const b=function(e,a,r){var o,i;const s=r===null||r===void 0?void 0:r.displayMode;let l=a;const p=e.targetObject.type==="PropertyPath"?e.targetObject.$target:e.targetObject;const d=s||n.getDisplayMode(e);const v=(o=p.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Text;const h=c(e);a=f(p,a);if(d!=="Value"&&v){switch(d){case"Description":l=u(v,h);break;case"DescriptionValue":l=g([u(v,h),a],t.formatWithBrackets);break;case"ValueDescription":l=g([a,u(v,h)],t.formatWithBrackets);break}}return l};i.getBindingWithTextArrangement=b;const D=function(t){let e=t;if(d(t===null||t===void 0?void 0:t.targetObject)){var a;e=p(t,(a=t.targetObject)===null||a===void 0?void 0:a.path)}const r=e.targetObject;let n=v(l(e));n=f(r,n,true);const o=b(e,n);return r.annotations.UI&&!s(r.annotations.UI.DataFieldDefault)&&h(o)||undefined};i.getBindingWithText=D;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/CriticalityFormatters", ["sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/DataModelPathHelper"],function(i,t){"use strict";var e={};var r=t.getRelativePaths;var o=i.or;var a=i.ifElse;var n=i.getExpressionFromAnnotation;var c=i.equal;var l=i.constant;var s=i.compileExpression;const y=(i,t)=>{const e=i.targetObject?i.targetObject:i;const y=e===null||e===void 0?void 0:e.Criticality;const p=t?r(t):undefined;const u=n(y,p);let v;if(y){v=a(o(c(u,l("UI.CriticalityType/Negative")),c(u,l(1)),c(u,l("1"))),l("Error"),a(o(c(u,l("UI.CriticalityType/Critical")),c(u,l(2)),c(u,l("2"))),l("Warning"),a(o(c(u,l("UI.CriticalityType/Positive")),c(u,l(3)),c(u,l("3"))),l("Success"),a(o(c(u,l("UI.CriticalityType/Information")),c(u,l(5)),c(u,l("5"))),l("Information"),l("None")))))}else{v=l("None")}return s(v)};e.buildExpressionForCriticalityColor=y;const p=(i,t)=>{const e=i!==null&&i!==void 0&&i.targetObject?i.targetObject:i;const y=e===null||e===void 0?void 0:e.Criticality;const p=t?r(t):undefined;const u=n(y,p);const v=(e===null||e===void 0?void 0:e.CriticalityRepresentation)&&(e===null||e===void 0?void 0:e.CriticalityRepresentation)==="UI.CriticalityRepresentationType/WithoutIcon";let C;if(!v){if(y){C=a(o(c(u,l("UI.CriticalityType/Negative")),c(u,l(1)),c(u,l("1"))),l("sap-icon://message-error"),a(o(c(u,l("UI.CriticalityType/Critical")),c(u,l(2)),c(u,l("2"))),l("sap-icon://message-warning"),a(o(c(u,l("UI.CriticalityType/Positive")),c(u,l(3)),c(u,l("3"))),l("sap-icon://message-success"),a(o(c(u,l("UI.CriticalityType/Information")),c(u,l(5)),c(u,l("5"))),l("sap-icon://message-information"),l("")))))}else{C=l("")}}else{C=l("")}return s(C)};e.buildExpressionForCriticalityIcon=p;const u=i=>{const t=i!==null&&i!==void 0&&i.targetObject?i.targetObject:i;const e=t===null||t===void 0?void 0:t.Criticality;const r=n(e);let y;if(e){y=a(o(c(r,l("UI.CriticalityType/Negative")),c(r,l(1)),c(r,l("1"))),l("Reject"),a(o(c(r,l("UI.CriticalityType/Positive")),c(r,l(3)),c(r,l("3"))),l("Accept"),l("Default")))}else{y=l("Default")}return s(y)};e.buildExpressionForCriticalityButtonType=u;const v=i=>{const t=i!==null&&i!==void 0&&i.targetObject?i.targetObject:i;const e=t===null||t===void 0?void 0:t.Criticality;const r=n(e);let y;if(e){y=a(o(c(r,l("UI.CriticalityType/Negative")),c(r,l(1)),c(r,l("1"))),l("Error"),a(o(c(r,l("UI.CriticalityType/Critical")),c(r,l(2)),c(r,l("2"))),l("Critical"),a(o(c(r,l("UI.CriticalityType/Positive")),c(r,l(3)),c(r,l("3"))),l("Good"),l("Neutral"))))}else{y=l("Neutral")}return s(y)};e.buildExpressionForCriticalityColorMicroChart=v;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/DataFieldFormatters", ["sap/fe/core/converters/MetaModelConverter","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters"],function(t,e,o){"use strict";var n={};var r=o.getConverterContext;var a=e.enhanceDataModelPath;var c=t.getInvolvedDataModelObjects;const i=function(t,e){const o=e.context.getPath();if(!t){throw new Error(`Unresolved context path ${o}`)}let n=false;if(typeof t==="object"&&(t.hasOwnProperty("$Path")||t.hasOwnProperty("$AnnotationPath"))){n=true}else if(typeof t==="object"&&t.hasOwnProperty("$kind")&&t.$kind!=="Property"){throw new Error(`Context does not resolve to a DataField object but to a ${t.$kind}`)}let a=r(t,e);if(n){a=a.$target}return a};n.getDataField=i;const s=function(t,e){const o=e.context.getPath();if(!t){throw new Error(`Unresolved context path ${o}`)}if(typeof t==="object"&&t.hasOwnProperty("$kind")&&t.$kind!=="Property"){throw new Error(`Context does not resolve to a Property object but to a ${t.$kind}`)}let n=c(e.context);if(n.targetObject&&n.targetObject.type==="Path"){n=a(n,n.targetObject.path)}if(n.targetObject&&n.targetObject.type==="AnnotationPath"){n=a(n,n.targetObject)}if(o.endsWith("$Path")||o.endsWith("$AnnotationPath")){n=a(n,t)}return n};n.getDataFieldObjectPath=s;const l=function(t,e){const o=i(t,e);return o.$Type==="com.sap.vocabularies.UI.v1.ConnectedFieldsType"};n.isSemanticallyConnectedFields=l;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/DataModelPathHelper", ["sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards"],function(t,e){"use strict";var n={};var i=e.isProperty;var r=e.isPathAnnotationExpression;var o=e.isNavigationProperty;var a=e.isMultipleNavigationProperty;var l=e.isEntityType;var s=e.isEntitySet;var c=e.isComplexType;var u=t.unresolvableExpression;var g=t.getExpressionFromAnnotation;var v=t.equal;var d=t.constant;const f=function(t){return p(t===null||t===void 0?void 0:t.contextLocation,t===null||t===void 0?void 0:t.navigationProperties).map(t=>t.name)};n.getRelativePaths=f;const p=function(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];const n=t=>{let e=0;while(t.length>1&&e!=t.length-1){const n=t[e];const i=t[e+1];if(o(n)&&n.partner===i.name){t.splice(0,2)}else{e++}}return t};const i=(t,e,n)=>{const i=[];t.forEach((t,r)=>{if(e[r]!==t){i.push(n?t:e[r])}});return i};if(!t){return e}if(e.length>=t.navigationProperties.length){let r=i(t.navigationProperties,e,false);r=r.concat(e.slice(t.navigationProperties.length));return n(r)}let r=i(e,t.navigationProperties,true);r=r.concat(t.navigationProperties.slice(e.length));n(r);r=r.map(t=>o(t)?t.targetType.navigationProperties.find(e=>e.name===t.partner):t);return r};n.getPathRelativeLocation=p;const y=function(t,e){let n="";if(r(e)){n=e.path}else if(typeof e==="string"){n=e}let i;if(r(e)){i=e.$target}else if(P(t)){var o;i=(o=t.convertedTypes.resolvePath(`${j(t)}/${n}`))===null||o===void 0?void 0:o.target}else{if(n.startsWith("/")){n=n.substring(1)}i=t.targetEntityType.resolvePath(n)}const a=n.split("/");let l=t;for(const t of a){l=h(l,t)}l.targetObject=i;return l};n.enhanceDataModelPath=y;const h=function(t,e){let n;let i;const r=t.navigationProperties.concat();const o=r.length;const a=o?r[o-1].targetType:t.targetEntityType;if(!a){return t}else if(l(a)||c(a)){const o=t.targetEntitySet;const l=a.navigationProperties.find(t=>t.name===e);if(l){r.push(l);i=l.targetType;const t=b(r);if(t&&o!==null&&o!==void 0&&o.navigationPropertyBinding.hasOwnProperty(t)){n=o.navigationPropertyBinding[t]}}else{const t=(a.entityProperties||a.properties).find(t=>t.name===e);if(t!==null&&t!==void 0&&t.targetType){r.push(t)}}}return{startingEntitySet:t.startingEntitySet,navigationProperties:r,contextLocation:t.contextLocation,targetEntitySet:n??t.targetEntitySet,targetEntityType:i??t.targetEntityType,targetObject:t.targetObject,convertedTypes:t.convertedTypes}};const P=function(t){return t.navigationProperties.find(t=>c(t===null||t===void 0?void 0:t.targetType))!==undefined};const b=function(t){const e=t.length;if(e){const n=t[e-1];const i=c(n.targetType);let r="";if(e>1&&!i){for(let n=0;n<e-1;n++){const e=t[n];if(c(e.targetType)){r+=`${e.name}/`}else{r=""}}}return i?"":`${r}${n.name}`}return""};const O=function(t){const e=`/${t.startingEntitySet.name}`;let n=e;let i=t.startingEntitySet;const r=t.navigationProperties;let o;for(let t=0;t<r.length;t++){o=b(r.slice(0,t+1));if(i&&i.navigationPropertyBinding.hasOwnProperty(o)){n+=`/$NavigationPropertyBinding/${o.replace("/","%2F")}`;i=i.navigationPropertyBinding[o]}}n+="/$";return n};n.getTargetEntitySetPath=O;const j=function(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n="";if(!t.startingEntitySet){return"/"}if(!e){n+=`/${t.startingEntitySet.name}`}if(t.navigationProperties.length>0){n=L(n);n+=t.navigationProperties.map(t=>t.name).join("/")}return n};n.getTargetNavigationPath=j;const m=function(t){var e,n;let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let r=j(t,i);if((e=t.targetObject)!==null&&e!==void 0&&e.name&&!o(t.targetObject)&&!l(t.targetObject)&&!s(t.targetObject)&&!c((n=t.targetObject)===null||n===void 0?void 0:n.targetType)&&t.targetObject!==t.startingEntitySet){r=L(r);r+=`${t.targetObject.name}`}else if(t.targetObject&&t.targetObject.hasOwnProperty("term")){r=L(r);r+=`@${t.targetObject.term}`;if(t.targetObject.hasOwnProperty("qualifier")&&!!t.targetObject.qualifier){r+=`#${t.targetObject.qualifier}`}}return r};n.getTargetObjectPath=m;const E=function(t){var e;let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(((e=t.contextLocation)===null||e===void 0?void 0:e.startingEntitySet)!==t.startingEntitySet){return m(t)}return T(t,n,i)};n.getContextRelativeTargetObjectPath=E;const T=function(t){var e;let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!t.targetObject){return undefined}const r=p(t.contextLocation,t.navigationProperties);if(n){if(r.some(a)){return undefined}}let u=i?r.map(t=>{const e=a(t);return e?`${t.name}*`:t.name}).join("/"):r.map(t=>t.name).join("/");if((t.targetObject.name||t.targetObject.type==="PropertyPath"&&t.targetObject.value)&&!o(t.targetObject)&&!l(t.targetObject)&&!s(t.targetObject)&&!c((e=t.targetObject)===null||e===void 0?void 0:e.targetType)&&t.targetObject!==t.startingEntitySet){u=L(u);u+=t.targetObject.type==="PropertyPath"?`${t.targetObject.value}`:`${t.targetObject.name}`}else if(t.targetObject.hasOwnProperty("term")){u=L(u);u+=`@${t.targetObject.term}`;if(t.targetObject.hasOwnProperty("qualifier")&&!!t.targetObject.qualifier){u+=`#${t.targetObject.qualifier}`}}return u};const S=function(t,e){return B(t,t=>{var e;return t===null||t===void 0?void 0:(e=t.UpdateRestrictions)===null||e===void 0?void 0:e.Updatable},e)};n.isPathUpdatable=S;const $=function(t,e){return B(t,t=>{var e;return t===null||t===void 0?void 0:(e=t.SearchRestrictions)===null||e===void 0?void 0:e.Searchable},e)};n.isPathSearchable=$;const x=function(t,e){return B(t,t=>{var e;return t===null||t===void 0?void 0:(e=t.DeleteRestrictions)===null||e===void 0?void 0:e.Deletable},e)};n.isPathDeletable=x;const R=function(t,e){return B(t,t=>{var e;return t===null||t===void 0?void 0:(e=t.InsertRestrictions)===null||e===void 0?void 0:e.Insertable},e)};n.isPathInsertable=R;const w=function(t,e){return B(t,n=>{if(n&&"FilterRestrictions"in n){var i;const o=(n===null||n===void 0?void 0:(i=n.FilterRestrictions)===null||i===void 0?void 0:i.FilterExpressionRestrictions)||[];const a=o.find(e=>e.Property.$target===t.targetObject);if(a){var r;return e.indexOf(a===null||a===void 0?void 0:(r=a.AllowedExpressions)===null||r===void 0?void 0:r.toString())!==-1}else{return false}}else{return false}})};n.checkFilterExpressionRestrictions=w;const B=function(t,e,n){if(!t||!t.startingEntitySet){return d(true)}t=y(t,n===null||n===void 0?void 0:n.propertyPath);let r=t.startingEntitySet;let o=null;let a=[];const l=[];let s=r;const c=t.targetEntityType;let f=false;t.navigationProperties.forEach(t=>{if(f){a=[]}a.push(t.name);l.push(t);if(i(t)||!t.containsTarget){const t=a.join("/");if(r&&r.navigationPropertyBinding.hasOwnProperty(t)){o=r;r=r.navigationPropertyBinding[t];s=r;f=true}else{o=r;r=null;f=true}}else{o=r;s=null}});const h=a.join("/");let P,b;if(o!==null){var O,j,m;const i=o;(O=i.annotations)===null||O===void 0?void 0:(j=O.Capabilities)===null||j===void 0?void 0:(m=j.NavigationRestrictions)===null||m===void 0?void 0:m.RestrictedProperties.forEach(i=>{var r;if(((r=i.NavigationProperty)===null||r===void 0?void 0:r.type)==="NavigationPropertyPath"){const r=e(i);if(h===i.NavigationProperty.value&&r!==undefined){var o;const e=l.slice(0,-1);b=e;const i=p((o=t)===null||o===void 0?void 0:o.contextLocation,b).map(t=>t.name);const a=n!==null&&n!==void 0&&n.pathVisitor?N(n.pathVisitor,i):undefined;P=v(g(r,i,undefined,a),true)}}})}let E;if(!(n!==null&&n!==void 0&&n.ignoreTargetCollection)){var T,S;let i=e((T=s)===null||T===void 0?void 0:(S=T.annotations)===null||S===void 0?void 0:S.Capabilities);if(s===null&&i===undefined){var $;i=e(c===null||c===void 0?void 0:($=c.annotations)===null||$===void 0?void 0:$.Capabilities)}if(i!==undefined){const e=p(t.contextLocation,l).map(t=>t.name);const r=n!==null&&n!==void 0&&n.pathVisitor?N(n.pathVisitor,e):undefined;E=v(g(i,e,undefined,r),true)}}return P||E||(n!==null&&n!==void 0&&n.authorizeUnresolvable?u:d(true))};n.checkOnPath=B;const L=function(t){if(t.length&&!t.endsWith("/")){return`${t}/`}return t};const N=function(t,e){return function(n){return t(n,e)}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/DisplayModeFormatter", ["sap/fe/core/helpers/TypeGuards"],function(e){"use strict";var t={};var a=e.isPropertyPathExpression;var o=e.isPathAnnotationExpression;const i={"sap.ui.model.odata.type.Boolean":"Edm.Boolean","sap.ui.model.odata.type.Byte":"Edm.Byte","sap.ui.model.odata.type.Date":"Edm.Date","sap.ui.model.odata.type.DateTimeOffset":"Edm.DateTimeOffset","sap.ui.model.odata.type.Decimal":"Edm.Decimal","sap.ui.model.odata.type.Double":"Edm.Double","sap.ui.model.odata.type.Guid":"Edm.Guid","sap.ui.model.odata.type.Int16":"Edm.Int16","sap.ui.model.odata.type.Int32":"Edm.Int32","sap.ui.model.odata.type.Int64":"Edm.Int64","sap.ui.model.odata.type.SByte":"Edm.SByte","sap.ui.model.odata.type.Single":"Edm.Single","sap.ui.model.odata.type.Stream":"Edm.Stream","sap.ui.model.odata.type.TimeOfDay":"Edm.TimeOfDay","sap.ui.model.odata.type.String":"Edm.String"};t.ODATA_TYPE_MAPPING=i;const n=function(e,t){var i,n,d,l,s,p,u,m,r,y,v;if(!e||typeof e==="string"){return"Value"}const T=(o(e)||a(e))&&e.$target||e;const E=t&&t.targetEntityType;const f=(i=T.annotations)===null||i===void 0?void 0:(n=i.Common)===null||n===void 0?void 0:n.Text;const g=typeof f!=="string"&&(f===null||f===void 0?void 0:(d=f.annotations)===null||d===void 0?void 0:(l=d.UI)===null||l===void 0?void 0:(s=l.TextArrangement)===null||s===void 0?void 0:s.toString())||(E===null||E===void 0?void 0:(p=E.annotations)===null||p===void 0?void 0:(u=p.UI)===null||u===void 0?void 0:(m=u.TextArrangement)===null||m===void 0?void 0:m.toString());let c=f?"DescriptionValue":"Value";if(f&&g||E!==null&&E!==void 0&&(r=E.annotations)!==null&&r!==void 0&&(y=r.UI)!==null&&y!==void 0&&(v=y.TextArrangement)!==null&&v!==void 0&&v.toString()){if(g==="UI.TextArrangementType/TextOnly"){c="Description"}else if(g==="UI.TextArrangementType/TextLast"){c="ValueDescription"}else if(g==="UI.TextArrangementType/TextSeparate"){c="Value"}else{c="DescriptionValue"}}return c};t.getDisplayMode=n;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/EntitySetHelper", ["sap/fe/core/helpers/TypeGuards"],function(i){"use strict";var o={};var e=i.isEntitySet;const t=function(i){var o,t,n;let r=[];if(e(i)){var a,l;if(((a=i.annotations.Capabilities)===null||a===void 0?void 0:(l=a.SortRestrictions)===null||l===void 0?void 0:l.Sortable)===false){r.push(...i.entityType.entityProperties.map(i=>i.name))}else{var s,v,d;r=((s=i.annotations.Capabilities)===null||s===void 0?void 0:(v=s.SortRestrictions)===null||v===void 0?void 0:(d=v.NonSortableProperties)===null||d===void 0?void 0:d.map(i=>i.value))||[]}}else{return[]}(o=i.annotations.Capabilities)===null||o===void 0?void 0:(t=o.NavigationRestrictions)===null||t===void 0?void 0:(n=t.RestrictedProperties)===null||n===void 0?void 0:n.forEach(o=>{var e;if((o===null||o===void 0?void 0:(e=o.SortRestrictions)===null||e===void 0?void 0:e.Sortable)===false){var t;const e=i.entityType.navigationProperties.by_name(o===null||o===void 0?void 0:(t=o.NavigationProperty)===null||t===void 0?void 0:t.value);if(e){r.push(...e.targetType.entityProperties.map(i=>`${e.name}/${i.name}`))}}else{var n,a;const i=o===null||o===void 0?void 0:(n=o.SortRestrictions)===null||n===void 0?void 0:(a=n.NonSortableProperties)===null||a===void 0?void 0:a.map(i=>i.value);if(i){r.push(...i)}}});return r};o.getNonSortablePropertiesRestrictions=t;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/EntityTypeHelper", ["sap/base/Log","sap/fe/core/helpers/BindingToolkit"],function(o,n){"use strict";var e={};var i=n.pathInModel;var a=n.getExpressionFromAnnotation;var t=n.concat;const l=n=>{var e,l,r,d,s,v,u,c;const p=(e=n.annotations)===null||e===void 0?void 0:(l=e.UI)===null||l===void 0?void 0:(r=l.HeaderInfo)===null||r===void 0?void 0:r.Title;if(p){switch(p.$Type){case"com.sap.vocabularies.UI.v1.DataField":return a(p.Value);case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":o.error("DataFieldForAnnotation with connected fields not supported for HeaderInfo.Title");return a((d=n.annotations)===null||d===void 0?void 0:(s=d.UI)===null||s===void 0?void 0:(v=s.HeaderInfo)===null||v===void 0?void 0:v.TypeName)}}const f=(u=n.annotations)===null||u===void 0?void 0:(c=u.Common)===null||c===void 0?void 0:c.SemanticKey;if(f){return t(...f.map(o=>i(o.value)))}};e.getTitleExpression=l;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/FieldControlHelper", ["sap/fe/core/helpers/BindingToolkit"],function(o){"use strict";var n={};var i=o.or;var l=o.getExpressionFromAnnotation;var e=o.equal;var t=o.constant;const r=function(o,n){var r,d,v;const s=o===null||o===void 0?void 0:(r=o.annotations)===null||r===void 0?void 0:(d=r.Common)===null||d===void 0?void 0:(v=d.FieldControl)===null||v===void 0?void 0:v.valueOf();if(typeof s==="object"&&!!s){return i(e(l(s,n),1),e(l(s,n),"1"))}return t(s==="Common.FieldControlType/ReadOnly")};n.isReadOnlyExpression=r;const d=function(o,n){var r,d,v;const s=o===null||o===void 0?void 0:(r=o.annotations)===null||r===void 0?void 0:(d=r.Common)===null||d===void 0?void 0:(v=d.FieldControl)===null||v===void 0?void 0:v.valueOf();if(typeof s==="object"&&!!s){return i(e(l(s,n),0),e(l(s,n),"0"))}return t(s==="Common.FieldControlType/Inapplicable")};n.isDisabledExpression=d;const v=function(o,n){return i(r(o,n),d(o,n))};n.isNonEditableExpression=v;const s=function(o,n){var r,d,v;const s=o===null||o===void 0?void 0:(r=o.annotations)===null||r===void 0?void 0:(d=r.Common)===null||d===void 0?void 0:(v=d.FieldControl)===null||v===void 0?void 0:v.valueOf();if(typeof s==="object"&&!!s){return i(e(l(s,n),7),e(l(s,n),"7"))}return t(s==="Common.FieldControlType/Mandatory")};n.isRequiredExpression=s;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/FilterHelper", ["sap/base/Log","sap/fe/core/type/EDM","sap/ui/mdc/condition/Condition","sap/ui/mdc/enum/ConditionValidated"],function(e,t,n,i){"use strict";var o={};var a=t.isTypeFilterable;const s={Contains:"NotContains",StartsWith:"NotStartsWith",EndsWith:"NotEndsWith",Empty:"NotEmpty",NotEmpty:"Empty",LE:"NOTLE",GE:"NOTGE",LT:"NOTLT",GT:"NOTGT",BT:"NOTBT",NE:"EQ",EQ:"NE"};function d(e){let t;if(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})\+(\d{1,4})/)){t=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})\+(\d{1,4})/)[0]}else if(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})/)){t=`${e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})/)[0]}+0000`}else if(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)){t=`${e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)[0]}T00:00:00+0000`}else if(e.indexOf("Z")===e.length-1){t=`${e.split("Z")[0]}+0100`}else{t=undefined}return t}o._getDateTimeOffsetCompliantValue=d;function r(e){return e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)?e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)[0]:e.match(/^(\d{8})/)&&e.match(/^(\d{8})/)[0]}o._getDateCompliantValue=r;function l(e,t){let n;if(!a(t)){return undefined}n=e;switch(t){case"Edm.Boolean":if(typeof e==="boolean"){n=e}else{n=e==="true"||(e==="false"?false:undefined)}break;case"Edm.Double":case"Edm.Single":n=isNaN(e)?undefined:parseFloat(e);break;case"Edm.Byte":case"Edm.Int16":case"Edm.Int32":case"Edm.SByte":n=isNaN(e)?undefined:parseInt(e,10);break;case"Edm.Date":n=r(e);break;case"Edm.DateTimeOffset":n=d(e);break;case"Edm.TimeOfDay":n=e.match(/(\d{1,2}):(\d{1,2}):(\d{1,2})/)?e.match(/(\d{1,2}):(\d{1,2}):(\d{1,2})/)[0]:undefined;break;default:}return n===null?undefined:n}o.getTypeCompliantValue=l;function c(t,n,i,o){let a=n,d,r;const l={};l.values=[];l.isEmpty=null;if(n===undefined||n===null){return undefined}switch(t){case"CP":r="Contains";if(a){const t=a.indexOf("*");const n=a.lastIndexOf("*");if(t>-1){if(t===0&&n!==a.length-1){r="EndsWith";a=a.substring(1,a.length)}else if(t!==0&&n===a.length-1){r="StartsWith";a=a.substring(0,a.length-1)}else{a=a.substring(1,a.length-1)}}else{e.warning("Contains Option cannot be used without '*'.");return undefined}}break;case"EQ":r=n===""?"Empty":t;break;case"NE":r=n===""?"NotEmpty":t;break;case"BT":if(i===undefined||i===null){return}d=i;r=t;break;case"LE":case"GE":case"GT":case"LT":r=t;break;default:e.warning(`Selection Option is not supported : '${t}'`);return undefined}if(o==="E"){r=s[r]}l.operator=r;if(r!=="Empty"){l.values.push(a);if(d){l.values.push(d)}}return l}o.resolveConditionValues=c;function u(e){return e.indexOf("/")>0?e.split("/")[1]:e}o.getRangeProperty=u;function f(e,t,n,i){const o=[];e===null||e===void 0?void 0:e.forEach(e=>{const a=i?i(e,t,n):h(e,t);if(a){o.push(a)}});return o}function p(e,t,n){const i=e.lastIndexOf("/");const o=i>-1?e.substring(0,e.lastIndexOf("/")+1):"";const a=t.getObject(`${n}/${o}`);return a===null||a===void 0?void 0:a[e.replace(o,"")]}function m(e,t,n,i){const o=e.PropertyName,a={},s=o.value||o.$PropertyPath,d=e.Ranges;const r=p(s,t,n);if(r){const e=f(d,r,s,i);if(e.length){a[s]=(a[s]||[]).concat(e)}}return a}function g(e,t,n,o){let a={};if(!n){return a}const s=n.SelectOptions,d=n.Parameters;s===null||s===void 0?void 0:s.forEach(n=>{const i=n.PropertyName,s=i.value||i.$PropertyPath;if(Object.keys(a).includes(s)){a[s]=a[s].concat(m(n,t,e,o)[s])}else{a={...a,...m(n,t,e,o)}}});d===null||d===void 0?void 0:d.forEach(e=>{const t=e.PropertyName.value||e.PropertyName.$PropertyPath;const n=o?{operator:"EQ",value1:e.PropertyValue,value2:null,path:t,isParameter:true}:{operator:"EQ",values:[e.PropertyValue],isEmpty:null,validated:i.Validated,isParameter:true};a[t]=[n]});return a}o.getFiltersConditionsFromSelectionVariant=g;function h(e,t){let o;const a=e.Sign?u(e.Sign):undefined;const s=e.Option?u(e.Option):undefined;const d=l(e.Low,t.$Type||t.type);const r=e.High?l(e.High,t.$Type||t.type):undefined;const f=c(s,d,r,a);if(f){o=n.createCondition(f.operator,f.values,null,null,i.Validated)}return o}o.getConditions=h;const E=function(e,t){const o={};const a=e.getInterface(1).getPath(),s=e.getInterface(1).getModel();if(t){for(const e in t){const t=s.getObject(`${a}/${e}@com.sap.vocabularies.Common.v1.FilterDefaultValue`);if(t!==undefined){const a=e;o[a]=[n.createCondition("EQ",[t],null,null,i.Validated)]}}}return o};const v=function(e,t,i){const o={};const a=e.getInterface(1);const s=a.getModel();const d=a.getPath();for(const e in i){if(i[e][0]){const t=e.split("::");let a="";const r=t.length;const l=t.slice(0,t.length-1).join("/");const c=t[r-1];if(l){const e=s.getObject(d+"/"+l);if(e.$kind==="NavigationProperty"&&e.$isCollection){a+=`${l}*/`}else if(e.$kind==="NavigationProperty"){a+=`${l}/`}}a+=c;const u="values"in i[e][0]?i[e][0].values:[];o[a]=[n.createCondition(i[e][0].operator,u,null,null,null)]}}return o};function y(){const e={};e["$editState"]=[n.createCondition("DRAFT_EDIT_STATE",["ALL"],null,null,i.Validated)];return e}function b(e,t){var n,i;let o;const a=e.getInterface(1).getPath(),s=e.getInterface(1).getModel(),d=s.getObject(`${a}@`),r=s.getObject(`${a}/`);if(d&&(d["@com.sap.vocabularies.Common.v1.DraftRoot"]||d["@com.sap.vocabularies.Common.v1.DraftNode"])){o=y()}const l=(n=t)===null||n===void 0?void 0:n.selectionVariant;const c=((i=t)===null||i===void 0?void 0:i.defaultSemanticDates)||{};const u=E(e,r);const f=v(e,r,c);if(l){t=g(a,s,l)}else if(u){t=u}if(f){t={...t,...f}}if(o){t={...t,...o}}return Object.keys(t).length>0?JSON.stringify(t).replace(/([{}])/g,"\\$1"):undefined}o.getFilterConditions=b;b.requiresIContext=true;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/FilterTemplating", ["sap/fe/core/helpers/TypeGuards"],function(t){"use strict";var i={};var e=t.isEntitySet;function n(t,i){var n,o;const l=t.getEntitySet();let r;if(e(l)){r=l.annotations.Capabilities}const s=(n=r)===null||n===void 0?void 0:(o=n.FilterRestrictions)===null||o===void 0?void 0:o.RequiredProperties;let a=false;if(s){s.forEach(function(t){if(i===(t===null||t===void 0?void 0:t.value)){a=true}})}return a}i.getIsRequired=n;function o(t,i){var n,o;let l,r;const s=t.getEntityType();const a=t.getEntitySet();let v;if(e(a)){v=a.annotations.Capabilities}const u=(n=v)===null||n===void 0?void 0:(o=n.FilterRestrictions)===null||o===void 0?void 0:o.NonFilterableProperties;const d=s.entityProperties;d.forEach(t=>{const e=t.name;if(e===i){var n,o,l;r=(n=t.annotations)===null||n===void 0?void 0:(o=n.UI)===null||o===void 0?void 0:(l=o.Hidden)===null||l===void 0?void 0:l.valueOf()}});if(u&&u.length>0){for(let t=0;t<u.length;t++){var f;const e=(f=u[t])===null||f===void 0?void 0:f.value;if(e===i){l=true}}}return l||r}i.isPropertyFilterable=o;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/PropertyFormatters", ["sap/fe/core/converters/MetaModelConverter","sap/fe/core/templating/DataModelPathHelper","./PropertyHelper","./UIFormatters"],function(t,e,r,o){"use strict";var n={};var a=o.getConverterContext;var c=e.getTargetObjectPath;var s=e.enhanceDataModelPath;var i=t.getInvolvedDataModelObjects;const u=function(t,e){const r=e.context.getPath();if(!t){throw new Error(`Unresolved context path ${r}`)}let o=false;if(typeof t==="object"&&t.hasOwnProperty("$Path")){o=true}else if(typeof t==="object"&&t.hasOwnProperty("$kind")&&t.$kind!=="Property"){throw new Error(`Context does not resolve to a Property object but to a ${t.$kind}`)}let n=a(t,e);if(o){n=n.$target}return n};n.getProperty=u;const l=function(t,e){const r=e.context.getPath();if(!t){throw new Error(`Unresolved context path ${r}`)}if(typeof t==="object"&&t.hasOwnProperty("$kind")&&t.$kind!=="Property"){throw new Error(`Context does not resolve to a Property object but to a ${t.$kind}`)}let o=i(e.context);if(o.targetObject&&o.targetObject.type==="Path"){o=s(o,o.targetObject.path)}return o};n.getPropertyObjectPath=l;const p=function(t,e){const o=u(t,e);return r.isKey(o)};n.isKey=p;const h=function(t,e){const o=u(t,e);return r.hasValueHelp(o)};n.hasValueHelp=h;const f=function(t,e){const o=u(t,e);return r.hasDateType(o)};n.hasDateType=f;const P=function(t,e){const o=u(t,e);return r.hasValueHelpWithFixedValues(o)};n.hasValueHelpWithFixedValues=P;const y=function(t,e){const r=u(t,e);return r.name};n.getName=y;const d=function(t,e){const o=u(t,e);return r.getLabel(o)};n.getLabel=d;const g=function(t,e){const r=l(t,e);return c(r)};n.getPropertyPath=g;const b=function(t,e){const r=l(t,e);return c(r,true)};n.getRelativePropertyPath=b;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/PropertyHelper", ["sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/SemanticObjectHelper"],function(n,o){"use strict";var i={};var t=n.isPathAnnotationExpression;const e=function(n){var o,i,t;return!!((o=n.annotations)!==null&&o!==void 0&&(i=o.Core)!==null&&i!==void 0&&(t=i.Computed)!==null&&t!==void 0&&t.valueOf())};i.isComputed=e;const l=function(n){var o,i,t;return!!((o=n.annotations)!==null&&o!==void 0&&(i=o.Core)!==null&&i!==void 0&&(t=i.Immutable)!==null&&t!==void 0&&t.valueOf())};i.isImmutable=l;const u=function(n){return!!n.isKey};i.isKey=u;const d=function(n,o){var i,t,e,l;const u=(i=o.contextLocation)===null||i===void 0?void 0:(t=i.targetEntityType)===null||t===void 0?void 0:(e=t.annotations)===null||e===void 0?void 0:(l=e.Common)===null||l===void 0?void 0:l.SemanticKey;return(u===null||u===void 0?void 0:u.some(function(o){var i;return(o===null||o===void 0?void 0:(i=o.$target)===null||i===void 0?void 0:i.fullyQualifiedName)===n.fullyQualifiedName}))??false};i.isSemanticKey=d;const a=function(n){return["Edm.Date","Edm.DateTime","Edm.DateTimeOffset"].indexOf(n.type)!==-1};i.hasDateType=a;const v=function(n){var o,i,t;return((o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:(t=i.Label)===null||t===void 0?void 0:t.toString())||""};i.getLabel=v;const r=function(n){return o.hasSemanticObject(n)};i.hasSemanticObject=r;const s=function(n){var o,i,e,l;return t(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Timezone)?(e=n.annotations)===null||e===void 0?void 0:(l=e.Common)===null||l===void 0?void 0:l.Timezone.$target:undefined};i.getAssociatedTimezoneProperty=s;const c=function(n){var o,i,e,l,u;return t(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Timezone)?n===null||n===void 0?void 0:(e=n.annotations)===null||e===void 0?void 0:(l=e.Common)===null||l===void 0?void 0:(u=l.Timezone)===null||u===void 0?void 0:u.path:undefined};i.getAssociatedTimezonePropertyPath=c;const m=function(n){var o,i,e,l;return t(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Text)?(e=n.annotations)===null||e===void 0?void 0:(l=e.Common)===null||l===void 0?void 0:l.Text.$target:undefined};i.getAssociatedTextProperty=m;const f=function(n){var o,i,e,l;return t(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Measures)===null||i===void 0?void 0:i.Unit)?(e=n.annotations)===null||e===void 0?void 0:(l=e.Measures)===null||l===void 0?void 0:l.Unit.$target:undefined};i.getAssociatedUnitProperty=f;const C=function(n){var o,i,e,l;return t(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Measures)===null||i===void 0?void 0:i.Unit)?(e=n.annotations)===null||e===void 0?void 0:(l=e.Measures)===null||l===void 0?void 0:l.Unit.path:undefined};i.getAssociatedUnitPropertyPath=C;const p=function(n){var o,i,e,l;return t(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Measures)===null||i===void 0?void 0:i.ISOCurrency)?(e=n.annotations)===null||e===void 0?void 0:(l=e.Measures)===null||l===void 0?void 0:l.ISOCurrency.$target:undefined};i.getAssociatedCurrencyProperty=p;const y=function(n){var o,i,e,l;return t(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Measures)===null||i===void 0?void 0:i.ISOCurrency)?(e=n.annotations)===null||e===void 0?void 0:(l=e.Measures)===null||l===void 0?void 0:l.ISOCurrency.path:undefined};i.getAssociatedCurrencyPropertyPath=y;const h=function(n){var o,i,e,l;return t((o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Text)?(e=n.annotations)===null||e===void 0?void 0:(l=e.Common)===null||l===void 0?void 0:l.Text.path:undefined};i.getAssociatedTextPropertyPath=h;const g=function(n){var o,i,t,e,l,u,d,a;return!!((o=n.annotations)!==null&&o!==void 0&&(i=o.Common)!==null&&i!==void 0&&i.ValueList)||!!((t=n.annotations)!==null&&t!==void 0&&(e=t.Common)!==null&&e!==void 0&&e.ValueListReferences)||!!((l=n.annotations)!==null&&l!==void 0&&(u=l.Common)!==null&&u!==void 0&&u.ValueListWithFixedValues)||!!((d=n.annotations)!==null&&d!==void 0&&(a=d.Common)!==null&&a!==void 0&&a.ValueListMapping)};i.hasValueHelp=g;const T=function(n){var o,i,t;return!!(n!==null&&n!==void 0&&(o=n.annotations)!==null&&o!==void 0&&(i=o.Common)!==null&&i!==void 0&&(t=i.ValueListWithFixedValues)!==null&&t!==void 0&&t.valueOf())};i.hasValueHelpWithFixedValues=T;const O=function(n){var o,i;return((o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.ValueListForValidation)!==undefined};i.hasValueListForValidation=O;const U=function(n){var o,i;return((o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Timezone)!==undefined};i.hasTimezone=U;const x=function(n){var o,i,t;return!!((o=n.annotations)!==null&&o!==void 0&&(i=o.Common)!==null&&i!==void 0&&(t=i.IsUnit)!==null&&t!==void 0&&t.valueOf())};i.isUnit=x;const P=function(n){var o,i,t;return!!((o=n.annotations)!==null&&o!==void 0&&(i=o.Common)!==null&&i!==void 0&&(t=i.Text)!==null&&t!==void 0&&t.valueOf())};i.hasText=P;const V=function(n){var o,i,t;return!!((o=n.annotations)!==null&&o!==void 0&&(i=o.UI)!==null&&i!==void 0&&(t=i.IsImageURL)!==null&&t!==void 0&&t.valueOf())};i.isImageURL=V;const I=function(n){var o,i,t;return!!((o=n.annotations)!==null&&o!==void 0&&(i=o.Common)!==null&&i!==void 0&&(t=i.IsCurrency)!==null&&t!==void 0&&t.valueOf())};i.isCurrency=I;const S=function(n){var o,i;return((o=n.annotations)===null||o===void 0?void 0:(i=o.Measures)===null||i===void 0?void 0:i.ISOCurrency)!==undefined};i.hasCurrency=S;const L=function(n){var o,i;return((o=n.annotations)===null||o===void 0?void 0:(i=o.Measures)===null||i===void 0?void 0:i.Unit)!==undefined};i.hasUnit=L;const M=function(n){return n.type==="Edm.Guid"};i.isGuid=M;const A=function(n){var o,i,t;return(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Measures)===null||i===void 0?void 0:(t=i.Unit)===null||t===void 0?void 0:t.toString())==="%"};i.hasStaticPercentUnit=A;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/SemanticObjectHelper", [],function(){"use strict";var n={};const o=n=>{const o=n===null||n===void 0?void 0:n.match(/{(.*?)}/);if(o!==null&&o!==void 0&&o.length&&o.length>1){return o[1]}return null};n.getDynamicPathFromSemanticObject=o;const t=function(n){var o;const t=(o=n.annotations)===null||o===void 0?void 0:o.Common;if(t){for(const n in t){var i;if(((i=t[n])===null||i===void 0?void 0:i.term)==="com.sap.vocabularies.Common.v1.SemanticObject"){return true}}}return false};n.hasSemanticObject=t;const i=function(n){var o;const t=[];const i=(o=n.annotations)===null||o===void 0?void 0:o.Common;if(i){for(const n in i){var a;if(((a=i[n])===null||a===void 0?void 0:a.term)==="com.sap.vocabularies.Common.v1.SemanticObject"){t.push(i[n])}}}return t};n.getSemanticObjects=i;const a=function(n){var o;const t=[];const i=(o=n.annotations)===null||o===void 0?void 0:o.Common;if(i){for(const n in i){var a;if(((a=i[n])===null||a===void 0?void 0:a.term)==="com.sap.vocabularies.Common.v1.SemanticObjectMapping"){t.push(i[n])}}}return t};n.getSemanticObjectMappings=a;const c=function(n){var o;const t=[];const i=(o=n.annotations)===null||o===void 0?void 0:o.Common;if(i){for(const n in i){var a;if(((a=i[n])===null||a===void 0?void 0:a.term)==="com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"){t.push(i[n])}}}return t};n.getSemanticObjectUnavailableActions=c;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/UIFormatters", ["sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/FieldControlHelper","sap/fe/core/templating/PropertyHelper","sap/ui/mdc/enum/EditMode"],function(e,t,n,i,o,a,r,l,s,d){"use strict";var u={};var c=s.isKey;var v=s.isImmutable;var f=s.isComputed;var p=s.hasValueHelp;var g=s.getAssociatedUnitProperty;var m=s.getAssociatedCurrencyProperty;var y=l.isRequiredExpression;var h=l.isReadOnlyExpression;var b=l.isNonEditableExpression;var E=l.isDisabledExpression;var x=a.isPathUpdatable;var D=a.getTargetObjectPath;var T=a.getRelativePaths;var I=a.getContextRelativeTargetObjectPath;var $=o.isProperty;var O=o.isPathAnnotationExpression;var M=o.isMultipleNavigationProperty;var P=i.pathInModel;var C=i.or;var U=i.notEqual;var V=i.not;var F=i.isTruthy;var j=i.isConstant;var S=i.ifElse;var q=i.getExpressionFromAnnotation;var w=i.formatWithTypeInformation;var A=i.formatResult;var N=i.equal;var R=i.EDM_TYPE_MAPPING;var B=i.constant;var W=i.compileExpression;var z=i.and;var k=i.addTypeInformation;var H=t.getInvolvedDataModelObjects;var L=t.convertMetaModelContext;var K=e.UI;var G=e.singletonPathVisitor;const _=function(e){return r.getDisplayMode(e.targetObject,e)};u.getDisplayMode=_;const Y=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let n=arguments.length>2?arguments[2]:undefined;let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:K.IsEditable;let o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;return J(e,t,n,true,i,o)};u.getEditableExpressionAsObject=Y;const J=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let n=arguments.length>2?arguments[2]:undefined;let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:K.IsEditable;let a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:true;if(!e||typeof e==="string"){return W(false)}let r=B(true);if(t!==null){r=S(b(t),false,o)}const l=O(e)?e.$target:e;const s=T(n);const d=x(n,{propertyPath:e,pathVisitor:(e,t)=>G(e,n.convertedTypes,t)});if(W(d)==="false"&&a){return i?d:"false"}const u=S(C(z(V(d),a),f(l),c(l),v(l),b(l,s)),S(C(f(l),b(l,s)),false,K.IsTransientBinding),o);if(i){return z(u,r)}return W(z(u,r))};u.getEditableExpression=J;const Q=function(e,t){var n;const i=D(e);const o=P(`/collaboration/activities${i}`,"internal");const a=e===null||e===void 0?void 0:(n=e.targetEntityType)===null||n===void 0?void 0:n.keys;const r=[];a===null||a===void 0?void 0:a.forEach(function(e){const t=P(e.name);r.push(t)});return A([o,...r],t)};u.getCollaborationExpression=Q;const X=function(e,t,n){return Z(e,t,true,n)};u.getEnabledExpressionAsObject=X;const Z=function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let i=arguments.length>3?arguments[3]:undefined;if(!e||typeof e==="string"){return W(true)}let o;if(i){o=T(i)}let a=B(true);if(t!==null){a=S(E(t),false,true)}const r=O(e)?e.$target:e;const l=S(E(r,o),false,true);if(n){return z(l,a)}return W(z(l,a))};u.getEnabledExpression=Z;const ee=function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;let a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:K.IsEditable;if(!e||typeof e==="string"||(o===null||o===void 0?void 0:o.$Type)==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){return d.Display}const r=O(e)?e.$target:e;const l=T(t);const s=x(t,{propertyPath:r,pathVisitor:(e,n)=>G(e,t.convertedTypes,n)});const u=Y(e,o,t,a,false);const c=X(e,o,t);const p=m(r);const y=p||g(r);let b=B(d.Editable);if(y){const e=h(y,l);b=S(C(e,f(y),z(v(y),V(K.IsTransientBinding)),n),S(!j(e)&&e,d.EditableReadOnly,d.EditableDisplay),d.Editable)}const E=C(h(r,l),h(o));const D=S(C(s,K.IsTransientBinding),S(c,S(u,b,S(z(!j(E)&&E,a),d.ReadOnly,d.Display)),S(a,d.Disabled,d.Display)),d.Display);if(i){return D}return W(D)};u.getEditMode=ee;const te=function(e){var t,n,i,o;const a=e.targetObject;const r=(t=a.annotations)===null||t===void 0?void 0:(n=t.Measures)===null||n===void 0?void 0:n.ISOCurrency;const l=r?r:(i=a.annotations)===null||i===void 0?void 0:(o=i.Measures)===null||o===void 0?void 0:o.Unit;if(l){return W(C(F(q(l)),V(K.IsTotal)))}else{return W(B(true))}};u.hasValidAnalyticalCurrencyOrUnit=te;const ne=function(e,t,n){const i=O(e)&&e.$target||e;const o=m(i)||g(i);if(!o){return W(n)}const a=h(o);const r=z(C(!j(a),V(a)),V(f(o)),V(v(o)));return W(S(r,t,n))};u.ifUnitEditable=ne;const ie=function(e,t,n){const i=O(e)&&e.$target||e;return p(i)?W(t):W(S(N(n,"Editable"),"Value",t))};u.getFieldDisplay=ie;const oe=function(e,t){var n,i,o,a;const r=R[e===null||e===void 0?void 0:e.type]||(t?R[t]:undefined);const l={type:r.type,constraints:{},formatOptions:{}};if($(e)){var s,d,u,c,v,f,p,g,m,y,h,b,E,x,D,T,I,O;l.constraints={scale:(s=r.constraints)!==null&&s!==void 0&&s.$Scale?e.scale:undefined,precision:(d=r.constraints)!==null&&d!==void 0&&d.$Precision?e.precision:undefined,maxLength:(u=r.constraints)!==null&&u!==void 0&&u.$MaxLength?e.maxLength:undefined,nullable:(c=r.constraints)!==null&&c!==void 0&&c.$Nullable?e.nullable:undefined,minimum:(v=r.constraints)!==null&&v!==void 0&&v["@Org.OData.Validation.V1.Minimum/$Decimal"]&&!isNaN((f=e.annotations)===null||f===void 0?void 0:(p=f.Validation)===null||p===void 0?void 0:p.Minimum)?`${(g=e.annotations)===null||g===void 0?void 0:(m=g.Validation)===null||m===void 0?void 0:m.Minimum}`:undefined,maximum:(y=r.constraints)!==null&&y!==void 0&&y["@Org.OData.Validation.V1.Maximum/$Decimal"]&&!isNaN((h=e.annotations)===null||h===void 0?void 0:(b=h.Validation)===null||b===void 0?void 0:b.Maximum)?`${(E=e.annotations)===null||E===void 0?void 0:(x=E.Validation)===null||x===void 0?void 0:x.Maximum}`:undefined,isDigitSequence:l.type==="sap.ui.model.odata.type.String"&&(D=r.constraints)!==null&&D!==void 0&&D["@com.sap.vocabularies.Common.v1.IsDigitSequence"]&&(T=e.annotations)!==null&&T!==void 0&&(I=T.Common)!==null&&I!==void 0&&I.IsDigitSequence?true:undefined,V4:(O=r.constraints)!==null&&O!==void 0&&O.$V4?true:undefined}}l.formatOptions={parseAsString:(l===null||l===void 0?void 0:(n=l.type)===null||n===void 0?void 0:n.indexOf("sap.ui.model.odata.type.Int"))===0||(l===null||l===void 0?void 0:(i=l.type)===null||i===void 0?void 0:i.indexOf("sap.ui.model.odata.type.Double"))===0?false:undefined,emptyString:(l===null||l===void 0?void 0:(o=l.type)===null||o===void 0?void 0:o.indexOf("sap.ui.model.odata.type.Int"))===0||(l===null||l===void 0?void 0:(a=l.type)===null||a===void 0?void 0:a.indexOf("sap.ui.model.odata.type.Double"))===0?"":undefined,parseKeepsEmptyString:l.type==="sap.ui.model.odata.type.String"?true:undefined};return l};u.getTypeConfig=oe;const ae=function(e,t,i,o){var a,r,l,s,d;const u=e.targetObject;let c=(a=u.annotations)===null||a===void 0?void 0:(r=a.Measures)===null||r===void 0?void 0:r.Unit;const v=T(e);t=w(u,t);if(((l=c)===null||l===void 0?void 0:l.toString())==="%"){if((o===null||o===void 0?void 0:o.showMeasure)===false){return t}return A([t],n.formatWithPercentage)}const f=c?"sap.ui.model.odata.type.Unit":"sap.ui.model.odata.type.Currency";c=c?c:(s=u.annotations)===null||s===void 0?void 0:(d=s.Measures)===null||d===void 0?void 0:d.ISOCurrency;const p=c.$target?w(c.$target,q(c,v),i):q(c,v);return k([t,p],f,undefined,o)};u.getBindingWithUnitOrCurrency=ae;const re=function(e){var t,n,i,o,a;const r=e.targetObject;let l=(t=r.annotations)===null||t===void 0?void 0:(n=t.Measures)===null||n===void 0?void 0:n.Unit;if(((i=l)===null||i===void 0?void 0:i.toString())==="%"){return B("%")}const s=T(e);const d=l?"sap.ui.model.odata.type.Unit":"sap.ui.model.odata.type.Currency";l=l?l:(o=r.annotations)===null||o===void 0?void 0:(a=o.Measures)===null||a===void 0?void 0:a.ISOCurrency;const u=l.$target?w(l.$target,q(l,s)):q(l,s);let c=P(I(e));c=w(r,c,true);return k([c,u],d,undefined,{parseKeepsEmptyString:true,emptyString:"",showNumber:false})};u.getBindingForUnitOrCurrency=re;const le=function(e,t){var n,i;let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let r=arguments.length>4?arguments[4]:undefined;const l=e.targetObject;const s=(n=l.annotations)===null||n===void 0?void 0:(i=n.Common)===null||i===void 0?void 0:i.Timezone;const d=T(e);t=w(l,t);const u="sap.fe.core.type.DateTimeWithTimezone";const c=s.$target?w(s.$target,q(s,d),o):q(s,d);let v={};if(a){v={showTimezoneForEmptyValues:false}}if(r!==null&&r!==void 0&&r.showTime){v={...v,...{showTime:r.showTime==="false"?false:true}}}if(r!==null&&r!==void 0&&r.showDate){v={...v,...{showDate:r.showDate==="false"?false:true}}}if(r!==null&&r!==void 0&&r.showTimezone){v={...v,...{showTimezone:r.showTimezone==="false"?false:true}}}return k([t,c],u,undefined,v)};u.getBindingWithTimezone=le;const se=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"Begin";let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"Begin";return W(S(N(e,"Display"),t,n))};u.getAlignmentExpression=se;const de=function(e,t){if(t&&t.context){return L(t.context)}return null};de.requiresIContext=true;u.getConverterContext=de;const ue=function(e,t){if(t&&t.context){return H(t.context)}return null};ue.requiresIContext=true;u.getDataModelObjectPath=ue;const ce=function(e){var t;if((t=e.navigationProperties)!==null&&t!==void 0&&t.length){const t=(e===null||e===void 0?void 0:e.navigationProperties.findIndex(t=>{if(M(t)){var n,i;if((n=e.contextLocation)!==null&&n!==void 0&&(i=n.navigationProperties)!==null&&i!==void 0&&i.length){var o;return((o=e.contextLocation)===null||o===void 0?void 0:o.navigationProperties.findIndex(e=>e.name===t.name))===-1}return true}return false}))>-1;if(t){return true}}return false};u.isMultiValueField=ce;const ve=function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return fe(e,t,n,true)};u.getRequiredExpressionAsObject=ve;const fe=function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{};let a=arguments.length>5?arguments[5]:undefined;const r=o.requiredPropertiesFromInsertRestrictions;const l=o.requiredPropertiesFromUpdateRestrictions;if(!e||typeof e==="string"){if(i){return B(false)}return W(B(false))}let s;if(a){s=T(a)}let d=B(true);if(t!==null){d=y(t)}let u=B(false);let c=B(false);const v=O(e)&&e.$target||e;const f=y(v,s);const p=n||K.IsEditable;if(r!==null&&r!==void 0&&r.includes(e.name)){u=z(B(true),K.IsCreateMode)}if(l!==null&&l!==void 0&&l.includes(e.name)){c=z(B(true),U(K.IsCreateMode,true))}const g=C(z(C(f,d),p),u,c);if(i){return g}return W(g)};u.getRequiredExpression=fe;const pe=function(e){var t,n;const i=e===null||e===void 0?void 0:(t=e.targetObject)===null||t===void 0?void 0:(n=t.$target)===null||n===void 0?void 0:n.Data;const o=Object.keys(i);const a=[];let r;const l=[];for(const e of o){if(i[e]["$Type"]&&i[e]["$Type"].indexOf("DataField")>-1){a.push(i[e])}}for(const e of a){switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":if(typeof e.Value==="object"){r=e.Value.$target}break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(e.Target.$target){if(e.Target.$target.$Type==="com.sap.vocabularies.UI.v1.DataField"||e.Target.$target.$Type==="com.sap.vocabularies.UI.v1.DataPointType"){if(typeof e.Target.$target.Value==="object"){r=e.Target.$target.Value.$target}}else{if(typeof e.Target==="object"){r=e.Target.$target}break}}break}l.push(ve(r,e,false))}return W(C(...l))};u.getRequiredExpressionForConnectedDataField=pe;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/type/DateTimeWithTimezone", ["sap/fe/core/helpers/ClassSupport","sap/ui/model/odata/type/DateTimeWithTimezone"],function(e,t){"use strict";var o,r;var n=e.defineUI5Class;function i(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}function u(e,t){u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return u(e,t)}let a=(o=n("sap.fe.core.type.DateTimeWithTimezone"),o(r=function(e){i(t,e);function t(t,o){var r;r=e.call(this,t,o)||this;r.bShowTimezoneForEmptyValues=(t===null||t===void 0?void 0:t.showTimezoneForEmptyValues)??true;return r}var o=t.prototype;o.formatValue=function t(o,r){const n=o&&o[0];if(n===undefined||!n&&!this.bShowTimezoneForEmptyValues){return null}return e.prototype.formatValue.call(this,o,r)};return t}(t))||r);return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/type/EDM", [],function(){"use strict";var e={};const d={"Edm.Binary":{modelType:undefined},"Edm.Boolean":{modelType:"Bool"},"Edm.Byte":{modelType:"Int"},"Edm.Date":{modelType:"Date"},"Edm.DateTime":{modelType:"Date"},"Edm.DateTimeOffset":{modelType:"DateTimeOffset"},"Edm.Decimal":{modelType:"Decimal"},"Edm.Duration":{modelType:undefined},"Edm.Double":{modelType:"Float"},"Edm.Float":{modelType:"Float"},"Edm.Guid":{modelType:"Guid"},"Edm.Int16":{modelType:"Int"},"Edm.Int32":{modelType:"Int"},"Edm.Int64":{modelType:"Int"},"Edm.SByte":{modelType:"Int"},"Edm.Single":{modelType:"Float"},"Edm.String":{modelType:"String"},"Edm.Time":{modelType:"TimeOfDay"},"Edm.TimeOfDay":{modelType:"TimeOfDay"},"Edm.Stream":{modelType:undefined}};e.DefaultTypeForEdmType=d;function m(e){var m;return!!((m=d[e])!==null&&m!==void 0&&m.modelType)}e.isTypeFilterable=m;function l(e){var m;return(m=d[e])===null||m===void 0?void 0:m.modelType}e.getModelType=l;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/type/Email", ["sap/fe/core/helpers/ClassSupport","sap/ui/core/Core","sap/ui/model/odata/type/String","sap/ui/model/ValidateException"],function(t,e,o,r){"use strict";var a,n;var p=t.defineUI5Class;function i(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;s(t,e)}function s(t,e){s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,o){e.__proto__=o;return e};return s(t,e)}const u=/^[a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$/;let c=(a=p("sap.fe.core.type.Email"),a(n=function(t){i(o,t);function o(){return t.apply(this,arguments)||this}var a=o.prototype;a.validateValue=function o(a){if(!u.test(a)){throw new r(e.getLibraryResourceBundle("sap.fe.core").getText("T_EMAILTYPE_INVALID_VALUE"))}t.prototype.validateValue.call(this,a)};return o}(o))||n);return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/type/FiscalDate", ["sap/fe/core/formatters/FiscalFormat","sap/fe/core/helpers/ClassSupport","sap/ui/core/CalendarType","sap/ui/core/Core","sap/ui/model/odata/type/String","sap/ui/model/ValidateException"],function(a,e,r,t,o,s){"use strict";var i,c,l;var n=e.defineUI5Class;function m(a,e){a.prototype=Object.create(e.prototype);a.prototype.constructor=a;u(a,e)}function u(a,e){u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function a(e,r){e.__proto__=r;return e};return u(a,e)}let p=(i=n("sap.fe.core.type.FiscalDate"),i(c=(l=function(e){m(o,e);function o(t,s){var i;if((t.fiscalType==="com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"||t.fiscalType==="com.sap.vocabularies.Common.v1.IsFiscalYearQuarter"||t.fiscalType==="com.sap.vocabularies.Common.v1.IsFiscalYearWeek")&&s!==null&&s!==void 0&&s.maxLength){s.maxLength=s.maxLength+1}i=e.call(this,t,s)||this;i.annotationType=t.fiscalType;const c=o.dateFormats[i.annotationType];if(c){i.formatter=a.getDateInstance({format:c,calendarType:r.Gregorian})}return i}var i=o.prototype;i.getPattern=function a(){var e;return(e=this.formatter)===null||e===void 0?void 0:e.getPattern()};i.formatValue=function a(r,t){return this.formatter?this.formatter.format(e.prototype.formatValue.call(this,r,t)):e.prototype.formatValue.call(this,r,t)};i.parseValue=function a(r,t){return this.formatter?this.formatter.parse(e.prototype.parseValue.call(this,r,t)):e.prototype.parseValue.call(this,r,t)};i.validateValue=function a(r){try{e.prototype.validateValue.call(this,r)}catch(a){if(!this.formatter){throw a}if(!this.formatter.validate(r)){throw new s(this.getErrorMessage(this.annotationType))}}if(!this.formatter||r===""||r===null){return}if(!this.formatter.validate(r)){throw new s(this.getErrorMessage(this.annotationType))}};i.getErrorMessage=function a(e){let r="";this.fullYear=this.fullYear||(new Date).getFullYear().toString();switch(e){case"com.sap.vocabularies.Common.v1.IsFiscalYear":r=this.fullYear;break;case"com.sap.vocabularies.Common.v1.IsFiscalPeriod":r="001";break;case"com.sap.vocabularies.Common.v1.IsFiscalYearPeriod":r=this.fullYear+"001";break;case"com.sap.vocabularies.Common.v1.IsFiscalQuarter":r="1";break;case"com.sap.vocabularies.Common.v1.IsFiscalYearQuarter":r=this.fullYear+"1";break;case"com.sap.vocabularies.Common.v1.IsFiscalWeek":r="01";break;case"com.sap.vocabularies.Common.v1.IsFiscalYearWeek":r=this.fullYear+"01";break;case"com.sap.vocabularies.Common.v1.IsDayOfFiscalYear":r="1";break;case"com.sap.vocabularies.Common.v1.IsFiscalYearVariant":break;default:r=this.fullYear}return t.getLibraryResourceBundle("sap.fe.core").getText("FISCAL_VALIDATION_FAILS",[this.formatValue(r,"string")])};i.getName=function a(){return"sap.fe.core.type.FiscalDate"};i.getFormatter=function a(){return this.formatter};return o}(o),l.dateFormats={["com.sap.vocabularies.Common.v1.IsFiscalYear"]:"YYYY",["com.sap.vocabularies.Common.v1.IsFiscalPeriod"]:"PPP",["com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"]:"YYYYPPP",["com.sap.vocabularies.Common.v1.IsFiscalQuarter"]:"Q",["com.sap.vocabularies.Common.v1.IsFiscalYearQuarter"]:"YYYYQ",["com.sap.vocabularies.Common.v1.IsFiscalWeek"]:"WW",["com.sap.vocabularies.Common.v1.IsFiscalYearWeek"]:"YYYYWW",["com.sap.vocabularies.Common.v1.IsDayOfFiscalYear"]:"d",["com.sap.vocabularies.Common.v1.IsFiscalYearVariant"]:""},l))||c);return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/type/TypeUtil", ["sap/fe/core/helpers/BindingToolkit","sap/base/util/merge","sap/ui/mdc/enum/BaseType","sap/ui/mdc/odata/TypeUtil"],function(e,a,t,s){"use strict";var r=e.EDM_TYPE_MAPPING;const u=Object.assign({},s);u.getBaseType=function(e,a,r){switch(e){case"sap.ui.model.odata.type.Date":return t.Date;case"sap.ui.model.odata.type.TimeOfDay":return t.Time;case"sap.ui.model.odata.type.Unit":case"sap.ui.model.odata.type.Currency":if(!a||(!a.hasOwnProperty("showMeasure")||a.showMeasure)&&(!a.hasOwnProperty("showNumber")||a.showNumber)){return t.Unit}else if(!a.hasOwnProperty("showNumber")||a.showNumber){return t.Numeric}else{return t.String}default:return s.getBaseType.call(u,e,a,r)}};u.getDataTypeClassName=function(e){if(r[e]){e=r[e].type}else{e=s.getDataTypeClassName.call(u,e)}return e};u.getDataTypeInstance=function(e,t,s){switch(e){case"sap.ui.model.odata.type.DateTimeOffset":case"Edm.DateTimeOffset":s=a({},s||{});s.V4=true;break;default:}const r=u.getDataTypeClass(e);return new r(t,s)};return u},false);
sap.ui.require.preload({
	"sap/fe/core/controllerextensions/collaboration/ManageDialog.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:mdcv="sap.ui.mdc.valuehelp"\n\txmlns:mdcvc="sap.ui.mdc.valuehelp.content"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tCOMMON: \'sap/fe/core/controllerextensions/collaboration/CollaborationCommon\',\n\t\tHELPER: \'sap/fe/macros/CommonHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n\tcore:require="{FORMATTER: \'sap/fe/core/formatters/CollaborationFormatter\'}"\n><Dialog\n\t\tid="dialog"\n\t\ttitle="{= COMMON.getInvitationDialogTitleExpBinding(${contextPath>./@com.sap.vocabularies.UI.v1.HeaderInfo@@UI.getDataModelObjectPath}) }"\n\t\tbinding="{internal>collaboration}"\n\t><VBox class="sapUiMediumMargin"><VBox width="40em"><MessageStrip\n\t\t\t\t\ttext="{sap.fe.i18n>C_COLLABORATIONDRAFT_INVITATION_MESSAGESTRIP}"\n\t\t\t\t\ttype="Information"\n\t\t\t\t\tshowIcon="true"\n\t\t\t\t\tshowCloseButton="false"\n\t\t\t\t\tclass="sapUiMediumMarginBottom"\n\t\t\t\t/></VBox><Label text="{sap.fe.i18n>C_COLLABORATIONDRAFT_INVITATION_INPUT_LABEL}" /><HBox class="sapUiMediumMarginBottom" width="100%" id="newUserBox"><mdc:Field\n\t\t\t\t\tid="UserID"\n\t\t\t\t\tvalue="{internal>UserID}"\n\t\t\t\t\tadditionalValue="{internal>UserDescription}"\n\t\t\t\t\tdisplay="DescriptionValue"\n\t\t\t\t\twidth="37em"\n\t\t\t\t\trequired="true"\n\t\t\t\t\tfieldHelp="userValueHelp"\n\t\t\t\t\tplaceholder="{sap.fe.i18n>C_COLLABORATIONDRAFT_INVITATION_INPUT_PLACEHOLDER}"\n\t\t\t\t\tchange=".addUserChanged"\n\t\t\t\t><mdc:dependents><mdc:ValueHelp\n\t\t\t\t\t\t\tid="userValueHelp"\n\t\t\t\t\t\t\tdelegate="{= COMMON.getValueHelpDelegate(${contextPath>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\tvalidateInput="true"\n\t\t\t\t\t\t><mdc:typeahead><mdcv:Popover><mdcvc:MTable id="userValueHelp::Popover::qualifier::" caseSensitive="true" useAsValueHelp="false" /></mdcv:Popover></mdc:typeahead><mdc:dialog><mdcv:Dialog /></mdc:dialog></mdc:ValueHelp></mdc:dependents></mdc:Field><Button\n\t\t\t\t\tclass="sapUiTinyMarginBegin"\n\t\t\t\t\ttext="{sap.fe.i18n>C_COLLABORATIONDRAFT_INVITATION_DIALOG_ADD_USER}"\n\t\t\t\t\tpress=".addUser"\n\t\t\t\t/></HBox><Table id="userList" width="40em" items="{internal>invitedUsers}"><headerToolbar><Toolbar width="100%"><content><Title text="{sap.fe.i18n>C_COLLABORATIONDRAFT_INVITATION_TABLE_TOOLBAR_TITLE}" level="H3" /><ToolbarSpacer /><SearchField width="15em" /></content></Toolbar></headerToolbar><columns><Column width="3em" /><Column width="20em"><Text text="{sap.fe.i18n>C_COLLABORATIONDRAFT_INVITATION_TABLE_USER_COLUMN}" /></Column><Column width="17em"><Text text="{sap.fe.i18n>C_COLLABORATIONDRAFT_INVITATION_TABLE_USER_STATUS_COLUMN}" /></Column><Column width="5em" /></columns><items><ColumnListItem vAlign="Middle" highlight="{= ${internal>transient} ? \'Information\' : \'None\' }"><cells><Avatar displaySize="XS" backgroundColor="Accent{internal>color}" initials="{internal>initials}" /><Text text="{internal>name}" /><ObjectStatus\n\t\t\t\t\t\t\t\tstate="{path : \'internal>status\', formatter: \'.formatUserStatusColor\'}"\n\t\t\t\t\t\t\t\ttext="{path : \'internal>status\', formatter: \'.formatUserStatus\'}"\n\t\t\t\t\t\t\t/><HBox><Button\n\t\t\t\t\t\t\t\t\ticon="sap-icon://decline"\n\t\t\t\t\t\t\t\t\ttype="Transparent"\n\t\t\t\t\t\t\t\t\tpress=".removeUser"\n\t\t\t\t\t\t\t\t\tvisible="{= !!${internal>transient} }"\n\t\t\t\t\t\t\t\t/></HBox></cells></ColumnListItem></items></Table></VBox><beginButton><Button text="{sap.fe.i18n>C_COLLABORATIONDRAFT_INVITATION_DIALOG_CONFIRMATION}" press=".share" type="Emphasized" /></beginButton><endButton><Button text="{sap.fe.i18n>C_COLLABORATIONDRAFT_INVITATION_DIALOG_CANCEL}" press=".close" /></endButton></Dialog></core:FragmentDefinition>\n',
	"sap/fe/core/controllerextensions/collaboration/UserDetails.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:f="sap.f" xmlns:core="sap.ui.core"><ResponsivePopover id="userDetails" showHeader="false" class="sapUiContentPadding" placement="Bottom"><HBox><f:Avatar initials="{internal>initials}" displaySize="S" /><VBox><Label class="sapUiMediumMarginBegin" text="{internal>name}" /><Label class="sapUiMediumMarginBegin" text="{internal>id}" /></VBox></HBox></ResponsivePopover></core:FragmentDefinition>\n',
	"sap/fe/core/controls/ActionParameterDialog.fragment.xml":'\n<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcField="sap.ui.mdc.field"\n\txmlns:form="sap.ui.layout.form"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tFE_MODEL: \'sap/fe/core/helpers/ModelHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\'\n\t}"\n><form:SimpleForm binding="{$Parameter}" width="20rem"><template:repeat list="{action>$Parameter}" var="parameter"><template:with path="parameter>" helper="COMMON.gotoActionParameter" var="actionParameter"><template:if test="{= !${action>$IsBound} || ${parameter>$Name} !== ${action>$Parameter/0/$Name} }"><Label\n\t\t\t\t\t\tunittest:id="ActionParameterDialogLabelExpressionTest"\n\t\t\t\t\t\tid="{= ID.generate([\'APD_\', ${parameter>$Name}, \'Label\']) }"\n\t\t\t\t\t\ttext="{= ${actionParameter>@com.sap.vocabularies.Common.v1.Label} ? ${actionParameter>@com.sap.vocabularies.Common.v1.Label} : ${parameter>$Name}}"\n\t\t\t\t\t/><template:if test="{=  !${parameter>$isCollection} }"><template:then><mdc:Field\n\t\t\t\t\t\t\t\tdelegate="{name:\'sap/fe/macros/field/FieldBaseDelegate\', payload:{retrieveTextFromValueList:true}}"\n\t\t\t\t\t\t\t\tunittest:id="ActionParameterDialogFieldExpressionTest"\n\t\t\t\t\t\t\t\tid="{= ID.generate([\'APD_\', ${parameter>$Name}]) }"\n\t\t\t\t\t\t\t\tvalue="{parameter>@@MODEL.format}"\n\t\t\t\t\t\t\t\tdisplay="{actionParameter>@@FIELD.getAPDialogDisplayFormat}"\n\t\t\t\t\t\t\t\teditMode="{actionParameter>@@COMMON.getParameterEditMode}"\n\t\t\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\t\t\tmultipleLines="{= ${actionParameter>@com.sap.vocabularies.UI.v1.MultiLineText} ? (${actionParameter>@com.sap.vocabularies.UI.v1.MultiLineText} !== false)  : undefined}"\n\t\t\t\t\t\t\t\trequired="{= FIELD.isRequired(${actionParameter>@@FIELD.fieldControl}, \'Editable\')}"\n\t\t\t\t\t\t\t\tchange="{= \'.handleChange($event, \\\'\' + ${parameter>$Name} + \'\\\')\' }"\n\t\t\t\t\t\t\t\tfieldHelp="{= FIELD.getActionParameterDialogFieldHelp(${actionParameter>@}, ${actionName>@sapui.name}, ${parameter>$Name}) }"\n\t\t\t\t\t\t\t\tvisible="{= (${actionParameter>$Name} === \'ResultIsActiveEntity\') ? false : ${actionParameter>@com.sap.vocabularies.UI.v1.Hidden@@FIELD.getActionParameterVisibility} }"\n\t\t\t\t\t\t\t\tariaLabelledBy="{= ID.generate([\'APD_\', ${parameter>$Name}, \'Label\']) }"\n\t\t\t\t\t\t\t><core:Fragment fragmentName="sap.fe.core.controls.ActionParameterDialogValueHelp" type="XML" /></mdc:Field></template:then><template:else><mdc:MultiValueField\n\t\t\t\t\t\t\t\tid="{= ID.generate([\'APD_\', ${parameter>$Name}]) }"\n\t\t\t\t\t\t\t\titems="{actionParameter>@@FE_MODEL.getActionParameterItemsModelPath}"\n\t\t\t\t\t\t\t\tdelegate="{name: \'sap/fe/core/controls/MultiValueParameterDelegate\'}"\n\t\t\t\t\t\t\t\tunittest:id="ActionParameterDialogMultiValueFieldExpressionTest"\n\t\t\t\t\t\t\t\tdisplay="{actionParameter>@@FIELD.getAPDialogDisplayFormat}"\n\t\t\t\t\t\t\t\teditMode="{actionParameter>@@COMMON.getParameterEditMode}"\n\t\t\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\t\t\tmultipleLines="{= ${actionParameter>@com.sap.vocabularies.UI.v1.MultiLineText} ? (${actionParameter>@com.sap.vocabularies.UI.v1.MultiLineText} !== false)  : undefined}"\n\t\t\t\t\t\t\t\trequired="{= FIELD.isRequired(${actionParameter>@@FIELD.fieldControl}, \'Editable\')}"\n\t\t\t\t\t\t\t\tfieldHelp="{= FIELD.getActionParameterDialogFieldHelp(${actionParameter>@}, ${actionName>@sapui.name}, ${parameter>$Name}) }"\n\t\t\t\t\t\t\t\tchange="{= \'.handleChange($event, \\\'\' + ${parameter>$Name} + \'\\\')\' }"\n\t\t\t\t\t\t\t\tvisible="{actionParameter>@com.sap.vocabularies.UI.v1.Hidden@@FIELD.getActionParameterVisibility}"\n\t\t\t\t\t\t\t\tariaLabelledBy="{= ID.generate([\'APD_\', ${parameter>$Name}, \'Label\']) }"\n\t\t\t\t\t\t\t><mdcField:MultiValueFieldItem\n\t\t\t\t\t\t\t\t\tkey="{path: \'mvfview>Key\', type:\'sap.ui.model.type.String\'}"\n\t\t\t\t\t\t\t\t\tdescription="{mvfview>Desc}"\n\t\t\t\t\t\t\t\t/><core:Fragment fragmentName="sap.fe.core.controls.ActionParameterDialogValueHelp" type="XML" /></mdc:MultiValueField></template:else></template:if></template:if></template:with></template:repeat></form:SimpleForm></core:FragmentDefinition>\n',
	"sap/fe/core/controls/ActionParameterDialogValueHelp.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcv="sap.ui.mdc.valuehelp"\n\txmlns:mdcvc="sap.ui.mdc.valuehelp.content"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\'\n\t}"\n><template:if test="{= FIELD.hasValueHelpAnnotation(${actionParameter>@}) }"><mdc:dependents><mdc:ValueHelp\n\t\t\t\tunittest:id="ActionParameterDialogValuehelpExpressionTest"\n\t\t\t\tid="{= ID.generate([${actionName>@sapui.name},${parameter>$Name}]) }"\n\t\t\t\tdelegate="{= FIELD.getValueHelpDelegate(${action>$IsBound}, ${entitySet>@@COMMON.getContextPath}, ${actionName>@sapui.name}, ${parameter>$Name}) }"\n\t\t\t\tvalidateInput="{= ValueHelpTemplating.requiresValidation(${actionParameter>@@Property.getProperty})}"\n\t\t\t><mdc:typeahead><mdcv:Popover><mdcvc:MTable\n\t\t\t\t\t\t\tid="{= ID.generate([${actionName>@sapui.name},${parameter>$Name}]) }::Popover::qualifier::"\n\t\t\t\t\t\t\tcaseSensitive="{= ValueHelpTemplating.useCaseSensitiveFilterRequests(${actionParameter>@@Property.getPropertyObjectPath}, ${actionParameter>/@Org.OData.Capabilities.V1.FilterFunctions})}"\n\t\t\t\t\t\t\tuseAsValueHelp="{= ${actionParameter>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} || false}"\n\t\t\t\t\t\t/></mdcv:Popover></mdc:typeahead><template:if\n\t\t\t\t\ttest="{= ${actionParameter>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} ? (${actionParameter>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} === \'true\') : true}"\n\t\t\t\t><mdc:dialog><mdcv:Dialog /></mdc:dialog></template:if></mdc:ValueHelp></mdc:dependents></template:if></core:FragmentDefinition>\n',
	"sap/fe/core/controls/DataLossOrDraftDiscard/DataLossDraft.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog title="{sap.fe.i18n>WARNING}" state="Warning" type="Message" contentWidth="22rem"><content><Text\n\t\t\t\ttext="{= !%{HasActiveEntity} ? ${sap.fe.i18n>ST_DRAFT_DATALOSS_POPUP_MESSAGE_CREATE} : ${sap.fe.i18n>ST_DRAFT_DATALOSS_POPUP_MESSAGE_SAVE} }"\n\t\t\t\twrapping="true"\n\t\t\t/><List\n\t\t\t\tmode="SingleSelectLeft"\n\t\t\t\tshowSeparators="None"\n\t\t\t\tincludeItemInSelection="true"\n\t\t\t\tbackgroundDesign="Transparent"\n\t\t\t\tclass="sapUiNoContentPadding"\n\t\t\t><customData><core:CustomData key="listIdentifier" value="draftDataLossOptionsList" /></customData><items><CustomListItem><customData><core:CustomData key="itemKey" value="draftDataLossOptionSave" /></customData><VBox class="sapUiTinyMargin"><Label\n\t\t\t\t\t\t\t\ttext="{= !%{HasActiveEntity} ? ${sap.fe.i18n>ST_DRAFT_DATALOSS_CREATE_ENTITY_RBL} : ${sap.fe.i18n>ST_DRAFT_DATALOSS_SAVE_DRAFT_RBL} }"\n\t\t\t\t\t\t\t\tdesign="Bold"\n\t\t\t\t\t\t\t/><Text\n\t\t\t\t\t\t\t\ttext="{= !%{HasActiveEntity} ? ${sap.fe.i18n>ST_DRAFT_DATALOSS_CREATE_ENTITY_TOL} : ${sap.fe.i18n>ST_DRAFT_DATALOSS_SAVE_DRAFT_TOL} }"\n\t\t\t\t\t\t\t/></VBox></CustomListItem><CustomListItem><customData><core:CustomData key="itemKey" value="draftDataLossOptionKeep" /></customData><VBox class="sapUiTinyMargin"><Label text="{sap.fe.i18n>ST_DRAFT_DATALOSS_KEEP_DRAFT_RBL}" design="Bold" /><Text text="{sap.fe.i18n>ST_DRAFT_DATALOSS_KEEP_DRAFT_TOL}" /></VBox></CustomListItem><CustomListItem><customData><core:CustomData key="itemKey" value="draftDataLossOptionDiscard" /></customData><VBox class="sapUiTinyMargin"><Label text="{sap.fe.i18n>ST_DRAFT_DATALOSS_DISCARD_DRAFT_RBL}" design="Bold" /><Text text="{sap.fe.i18n>ST_DRAFT_DATALOSS_DISCARD_DRAFT_TOL}" /></VBox></CustomListItem></items></List></content><buttons><Button text="{sap.fe.i18n>C_COMMON_DIALOG_OK}" type="Emphasized" press="onDataLossOk" /><Button text="{sap.fe.i18n>C_COMMON_DIALOG_CANCEL}" press="onDataLossCancel" /></buttons></Dialog></core:FragmentDefinition>\n',
	"sap/fe/core/controls/NonComputedVisibleKeyFieldsDialog.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcv="sap.ui.mdc.valuehelp"\n\txmlns:mdcvc="sap.ui.mdc.valuehelp.content"\n\txmlns:form="sap.ui.layout.form"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><template:with path="fields>" var="allFields"><form:SimpleForm><template:repeat list="{allFields>}" var="key"><template:with path="key>" helper="COMMON.getPathToKey" var="immutableKey"><Label text="{= ${immutableKey>@com.sap.vocabularies.Common.v1.Label}}" /><mdc:Field\n\t\t\t\t\t\tdelegate="{name:\'sap/fe/macros/field/FieldBaseDelegate\', payload:{retrieveTextFromValueList:true}}"\n\t\t\t\t\t\tid="{= ID.generate([\'CreateDialog\', ${entitySet>@sapui.name}, ${immutableKey>@sapui.name}]) }"\n\t\t\t\t\t\tvalue="{immutableKey>@@MODEL.format}"\n\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\trequired="{= FIELD.getRequired(${immutableKey>@sapui.name}, ${immutableKey>@@UI.getDataModelObjectPath}, ${requiredProperties>})}"\n\t\t\t\t\t\tdisplay="{immutableKey>@@FIELD.getAPDialogDisplayFormat}"\n\t\t\t\t\t\tchange="{= \'.handleChange($event, \\\'\' + ${immutableKey>@sapui.name} + \'\\\')\' }"\n\t\t\t\t\t\tliveChange=".handleLiveChange"\n\t\t\t\t\t\tfieldHelp="{= ${immutableKey>@@Property.hasValueHelp} ? ID.generate([${immutableKey>@sapui.name},\'VH\']) : undefined }"\n\t\t\t\t\t\tcustomData:fieldName="{immutableKey>@sapui.name}"\n\t\t\t\t\t\teditMode="{= ${immutableKey>@com.sap.vocabularies.Common.v1.FieldControl} &amp;&amp; ${immutableKey>@com.sap.vocabularies.Common.v1.FieldControl/$EnumMember} &amp;&amp; ${immutableKey>@com.sap.vocabularies.Common.v1.FieldControl/$EnumMember} === \'com.sap.vocabularies.Common.v1.FieldControlType/ReadOnly\' ? \'Display\' : \'Editable\'}"\n\t\t\t\t\t><template:if test="{immutableKey>@@Property.hasValueHelp}"><template:then><mdc:dependents><mdc:ValueHelp\n\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([${immutableKey>@sapui.name},\'VH\']) }"\n\t\t\t\t\t\t\t\t\t\tdelegate="{= FIELD.getValueHelpDelegateForNonComputedVisibleKeyField(${immutableKey>@@Property.getPropertyPath}) }"\n\t\t\t\t\t\t\t\t\t\tvalidateInput="{= ValueHelpTemplating.requiresValidation(${immutableKey>@@Property.getProperty})}"\n\t\t\t\t\t\t\t\t\t><mdc:typeahead><mdcv:Popover><mdcvc:MTable\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([${immutableKey>@sapui.name},\'VH\']) }::Popover::qualifier::"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcaseSensitive="{= ValueHelpTemplating.useCaseSensitiveFilterRequests(${immutableKey>@@Property.getPropertyObjectPath}, ${immutableKey>/@Org.OData.Capabilities.V1.FilterFunctions})}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tuseAsValueHelp="{= ${immutableKey>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} || false}"\n\t\t\t\t\t\t\t\t\t\t\t\t/></mdcv:Popover></mdc:typeahead><template:if\n\t\t\t\t\t\t\t\t\t\t\ttest="{= ${immutableKey>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} ? (${immutableKey>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} === \'true\') : true}"\n\t\t\t\t\t\t\t\t\t\t><mdc:dialog><mdcv:Dialog /></mdc:dialog></template:if></mdc:ValueHelp></mdc:dependents></template:then></template:if></mdc:Field></template:with></template:repeat></form:SimpleForm></template:with></core:FragmentDefinition>\n',
	"sap/fe/core/controls/massEdit/MassEditDialog.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcField="sap.ui.mdc.field"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:l="sap.ui.layout"\n\ttemplate:require="{\n\t\tMED: \'sap/fe/core/helpers/MassEditHelper\'\n\t}"\n><f:Form visible="{= MED.helpers.hasEditableFieldsBinding(${dataFieldModel>}, true) }"><f:layout><f:ResponsiveGridLayout\n\t\t\t\tlabelSpanXL="4"\n\t\t\t\tlabelSpanL="4"\n\t\t\t\tlabelSpanM="12"\n\t\t\t\tlabelSpanS="12"\n\t\t\t\tadjustLabelSpan="false"\n\t\t\t\temptySpanXL="0"\n\t\t\t\temptySpanL="0"\n\t\t\t\temptySpanM="0"\n\t\t\t\temptySpanS="0"\n\t\t\t\tcolumnsXL="2"\n\t\t\t\tcolumnsL="2"\n\t\t\t\tcolumnsM="1"\n\t\t\t\tsingleContainerFullSize="false"\n\t\t\t/></f:layout><f:formContainers><f:FormContainer><f:formElements><template:repeat list="{dataFieldModel>}" var="dataField"><f:FormElement\n\t\t\t\t\t\t\tlabel="{dataField>label}"\n\t\t\t\t\t\t\tvisible="{= \'{fieldsInfo>/values/\' + ${dataField>dataProperty} + \'/visible}\' }"\n\t\t\t\t\t\t><f:fields><template:with path="dataField>propertyInfo" var="property"><core:Fragment fragmentName="sap.fe.core.controls.massEdit.MassEditField" type="XML" /></template:with><template:if test="{dataField>unitInfo}"><template:with path="dataField>unitInfo" var="property"><core:Fragment fragmentName="sap.fe.core.controls.massEdit.MassEditField" type="XML" /></template:with></template:if></f:fields></f:FormElement></template:repeat></f:formElements></f:FormContainer></f:formContainers></f:Form><Text\n\t\tvisible="{= MED.helpers.hasEditableFieldsBinding(${dataFieldModel>}, false) }"\n\t\ttext="{fieldsInfo>/noFields}"\n\t\tclass="sapUiSmallMargin"\n\t/>\n\t/></core:FragmentDefinition>\n',
	"sap/fe/core/controls/massEdit/MassEditField.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcField="sap.ui.mdc.field"\n\txmlns:control="sap.fe.core.controls"\n\txmlns:macro="sap.fe.macros"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:l="sap.ui.layout"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\'\n\t}"\n><template:if test="{property>hasVH}"><template:then><template:with path="property>propertyPathForValueHelp" var="vhProperty"><mdc:Field\n\t\t\t\t\tdelegate="{name: \'sap/ui/mdc/odata/v4/FieldBaseDelegate\'}"\n\t\t\t\t\tid="{= ID.generate([\'MED_\', ${dataField>entitySet}, ${property>relativePath}, \'_MDCField\']) }"\n\t\t\t\t\tcore:require="{MassEditHandlers: \'sap/fe/core/controls/massEdit/MassEditHandlers\'}"\n\t\t\t\t\tchange="{= \'MassEditHandlers.handleMDCFieldChange($event, \\\'\' + ${property>relativePath} + \'\\\')\' }"\n\t\t\t\t\tlabel="{dataField>label}"\n\t\t\t\t\twidth="100%"\n\t\t\t\t\trequired="{dataField>isFieldRequired}"\n\t\t\t\t\tfieldHelp="{= ID.generate([\'MED_\', ${dataField>entitySet}, \'VHD\', ${vhProperty>@@Property.getRelativePropertyPath} ]) }"\n\t\t\t\t\tdisplay="{dataField>display}"\n\t\t\t\t\tvalue="{= ${property>relativePath} ? \'{path: \\\'\' + ${property>relativePath} + \'\\\', parameters: {$$noPatch: true} }\' : undefined }"\n\t\t\t\t\tadditionalValue="{= ${dataField>descriptionPath} ? \'{path: \\\'\' + ${dataField>descriptionPath} + \'\\\', parameters: {$$noPatch: true} }\' : undefined }"\n\t\t\t\t><mdc:layoutData><l:GridData\n\t\t\t\t\t\t\tspan="{= (!${dataField>unitProperty}) ? \'XL12 L12 M12 S12\' : ((${property>relativePath} === ${dataField>unitProperty}) ? \'XL4 L4 M4 S4\' : \'XL8 L8 M8 S8\') }"\n\t\t\t\t\t\t/></mdc:layoutData><control:MassEditSelect\n\t\t\t\t\t\tcore:require="{MassEditHandlers: \'sap/fe/core/controls/massEdit/MassEditHandlers\'}"\n\t\t\t\t\t\tid="{= ID.generate([\'MED_\', ${dataField>entitySet}, ${property>relativePath}]) }"\n\t\t\t\t\t\titems="{= \'{path : \\\'\' + ${property>runtimePath} + ${property>relativePath} + \'\\\'}\' }"\n\t\t\t\t\t\tchange="MassEditHandlers.handleSelectionChange($event)"\n\t\t\t\t\t\tselectedKey="{= \'{\' + ${property>runtimePath} + ${property>relativePath} + \'/selectedKey}\' }"\n\t\t\t\t\t\tselectValue="{= (${dataField>inputType} !== \'CheckBox\') &amp;&amp; (\'{ parts : [{ path:\\\'\' +  ${property>relativePath} + \'\\\'}, {value: \\\'\' + ${property>relativePath} + \'\\\' }, {value: \\\'\' + ID.generate([\'MED_\', ${dataField>entitySet}, ${property>relativePath}, \'_MDCField\']) + \'\\\' }], formatter: \\\'MassEditHandlers.contextPropertyChange\\\' }\') }"\n\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\tcustomData:fieldPath="{property>relativePath}"\n\t\t\t\t\t\tcustomData:propertyFullyQualifiedName="{property>propertyFullyQualifiedName}"\n\t\t\t\t\t><control:items><core:Item key="{fieldsInfo>key}" text="{fieldsInfo>text}" /></control:items><control:layoutData><l:GridData span="XL12 L12 M12 S12" /></control:layoutData></control:MassEditSelect><template:if test="{= ${dataField>inputType} !== \'CheckBox\' }"><mdc:dependents><macro:ValueHelp\n\t\t\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\t\t\tidPrefix="{= ID.generate([\'MED_\', ${dataField>entitySet}, \'VHD\' ]) }"\n\t\t\t\t\t\t\t\tproperty="{vhProperty>}"\n\t\t\t\t\t\t\t\tuseMultiValueField="true"\n\t\t\t\t\t\t\t/></mdc:dependents></template:if></mdc:Field></template:with></template:then><template:else><ComboBox\n\t\t\t\tid="{= ID.generate([\'MED_\', ${dataField>entitySet}, ${property>relativePath}]) }"\n\t\t\t\tcore:require="{MassEditHandlers: \'sap/fe/core/controls/massEdit/MassEditHandlers\'}"\n\t\t\t\titems="{= \'{path : \\\'\' + ${property>runtimePath} + ${property>relativePath} + \'\\\'}\' }"\n\t\t\t\tchange="MassEditHandlers.handleSelectionChange($event)"\n\t\t\t\tselectedKey="{= \'{\' + ${property>runtimePath} + ${property>relativePath} + \'/selectedKey}\' }"\n\t\t\t\tvisible="{= \'{\' + ${property>runtimePath} + ${property>relativePath} + \'/visible}\' }"\n\t\t\t\tcustomData:fieldPath="{property>relativePath}"\n\t\t\t\tcustomData:propertyFullyQualifiedName="{property>propertyFullyQualifiedName}"\n\t\t\t><items><core:Item key="{fieldsInfo>key}" text="{fieldsInfo>text}" /></items><layoutData><l:GridData\n\t\t\t\t\t\tspan="{= (!${dataField>unitProperty}) ? \'XL12 L12 M12 S12\' : ((${property>relativePath} === ${dataField>unitProperty}) ? \'XL4 L4 M4 S4\' : \'XL8 L8 M8 S8\') }"\n\t\t\t\t\t/></layoutData></ComboBox></template:else></template:if></core:FragmentDefinition>\n',
	"sap/fe/core/fpm/manifest.json":'{"_version":"1.14.0","sap.app":{"id":"sap.fe.core.fpm","type":"component","applicationVersion":{"version":"1.113.0"},"title":"Object Page","tags":{"keywords":["Object Page"]},"ach":"CA-UI5-FE","offline":false,"resources":"resources.json"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true},"supportedThemes":["sap_fiori_3","sap_hcb","sap_bluecrystal","sap_belize","sap_belize_plus","sap_belize_hcw"]},"sap.ui5":{"config":{"sapFiori2Adaptation":{"style":true,"hierarchy":true}},"services":{"templatedViewService":{"factoryName":"sap.fe.core.services.TemplatedViewService","startup":"waitFor","settings":{"converterType":"None"}},"asyncComponentService":{"factoryName":"sap.fe.core.services.AsyncComponentService","startup":"waitFor"}},"handleValidation":true,"dependencies":{"minUI5Version":"${sap.ui5.core.version}","libs":{"sap.f":{},"sap.fe.macros":{},"sap.m":{},"sap.ui.core":{},"sap.ui.layout":{},"sap.ui.mdc":{},"sap.ui.fl":{}}},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/fe/core/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.fe.core","type":"library","embeds":["fpm"],"applicationVersion":{"version":"1.113.0"},"title":"UI5 library: sap.fe.core","description":"UI5 library: sap.fe.core","ach":"CA-UI5-FE","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"libs":{"sap.ui.core":{},"sap.f":{},"sap.fe.navigation":{},"sap.fe.placeholder":{},"sap.m":{},"sap.ui.layout":{"lazy":true},"sap.ui.mdc":{},"sap.ui.fl":{}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}',
	"sap/fe/core/rootView/Fcl.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.f" displayBlock="true" height="100%" controllerName="sap.fe.core.rootView.Fcl"><FlexibleColumnLayout id="appContent" backgroundDesign="Transparent" restoreFocusOnBackNavigation="true" autoFocus="false" /></mvc:View>\n',
	"sap/fe/core/rootView/NavContainer.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" displayBlock="true" height="100%" controllerName="sap.fe.core.rootView.NavContainer"><NavContainer id="appContent" autoFocus="false" /></mvc:View>\n',
	"sap/fe/core/services/view/TemplatingErrorPage.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="sap.fe.core.services.view.TemplatingErrorPage"><MessagePage\n\t\tshowHeader="false"\n\t\ticon="sap-icon://message-error"\n\t\ttext="{sap.fe.i18n>T_TEMPLATING_ERROR_PAGE_SAPFE_APPSTART_TEMPLATING_FAILED}"\n\t\tdescription="{= ${error>/message} ? ${error>/message} : \'\'}"\n\t/></mvc:View>\n'
});
//# sourceMappingURL=library-preload.js.map
