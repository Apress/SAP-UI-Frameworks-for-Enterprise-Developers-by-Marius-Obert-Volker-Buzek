{"version":3,"file":"CacheHandlerServiceFactory.js","names":["sap","ui","define","hash","CacheManager","Service","ServiceFactory","_exports","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","getMetadataETag","sUrl","sETag","mUpdatedMetaModelETags","Promise","resolve","jQuery","ajax","method","done","oResponse","sTextStatus","jqXHR","getResponseHeader","fail","CacheHandlerService","_Service","apply","this","arguments","_proto","init","oContext","getContext","oFactory","factory","mSettings","settings","metaModel","Error","oMetaModel","oAppComponent","appComponent","oComponent","component","initPromise","fetchEntityContainer","then","mCacheNeedsInvalidate","exit","removeGlobalInstance","validateCacheKey","async","sCacheIdentifier","bCacheNeedUpdate","sCacheKey","mCacheOutput","get","mMetaModelETags","getETags","JSON","stringify","mCachedETags","parse","cachedETags","aValidETags","all","keys","map","indexOf","some","viewCacheKey","e","invalidateIfNeeded","sCacheKeys","sDataSourceETags","mCacheKeys","set","forEach","sMetaModelKey","Date","toISOString","oManifestContent","getManifest","sManifestHash","sapApp","viewData","getViewData","getInterface","CacheHandlerServiceFactory","_ServiceFactory","_this","_len","length","args","Array","_key","call","_oInstanceRegistry","_proto2","createInstance","oServiceContext","sMetaModelId","getId","cacheHandlerInstance","assign","scopeObject","scopeType","catch","getInstance"],"sources":["CacheHandlerServiceFactory-dbg.js"],"mappings":"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"}