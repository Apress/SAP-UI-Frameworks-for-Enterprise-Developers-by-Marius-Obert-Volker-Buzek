/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/CommonUtils","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/KeepAliveHelper","sap/fe/macros/DelegateUtil","sap/m/QuickViewPage"],function(e,t,r,i,n){"use strict";var o,a,s,l,c,u,p;var f=t.defineUI5Class;var g=t.aggregation;function h(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function d(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;b(e,t)}function b(e,t){b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return b(e,t)}function v(e,t,r,i,n){var o={};Object.keys(i).forEach(function(e){o[e]=i[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o);if(n&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(n):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function y(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let C=(o=f("sap.fe.macros.controls.CustomQuickViewPage"),a=g({type:"sap.ui.core.Control",multiple:true}),s=g({type:"sap.m.QuickViewGroup",multiple:true,singularName:"group",isDefault:true}),o(l=(c=function(t){d(n,t);function n(){var e;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++){i[n]=arguments[n]}e=t.call(this,...i)||this;h(e,"customContent",u,m(e));h(e,"groups",p,m(e));return e}var o=n.prototype;o.onBeforeRendering=function n(o){const a=this.getParent();if(a&&a.isA("sap.fe.macros.controls.ConditionalWrapper")&&a.getProperty("condition")===true){this.setCrossAppNavCallback(()=>{const t=i.getCustomData(this,"titleLink");const n=e.getTargetView(this);const o=e.getAppComponent(n);const a=o.getShellServices();let s=a.parseShellHash(t);const l={target:{semanticObject:s.semanticObject,action:s.action},params:s.params};const c=`${l.target.semanticObject}-${l.target.action}`;if(c&&this.oCrossAppNavigator&&this.oCrossAppNavigator.isNavigationSupported([c])){if(c&&c!==""){if(typeof c==="string"&&c!==""){var u;let e=this.getParent();while(e&&!e.isA("sap.ui.mdc.Link")){e=e.getParent()}const t=(u=e)===null||u===void 0?void 0:u.getModel("$sapuimdcLink").getProperty("/titleLinkHref");if(t){s=a.parseShellHash(t)}else{s=a.parseShellHash(c);s.params=l.params}r.storeControlRefreshStrategyForHash(n,s);return{target:{semanticObject:s.semanticObject,action:s.action},params:s.params}}}}else{const e=a.parseShellHash(window.location.hash);r.storeControlRefreshStrategyForHash(n,e);return{target:{semanticObject:e.semanticObject,action:e.action,appSpecificRoute:e.appSpecificRoute},params:e.params}}})}t.prototype.onBeforeRendering.call(this,o);const s=this.getPageContent();const l=s.form;if(l){const e=this.customContent;if(e&&e.length>0){e.forEach(e=>{const t=e.clone();t.setModel(this.getModel());t.setBindingContext(this.getBindingContext());l.addContent(t)});setTimeout(function(){l.rerender()},0)}}};return n}(n),u=v(c.prototype,"customContent",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),p=v(c.prototype,"groups",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||l);return C},false);