/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/util/merge","sap/fe/core/helpers/ClassSupport","sap/fe/macros/chart/ChartRuntime","sap/fe/macros/filter/FilterUtils","sap/fe/macros/MacroAPI"],function(e,t,r,n,i){"use strict";var a,o,l,u,s,p,c,b,f,g,d,y,h,m,v,w,z,C,P,O,S,x,E,A,D,j,I,R,q,M,B;var T=t.xmlEventHandler;var U=t.property;var V=t.event;var N=t.defineUI5Class;var _=t.aggregation;function F(e,t,r,n){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function L(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function k(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;H(e,t)}function H(e,t){H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return H(e,t)}function $(e,t,r,n,i){var a={};Object.keys(n).forEach(function(e){a[e]=n[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a);if(i&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(i):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function G(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let J=(a=N("sap.fe.macros.chart.ChartAPI"),o=U({type:"string"}),l=U({type:"string",required:true,expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"],expectedAnnotations:["com.sap.vocabularies.UI.v1.Chart"]}),u=U({type:"string",required:true,expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"],expectedAnnotations:[]}),s=U({type:"string"}),p=U({type:"boolean",defaultValue:true}),c=U({type:"string",defaultValue:"MULTIPLE"}),b=U({type:"string"}),f=U({type:"string"}),g=U({type:"boolean | string"}),d=_({type:"sap.fe.macros.chart.Action"}),y=V(),h=V(),m=V(),v=T(),w=T(),a(z=(C=function(t){k(i,t);function i(){var e;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}e=t.call(this,...n)||this;F(e,"id",P,L(e));F(e,"metaPath",O,L(e));F(e,"contextPath",S,L(e));F(e,"header",x,L(e));F(e,"headerVisible",E,L(e));F(e,"selectionMode",A,L(e));F(e,"filterBar",D,L(e));F(e,"variantManagement",j,L(e));F(e,"personalization",I,L(e));F(e,"actions",R,L(e));F(e,"selectionChange",q,L(e));F(e,"stateChange",M,L(e));F(e,"internalDataRequested",B,L(e));return e}var a=i.prototype;a.getSelectedContexts=function e(){var t,r;return((t=this.content)===null||t===void 0?void 0:(r=t.getBindingContext("internal"))===null||r===void 0?void 0:r.getProperty("selectedContexts"))||[]};a.onAfterRendering=function e(){const t=this.getController().getView();const r=t.getBindingContext("internal");const n=this.getContent();const i={};const a=n.data("entitySet"),o=`${a}Chart`,l=t.getBindingContext();i[o]=n.data("draftSupported")==="true"&&!!l&&!l.getObject("IsActiveEntity");r.setProperty("controls/showMessageStrip",i)};a.refreshNotApplicableFields=function e(t){const r=this.getContent();return n.getNotApplicableFilters(t,r)};a.handleSelectionChange=function t(n){const i=n.getParameter("data");const a=n.getParameter("name")==="selectData";r.fnUpdateChart(n);this.fireSelectionChange(e({},{data:i,selected:a}))};a.onInternalDataRequested=function e(){this.fireEvent("internalDataRequested")};return i}(i),P=$(C.prototype,"id",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),O=$(C.prototype,"metaPath",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),S=$(C.prototype,"contextPath",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),x=$(C.prototype,"header",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),E=$(C.prototype,"headerVisible",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),A=$(C.prototype,"selectionMode",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),D=$(C.prototype,"filterBar",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),j=$(C.prototype,"variantManagement",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),I=$(C.prototype,"personalization",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),R=$(C.prototype,"actions",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),q=$(C.prototype,"selectionChange",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),M=$(C.prototype,"stateChange",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),B=$(C.prototype,"internalDataRequested",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),$(C.prototype,"handleSelectionChange",[v],Object.getOwnPropertyDescriptor(C.prototype,"handleSelectionChange"),C.prototype),$(C.prototype,"onInternalDataRequested",[w],Object.getOwnPropertyDescriptor(C.prototype,"onInternalDataRequested"),C.prototype),C))||z);return J},false);