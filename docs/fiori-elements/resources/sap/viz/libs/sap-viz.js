/* SAP CVOM 4.0 © <2012-2014> SAP SE. All rights reserved. Build Version 7.34.1-SNAPSHOT, Build Context N/A */
(function(e){var t=i(["sap","viz","moduleloader"]);if(t.require){return}var a={};function i(t){var a=e;for(var i=0,r=t.length;i<r;i++){var s=t[i];if(!a.hasOwnProperty(s)){a[s]={}}a=a[s]}return a}function r(e,t,i){var s={id:e};if(!Array.isArray(t)){i=t;t=[]}else{var o;t=t.map(function(t){if(t[0]==="."){if(o==null){o=e.substring(0,e.lastIndexOf("/"))}t=o+t.substring(1)}return t});s["export"]=t.indexOf("exports")!==-1;if(s["export"]||t.indexOf("require")!==-1){r.__autoLoad.push(e)}}s.deps=t;s.callback=i;a[e]=s}r.__autoLoad=[];function s(e){return Object.prototype.toString.call(e)==="[object Function]"}function o(e,t){var i;if(t==="require"){var r=l.bind(null,e);r.toUrl=function(){return""};r.defined=function(t){return e.modules.hasOwnProperty(t)};i=r}else if(t!=="exports"){var s=e.modules;if(!s.hasOwnProperty(t)){var o=a[t];if(o){s[t]=n(e,o.deps,o.callback,o.id,o["export"]);delete a[t]}}i=s[t]}return i}function n(e,t,a,r,n){var l=t.map(o.bind(null,e));var u=a;if(s(u)){u=u.apply(null,l)}if(n&&r){var d=e.exportMap[r];var h=d?d.split("."):r.split("/");var p=i(h.slice(0,h.length-1));var c=h[h.length-1];if(p.hasOwnProperty(c)){var f=p[c];for(var m in u){if(u.hasOwnProperty(m)){f[m]=u[m]}}if(s(f)&&s(u)){f=u}}else{p[c]=u}}return u}function l(e,t,a){return Array.isArray(t)?n(e,t,a):o(e,t)}function u(e,t){var a=u.s.contexts._;return l(a,e,t)}u.s={contexts:{_:{}}};u.config=function(e){var t=e.context||"_";u.s.contexts[t]=u.s.contexts[t]||{id:e.context,modules:{},exportMap:e.exportMap||{}};var a=l.bind(null,u.s.contexts[t]);a.config=u.config;a.s=u.s;return a};t.define=r;t.require=u})(this);(function(){var e;if(window){sap=window.sap||{}}else{sap=sap||{}}if(sap){sap.common=sap.common||{}}if(sap.common){sap.common.globalization=sap.common.globalization||{}}sap.common.globalization.VERSION=function(){return"1.0.0"};sap.common.globalization.declare=function(e){if(!e){throw new Error("name required")}if(typeof e!="string"){throw new Error("name has to be a string")}if(e.charAt(0)=="."||e.charAt(e.length-1)=="."||e.indexOf("..")!=-1){throw new Error("illegal name: "+e)}e=e.split(".");var t=window;for(var a=0;a<e.length;a++){t[e[a]]=t[e[a]]||{};t=t[e[a]]}return t};sap.common.globalization.require=function(e){};sap.common.globalization.extend=function(e,t){var a=e.prototype;e.superclass=t.prototype;var i=function(){};i.prototype=t.prototype;e.prototype=new i;for(var r in a){if(a.hasOwnProperty(r)){e.prototype[r]=a[r]}}e.prototype.constructor=e;if(t.prototype.constructor==Object.prototype.constructor){t.prototype.constructor=t}return e}})();(function(){sap.common.globalization.declare("sap.common.globalization.NumericFormatManager");sap.common.globalization.require("sap.common.globalization.utils.NumberUtil");sap.common.globalization.require("sap.common.globalization.utils.BooleanUtil");sap.common.globalization.require("sap.common.globalization.utils.DataFormatUtils");sap.common.globalization.require("sap.common.globalization.utils.StringUtil");sap.common.globalization.require("sap.common.globalization.numericFormat.FTUtil");sap.common.globalization.require("sap.common.globalization.numericFormat.FT");sap.common.globalization.require("sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultShortDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultDateTimeFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultTimeFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultNumericFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultCurrencyFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.CustomDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.require("sap.common.globalization.GlobalizationNumericConstant");sap.common.globalization.require("sap.common.globalization.GlobalizationPreference");var e=sap.common.globalization.NumericFormatManager;e.DEFAULT_FORMAT_DATE_TIME="SAP_FORMAT_DEFAULT_DATE_TIME";e.DEFAULT_FORMAT_TIME="SAP_FORMAT_DEFAULT_TIME";e.DEFAULT_FORMAT_SHORT_DATE="SAP_FORMAT_DEFAULT_SHORT_DATE";e.DEFAULT_FORMAT_LONG_DATE="SAP_FORMAT_DEFAULT_LONG_DATE";e.DEFAULT_FORMAT_NUMBER="SAP_DEFAULT_NUMBER_FORMAT";e.DEFAULT_FORMAT_BOOLEAN="SAP_DEFAULT_BOOLEAN_FORMAT";e._formatsCache={};e.resetFormatsCache=function(){e._formatsCache={}};e.setPVL=function(t,a){var i=sap.common.globalization.GlobalizationPreference.getInstance().pvl();sap.common.globalization.GlobalizationPreference.getInstance().setPvl(t);var r=sap.common.globalization.GlobalizationPreference.getInstance().pvl();if(!i||r!=i){e._formatsCache={};if(!a){e.setCustomizedLocaleInfo(null)}}};e.getPVL=function(){return sap.common.globalization.GlobalizationPreference.getInstance().pvl()};e.setCustomizedLocaleInfo=function(e,t){if(t){delete e.dayStrings;delete e.shortDayStrings;delete e.monthStrings;delete e.shortMonthStrings;delete e.amPms}sap.common.globalization.numericFormat.FLocalization.getInstance().setCustomizedLocaleInfo(e)};e.getThousandSeparator=function(){return sap.common.globalization.GlobalizationNumericConstant.getDisplayThousandSeparator()};e.getDecimalSeparator=function(){return sap.common.globalization.GlobalizationNumericConstant.getDisplayDecimalSeparator()};e.formatToText=function(e,t,a,i){return this._format(e,t,false,a,i)};e.formatToTextWithColor=function(e,t,a,i){return this._format(e,t,true,a,i)};e.getFormattedColor=function(e){var t=undefined;if(e&&e.hasOwnProperty("color")){t=e.color}return t};e.getFormattedText=function(e){var t=e;if(e&&e.hasOwnProperty("text")){t=e.text}return t};e.getFormat=function(t){if(t==null||t==""){return null}if(!e._formatsCache){e._formatsCache=new Object}var a=e._formatsCache[t];var i=sap.common.globalization.defaultFormat;if(a==null){if(t==e.DEFAULT_FORMAT_SHORT_DATE||t==e.DEFAULT_FORMAT_LONG_DATE||t==e.DEFAULT_FORMAT_DATE_TIME||t==e.DEFAULT_FORMAT_TIME){var t;var r=i.CustomNumericFormatLocaleFactory.getInstance();switch(t){case e.DEFAULT_FORMAT_SHORT_DATE:var s=new i.DefaultShortDateFormatLocaleFactory;a=new sap.common.globalization.numericFormat.FT(s,r);t=s.getDefaultDateFormat();break;case e.DEFAULT_FORMAT_LONG_DATE:var o=new i.DefaultDateFormatLocaleFactory;a=new sap.common.globalization.numericFormat.FT(o,r);t=o.getDefaultDateFormat();break;case e.DEFAULT_FORMAT_DATE_TIME:var n=new i.DefaultDateTimeFormatLocaleFactory;a=new sap.common.globalization.numericFormat.FT(n,r);t=n.getDefaultDateFormat();break;case e.DEFAULT_FORMAT_TIME:default:var l=new i.DefaultTimeFormatLocaleFactory;a=new sap.common.globalization.numericFormat.FT(l,r);t=l.getDefaultDateFormat()}a.parse(t)}else{if(i.DefaultNumericFormatLocaleFactory.isDefaultNumberFormat(t)){var u=new i.DefaultNumericFormatLocaleFactory(t);var u;var d=u.getDefaultNumericFormat();a=new sap.common.globalization.numericFormat.FT(i.CustomDateFormatLocaleFactory.getInstance(),u);a.parse(d)}else{if(i.DefaultCurrencyFormatLocaleFactory.isDefaultCurrencyFormat(t)){var h=new i.DefaultCurrencyFormatLocaleFactory(t);var p=h.getDefaultCurrencyFormat();a=new sap.common.globalization.numericFormat.FT(i.CustomDateFormatLocaleFactory.getInstance(),h);a.parse(p)}else{if(t==e.DEFAULT_FORMAT_BOOLEAN){a=new sap.common.globalization.numericFormat.FTBoolean;a.parse(t)}else{a=new sap.common.globalization.numericFormat.FT;a.parse(t)}}}}e._formatsCache[t]=a}return a};e._format=function(t,a,i,r,s){var o=t==null?"":t;var n=e.getFormat(a);var l=false;var u=NaN;var r=r==undefined?true:r;var d;var h=String(o);if(n){if(n.isParsedSuccess()==false&&s==true){h=t}else{n.color=undefined;var p=false;if(r){if(sap.common.globalization.utils.NumberUtil.isNumericValue(o)){p=true}}else{if(sap.common.globalization.utils.BaseUtils.isNumber(o)){p=true}}if(p){h=n.display(Number(o));u=Number(n.color)}else{if(sap.common.globalization.utils.BooleanUtil.isBooleanValue(o)&&sap.common.globalization.numericFormat.FTUtil.isBooleanFT(n)){h=n.display(o)}else{if(o instanceof Date){h=n.display(o)}}}}}if(i&&!isNaN(u)){if(!d){d={}}d.color=u;d.text=h}else{d=h}return d};e.format=function(t,a){var i=e.getFormat(a);if(i==null){return t}return i.display(t)};e.SAP_PARAMETERS={};e.resetParameters=function(){e.SAP_PARAMETERS={}};e.setBooleanDisplayString=function(e,t){sap.common.globalization.GlobalizationBooleanConstant.BOOLEAN_STRING_TRUE=e;sap.common.globalization.GlobalizationBooleanConstant.BOOLEAN_STRING_FALSE=t}})();(function(){sap.common.globalization.declare("sap.common.globalization.GlobalizationPreference");sap.common.globalization.require("sap.common.globalization.NumericFormatManager");sap.common.globalization.GlobalizationPreference=function(){this.__className="sap.common.globalization.GlobalizationPreference";this._preferredViewingLocale=null};var e=sap.common.globalization.GlobalizationPreference;e._instance=null;e.DOCUMENT_LOCALE="en";e.getInstance=function(){if(!e._instance){e._instance=new sap.common.globalization.GlobalizationPreference}return e._instance};e.resetInstance=function(){e._instance=new sap.common.globalization.GlobalizationPreference};e.prototype.pvl=function(){return this._preferredViewingLocale};e.prototype.setPvl=function(e){if(e!=this._preferredViewingLocale){this._preferredViewingLocale=e}};e.prototype.pvlIsoLanguageCode=function(){return this._getIsoLanguageCode(this.pvl())};e.prototype.documentLocale=function(){return e.DOCUMENT_LOCALE};e.prototype.documentIsoLanguageCode=function(){return this._getIsoLanguageCode(e.DOCUMENT_LOCALE)};e.prototype._getIsoLanguageCode=function(e){if(e){return String(e).split("_")[0]}return e}})();(function(){sap.common.globalization.declare("sap.common.globalization.GlobalizationBooleanConstant");var e=sap.common.globalization.GlobalizationBooleanConstant;e.BOOLEAN_STRING_TRUE="TRUE";e.BOOLEAN_STRING_FALSE="FALSE";e.getBooleanStrings=function(){return[e.BOOLEAN_STRING_TRUE,e.BOOLEAN_STRING_FALSE]}})();(function(){sap.common.globalization.declare("sap.common.globalization.GlobalizationNumericConstant");sap.common.globalization.require("sap.common.globalization.GlobalizationPreference");sap.common.globalization.GlobalizationNumericConstant=function(){this.__className="sap.common.globalization.GlobalizationNumericConstant"};var e=sap.common.globalization.GlobalizationNumericConstant;e._FORMAT_TYPE_NUMBER="number";e._FORMAT_TYPE_CURRENCY="currency";e._KEY_TYPE_NUMERIC="numeric";e._KEY_TOKEN_DISPLAY_THOUSANDS_SEPARATOR="displayThousandsSeparator";e._KEY_TOKEN_DISPLAY_DECIMAL_SEPARATOR="displayDecimalSeparator";e._DEFAULT_FORMAT_STRING={af:{number:"#,##0.###",currency:"¤#,##0.00"},af_ZA:{},ar:{number:"#,##0.###",currency:"¤ #,##0.00"},ar_AE:{},ar_BH:{},ar_DZ:{},ar_EG:{},ar_IQ:{},ar_JO:{},ar_KW:{},ar_LB:{},ar_LY:{},ar_MA:{},ar_OM:{},ar_QA:{currency:"¤#0.00"},ar_SA:{currency:"¤#0.00"},ar_SY:{currency:"¤#0.00"},ar_TN:{currency:"¤#0.00"},ar_YE:{currency:"¤#0.00"},az:{number:"#,##0.###",currency:"¤ #,##0.00"},az_AZ:{},be:{number:"#,##0.###",currency:"¤#,##0.00"},be_BY:{},bg:{number:"#,##0.###",currency:"#,##0.00 ¤"},bg_BG:{},bn:{number:"#,##,##0.###",currency:"#,##,##0.00¤;(#,##,##0.00¤)"},bn_IN:{},br:{number:"#,##0.###",currency:"¤#,##0.00"},bs:{number:"#,##0.###",currency:"¤ #,##0.00"},bs_BA:{},ca:{number:"#,##0.###",currency:"#,##0.00 ¤"},ca_ES:{},cs:{number:"#,##0.###",currency:"#,##0.00 ¤"},cs_CZ:{},cy:{number:"#,##0.###",currency:"¤#,##0.00"},cy_GB:{},da:{number:"#,##0.###",currency:"#,##0.00 ¤"},da_DK:{},de:{number:"#,##0.###",currency:"#,##0.00 ¤"},de_AT:{currency:"¤ #,##0.00"},de_BE:{},de_CH:{currency:"¤ #,##0.00;¤-#,##0.00"},de_DE:{},de_LI:{currency:"¤ #,##0.00"},de_LU:{},el:{number:"#,##0.###",currency:"#,##0.00 ¤"},el_CY:{currency:"¤#,##0.00"},el_GR:{},en:{number:"#,##0.###",currency:"¤#,##0.00;(¤#,##0.00)"},en_AU:{currency:"¤#,##0.00"},en_BZ:{currency:"¤#,##0.00"},en_CA:{},en_GB:{currency:"¤#,##0.00"},en_HK:{},en_IE:{currency:"¤#,##0.00"},en_IN:{number:"#,##,##0.###",currency:"¤ #,##,##0.00"},en_JM:{currency:"¤#,##0.00"},en_NZ:{currency:"¤#,##0.00"},en_PH:{},en_SG:{},en_TT:{currency:"¤#,##0.00"},en_US:{},en_VI:{},en_ZA:{currency:"¤#,##0.00"},en_ZW:{currency:"¤#,##0.00"},es:{number:"#,##0.###",currency:"¤ #,##0.00"},es_AR:{},es_BO:{},es_CL:{currency:"¤#,##0.00;¤-#,##0.00"},es_CO:{},es_CR:{},es_DO:{},es_EC:{currency:"¤#,##0.00;¤-#,##0.00"},es_ES:{},es_GT:{},es_HN:{},es_MX:{},es_NI:{},es_PA:{},es_PE:{},es_PR:{},es_PY:{currency:"¤ #,##0.00;¤ -#,##0.00"},es_SV:{},es_UY:{currency:"¤ #,##0.00;(¤ #,##0.00)"},es_VE:{currency:"¤#,##0.00;¤-#,##0.00"},et:{number:"#,##0.###",currency:"#,##0.00 ¤"},et_EE:{},eu:{number:"#,##0.###",currency:"#,##0.00 ¤"},eu_ES:{},fa:{number:"#,##0.###;−#,##0.###",currency:"#,##0.00 ¤;'-#,##0.00' ¤"},fa_IR:{},fi:{number:"#,##0.###",currency:"#,##0.00 ¤"},fi_FI:{},fo:{number:"#,##0.###",currency:"¤#,##0.00;¤-#,##0.00"},fo_FO:{},fr:{number:"#,##0.###",currency:"#,##0.00 ¤"},fr_BE:{},fr_CA:{currency:"#,##0.00 ¤;(#,##0.00 ¤)"},fr_CH:{currency:"¤ #,##0.00;¤-#,##0.00"},fr_FR:{},fr_LU:{},fr_MC:{},gl:{number:"#,##0.###",currency:"#,##0.00 ¤"},gl_ES:{},gu:{number:"#,##,##0.###",currency:"¤ #,##,##0.00"},gu_IN:{},he:{number:"#,##0.###",currency:"#,##0.00 ¤"},he_IL:{},hi:{number:"#,##,##0.###",currency:"¤ #,##,##0.00"},hi_IN:{},hr:{number:"#,##0.###",currency:"#,##0.00 ¤"},hr_HR:{},hu:{number:"#,##0.###",currency:"#,##0.00 ¤"},hu_HU:{},hy:{number:"#0.###",currency:"#0.00 ¤"},hy_AM:{},id:{number:"#,##0.###",currency:"¤#,##0.00"},id_ID:{},is:{number:"#,##0.###",currency:"#,##0.00 ¤"},is_IS:{},it:{number:"#,##0.###",currency:"¤ #,##0.00"},it_CH:{currency:"¤ #,##0.00;¤-#,##0.00"},it_IT:{},ja:{number:"#,##0.###",currency:"¤#,##0.00"},ja_JP:{},ka:{number:"#,##0.###",currency:"¤ #,##0.00"},ka_GE:{},kk:{number:"#,##0.###",currency:"#,##0.00 ¤"},kk_KZ:{},kn:{number:"#,##,##0.###",currency:"¤ #,##,##0.00"},kn_IN:{},ko:{number:"#,##0.###",currency:"¤#,##0.00"},ko_KR:{},kok:{number:"#,##,##0.###",currency:"¤ #,##,##0.00"},kok_IN:{},lt:{number:"#,##0.###;−#,##0.###",currency:"#,##0.00 ¤"},lt_LT:{},lv:{number:"#,##0.###",currency:"#,##0.00 ¤"},lv_LV:{},mk:{number:"#,##0.###;(#,##0.###)",currency:"¤ #,##0.00"},mk_MK:{},ml:{number:"#,##,##0.###",currency:"#,##,##0.00¤"},ml_IN:{},mn:{number:"#,##0.###",currency:"¤ #,##0.00"},mn_MN:{},mr:{number:"#,##,##0.###",currency:"¤ #,##,##0.00"},mr_IN:{},ms:{number:"#,##0.###",currency:"¤#,##0.00;(¤#,##0.00)"},ms_BN:{currency:"¤ #,##0.00"},ms_MY:{},mt:{number:"#,##0.###",currency:"¤#,##0.00"},mt_MT:{},nb:{number:"#,##0.###",currency:"¤ #,##0.00"},nb_NO:{},nl:{number:"#,##0.###",currency:"¤ #,##0.00;¤ #,##0.00-"},nl_BE:{currency:"#,##0.00 ¤"},nl_NL:{},nn:{number:"#,##0.###;−#,##0.###",currency:"#,##0.00 ¤"},nn_NO:{},pa:{number:"#,##,##0.###",currency:"¤ #,##,##0.00"},pa_IN:{},pl:{number:"#,##0.###",currency:"#,##0.00 ¤"},pl_PL:{},pt:{number:"#,##0.###",currency:"¤#,##0.00;(¤#,##0.00)"},pt_BR:{},pt_PT:{currency:"#,##0.00 ¤"},ro:{number:"#,##0.###",currency:"#,##0.00 ¤"},ro_RO:{},ru:{number:"#,##0.###",currency:"#,##0.00 ¤"},ru_RU:{},ru_UA:{},se:{number:"#,##0.###",currency:"¤ #,##0.00"},se_NO:{},sk:{number:"#,##0.###",currency:"#,##0.00 ¤"},sk_SK:{},sl:{number:"#,##0.###",currency:"#,##0.00 ¤"},sl_SI:{},sq:{number:"#,##0.###",currency:"¤#,##0.00"},sq_AL:{},sr:{number:"#,##0.###",currency:"#,##0.00 ¤"},sr_BA:{},sr_CS:{},sv:{number:"#,##0.###;−#,##0.###",currency:"#,##0.00 ¤"},sv_FI:{},sv_SE:{},sw:{number:"#,##0.###",currency:"#,##0.00 ¤"},sw_KE:{currency:"¤#,##0.00"},syr:{number:"#,##0.###",currency:"¤ #,##0.00"},syr_SY:{},ta:{number:"#,##,##0.###",currency:"¤ #,##,##0.00"},ta_IN:{},te:{number:"#,##,##0.###",currency:"¤ #,##,##0.00"},te_IN:{},th:{number:"#,##0.###",currency:"¤#,##0.00;¤-#,##0.00"},th_TH:{},tn:{number:"#,##0.###",currency:"¤#,##0.00"},tn_ZA:{},tr:{number:"#,##0.###",currency:"#,##0.00 ¤"},tr_TR:{},uk:{number:"#,##0.###",currency:"#,##0.00 ¤"},uk_UA:{},uz:{number:"#,##0.###",currency:"¤ #,##0.00"},uz_UZ:{},vi:{number:"#,##0.###",currency:"#,##0.00 ¤"},vi_VN:{},xh:{number:"#,##0.###",currency:"¤#,##0.00"},xh_ZA:{},zh:{number:"#,##0.###",currency:"¤#,##0.00"},zh_CN:{},zh_HK:{},zh_MO:{},zh_SG:{},zh_TW:{},zu:{number:"#,##0.###",currency:"¤#,##0.00"},zu_ZA:{}};e._RESOURCE_MAP={af:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},af_ZA:{numeric:{}},ar:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},ar_AE:{numeric:{}},ar_BH:{numeric:{}},ar_DZ:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ar_EG:{numeric:{}},ar_IQ:{numeric:{}},ar_JO:{numeric:{}},ar_KW:{numeric:{}},ar_LB:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ar_LY:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ar_MA:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ar_OM:{numeric:{}},ar_QA:{numeric:{}},ar_SA:{numeric:{}},ar_SY:{numeric:{}},ar_TN:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ar_YE:{numeric:{}},az:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},az_AZ:{numeric:{}},be:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},be_BY:{numeric:{}},bg:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},bg_BG:{numeric:{}},bn:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},bn_IN:{numeric:{}},br:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},bs:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},bs_BA:{numeric:{}},ca:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ca_ES:{numeric:{}},cs:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},cs_CZ:{numeric:{}},cy:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},cy_GB:{numeric:{}},da:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},da_DK:{numeric:{}},de:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},de_AT:{numeric:{}},de_BE:{},de_CH:{numeric:{displayThousandsSeparator:"'",displayDecimalSeparator:"."}},de_DE:{numeric:{}},de_LI:{numeric:{displayThousandsSeparator:"'",displayDecimalSeparator:"."}},de_LU:{numeric:{}},el:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},el_CY:{numeric:{}},el_GR:{numeric:{}},en:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},en_AU:{numeric:{}},en_BZ:{numeric:{}},en_CA:{numeric:{}},en_GB:{numeric:{}},en_HK:{numeric:{}},en_IE:{numeric:{}},en_IN:{numeric:{}},en_JM:{numeric:{}},en_NZ:{numeric:{}},en_PH:{numeric:{}},en_SG:{numeric:{}},en_TT:{numeric:{}},en_US:{numeric:{}},en_VI:{numeric:{}},en_ZA:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},en_ZW:{numeric:{}},es:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_AR:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_BO:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_CL:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_CO:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_CR:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_DO:{numeric:{}},es_EC:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_ES:{numeric:{}},es_GT:{numeric:{}},es_HN:{numeric:{}},es_MX:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_NI:{numeric:{}},es_PA:{numeric:{}},es_PE:{numeric:{}},es_PR:{numeric:{}},es_PY:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_SV:{numeric:{}},es_UY:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_VE:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},et:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},et_EE:{numeric:{}},eu:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},eu_ES:{numeric:{}},fa:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},fa_IR:{numeric:{}},fi:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},fi_FI:{numeric:{}},fo:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},fo_FO:{numeric:{}},fr:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},fr_BE:{numeric:{displayThousandsSeparator:"."}},fr_CA:{numeric:{}},fr_CH:{numeric:{displayThousandsSeparator:"'",displayDecimalSeparator:"."}},fr_FR:{numeric:{}},fr_LU:{numeric:{displayThousandsSeparator:"."}},fr_MC:{numeric:{}},gl:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},gl_ES:{numeric:{}},gu:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},gu_IN:{numeric:{}},he:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},he_IL:{numeric:{}},hi:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},hi_IN:{numeric:{}},hr:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},hr_HR:{numeric:{}},hu:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},hu_HU:{numeric:{}},hy:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},hy_AM:{numeric:{}},id:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},id_ID:{numeric:{}},is:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},is_IS:{numeric:{}},it:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},it_CH:{numeric:{displayThousandsSeparator:"'",displayDecimalSeparator:"."}},it_IT:{numeric:{}},ja:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},ja_JP:{numeric:{}},ka:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ka_GE:{numeric:{}},kk:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},kk_KZ:{numeric:{}},kn:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},kn_IN:{numeric:{}},ko:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},ko_KR:{numeric:{}},kok:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},kok_IN:{numeric:{}},lt:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},lt_LT:{numeric:{}},lv:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},lv_LV:{numeric:{}},mk:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},mk_MK:{numeric:{}},ml:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},ml_IN:{numeric:{}},mn:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},mn_MN:{numeric:{}},mr:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},mr_IN:{numeric:{}},ms:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},ms_BN:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ms_MY:{numeric:{}},mt:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},mt_MT:{numeric:{}},nb:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},nb_NO:{numeric:{}},nl:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},nl_BE:{numeric:{}},nl_NL:{numeric:{}},nn:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},nn_NO:{numeric:{}},pa:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},pa_IN:{numeric:{}},pl:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},pl_PL:{numeric:{}},pt:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},pt_BR:{numeric:{}},pt_PT:{numeric:{displayThousandsSeparator:" "}},ro:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ro_RO:{numeric:{}},ru:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},ru_RU:{numeric:{}},ru_UA:{numeric:{}},se:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},se_NO:{numeric:{}},sk:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},sk_SK:{numeric:{}},sl:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},sl_SI:{numeric:{}},sq:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},sq_AL:{numeric:{}},sr:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},sr_BA:{numeric:{}},sr_CS:{numeric:{}},sv:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},sv_FI:{numeric:{}},sv_SE:{numeric:{}},sw:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},sw_KE:{numeric:{}},syr:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},syr_SY:{numeric:{}},ta:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},ta_IN:{numeric:{}},te:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},te_IN:{numeric:{}},th:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},th_TH:{numeric:{}},tn:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},tn_ZA:{numeric:{}},tr:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},tr_TR:{numeric:{}},uk:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},uk_UA:{numeric:{}},uz:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},uz_UZ:{numeric:{}},vi:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},vi_VN:{numeric:{}},xh:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},xh_ZA:{numeric:{}},zh:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},zh_CN:{numeric:{}},zh_HK:{numeric:{}},zh_MO:{numeric:{}},zh_SG:{numeric:{}},zh_TW:{numeric:{}},zu:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},zu_ZA:{numeric:{}}};e.getParseThousandSeparator=function(e){return","};e.getDisplayThousandSeparator=function(t){var t=t||null;if(t){if(e._resourceExist(t,e._KEY_TYPE_NUMERIC,e._KEY_TOKEN_DISPLAY_THOUSANDS_SEPARATOR)){return e.getNumericResource(t,e._KEY_TYPE_NUMERIC,e._KEY_TOKEN_DISPLAY_THOUSANDS_SEPARATOR)}else{return null}}return e._getAppropriateNumericResource(e._KEY_TYPE_NUMERIC,e._KEY_TOKEN_DISPLAY_THOUSANDS_SEPARATOR)};e.getParseDecimalSeparator=function(e){return"."};e.getDisplayDecimalSeparator=function(t){var t=t||null;if(t){if(e._resourceExist(t,e._KEY_TYPE_NUMERIC,e._KEY_TOKEN_DISPLAY_DECIMAL_SEPARATOR)){return e.getNumericResource(t,e._KEY_TYPE_NUMERIC,e._KEY_TOKEN_DISPLAY_DECIMAL_SEPARATOR)}else{return null}}return e._getAppropriateNumericResource(e._KEY_TYPE_NUMERIC,e._KEY_TOKEN_DISPLAY_DECIMAL_SEPARATOR)};e.getParseCurrencySymbol=function(){return"¤"};e.getDefaultNumberFormat=function(t){var t=t||null;if(t){if(e._formatExist(t,e._FORMAT_TYPE_NUMBER)){return e._getNumericFormat(t,e._FORMAT_TYPE_NUMBER)}else{return null}}return e._getAppropriateNumericFormat(e._FORMAT_TYPE_NUMBER)};e.getDefaultCurrencyFormat=function(t){var t=t||null;if(t){if(e._formatExist(t,e._FORMAT_TYPE_CURRENCY)){return e._getNumericFormat(t,e._FORMAT_TYPE_CURRENCY)}else{return null}}return e._getAppropriateNumericFormat(e._FORMAT_TYPE_CURRENCY)};e.getActualLocaleForDefaultCurrencyFormat=function(){return e.getActualLocaleForNumerFormat(e._FORMAT_TYPE_CURRENCY)};e.getActualLocaleForDefaultNumberFormat=function(){return e.getActualLocaleForNumerFormat(e._FORMAT_TYPE_NUMBER)};e.getActualLocaleForNumerFormat=function(t){var a=sap.common.globalization.GlobalizationPreference.getInstance().pvl();if(e._formatExist(a,t)){return a}var i=sap.common.globalization.GlobalizationPreference.getInstance().pvlIsoLanguageCode();if(e._formatExist(i,t)){return i}var r=sap.common.globalization.GlobalizationPreference.getInstance().documentLocale();if(e._formatExist(r,t)){return r}var s=sap.common.globalization.GlobalizationPreference.getInstance().documentIsoLanguageCode();if(e._formatExist(s,t)){return s}return"en"};e._getAppropriateNumericFormat=function(t){return e._getNumericFormat(e.getActualLocaleForNumerFormat(t),t)};e._formatExist=function(t,a){return t&&a&&e._DEFAULT_FORMAT_STRING[t]&&e._DEFAULT_FORMAT_STRING[t][a]};e._getNumericFormat=function(t,a){return e._DEFAULT_FORMAT_STRING[t][a]};e._getAppropriateNumericResource=function(t,a){var i=sap.common.globalization.GlobalizationPreference.getInstance().pvl();if(e._resourceExist(i,t,a)){return e.getNumericResource(i,t,a)}var r=sap.common.globalization.GlobalizationPreference.getInstance().pvlIsoLanguageCode();if(e._resourceExist(r,t,a)){return e.getNumericResource(r,t,a)}var s=sap.common.globalization.GlobalizationPreference.getInstance().documentLocale();if(e._resourceExist(s,t,a)){return e.getNumericResource(s,t,a)}var o=sap.common.globalization.GlobalizationPreference.getInstance().documentIsoLanguageCode();if(e._resourceExist(o,t,a)){return e.getNumericResource(o,t,a)}return e.getNumericResource("en",t,a)};e._resourceExist=function(t,a,i){return t&&a&&i&&e._RESOURCE_MAP[t]&&e._RESOURCE_MAP[t][a]&&e._RESOURCE_MAP[t][a][i]};e.getNumericResource=function(t,a,i){return e._RESOURCE_MAP[t][a][i]}})();(function(){sap.common.globalization.declare("sap.common.globalization.GlobalizationDateConstant");sap.common.globalization.require("sap.common.globalization.GlobalizationPreference");sap.common.globalization.GlobalizationDateConstant=function(){this.__className="sap.common.globalization.defaultFormat.GlobalizationDateConstant"};var e=sap.common.globalization.GlobalizationDateConstant;e.FORMAT_TYPE_SHORTDATE="shortDate",e.FORMAT_TYPE_LONGDATE="longDate",e.FORMAT_TYPE_DATE_TIME="dateTime",e.FORMAT_TYPE_TIME="timeFormat",e.KEY_TYPE_DATE="date",e.KEY_TYPE_TIME="time",e.KEY_TOKEN_SHORT_DAY="shortDay",e.KEY_TOKEN_LONG_DAY="longDay",e.KEY_TOKEN_SHORT_MONTH="shortMonth",e.KEY_TOKEN_LONG_MONTH="longMonth",e.KEY_TOKEN_AM_PM="amPm",e.KEY_DATE_SEPARATOR="dateSeparator",e.KEY_TIME_SEPARATOR="timeSeparator",e.KEY_TOKEN_ABBREV_ERA="eraAbbr",e.DEFAULT_FORMAT_STRING={af:{longDate:"dddd dd MMMM yyyy;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},af_ZA:{},ar:{longDate:"dddd، d MMMM، yyyy;@",shortDate:"d/M/yyyy;@",dateTime:"dd/MM/yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},ar_AE:{},ar_BH:{},ar_DZ:{},ar_EG:{},ar_IQ:{},ar_JO:{},ar_KW:{},ar_LB:{},ar_LY:{},ar_MA:{},ar_OM:{},ar_QA:{},ar_SA:{},ar_SY:{},ar_TN:{},ar_YE:{},az:{longDate:"dddd, d, MMMM, yyyy;@",shortDate:"yyyy-MM-dd;@",dateTime:"d MMM, yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},az_AZ:{},be:{longDate:"dddd, d MMMM yyyy;@",shortDate:"d.M.yy;@",dateTime:"d.M.yyyy HH.mm.ss;@",timeFormat:"HH.mm.ss;@"},be_BY:{},bg:{longDate:"dd MMMM yyyy, dddd;@",shortDate:"dd.MM.yy;@",dateTime:"dd.MM.yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},bg_BG:{},bn:{longDate:"dddd, d MMMM, yyyy;@",shortDate:"d/M/yy;@",dateTime:"d MMM, yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},bn_IN:{},bs:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},bs_BA:{},ca:{longDate:'dddd d "de" MMMM "de" yyyy;@',shortDate:"dd/MM/yy;@",dateTime:"dd/MM/yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},ca_ES:{},cs:{longDate:"dddd, d. MMMM yyyy;@",shortDate:"d.M.yy;@",dateTime:"d.M.yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},cs_CZ:{},cy:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},cy_GB:{},da:{longDate:'dddd "den" d. MMMM yyyy;@',shortDate:"dd/MM/yy;@",dateTime:"dd/MM/yyyy HH.mm.ss;@",timeFormat:"HH.mm.ss;@"},da_DK:{},de:{longDate:"dddd, d. MMMM yyyy;@",shortDate:"dd.MM.yy;@",dateTime:"dd.MM.yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},de_AT:{longDate:"dddd, dd. MMMM yyyy;@"},de_CH:{},de_DE:{},de_LI:{},de_LU:{},el:{longDate:"dddd, dd MMMM yyyy;@",shortDate:"dd/MM/yyyy;@",dateTime:"dd MMM yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},el_GR:{},en:{longDate:"dddd, MMMM d, yyyy;@",shortDate:"M/d/yy;@",dateTime:"MMM d, yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},en_AU:{longDate:"dddd, d MMMM yyyy;@",shortDate:"d/MM/yy;@",dateTime:"dd/MM/yyyy h:mm:ss AM/PM;@"},en_BZ:{dateTime:"dd-MMM-yyyy h:mm:ss AM/PM;@"},en_CA:{shortDate:"yy-MM-dd;@",dateTime:"yyyy-MM-dd h:mm:ss AM/PM;@"},en_GB:{longDate:"dddd, d MMMM yyyy;@",shortDate:"dd/MM/yyyy;@",dateTime:"d MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},en_IE:{longDate:"dddd d MMMM yyyy;@",shortDate:"dd/MM/yyyy;@",dateTime:"d MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},en_JM:{},en_NZ:{longDate:"dddd, d MMMM yyyy;@",shortDate:"d/MM/yy;@",dateTime:"d/MM/yyyy h:mm:ss AM/PM;@"},en_PH:{},en_TT:{},en_US:{},en_VI:{},en_ZA:{longDate:"dddd dd MMMM yyyy;@",shortDate:"yyyy/MM/dd;@",dateTime:"dd MMM yyyy h:mm:ss AM/PM;@"},en_ZW:{longDate:"dddd dd MMMM yyyy;@",shortDate:"d/M/yyyy;@",dateTime:"dd MMM, yyyy h:mm:ss AM/PM;@"},es:{longDate:'dddd d "de" MMMM "de" yyyy;@',shortDate:"dd/MM/yy;@",dateTime:"dd/MM/yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},es_AR:{},es_BO:{},es_CL:{shortDate:"dd-MM-yy;@",dateTime:"dd-MM-yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},es_CO:{shortDate:"d/MM/yy;@",dateTime:"d/MM/yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},es_CR:{},es_DO:{},es_EC:{dateTime:"dd/MM/yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},es_ES:{},es_GT:{shortDate:"d/MM/yy;@",dateTime:"d/MM/yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},es_HN:{longDate:'dddd dd "de" MMMM "de" yyyy;@'},es_MX:{},es_NI:{},es_PA:{shortDate:"MM/dd/yy;@",dateTime:"MM/dd/yyyy HH:mm:ss;@"},es_PE:{shortDate:"d/MM/yy;@"},es_PR:{shortDate:"MM/dd/yy;@",dateTime:"MM/dd/yyyy HH:mm:ss;@"},es_PY:{},es_SV:{},es_UY:{},es_VE:{},et:{longDate:"dddd, d, MMMM yyyy;@",shortDate:"dd.MM.yy;@",dateTime:"dd.MM.yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},et_EE:{},eu:{longDate:'dddd, yyyy"eko" MMMM"ren" dd"a";@',shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},eu_ES:{},fa:{longDate:"dddd d MMMM yyyy;@",shortDate:"yy/M/d;@",dateTime:"yyyy/M/d، H:mm:ss;@",timeFormat:"H:mm:ss;@"},fa_IR:{},fi:{longDate:"dddd d. MMMM yyyy;@",shortDate:"d.M.yyyy;@",dateTime:"d.M.yyyy H.mm.ss;@",timeFormat:"H.mm.ss;@"},fi_FI:{},fo:{longDate:"dddd dd MMMM yyyy;@",shortDate:"dd-MM-yy;@",dateTime:"dd-MM-yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},fo_FO:{},fr:{longDate:"dddd d MMMM yyyy;@",shortDate:"dd/MM/yy;@",dateTime:"d MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},fr_BE:{shortDate:"d/MM/yy;@"},fr_CA:{shortDate:"yy-MM-dd;@",dateTime:"yyyy-MM-dd HH:mm:ss;@"},fr_CH:{longDate:"dddd, d MMMM yyyy;@",shortDate:"dd.MM.yy;@"},fr_FR:{},fr_LU:{},fr_MC:{},gl:{longDate:"dddd dd MMMM yyyy;@",shortDate:"dd/MM/yy;@",dateTime:"d MMM, yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},gl_ES:{},gu:{longDate:"dddd, d MMMM, yyyy;@",shortDate:"d-MM-yy;@",dateTime:"d MMM, yyyy hh:mm:ss AM/PM;@",timeFormat:"hh:mm:ss AM/PM;@"},gu_IN:{},he:{longDate:"dddd, d בMMMM yyyy;@",shortDate:"dd/MM/yy;@",dateTime:"dd/MM/yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},he_IL:{},hi:{longDate:"dddd, d MMMM yyyy;@",shortDate:"d-M-yy;@",dateTime:"dd-MM-yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},hi_IN:{},hr:{longDate:"dddd, d. MMMM yyyy.;@",shortDate:"dd.MM.yyyy.;@",dateTime:"d.M.yyyy. HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},hr_HR:{},hu:{longDate:"yyyy. MMMM d., dddd;@",shortDate:"yyyy.MM.dd.;@",dateTime:"yyyy.MM.dd. H:mm:ss;@",timeFormat:"H:mm:ss;@"},hu_HU:{},hy:{longDate:"dddd, MMMM d, yyyy;@",shortDate:"MM/dd/yy;@",dateTime:"MMM d, yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},hy_AM:{},id:{longDate:"dddd, dd MMMM yyyy;@",shortDate:"dd/MM/yy;@",dateTime:"d MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},id_ID:{},is:{longDate:"dddd, d. MMMM yyyy;@",shortDate:"d.M.yyyy;@",dateTime:"d.M.yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},is_IS:{},it:{longDate:"dddd d MMMM yyyy;@",shortDate:"dd/MM/yy;@",dateTime:"dd/MMM/yyyy HH.mm.ss;@",timeFormat:"HH.mm.ss;@"},it_CH:{longDate:"dddd, d MMMM yyyy;@",shortDate:"dd.MM.yy;@",dateTime:"d-MMM-yyyy HH.mm.ss;@"},it_IT:{},ja:{longDate:"yyyy年M月d日dddd;@",shortDate:"yy/MM/dd;@",dateTime:"yyyy/MM/dd H:mm:ss;@",timeFormat:"H:mm:ss;@"},ja_JP:{},ka:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},ka_GE:{},kk:{longDate:'dddd, d MMMM yyyy "ж".;@',shortDate:"dd.MM.yy;@",dateTime:"dd.MM.yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},kk_KZ:{},kn:{longDate:"dddd d MMMM yyyy;@",shortDate:"d-M-yy;@",dateTime:"d MMM yyyy hh:mm:ss AM/PM;@",timeFormat:"hh:mm:ss AM/PM;@"},kn_IN:{},ko:{longDate:"yyyy년 M월 d일 dddd;@",shortDate:"yy. M. d.;@",dateTime:"yyyy. M. d. AM/PM h:mm:ss;@",timeFormat:"AM/PM h:mm:ss;@"},ko_KR:{},kok:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},kok_IN:{},lt:{longDate:'yyyy "m". MMMM d "d".,dddd;@',shortDate:"yyyy-MM-dd;@",dateTime:"yyyy.MM.dd HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},lt_LT:{},lv:{longDate:'dddd, yyyy. "gada" d. MMMM;@',shortDate:"dd.MM.yy;@",dateTime:'yyyy. "gada" d. MMM HH:mm:ss;@',timeFormat:"HH:mm:ss;@"},lv_LV:{},mk:{longDate:"dddd, dd MMMM yyyy;@",shortDate:"dd.M.yy;@",dateTime:"dd.M.yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},mk_MK:{},ml:{longDate:"yyyy, MMMM d, dddd;@",shortDate:"dd/MM/yy;@",dateTime:"yyyy, MMM d h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},ml_IN:{},mn:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},mn_MN:{},mr:{longDate:"dddd d MMMM yyyy;@",shortDate:"d-M-yy;@",dateTime:"d MMM yyyy h-mm-ss AM/PM;@",timeFormat:"h-mm-ss AM/PM;@"},mr_IN:{},ms:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},ms_BN:{longDate:"dd MMMM yyyy;@",dateTime:"dd/MM/yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},ms_MY:{},mt:{longDate:'dddd, d "ta"’ MMMM yyyy;@',shortDate:"dd/MM/yyyy;@",dateTime:"dd MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},mt_MT:{},nb:{longDate:"dddd d. MMMM yyyy;@",shortDate:"dd.MM.yy;@",dateTime:"d. MMM yyyy HH.mm.ss;@",timeFormat:"HH.mm.ss;@"},nb_NO:{},nl:{longDate:"dddd d MMMM yyyy;@",shortDate:"dd-MM-yy;@",dateTime:"d MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},nl_BE:{shortDate:"d/MM/yy;@",dateTime:"d-MMM-yyyy HH:mm:ss;@"},nl_NL:{},nn:{longDate:"dddd d. MMMM yyyy;@",shortDate:"dd.MM.yy;@",dateTime:"d. MMM. yyyy HH.mm.ss;@",timeFormat:"HH.mm.ss;@"},nn_NO:{},pa:{longDate:"dddd, dd MMMM yyyy;@",shortDate:"dd/MM/yyyy;@",dateTime:"d MMM yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},pa_IN:{},pl:{longDate:"dddd, d MMMM yyyy;@",shortDate:"dd-MM-yy;@",dateTime:"dd-MM-yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},pl_PL:{},pt:{longDate:'dddd, d "de" MMMM "de" yyyy;@',shortDate:"dd/MM/yy;@",dateTime:"dd/MM/yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},pt_BR:{},pt_PT:{dateTime:'d "de" MMM "de" yyyy HH:mm:ss;@'},ro:{longDate:"dddd, d MMMM yyyy;@",shortDate:"dd.MM.yyyy;@",dateTime:"dd.MM.yyyy, HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},ro_RO:{},ru:{longDate:'dddd, d MMMM yyyy "г".;@',shortDate:"dd.MM.yy;@",dateTime:"dd.MM.yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},ru_RU:{},se:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},se_NO:{},sk:{longDate:"dddd, d. MMMM yyyy;@",shortDate:"d.M.yyyy;@",dateTime:"d.M.yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},sk_SK:{},sl:{longDate:"dddd, dd. MMMM yyyy;@",shortDate:"d. MM. yy;@",dateTime:"d. MMM. yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},sl_SI:{},sq:{longDate:"dddd, dd MMMM yyyy;@",shortDate:"yy-MM-dd;@",dateTime:"yyyy-MM-dd h.mm.ss.AM/PM;@",timeFormat:"h.mm.ss.AM/PM;@"},sq_AL:{},sr:{longDate:"dddd, dd. MMMM yyyy.;@",shortDate:"d.M.yy.;@",dateTime:"dd.MM.yyyy. HH.mm.ss;@",timeFormat:"HH.mm.ss;@"},sr_BA:{},sr_CS:{},sv:{longDate:"dddd d MMMM yyyy;@",shortDate:"yyyy-MM-dd;@",dateTime:"d MMM yyyy HH.mm.ss;@",timeFormat:"HH.mm.ss;@"},sv_FI:{},sv_SE:{},sw:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},sw_KE:{},syr:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"y MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},syr_SY:{},ta:{longDate:"dddd, d MMMM, yyyy;@",shortDate:"d-M-yy;@",dateTime:"d MMM, yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},ta_IN:{},te:{longDate:"dddd d MMMM yyyy;@",shortDate:"dd-MM-yy;@",dateTime:"d MMM yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},te_IN:{},th:{longDate:"ddddที่ d MMMM G yyyy;@",shortDate:"d/M/yyyy;@",dateTime:"d MMM yyyy, H:mm:ss;@",timeFormat:"H:mm:ss;@"},th_TH:{},tn:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},tn_ZA:{},tr:{longDate:"dd MMMM yyyy dddd;@",shortDate:"dd.MM.yyyy;@",dateTime:"dd MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},tr_TR:{},uk:{longDate:'dddd, d MMMM yyyy "р".;@',shortDate:"dd.MM.yy;@",dateTime:"d MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},uk_UA:{},uz:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},uz_UZ:{},vi:{longDate:'dddd, "ngày" dd MMMM "năm" yyyy;@',shortDate:"dd/MM/yyyy;@",dateTime:"HH:mm:ss dd-MM-yyyy;@",timeFormat:"HH:mm:ss;@"},vi_VN:{},xh:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},xh_ZA:{},zh:{longDate:"yyyy年M月d日dddd;@",shortDate:"yy-M-d;@",dateTime:"yyyy-M-d AM/PMhh:mm:ss;@",timeFormat:"AM/PMhh:mm:ss;@"},zh_CN:{},zh_HK:{},zh_MO:{},zh_SG:{},zh_TW:{},zu:{longDate:"dddd dd MMMM yyyy;@",shortDate:"yyyy-MM-dd;@",dateTime:"d MMM yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},zu_ZA:{}},e.RESOURCE_MAP={af:{date:{dateSeparator:"-",era:["voor Christus","na Christus"],eraAbbr:["v.C.","n.C."],shortDay:["So","Ma","Di","Wo","Do","Vr","Sa"],shortMonth:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des"],longDay:["Sondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrydag","Saterdag"],longMonth:["Januarie","Februarie","Maart","April","Mei","Junie","Julie","Augustus","September","Oktober","November","Desember"]},time:{timeSeparator:":",amPm:["vm.","nm."]}},af_ZA:{date:{},time:{}},ar:{date:{dateSeparator:"/",era:["قبل الميلاد","ميلادي"],eraAbbr:["ق.م","م"],shortDay:["أحد","إثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],shortMonth:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],longDay:["الأحد","الإثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],longMonth:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]},time:{timeSeparator:":",amPm:["ص","م"]}},ar_AE:{date:{},time:{}},ar_BH:{date:{},time:{}},ar_DZ:{date:{},time:{}},ar_EG:{date:{},time:{}},ar_IQ:{date:{},time:{}},ar_JO:{date:{shortDay:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],shortMonth:["كانون الثاني","شباط","آذار","نيسان","أيار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],longMonth:["كانون الثاني","شباط","آذار","نيسان","أيار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"]},time:{}},ar_KW:{date:{},time:{}},ar_LB:{date:{shortDay:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],shortMonth:["كانون الثاني","شباط","آذار","نيسان","نوار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],longMonth:["كانون الثاني","شباط","آذار","نيسان","نوار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"]},time:{}},ar_LY:{date:{},time:{}},ar_MA:{date:{},time:{}},ar_OM:{date:{},time:{}},ar_QA:{date:{shortDay:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},time:{}},ar_SA:{date:{shortDay:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},time:{}},ar_SY:{date:{shortDay:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],shortMonth:["كانون الثاني","شباط","آذار","نيسان","نوار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],longMonth:["كانون الثاني","شباط","آذار","نيسان","نوار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"]},time:{}},ar_TN:{date:{shortDay:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},time:{}},ar_YE:{date:{shortDay:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},time:{}},az:{date:{dateSeparator:"-",era:["eramızdan əvvəl","bizim eramızın"],eraAbbr:["e.ə.","b.e."],shortDay:["B.","B.E.","Ç.A.","Ç.","C.A.","C","Ş."],shortMonth:["yan","fev","mar","apr","may","iyn","iyl","avq","sen","okt","noy","dek"],longDay:["bazar","bazar ertəsi","çərşənbə axşamı","çərşənbə","cümə axşamı","cümə","şənbə"],longMonth:["Yanvar","Fevral","Mart","Aprel","May","İyun","İyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"]},time:{timeSeparator:":",amPm:["AM","PM"]}},az_AZ:{date:{},time:{}},be:{date:{dateSeparator:".",era:["да н.э.","н.э."],eraAbbr:["да н.е.","н.е."],eraNarrow:["да н.э.","н.э."],shortDay:["нд","пн","аў","ср","чц","пт","сб"],shortMonth:["сту","лют","сак","кра","май","чэр","ліп","жні","вер","кас","ліс","сне"],longDay:["нядзеля","панядзелак","аўторак","серада","чацвер","пятніца","субота"],longMonth:["студзень","люты","сакавік","красавік","май","чэрвень","ліпень","жнівень","верасень","кастрычнік","лістапад","снежань"]},time:{timeSeparator:".",amPm:["да палудня","пасля палудня"]}},be_BY:{date:{},time:{}},bg:{date:{dateSeparator:".",era:["пр.Хр.","сл.Хр."],eraAbbr:["пр. н. е.","от н. е."],eraNarrow:["сл.н.е."],shortDay:["нд","пн","вт","ср","чт","пт","сб"],shortMonth:["ян.","февр.","март","апр.","май","юни","юли","авг.","септ.","окт.","ноем.","дек."],longDay:["неделя","понеделник","вторник","сряда","четвъртък","петък","събота"],longMonth:["януари","февруари","март","април","май","юни","юли","август","септември","октомври","ноември","декември"]},time:{timeSeparator:":",amPm:["пр. об.","сл. об."]}},bg_BG:{date:{},time:{}},bn:{date:{dateSeparator:"/",eraAbbr:["খৃষ্টপূর্ব","খৃষ্টাব্দ"],shortDay:["রবি","সোম","মঙ্গল","বুধ","বৃহস্পতি","শুক্র","শনি"],shortMonth:["জানুয়ারী","ফেব্রুয়ারী","মার্চ","এপ্রিল","মে","জুন","জুলাই","আগস্ট","সেপ্টেম্বর","অক্টোবর","নভেম্বর","ডিসেম্বর"],longDay:["রবিবার","সোমবার","মঙ্গলবার","বুধবার","বৃহষ্পতিবার","শুক্রবার","শনিবার"],longMonth:["জানুয়ারী","ফেব্রুয়ারী","মার্চ","এপ্রিল","মে","জুন","জুলাই","আগস্ট","সেপ্টেম্বর","অক্টোবর","নভেম্বর","ডিসেম্বর"]},time:{timeSeparator:":",amPm:["পূর্বাহ্ণ","অপরাহ্ণ"]}},bn_IN:{date:{},time:{}},bs:{date:{dateSeparator:"-",eraAbbr:["BCE","CE"],shortDay:["7","1","2","3","4","5","6"],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["7","1","2","3","4","5","6"],longMonth:["1","2","3","4","5","6","7","8","9","10","11","12"]},time:{timeSeparator:":",amPm:["AM","PM"]}},bs_BA:{date:{},time:{}},ca:{date:{dateSeparator:"/",eraAbbr:["aC","dC"],shortDay:["dg.","dl.","dt.","dc.","dj.","dv.","ds."],shortMonth:["gen.","febr.","març","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des."],longDay:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],longMonth:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"]},time:{timeSeparator:":",amPm:["a.m.","p.m."]}},ca_ES:{date:{},time:{}},cs:{date:{dateSeparator:".",eraAbbr:["př.Kr.","po Kr."],shortDay:["ne","po","út","st","čt","pá","so"],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],longMonth:["ledna","února","března","dubna","května","června","července","srpna","září","října","listopadu","prosince"]},time:{timeSeparator:":",amPm:["dop.","odp."]}},cs_CZ:{date:{},time:{}},cy:{date:{dateSeparator:"-",era:["Cyn Crist","Oed Crist"],eraAbbr:["CC","OC"],eraNarrow:["C","O"],shortDay:["Sul","Llun","Maw","Mer","Iau","Gwen","Sad"],shortMonth:["Ion","Chwef","Mawrth","Ebrill","Mai","Meh","Gorff","Awst","Medi","Hyd","Tach","Rhag"],longDay:["Dydd Sul","Dydd Llun","Dydd Mawrth","Dydd Mercher","Dydd Iau","Dydd Gwener","Dydd Sadwrn"],longMonth:["Ionawr","Chwefror","Mawrth","Ebrill","Mai","Mehefin","Gorffenaf","Awst","Medi","Hydref","Tachwedd","Rhagfyr"]},time:{timeSeparator:":",amPm:["AM","PM"]}},cy_GB:{date:{},time:{}},da:{date:{dateSeparator:"/",era:["f.Kr.","e.Kr."],eraAbbr:["f.Kr.","e.Kr."],shortDay:["søn","man","tir","ons","tor","fre","lør"],shortMonth:["jan.","feb.","mar.","apr.","maj","jun.","jul.","aug.","sep.","okt.","nov.","dec."],longDay:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],longMonth:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"]},time:{timeSeparator:".",amPm:["f.m.","e.m."]}},da_DK:{date:{},time:{}},de:{date:{dateSeparator:".",era:["v. Chr.","n. Chr."],eraAbbr:["v. Chr.","n. Chr."],shortDay:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],shortMonth:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],longDay:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],longMonth:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},time:{timeSeparator:":",amPm:["vorm.","nachm."]}},de_AT:{date:{shortMonth:["Jän","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],longMonth:["Jänner","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},time:{}},de_CH:{date:{},time:{}},de_DE:{date:{},time:{}},de_LI:{date:{},time:{}},de_LU:{date:{},time:{}},el:{date:{dateSeparator:"/",era:["π.Χ.","μ.Χ."],eraAbbr:["π.Χ.","μ.Χ."],shortDay:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],shortMonth:["Ιαν","Φεβ","Μαρ","Απρ","Μαϊ","Ιουν","Ιουλ","Αυγ","Σεπ","Οκτ","Νοε","Δεκ"],longDay:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"],longMonth:["Ιανουαρίου","Φεβρουαρίου","Μαρτίου","Απριλίου","Μαΐου","Ιουνίου","Ιουλίου","Αυγούστου","Σεπτεμβρίου","Οκτωβρίου","Νοεμβρίου","Δεκεμβρίου"]},time:{timeSeparator:":",amPm:["π.μ.","μ.μ."]}},el_GR:{date:{},time:{}},en:{date:{dateSeparator:"/",era:["Before Christ","Anno Domini"],eraAbbr:["BC","AD"],eraNarrow:["B","A"],shortDay:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortMonth:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longDay:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],longMonth:["January","February","March","April","May","June","July","August","September","October","November","December"]},time:{timeSeparator:":",amPm:["AM","PM"]}},en_AU:{date:{dateSeparator:"/"},time:{}},en_BZ:{date:{dateSeparator:"/"},time:{timeSeparator:":"}},en_CA:{date:{dateSeparator:"-"},time:{}},en_GB:{date:{dateSeparator:"/"},time:{timeSeparator:":"}},en_IE:{date:{dateSeparator:"/"},time:{timeSeparator:":",amPm:["a.m.","p.m."]}},en_JM:{date:{},time:{}},en_NZ:{date:{dateSeparator:"/"},time:{}},en_PH:{date:{},time:{}},en_TT:{date:{},time:{}},en_US:{date:{},time:{}},en_VI:{date:{},time:{}},en_ZA:{date:{dateSeparator:"/"},time:{}},en_ZW:{date:{dateSeparator:"/"},time:{}},es:{date:{dateSeparator:"/",era:["antes de Cristo","anno Dómini"],eraAbbr:["a.C.","d.C."],shortDay:["dom","lun","mar","mié","jue","vie","sáb"],shortMonth:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],longDay:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],longMonth:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},time:{timeSeparator:":",amPm:["a.m.","p.m."]}},es_AR:{date:{},time:{amPm:["a.m.","p.m."]}},es_BO:{date:{},time:{}},es_CL:{date:{dateSeparator:"-"},time:{timeSeparator:":"}},es_CO:{date:{dateSeparator:"/"},time:{timeSeparator:":"}},es_CR:{date:{},time:{}},es_DO:{date:{},time:{}},es_EC:{date:{},time:{timeSeparator:":"}},es_ES:{date:{},time:{}},es_GT:{date:{dateSeparator:"/"},time:{}},es_HN:{date:{},time:{}},es_MX:{date:{},time:{}},es_NI:{date:{},time:{}},es_PA:{date:{dateSeparator:"/"},time:{}},es_PE:{date:{dateSeparator:"/"},time:{}},es_PR:{date:{dateSeparator:"/"},time:{}},es_PY:{date:{},time:{}},es_SV:{date:{},time:{}},es_UY:{date:{},time:{}},es_VE:{date:{},time:{}},et:{date:{dateSeparator:".",era:["enne meie aega","meie aja järgi"],eraAbbr:["e.m.a.","m.a.j."],shortDay:["P","E","T","K","N","R","L"],shortMonth:["jaan","veebr","märts","apr","mai","juuni","juuli","aug","sept","okt","nov","dets"],longDay:["pühapäev","esmaspäev","teisipäev","kolmapäev","neljapäev","reede","laupäev"],longMonth:["jaanuar","veebruar","märts","aprill","mai","juuni","juuli","august","september","oktoober","november","detsember"]},time:{timeSeparator:":",amPm:["AM","PM"]}},et_EE:{date:{},time:{}},eu:{date:{dateSeparator:"-",eraAbbr:["BCE","CE"],shortDay:["ig","al","as","az","og","or","lr"],shortMonth:["urt","ots","mar","api","mai","eka","uzt","abu","ira","urr","aza","abe"],longDay:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],longMonth:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua"]},time:{timeSeparator:":",amPm:["AM","PM"]}},eu_ES:{date:{},time:{}},fa:{date:{dateSeparator:"/",era:["قبل از میلاد","میلادی"],eraAbbr:["ق.م.","م."],eraNarrow:["ق","م"],shortDay:["یکشنبه","دوشنبه","سهشنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],shortMonth:["ژانویهٔ","فوریهٔ","مارس","آوریل","مهٔ","ژوئن","ژوئیهٔ","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"],longDay:["یکشنبه","دوشنبه","سهشنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],longMonth:["ژانویهٔ","فوریهٔ","مارس","آوریل","مهٔ","ژوئن","ژوئیهٔ","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"]},time:{timeSeparator:":",amPm:["قبل از ظهر","بعد از ظهر"]}},fa_IR:{date:{},time:{}},fi:{date:{dateSeparator:".",era:["ennen Kristuksen syntymää","jälkeen Kristuksen syntymän"],eraAbbr:["eKr.","jKr."],shortDay:["su","ma","ti","ke","to","pe","la"],shortMonth:["tammikuuta","helmikuuta","maaliskuuta","huhtikuuta","toukokuuta","kesäkuuta","heinäkuuta","elokuuta","syyskuuta","lokakuuta","marraskuuta","joulukuuta"],longDay:["sunnuntaina","maanantaina","tiistaina","keskiviikkona","torstaina","perjantaina","lauantaina"],longMonth:["tammikuuta","helmikuuta","maaliskuuta","huhtikuuta","toukokuuta","kesäkuuta","heinäkuuta","elokuuta","syyskuuta","lokakuuta","marraskuuta","joulukuuta"]},time:{timeSeparator:".",amPm:["ap.","ip."]}},fi_FI:{date:{},time:{}},fo:{date:{dateSeparator:"-",era:["fyrir Krist","eftir Krist"],eraAbbr:["BCE","CE"],eraNarrow:["f.Kr.","e.Kr."],shortDay:["sun","mán","týs","mik","hós","frí","ley"],shortMonth:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],longDay:["sunnudagur","mánadagur","týsdagur","mikudagur","hósdagur","fríggjadagur","leygardagur"],longMonth:["januar","februar","mars","apríl","mai","juni","juli","august","september","oktober","november","desember"]},time:{timeSeparator:":",amPm:["AM","PM"]}},fo_FO:{date:{},time:{}},fr:{date:{dateSeparator:"/",era:["avant Jésus-Christ","après Jésus-Christ"],eraAbbr:["av. J.-C.","ap. J.-C."],shortDay:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],shortMonth:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],longDay:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],longMonth:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},time:{timeSeparator:":",amPm:["AM","PM"]}},fr_BE:{date:{dateSeparator:"/"},time:{}},fr_CA:{date:{dateSeparator:"-"},time:{}},fr_CH:{date:{dateSeparator:"."},time:{}},fr_FR:{date:{},time:{}},fr_LU:{date:{},time:{}},fr_MC:{date:{},time:{}},gl:{date:{dateSeparator:"/",era:["antes de Cristo","despois de Cristo"],eraAbbr:["a.C.","d.C."],shortDay:["Dom","Lun","Mar","Mér","Xov","Ven","Sáb"],shortMonth:["Xan","Feb","Mar","Abr","Mai","Xuñ","Xul","Ago","Set","Out","Nov","Dec"],longDay:["Domingo","Luns","Martes","Mércores","Xoves","Venres","Sábado"],longMonth:["Xaneiro","Febreiro","Marzo","Abril","Maio","Xuño","Xullo","Agosto","Setembro","Outubro","Novembro","Decembro"]},time:{timeSeparator:":",amPm:["AM","PM"]}},gl_ES:{date:{},time:{}},gu:{date:{dateSeparator:"-",era:["ઈસવીસન પૂર્વે","ઇસવીસન"],eraAbbr:["BCE","CE"],eraNarrow:["ઇ સ પુ","ઇસ"],shortDay:["રવિ","સોમ","મંગળ","બુધ","ગુરુ","શુક્ર","શનિ"],shortMonth:["જાન્યુ","ફેબ્રુ","માર્ચ","એપ્રિલ","મે","જૂન","જુલાઈ","ઑગસ્ટ","સપ્ટે","ઑક્ટો","નવે","ડિસે"],longDay:["રવિવાર","સોમવાર","મંગળવાર","બુધવાર","ગુરુવાર","શુક્રવાર","શનિવાર"],longMonth:["જાન્યુઆરી","ફેબ્રુઆરી","માર્ચ","એપ્રિલ","મે","જૂન","જુલાઈ","ઑગસ્ટ","સપ્ટેમ્બર","ઑક્ટ્બર","નવેમ્બર","ડિસેમ્બર"]},time:{timeSeparator:":",amPm:["am","pm"]}},gu_IN:{date:{},time:{}},he:{date:{dateSeparator:"/",era:["לפני הספירה","לספירה"],eraAbbr:["לפנה״ס","לסה״נ"],shortDay:["יום א'","יום ב'","יום ג'","יום ד'","יום ה'","יום ו'","שבת"],shortMonth:["ינו","פבר","מרס","אפר","מאי","יונ","יול","אוג","ספט","אוק","נוב","דצמ"],longDay:["יום ראשון","יום שני","יום שלישי","יום רביעי","יום חמישי","יום שישי","יום שבת"],longMonth:["ינואר","פברואר","מרס","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"]},time:{timeSeparator:":",amPm:['לפנה"צ','אחה"צ']}},he_IL:{date:{},time:{}},hi:{date:{dateSeparator:"-",eraAbbr:["ईसापूर्व","सन"],shortDay:["रवि","सोम","मंगल","बुध","गुरु","शुक्र","शनि"],shortMonth:["जनवरी","फरवरी","मार्च","अप्रैल","मई","जून","जुलाई","अगस्त","सितम्बर","अक्तूबर","नवम्बर","दिसम्बर"],longDay:["रविवार","सोमवार","मंगलवार","बुधवार","गुरुवार","शुक्रवार","शनिवार"],longMonth:["जनवरी","फरवरी","मार्च","अप्रैल","मई","जून","जुलाई","अगस्त","सितम्बर","अक्तूबर","नवम्बर","दिसम्बर"]},time:{timeSeparator:":",amPm:["AM","PM"]}},hi_IN:{date:{},time:{}},hr:{date:{dateSeparator:".",era:["Prije Krista","Poslije Krista"],eraAbbr:["pr.n.e.","AD"],shortDay:["ned","pon","uto","sri","čet","pet","sub"],shortMonth:["01.","02.","03.","04.","05.","06.","07.","08.","09.","10.","11.","12."],longDay:["nedjelja","ponedjeljak","utorak","srijeda","četvrtak","petak","subota"],longMonth:["siječnja","veljače","ožujka","travnja","svibnja","lipnja","srpnja","kolovoza","rujna","listopada","studenoga","prosinca"]},time:{timeSeparator:":",amPm:["AM","PM"]}},hr_HR:{date:{},time:{}},hu:{date:{dateSeparator:".",era:["időszámításunk előtt","időszámításunk szerint"],eraAbbr:["i. e.","i. sz."],shortDay:["V","H","K","Sze","Cs","P","Szo"],shortMonth:["jan.","febr.","márc.","ápr.","máj.","jún.","júl.","aug.","szept.","okt.","nov.","dec."],longDay:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"],longMonth:["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"]},time:{timeSeparator:":",amPm:["de.","du."]}},hu_HU:{date:{},time:{}},hy:{date:{dateSeparator:"/",eraAbbr:["Ք․Ա․","Ք․Ե․"],shortDay:["Կիր","Երկ","Երք","Չոր","Հնգ","Ուր","Շաբ"],shortMonth:["Յնր","Փտր","Մրտ","Ապր","Մյս","Յնս","Յլս","Օգս","Սեպ","Հոկ","Նոյ","Դեկ"],longDay:["Կիրակի","Երկուշաբթի","Երեքշաբթի","Չորեքշաբթի","Հինգշաբթի","Ուրբաթ","Շաբաթ"],longMonth:["Յունուար","Փետրուար","Մարտ","Ապրիլ","Մայիս","Յունիս","Յուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"]},time:{timeSeparator:":",amPm:["Առ․","Եր․"]}},hy_AM:{date:{},time:{}},id:{date:{dateSeparator:"/",eraAbbr:["BCE","CE"],shortDay:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],shortMonth:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],longDay:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],longMonth:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},time:{timeSeparator:":",amPm:["AM","PM"]}},id_ID:{date:{},time:{}},is:{date:{dateSeparator:".",eraAbbr:["fyrir Krist","eftir Krist"],eraNarrow:["f.k.","e.k."],shortDay:["sun","mán","þri","mið","fim","fös","lau"],shortMonth:["jan","feb","mar","apr","maí","jún","júl","ágú","sep","okt","nóv","des"],longDay:["sunnudagur","mánudagur","þriðjudagur","miðvikudagur","fimmtudagur","föstudagur","laugardagur"],longMonth:["janúar","febrúar","mars","apríl","maí","júní","júlí","ágúst","september","október","nóvember","desember"]},time:{timeSeparator:":",amPm:["f.h.","e.h."]}},is_IS:{date:{},time:{}},it:{date:{dateSeparator:"/",era:["a.C.","d.C"],eraAbbr:["aC","dC"],shortDay:["dom","lun","mar","mer","gio","ven","sab"],shortMonth:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],longDay:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],longMonth:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},time:{timeSeparator:".",amPm:["m.","p."]}},it_CH:{date:{dateSeparator:"."},time:{}},it_IT:{date:{},time:{}},ja:{date:{dateSeparator:"/",era:["紀元前","西暦"],eraAbbr:["紀元前","西暦"],shortDay:["日","月","火","水","木","金","土"],shortMonth:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],longDay:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],longMonth:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},time:{timeSeparator:":",amPm:["午前","午後"]}},ja_JP:{date:{},time:{}},ka:{date:{dateSeparator:"-",era:["ჩვენს წელთაღრიცხვამდე","ჩვენი წელთაღრიცხვით"],eraAbbr:["ჩვენს წელთაღრიცხვამდე","ჩვენი წელთაღრიცხვით"],eraNarrow:["ჩვენს წელთაღრიცხვამდე","ჩვენი წელთაღრიცხვით"],shortDay:["კვი","ორშ","სამ","ოთხ","ხუთ","პარ","შაბ"],shortMonth:["იან","თებ","მარ","აპრ","მაი","ივნ","ივლ","აგვ","სექ","ოქტ","ნოე","დეკ"],longDay:["კვირა","ორშაბათი","სამშაბათი","ოთხშაბათი","ხუთშაბათი","პარასკევი","შაბათი"],longMonth:["იანვარი","თებერვალი","მარტი","აპრილი","მაისი","ივნისი","ივლისი","აგვისტო","სექტემბერი","ოქტომბერი","ნოემბერი","დეკემბერი"]},time:{timeSeparator:":",amPm:["დილის","საღამოს"]}},ka_GE:{date:{},time:{}},kk:{date:{dateSeparator:".",eraAbbr:["BCE","CE"],shortDay:["жс.","дс.","сс.","ср.","бс.","жм.","сһ."],shortMonth:["қаң.","ақп.","нау.","сәу.","мам.","мау.","шіл.","там.","қыр.","қаз.","қар.","желт."],longDay:["жексені","дуйсенбі","сейсенбі","сәренбі","бейсенбі","жұма","сенбі"],longMonth:["қаңтар","ақпан","наурыз","сәуір","мамыр","маусым","шілде","тамыз","қыркүйек","қазан","қараша","желтоқсан"]},time:{timeSeparator:":",amPm:["AM","PM"]}},kk_KZ:{date:{},time:{}},kn:{date:{dateSeparator:"-",era:["ಈಸಪೂವ೯.","ಕ್ರಿಸ್ತ ಶಕ"],eraAbbr:["BCE","CE"],shortDay:["ರ.","ಸೋ.","ಮಂ.","ಬು.","ಗು.","ಶು.","ಶನಿ."],shortMonth:["ಜನವರೀ","ಫೆಬ್ರವರೀ","ಮಾರ್ಚ್","ಎಪ್ರಿಲ್","ಮೆ","ಜೂನ್","ಜುಲೈ","ಆಗಸ್ಟ್","ಸಪ್ಟೆಂಬರ್","ಅಕ್ಟೋಬರ್","ನವೆಂಬರ್","ಡಿಸೆಂಬರ್"],longDay:["ರವಿವಾರ","ಸೋಮವಾರ","ಮಂಗಳವಾರ","ಬುಧವಾರ","ಗುರುವಾರ","ಶುಕ್ರವಾರ","ಶನಿವಾರ"],longMonth:["ಜನವರೀ","ಫೆಬ್ರವರೀ","ಮಾರ್ಚ್","ಎಪ್ರಿಲ್","ಮೆ","ಜೂನ್","ಜುಲೈ","ಆಗಸ್ಟ್","ಸಪ್ಟೆಂಬರ್","ಅಕ್ಟೋಬರ್","ನವೆಂಬರ್","ಡಿಸೆಂಬರ್"]},time:{timeSeparator:":",amPm:["am","pm"]}},kn_IN:{date:{},time:{}},ko:{date:{dateSeparator:". ",era:["서력기원전","서력기원"],eraAbbr:["기원전","서기"],shortDay:["일","월","화","수","목","금","토"],shortMonth:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],longDay:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],longMonth:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},time:{timeSeparator:":",amPm:["오전","오후"]}},ko_KR:{date:{},time:{}},kok:{date:{dateSeparator:"-",eraAbbr:["क्रिस्तपूर्व","क्रिस्तशखा"],shortDay:["रवि","सोम","मंगळ","बुध","गुरु","शुक्र","शनि"],shortMonth:["जानेवारी","फेबृवारी","मार्च","एप्रिल","मे","जून","जुलै","ओगस्ट","सेप्टेंबर","ओक्टोबर","नोव्हेंबर","डिसेंबर"],longDay:["आदित्यवार","सोमवार","मंगळार","बुधवार","गुरुवार","शुक्रवार","शनिवार"],longMonth:["जानेवारी","फेब्रुवारी","मार्च","एप्रिल","मे","जून","जुलै","ओगस्ट","सेप्टेंबर","ओक्टोबर","नोव्हेंबर","डिसेंबर"]},time:{timeSeparator:":",amPm:["म.पू.","म.नं."]}},kok_IN:{date:{},time:{}},lt:{date:{dateSeparator:"-",era:["prieš Kristų","po Kristaus"],eraAbbr:["pr. Kr.","po Kr."],shortDay:["Sk","Pr","An","Tr","Kt","Pn","Št"],shortMonth:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rgp","Rgs","Spl","Lap","Grd"],longDay:["sekmadienis","pirmadienis","antradienis","trečiadienis","ketvirtadienis","penktadienis","šeštadienis"],longMonth:["sausio","vasario","kovo","balandžio","gegužės","birželio","liepos","rugpjūčio","rugsėjo","spalio","lapkričio","gruodžio"]},time:{timeSeparator:":",amPm:["priešpiet","popiet"]}},lt_LT:{date:{},time:{}},lv:{date:{dateSeparator:".",era:["pirms mūsu ēras","mūsu ērā"],eraAbbr:["p.m.ē.","m.ē."],eraNarrow:["p.m.ē.","m.ē."],shortDay:["Sv","Pr","Ot","Tr","Ce","Pk","Se"],shortMonth:["janv.","febr.","marts","apr.","maijs","jūn.","jūl.","aug.","sept.","okt.","nov.","dec."],longDay:["svētdiena","pirmdiena","otrdiena","trešdiena","ceturtdiena","piektdiena","sestdiena"],longMonth:["janvāris","februāris","marts","aprīlis","maijs","jūnijs","jūlijs","augusts","septembris","oktobris","novembris","decembris"]},time:{timeSeparator:":",amPm:["AM","PM"]}},lv_LV:{date:{},time:{}},mk:{date:{dateSeparator:".",eraAbbr:["пр.н.е.","ае."],shortDay:["нед.","пон.","вт.","сре.","чет.","пет.","саб."],shortMonth:["јан.","фев.","мар.","апр.","мај","јун.","јул.","авг.","септ.","окт.","ноем.","декем."],longDay:["недела","понеделник","вторник","среда","четврток","петок","сабота"],longMonth:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"]},time:{timeSeparator:":",amPm:["претпладне","попладне"]}},mk_MK:{date:{},time:{}},ml:{date:{dateSeparator:"/",era:["ക്രിസ്തുവിനു് മുമ്പ്","ക്രിസ്തുവിന് പിന്പ്"],eraAbbr:["ക്രി.മു.","ക്രി.പി."],eraNarrow:["ക്രി.മു.","ക്രി.പി."],shortDay:["ഞായര്","തിങ്കള്","ചൊവ്വ","ബുധന്","വ്യാഴം","വെള്ളി","ശനി"],shortMonth:["ജനു","ഫെബ്രു","മാര്","ഏപ്രി","മേയ്","ജൂണ്","ജൂലൈ","ഓഗ","സെപ്റ്റം","ഒക്ടോ","നവം","ഡിസം"],longDay:["ഞായറാഴ്ച","തിങ്കളാഴ്ച","ചൊവ്വാഴ്ച","ബുധനാഴ്ച","വ്യാഴാഴ്ച","വെള്ളിയാഴ്ച","ശനിയാഴ്ച"],longMonth:["ജനുവരി","ഫെബ്രുവരി","മാര്ച്ച്","ഏപ്രില്","മേയ്","ജൂണ്","ജൂലൈ","ഓഗസ്റ്റ്","സെപ്റ്റംബര്","ഒക്ടോബര്","നവംബര്","ഡിസംബര്"]},time:{timeSeparator:":",amPm:["am","pm"]}},ml_IN:{date:{},time:{}},mn:{date:{dateSeparator:"-",era:["манай эриний өмнөх","манай эриний"],eraAbbr:["BCE","CE"],shortDay:["1","2","3","4","5","6","7"],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["1","2","3","4","5","6","7"],longMonth:["1","2","3","4","5","6","7","8","9","10","11","12"]},time:{timeSeparator:":",amPm:["AM","PM"]}},mn_MN:{date:{},time:{}},mr:{date:{dateSeparator:"-",era:["ईसवीसनपूर्व","ईसवीसन"],eraAbbr:["ई.स.पू.","ई.स."],shortDay:["रवि","सोम","मंगळ","बुध","गुरु","शुक्र","शनि"],shortMonth:["जानेवारी","फेब्रुवारी","मार्च","एप्रिल","मे","जून","जुलै","ऑगस्ट","सप्टेंबर","ऑक्टोबर","नोव्हेंबर","डिसेंबर"],longDay:["रविवार","सोमवार","मंगळवार","बुधवार","गुरुवार","शुक्रवार","शनिवार"],longMonth:["जानेवारी","फेब्रुवारी","मार्च","एप्रिल","मे","जून","जुलै","ऑगस्ट","सप्टेंबर","ऑक्टोबर","नोव्हेंबर","डिसेंबर"]},time:{timeSeparator:"-",amPm:["am","pm"]}},mr_IN:{date:{},time:{}},ms:{date:{dateSeparator:"-",eraAbbr:["BCE","CE"],shortDay:["Ahd","Isn","Sel","Rab","Kha","Jum","Sab"],shortMonth:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ogos","Sep","Okt","Nov","Dis"],longDay:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"],longMonth:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"]},time:{timeSeparator:":",amPm:["AM","PM"]}},ms_BN:{date:{},time:{timeSeparator:":"}},ms_MY:{date:{},time:{}},mt:{date:{dateSeparator:"/",era:["Qabel Kristu","Wara Kristu"],eraAbbr:["QK","WK"],shortDay:["Ħad","Tne","Tli","Erb","Ħam","Ġim","Sib"],shortMonth:["Jan","Fra","Mar","Apr","Mej","Ġun","Lul","Aww","Set","Ott","Nov","Diċ"],longDay:["Il-Ħadd","It-Tnejn","It-Tlieta","L-Erbgħa","Il-Ħamis","Il-Ġimgħa","Is-Sibt"],longMonth:["Jannar","Frar","Marzu","April","Mejju","Ġunju","Lulju","Awwissu","Settembru","Ottubru","Novembru","Diċembru"]},time:{timeSeparator:":",amPm:["QN","WN"]}},mt_MT:{date:{},time:{}},nb:{date:{dateSeparator:".",era:["f.Kr.","e.Kr."],eraAbbr:["f.Kr.","e.Kr."],shortDay:["søn.","man.","tir.","ons.","tor.","fre.","lør."],shortMonth:["jan.","feb.","mars","apr.","mai","juni","juli","aug.","sep.","okt.","nov.","des."],longDay:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],longMonth:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"]},time:{timeSeparator:".",amPm:["AM","PM"]}},nb_NO:{date:{},time:{}},nl:{date:{dateSeparator:"-",era:["Voor Christus","Anno Domini"],eraAbbr:["v. Chr.","n. Chr."],shortDay:["zo","ma","di","wo","do","vr","za"],shortMonth:["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],longDay:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],longMonth:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"]},time:{timeSeparator:":",amPm:["AM","PM"]}},nl_BE:{date:{dateSeparator:"/"},time:{}},nl_NL:{date:{},time:{}},nn:{date:{dateSeparator:".",era:["f.Kr.","e.Kr."],eraAbbr:["f.Kr.","e.Kr."],shortDay:["sø.","må.","ty.","on.","to.","fr.","la."],shortMonth:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],longDay:["søndag","måndag","tysdag","onsdag","torsdag","fredag","laurdag"],longMonth:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"]},time:{timeSeparator:".",amPm:["formiddag","ettermiddag"]}},nn_NO:{date:{},time:{}},pa:{date:{dateSeparator:"/",era:["ਈਸਾਪੂਰਵ","ਸੰਨ"],eraAbbr:["BCE","CE"],shortDay:["ਐਤ.","ਸੋਮ.","ਮੰਗਲ.","ਬੁਧ.","ਵੀਰ.","ਸ਼ੁਕਰ.","ਸ਼ਨੀ."],shortMonth:["ਜਨਵਰੀ","ਫ਼ਰਵਰੀ","ਮਾਰਚ","ਅਪ੍ਰੈਲ","ਮਈ","ਜੂਨ","ਜੁਲਾਈ","ਅਗਸਤ","ਸਤੰਬਰ","ਅਕਤੂਬਰ","ਨਵੰਬਰ","ਦਸੰਬਰ"],longDay:["ਐਤਵਾਰ","ਸੋਮਵਾਰ","ਮੰਗਲਵਾਰ","ਬੁਧਵਾਰ","ਵੀਰਵਾਰ","ਸ਼ੁੱਕਰਵਾਰ","ਸ਼ਨੀਚਰਵਾਰ"],longMonth:["ਜਨਵਰੀ","ਫ਼ਰਵਰੀ","ਮਾਰਚ","ਅਪ੍ਰੈਲ","ਮਈ","ਜੂਨ","ਜੁਲਾਈ","ਅਗਸਤ","ਸਤੰਬਰ","ਅਕਤੂਬਰ","ਨਵੰਬਰ","ਦਸੰਬਰ"]},time:{timeSeparator:":",amPm:["ਸਵੇਰੇ","ਸ਼ਾਮ"]}},pa_IN:{date:{},time:{}},pl:{date:{dateSeparator:"-",era:["p.n.e.","n.e."],eraAbbr:["p.n.e.","n.e."],shortDay:["niedz.","pon.","wt.","śr.","czw.","pt.","sob."],shortMonth:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru"],longDay:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],longMonth:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","września","października","listopada","grudnia"]},time:{timeSeparator:":",amPm:["AM","PM"]}},pl_PL:{date:{},time:{}},pt:{date:{dateSeparator:"/",era:["Antes de Cristo","Ano do Senhor"],eraAbbr:["a.C.","d.C."],shortDay:["dom","seg","ter","qua","qui","sex","sáb"],shortMonth:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],longDay:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],longMonth:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},time:{timeSeparator:":",amPm:["AM","PM"]}},pt_BR:{date:{},time:{}},pt_PT:{date:{shortMonth:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],longMonth:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]},time:{amPm:["Antes do meio-dia","Depois do meio-dia"]}},ro:{date:{dateSeparator:".",era:["înainte de Hristos","după Hristos"],eraAbbr:["î.Hr.","d.Hr."],shortDay:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],shortMonth:["ian.","feb.","mar.","apr.","mai","iun.","iul.","aug.","sept.","oct.","nov.","dec."],longDay:["duminică","luni","marți","miercuri","joi","vineri","sâmbătă"],longMonth:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"]},time:{timeSeparator:":",amPm:["AM","PM"]}},ro_RO:{date:{},time:{}},ru:{date:{dateSeparator:".",era:["до н.э.","н.э."],eraAbbr:["до н.э.","н.э."],shortDay:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],shortMonth:["янв.","февр.","марта","апр.","мая","июня","июля","авг.","сент.","окт.","нояб.","дек."],longDay:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],longMonth:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},time:{timeSeparator:":",amPm:["AM","PM"]}},ru_RU:{date:{},time:{}},se:{date:{dateSeparator:"-",era:["ovdal Kristtusa","maŋŋel Kristtusa"],eraAbbr:["BCE","CE"],eraNarrow:["o.Kr.","m.Kr."],shortDay:["1","2","3","4","5","6","7"],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["1","2","3","4","5","6","7"],longMonth:["1","2","3","4","5","6","7","8","9","10","11","12"]},time:{timeSeparator:":",amPm:["AM","PM"]}},se_NO:{date:{},time:{}},sk:{date:{dateSeparator:".",eraAbbr:["pred n.l.","n.l."],shortDay:["ne","po","ut","st","št","pi","so"],shortMonth:["jan","feb","mar","apr","máj","jún","júl","aug","sep","okt","nov","dec"],longDay:["nedeľa","pondelok","utorok","streda","štvrtok","piatok","sobota"],longMonth:["januára","februára","marca","apríla","mája","júna","júla","augusta","septembra","októbra","novembra","decembra"]},time:{timeSeparator:":",amPm:["dopoludnia","popoludní"]}},sk_SK:{date:{},time:{}},sl:{date:{dateSeparator:". ",era:["pred našim štetjem","naše štetje"],eraAbbr:["pr. n. št.","po Kr."],shortDay:["ned","pon","tor","sre","čet","pet","sob"],shortMonth:["jan","feb","mar","apr","maj","jun","jul","avg","sep","okt","nov","dec"],longDay:["nedelja","ponedeljek","torek","sreda","četrtek","petek","sobota"],longMonth:["januar","februar","marec","april","maj","junij","julij","avgust","september","oktober","november","december"]},time:{timeSeparator:":",amPm:["dop.","pop."]}},sl_SI:{date:{},time:{}},sq:{date:{dateSeparator:"-",eraAbbr:["p.e.r.","n.e.r."],shortDay:["Die","Hën","Mar","Mër","Enj","Pre","Sht"],shortMonth:["Jan","Shk","Mar","Pri","Maj","Qer","Kor","Gsh","Sht","Tet","Nën","Dhj"],longDay:["e diel","e hënë","e martë","e mërkurë","e enjte","e premte","e shtunë"],longMonth:["janar","shkurt","mars","prill","maj","qershor","korrik","gusht","shtator","tetor","nëntor","dhjetor"]},time:{timeSeparator:".",amPm:["PD","MD"]}},sq_AL:{date:{},time:{}},sr:{date:{dateSeparator:".",era:["Пре нове ере","Нове ере"],eraAbbr:["п. н. е.","н. е"],eraNarrow:["п.н.е.","н.е."],shortDay:["нед","пон","уто","сре","чет","пет","суб"],shortMonth:["јан","феб","мар","апр","мај","јун","јул","авг","сеп","окт","нов","дец"],longDay:["недеља","понедељак","уторак","среда","четвртак","петак","субота"],longMonth:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"]},time:{timeSeparator:".",amPm:["пре подне","поподне"]}},sr_BA:{date:{},time:{}},sr_CS:{date:{},time:{}},sv:{date:{dateSeparator:"-",era:["före Kristus","efter Kristus"],eraAbbr:["f.Kr.","e.Kr."],shortDay:["sön","mån","tis","ons","tors","fre","lör"],shortMonth:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],longDay:["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"],longMonth:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"]},time:{timeSeparator:".",amPm:["fm","em"]}},sv_FI:{date:{},time:{}},sv_SE:{date:{},time:{}},sw:{date:{dateSeparator:"-",era:["Kabla ya Kristo","Baada ya Kristo"],eraAbbr:["KK","BK"],shortDay:["Jpi","Jtt","Jnn","Jtn","Alh","Iju","Jmo"],shortMonth:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ago","Sep","Okt","Nov","Des"],longDay:["Jumapili","Jumatatu","Jumanne","Jumatano","Alhamisi","Ijumaa","Jumamosi"],longMonth:["Januari","Februari","Machi","Aprili","Mei","Juni","Julai","Agosti","Septemba","Oktoba","Novemba","Desemba"]},time:{timeSeparator:":",amPm:["AM","PM"]}},sw_KE:{date:{},time:{}},syr:{date:{dateSeparator:"-",shortDay:["1","2","3","4","5","6","7"],shortMonth:["ܟܢ ܒ","ܫܒܛ","ܐܕܪ","ܢܝܣܢ","ܐܝܪ","ܚܙܝܪܢ","ܬܡܘܙ","ܐܒ","ܐܝܠܘܠ","ܬܫ ܐ","ܬܫ ܒ","ܟܢ ܐ"],longDay:["1","2","3","4","5","6","7"],longMonth:["ܟܢ ܒ","ܫܒܛ","ܐܕܪ","ܢܝܣܢ","ܐܝܪ","ܚܙܝܪܢ","ܬܡܘܙ","ܐܒ","ܐܝܠܘܠ","ܬܫ ܐ","ܬܫ ܒ","ܟܢ ܐ"]},time:{timeSeparator:":",amPm:["AM","PM"]}},syr_SY:{date:{},time:{}},ta:{date:{dateSeparator:"-",era:["கிறிஸ்துவுக்கு முன்","அனோ டோமினி"],eraAbbr:["கிமு","கிபி"],shortDay:["ஞா","தி","செ","பு","வி","வெ","ச"],shortMonth:["ஜன.","பிப்.","மார்.","ஏப்.","மே","ஜூன்","ஜூலை","ஆக.","செப்.","அக்.","நவ.","டிச."],longDay:["ஞாயிறு","திங்கள்","செவ்வாய்","புதன்","வியாழன்","வெள்ளி","சனி"],longMonth:["ஜனவரி","பிப்ரவரி","மார்ச்","ஏப்ரல்","மே","ஜூன்","ஜூலை","ஆகஸ்ட்","செப்டம்பர்","அக்டோபர்","நவம்பர்","டிசம்பர்"]},time:{timeSeparator:":",amPm:["am","pm"]}},ta_IN:{date:{},time:{}},te:{date:{dateSeparator:"-",era:["ఈసాపూర్వ.","సన్."],eraAbbr:["BCE","CE"],shortDay:["ఆది","సోమ","మంగళ","బుధ","గురు","శుక్ర","శని"],shortMonth:["జనవరి","ఫిబ్రవరి","మార్చి","ఏప్రిల్","మే","జూన్","జూలై","ఆగస్టు","సెప్టెంబర్","అక్టోబర్","నవంబర్","డిసెంబర్"],longDay:["ఆదివారం","సోమవారం","మంగళవారం","బుధవారం","గురువారం","శుక్రవారం","శనివారం"],longMonth:["జనవరి","ఫిబ్రవరి","మార్చి","ఏప్రిల్","మే","జూన్","జూలై","ఆగస్టు","సెప్టెంబర్","అక్టోబర్","నవంబర్","డిసెంబర్"]},time:{timeSeparator:":",amPm:["am","pm"]}},te_IN:{date:{},time:{}},th:{date:{dateSeparator:"/",era:["ปีก่อนคริสต์ศักราช","คริสต์ศักราช"],eraAbbr:["ปีก่อน ค.ศ.","ค.ศ."],eraNarrow:["ก่อน ค.ศ."],shortDay:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],shortMonth:["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],longDay:["วันอาทิตย์","วันจันทร์","วันอังคาร","วันพุธ","วันพฤหัสบดี","วันศุกร์","วันเสาร์"],longMonth:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"]},time:{timeSeparator:":",amPm:["ก่อนเที่ยง","หลังเที่ยง"]}},th_TH:{date:{},time:{}},tn:{date:{dateSeparator:"-",era:["BC","AD"],eraAbbr:["BCE","CE"],shortDay:["1","2","3","4","5","6","7"],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["1","2","3","4","5","6","7"],longMonth:["1","2","3","4","5","6","7","8","9","10","11","12"]},time:{timeSeparator:":",amPm:["AM","PM"]}},tn_ZA:{date:{},time:{}},tr:{date:{dateSeparator:".",era:["Milattan Önce","Milattan Sonra"],eraAbbr:["MÖ","MS"],shortDay:["Paz","Pzt","Sal","Çar","Per","Cum","Cmt"],shortMonth:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],longDay:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],longMonth:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"]},time:{timeSeparator:":",amPm:["AM","PM"]}},tr_TR:{date:{},time:{}},uk:{date:{dateSeparator:".",era:["до нашої ери","нашої ери"],eraAbbr:["до н.е.","н.е."],shortDay:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],shortMonth:["січ.","лют.","бер.","квіт.","трав.","черв.","лип.","серп.","вер.","жовт.","лист.","груд."],longDay:["Неділя","Понеділок","Вівторок","Середа","Четвер","Пʼятниця","Субота"],longMonth:["січня","лютого","березня","квітня","травня","червня","липня","серпня","вересня","жовтня","листопада","грудня"]},time:{timeSeparator:":",amPm:["дп","пп"]}},uk_UA:{date:{},time:{}},uz:{date:{dateSeparator:"-",eraAbbr:["BCE","CE"],shortDay:["1","2","3","4","5","6","7"],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["1","2","3","4","5","6","7"],longMonth:["1","2","3","4","5","6","7","8","9","10","11","12"]},time:{timeSeparator:":",amPm:["AM","PM"]}},uz_UZ:{date:{},time:{}},vi:{date:{dateSeparator:"/",eraAbbr:["tr. CN","sau CN"],shortDay:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],shortMonth:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],longDay:["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy"],longMonth:["tháng một","tháng hai","tháng ba","tháng tư","tháng năm","tháng sáu","tháng bảy","tháng tám","tháng chín","tháng mười","tháng mười một","tháng mười hai"]},time:{timeSeparator:":",amPm:["SA","CH"]}},vi_VN:{date:{},time:{}},xh:{date:{dateSeparator:"-",era:["BC","umnyaka wokuzalwa kukaYesu"],eraAbbr:["BCE","CE"],shortDay:["1","2","3","4","5","6","7"],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["1","2","3","4","5","6","7"],longMonth:["1","2","3","4","5","6","7","8","9","10","11","12"]},time:{timeSeparator:":",amPm:["AM","PM"]}},xh_ZA:{date:{},time:{}},zh:{date:{dateSeparator:"-",era:["公元前","公元"],eraAbbr:["公元前","公元"],shortDay:["周日","周一","周二","周三","周四","周五","周六"],shortMonth:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],longDay:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],longMonth:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},time:{timeSeparator:":",amPm:["上午","下午"]}},zh_CN:{date:{},time:{}},zh_HK:{date:{},time:{}},zh_MO:{date:{},time:{}},zh_SG:{date:{},time:{}},zh_TW:{date:{},time:{}},zu:{date:{dateSeparator:"-",eraAbbr:["BC","AD"],shortDay:["Son","Mso","Bil","Tha","Sin","Hla","Mgq"],shortMonth:["Jan","Feb","Mas","Apr","Mey","Jun","Jul","Aga","Sep","Okt","Nov","Dis"],longDay:["Sonto","Msombuluko","Lwesibili","Lwesithathu","uLwesine","Lwesihlanu","Mgqibelo"],longMonth:["Januwari","Februwari","Mashi","Apreli","Meyi","Juni","Julayi","Agasti","Septhemba","Okthoba","Novemba","Disemba"]},time:{timeSeparator:":",amPm:["AM","PM"]}},zu_ZA:{date:{},time:{}}};e.formatExist=function(t,a){return t&&a&&e.DEFAULT_FORMAT_STRING[t]&&e.DEFAULT_FORMAT_STRING[t][a]};e.getDefaultDateFormat=function(t,a){return e.DEFAULT_FORMAT_STRING[t][a]};e.getShortDay=function(t){if(t){if(e.resourceExist(t,e.KEY_TYPE_DATE,e.KEY_TOKEN_SHORT_DAY)){return e.getDateResource(t,e.KEY_TYPE_DATE,e.KEY_TOKEN_SHORT_DAY)}else{return null}}return e.getAppropriateDateResource(e.KEY_TYPE_DATE,e.KEY_TOKEN_SHORT_DAY)};e.getLongDay=function(t){if(t){if(e.resourceExist(t,e.KEY_TYPE_DATE,e.KEY_TOKEN_LONG_DAY)){return e.getDateResource(t,e.KEY_TYPE_DATE,e.KEY_TOKEN_LONG_DAY)}else{return null}}return e.getAppropriateDateResource(e.KEY_TYPE_DATE,e.KEY_TOKEN_LONG_DAY)};e.getShortMonth=function(t){if(t){if(e.resourceExist(t,e.KEY_TYPE_DATE,e.KEY_TOKEN_SHORT_MONTH)){return e.getDateResource(t,e.KEY_TYPE_DATE,e.KEY_TOKEN_SHORT_MONTH)}else{return null}}return e.getAppropriateDateResource(e.KEY_TYPE_DATE,e.KEY_TOKEN_SHORT_MONTH)};e.getLongMonth=function(t){if(t){if(e.resourceExist(t,e.KEY_TYPE_DATE,e.KEY_TOKEN_LONG_MONTH)){return e.getDateResource(t,e.KEY_TYPE_DATE,e.KEY_TOKEN_LONG_MONTH)}else{return null}}return e.getAppropriateDateResource(e.KEY_TYPE_DATE,e.KEY_TOKEN_LONG_MONTH)};e.getDateSeparator=function(t){if(t){if(e.resourceExist(t,e.KEY_TYPE_DATE,e.KEY_DATE_SEPARATOR)){return e.getDateResource(t,e.KEY_TYPE_DATE,e.KEY_DATE_SEPARATOR).toString()}else{return null}}return e.getAppropriateDateResource(e.KEY_TYPE_DATE,e.KEY_DATE_SEPARATOR).toString()};e.getTimeSeparator=function(t){if(t){if(e.resourceExist(t,e.KEY_TYPE_TIME,e.KEY_TIME_SEPARATOR)){return e.getDateResource(t,e.KEY_TYPE_TIME,e.KEY_TIME_SEPARATOR).toString()}else{return null}}return e.getAppropriateDateResource(e.KEY_TYPE_TIME,e.KEY_TIME_SEPARATOR).toString()};e.getAmPmToken=function(t){if(t){if(e.resourceExist(t,e.KEY_TYPE_TIME,e.KEY_TOKEN_AM_PM)){return e.getDateResource(t,e.KEY_TYPE_TIME,e.KEY_TOKEN_AM_PM)}else{return null}}return e.getAppropriateDateResource(e.KEY_TYPE_TIME,e.KEY_TOKEN_AM_PM)};e.getAbbrevEraString=function(t){if(t){if(e.resourceExist(t,e.KEY_TYPE_DATE,e.KEY_TOKEN_ABBREV_ERA)){return e.getDateResource(t,e.KEY_TYPE_DATE,e.KEY_TOKEN_ABBREV_ERA)}else{return null}}return e.getAppropriateDateResource(e.KEY_TYPE_DATE,e.KEY_TOKEN_ABBREV_ERA)};e.getDefaultShorDateFormat=function(t){if(t){if(e.formatExist(t,e.FORMAT_TYPE_SHORTDATE)){return e.getDefaultDateFormat(t,e.FORMAT_TYPE_SHORTDATE).toString()}else{return""}}return e.getAppropriateDateFormat(e.FORMAT_TYPE_SHORTDATE).toString()};e.getDefaultLongDateFormat=function(t){if(t){if(e.formatExist(t,e.FORMAT_TYPE_LONGDATE)){return e.getDefaultDateFormat(t,e.FORMAT_TYPE_LONGDATE).toString()}else{return null}}return e.getAppropriateDateFormat(e.FORMAT_TYPE_LONGDATE)};e.getDefaultDateTimeFormat=function(t){if(t){if(e.formatExist(t,e.FORMAT_TYPE_DATE_TIME)){return e.getDefaultDateFormat(t,e.FORMAT_TYPE_DATE_TIME).toString()}else{return null}}return e.getAppropriateDateFormat(e.FORMAT_TYPE_DATE_TIME).toString()};e.getDefaultTimeFormat=function(t){if(t){if(e.formatExist(t,e.FORMAT_TYPE_TIME)){return e.getDefaultDateFormat(t,e.FORMAT_TYPE_TIME).toString()}else{return null}}return e.getAppropriateDateFormat(e.FORMAT_TYPE_TIME).toString()};e.getAppropriateDateFormat=function(t){var a=sap.common.globalization.GlobalizationPreference.getInstance().pvl();if(e.formatExist(a,t)){return e.getDefaultDateFormat(a,t).toString()}var i=sap.common.globalization.GlobalizationPreference.getInstance().pvlIsoLanguageCode();if(e.formatExist(i,t)){return e.getDefaultDateFormat(i,t).toString()}var r=sap.common.globalization.GlobalizationPreference.getInstance().documentLocale();if(e.formatExist(r,t)){return e.getDefaultDateFormat(r,t).toString()}var s=sap.common.globalization.GlobalizationPreference.getInstance().documentIsoLanguageCode();if(e.formatExist(s,t)){return e.getDefaultDateFormat(s,t).toString()}return e.getDefaultDateFormat("en",t).toString()};e.getAppropriateDateResource=function(t,a){var i=sap.common.globalization.GlobalizationPreference.getInstance().pvl();if(e.resourceExist(i,t,a)){return e.getDateResource(i,t,a)}var r=sap.common.globalization.GlobalizationPreference.getInstance().pvlIsoLanguageCode();if(e.resourceExist(r,t,a)){return e.getDateResource(r,t,a)}var s=sap.common.globalization.GlobalizationPreference.getInstance().documentLocale();if(e.resourceExist(s,t,a)){return e.getDateResource(s,t,a)}var o=sap.common.globalization.GlobalizationPreference.getInstance().documentIsoLanguageCode();if(e.resourceExist(o,t,a)){return e.getDateResource(o,t,a)}return e.getDateResource("en",t,a)};e.resourceExist=function(t,a,i){return t&&a&&i&&e.RESOURCE_MAP[t]&&e.RESOURCE_MAP[t][a]&&e.RESOURCE_MAP[t][a][i]};e.getDateResource=function(t,a,i){return e.RESOURCE_MAP[t][a][i]}})();(function(){sap.common.globalization.declare("sap.common.globalization.GlobalizationNumericUtil");sap.common.globalization.GlobalizationNumericUtil=function(){this.__className="sap.common.globalization.GlobalizationNumericUtil"};sap.common.globalization.GlobalizationNumericUtil.isTwoDigitGroupingCountry=function(e){switch(e){case"bn":case"bn_IN":case"en_IN":case"gu":case"gu_IN":case"hi":case"hi_IN":case"kn":case"kn_IN":case"kok":case"kok_IN":case"ml":case"ml_IN":case"mr":case"mr_IN":case"pa":case"pa_IN":case"ta":case"ta_IN":case"te":case"te_IN":return true;default:return false}}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.require("sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.GlobalizationPreference");sap.common.globalization.require("sap.common.globalization.utils.StringUtil");sap.common.globalization.require("sap.common.globalization.GlobalizationDateConstant");sap.common.globalization.require("sap.common.globalization.GlobalizationNumericConstant");sap.common.globalization.require("sap.common.globalization.NumericFormatManager");sap.common.globalization.numericFormat.FLocalization=function(){this.__className="sap.common.globalization.numericFormat.FLocalization";this._setDisplayLocaleInfo();this._numericParseLocaleInfo=null;this._numericDisplayLocaleInfo=null;this._dateParseLocaleInfo=null;this._dateDisplayLocaleInfo=null};var e=sap.common.globalization.numericFormat.FLocalization;e._defaultLocale="en";e._DayStrings=null;e._shortDayStrings=null;e._MonthStrings=null;e._shortMonthStrings=null;e._DateTimeCodes=null;e._NumericStrings=null;e._DateTimeStrings=null;e._CurrencySymbol=null;e._SAPCurrencySymbol=null;e._SAPDateString=null;e._SAPTimeString=null;e._SAPThousandsSeparator=null;e._SAPDecimalSeparator=null;e._SAPLongDay=null;e._SAPShortDay=null;e._SAPLongMonth=null;e._SAPShortMonth=null;e._AmPms=null;e._singleton=null;sap.common.globalization.numericFormat.FLocalization.prototype.replaceNBSP=function(e){if(e){var t="";var a=160;for(var i=0;i<e.length;++i){if(e.charCodeAt(i)==a){t+=" "}else{t+=e.charAt(i)}}e=t}return e};e.getInstance=function(){if(!e._singleton){e._initStrings();e._initializePvlDateStrings();e._initSAPGlobilizationStrings();e._singleton=new sap.common.globalization.numericFormat.FLocalization;e._singleton.IMSABBREVDAYNAME1=e._shortDayStrings.en[1]}return e._singleton};e.resetInstance=function(){e._resetAllStaticVars();e._initStrings();e._initializePvlDateStrings();e._initSAPGlobilizationStrings();e._singleton=new sap.common.globalization.numericFormat.FLocalization;e._singleton.IMSABBREVDAYNAME1=e._shortDayStrings.en[1]};var t={monthStrings:"_MonthStrings",shortMonthStrings:"_shortMonthStrings",dayStrings:"_DayStrings",shortDayStrings:"_shortDayStrings",dateTimeCodes:"_DateTimeCodes",numericStrings:"_NumericStrings",dateTimeStrings:"_DateTimeStrings",currencySymbol:"_CurrencySymbol",amPms:"_AmPms"};e.prototype._setDisplayLocaleInfo=function(){this.IMDateSeparator=e._DateTimeStrings.en[1];this.IMDayCode=e._DateTimeCodes.en[5];this.IMDecimalSeparator=e._NumericStrings.en[1];this.IMGeneralFormatName="General";this.IMHourCode=e._DateTimeCodes.en[3];this.IMMinuteCode=e._DateTimeCodes.en[1];this.IMMonthCode=e._DateTimeCodes.en[4];this.IMSABBREVDAYNAME1=e._shortDayStrings.en[1];this.IMSABBREVDAYNAME2=e._shortDayStrings.en[2];this.IMSABBREVDAYNAME3=e._shortDayStrings.en[3];this.IMSABBREVDAYNAME4=e._shortDayStrings.en[4];this.IMSABBREVDAYNAME5=e._shortDayStrings.en[5];this.IMSABBREVDAYNAME6=e._shortDayStrings.en[6];this.IMSABBREVDAYNAME7=e._shortDayStrings.en[7];this.IMSABBREVMONTHNAME1=e._shortMonthStrings.en[1];this.IMSABBREVMONTHNAME10=e._shortMonthStrings.en[10];this.IMSABBREVMONTHNAME11=e._shortMonthStrings.en[11];this.IMSABBREVMONTHNAME12=e._shortMonthStrings.en[12];this.IMSABBREVMONTHNAME2=e._shortMonthStrings.en[2];this.IMSABBREVMONTHNAME3=e._shortMonthStrings.en[3];this.IMSABBREVMONTHNAME4=e._shortMonthStrings.en[4];this.IMSABBREVMONTHNAME5=e._shortMonthStrings.en[5];this.IMSABBREVMONTHNAME6=e._shortMonthStrings.en[6];this.IMSABBREVMONTHNAME7=e._shortMonthStrings.en[7];this.IMSABBREVMONTHNAME8=e._shortMonthStrings.en[8];this.IMSABBREVMONTHNAME9=e._shortMonthStrings.en[9];this.IMSDAYNAME1=e._DayStrings.en[1];this.IMSDAYNAME2=e._DayStrings.en[2];this.IMSDAYNAME3=e._DayStrings.en[3];this.IMSDAYNAME4=e._DayStrings.en[4];this.IMSDAYNAME5=e._DayStrings.en[5];this.IMSDAYNAME6=e._DayStrings.en[6];this.IMSDAYNAME7=e._DayStrings.en[7];this.IMSMONTHNAME1=e._MonthStrings.en[1];this.IMSMONTHNAME10=e._MonthStrings.en[10];this.IMSMONTHNAME11=e._MonthStrings.en[11];this.IMSMONTHNAME12=e._MonthStrings.en[12];this.IMSMONTHNAME2=e._MonthStrings.en[2];this.IMSMONTHNAME3=e._MonthStrings.en[3];this.IMSMONTHNAME4=e._MonthStrings.en[4];this.IMSMONTHNAME5=e._MonthStrings.en[5];this.IMSMONTHNAME6=e._MonthStrings.en[6];this.IMSMONTHNAME7=e._MonthStrings.en[7];this.IMSMONTHNAME8=e._MonthStrings.en[8];this.IMSMONTHNAME9=e._MonthStrings.en[9];this.IMSecondCode=e._DateTimeCodes.en[2];this.IMTimeSeparator=e._DateTimeStrings.en[2];this.IMYearCode=e._DateTimeCodes.en[6];this.IMCurrencySymbol=e._CurrencySymbol.en[1];this.SAPDateSeparator=e._SAPDateString;this.SAPTimeSeparator=e._SAPTimeString;this.SAPCurrencySymbol=e._SAPCurrencySymbol;this.SAPDecimalSeparator=e._SAPDecimalSeparator;this.SAPThousandsSeparator=e._SAPThousandsSeparator;this.SAPLongDay=e._SAPLongDay;this.SAPShortDay=e._SAPShortDay;this.SAPLongMonth=e._SAPLongMonth;this.SAPShortMonth=e._SAPShortMonth;this.IMAMTOKEN=e._AmPms.en[1];this.IMPMTOKEN=e._AmPms.en[2];this._IMThousandsSeparator=this.replaceNBSP(e._NumericStrings.en[2])};e.prototype.setCustomizedLocaleInfo=function(a){if(a){var i;for(i in t){if(a.hasOwnProperty(i)){var r=t[i];this._setCustomizedLocaleInfoByType(r,a[i])}}}else{var s=sap.common.globalization.GlobalizationDateConstant;var o=sap.common.globalization.GlobalizationNumericConstant;this._setCustomizedLocaleInfoByType(t.dayStrings,s.getLongDay());this._setCustomizedLocaleInfoByType(t.shortDayStrings,s.getShortDay());this._setCustomizedLocaleInfoByType(t.monthStrings,s.getLongMonth());this._setCustomizedLocaleInfoByType(t.shortMonthStrings,s.getShortMonth());this._setCustomizedLocaleInfoByType(t.amPms,s.getAmPmToken());this._setCustomizedLocaleInfoByType(t.dateTimeStrings,[s.getDateSeparator(),s.getTimeSeparator()]);this._setCustomizedLocaleInfoByType(t.numericStrings,[o.getDisplayDecimalSeparator(),o.getDisplayThousandSeparator()]);this._dateParseLocaleInfo=null;this._dateDisplayLocaleInfo=null;this._numericParseLocaleInfo=null;this._numericDisplayLocaleInfo=null;e._initializePvlDayStrings()}this._setDisplayLocaleInfo()};e.prototype._setCustomizedLocaleInfoByType=function(t,a){if(a&&a.length>0){var i;for(var r=0;r<a.length;r++){i=r+1;e[t]["en"][i]=a[r]}}};e._initStrings=function(){e._DayStrings={en:{1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday",7:"Sunday"}};e._shortDayStrings={en:{1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat",7:"Sun"}};e._MonthStrings={en:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}};e._shortMonthStrings={en:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"}};e._DateTimeCodes={en:{1:"m",2:"s",3:"h",4:"M",5:"D",6:"Y"}};e._NumericStrings={en:{1:".",2:","}};e._DateTimeStrings={en:{1:"/",2:":"}};e._CurrencySymbol={en:{1:"$",2:"$"}};e._AmPms={en:{1:"AM",2:"PM"}}};e._initSAPGlobilizationStrings=function(){var t=sap.common.globalization.NumericFormatManager;var a=t.SAP_PARAMETERS["BICSWS_DECIMAL"];a=a?a:t.SAP_PARAMETERS["SAP_decimal"];var i=t.SAP_PARAMETERS["BICSWS_THOUSANDSEPARATOR"];i=i?i:t.SAP_PARAMETERS["SAP_thousandSeparator"];var r=t.SAP_PARAMETERS["BICSWS_MONTHSLONG"];r=r?r:t.SAP_PARAMETERS["SAP_monthsLong"];var s=t.SAP_PARAMETERS["BICSWS_MONTHSSHORT"];s=s?s:t.SAP_PARAMETERS["SAP_monthsShort"];var o=t.SAP_PARAMETERS["BICSWS_DAYSLONG"];o=o?o:t.SAP_PARAMETERS["SAP_daysLong"];var n=t.SAP_PARAMETERS["BICSWS_DAYSSHORT"];n=n?n:t.SAP_PARAMETERS["SAP_daysShort"];var l=t.SAP_PARAMETERS["BICSWS_DATESEPARATOR"];l=l?l:t.SAP_PARAMETERS["SAP_dateSeparator"];var u=t.SAP_PARAMETERS["BICSWS_TIMESEPARATOR"];u=u?u:t.SAP_PARAMETERS["SAP_timeSeparator"];var d=t.SAP_PARAMETERS["SAP_s_g_n_FLocalization._CurrencySymbol"];var h;if(o){h=o.split(",");e._SAPLongDay=h;e._DayStrings.en[1]=h[0];e._DayStrings.en[2]=h[1];e._DayStrings.en[3]=h[2];e._DayStrings.en[4]=h[3];e._DayStrings.en[5]=h[4];e._DayStrings.en[6]=h[5];e._DayStrings.en[7]=h[6]}if(n){h=n.split(",");e._SAPShortDay=h;e._shortDayStrings.en[1]=h[0];e._shortDayStrings.en[2]=h[1];e._shortDayStrings.en[3]=h[2];e._shortDayStrings.en[4]=h[3];e._shortDayStrings.en[5]=h[4];e._shortDayStrings.en[6]=h[5];e._shortDayStrings.en[7]=h[6]}if(r){h=r.split(",");e._SAPLongMonth=h;e._MonthStrings.en[1]=h[0];e._MonthStrings.en[2]=h[1];e._MonthStrings.en[3]=h[2];e._MonthStrings.en[4]=h[3];e._MonthStrings.en[5]=h[4];e._MonthStrings.en[6]=h[5];e._MonthStrings.en[7]=h[6];e._MonthStrings.en[8]=h[7];e._MonthStrings.en[9]=h[8];e._MonthStrings.en[10]=h[9];e._MonthStrings.en[11]=h[10];e._MonthStrings.en[12]=h[11]}if(s){h=s.split(",");e._SAPShortMonth=h;e._shortMonthStrings.en[1]=h[0];e._shortMonthStrings.en[2]=h[1];e._shortMonthStrings.en[3]=h[2];e._shortMonthStrings.en[4]=h[3];e._shortMonthStrings.en[5]=h[4];e._shortMonthStrings.en[6]=h[5];e._shortMonthStrings.en[7]=h[6];e._shortMonthStrings.en[8]=h[7];e._shortMonthStrings.en[9]=h[8];e._shortMonthStrings.en[10]=h[9];e._shortMonthStrings.en[11]=h[10];e._shortMonthStrings.en[12]=h[11]}if(a){e._SAPDecimalSeparator=a}if(i){e._SAPThousandsSeparator=i}if(l){e._SAPDateString=l}if(u){e._SAPTimeString=u}if(d){e._SAPCurrencySymbol=d}};e.prototype.IMThousandsSeparator=function(e){if(arguments.length>=1){this._IMThousandsSeparator=this.replaceNBSP(e);return this}else{return this._IMThousandsSeparator}};e.prototype.getDateParseLocaleInfo=function(){if(!this._dateParseLocaleInfo){this._dateParseLocaleInfo=new sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl;this._dateParseLocaleInfo.IMDateSeparator(this.IMDateSeparator);this._dateParseLocaleInfo.IMTimeSeparator(this.IMTimeSeparator)}return this._dateParseLocaleInfo};e.prototype.getDateDisplayLocaleInfo=function(){if(!this._dateDisplayLocaleInfo){this._dateDisplayLocaleInfo=new sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl;this._dateDisplayLocaleInfo.IMDateSeparator(this.SAPDateSeparator);this._dateDisplayLocaleInfo.IMSDAYNAME1(this.IMSDAYNAME1);this._dateDisplayLocaleInfo.IMSDAYNAME2(this.IMSDAYNAME2);this._dateDisplayLocaleInfo.IMSDAYNAME3(this.IMSDAYNAME3);this._dateDisplayLocaleInfo.IMSDAYNAME4(this.IMSDAYNAME4);this._dateDisplayLocaleInfo.IMSDAYNAME5(this.IMSDAYNAME5);this._dateDisplayLocaleInfo.IMSDAYNAME6(this.IMSDAYNAME6);this._dateDisplayLocaleInfo.IMSDAYNAME7(this.IMSDAYNAME7);this._dateDisplayLocaleInfo.IMSABBREVDAYNAME1(this.IMSABBREVDAYNAME1);this._dateDisplayLocaleInfo.IMSABBREVDAYNAME2(this.IMSABBREVDAYNAME2);this._dateDisplayLocaleInfo.IMSABBREVDAYNAME3(this.IMSABBREVDAYNAME3);this._dateDisplayLocaleInfo.IMSABBREVDAYNAME4(this.IMSABBREVDAYNAME4);this._dateDisplayLocaleInfo.IMSABBREVDAYNAME5(this.IMSABBREVDAYNAME5);this._dateDisplayLocaleInfo.IMSABBREVDAYNAME6(this.IMSABBREVDAYNAME6);this._dateDisplayLocaleInfo.IMSABBREVDAYNAME7(this.IMSABBREVDAYNAME7);this._dateDisplayLocaleInfo.IMSMONTHNAME1(this.IMSMONTHNAME1);this._dateDisplayLocaleInfo.IMSMONTHNAME2(this.IMSMONTHNAME2);this._dateDisplayLocaleInfo.IMSMONTHNAME3(this.IMSMONTHNAME3);this._dateDisplayLocaleInfo.IMSMONTHNAME4(this.IMSMONTHNAME4);this._dateDisplayLocaleInfo.IMSMONTHNAME5(this.IMSMONTHNAME5);this._dateDisplayLocaleInfo.IMSMONTHNAME6(this.IMSMONTHNAME6);this._dateDisplayLocaleInfo.IMSMONTHNAME7(this.IMSMONTHNAME7);this._dateDisplayLocaleInfo.IMSMONTHNAME8(this.IMSMONTHNAME8);this._dateDisplayLocaleInfo.IMSMONTHNAME9(this.IMSMONTHNAME9);this._dateDisplayLocaleInfo.IMSMONTHNAME10(this.IMSMONTHNAME10);this._dateDisplayLocaleInfo.IMSMONTHNAME11(this.IMSMONTHNAME11);this._dateDisplayLocaleInfo.IMSMONTHNAME12(this.IMSMONTHNAME12);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME1(this.IMSABBREVMONTHNAME1);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME2(this.IMSABBREVMONTHNAME2);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME3(this.IMSABBREVMONTHNAME3);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME4(this.IMSABBREVMONTHNAME4);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME5(this.IMSABBREVMONTHNAME5);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME6(this.IMSABBREVMONTHNAME6);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME7(this.IMSABBREVMONTHNAME7);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME8(this.IMSABBREVMONTHNAME8);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME9(this.IMSABBREVMONTHNAME9);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME10(this.IMSABBREVMONTHNAME10);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME11(this.IMSABBREVMONTHNAME11);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME12(this.IMSABBREVMONTHNAME12);this._dateDisplayLocaleInfo.IMTimeSeparator(this.SAPTimeSeparator);this._dateDisplayLocaleInfo.IMAMTOKEN(this.IMAMTOKEN);this._dateDisplayLocaleInfo.IMPMTOKEN(this.IMPMTOKEN)}return this._dateDisplayLocaleInfo};e.prototype.numericParseLocaleInfo=function(){if(!this._numericParseLocaleInfo){this._numericParseLocaleInfo=new sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl(this._IMThousandsSeparator,this.IMDecimalSeparator,this.IMCurrencySymbol)}return this._numericParseLocaleInfo};e.prototype.numericDisplayLocaleInfo=function(){if(!this._numericDisplayLocaleInfo){var e=this.SAPThousandsSeparator?this.SAPThousandsSeparator:this._IMThousandsSeparator;var t=this.SAPDecimalSeparator?this.SAPDecimalSeparator:this.IMDecimalSeparator;var a=this.SAPCurrencySymbol?this.SAPCurrencySymbol:this.IMCurrencySymbol;this._numericDisplayLocaleInfo=new sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl(e,t,a)}return this._numericDisplayLocaleInfo};e._initializePvlDayStrings=function(){var t=sap.common.globalization.GlobalizationDateConstant.getLongDay();if(t){e._DayStrings.en[1]=t[1];e._DayStrings.en[2]=t[2];e._DayStrings.en[3]=t[3];e._DayStrings.en[4]=t[4];e._DayStrings.en[5]=t[5];e._DayStrings.en[6]=t[6];e._DayStrings.en[7]=t[0]}var a=sap.common.globalization.GlobalizationDateConstant.getShortDay();if(a){e._shortDayStrings.en[1]=a[1];e._shortDayStrings.en[2]=a[2];e._shortDayStrings.en[3]=a[3];e._shortDayStrings.en[4]=a[4];e._shortDayStrings.en[5]=a[5];e._shortDayStrings.en[6]=a[6];e._shortDayStrings.en[7]=a[0]}};e._initializePvlDateStrings=function(){var t=sap.common.globalization.GlobalizationPreference.getInstance().pvl();if(t&&!sap.common.globalization.utils.StringUtil.isBlankString(t)){e._initializePvlDayStrings();var a=sap.common.globalization.GlobalizationDateConstant.getLongMonth();if(a){e._MonthStrings.en[1]=a[0];e._MonthStrings.en[2]=a[1];e._MonthStrings.en[3]=a[2];e._MonthStrings.en[4]=a[3];e._MonthStrings.en[5]=a[4];e._MonthStrings.en[6]=a[5];e._MonthStrings.en[7]=a[6];e._MonthStrings.en[8]=a[7];e._MonthStrings.en[9]=a[8];e._MonthStrings.en[10]=a[9];e._MonthStrings.en[11]=a[10];e._MonthStrings.en[12]=a[11]}var i=sap.common.globalization.GlobalizationDateConstant.getShortMonth();if(i){e._shortMonthStrings.en[1]=i[0];e._shortMonthStrings.en[2]=i[1];e._shortMonthStrings.en[3]=i[2];e._shortMonthStrings.en[4]=i[3];e._shortMonthStrings.en[5]=i[4];e._shortMonthStrings.en[6]=i[5];e._shortMonthStrings.en[7]=i[6];e._shortMonthStrings.en[8]=i[7];e._shortMonthStrings.en[9]=i[8];e._shortMonthStrings.en[10]=i[9];e._shortMonthStrings.en[11]=i[10];e._shortMonthStrings.en[12]=i[11]}var r=sap.common.globalization.GlobalizationDateConstant.getAmPmToken();if(r){e._AmPms.en[1]=r[0];e._AmPms.en[2]=r[1]}}};e._resetAllStaticVars=function(){e._DayStrings=null;e._shortDayStrings=null;e._MonthStrings=null;e._shortMonthStrings=null;e._DateTimeCodes=null;e._NumericStrings=null;e._DateTimeStrings=null;e._CurrencySymbol=null;e._SAPCurrencySymbol=null;e._SAPDateString=null;e._SAPTimeString=null;e._SAPThousandsSeparator=null;e._SAPDecimalSeparator=null;e._SAPLongDay=null;e._SAPShortDay=null;e._SAPLongMonth=null;e._SAPShortMonth=null;e._AmPms=null}})();(function(){sap.common.globalization.declare("sap.common.globalization.utils.BaseUtils");var e=sap.common.globalization.utils.BaseUtils;var t=0;sap.common.globalization.utils.BaseUtils.genUID=function(){if(!t){t=0}return"xgen_"+t++};var a={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"};sap.common.globalization.utils.BaseUtils.applyProperties=function(e,t){if(t!=null){var a=t.length;for(var i=0;i<a;i++){var r=t[i];if(r&&r!=null){this.applyObjectProperty(e,r.name,r.value)}}}};sap.common.globalization.utils.BaseUtils.applyObjectProperty=function(t,a,i){try{if(e.isFunction(t[a])){t[a](i)}else{if(t.hasOwnProperty(a)){t[a]=i}}}catch(e){if(console){console.log(e)}}};sap.common.globalization.utils.BaseUtils.getObjectProperty=function(t,a){try{if(e.isFunction(t[a])){return t[a]()}else{if(t.hasOwnProperty(a)){return t[a]}}}catch(e){if(console){console.log(e)}}};sap.common.globalization.utils.BaseUtils.type=function(e){return e==null?String(e):a[Object.prototype.toString.call(e)]||"object"};sap.common.globalization.utils.BaseUtils.isFunction=function(t){return e.type(t)==="function"};sap.common.globalization.utils.BaseUtils.isBoolean=function(t){return e.type(t)==="boolean"};sap.common.globalization.utils.BaseUtils.isString=function(t){return e.type(t)==="string"};sap.common.globalization.utils.BaseUtils.isArray=function(t){return e.type(t)==="array"};sap.common.globalization.utils.BaseUtils.isNumber=function(t){return e.type(t)==="number"};sap.common.globalization.utils.BaseUtils.isRegExp=function(t){return e.type(t)==="regexp"};sap.common.globalization.utils.BaseUtils.sortArrayOn=function(t,a,i){if(e.isArray(t)&&e.isString(a)){t.sort(function(e,t){return i?(e[a]<t[a])-(e[a]>t[a]):(e[a]>t[a])-(e[a]<t[a])})}}})();(function(){sap.common.globalization.declare("sap.common.globalization.utils.UnitAbbreviations");sap.common.globalization.require("sap.common.globalization.utils.BaseUtils");sap.common.globalization.utils.UnitAbbreviations=function(){this.__className="sap.common.globalization.utils.UnitAbbreviations";this.thousands="K";this.millions="M";this.billions="B";this.trillions="T"};sap.common.globalization.utils.UnitAbbreviations.prototype.toObject=function(){return{thousands:this.thousands,millions:this.millions,billions:this.billions,trillions:this.trillions}};sap.common.globalization.utils.UnitAbbreviations.prototype.copyFromObject=function(e){if(!e){e={thousands:"K",millions:"M",billions:"B",trillions:"T"}}var t=false;for(attr in["thousands","millions","billions","trillions"]){if(sap.common.globalization.utils.BaseUtils.isString(e[attr])&&e[attr]!=this[attr]){this[attr]=e[attr];t=true}}return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.utils.BooleanUtil");sap.common.globalization.require("sap.common.globalization.utils.BaseUtils");sap.common.globalization.utils.BooleanUtil.isBooleanValue=function(e){if(sap.common.globalization.utils.BaseUtils.isBoolean(e)){return true}else{if(sap.common.globalization.utils.BaseUtils.isString(e)){return String(e).toLowerCase()=="true"||String(e).toLowerCase()=="false"}else{return false}}}})();(function(){sap.common.globalization.declare("sap.common.globalization.utils.ColorUtil");sap.common.globalization.require("sap.common.globalization.utils.BaseUtils");sap.common.globalization.utils.ColorUtil.convertToHexString=function(e){if(e==null||!sap.common.globalization.utils.BaseUtils.isNumber(e)||isNaN(e)){return null}var t="#",a=["r","g","b"],i=sap.common.globalization.utils.ColorUtil.convertToRGBObject(e);for(var r=0,s=a.length;r<s;r++){var o=a[r],n=i[o].toString(16);if(n.length==1){t+="0"}t+=n}return t};sap.common.globalization.utils.ColorUtil.convertToRGBObject=function(e){if(e==null||!sap.common.globalization.utils.BaseUtils.isNumber(e)||isNaN(e)){return null}return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255}}})();(function(){sap.common.globalization.declare("sap.common.globalization.utils.DataFormatUtils");sap.common.globalization.require("sap.common.globalization.utils.ColorUtil");sap.common.globalization.utils.DataFormatUtils.decorateColorHTML=function(e,t){if(!isNaN(t)){return'<FONT COLOR="'+sap.common.globalization.utils.ColorUtil.convertToHexString(t)+'"/>'+e+"</FONT>"}return e};sap.common.globalization.utils.DataFormatUtils.DataFormatUtils=function(){throw new Error("Should not initialize DataFormatUtils.")}})();(function(){sap.common.globalization.declare("sap.common.globalization.utils.NumberUtil");sap.common.globalization.require("sap.common.globalization.utils.BaseUtils");sap.common.globalization.require("sap.common.globalization.utils.UnitAbbreviations");sap.common.globalization.require("sap.common.globalization.utils.StringUtil");sap.common.globalization.utils.NumberUtil.checkEquality=function(e,t,a){a=a||-5;if(e==t){return true}var i=Math.pow(10,a-1);var r=e-t;return r<i&&r>-i};sap.common.globalization.utils.NumberUtil.lessThanEqual=function(e,t,a){a=a||-5;return e<t||sap.common.globalization.utils.NumberUtil.checkEquality(e,t,a)};sap.common.globalization.utils.NumberUtil.greaterThanEqual=function(e,t,a){a=a||-5;return e>t||sap.common.globalization.utils.NumberUtil.checkEquality(e,t,a)};sap.common.globalization.utils.NumberUtil.getPrecision=function(e){var t=String(e);var a=t.length;var i=t.indexOf(".");var r=a-(i+1);return r};sap.common.globalization.utils.NumberUtil.roundToPrecision=function(e,t){var a=e.toString(10);var i=a.split(".");var r=i&&i.length>1?i[1].length:0;if(r<=t){return e}var s=Math.pow(10,t);return Math.round(e*s)/s};sap.common.globalization.utils.NumberUtil.roundToNearest=function(e,t,a){t=t||1;a=a||0;return Math.round((e+a)/t)*t-a};sap.common.globalization.utils.NumberUtil.abbreviate=function(e,t,a){var i=1e3;var r=1e6;var s=1e9;var o=1e12;t=t||null;a=a||1;if(!t){t=new sap.common.globalization.utils.UnitAbbreviations}var n="";var l=Math.abs(e);if(l>=o){e/=o;n=t.trillions}else{if(l>=s){e/=s;n=t.billions}else{if(l>=r){e/=r;n=t.millions}else{if(l>=i){e/=i;n=t.thousands}}}}e=sap.common.globalization.utils.NumberUtil.roundToPrecision(e,a);return String(e)+n};sap.common.globalization.utils.NumberUtil.parseNumber=function(e,t){var a=t;if(e!=null){var i=Number(e);if(isNaN(i)==false){a=i}}return a};sap.common.globalization.utils.NumberUtil.isNumericValue=function(e){if(sap.common.globalization.utils.BaseUtils.isNumber(e)&&!isNaN(e)){return true}else{if(sap.common.globalization.utils.BaseUtils.isString(e)){return sap.common.globalization.utils.StringUtil.isNumber(String(e))}else{return false}}}})();(function(){sap.common.globalization.declare("sap.common.globalization.utils.StringUtil");sap.common.globalization.require("sap.common.globalization.utils.BaseUtils");sap.common.globalization.utils.StringUtil.escapeEntities=function(e){if(e){e=e.split("&").join("&amp;");e=e.split("<").join("&lt;");e=e.split(">").join("&gt;");e=e.split('"').join("&quot;");e=e.split("'").join("&apos;")}return e};sap.common.globalization.utils.StringUtil.trim=function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")};sap.common.globalization.utils.StringUtil.isBlankString=function(e){if(e==null||!sap.common.globalization.utils.BaseUtils.isString(e)){return false}return sap.common.globalization.utils.StringUtil.trim(e)===""};sap.common.globalization.utils.StringUtil.isNumber=function(e){if(isNaN(Number(e))){return false}else{if(sap.common.globalization.utils.StringUtil.isBlankString(e)){return false}else{return true}}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.numericFormat.FDate");sap.common.globalization.require("sap.common.globalization.GlobalizationDateConstant");sap.common.globalization.require("sap.common.globalization.GlobalizationPreference");sap.common.globalization.require("sap.common.globalization.numericFormat.FDate");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultDate");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.require("sap.common.globalization.numericFormat.");sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory=function(){this.__className="sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory";this._parseLocaleInfo=null;this._displayLocaleInfo=null};var e=sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory;e.prototype.getDateParseLocaleInfo=function(){if(!this._parseLocaleInfo){this._parseLocaleInfo=this.getPredefinedDateParseLocaleString()}return this._parseLocaleInfo};e.prototype.getDateDisplayLocaleInfo=function(){if(!this._displayLocaleInfo){this._displayLocaleInfo=this.getPredefinedDateDisplayLocaleString();this.applySAPDateTokensAndSeparators(this._displayLocaleInfo)}return this._displayLocaleInfo};e.prototype.getDefaultDateFormat=function(){return sap.common.globalization.GlobalizationDateConstant.getDefaultLongDateFormat()};e.prototype.createFDate=function(){return new sap.common.globalization.numericFormat.FDefaultDate(this.getDateParseLocaleInfo(),this.getDateDisplayLocaleInfo())};e.prototype.getPredefinedDateParseLocaleString=function(){return new sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl};e.prototype.getPredefinedDateDisplayLocaleString=function(){var e=new sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl;var t=sap.common.globalization.GlobalizationDateConstant.getLongDay();if(t){e.IMSDAYNAME1(t[1]);e.IMSDAYNAME2(t[2]);e.IMSDAYNAME3(t[3]);e.IMSDAYNAME4(t[4]);e.IMSDAYNAME5(t[5]);e.IMSDAYNAME6(t[6]);e.IMSDAYNAME7(t[0])}var a=sap.common.globalization.GlobalizationDateConstant.getShortDay();if(a){e.IMSABBREVDAYNAME1(a[1]);e.IMSABBREVDAYNAME2(a[2]);e.IMSABBREVDAYNAME3(a[3]);e.IMSABBREVDAYNAME4(a[4]);e.IMSABBREVDAYNAME5(a[5]);e.IMSABBREVDAYNAME6(a[6]);e.IMSABBREVDAYNAME7(a[0])}var i=sap.common.globalization.GlobalizationDateConstant.getLongMonth();if(i){e.IMSMONTHNAME1(i[0]);e.IMSMONTHNAME2(i[1]);e.IMSMONTHNAME3(i[2]);e.IMSMONTHNAME4(i[3]);e.IMSMONTHNAME5(i[4]);e.IMSMONTHNAME6(i[5]);e.IMSMONTHNAME7(i[6]);e.IMSMONTHNAME8(i[7]);e.IMSMONTHNAME9(i[8]);e.IMSMONTHNAME10(i[9]);e.IMSMONTHNAME11(i[10]);e.IMSMONTHNAME12(i[11])}var r=sap.common.globalization.GlobalizationDateConstant.getShortMonth();if(r){e.IMSABBREVMONTHNAME1(r[0]);e.IMSABBREVMONTHNAME2(r[1]);e.IMSABBREVMONTHNAME3(r[2]);e.IMSABBREVMONTHNAME4(r[3]);e.IMSABBREVMONTHNAME5(r[4]);e.IMSABBREVMONTHNAME6(r[5]);e.IMSABBREVMONTHNAME7(r[6]);e.IMSABBREVMONTHNAME8(r[7]);e.IMSABBREVMONTHNAME9(r[8]);e.IMSABBREVMONTHNAME10(r[9]);e.IMSABBREVMONTHNAME11(r[10]);e.IMSABBREVMONTHNAME12(r[11])}var s=sap.common.globalization.GlobalizationDateConstant.getAbbrevEraString();if(s&&s[1]){e.IMEraToken(s[1])}return e};e.prototype.applySAPDateTokensAndSeparators=function(e){var t=sap.common.globalization.numericFormat.FLocalization.getInstance();if(t.SAPShortDay){e.IMSABBREVDAYNAME1(t.SAPShortDay[0]);e.IMSABBREVDAYNAME2(t.SAPShortDay[1]);e.IMSABBREVDAYNAME3(t.SAPShortDay[2]);e.IMSABBREVDAYNAME4(t.SAPShortDay[3]);e.IMSABBREVDAYNAME5(t.SAPShortDay[4]);e.IMSABBREVDAYNAME6(t.SAPShortDay[5]);e.IMSABBREVDAYNAME7(t.SAPShortDay[6])}if(t.SAPLongDay){e.IMSDAYNAME1(t.SAPLongDay[0]);e.IMSDAYNAME2(t.SAPLongDay[1]);e.IMSDAYNAME3(t.SAPLongDay[2]);e.IMSDAYNAME4(t.SAPLongDay[3]);e.IMSDAYNAME5(t.SAPLongDay[4]);e.IMSDAYNAME6(t.SAPLongDay[5]);e.IMSDAYNAME7(t.SAPLongDay[6])}if(t.SAPShortMonth){e.IMSABBREVMONTHNAME1(t.SAPShortMonth[0]);e.IMSABBREVMONTHNAME2(t.SAPShortMonth[1]);e.IMSABBREVMONTHNAME3(t.SAPShortMonth[2]);e.IMSABBREVMONTHNAME4(t.SAPShortMonth[3]);e.IMSABBREVMONTHNAME5(t.SAPShortMonth[4]);e.IMSABBREVMONTHNAME6(t.SAPShortMonth[5]);e.IMSABBREVMONTHNAME7(t.SAPShortMonth[6]);e.IMSABBREVMONTHNAME8(t.SAPShortMonth[7]);e.IMSABBREVMONTHNAME9(t.SAPShortMonth[8]);e.IMSABBREVMONTHNAME10(t.SAPShortMonth[9]);e.IMSABBREVMONTHNAME11(t.SAPShortMonth[10]);e.IMSABBREVMONTHNAME12(t.SAPShortMonth[11])}if(t.SAPLongMonth){e.IMSMONTHNAME1(t.SAPLongMonth[0]);e.IMSMONTHNAME2(t.SAPLongMonth[1]);e.IMSMONTHNAME3(t.SAPLongMonth[2]);e.IMSMONTHNAME4(t.SAPLongMonth[3]);e.IMSMONTHNAME5(t.SAPLongMonth[4]);e.IMSMONTHNAME6(t.SAPLongMonth[5]);e.IMSMONTHNAME7(t.SAPLongMonth[6]);e.IMSMONTHNAME8(t.SAPLongMonth[7]);e.IMSMONTHNAME9(t.SAPLongMonth[8]);e.IMSMONTHNAME10(t.SAPLongMonth[9]);e.IMSMONTHNAME11(t.SAPLongMonth[10]);e.IMSMONTHNAME12(t.SAPLongMonth[11])}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DefaultDateTimeFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.GlobalizationDateConstant");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");var e=sap.common.globalization.defaultFormat;e.DefaultDateTimeFormatLocaleFactory=function(){e.DefaultDateTimeFormatLocaleFactory.superclass.constructor.apply(this);this.__className="sap.common.globalization.defaultFormat.DefaultDateTimeFormatLocaleFactory"};e.DefaultDateTimeFormatLocaleFactory=sap.common.globalization.extend(e.DefaultDateTimeFormatLocaleFactory,e.DefaultDateFormatLocaleFactory);e.DefaultDateTimeFormatLocaleFactory.prototype.getDefaultDateFormat=function(){return sap.common.globalization.GlobalizationDateConstant.getDefaultDateTimeFormat()};e.DefaultDateTimeFormatLocaleFactory.prototype.applySAPDateTokensAndSeparators=function(t){e.DefaultDateTimeFormatLocaleFactory.superclass.applySAPDateTokensAndSeparators(t);var a=sap.common.globalization.numericFormat.FLocalization.getInstance();if(t&&a&&a.SAPTimeSeparator){t.IMTimeSeparator(a.SAPTimeSeparator)}};e.DefaultDateTimeFormatLocaleFactory.prototype.getPredefinedDateParseLocaleString=function(){var t=e.DefaultDateTimeFormatLocaleFactory.superclass.getPredefinedDateParseLocaleString();var a=sap.common.globalization.GlobalizationDateConstant.getTimeSeparator();if(a&&t){t.IMTimeSeparator(a)}return t};e.DefaultDateTimeFormatLocaleFactory.prototype.getPredefinedDateDisplayLocaleString=function(){var t=e.DefaultDateTimeFormatLocaleFactory.superclass.getPredefinedDateDisplayLocaleString();var a=sap.common.globalization.GlobalizationDateConstant.getTimeSeparator();if(a&&t){t.IMTimeSeparator(a)}var i=sap.common.globalization.GlobalizationDateConstant.getAmPmToken();if(i&&t){t.IMAMTOKEN(i[0]);t.IMPMTOKEN(i[1])}return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DefaultShortDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.GlobalizationDateConstant");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");var e=sap.common.globalization.defaultFormat;e.DefaultShortDateFormatLocaleFactory=function(){e.DefaultShortDateFormatLocaleFactory.superclass.constructor.apply(this);this.__className="sap.common.globalization.defaultFormat.DefaultShortDateFormatLocaleFactory"};e.DefaultShortDateFormatLocaleFactory=sap.common.globalization.extend(e.DefaultShortDateFormatLocaleFactory,e.DefaultDateFormatLocaleFactory);e.DefaultShortDateFormatLocaleFactory.prototype.getDefaultDateFormat=function(){return sap.common.globalization.GlobalizationDateConstant.getDefaultShorDateFormat()};e.DefaultShortDateFormatLocaleFactory.prototype.applySAPDateTokensAndSeparators=function(t){e.DefaultShortDateFormatLocaleFactory.superclass.applySAPDateTokensAndSeparators(t);var a=sap.common.globalization.numericFormat.FLocalization.getInstance();if(t&&a&&a.SAPDateSeparator){t.IMDateSeparator(a.SAPDateSeparator)}};e.DefaultShortDateFormatLocaleFactory.prototype.getPredefinedDateParseLocaleString=function(){var t=e.DefaultShortDateFormatLocaleFactory.superclass.getPredefinedDateParseLocaleString();var a=sap.common.globalization.GlobalizationDateConstant.getDateSeparator();if(a&&t){t.IMDateSeparator(a)}return t};e.DefaultShortDateFormatLocaleFactory.prototype.getPredefinedDateDisplayLocaleString=function(){var t=e.DefaultShortDateFormatLocaleFactory.superclass.getPredefinedDateDisplayLocaleString();var a=sap.common.globalization.GlobalizationDateConstant.getDateSeparator();if(a&&t){t.IMDateSeparator(a)}return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo");sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo=function(){this.__className="sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo";this._trueString="";this._falseString=""};sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo.prototype.trueString=function(e){if(arguments.length>=1){this._trueString=e;return this}else{return this._trueString}};sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo.prototype.falseString=function(e){if(arguments.length>=1){this._falseString=e;return this}else{return this._falseString}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.CustomDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.GlobalizationPreference");sap.common.globalization.require("sap.common.globalization.GlobalizationDateConstant");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateForPVL");sap.common.globalization.require("sap.common.globalization.numericFormat.FDate");sap.common.globalization.require("sap.common.globalization.utils.StringUtil");var e=sap.common.globalization.defaultFormat;e.CustomDateFormatLocaleFactory=function(){this.__className="sap.common.globalization.defaultFormat.CustomDateFormatLocaleFactory";this._dateParseLocaleInfo=null;this._dateDisplayLocaleInfo=null};e.CustomDateFormatLocaleFactory._instance=null;e.CustomDateFormatLocaleFactory.getInstance=function(){if(!e.CustomDateFormatLocaleFactory._instance){e.CustomDateFormatLocaleFactory._instance=new e.CustomDateFormatLocaleFactory}return e.CustomDateFormatLocaleFactory._instance};e.CustomDateFormatLocaleFactory.prototype.getDateParseLocaleInfo=function(){return sap.common.globalization.numericFormat.FLocalization.getInstance().getDateParseLocaleInfo()};e.CustomDateFormatLocaleFactory.prototype.getDateDisplayLocaleInfo=function(){return sap.common.globalization.numericFormat.FLocalization.getInstance().getDateDisplayLocaleInfo()};e.CustomDateFormatLocaleFactory.prototype.createFDate=function(){var e=sap.common.globalization.GlobalizationPreference.getInstance().pvl()&&!sap.common.globalization.utils.StringUtil.isBlankString(sap.common.globalization.GlobalizationPreference.getInstance().pvl());if(e){return new sap.common.globalization.numericFormat.FDateForPVL(this.getDateParseLocaleInfo(),this.getDateDisplayLocaleInfo())}else{return new sap.common.globalization.numericFormat.FDate(null,this.getDateDisplayLocaleInfo())}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.require("sap.common.globalization.numericFormat.FNumber");sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory=function(){this.__className="sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory"};var e=sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory;e._instance=null;e.getInstance=function(){if(!e._instance){e._instance=new sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory}return e._instance};e.prototype.getNumericParseLocaleInfo=function(){return sap.common.globalization.numericFormat.FLocalization.getInstance().numericParseLocaleInfo()};e.prototype.getNumericDisplayLocaleInfo=function(){return sap.common.globalization.numericFormat.FLocalization.getInstance().numericDisplayLocaleInfo()};e.prototype.createFNumber=function(){return new sap.common.globalization.numericFormat.FNumber(this.getNumericParseLocaleInfo(),this.getNumericDisplayLocaleInfo())}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl");sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl=function(){this.__className="sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl";this._IMDateSeparator=null;this._IMSMONTHNAME1=null;this._IMSMONTHNAME2=null;this._IMSMONTHNAME3=null;this._IMSMONTHNAME4=null;this._IMSMONTHNAME5=null;this._IMSMONTHNAME6=null;this._IMSMONTHNAME7=null;this._IMSMONTHNAME8=null;this._IMSMONTHNAME9=null;this._IMSMONTHNAME10=null;this._IMSMONTHNAME11=null;this._IMSMONTHNAME12=null;this._IMSABBREVMONTHNAME1=null;this._IMSABBREVMONTHNAME2=null;this._IMSABBREVMONTHNAME3=null;this._IMSABBREVMONTHNAME4=null;this._IMSABBREVMONTHNAME5=null;this._IMSABBREVMONTHNAME6=null;this._IMSABBREVMONTHNAME7=null;this._IMSABBREVMONTHNAME8=null;this._IMSABBREVMONTHNAME9=null;this._IMSABBREVMONTHNAME10=null;this._IMSABBREVMONTHNAME11=null;this._IMSABBREVMONTHNAME12=null;this._IMSDAYNAME1=null;this._IMSDAYNAME2=null;this._IMSDAYNAME3=null;this._IMSDAYNAME4=null;this._IMSDAYNAME5=null;this._IMSDAYNAME6=null;this._IMSDAYNAME7=null;this._IMSABBREVDAYNAME1=null;this._IMSABBREVDAYNAME2=null;this._IMSABBREVDAYNAME3=null;this._IMSABBREVDAYNAME4=null;this._IMSABBREVDAYNAME5=null;this._IMSABBREVDAYNAME6=null;this._IMSABBREVDAYNAME7=null;this._IMTimeSeparator=null;this._IMAMToken=null;this._IMPMToken=null;this._IMEraToken=null};var e=sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl;e.prototype.IMDateSeparator=function(e){if(arguments.length>=1){this._IMDateSeparator=e}else{return this._IMDateSeparator}};e.prototype.IMSMONTHNAME1=function(e){if(arguments.length>=1){this._IMSMONTHNAME1=e}else{return this._IMSMONTHNAME1}};e.prototype.IMSMONTHNAME2=function(e){if(arguments.length>=1){this._IMSMONTHNAME2=e}else{return this._IMSMONTHNAME2}};e.prototype.IMSMONTHNAME3=function(e){if(arguments.length>=1){this._IMSMONTHNAME3=e}else{return this._IMSMONTHNAME3}};e.prototype.IMSMONTHNAME4=function(e){if(arguments.length>=1){this._IMSMONTHNAME4=e}else{return this._IMSMONTHNAME4}};e.prototype.IMSMONTHNAME5=function(e){if(arguments.length>=1){this._IMSMONTHNAME5=e}else{return this._IMSMONTHNAME5}};e.prototype.IMSMONTHNAME6=function(e){if(arguments.length>=1){this._IMSMONTHNAME6=e}else{return this._IMSMONTHNAME6}};e.prototype.IMSMONTHNAME7=function(e){if(arguments.length>=1){this._IMSMONTHNAME7=e}else{return this._IMSMONTHNAME7}};e.prototype.IMSMONTHNAME8=function(e){if(arguments.length>=1){this._IMSMONTHNAME8=e}else{return this._IMSMONTHNAME8}};e.prototype.IMSMONTHNAME9=function(e){if(arguments.length>=1){this._IMSMONTHNAME9=e}else{return this._IMSMONTHNAME9}};e.prototype.IMSMONTHNAME10=function(e){if(arguments.length>=1){this._IMSMONTHNAME10=e}else{return this._IMSMONTHNAME10}};e.prototype.IMSMONTHNAME11=function(e){if(arguments.length>=1){this._IMSMONTHNAME11=e}else{return this._IMSMONTHNAME11}};e.prototype.IMSMONTHNAME12=function(e){if(arguments.length>=1){this._IMSMONTHNAME12=e}else{return this._IMSMONTHNAME12}};e.prototype.IMSABBREVMONTHNAME1=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME1=e}else{return this._IMSABBREVMONTHNAME1}};e.prototype.IMSABBREVMONTHNAME2=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME2=e}else{return this._IMSABBREVMONTHNAME2}};e.prototype.IMSABBREVMONTHNAME3=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME3=e}else{return this._IMSABBREVMONTHNAME3}};e.prototype.IMSABBREVMONTHNAME4=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME4=e}else{return this._IMSABBREVMONTHNAME4}};e.prototype.IMSABBREVMONTHNAME5=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME5=e}else{return this._IMSABBREVMONTHNAME5}};e.prototype.IMSABBREVMONTHNAME6=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME6=e}else{return this._IMSABBREVMONTHNAME6}};e.prototype.IMSABBREVMONTHNAME7=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME7=e}else{return this._IMSABBREVMONTHNAME7}};e.prototype.IMSABBREVMONTHNAME8=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME8=e}else{return this._IMSABBREVMONTHNAME8}};e.prototype.IMSABBREVMONTHNAME9=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME9=e}else{return this._IMSABBREVMONTHNAME9}};e.prototype.IMSABBREVMONTHNAME10=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME10=e}else{return this._IMSABBREVMONTHNAME10}};e.prototype.IMSABBREVMONTHNAME11=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME11=e}else{return this._IMSABBREVMONTHNAME11}};e.prototype.IMSABBREVMONTHNAME12=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME12=e}else{return this._IMSABBREVMONTHNAME12}};e.prototype.IMSDAYNAME1=function(e){if(arguments.length>=1){this._IMSDAYNAME1=e}else{return this._IMSDAYNAME1}};e.prototype.IMSDAYNAME2=function(e){if(arguments.length>=1){this._IMSDAYNAME2=e}else{return this._IMSDAYNAME2}};e.prototype.IMSDAYNAME3=function(e){if(arguments.length>=1){this._IMSDAYNAME3=e}else{return this._IMSDAYNAME3}};e.prototype.IMSDAYNAME4=function(e){if(arguments.length>=1){this._IMSDAYNAME4=e}else{return this._IMSDAYNAME4}};e.prototype.IMSDAYNAME5=function(e){if(arguments.length>=1){this._IMSDAYNAME5=e}else{return this._IMSDAYNAME5}};e.prototype.IMSDAYNAME6=function(e){if(arguments.length>=1){this._IMSDAYNAME6=e}else{return this._IMSDAYNAME6}};e.prototype.IMSDAYNAME7=function(e){if(arguments.length>=1){this._IMSDAYNAME7=e}else{return this._IMSDAYNAME7}};e.prototype.IMSABBREVDAYNAME1=function(e){if(arguments.length>=1){this._IMSABBREVDAYNAME1=e}else{return this._IMSABBREVDAYNAME1}};e.prototype.IMSABBREVDAYNAME2=function(e){if(arguments.length>=1){this._IMSABBREVDAYNAME2=e}else{return this._IMSABBREVDAYNAME2}};e.prototype.IMSABBREVDAYNAME3=function(e){if(arguments.length>=1){this._IMSABBREVDAYNAME3=e}else{return this._IMSABBREVDAYNAME3}};e.prototype.IMSABBREVDAYNAME4=function(e){if(arguments.length>=1){this._IMSABBREVDAYNAME4=e}else{return this._IMSABBREVDAYNAME4}};e.prototype.IMSABBREVDAYNAME5=function(e){if(arguments.length>=1){this._IMSABBREVDAYNAME5=e}else{return this._IMSABBREVDAYNAME5}};e.prototype.IMSABBREVDAYNAME6=function(e){if(arguments.length>=1){this._IMSABBREVDAYNAME6=e}else{return this._IMSABBREVDAYNAME6}};e.prototype.IMSABBREVDAYNAME7=function(e){if(arguments.length>=1){this._IMSABBREVDAYNAME7=e}else{return this._IMSABBREVDAYNAME7}};e.prototype.IMTimeSeparator=function(e){if(arguments.length>=1){this._IMTimeSeparator=e}else{return this._IMTimeSeparator}};e.prototype.IMAMTOKEN=function(e){if(arguments.length>=1){this._IMAMToken=e}else{return this._IMAMToken}};e.prototype.IMPMTOKEN=function(e){if(arguments.length>=1){this._IMPMToken=e}else{return this._IMPMToken}};e.prototype.IMEraToken=function(e){if(arguments.length>=1){this._IMEraToken=e}else{return this._IMEraToken}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl");sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl=function(){this.__className="sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl";this._IMDateSeparator=null;this._IMTimeSeparator=null};sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl.prototype.IMDateSeparator=function(e){if(arguments.length>=1){this._IMDateSeparator=e}else{return this._IMDateSeparator}};sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl.prototype.IMTimeSeparator=function(e){if(arguments.length>=1){this._IMTimeSeparator=e}else{return this._IMTimeSeparator}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DefaultBooleanFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo");sap.common.globalization.require("sap.common.globalization.GlobalizationBooleanConstant");sap.common.globalization.require("sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo");sap.common.globalization.defaultFormat.DefaultBooleanFormatLocaleFactory=function(){this.className="sap.common.globalization.defaultFormat.DefaultBooleanFormatLocaleFactory";this._displayLocale=null};var e=sap.common.globalization.defaultFormat.DefaultBooleanFormatLocaleFactory;e._instance=null;e.getInstance=function(){if(!e._instance){e._instance=new sap.common.globalization.defaultFormat.DefaultBooleanFormatLocaleFactory}return e._instance};e.prototype.getBooleanDisplayLocaleInfo=function(){if(!this._displayLocale){this._displayLocale=new sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo;var e=sap.common.globalization.GlobalizationBooleanConstant.getBooleanStrings();if(e){this._displayLocale.trueString(e[0]);this._displayLocale.falseString(e[1])}}return this._displayLocale}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DefaultNumericFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.GlobalizationNumericConstant");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.require("sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultNumber");sap.common.globalization.require("sap.common.globalization.GlobalizationNumericUtil");sap.common.globalization.require("sap.common.globalization.GlobalizationNumericConstant");sap.common.globalization.require("sap.common.globalization.numericFormat.TwoDigitGroupingStrategy");var e="SAP_DEFAULT_NUMBER_FORMAT";sap.common.globalization.defaultFormat.DefaultNumericFormatLocaleFactory=function(e){this.__className="sap.common.globalization.defaultFormat.DefaultNumericFormatLocaleFactory.DefaultNumericFormatLocaleFactory";this._numericParseLocaleInfo=null;this._numericDisplayLocaleInfo=null;this._decimalPattern=null;if(t.isDefaultNumberFormat(e)){this._parseDecimalPattern(e)}};var t=sap.common.globalization.defaultFormat.DefaultNumericFormatLocaleFactory;t.REG_DEFAULT_NUMBER_FORMAT=new RegExp("^"+e+"(;.*)?$","i");t.isDefaultNumberFormat=function(e){return t.REG_DEFAULT_NUMBER_FORMAT.test(e)};t.prototype.getNumericParseLocaleInfo=function(){var e=sap.common.globalization;if(!this._numericParseLocaleInfo){this._numericParseLocaleInfo=new e.defaultFormat.NumericParseLocaleInfoImpl(e.GlobalizationNumericConstant.getParseThousandSeparator(),e.GlobalizationNumericConstant.getParseDecimalSeparator(),e.GlobalizationNumericConstant.getParseCurrencySymbol())}return this._numericParseLocaleInfo};t.prototype.getNumericDisplayLocaleInfo=function(){if(!this._numericDisplayLocaleInfo){var e=",";var t=".";var a=sap.common.globalization;if(a.numericFormat.FLocalization.getInstance().SAPThousandsSeparator){e=a.numericFormat.FLocalization.getInstance().SAPThousandsSeparator}else{if(a.GlobalizationNumericConstant.getDisplayThousandSeparator()){e=a.GlobalizationNumericConstant.getDisplayThousandSeparator()}}if(a.numericFormat.FLocalization.getInstance().SAPDecimalSeparator){t=a.numericFormat.FLocalization.getInstance().SAPDecimalSeparator}else{if(a.GlobalizationNumericConstant.getDisplayDecimalSeparator()){t=a.GlobalizationNumericConstant.getDisplayDecimalSeparator()}}var i=a.numericFormat.FLocalization.getInstance().SAPCurrencySymbol?a.numericFormat.FLocalization.getInstance().SAPCurrencySymbol:this.displayCurrencySymbol();this._numericDisplayLocaleInfo=new a.defaultFormat.NumericDisplayLocaleInfoImpl(e,t,i)}return this._numericDisplayLocaleInfo};t.prototype.createFNumber=function(){var e=new sap.common.globalization.numericFormat.FDefaultNumber(this.getNumericParseLocaleInfo(),this.getNumericDisplayLocaleInfo());if(sap.common.globalization.GlobalizationNumericUtil.isTwoDigitGroupingCountry(sap.common.globalization.GlobalizationNumericConstant.getActualLocaleForDefaultNumberFormat())){e.groupingStrategy(sap.common.globalization.numericFormat.TwoDigitGroupingStrategy.instance())}return e};t.prototype.getDefaultNumericFormat=function(){var e=this._getDefaultNumericFormat();if(this._decimalPattern){e=e.replace(/.###/g,this._decimalPattern)}return e};t.prototype._getDefaultNumericFormat=function(){if(sap.common.globalization.GlobalizationNumericConstant.getDefaultNumberFormat()){return sap.common.globalization.GlobalizationNumericConstant.getDefaultNumberFormat()}return"#,##0.###"};t.prototype.displayCurrencySymbol=function(){return""};t.prototype._parseDecimalPattern=function(e){var t=e.match(/;\..*/);if(t){t=t[0].split(";")[1];if(/^\.#*$/.test(t)){this._decimalPattern=t}}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DefaultTimeFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.GlobalizationDateConstant");sap.common.globalization.require("sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");var e=sap.common.globalization.defaultFormat;e.DefaultTimeFormatLocaleFactory=function(){e.DefaultTimeFormatLocaleFactory.superclass.constructor.apply(this);this.__className="sap.common.globalization.defaultFormat.DefaultTimeFormatLocaleFactory"};e.DefaultTimeFormatLocaleFactory=sap.common.globalization.extend(e.DefaultTimeFormatLocaleFactory,e.DefaultDateFormatLocaleFactory);e.DefaultTimeFormatLocaleFactory.prototype.getDefaultDateFormat=function(){return sap.common.globalization.GlobalizationDateConstant.getDefaultTimeFormat()};e.DefaultTimeFormatLocaleFactory.prototype.applySAPDateTokensAndSeparators=function(e){var t=sap.common.globalization.numericFormat.FLocalization.getInstance();if(e&&t&&t.SAPTimeSeparator){e.IMTimeSeparator(t.SAPTimeSeparator)}};e.DefaultTimeFormatLocaleFactory.prototype.getPredefinedDateParseLocaleString=function(){var e=new sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl;var t=sap.common.globalization.GlobalizationDateConstant.getTimeSeparator();if(t&&e){e.IMTimeSeparator(t)}return e};e.DefaultTimeFormatLocaleFactory.prototype.getPredefinedDateDisplayLocaleString=function(){var e=new sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl;var t=sap.common.globalization.GlobalizationDateConstant.getTimeSeparator();if(t&&e){e.IMTimeSeparator(t)}var a=sap.common.globalization.GlobalizationDateConstant.getAmPmToken();if(a&&e){e.IMAMTOKEN(a[0]);e.IMPMTOKEN(a[1])}return e}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl");sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl=function(e,t,a){if(e){this._thousandsSeparator=e}else{this._thousandsSeparator=","}if(t){this._decimalSeparator=t}else{this._decimalSeparator="."}if(a){this._currencySymbol=a}else{this._currencySymbol=""}};sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl.prototype.thousandsSeparator=function(){return this._thousandsSeparator};sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl.prototype.decimalSeparator=function(){return this._decimalSeparator};sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl.prototype.currencySymbol=function(){return this._currencySymbol}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl");sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl=function(e,t,a){if(e){this._thousandsSeparator=e}else{this._thousandsSeparator=","}if(t){this._decimalSeparator=t}else{this._decimalSeparator="."}if(a){this._currencySymbol=a}else{this._currencySymbol=""}};sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl.prototype.thousandsSeparator=function(){return this._thousandsSeparator};sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl.prototype.decimalSeparator=function(){return this._decimalSeparator};sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl.prototype.currencySymbol=function(){return this._currencySymbol}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateA");var e=sap.common.globalization.numericFormat;e.FDateA=function(e){this.__className="sap.common.globalization.numericFormat.FDateA";this._full=true;this._displayLocale=e};e.FDateA.prototype.parse=function(e,t){var a=0;var i=t.toLowerCase();if(i.substr(0,5)=="am/pm"){e.miltime=false;a=5}if(i.substr(0,3)=="a/p"){e.miltime=false;this._full=false;a=3}return a};e.FDateA.prototype.display=function(e){var t="";if(e.getHrs()>=12){if(this._full){t=this._displayLocale.IMPMTOKEN()?this._displayLocale.IMPMTOKEN():"PM"}else{t=this._displayLocale.IMPMTOKEN()?this._displayLocale.IMPMTOKEN():"P"}}else{if(this._full){t=this._displayLocale.IMAMTOKEN()?this._displayLocale.IMAMTOKEN():"AM"}else{t=this._displayLocale.IMAMTOKEN()?this._displayLocale.IMAMTOKEN():"A"}}return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateB");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateM");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateH");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateS");var e=sap.common.globalization.numericFormat;e.FDateB=function(e){this.__className="sap.common.globalization.numericFormat.FDateB";this._displayLocaleInfo=e;this.mask=undefined;this.c="";this._tok={};this.initializeTokenMap()};e.FDateB.prototype.parse=function(e,t){var a=2;this.c=t.charAt(1);var i=this.createTokenFormatter(this._tok[this.c]);if(this.c=="M"||this.c=="m"){i.bminute=true}var r=i.parse(e,t.substring(1));if(r>0){this.mask=i;a+=r}return a};e.FDateB.prototype.display=function(e){var t;if(this.c=="S"||this.c=="s"){t=86400*e.serial}else{if(this.c=="M"||this.c=="m"){t=1440*e.serial}else{if(this.c=="H"||this.c=="h"){t=24*e.serial}}}this.mask.value=Math.floor(t);return this.mask.display(e)};e.FDateB.prototype.createTokenFormatter=function(t){var a=null;switch(t){case e.FDateM:a=new e.FDateM(this._displayLocaleInfo);break;case e.FDateH:a=new e.FDateH;break;case e.FDateS:a=new e.FDateS;break;default:}return a};e.FDateB.prototype.initializeTokenMap=function(){this._tok.M=e.FDateM;this._tok.H=e.FDateH;this._tok.S=e.FDateS;this._tok.m=e.FDateM;this._tok.h=e.FDateH;this._tok.s=e.FDateS}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateD");var e=sap.common.globalization.numericFormat;e.FDateD=function(e){this.__className="sap.common.globalization.numericFormat.FDateD";this._placeholders=0;this._displayLocaleInfo=e};e.FDateD.prototype.getPlaceholders=function(){return this._placeholders};e.FDateD.prototype.parse=function(e,t){var a=0;while(t.charAt(a)=="D"||t.charAt(a)=="d"){a++}if(a<=2){this._placeholders=a}else{if(a==3){this._placeholders=-1}else{if(a>=4){this._placeholders=-2}}}return a};e.FDateD.prototype.display=function(e){var t="";if(this._placeholders>=0){t+=e.getDate();while(t.length<this._placeholders){t="0"+t}}else{var a=e.getDay();if(this._placeholders==-1){t+=this.getShortDay(a)}else{t+=this.getDay(a)}}return t};e.FDateD.prototype.getDay=function(e){if(e==0){return this._displayLocaleInfo.IMSDAYNAME7()}if(e==1){return this._displayLocaleInfo.IMSDAYNAME1()}if(e==2){return this._displayLocaleInfo.IMSDAYNAME2()}if(e==3){return this._displayLocaleInfo.IMSDAYNAME3()}if(e==4){return this._displayLocaleInfo.IMSDAYNAME4()}if(e==5){return this._displayLocaleInfo.IMSDAYNAME5()}if(e==6||e==-1){return this._displayLocaleInfo.IMSDAYNAME6()}return this._displayLocaleInfo.IMSDAYNAME6()};e.FDateD.prototype.getShortDay=function(e){if(e==0){return this._displayLocaleInfo.IMSABBREVDAYNAME7().split(".")[0]}if(e==1){return this._displayLocaleInfo.IMSABBREVDAYNAME1().split(".")[0]}if(e==2){return this._displayLocaleInfo.IMSABBREVDAYNAME2().split(".")[0]}if(e==3){return this._displayLocaleInfo.IMSABBREVDAYNAME3().split(".")[0]}if(e==4){return this._displayLocaleInfo.IMSABBREVDAYNAME4().split(".")[0]}if(e==5){return this._displayLocaleInfo.IMSABBREVDAYNAME5().split(".")[0]}if(e==6||e==-1){return this._displayLocaleInfo.IMSABBREVDAYNAME6().split(".")[0]}return this._displayLocaleInfo.IMSABBREVDAYNAME6().split(".")[0]}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateH");var e=sap.common.globalization.numericFormat;e.FDateH=function(){this.__className="sap.common.globalization.numericFormat.FDateH";this.placeholders=1;this.number=0;this.value=NaN};sap.common.globalization.numericFormat.FDateH.prototype.parse=function(e,t){var a=0;this.number=e.HNum+1;e.HBool=true;e.HNum=this.number;while(t.charAt(a)=="H"||t.charAt(a)=="h"){a++}if(a>1){this.placeholders=2}return a};e.FDateH.prototype.display=function(e){var t;if(isNaN(this.value)){t=e.getHrs()}else{t=this.value}if(!e.miltime){if(this.number==e.HNum){if(t>11){t=t-12}if(t==0){t=12}}}var a=""+t;while(this.placeholders>a.length){a="0"+a}return a}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateM");var e=sap.common.globalization.numericFormat;e.FDateM=function(e){this.__className="sap.common.globalization.numericFormat.FDateM";this.bminute=false;this.placeholders=0;this.value=undefined;this._displayLocaleInfo=e};e.FDateM.prototype.parse=function(e,t){var a=0;while(t.charAt(a)=="M"||t.charAt(a)=="m"){a++}if(a<=2){if(e.HBool){this.bminute=true}e.HBool=false;this.placeholders=a}else{if(a==3){this.placeholders=-1}else{if(a==4){this.placeholders=-2}else{if(a==5){this.placeholders=-3}}}}return a};e.FDateM.prototype.display=function(e){var t="";if(this.placeholders>=0&&this.bminute){if(this.value==undefined){t+=e.getMin()}else{t+=this.value}while(t.length<this.placeholders){t="0"+t}}else{var a=e.getMonth();if(this.placeholders>=0){a++;t+=a;while(t.length<this.placeholders){t="0"+t}}else{var i=new Array(this._displayLocaleInfo.IMSMONTHNAME1(),this._displayLocaleInfo.IMSMONTHNAME2(),this._displayLocaleInfo.IMSMONTHNAME3(),this._displayLocaleInfo.IMSMONTHNAME4(),this._displayLocaleInfo.IMSMONTHNAME5(),this._displayLocaleInfo.IMSMONTHNAME6(),this._displayLocaleInfo.IMSMONTHNAME7(),this._displayLocaleInfo.IMSMONTHNAME8(),this._displayLocaleInfo.IMSMONTHNAME9(),this._displayLocaleInfo.IMSMONTHNAME10(),this._displayLocaleInfo.IMSMONTHNAME11(),this._displayLocaleInfo.IMSMONTHNAME12());var r=new Array(this._displayLocaleInfo.IMSABBREVMONTHNAME1(),this._displayLocaleInfo.IMSABBREVMONTHNAME2(),this._displayLocaleInfo.IMSABBREVMONTHNAME3(),this._displayLocaleInfo.IMSABBREVMONTHNAME4(),this._displayLocaleInfo.IMSABBREVMONTHNAME5(),this._displayLocaleInfo.IMSABBREVMONTHNAME6(),this._displayLocaleInfo.IMSABBREVMONTHNAME7(),this._displayLocaleInfo.IMSABBREVMONTHNAME8(),this._displayLocaleInfo.IMSABBREVMONTHNAME9(),this._displayLocaleInfo.IMSABBREVMONTHNAME10(),this._displayLocaleInfo.IMSABBREVMONTHNAME11(),this._displayLocaleInfo.IMSABBREVMONTHNAME12());if(this.placeholders==-1){t+=r[a]}else{if(this.placeholders==-3){t+=i[a].substring(0,1)}else{t+=i[a]}}}}return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateS");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.numericFormat.FDateS=function(){this.__className="sap.common.globalization.numericFormat.FDateS";this.splaceholders=1;this.msplaceholders=0;this.value=undefined;this.IMDecimalSeparator=sap.common.globalization.numericFormat.FLocalization.getInstance().IMDecimalSeparator;this.ms=NaN};sap.common.globalization.numericFormat.FDateS.prototype.parse=function(e,t){var a=0;var i=e.mask;var r=i.length;for(var s=r-1;s>=0;s--){if(i[s].__className=="sap.common.globalization.numericFormat.FDateM"){i[s].bminute=true;break}}while(t.charAt(a)=="S"||t.charAt(a)=="s"){a++}if(a>1){this.splaceholders=2}if(t.charAt(a)==this.IMDecimalSeparator.charAt(0)&&t.charAt(a+1)=="0"){a++;while(t.charAt(a)=="0"){a++;this.msplaceholders++}if(this.msplaceholders>e.ms){e.ms=this.msplaceholders}}return a};sap.common.globalization.numericFormat.FDateS.prototype.display=function(e){var t;if(this.value==undefined){t=""+e.getSec()}else{t=""+this.value}while(this.splaceholders>t.length){t="0"+t}if(this.msplaceholders>0){var a=e.getMS()/Math.pow(10,3-this.msplaceholders);if(this.msplaceholders<this.ms){a=Math.floor(a)}else{a=Math.round(a)}var i=""+a;while(i.length<this.msplaceholders){i="0"+i}t+=this.IMDecimalSeparator+i}return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateSep");sap.common.globalization.numericFormat.FDateSep=function(e,t){this.__className="sap.common.globalization.numericFormat.FDateSep";this._parseLocalInfo=e;this._displayLocaleInfo=t};sap.common.globalization.numericFormat.FDateSep.prototype.parse=function(e,t){var a=t.charAt(0);if(this._displayLocaleInfo.IMDateSeparator()!=null&&(a=="."||a=="/"||a=="-")){return 1}else{return 0}};sap.common.globalization.numericFormat.FDateSep.prototype.display=function(e){var t=this._displayLocaleInfo.IMDateSeparator();return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateY");sap.common.globalization.numericFormat.FDateY=function(){this.__className="sap.common.globalization.numericFormat.FDateY";this.placeholders=2};sap.common.globalization.numericFormat.FDateY.prototype.parse=function(e,t){var a=0;while(t.charAt(a)=="Y"||t.charAt(a)=="y"){a++}if(a>2){this.placeholders=4}return a};sap.common.globalization.numericFormat.FDateY.prototype.display=function(e){var t=""+e.getYear();if(this.placeholders<4){t=t.substring(2)}return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FText");sap.common.globalization.numericFormat.FText=function(){this.__className="sap.common.globalization.numericFormat.FText";this.color=NaN;this.format="";this.condnum=0;this.cond={};this.numAts=0;this.mask=new Array};sap.common.globalization.numericFormat.FText.tokens="@";sap.common.globalization.numericFormat.FText.prototype.parse=function(e){var t=0;while(e.charAt(t)=="@"){t++}this.numAts=t;return t};sap.common.globalization.numericFormat.FText.prototype.display=function(e){var t="";for(var a=0;a<this.numAts;a++){t+=e.toString()}return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDate");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateM");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateD");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateY");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateH");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateS");sap.common.globalization.require("sap.common.globalization.numericFormat.FTimeSep");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateA");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateB");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateSep");var e=sap.common.globalization.numericFormat;e.FDate=function(e,t){this.__className="sap.common.globalization.numericFormat.FDate";this.date;this.color;this.condnum=-Infinity;this.cond;this.tok={};this.HBool=false;this.serial=37500;this.format="";this.HNum=0;this.miltime=true;this.ms=0;this.mask=new Array;this._parseLocaleInfo=e;this._displayLocaleInfo=t;this._inputIsDateType=false;this.initializeTokenMap()};e.FDate.tokens="MDYHSAmdyhsa";e.FDate.prototype.parse=function(e){var t=e.charAt(0);if(t=="."){t=e.substring(0,2)}var a=this.tok[t];if(a==undefined){return 0}var i=this.createTokenFormatter(a);var r=i.parse(this,e);if(r>0){this.mask.push(i)}else{r=0}return r};e.FDate.prototype.display=function(e){this.setNumber(e);var t=this.mask;var a=t.length;var i="";for(var r=0;r<a;r++){if(typeof t[r]=="object"){i+=t[r].display(this)}else{i+=t[r]}}return i};e.FDate.prototype.getMaskClone=function(){if(this.mask){return this.mask.slice()}return[]};e.FDate.prototype.getYear=function(){if(this._inputIsDateType){return this.date.getFullYear()}if(this.serial>=0&&this.serial<1){return 1900}return this.date.getUTCFullYear()};e.FDate.prototype.getMonth=function(){if(this._inputIsDateType){return this.date.getMonth()}if(this.serial>=0&&this.serial<1){return 0}return this.date.getUTCMonth()};e.FDate.prototype.getDate=function(){if(this._inputIsDateType){return this.date.getDate()}if(this.serial>=0&&this.serial<1){return 0}if(this.serial==60){return 29}return this.date.getUTCDate()};e.FDate.prototype.getDay=function(){var e=this.date.getUTCDay();if(this.serial<60){e--}if(this._inputIsDateType){e=this.date.getDay()}return e};e.FDate.prototype.getHrs=function(){if(this._inputIsDateType){return this.date.getHours()}return this.date.getUTCHours()};e.FDate.prototype.getMin=function(){if(this._inputIsDateType){return this.date.getMinutes()}return this.date.getUTCMinutes()};e.FDate.prototype.getSec=function(){if(this._inputIsDateType){return this.date.getSeconds()}return this.date.getUTCSeconds()};e.FDate.prototype.getMS=function(){if(this._inputIsDateType){return this.date.getMilliseconds()}return this.date.getUTCMilliseconds()};e.FDate.prototype.setNumber=function(e){if(e instanceof Date){var t=new Date;t.setTime(e.getTime());this.date=t;this._inputIsDateType=true;this.serial=37500;return}this._inputIsDateType=false;this.serial=e;if(e<60){e++}var a=e*86400*1e3;var i=a-2209161600*1e3;this.date=new Date(i);if(this.date.getUTCMilliseconds()>=500){this.date.setUTCMilliseconds(this.date.getUTCMilliseconds()+500)}};e.FDate.prototype.createTokenFormatter=function(t){var a=null;switch(t){case e.FDateM:a=new e.FDateM(this._displayLocaleInfo);break;case e.FDateD:a=new e.FDateD(this._displayLocaleInfo);break;case e.FDateY:a=new e.FDateY;break;case e.FDateH:a=new e.FDateH;break;case e.FDateS:a=new e.FDateS;break;case e.FDateSep:a=new e.FDateSep(this._parseLocaleInfo,this._displayLocaleInfo);break;case e.FTimeSep:a=new e.FTimeSep(this._parseLocaleInfo,this._displayLocaleInfo);break;case e.FDateA:a=new e.FDateA(this._displayLocaleInfo);break;case e.FDateB:a=new e.FDateB(this._displayLocaleInfo);break;default:}return a};e.FDate.prototype.initializeTokenMap=function(){this.tok.M=e.FDateM;this.tok.D=e.FDateD;this.tok.Y=e.FDateY;this.tok.H=e.FDateH;this.tok.S=e.FDateS;this.tok.A=e.FDateA;this.tok.m=e.FDateM;this.tok.d=e.FDateD;this.tok.y=e.FDateY;this.tok.h=e.FDateH;this.tok.s=e.FDateS;this.tok.a=e.FDateA;this.tok["["]=e.FDateB;this.tok["/"]=e.FDateSep;this.tok[".M"]=e.FDateSep;this.tok[".D"]=e.FDateSep;this.tok[".Y"]=e.FDateSep;this.tok["-"]=e.FDateSep;this.tok[".m"]=e.FTimeSep;this.tok[".h"]=e.FTimeSep;this.tok[".s"]=e.FTimeSep;this.tok[":"]=e.FTimeSep};e.FDate.prototype.toString=function(){var e="[FDate]\n";for(var t in this){e=e+t+" = "+this[t]+"\n"}return e}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateForPVL");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultDateD");sap.common.globalization.require("sap.common.globalization.numericFormat.FDate");sap.common.globalization.numericFormat.FDateForPVL=function(e,t){sap.common.globalization.numericFormat.FDateForPVL.superclass.constructor.apply(this,[e,t]);this.__className="sap.common.globalization.numericFormat.FDateForPVL"};sap.common.globalization.numericFormat.FDateForPVL=sap.common.globalization.extend(sap.common.globalization.numericFormat.FDateForPVL,sap.common.globalization.numericFormat.FDate);var e=sap.common.globalization.numericFormat.FDateForPVL;e.prototype.createTokenFormatter=function(t){var a=null;if(t==sap.common.globalization.numericFormat.FDefaultDateD){a=new sap.common.globalization.numericFormat.FDefaultDateD(this._displayLocaleInfo)}else{a=e.superclass.createTokenFormatter.call(this,t)}return a};e.prototype.initializeTokenMap=function(){e.superclass.initializeTokenMap.apply(this);this.tok.d=sap.common.globalization.numericFormat.FDefaultDateD;this.tok.D=sap.common.globalization.numericFormat.FDefaultDateD}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDefaultDateSep");sap.common.globalization.numericFormat.FDefaultDateSep=function(e,t){sap.common.globalization.numericFormat.FDefaultDateSep.superclass.constructor.call(this,e,t);this.__className="sap.common.globalization.numericFormat.FDefaultDateSep"};sap.common.globalization.numericFormat.FDefaultDateSep=sap.common.globalization.extend(sap.common.globalization.numericFormat.FDefaultDateSep,sap.common.globalization.numericFormat.FDateSep);sap.common.globalization.numericFormat.FDefaultDateSep.prototype.parse=function(e,t){var a=this._parseLocalInfo.IMDateSeparator();if(a){var i=a.length;var r=t.substr(0,i);if(r==a){return i}else{return 0}}return 0}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDefaultDateH");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateH");sap.common.globalization.numericFormat.FDefaultDateH=function(){sap.common.globalization.numericFormat.FDefaultDateH.superclass.constructor.apply(this);this.__className="sap.common.globalization.numericFormat.FDefaultDateH";this._is12HourStyle=false};sap.common.globalization.numericFormat.FDefaultDateH=sap.common.globalization.extend(sap.common.globalization.numericFormat.FDefaultDateH,sap.common.globalization.numericFormat.FDateH);sap.common.globalization.numericFormat.FDefaultDateH.prototype.parse=function(e,t){var a=0;this.number=e.HNum+1;e.HBool=true;e.HNum=this.number;this._is12HourStyle=true;while(t.charAt(a)=="H"||t.charAt(a)=="h"){if(t.charAt(a)=="H"){this._is12HourStyle=false}a++}if(a>1){this.placeholders=2}return a};sap.common.globalization.numericFormat.FDefaultDateH.prototype.display=function(e){var t;if(isNaN(this.value)){t=e.getHrs()}else{t=this.value}if(this._is12HourStyle){if(this.number==e.HNum){if(t>11){t=t-12}if(t==0){t=12}}}var a=""+t;while(this.placeholders>a.length){a="0"+a}return a}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDefaultDateG");sap.common.globalization.require("sap.common.globalization.utils.StringUtil");sap.common.globalization.numericFormat.FDefaultDateG=function(e){this.__className="sap.common.globalization.numericFormat.FDefaultDateG";this._displayLocInfo=e;this._count=0};sap.common.globalization.numericFormat.FDefaultDateG.prototype.parse=function(e,t){if(t&&!sap.common.globalization.utils.StringUtil.isBlankString(t)){if(this._displayLocInfo&&this._displayLocInfo.IMEraToken()){this._count=0;var a=t.charAt(this._count);while(a=="G"){this._count++;a=t.charAt(this._count)}return this._count}}return 0};sap.common.globalization.numericFormat.FDefaultDateG.prototype.display=function(e){var t="";if(this._displayLocInfo&&this._displayLocInfo.IMEraToken()){switch(this._count){case 4:case 5:case 1:case 2:case 3:default:t=this._displayLocInfo.IMEraToken()}}return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDefaultDateD");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateD");var e=sap.common.globalization.numericFormat;sap.common.globalization.numericFormat.FDefaultDateD=function(e){sap.common.globalization.numericFormat.FDefaultDateD.superclass.constructor.call(this,e);this.__className="sap.common.globalization.numericFormat.FDefaultDateD"};sap.common.globalization.numericFormat.FDefaultDateD=sap.common.globalization.extend(sap.common.globalization.numericFormat.FDefaultDateD,sap.common.globalization.numericFormat.FDateD);e.FDefaultDateD.prototype.getShortDay=function(e){if(e==0){return this._displayLocaleInfo.IMSABBREVDAYNAME7()}if(e==1){return this._displayLocaleInfo.IMSABBREVDAYNAME1()}if(e==2){return this._displayLocaleInfo.IMSABBREVDAYNAME2()}if(e==3){return this._displayLocaleInfo.IMSABBREVDAYNAME3()}if(e==4){return this._displayLocaleInfo.IMSABBREVDAYNAME4()}if(e==5){return this._displayLocaleInfo.IMSABBREVDAYNAME5()}if(e==6||e==-1){return this._displayLocaleInfo.IMSABBREVDAYNAME6()}return this._displayLocaleInfo.IMSABBREVDAYNAME6()}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDefaultDate");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultDateD");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultDateG");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultDateH");sap.common.globalization.require("sap.common.globalization.numericFormat.FTimeSep");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultDateSep");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateM");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateD");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateY");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateH");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateS");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateA");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateB");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateSep");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultDateSep");sap.common.globalization.numericFormat.FDefaultDate=function(e,t){sap.common.globalization.numericFormat.FDefaultDate.superclass.constructor.apply(this,[e,t]);this.__className="sap.common.globalization.numericFormat.FDefaultDate"};sap.common.globalization.numericFormat.FDefaultDate=sap.common.globalization.extend(sap.common.globalization.numericFormat.FDefaultDate,sap.common.globalization.numericFormat.FDate);sap.common.globalization.numericFormat.FDefaultDate.prototype.createTokenFormatter=function(e){var t=sap.common.globalization.numericFormat;var a=null;switch(e){case t.FDateM:a=new t.FDateM(this._displayLocaleInfo);break;case t.FDefaultDateD:a=new t.FDefaultDateD(this._displayLocaleInfo);break;case t.FDateY:a=new t.FDateY;break;case t.FDefaultDateH:a=new t.FDefaultDateH;break;case t.FDateS:a=new t.FDateS;break;case t.FDefaultDateSep:a=new t.FDefaultDateSep(this._parseLocaleInfo,this._displayLocaleInfo);break;case t.FTimeSep:a=new t.FTimeSep(this._parseLocaleInfo,this._displayLocaleInfo);break;case t.FDateA:a=new t.FDateA(this._displayLocaleInfo);break;case t.FDateB:a=new t.FDateB(this._displayLocaleInfo);break;case t.FDefaultDateG:a=new t.FDefaultDateG(this._displayLocaleInfo);break;default:}return a};sap.common.globalization.numericFormat.FDefaultDate.prototype.initializeTokenMap=function(){var e=sap.common.globalization.numericFormat;this.tok.M=e.FDateM;this.tok.Y=e.FDateY;this.tok.S=e.FDateS;this.tok.A=e.FDateA;this.tok.m=e.FDateM;this.tok.y=e.FDateY;this.tok.s=e.FDateS;this.tok.a=e.FDateA;this.tok["["]=e.FDateB;this.tok.D=e.FDefaultDateD;this.tok.d=e.FDefaultDateD;this.tok.H=e.FDefaultDateH;this.tok.h=e.FDefaultDateH;if(this._parseLocaleInfo&&this._parseLocaleInfo.IMDateSeparator){if(this._parseLocaleInfo.IMDateSeparator()=="."){this.tok[".M"]=e.FDefaultDateSep;this.tok[".D"]=e.FDefaultDateSep;this.tok[".d"]=e.FDefaultDateSep;this.tok[".Y"]=e.FDefaultDateSep;this.tok[".y"]=e.FDefaultDateSep}else{this.tok[this._parseLocaleInfo.IMDateSeparator()]=e.FDefaultDateSep}}if(this._parseLocaleInfo&&this._parseLocaleInfo.IMTimeSeparator()){if(this._parseLocaleInfo.IMDateSeparator=="."){this.tok[".m"]=e.FTimeSep;this.tok[".h"]=e.FTimeSep;this.tok[".H"]=e.FTimeSep;this.tok[".s"]=e.FTimeSep;this.tok[".S"]=e.FTimeSep}else{this.tok[this._parseLocaleInfo.IMTimeSeparator()]=e.FTimeSep}}this.tok.G=e.FDefaultDateG}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.DefaultGroupingStrategy");sap.common.globalization.numericFormat.DefaultGroupingStrategy=function(){this.__className="sap.common.globalization.numericFormat.DefaultGroupingStrategy"};var e=sap.common.globalization.numericFormat.DefaultGroupingStrategy;e._instance=new sap.common.globalization.numericFormat.DefaultGroupingStrategy;e.prototype.nextGroupDigits=function(){return 2};e.instance=function(){return e._instance}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.Helper");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.numericFormat.Helper.isThousandsSeparator=function(e,t,a){var a=a||null;var i=a?a:sap.common.globalization.numericFormat.FLocalization.getInstance().IMThousandsSeparator();if(i.charAt(0)==" "){for(var r=t;r<e.length;++r){if(e.charAt(r)!=" "){break}}if(e.charAt(r)=="€"||e.charAt(r)=="г"||e.charAt(r)=="k"||e.charAt(r)=="S"||e.charAt(r)=="L"||e.charAt(r)=="m"||e.charAt(r)=="K"){return false}}return e.charAt(t)==i.charAt(0)}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FCurr");sap.common.globalization.numericFormat.FCurr=function(e,t){this.__className="sap.common.globalization.numericFormat.FCurr";this.display="";this._parseLocaleInfo=e;this._displayLocaleInfo=t};sap.common.globalization.numericFormat.FCurr.prototype.parse=function(e,t){var a=this._parseLocaleInfo.currencySymbol();var i=this._displayLocaleInfo.currencySymbol();if(i!=null&&a!=null&&a!=i){e.currencyIndex=e.mask.length;this.display=i;return a.length}else{return 0}}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FNum0");sap.common.globalization.require("sap.common.globalization.numericFormat.Helper");sap.common.globalization.numericFormat.FNum0=function(e){this.__className="sap.common.globalization.numericFormat.FNum0";this._parseLocaleInfo=e;this.display="0"};sap.common.globalization.numericFormat.FNum0.prototype.parse=function(e,t){var a=1;if(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,1,this._parseLocaleInfo.thousandsSeparator())){var i=t.charAt(2);if(i!="#"&&i!="?"&&i!="0"){if(!sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,2,this._parseLocaleInfo.thousandsSeparator())){e.scale=e.scale/1e3}else{e.scale=e.scale/1e6}}else{e.bcomma=true}var r=1;while(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,r++,this._parseLocaleInfo.thousandsSeparator())){a++}}return a}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FNumP");sap.common.globalization.numericFormat.FNumP=function(){this.__className="sap.common.globalization.numericFormat.FNumP";this.display="%"};sap.common.globalization.numericFormat.FNumP.prototype.parse=function(e,t){e.scale=e.scale*100;return-1}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FNumQ");sap.common.globalization.require("sap.common.globalization.numericFormat.Helper");sap.common.globalization.numericFormat.FNumQ=function(e){this.__className="sap.common.globalization.numericFormat.FNumQ";this._parseLocaleInfo=e;this.display=" "};sap.common.globalization.numericFormat.FNumQ.prototype.parse=function(e,t){var a=1;if(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,1,this._parseLocaleInfo.thousandsSeparator())){var i=t.charAt(2);if(i!="#"&&i!="?"&&i!="0"&&!sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,2,this._parseLocaleInfo.thousandsSeparator())){e.scale=e.scale/1e3}else{e.bcomma=true}var r=1;while(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,r++,this._parseLocaleInfo.thousandsSeparator())){a++}}return a}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FNumS");sap.common.globalization.require("sap.common.globalization.numericFormat.Helper");sap.common.globalization.numericFormat.FNumS=function(e){this.__className="sap.common.globalization.numericFormat.FNumS";this._parseLocaleInfo=e;this.display=""};sap.common.globalization.numericFormat.FNumS.prototype.parse=function(e,t){var a=1;if(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,1,this._parseLocaleInfo.thousandsSeparator())){var i=t.charAt(2);if(i!="#"&&i!="?"&&i!="0"){if(!sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,2,this._parseLocaleInfo.thousandsSeparator())){e.scale=e.scale/1e3}else{e.scale=e.scale/1e6}}else{e.bcomma=true}var r=1;while(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,r++,this._parseLocaleInfo.thousandsSeparator())){a++}}return a}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FPeriod");sap.common.globalization.require("sap.common.globalization.numericFormat.Helper");sap.common.globalization.numericFormat.FPeriod=function(e,t){this.__className="sap.common.globalization.numericFormat.FPeriod";this._parseLocaleInfo=e;this.display=t.decimalSeparator()};sap.common.globalization.numericFormat.FPeriod.prototype.parse=function(e,t){var a=-1;if(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,1,this._parseLocaleInfo.thousandsSeparator())){var i=t.charAt(2);if(i!="#"&&i!="?"&&i!="0"&&!sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,2,this._parseLocaleInfo.thousandsSeparator())){e.scale=e.scale/1e3}var r=1;while(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,r++,this._parseLocaleInfo.thousandsSeparator())){a++}}if(e.period==-1){e.period=e.mask.length}return a}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FNumber");sap.common.globalization.numericFormat.FNumber=function(e,t){this.__className="sap.common.globalization.numericFormat.FNumber";this.scale=1;this.bcomma=false;this.bsign=true;this.period=-1;this.numfore=undefined;this.numaft=undefined;this.sign="";this.mask=new Array;this.mfore=new Array;this.maft=new Array;this.format=undefined;this.currencyIndex=-1;this._tok={};this._tok["#"]=sap.common.globalization.numericFormat.FNumS;this._tok["?"]=sap.common.globalization.numericFormat.FNumQ;this._tok["%"]=sap.common.globalization.numericFormat.FNumP;this._tok["0"]=sap.common.globalization.numericFormat.FNum0;this.condnum=0;this.cond={};var a=e.decimalSeparator();this._tok[a]=sap.common.globalization.numericFormat.FPeriod;this.IMDecimalSeparator=a;this.parseLocaleInfo=e;this.displayLocaleInfo=t;this.IMThousandsSeparator=t.thousandsSeparator();var i=this.parseLocaleInfo.currencySymbol();if(i){this._tok[i]=sap.common.globalization.numericFormat.FCurr}};sap.common.globalization.numericFormat.FNumber.tokens="#?%0";sap.common.globalization.numericFormat.FNumber.prototype.parse=function(e){if(this.format==null){this.format=e}var t=e.charAt(0);if(this._tok[t]==undefined||t==this.IMDecimalSeparator&&(e.length>1&&e.charAt(1)!="#"&&e.charAt(1)!="0")){return 0}var a=this.createTokenFormatter(this._tok[t]);var i=a.parse(this,e);if(this.period>1){var r=true}if(i>0){var s=this.mask.length;this.mask.push(a);if(this.currencyIndex!=s){if(this.period==-1){this.mfore.push(s)}else{this.maft.push(s)}}}else{if(i<0){this.mask.push(a);i=Math.abs(i)}else{i=0}}return i};sap.common.globalization.numericFormat.FNumber.prototype.display=function(e){if(typeof e!="number"){return e}if(isNaN(e)||!isFinite(e)){return e}if(this.mfore.length==0&&this.maft.length==0){return this.format}this.setNumber(e);var t=new Array;var a=this.mfore.length;var i=3;var r=this.period;var s=r==-1?this.mask.length:r;var o;var n;var l;for(var u=a-1;u>=0;u--){r=this.mfore[u];for(var o=s-1;o>r;o--){l=this.mask[o];if(typeof l=="object"){t.unshift(l.display)}else{t.unshift(l)}}if(this.numfore.length>0){if(this.bcomma){if(i--==0){t.unshift(this.IMThousandsSeparator);i=2}}n=this.numfore.length-1;t.unshift(this.numfore.charAt(n));this.numfore=this.numfore.substring(0,n)}else{var d=this.mask[r].display;if(d.length!=0){if(this.bcomma&&i--==0){t.unshift(this.IMThousandsSeparator);i=2}t.unshift(this.mask[r].display)}}s=r}if(this.numfore.length>0){if(this.bcomma){while(this.numfore.length>0){if(i--==0){t.unshift(this.IMThousandsSeparator);i=2}n=this.numfore.length-1;t.unshift(this.numfore.charAt(n));this.numfore=this.numfore.substring(0,n)}}else{t.unshift(this.numfore)}}l=this.mask;if(this.currencyIndex!=-1){u=0}for(o=s-1;o>=0;o--){if(typeof l[u]=="object"){t.unshift(this.mask[o].display)}else{t.unshift(this.mask[o])}}a=this.mask.length;u=this.period==-1?a:this.period;r=0;for(;u<a;u++){if(typeof l[u]=="object"){if(this.maft[r]==u){r++;if(this.numaft.length>0){t.push(this.numaft.charAt(0));this.numaft=this.numaft.substring(1)}else{t.push(l[u].display)}}else{t.push(l[u].display)}}else{t.push(l[u])}}var h;if(this.bsign){h=this.sign+t.join("")}else{h=t.join("")}return h};sap.common.globalization.numericFormat.FNumber.prototype.setNumber=function(e){var t=this.maft.length;if(this.format.charAt(this.format.length-1)=="%"){var a=Math.pow(10,t+1+2);e=e*a;e=e/(a/this.scale)}else{e=e*this.scale}e=this.excel_round(e,t);var i=e.toString().split(".");this.numfore=i[0];if(this.numfore.charAt(0)=="-"){this.sign="-";this.numfore=this.numfore.substring(1)}else{this.sign=""}if(this.numfore.charAt(0)=="0"){this.numfore=this.numfore.substring(1)}this.numaft=undefined;if(i.length<2){this.numaft=""}else{this.numaft=i[1]}};sap.common.globalization.numericFormat.FNumber.prototype.createTokenFormatter=function(e){var t=null;var a=sap.common.globalization.numericFormat;switch(e){case a.FNumS:t=new sap.common.globalization.numericFormat.FNumS(this.parseLocaleInfo);break;case a.FNumQ:t=new sap.common.globalization.numericFormat.FNumQ(this.parseLocaleInfo);break;case a.FNumP:t=new sap.common.globalization.numericFormat.FNumP;break;case a.FNum0:t=new sap.common.globalization.numericFormat.FNum0(this.parseLocaleInfo);break;case a.FPeriod:t=new sap.common.globalization.numericFormat.FPeriod(this.parseLocaleInfo,this.displayLocaleInfo);break;case a.FCurr:t=new sap.common.globalization.numericFormat.FCurr(this.parseLocaleInfo,this.displayLocaleInfo);break;default:}return t};sap.common.globalization.numericFormat.FNumber.prototype.excel_round=function(e,t){var a=false;if(e<0){a=true;e=-e}var i,r;var s=0;var o=Math.pow(10,t);i=Math.floor(e*o);s=(i+.5)/o;r=(i+1)/o;i/=o;e=e<s?i:r;if(a){e=-e}return e}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDefaultNumber");sap.common.globalization.require("sap.common.globalization.numericFormat.FNumber");sap.common.globalization.require("sap.common.globalization.numericFormat.DefaultGroupingStrategy");sap.common.globalization.require("sap.common.globalization.numericFormat.FPeriod");sap.common.globalization.numericFormat.FDefaultNumber=function(e,t){sap.common.globalization.numericFormat.FDefaultNumber.superclass.constructor.apply(this,[e,t]);this.__className="sap.common.globalization.numericFormat.FDefaultDateNumber";this._groupingStrategy=sap.common.globalization.numericFormat.DefaultGroupingStrategy.instance()};sap.common.globalization.numericFormat.FDefaultNumber=sap.common.globalization.extend(sap.common.globalization.numericFormat.FDefaultNumber,sap.common.globalization.numericFormat.FNumber);sap.common.globalization.numericFormat.FDefaultNumber.prototype.display=function(e){if(typeof e!="number"){return e}if(isNaN(e)||!isFinite(e)){return e}if(this.mfore.length==0&&this.maft.length==0){return this.format}this.setNumber(e);var t=new Array;var a=this.mfore.length;var i=3;var r=this.period;var s=r==-1?this.mask.length:r;var o;var n;var l;for(var u=a-1;u>=0;u--){r=this.mfore[u];for(o=s-1;o>r;o--){l=this.mask[o];if(typeof l=="object"){t.unshift(l.display)}else{t.unshift(l)}}if(this.numfore.length>0){if(this.bcomma){if(i--==0){t.unshift(this.IMThousandsSeparator);i=this._groupingStrategy.nextGroupDigits()}}n=this.numfore.length-1;t.unshift(this.numfore.charAt(n));this.numfore=this.numfore.substring(0,n)}else{var d=this.mask[r].display;if(d.length!=0){if(this.bcomma&&i--==0){t.unshift(this.IMThousandsSeparator);i=this._groupingStrategy.nextGroupDigits()}t.unshift(this.mask[r].display)}}s=r}if(this.numfore.length>0){if(this.bcomma){while(this.numfore.length>0){if(i--==0){t.unshift(this.IMThousandsSeparator);i=this._groupingStrategy.nextGroupDigits()}n=this.numfore.length-1;t.unshift(this.numfore.charAt(n));this.numfore=this.numfore.substring(0,n)}}else{t.unshift(this.numfore)}}l=this.mask;if(this.currencyIndex!=-1){u=0}for(o=s-1;o>=0;o--){if(typeof l[u]=="object"){t.unshift(this.mask[o].display)}else{t.unshift(this.mask[o])}}a=this.mask.length;u=this.period==-1?a:this.period;r=0;var h=false;for(;u<a;u++){if(typeof l[u]=="object"){if(l[u].__className=="sap.common.globalization.numericFormat.FPeriod"&&!this.numaft){h=true;continue}if(this.maft[r]==u){r++;if(this.numaft.length>0){if(!h){t.push(this.numaft.charAt(0))}this.numaft=this.numaft.substring(1)}else{t.push(l[u].display)}}else{t.push(l[u].display)}}else{t.push(l[u])}}var p;if(this.bsign){p=this.sign+t.join("")}else{p=t.join("")}return p};sap.common.globalization.numericFormat.FDefaultNumber.prototype.groupingStrategy=function(e){if(this._groupingStrategy!=e){this._groupingStrategy=e}}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FT");sap.common.globalization.require("sap.common.globalization.utils.BaseUtils");sap.common.globalization.require("sap.common.globalization.numericFormat.FDate");sap.common.globalization.require("sap.common.globalization.numericFormat.FText");sap.common.globalization.require("sap.common.globalization.numericFormat.FNumber");sap.common.globalization.require("sap.common.globalization.defaultFormat.CustomDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory");sap.common.globalization.numericFormat.FT=function(e,t){this.__className="sap.common.globalization.numericFormat.FT";this._hasCustomCondition=false;this.color=undefined;this.o=new Array;this._dateLocaleFactory=e?e:sap.common.globalization.defaultFormat.CustomDateFormatLocaleFactory.getInstance();this._numericLocaleFactory=t?t:sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory.getInstance();this._isParsedSuccess=false};var e=sap.common.globalization.numericFormat.FT;e.ftarr=new Array;e._CONDITION_TOKENS="=<>";e._equals=function(e,t){return e==t};e._neq=function(e,t){return e!=t};e._gthan=function(e,t){return e>t};e._gte=function(e,t){return e>=t};e._lthan=function(e,t){return e<t};e._lte=function(e,t){return e<=t};e._CONDITIONS={"=":sap.common.globalization.numericFormat.FT._equals,"<>":sap.common.globalization.numericFormat.FT._neq,"<":sap.common.globalization.numericFormat.FT._lthan,"<=":sap.common.globalization.numericFormat.FT._lte,">":sap.common.globalization.numericFormat.FT._gthan,">=":sap.common.globalization.numericFormat.FT._gte};e._COLORS={black:0,blue:255,cyan:65535,green:65280,magenta:16711935,red:16711680,white:16777215,yellow:16776960};e.prototype._isNumeric=function(e){var t="#?%";var a=t.length;for(var i=0;i<a;i++){if(e.indexOf(t.charAt(i))!=-1){return true}}return false};e.prototype.isParsedSuccess=function(){return this._isParsedSuccess};e.prototype.parse=function(e){this._isParsedSuccess=false;this._hasCustomCondition=false;var t=e;var a=e.length;var i;var r=0;for(var s=0;s<a;s++){i=t.charAt(s);if(i=='"'){while(s<a){if(t.charAt(++s)=='"'&&t.charAt(s-1)!="\\"){break}}continue}if(i=="\\"||i=="_"||i=="*"){s++;continue}if(i==";"){if(this.o[r]==undefined){this.o[r]=new sap.common.globalization.numericFormat.FText}this.o[r].format=t.substring(0,s);r++;t=t.substring(s+1);a=t.length;s=-1;continue}if(i=="["){var o="";while(t.charAt(++s)!="]"&&s<a){o+=t.charAt(s)}var n=o.length;var l=o.charAt(0);if(l=="s"||l=="m"||l=="h"){for(var u=1;u<n;u++){var d=o.charAt(u);if(l!=d){break}}if(u==n){if(this.o[r]==undefined){this.o[r]=this._dateLocaleFactory.createFDate()}}}}var h=sap.common.globalization.numericFormat.FDate.tokens.indexOf(i);if(sap.common.globalization.numericFormat.FDate.tokens.indexOf(i)!=-1&&!this._isNumeric(e)){if(this.o[r]==undefined){this.o[r]=this._dateLocaleFactory.createFDate()}this.o[r]=this._dateLocaleFactory.createFDate()}else{if(sap.common.globalization.numericFormat.FNumber.tokens.indexOf(i)!=-1){if(this.o[r]==undefined){this.o[r]=this._numericLocaleFactory.createFNumber();if(r==1){this.o[r].bsign=false}}}else{if(sap.common.globalization.numericFormat.FText.tokens.indexOf(i)!=-1){if(this.o[r]==undefined){this.o[r]=new sap.common.globalization.numericFormat.FText}}}}}if(this.o[r]==undefined){this.o[r]=this._numericLocaleFactory.createFNumber()}else{this._isParsedSuccess=true}this.o[r].format=t;var p=this.o.length;for(var c=0;c<p;c++){var f=this.o[c];f.condnum=f.condnum||0;if(c==0){f.cond=sap.common.globalization.numericFormat.FT._gthan}else{if(c==1){f.cond=sap.common.globalization.numericFormat.FT._lthan}else{if(c==2){f.cond=sap.common.globalization.numericFormat.FT._equals}}}var m=f.mask;var _=false;t=f.format;a=t.length;for(var u=0;u<a;u++){i=t.charAt(u);if(i=='"'){_=!_;continue}if(i=="\\"){u++;i=t.charAt(u);m.push(i);continue}if(_){m.push(i);continue}if(i=="*"){u++;continue}if(i=="_"){u++;m.push(" ");continue}if(i=="["){l=t.charAt(u+1);d=t.charAt(u+2);if(l=="$"&&d!="-"){var g=t.indexOf("]",u+1);if(g!=-1){var v=t.substring(u+1,g);if(o.indexOf("-")!=-1){v=o.substring(1,o.indexOf("-"))}else{v=o.substring(1)}for(var y=0;y<v.length;++y){m.push(v.charAt(y))}u=g;continue}}else{o=t.substring(u+1);o=o.substring(0,o.indexOf("]")).toLowerCase();if(sap.common.globalization.numericFormat.FT._COLORS[o]!=undefined){f.color=sap.common.globalization.numericFormat.FT._COLORS[o];u+=o.length+1;continue}else{if(o=="h"||o=="m"||o=="s"){}else{var b=1;while(o.charAt(b)!==""&&sap.common.globalization.numericFormat.FT._CONDITION_TOKENS.indexOf(o.charAt(b))!=-1){b++}var x=o.substring(0,b);if(sap.common.globalization.numericFormat.FT._CONDITIONS[x]!=undefined){f.cond=sap.common.globalization.numericFormat.FT._CONDITIONS[x];f.condnum=o.substring(b);u+=o.length+1;this._hasCustomCondition=true;continue}else{u+=o.length+1;continue}}}}}var A=f.parse(t.substring(u));if(A>0){u+=A-1}else{m.push(i)}}}};e.prototype.display=function(e){var t=this.o[0];var a=this.o.length;if(a>3&&sap.common.globalization.utils.BaseUtils.isString(e)){t=this.o[3]}else{if(this._hasCustomCondition&&a>0){if(a<=3){t=this.o[a-1]}else{t=this.o[2]}}for(var i=0;i<3&&i<a;i++){var r=this.o[i];if(r&&r.cond(e,r.condnum)){t=r;break}}}if(!isNaN(t.color)){this.color=t.color}else{this.color=undefined}return t.display(e)};e.prototype.getNumericDisplayLoacleInfo=function(){return this._numericLocaleFactory.getNumericDisplayLocaleInfo()}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FTBoolean");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultBooleanFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.NumericFormatManager;");sap.common.globalization.require("sap.common.globalization.numericFormat.FT");sap.common.globalization.require("sap.common.globalization.utils.BaseUtils");var e=sap.common.globalization.numericFormat;sap.common.globalization.numericFormat.FTBoolean=function(t,a){e.FTBoolean.superclass.constructor.apply(this,[t,a]);this.__className="sap.common.globalization.numericFormat.FTBoolean";t=t||null;a=a||null;this._booleanLocaleFactory=sap.common.globalization.defaultFormat.DefaultBooleanFormatLocaleFactory.getInstance()};e.FTBoolean.BOOLEAN_TOKEN="SAP_DEFAULT_BOOLEAN_FORMAT";e.FTBoolean=sap.common.globalization.extend(e.FTBoolean,e.FT);sap.common.globalization.numericFormat.FTBoolean.prototype.parse=function(t){if(t==e.FTBoolean.BOOLEAN_TOKEN){this.o[0]=this}else{this.o[0]=null}};sap.common.globalization.numericFormat.FTBoolean.prototype.display=function(e){var t=String(e);var a=this._booleanLocaleFactory.getBooleanDisplayLocaleInfo();if(a&&this.o[0].__className=="sap.common.globalization.numericFormat.FTBoolean"){if(sap.common.globalization.utils.BaseUtils.isBoolean(e)){t=e?a.trueString():a.falseString()}else{if(sap.common.globalization.utils.BaseUtils.isString(e)&&(String(e).toLowerCase()=="true"||String(e).toLowerCase()=="false")){t=String(e).toLowerCase()=="true"?a.trueString():a.falseString()}}}return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FTimeSep");sap.common.globalization.numericFormat.FTimeSep=function(e,t){this._parseLocale=e;this._displayLocale=t};sap.common.globalization.numericFormat.FTimeSep.prototype.parse=function(e,t){var a=t.charAt(0);if(this._displayLocale.IMTimeSeparator()!=null&&(a==":"||a==".")){return 1}else{return 0}};sap.common.globalization.numericFormat.FTimeSep.prototype.display=function(e){return this._displayLocale.IMTimeSeparator()}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FTUtil");sap.common.globalization.numericFormat.FTUtil.isBooleanFT=function(e){return e&&e.__className=="sap.common.globalization.numericFormat.FTBoolean"};sap.common.globalization.numericFormat.FTUtil.isDate=function(e){return e&&e.o&&e.o.length>0&&e.o[0].__className=="sap.common.globalization.numericFormat.FDate"}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.TwoDigitGroupingStrategy");sap.common.globalization.numericFormat.TwoDigitGroupingStrategy=function(){this.__className="sap.common.globalization.numericFormat.TwoDigitGroupingStrategy"};var e=sap.common.globalization.numericFormat.TwoDigitGroupingStrategy;e._instance=new sap.common.globalization.numericFormat.TwoDigitGroupingStrategy;e.prototype.nextGroupDigits=function(){return 1};e.instance=function(){return e._instance}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDefaultCurrencyNumber");sap.common.globalization.require("sap.common.globalization.numericFormat.FNumber");sap.common.globalization.require("sap.common.globalization.numericFormat.DefaultGroupingStrategy");var e=sap.common.globalization.numericFormat;sap.common.globalization.numericFormat.FDefaultCurrencyNumber=function(t,a){sap.common.globalization.numericFormat.FDefaultCurrencyNumber.superclass.constructor.apply(this,[t,a]);this.__className="sap.common.globalization.numericFormat.FDefaultCurrencyNumber";this._groupingStrategy=e.DefaultGroupingStrategy.instance()};e.FDefaultCurrencyNumber=sap.common.globalization.extend(e.FDefaultCurrencyNumber,e.FNumber);e.FDefaultCurrencyNumber.prototype.display=function(e){if(typeof e!="number"){return e}if(isNaN(e)||!isFinite(e)){return e}if(this.mfore.length==0&&this.maft.length==0){return this.format}this.setNumber(e);var t=new Array;var a=this.mfore.length;var i=3;var r=this.period;var s=r==-1?this.mask.length:r;var o;var n;var l;for(var u=a-1;u>=0;u--){r=this.mfore[u];for(o=s-1;o>r;o--){l=this.mask[o];if(typeof l=="object"){t.unshift(l.display)}else{t.unshift(l)}}if(this.numfore.length>0){if(this.bcomma){if(i--==0){t.unshift(this.IMThousandsSeparator);i=this._groupingStrategy.nextGroupDigits()}}n=this.numfore.length-1;t.unshift(this.numfore.charAt(n));this.numfore=this.numfore.substring(0,n)}else{var d=this.mask[r].display;if(d.length!=0){if(this.bcomma&&i--==0){t.unshift(this.IMThousandsSeparator);i=this._groupingStrategy.nextGroupDigits()}t.unshift(this.mask[r].display)}}s=r}if(this.numfore.length>0){if(this.bcomma){while(this.numfore.length>0){if(i--==0){t.unshift(this.IMThousandsSeparator);i=this._groupingStrategy.nextGroupDigits()}n=this.numfore.length-1;t.unshift(this.numfore.charAt(n));this.numfore=this.numfore.substring(0,n)}}else{t.unshift(this.numfore)}}l=this.mask;if(this.currencyIndex!=-1){u=0}for(o=s-1;o>=0;o--){if(typeof this.mask[o]=="object"){t.unshift(this.mask[o].display)}else{t.unshift(this.mask[o])}}a=this.mask.length;u=this.period==-1?a:this.period;r=0;for(;u<a;u++){if(typeof l[u]=="object"){if(this.maft[r]==u){r++;if(this.numaft.length>0){t.push(this.numaft.charAt(0));this.numaft=this.numaft.substring(1)}else{t.push(l[u].display)}}else{t.push(l[u].display)}}else{t.push(l[u])}}var h;if(this.bsign){h=this.sign+t.join("")}else{h=t.join("")}return h};e.FDefaultCurrencyNumber.prototype.groupingStrategy=function(e){if(this._groupingStrategy!=e){this._groupingStrategy=e}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DefaultCurrencyFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultNumericFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.GlobalizationNumericConstant");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultCurrencyNumber");sap.common.globalization.require("sap.common.globalization.numericFormat.TwoDigitGroupingStrategy");sap.common.globalization.require("sap.common.globalization.GlobalizationNumericUtil");sap.common.globalization.defaultFormat.DefaultCurrencyFormatLocaleFactory=function(e){sap.common.globalization.defaultFormat.DefaultCurrencyFormatLocaleFactory.superclass.constructor.apply(this,[e]);this.__className="sap.common.globalization.defaultFormat.DefaultCurrencyFormatLocaleFactory";this._displayCurrencySymbol=null;if(sap.common.globalization.defaultFormat.DefaultCurrencyFormatLocaleFactory.isDefaultCurrencyFormat(e)){this._parseCurrencySymbol(e)}};var e=sap.common.globalization.defaultFormat;e.DefaultCurrencyFormatLocaleFactory=sap.common.globalization.extend(e.DefaultCurrencyFormatLocaleFactory,e.DefaultNumericFormatLocaleFactory);e.DefaultCurrencyFormatLocaleFactory.REG_DEFAULT_CURRENCY_FORMAT=new RegExp('^SAP_DEFAULT_CURRENCY_FORMAT(;".*")?$',"i");e.DefaultCurrencyFormatLocaleFactory.isDefaultCurrencyFormat=function(t){return e.DefaultCurrencyFormatLocaleFactory.REG_DEFAULT_CURRENCY_FORMAT.test(t)};e.DefaultCurrencyFormatLocaleFactory.prototype.getDefaultCurrencyFormat=function(){return sap.common.globalization.GlobalizationNumericConstant.getDefaultCurrencyFormat()};e.DefaultCurrencyFormatLocaleFactory.prototype._parseCurrencySymbol=function(e){if("SAP_DEFAULT_CURRENCY_FORMAT"==e){this._displayCurrencySymbol=""}else{this._displayCurrencySymbol=e.slice(29,e.length-1)}};e.DefaultCurrencyFormatLocaleFactory.prototype.createFNumber=function(){var e=new sap.common.globalization.numericFormat.FDefaultCurrencyNumber(this.getNumericParseLocaleInfo(),this.getNumericDisplayLocaleInfo());if(sap.common.globalization.GlobalizationNumericUtil.isTwoDigitGroupingCountry(sap.common.globalization.GlobalizationNumericConstant.getActualLocaleForDefaultCurrencyFormat())){e._groupingStrategy=sap.common.globalization.numericFormat.TwoDigitGroupingStrategy.instance()}return e};e.DefaultCurrencyFormatLocaleFactory.prototype.displayCurrencySymbol=function(){return this._displayCurrencySymbol}})();(function(){if(!Array.prototype.indexOf){Array.prototype.indexOf=function(e){"use strict";if(this==null){throw new TypeError}var t=Object(this);var a=t.length>>>0;if(a===0){return-1}var i=0;if(arguments.length>0){i=Number(arguments[1]);if(i!=i){i=0}else if(i!=0&&i!=Infinity&&i!=-Infinity){i=(i>0||-1)*Math.floor(Math.abs(i))}}if(i>=a){return-1}var r=i>=0?i:Math.max(a-Math.abs(i),0);for(;r<a;r++){if(r in t&&t[r]===e){return r}}return-1}}if(!Array.prototype.lastIndexOf){Array.prototype.lastIndexOf=function(e){"use strict";if(this==null)throw new TypeError;var t=Object(this);var a=t.length>>>0;if(a===0)return-1;var i=a;if(arguments.length>1){i=Number(arguments[1]);if(i!=i)i=0;else if(i!=0&&i!=1/0&&i!=-(1/0))i=(i>0||-1)*Math.floor(Math.abs(i))}var r=i>=0?Math.min(i,a-1):a-Math.abs(i);for(;r>=0;r--){if(r in t&&t[r]===e)return r}return-1}}if(!Array.prototype.filter){Array.prototype.filter=function(e){"use strict";if(this==null)throw new TypeError;var t=Object(this);var a=t.length>>>0;if(typeof e!="function")throw new TypeError;var i=[];var r=arguments[1];for(var s=0;s<a;s++){if(s in t){var o=t[s];if(e.call(r,o,s,t))i.push(o)}}return i}}if(!Array.prototype.forEach){Array.prototype.forEach=function(e,t){var a,i;if(this==null){throw new TypeError("this is null or not defined")}var r=Object(this);var s=r.length>>>0;if({}.toString.call(e)!="[object Function]"){throw new TypeError(e+" is not a function")}if(t){a=t}i=0;while(i<s){var o;if(i in r){o=r[i];e.call(a,o,i,r)}i++}}}if(!Array.prototype.every){Array.prototype.every=function(e){"use strict";if(this==null)throw new TypeError;var t=Object(this);var a=t.length>>>0;if(typeof e!="function")throw new TypeError;var i=arguments[1];for(var r=0;r<a;r++){if(r in t&&!e.call(i,t[r],r,t))return false}return true}}if(!Array.prototype.map){Array.prototype.map=function(e,t){var a,i,r;if(this==null){throw new TypeError(" this is null or not defined")}var s=Object(this);var o=s.length>>>0;if({}.toString.call(e)!="[object Function]"){throw new TypeError(e+" is not a function")}if(t){a=t}i=new Array(o);r=0;while(r<o){var n,l;if(r in s){n=s[r];l=e.call(a,n,r,s);i[r]=l}r++}return i}}if(!Array.prototype.some){Array.prototype.some=function(e){"use strict";if(this==null)throw new TypeError;var t=Object(this);var a=t.length>>>0;if(typeof e!="function")throw new TypeError;var i=arguments[1];for(var r=0;r<a;r++){if(r in t&&e.call(i,t[r],r,t))return true}return false}}if(!Array.prototype.reduce){Array.prototype.reduce=function e(t){if(this===null||this===undefined)throw new TypeError("Object is null or undefined");var a=0,i=this.length>>0,r;if(typeof t!=="function")throw new TypeError("First argument is not callable");if(arguments.length<2){if(i===0)throw new TypeError("Array length is 0 and no second argument");r=this[0];a=1}else r=arguments[1];while(a<i){if(a in this)r=t.call(undefined,r,this[a],a,this);++a}return r}}if(!Array.prototype.reduceRight){Array.prototype.reduceRight=function(e){"use strict";if(this==null)throw new TypeError;var t=Object(this);var a=t.length>>>0;if(typeof e!="function")throw new TypeError;if(a===0&&arguments.length===1)throw new TypeError;var i=a-1;var r;if(arguments.length>=2){r=arguments[1]}else{do{if(i in this){r=this[i--];break}if(--i<0)throw new TypeError}while(true)}while(i>=0){if(i in t)r=e.call(undefined,r,t[i],i,t);i--}return r}}if(!Function.prototype.bind){Function.prototype.bind=function(e){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var t=Array.prototype.slice.call(arguments,1),a=this,i=function(){},r=function(){return a.apply(this instanceof i?this:e,t.concat(Array.prototype.slice.call(arguments)))};i.prototype=this.prototype;r.prototype=new i;return r}}if(!Object.create){Object.create=function(e){if(arguments.length>1){throw new Error("Object.create implementation only accepts the first parameter.")}function t(){}t.prototype=e;return new t}}function e(e,t){function a(t){function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function i(e){return typeof e==="function"}if(typeof t!=="object"||t===null)throw new TypeError("bad desc");var r={};if(a(t,"enumerable"))r.enumerable=!!e.enumerable;if(a(t,"configurable"))r.configurable=!!e.configurable;if(a(t,"value"))r.value=e.value;if(a(t,"writable"))r.writable=!!t.writable;if(a(t,"get")){var s=t.get;if(!i(s)&&s!=="undefined")throw new TypeError("bad get");r.get=s}if(a(t,"set")){var o=t.set;if(!i(o)&&o!=="undefined")throw new TypeError("bad set");r.set=o}if(("get"in r||"set"in r)&&("value"in r||"writable"in r))throw new TypeError("identity-confused descriptor");return r}if(typeof e!=="object"||e===null)throw new TypeError("bad obj");t=Object(t);var i=Object.keys(t);var r=[];for(var s=0;s<i.length;s++)r.push([i[s],a(t[i[s]])]);for(var s=0;s<r.length;s++)Object.defineProperty(e,r[s][0],r[s][1]);return e}if(!Object.keys){Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=a.length;return function(r){if(typeof r!=="object"&&typeof r!=="function"||r===null)throw new TypeError("Object.keys called on non-object");var s=[];for(var o in r){if(e.call(r,o))s.push(o)}if(t){for(var n=0;n<i;n++){if(e.call(r,a[n]))s.push(a[n])}}return s}}()}if(typeof Object.getPrototypeOf!=="function"){if(typeof"test".__proto__==="object"){Object.getPrototypeOf=function(e){return e.__proto__}}else{Object.getPrototypeOf=function(e){return e.constructor.prototype}}}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}})();(function(e){var t=e.sap;var a=t&&t.viz;if(a){var i=a.api&&a.api.metadata;if(i){e.__sap_metadata=i}delete t.viz.api;delete t.viz.extapi}})(this);(function(e){function t(t){var a=e,i=t.split("."),r=0;while(r<i.length&&a!==undefined){a=a[i[r++]]}return a!==undefined}function a(t){var a=t.split("."),i=e,r;for(r=0;r<a.length;r++){i=i[a[r]]}return i}function i(t,i){var r=e,s,o=t.split("."),n=o.length;o.reduce(function(e,t,a){e[t]=e[t]||(a<n-1||!i?{}:i);return e[t]},e);return a(t)}var r={registerList:[],unregisterList:[]},s={registerList:[],unregisterList:[]},o={registerList:[],unregisterList:[],configMap:{}},n={registerList:[]};i("sap.viz.extapi.manifest._queue",{viz:r,module:s,template:o,language:n});var l=sap.viz.extapi.manifest._queue;function u(e,i,r){return function(s){if(t(e)){a(e)[i](s)}else{r&&r.push(s)}}}function d(e){return function(t){e&&e.push(t)}}i("sap.viz.extapi.env.Template",{register:function(e){var t=o.configMap;t[e.id]=t[e.id]||[];t[e.id].push(e)}});i("sap.viz.extapi.env.Language",{register:d(n.registerList)});i("sap.viz.extapi.manifest.Viz",{register:d(r.registerList),unregister:d(r.unregisterList)});i("sap.viz.extapi.manifest.Module",{register:d(s.registerList),unregister:d(s.unregisterList)});i("sap.viz.api");i("sap.viz.extapi.core")})(this);(function(e){sap.viz.moduleloader.originalDefine=e.define;sap.viz.moduleloader.originalRequire=e.require;sap.viz.moduleloader.originalRequirejs=e.requirejs;e.define=sap.viz.moduleloader.define;e.require=sap.viz.moduleloader.require.config({context:"viz"});e.requirejs=require})(this);define("sap/viz/base/utils/TypeUtils",[],function e(){var t={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"};var a=Object.prototype.hasOwnProperty;var i=/\d/;var r=function(e){return e==null?String(e):t[Object.prototype.toString.call(e)]||"object"};var s={isFunction:function(e){return r(e)==="function"},isArray:Array.isArray||function(e){return r(e)==="array"},isString:function(e){return r(e)==="string"},isNonEmptyString:function(e){return this.isString(e)&&e.length!==0},isNaN:function(e){return e===null||e===undefined||!i.test(e)||isNaN(e)},isNumber:function(e){return!s.isNaN(parseFloat(e))&&isFinite(e)},isDefined:function(e){return typeof e!=="undefined"},isUndefined:function(e){return typeof e==="undefined"},isPlainObject:function(e){if(!e||r(e)!=="object"||e.nodeType||e&&typeof e==="object"&&"setInterval"in e){return false}if(e.constructor&&!a.call(e,"constructor")&&!a.call(e.constructor.prototype,"isPrototypeOf")){return false}var t;for(t in e){}return t===undefined||a.call(e,t)},isEmptyObject:function(e){for(var t in e){return false}return s.isPlainObject(e)},equals:function(e,t){var a;if(e===t){return true}if(!(e instanceof Object)||!(t instanceof Object)||e.constructor!==t.constructor){return false}for(a in e){if(!e.hasOwnProperty(a))continue;if(!t.hasOwnProperty(a))return false;if(e[a]===t[a])continue;if(typeof e[a]!=="object"||!s.equals(e[a],t[a]))return false}for(a in t){if(t.hasOwnProperty(a)&&!e.hasOwnProperty(a)){return false}}return true},isExist:function(e){if(typeof e==="undefined"||e===null){return false}return true}};return s});define("sap/viz/base/Logger",[],function e(){var t=function(){};Date.now=Date.now||function(){return+new Date};function a(){return this.threshold}function i(e){if(typeof e==="string")this.threshold=f(e);else if(typeof e==="number")this.threshold=e}var r=function(){this.threshold=E.LEVEL.INFO;this.layout=new E.DefaultLayout;this.print=typeof console!==undefined?function(e){console.log(e)}:t};r.prototype={doAppend:function(e,t,a,i){this.print(this.layout.format(e,t,a,i))},setLayout:function(e){e.format&&(this.layout=e)},getLevel:a,setLevel:i};var s=function(){};s.prototype.format=function(e,t,a,i){return"["+e+"]"+"["+c(t)+"]"+"["+(a||"main")+"]-"+i};var o=function(e){this.threshold=E.LEVEL.INFO;this.div=e;this.layout=new n};o.prototype={getLevel:a,setLevel:i,doAppend:function(e,t,a,i){this.div.insertAdjacentHTML("beforeend",this.layout.format(e,t,a,i))}};var n=function(){};n.prototype={format:function(e,t,a,i){return"<div>["+e+"]"+"["+c(t)+"]["+(a||"main")+"]-"+i+"</div>"}};var l=function(){this.array=[]};l.prototype={push:function(e){this.array[this.array.length]=e;return this.array.length},pull:function(){if(this.array.length>0){var e=this.array[0];for(var t=0;t<this.array.length-1;t++){this.array[t]=this.array[t+1]}this.array.length=this.array.length-1;return e}return null},length:function(){return this.array.length}};var u=function(e){this.loggingUrl=e;this.isInProgress=false;this.threshold=E.LEVEL.INFO;this.bufferSize=20;this.timeout=2e3;this.loggingEventMap=[];this.layout=new E.JSONLayout;this.httpRequest=null;this.timer=undefined};function d(){var e=this;if(this.isInProgress===true){setTimeout(function(){d.call(e)},100)}else{this.send()}}u.prototype={getLevel:a,setLevel:i,doAppend:function(e,t,a,i){this.loggingEventMap.push([e,t,a,i]);if(this.loggingEventMap.length<=this.bufferSize||this.isInProgress===true){var r=this;if(this.timer===undefined){this.timer=setTimeout(function(){d.call(r)},100)}}if(this.loggingEventMap.length>=this.bufferSize&&this.isInProgress===false){if(this.timer!==undefined)clearTimeout(this.timer);this.send()}},send:function(){if(this.loggingEventMap.length>0){this.isInProgress=true;var e=[];var t;for(var a=0,i=this.loggingEventMap.length;a<i&&a<this.bufferSize;a++){t=this.loggingEventMap.shift();e.push(this.layout.format(t[0],t[1],t[2],t[3]))}var r=this.layout.getHeader();r+=e.join(this.layout.getSeparator());r+=this.layout.getFooter();var s=this;if(this.httpRequest===null){this.httpRequest=this.getXmlHttpRequest()}this.httpRequest.onreadystatechange=function(){s.onReadyStateChanged.call(s)};this.httpRequest.open("POST",this.loggingUrl,true);this.httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded");this.httpRequest.setRequestHeader("Content-length",r.length);this.httpRequest.send(r);s=this;try{setTimeout(function(){s.httpRequest.onreadystatechange=function(){};s.httpRequest.abort();s.isInProgress=false;if(s.loggingEventMap.length>0){s.send()}},this.timeout)}catch(e){}}},onReadyStateChanged:function(){var e=this.httpRequest;if(this.httpRequest.readyState!==4){return}var t=typeof e.status==="undefined"||e.status===0||e.status>=200&&e.status<300;if(t){this.isInProgress=false}else{}},getXmlHttpRequest:function(){var e=false;try{if(window.XMLHttpRequest){e=new XMLHttpRequest;if(e.overrideMimeType){e.overrideMimeType(this.layout.getContentType())}}else if(window.ActiveXObject){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){e=new ActiveXObject("Microsoft.XMLHTTP")}}}catch(t){e=false}if(!e){throw"browser don't support AJAX"}return e}};var h=function(){};h.prototype={format:function(e,t,a,i){var r='{\n "LoggingEvent": {\n';r+='\t"category": "'+(a||"main")+'",\n';r+='\t"level": "'+c(t)+'",\n';r+='\t"message": "'+i+'",\n';r+='\t"timestamp": "'+e+'"\n';r+="}\n}";return r},getContentType:function(){return"text/json"},getHeader:function(){var e="unknown";try{e=navigator.userAgent}catch(t){e="unknown"}var t="unknown";try{t=location.href}catch(e){t="unknown"}return"{"+'"ClientInfo" : {\n'+'\t"useragent": "'+e+'",\n'+'\t"referer": "'+t+'"\n},\n'+'"VizLogger": [\n'},getFooter:function(){return"\n]}"},getSeparator:function(){return",\n"}};var p=function(){};p.prototype={format:function(e,t,a,i){var r='<vizLogger:event category="';r+=(a||"main")+'" level="';r+=c(t)+'" timestamp="';r+=e+'">\n';r+="\t<vizLogger:message><![CDATA["+this.escapeCdata(i)+"]]></vizLogger:message>\n";r+="</vizLogger:event>";return r},getContentType:function(){return"text/xml"},getHeader:function(){var e="unknown";try{e=navigator.userAgent}catch(t){e="unknown"}var t="unknown";try{t=location.href}catch(e){t="unknown"}return'<vizLogger:eventSet useragent="'+e+'" referer="'+t.replace(/&/g,"&amp;")+'">\n'},getFooter:function(){return"</vizLogger:eventSet>\n"},getSeparator:function(){return"\n"},escapeCdata:function(e){return e.replace(/\]\]>/,"]]>]]&gt;<![CDATA[")}};function c(e){switch(e){case E.LEVEL.TRACE:return"TRACE";case E.LEVEL.DEBUG:return"DEBUG";case E.LEVEL.INFO:return"INFO";case E.LEVEL.WARN:return"WARN";case E.LEVEL.ERROR:return"ERROR"}}function f(e){switch(e.toLowerCase()){case"trace":return E.LEVEL.TRACE;case"debug":return E.LEVEL.DEBUG;case"info":return E.LEVEL.INFO;case"warn":return E.LEVEL.WARN;case"error":return E.LEVEL.ERROR}}var m=false;var _=false;var g=2e3;var v=function(e,t,a,i){for(appenderKey in z){if(z.hasOwnProperty(appenderKey)){appender=z[appenderKey];var r=appender.hasOwnProperty("profiling")&&e<=D.DEBUG;if(r||appender.threshold>=i&&e>=appender.threshold){appender.doAppend(Date.now(),e,t,a)}}}};var y=function(e,t,a){A();v(e,t,a)};var b=t;var x=function(){_=true;b=y};var A=function(){_=false;b=v};var M=0;var S=function(){return M++};var z={};var D={TRACE:5e3,DEBUG:1e4,INFO:2e4,WARN:3e4,ERROR:4e4,NO:Number.MAX_VALUE};var E={LEVEL:D,isEnabled:function(){return m},enable:function(){b=v;m=true},disable:function(){b=t;m=false},toggleEnable:function(){if(m)this.disable();else this.enable()},addAppender:function(){var e=S();var t,a;if(arguments.length===1){t=e;a=arguments[0]}else if(arguments.length>=2){t=arguments[0];a=arguments[1]}if(typeof a==="object"&&a.doAppend){if(z[t]!==undefined)return;z[t]=a;return t}},setAppenders:function(e){z=[];for(var t=0,a=e.length;t<a;t++){var i=e[t];if(i.appenderKey)this.addAppender(i.appenderKey,i.appender);else this.addAppender(i.appender)}},removeAppender:function(e){if(z[e]===undefined){return false}else{return delete z[e]}},getAppender:function(e){return z[e]},getAppenders:function(){var e=[];if(z){for(var t in z){if(z.hasOwnProperty(t)){var a=z[t];e.push(a)}}}return e},ConsoleAppender:r,DivAppender:o,AjaxAppender:u,DefaultLayout:s,HTMLLayout:n,XMLLayout:p,JSONLayout:h,level:D.INFO,trace:function(e,t){b(E.LEVEL.TRACE,t,e,this.level)},debug:function(e,t){b(E.LEVEL.DEBUG,t,e,this.level)},info:function(e,t){b(E.LEVEL.INFO,t,e,this.level)},warn:function(e,t){b(E.LEVEL.WARN,t,e,this.level)},error:function(e,t){b(E.LEVEL.ERROR,t,e,this.level)}};z["[default]"]=new E.ConsoleAppender;return E});define("sap/viz/base/utils/FunctionUtils",["sap/viz/base/utils/TypeUtils","sap/viz/base/Logger"],function e(t,a){var i=/\{(\d+)\}/g;var r=Array.prototype.slice;function s(){}function o(e){var t=arguments;if(t[0]){var e=t[0].replace(i,function(e,a){return t[parseInt(a)+1]});a.error(e);throw e}else{a.error("Unknown error!");throw"Unknown error!"}}function n(){var e=[];function i(){for(var t=0,a=e.length;t<a;t++){e[t].apply(this,arguments)}}function s(){for(var i=0,r=arguments.length;i<r;i++){if(t.isFunction(arguments[i])){e.push(arguments[i])}else{a.error("Could not create call chain for non-function object");throw"Could not create call chain for non-function object"}}}i.chain=function(){return n.apply(null,[].concat(e,r.call(arguments)))};s.apply(null,arguments);return i}var l={noop:s,unsupported:function(e){if(arguments.length){return function(){throw new Error(e||"Unsupported function!")}}else throw new Error("Unsupported function!")},unimplemented:function(e){if(arguments.length){return function(){throw new Error(e||"Unimplemented function!")}}else throw new Error("Unimplemented function!")},error:o,ascending:function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},descending:function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},createCallChain:n};return l});define("sap/viz/base/Class",["sap/viz/base/utils/FunctionUtils","sap/viz/base/utils/TypeUtils"],function e(t,a){var i=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;var r=t.createCallChain;function s(){}function o(e){var t=s.prototype=this.prototype;var a=this.chain?this.chain(e.constructor):r(this,e.constructor);var n=a.prototype=new s;n.constructor=a;delete e.constructor;var l;for(var u in e){l=e[u];n[u]=typeof l==="function"&&typeof t[u]==="function"&&i.test(l)?function(e,a){return function(){this._super=t[e];var i=a.apply(this,arguments);return i}}(u,l):l}a.extend=o;return a}function n(e){if(typeof e==="function"){e.extend=o;return e}else{var t=e.constructor||function(){},a=t.prototype;for(var i in e){if(e.hasOwnProperty(i)){a[i]=e[i]}}t.extend=o;return t}}return{define:n,extend:o}});define("sap/viz/data/description/DataContainer",["sap/viz/base/Class","exports"],function e(t){var a=t.define({constructor:function(e){this._uId=e;this._isFake=false;this._infos=null},getId:function(){return this._uId},fake:function(e){if(!arguments.length){return this._isFake}this._isFake=e},infos:function(e){if(!arguments.length){return this._infos}this._infos=e}});return a});define("sap/viz/base/utils/ObjectUtils",["sap/viz/base/utils/TypeUtils","sap/viz/base/utils/FunctionUtils"],function e(t,a){rvalidchars=/^[\],:{}\s]*$/,rvalidescape=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rvalidtokens=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g;var i={extend:function(){var e,a,r,s,o,n,l=arguments[0]||{},u=1,d=arguments.length,h=false;if(typeof l==="boolean"){h=l;l=arguments[1]||{};u=2}if(typeof l!=="object"&&!t.isFunction(l)){l={}}if(d===u){l=this;--u}for(;u<d;u++){if((e=arguments[u])!=null){for(a in e){r=l[a];s=e[a];if(l===s){continue}if(h&&s&&(t.isPlainObject(s)||(o=t.isArray(s)))){if(o){o=false;n=r&&t.isArray(r)?r:[]}else{n=r&&t.isPlainObject(r)?r:{}}l[a]=i.extend(h,n,s)}else if(s!==undefined){l[a]=s}}}}return l},each:function(e,a,i){var r,s=0,o=e.length,n=o===undefined||t.isFunction(e);if(i){if(n){for(r in e){if(a.apply(e[r],i)===false){break}}}else{for(;s<o;){if(a.apply(e[s++],i)===false){break}}}}else{if(n){for(r in e){if(a.call(e[r],r,e[r])===false){break}}}else{for(var l=e[0];s<o&&a.call(l,s,l)!==false;l=e[++s]){}}}return e},parseJSON:function(e){if(typeof e!=="string"||!e){return null}e=e.trim();if(rvalidchars.test(e.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))){return window&&window.JSON&&window.JSON.parse&&window.JSON.parse(e)}else{t.error("Invalid JSON: "+e)}},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,a=e=="x"?t:t&3|8;return a.toString(16)})},clone:function e(a){if(typeof a!=="object")return a;if(a===null)return a;var i=t.isArray(a)?[]:{};for(var r in a){i[r]=typeof a[r]==="object"?e(a[r]):a[r]}return i},deepEqual:function(e,t){if(typeof e==="object"&&typeof t==="object"){var a=null;for(a in e){if(e.hasOwnProperty(a)){if(!t.hasOwnProperty(a)){return false}else if(!this.deepEqual(e[a],t[a])){return false}}}for(a in t){if(t.hasOwnProperty(a)){if(!e.hasOwnProperty(a)){return false}}}return true}else{return e===t}},leftEqual:function(e,t){if(typeof e==="object"&&typeof t==="object"){var a=null;for(a in e){if(e.hasOwnProperty(a)){if(!t.hasOwnProperty(a)){return false}else if(!this.leftEqual(e[a],t[a])){return false}}}return true}else{return e===t}},hasElement:function(e,t){for(var a=0;a<e.length;a++){if(this.deepEqual(e[a],t)){return true}}return false}};return i});define("sap/viz/data/description/MeasureValues",["sap/viz/base/utils/ObjectUtils","sap/viz/data/description/DataContainer","exports"],function e(t,a){var i=a.extend({constructor:function(e,t){this._values=t},getValues:function(){return this._values}});return i});define("sap/viz/lang/LangMessageUtil",[],function e(){var t={5e4:"IDS_ERROR_DIMENSION_NOT_ZERO",50001:"IDS_ERROR_DIMENSION_WRONG_COUNT",50002:"IDS_ERROR_DIMENSION_WRONG_LABELS_COUNT",50003:"IDS_ERROR_WRONG_VALUES_COUNT_IN_AA2",50004:"IDS_ERROR_WRONG_VALUES_COUNT_IN_AA1",50005:"IDS_ERROR_NOT_MEET_NUMBER_OF_FEED",50006:"IDS_ERROR_WRONG_FEED_TYPE",50007:"IDS_ERROR_WRONG_FEED_TYPE_IN_DEFINTION",50008:"IDS_ERROR_WRONG_AXIS_INDEX",50009:"IDS_ERROR_WRONG_MEASURE_AXIS_INDEX",50010:"IDS_ERROR_INVALID_FEEDING",50011:"IDS_ERROR_NO_FEED_ID",50012:"IDS_ERROR_INVALID_FEEDING_NUMBER",50013:"IDS_ERROR_NO_AXIS",50014:"IDS_ERROR_FEED_NOT_ACCEPT_DATA",50015:"IDS_ERROR_NOT_FIND_MEASURE_GROUP",50016:"IDS_ERROR_NOT_ACCEPT",50017:"IDS_ERROR_INVALID_BINDING",50018:"IDS_ERROR_NOT_FIND_FEED_DEFINITION",50019:"IDS_ERROR_WRONG_TYPE",50020:"IDS_ERROR_NOT_SUPPORTED",50021:"IDS_ERROR_NOT_DETERMINE_AXIS_INDEX",50022:"IDS_ERROR_NOT_ACCEPT_2_OR_MORE_AXES",50023:"IDS_ERROR_AXIS_INDEX_SHOULD_BE_1_OR_2",50024:"IDS_ERROR_NOT_DETERMINE_DEMENSION",50025:"IDS_ERROR_UNKNOWN_STATE",50026:"IDS_ERROR_INVALID_PATH_DEFINITION",50027:"IDS_ERROR_NODE_NOT_IN_SAME_ROOT",50028:"IDS_ERROR_NOT_ADD_SELF_AS_CHILD",50029:"IDS_ERROR_NOT_ADD_ANCESTOR_AS_CHILD",50030:"IDS_ERROR_NOT_CHILD_NODE_INSERT",50031:"IDS_ERROR_NODE_IS_NOT_CHILD_OF_THIS_NODE",50032:"IDS_ERROR_SELECTOR_NOT_NULL",50033:"IDS_ERROR_NOT_FIND_JQUERY",50034:"IDS_ERROR_NEED_SPECIFY_OPTIONS_TO_INITIALIZE",50035:"IDS_ERROR_NEED_SPECIFY_HOLDER_FOR_VISUALIZATION",50036:"IDS_ERROR_NOT_INITIALIZE_WITHOUT_UICONTROLLER",50037:"IDS_ERROR_NEED_PROVIDE_CONTAINER_FOR_FRAME",50038:"IDS_ERROR_CATEGORY_NAME_NOT_EMPTY",50039:"IDS_ERROR_CATEGORY_FACTORY_MUST_BE_FUNCTION",50040:"IDS_ERROR_EXIST_CATEGORY_NAME",50041:"IDS_ERROR_NOT_REGISTER_UNDEFINED_OBJECT",50042:"IDS_ERROR_NOT_REGISTER_WITHOUT_VALID_ID",50043:"IDS_ERROR_UNKNOWN_ERROR",50044:"IDS_ERROR_NOT_CREATE_CHAIN_FOR_NON_FUNCTION_OBJECT",50045:"IDS_ERROR_AXIS_ALREADY_EXIST",50046:"IDS_ERROR_CAN_NOT_FIND_CATEGORY",50047:"IDS_ERROR_ALREADY_EXIST_IN_CATEGORY",50048:"IDS_ERROR_LOADING_TEMPLATE_FAIL",50049:"IDS_ERROR_PARSE_ERROR_EXPECT_TO",50050:"IDS_ERROR_FLATTABLE_FEED_DEF_FIELD_INDEX_MISSING",50051:"IDS_ERROR_FLATTABLE_MANNUAL_FEED_WRONG_BINDING",50052:"IDS_ERROR_FLATTABLE_INVALID_DATA_PARAM",50053:"IDS_ERROR_DIMENSIONS_INCOMPLETE_BINDING",50054:"IDS_ERROR_DIMENSIONS_OR_MEASURES_DUPLICATED_BINDING",4e4:"IDS_WARN_PARAMETER_NOT_CORRECT",40001:"IDS_WARN_LOCALE_NOT_CORRECT"};var a=null;function i(){if(a===null&&t){a={};for(var e in t){if(t.hasOwnProperty(e)){a[t[e]]=e}}}return a}var r={register:function(e,r){if(a===null){a=i()}if(t&&t.hasOwnProperty(e)===false&&a.hasOwnProperty(r)===false){t[e]=r;a[r]=e}else{}},getIDSByNumber:function(e){if(t&&t.hasOwnProperty(e)){return t[e]}else{return undefined}},getNumberByIDS:function(e){if(a===null){a=i()}if(a&&a.hasOwnProperty(e)){return a[e]}else{return undefined}}};return r});define("sap/viz/base/utils/ResouceBundleUtils",[],function e(){var t={substitute:function(e,t){if(e==null)return"";if(!t){t=[]}var a=t.length;for(var i=0;i<a;i++){e=e.replace(new RegExp("\\{"+i+"\\}","g"),t[i])}return e}};return t});define("sap/viz/base/utils/loadScript",[],function(){return function(e,t){var a=0;var i=document.getElementsByTagName("head")[0]||document.documentElement;var r=document.createElement("script");r.type="text/javascript";r.src=e;function s(e){r.onload=r.onreadystatechange=null;if(r.parentNode){r.parentNode.removeChild(r)}t(e)}r.onload=r.onreadystatechange=function(){if(!a&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){a=1;s()}};if(r.addEventListener){r.addEventListener("error",s,true)}if(i.firstChild){i.insertBefore(r,i.firstChild)}else{i.appendChild(r)}}});define("sap/viz/base/utils/loadResource",["sap/viz/base/utils/loadScript","sap/viz/base/utils/ObjectUtils"],function(e,t){var a={};var i={};function r(e){if(e.indexOf("resources/langs/charts")>=0){e=e.replace("resources/langs/charts","resources/chart/langs")}else if(e.indexOf("resources/langs/sdk")>=0){e=e.replace("resources/langs/sdk","resources/framework/langs")}else if(e.indexOf("resources/templates")>=0){e=e.replace("resources/templates","resources/chart/templates")}return e}function s(t,a,s,o){function n(a,l){var u=o.getUrl(l?l:t,a);if(i[u]){s(l?l:t,a)}else{e(u,function(e){if(e){var d=r(l?l:t);if(d!==(l?l:t)){n(a,d)}else{if(o.degrade){a=o.degrade(a);if(a){n(a);return}}s(t,a,e)}}else{i[u]=1;setTimeout(function(){s(l?l:t,a)},4)}})}}n(a)}function o(e){var i=e.id;var r=e.paths||[];var o=[];var n=i+"_"+t.guid();a[n]=r.length;function l(t,r,s){if(s){o.push({path:t,id:r,err:s})}if(e.onPathComplete){e.onPathComplete(t,r,s)}if(--a[n]===0&&e.onComplete){e.onComplete(o,i)}}for(var u=0;u<r.length;++u){s(r[u],i,l,e)}}return o});define("sap/viz/lang/langManager",["sap/viz/base/utils/FunctionUtils","sap/viz/base/utils/ObjectUtils","sap/viz/lang/LangMessageUtil","sap/viz/base/utils/ResouceBundleUtils","sap/viz/base/utils/loadResource","exports"],function(e,t,a,i,r){var s=[];var o={};var n="language";o[n]={};var l;if(window.sap&&sap.viz&&sap.viz.extapi&&sap.viz.extapi.manifest&&sap.viz.extapi.manifest._queue&&sap.viz.extapi.manifest._queue.language&&sap.viz.extapi.manifest._queue.language.registerList){l=sap.viz.extapi.manifest._queue.language.registerList;delete sap.viz.extapi.manifest._queue.language;if(sap.viz.extapi.manifest._queue.viz===undefined&&sap.viz.extapi.manifest._queue.module===undefined&&sap.viz.extapi.manifest._queue.template===undefined&&sap.viz.extapi.manifest._queue.language===undefined){delete sap.viz.extapi.manifest._queue}}var u={loadPath:["../../../resources/langs/charts/","../../../resources/langs/sdk/"],fileNameTemplate:"language_${lang}.js",alias:{ar_AE:"ar",ar_EG:"ar",ar_SA:"ar",bg_BG:"bg",ca_ES:"ca",cs_CZ:"cs",da_DK:"da",de_CH:"de",de_AT:"de",de_BE:"de",de_LU:"de",de_DE:"de",el_CY:"el",el_GR:"el",en_AU:"en",en_CA:"en",en_GB:"en",en_HK:"en",en_ID:"en",en_IE:"en",en_IN:"en",en_IS:"en",en_MY:"en",en_NZ:"en",en_PH:"en",en_SG:"en",en_US:"en",en_ZA:"en",es_AR:"es",es_BO:"es",es_CL:"es",es_CO:"es",es_ES:"es",es_MX:"es",es_PE:"es",es_UY:"es",es_VE:"es",et_EE:"et",fa_IR:"fa",fi_FI:"fi",fr_BE:"fr",fr_CA:"fr",fr_CH:"fr",fr_FR:"fr",fr_LU:"fr",he_IL:"iw",he:"iw",hi_IN:"hi",hr_HR:"hr",hu_HU:"hu",id_ID:"id",it_CH:"it",it_IT:"it",ja_JP:"ja",ko_KR:"ko",lt_LT:"lt",lv_LV:"lv",nb_NO:"nb",nl_BE:"nl",nl_NL:"nl",nn_NO:"nn",pl_PL:"pl",pt_BR:"pt",pt_PT:"pt",ro_RO:"ro",ru_KZ:"ru",ru_RU:"ru",ru_UA:"ru",sh_ME:"sr",sh_RS:"sr",sk_SK:"sk",sl_SL:"sl",sl_SI:"sl",sv_SE:"sv",th_TH:"th",tr_CY:"tk",tr_TR:"tk",uk_UA:"uk",vi_VI:"vi",vi_VN:"vi",zf_TW:"zh_TW",zh_HK:"zh_CN",zh:"zh_CN"},defaultLanguage:"en",currentLanguage:"en",current:function(){return u.currentLanguage},register:function(e){o[e.id]=t.extend(true,o[e.id],e.value);return u},apply:function(t,a,i){var n=h(t);var l=[];function d(a,i,r){var s;if(!i){s="Failed to load language "+t+" from path "+a+"."}else if(n!==i){s="Language "+t+" is degraded to "+i+" for path "+a+"."}if(s){l.push(s);try{e.error(s)}catch(e){}}}function m(){f();if(l.length&&i){i(t,l.join("\n"))}u.currentLanguage=t;t=n;var e=o[t];while(!e){t=p(t);e=t&&o[t]}for(var r=0;r<s.length;++r){var d=s[r];d.fn.apply(d.scope,[e])}if(a){a()}}if(n){r({id:n,paths:u.loadPath,getUrl:c,degrade:p,onPathComplete:d,onComplete:m})}else{f()}return u},get:function(e,t){var a=h(t||u.currentLanguage);var i=o[a];var r=i&&i[e];while(a&&a!==n&&typeof r!=="string"){a=p(a);i=a&&o[a];r=i&&i[e]}return r||""},getLogMessage:function(e){var t=a.getNumberByIDS(e);var r=u.get(e);if(arguments.length>1){r=i.substitute(r,Array.prototype.slice.call(arguments,1))}return(t?"["+t+"] - ":"")+r},getLogMessageByID:function(t){var i=a.getIDSByNumber(t);if(!i){e.error("Not exist the log ID {0}.",t)}return u.get(i)},addLanguageFolder:function(e){u.loadPath.push(e);return u.loadPath},addListener:function(e){s.push(e);return u},removeListener:function(e){var t=s.indexOf(e);if(t>=0){s.splice(t,1)}return u}};function d(e){return String(e).replace(/-/g,"_")}function h(e){e=d(e);return u.alias&&u.alias[e]||e}function p(e){var t=u.degrade;if(t&&t[e]){return t[e]}var a=String(e).match(/^([a-zA-Z]+)([_-][a-zA-Z]+)?$/);if(a){var i=a[1].toLowerCase();if(a[2]){return i}else if(i!==n){return n}}return null}function c(e,t){e=/\/$/.test(e)?e:e+"/";var a=t===n?n+".js":u.fileNameTemplate.replace(/\$\{lang\}/gi,t);return e+a}function f(){if(l){for(var e=0;e<l.length;++e){u.register(l[e])}}}f();return u});define("sap/viz/data/description/MeasureValuesGroup",["sap/viz/data/description/MeasureValues","sap/viz/base/utils/FunctionUtils","sap/viz/lang/langManager","exports"],function e(t,a,i){var r=function(e){this._measureValues=[];this.init(e)};r.prototype.init=function(e){for(var a=0;a<e.length;a++){this._measureValues[a]=new t(e[a]["name"],e[a]["values"]);this._measureValues[a].fake(e[a]["isFake"]?e[a]["isFake"]:false);this._measureValues[a].infos(e[a]["infos"]?e[a]["infos"]:null)}};r.prototype.getMeasureValues=function(){return this._measureValues};r.prototype.getType=function(){return"measureValuesGroup"};r.prototype.validate=function(e){var t,r,s,o;if(!arguments.length){var n=[1,1];t=this.getMeasureValues();for(s=0;s<t.length;s++){r=t[s].getValues();if(s===0){if(r.length!==n[1]){a.error(i.getLogMessage("IDS_ERROR_WRONG_VALUES_COUNT_IN_AA2",t[s].getId(),n[1]))}n[0]=r[0].length}else{if(r.length!==n[1]){a.error(i.getLogMessage("IDS_ERROR_WRONG_VALUES_COUNT_IN_AA2",t[s].getId(),n[1]))}for(o=0;o<r.length;o++){if(r[o].length!==n[0]){a.error(i.getLogMessage("IDS_ERROR_WRONG_VALUES_COUNT_IN_AA1",t[s].getId(),n[0]))}}}}return n}else{t=this.getMeasureValues();for(s=0;s<t.length;s++){r=t[s].getValues();if(r.length!==e[1]){a.error(i.getLogMessage("IDS_ERROR_WRONG_VALUES_COUNT_IN_AA2",t[s].getId(),e[1]))}for(o=0;o<r.length;o++){if(r[o].length!==e[0]){a.error(i.getLogMessage("IDS_ERROR_WRONG_VALUES_COUNT_IN_AA2",t[s].getId(),e[0]))}}}}};r.prototype.hasFakeData=function(){var e=this.getMeasureValues();for(var t=0;t<e.length;t++){if(e[t].fake()){return true}}return false};return r});define("sap/viz/data/description/DimensionLabels",["sap/viz/base/utils/ObjectUtils","sap/viz/data/description/DataContainer","exports"],function e(t,a){var i=a.extend({constructor:function(e,t,a){this._type=t;this._values=a},getValues:function(){return this._values},getType:function(){return this._type}});return i});define("sap/viz/data/description/AnalysisAxis",["sap/viz/data/description/DimensionLabels","sap/viz/base/utils/FunctionUtils","sap/viz/base/utils/TypeUtils","sap/viz/lang/langManager","exports"],function e(t,a,i,r){var s=function(e){this._dimensionLabels=[];this.init(e)};s.prototype.init=function(e){for(var a=0;a<e.length;a++){this._dimensionLabels[a]=new t(e[a]["name"],e[a]["type"]?e[a]["type"]:"Dimension",e[a]["values"]);this._dimensionLabels[a].fake(e[a]["isFake"]?e[a]["isFake"]:false);this._dimensionLabels[a].infos(e[a]["infos"]?e[a]["infos"]:null)}};s.prototype.getDimensionLabels=function(){return this._dimensionLabels};s.prototype.getType=function(){return"analysisAxis"};s.prototype.validate=function(){var e=1;var t=this.getDimensionLabels();if(t.length===0){a.error(r.getLogMessage("IDS_ERROR_DIMENSION_NOT_ZERO"))}for(var s=0;s<t.length;s++){if(s===0){e=t[s].getValues().length;if(i.isExist(t[s].infos())&&e!==t[s].infos().length){a.error(r.getLogMessage("IDS_ERROR_DIMENSION_WRONG_COUNT",t[s].getId()))}}else{if(e!==t[s].getValues().length){a.error(r.getLogMessage("IDS_ERROR_DIMENSION_WRONG_LABELS_COUNT",t[s].getId()))}if(i.isExist(t[s].infos())&&e!==t[s].infos().length){a.error(r.getLogMessage("IDS_ERROR_DIMENSION_WRONG_COUNT",t[s].getId()))}}}return e};s.prototype.hasFakeData=function(){var e=this.getDimensionLabels();for(var t=0;t<e.length;t++){if(e[t].fake()){return true}}return false};return s});define("sap/viz/data/feed/feed",["sap/viz/base/utils/FunctionUtils"],function e(t){return function(e,t,a,i,r,s,o,n,l,u){var d=e;var h=t;var p=a;var c=i;var f=r;var m=s;var _=o;var g=n;var v=l;var y=u;var b=[];function x(){return x}x.feedId=function(e){if(!arguments.length){return d}d=e;return x};x.feedName=function(e){if(!arguments.length){return h}h=e;return x};x.type=function(e){if(!arguments.length){return p}p=e;return x};x.min=function(e){if(!arguments.length){return c}c=e;return x};x.max=function(e){if(!arguments.length){return f}f=e;return x};x.analysisAxisIndex=function(e){if(!arguments.length){return m}m=e;return x};x.measureGroupIndex=function(e){if(!arguments.length){return g}g=e;return x};x.acceptMND=function(e){if(!arguments.length){return _}_=e;return x};x.maxStackedDims=function(e){if(!arguments.length){return v}v=e;return x};x.minStackedDims=function(e){if(!arguments.length){return y}y=e;return x};x.data=function(e){if(!arguments.length){return b}b=e;return x};x.addData=function(e){b.push(e);return x};x.getMeasureNames=function(){var e=g-1;var t=[];for(var a=0;a<b.length;a++){t.push({val:b[a]["name"],ctx:{mg:e,mi:a}})}return t};x.getMeasureValues=function(){var e=[];if(b.length>0){return b[0].getMeasureValues()}return e};x.getMeasureCount=function(){return b.length};x.hasMNDFeeded=function(){var e=x.data();for(var t=0;t<e.length;t++){if(e[t].getType()==="measureNamesDimension"){return true}}return false};x.hasFeeded=function(){return x.data().length>0?true:false};x.getIndex=function(){return x.analysisAxisIndex()?x.analysisAxisIndex():x.measureGroupIndex()};x.getDataCount=function(){if(x.type()==="Dimension"){return x.data().length}else{return x.data().length>0?x.data()[0].getMeasureValues().length:0}};return x}});define("sap/viz/data/feed/feeder",["sap/viz/data/feed/feed","sap/viz/base/utils/FunctionUtils","sap/viz/base/utils/TypeUtils","sap/viz/data/description/DimensionLabels","sap/viz/lang/langManager"],function e(t,a,i,r,s){return function(e,o,n){var l="Dimension";var u="Measure";var d="feedId";var h="binding";var p="type";var c="index";var f=[];var m=[];var _=[];var g={};var v=[];function y(){return y}y.init=function(){b(e);if(o){if(n){M(o,n)}else{x(o)}y.checkValid()}};y.getFeeds=function(){return _};y.findFeed=function(e){return g[e]};y.getAnalysisAxisIndex=function(e){for(var t=0;t<f.length;t++){if(f[t]===e){return t}}};y.getMeasureValuesGroupIndex=function(e){for(var t=0;t<m.length;t++){if(m[t]===e){return t}}};y.getMeasureValuesGroupFeeds=function(){return m};y.checkValid=function(){for(var e=0;e<_.length;e++){var t=_[e];var i;if(t.type()==="Dimension"){i=t.getDataCount();if(i<t.min()||t.max()!==Number.POSITIVE_INFINITY&&i>t.max()){a.error(s.getLogMessage("IDS_ERROR_NOT_MEET_NUMBER_OF_FEED",t.feedId()))}}else if(t.type()==="Measure"){i=t.getDataCount();if(i<t.min()||t.max()!==Number.POSITIVE_INFINITY&&i>t.max()){a.error(s.getLogMessage("IDS_ERROR_NOT_MEET_NUMBER_OF_FEED",t.feedId()))}}else{a.error(s.getLogMessage("IDS_ERROR_WRONG_FEED_TYPE",t.feedId()))}}};y.getBindingInfo=function(){return v};function b(e){if(i.isArray(e)){var r=0;for(var o=0;o<e.length;o++){var n=e[o]["type"];var d=e[o]["aaIndex"];var h=e[o]["id"];if(n!==l&&n!==u){a.error(s.getLogMessage("IDS_ERROR_WRONG_FEED_TYPE_IN_DEFINTION",e[o]["id"]))}if(e[o]["type"]===l){if(e[o]["aaIndex"]<=0){a.error(s.getLogMessage("IDS_ERROR_WRONG_AXIS_INDEX",e[o]["id"]))}r++}if(e[o]["type"]===u){if(e[o]["mgIndex"]<=0){a.error(s.getLogMessage("IDS_ERROR_WRONG_MEASURE_AXIS_INDEX",e[o]["id"]))}}var p=_.push(t(h,e[o]["name"],n,e[o]["min"],e[o]["max"],d,e[o]["acceptMND"],e[o]["mgIndex"],e[o]["maxStackedDims"],e[o]["minStackedDims"]));g[h]=_[p-1]}for(o=0;o<r;o++){v[o]=false}}}function x(e){var t=e.getAnalysisAxisCount();var r;for(var o=0;o<t;o++){r=A(_,l,o+1);if(r){var n=e.getAnalysisAxisByIdx(o);if(i.isExist(r.maxStackedDims())&&n.getDimensionLabels().length>r.maxStackedDims()){a.error(s.getLogMessage("IDS_ERROR_INVALID_FEEDING",r.feedId()))}if(i.isExist(r.minStackedDims())&&n.getDimensionLabels().length<r.minStackedDims()){a.error(s.getLogMessage("IDS_ERROR_INVALID_FEEDING",r.feedId()))}f[o]=r;v[o]=true;r.addData(n)}}var d=e.getMeasureValuesGroupCount();for(o=0;o<d;o++){r=A(_,u,o+1);if(r){m[o]=r;if(e.getMeasureValuesGroupByIdx(o)){r.addData(e.getMeasureValuesGroupByIdx(o))}}}}function A(e,t,a){for(var i=0;i<e.length;i++){if(e[i].type()===t&&e[i].getIndex()===a){return e[i]}}return null}function M(e,t){var o;for(var n=0;n<t.length;n++){var l=t[n];var u=l[d];if(!u){a.error(s.getLogMessage("IDS_ERROR_NO_FEED_ID"))}var _=g[u];if(!_){a.error(s.getLogMessage("IDS_ERROR_INVALID_FEEDING_NUMBER",u))}var y=l[h];for(var b=0;b<y.length;b++){var x=y[b][p];var A=y[b][c];if(x==="analysisAxis"){var M=e.getAnalysisAxisByIdx(A-1);if(!M){a.error(s.getLogMessage("IDS_ERROR_NO_AXIS",A,u))}if(i.isExist(_.maxStackedDims())&&M.getDimensionLabels().length>_.maxStackedDims()){a.error(s.getLogMessage("IDS_ERROR_INVALID_FEEDING",u))}if(i.isExist(_.minStackedDims())&&M.getDimensionLabels().length<_.minStackedDims()){a.error(s.getLogMessage("IDS_ERROR_INVALID_FEEDING",u))}o=_.getDataCount();if(_.max()!==Number.POSITIVE_INFINITY&&o>=_.max()){a.error(s.getLogMessage("IDS_ERROR_FEED_NOT_ACCEPT_DATA",u))}_.addData(M);f[A-1]=_;v[_.getIndex()-1]=true}else if(x==="measureValuesGroup"){var S=e.getMeasureValuesGroupByIdx(A-1);if(!S){a.error(s.getLogMessage("IDS_ERROR_NOT_FIND_MEASURE_GROUP",A,u))}o=_.getDataCount();if(_.max()!==Number.POSITIVE_INFINITY&&o>=_.max()){a.error(s.getLogMessage("IDS_ERROR_FEED_NOT_ACCEPT_DATA",u))}_.addData(S);m[_.getIndex()-1]=_}else if(x==="measureNamesDimension"){if(_.acceptMND()<0){a.error(s.getLogMessage("IDS_ERROR_NOT_ACCEPT"),"MeasureNamesDimension "+u+" "+s.get("IDS_FEED"))}o=_.getDataCount();if(_.max()!==Number.POSITIVE_INFINITY&&o>=_.max()){a.error(s.getLogMessage("IDS_ERROR_FEED_NOT_ACCEPT_DATA",u))}_.addData(new r("","measureNamesDimension",""))}else{a.error(s.getLogMessage("IDS_ERROR_INVALID_BINDING"))}}}}y.init();return y}});define("sap/viz/data/info/Handler",["sap/viz/base/utils/ObjectUtils","sap/viz/base/utils/TypeUtils"],function e(t,a){var i="analysisAxis";var r="measureValuesGroup";var s={};var o={};function n(e,t){var a=e[i].concat(e[r]);var s=[];a.forEach(function(e,a){var i=e.data;i.forEach(function(e,a){if(e.name===t){s.push(e)}},this)},this);return s}var l={type:"valueinfo",process:function(e,t){var a,i,s,o,n,u,d,h;var p,c,f,m,_=t[r];for(a=0,i=e.length;a<i;a++){p=e[a];if(p!==undefined){for(s=0,o=_.length;s<o;s++){f=_[s];c=f.data;for(n=0,u=c.length;n<u;n++){m=c[n];if(!m.infos){m.infos=[]}for(d=0,h=m.values.length;d<h;d++){if(!m.infos[d]){m.infos[d]=[]}if(!m.infos[d][a]){m.infos[d][a]={}}m.infos[d][a][l.type]=p}}}}}},merge:function(e){},remove:function(e){d(l.type,e)}};var u={type:"defaultSelection",process:function(e,t){var a;var s,o,n;var l=t[i]&&t[i][1]?true:false;var u=t[i]?t[i][0].data[0].values.length:t[r][0].data[0].values[0].length,d=l?t[i][1].data[0].values.length:1;var c,f,m;var _,g;for(c=0,n=e.length;c<n;c++){s=new Array(u),o=new Array(d);_=[];a=e[c];h(t,a,s,o);if(!l){o[0]=true}for(f=0;f<o.length;f++){g=[];for(m=0;m<s.length;m++){var v={defaultSelection:{isSelected:false,index:c}};if(o[f]&&s[m]){v.defaultSelection.isSelected=true}g.push(v)}_.push(g)}p(t,a,_)}},remove:function(e){d(u.type,e)},merge:function(e){}};function d(e,t){var i,s,o,n=t[r];if(!n||!a.isArray(n)){return}var l,u,d,h,p,c,f,m;var _=false;for(l=0,u=n.length;l<u;l++){i=n[l].data;for(d=0,h=i.length;d<h;d++){s=i[d];if(s.infos){_=false;for(p=0,c=s.infos.length;p<c;p++){o=s.infos[p];for(f=0,m=o.length;f<m;f++){if(o[f]){delete o[f][e];if(a.isEmptyObject(o[f])){o[f]=undefined}else{_=true}}}}}if(!_){delete s.infos}}}}function h(e,t,a,r){var s=e[i];if(!s){for(var o=0;o<a.length;o++){a[o]=true}return}s.forEach(function(e,i){var s=e.data;s.forEach(function(i,s){var o=t[i.name];for(var n=0;n<i.values.length;n++){var l=o==="*"||o!==null&&i.values[n]===o;if(l){if(s===0){if(e.index===1){a[n]=true}else{r[n]=true}}else{if(e.index===1){if(a[n]!==true){a[n]=undefined}}else{if(r[n]!==true){r[n]=undefined}}}}else{if(e.index===1){a[n]=undefined}else{r[n]=undefined}}}},this)},this)}function p(e,t,a){var i=e[r];var s=[],o,n,l;for(n=0;n<a.length;n++){o=[];for(l=0;l<a[n].length;l++){var u={defaultSelection:{isSelected:false}};o.push(u)}s.push(o)}i.forEach(function(e,i){var r=e.data;var o,n,l;r.forEach(function(e,i){if(e.name===t["Measure"]){l=a}else{l=s}if(!e.infos){e.infos=l}else{for(o=0;o<l.length;o++){var r=l[o];var u=e.infos[o];for(n=0;n<r.length;n++){var d=u[n]["defaultSelection"].isSelected;if(!d){u[n]["defaultSelection"]=r[n]["defaultSelection"]}}}}},this)},this)}var c={type:"customlabel",process:function(e,t){var i,r,s,o,l,u,d,h;for(var p=0,f=e.length;p<f;p++){i=e[p];r=i.name;s=n(t,r);s.forEach(function(e,t){d=false;if(!e.infos){h=true;e.infos=[]}u=e.values;o=i.mapping;u.forEach(function(t,i){if(o[t]){if(o[t].type==="string"&&o[t].val===t){if(e.infos[i]){delete e.infos[i][c.type];if(a.isEmptyObject(e.infos[i])){e.infos[i]=undefined}}else{e.infos[i]=undefined}}else{d=true;e.infos[i]=e.infos[i]?e.infos[i]:{};e.infos[i][c.type]=o[t]}}else{if(!e.infos[i]){e.infos[i]=undefined}}},this);if(h&&!d){delete e.infos}},this)}},merge:function(e){var t={};t.type=c.type;t.value=[];var r=e[i];if(!r||!a.isArray(r)){return}var s;r.forEach(function(e,a){var i=e.data;i.forEach(function(e,a){if(e.infos){var i={};i.name=e.name;i.mapping={};s=false;e.infos.forEach(function(t,a){if(t&&t[c.type]){s=true;i.mapping[e.values[a]]=t[c.type]}},this);if(s){t.value.push(i)}}},this)},this);if(t.value.length>0){return t}},remove:function(e){var t=e[i];var r=false;t.forEach(function(e,t){var i=e.data;i.forEach(function(e,t){if(e.infos){r=false;e.infos.forEach(function(t,i){if(t){delete t[c.type];if(a.isEmptyObject(t)){e.infos[i]=undefined}else{r=true}}},this);if(!r){delete e.infos}}},this)},this)}};s.register=function(e){o[e.type]=e};s.get=function(e){return o[e]};s.mergeInfo=function(e){var a,i=[],r;for(var s in o){if(o.hasOwnProperty(s)){a=o[s];r=a.merge(e);if(r){i.push(t.extend(true,{},r))}}}return i};s.register(c);s.register(u);s.register(l);return s});define("sap/viz/data/info/CrosstableHandler",["sap/viz/base/utils/TypeUtils","sap/viz/base/utils/ObjectUtils"],function e(t,a){var i="analysisAxis";var r="measureValuesGroup";var s={};var o={};var n={};s.register=function(e,t){if(t){n[e.type]=e}else{o[e.type]=e}};s.get=function(e){if(n[e]){return n[e]}else{return o[e]}};s.getExternal=function(e){if(n[e]){return n[e]}};s.storeInfo=function(e,t){if(n[t.type]&&t.hasOwnProperty("info")){e[t.type]={type:t.type,info:t.info}}};s.mergeInfo=function(e){var t=[];for(var i in n){if(e.hasOwnProperty(i)){var r=e[i];var s={};s.type=r.type;s.info=r.info;if(s.info!=="undefined"){t.push(a.clone(s))}}}return t};var l={type:"additionalData",process:function(e,r,s,o){if(!e.hasOwnProperty("info")){return}var n=a.clone(e.info);if(n===undefined||t.isArray(n)&&n.length===0){_(l.type,r,s,o);return}else if(!t.isArray(n)){return}_(l.type,r,s,o);var h;for(var p=0;p<n.length;p++){h=-1;for(var c=0;c<s.length;c++){if(s[c].name===n[p].name){var m=s[c].index;var g=s[c].location;if(!n[p].hasOwnProperty("infoValues")){break}else if(n[p].infoValues===undefined){n[p].infoValues=[]}else if(!t.isArray(n[p].infoValues)){break}f(r[i][m].data[g],n[p].infoValues,l.type);h=s[c].index;break}}var v=[];if(h>=0){v=d(r,n[p].infoValues,h,o)}else{v.push(n[p])}if(v&&v.length>0){u(v,o,r)}}}};var u=function(e,a,i){var s;for(s=0;s<e.length;s++){var o=e[s];for(var n=0;n<a.length;n++){if(a[n].name===o.name){var u=a[n].index;var d=a[n].location;if(!o.hasOwnProperty("infoValues")){break}else if(o.infoValues===undefined){o.infoValues=[]}else if(!t.isArray(o.infoValues)){break}m(i[r][u].data[d],o.infoValues,l.type);break}}}};var d=function(e,t,r,s){var o=[];var n;for(n=0;n<s.length;n++){var l;var u;var d;if(e&&e[i]&&e[i].length>0&&e[i][0].data&&e[i][0].data.length>0&&e[i][0].data[0].values&&e[i][0].data[0].values.length>0){u=e[i][0].data[0].values.length}else{o=[];break}if(e[i].length===1){d=1}else if(e[i][1]&&e[i][1].data&&e[i][1].data[0]&&e[i][1].data[0].values&&e[i][1].data[0].values.length>0){d=e[i][1].data[0].values.length}else{o=[];break}var p={};p.name=s[n].name;var c=[];if(r===0){for(l=0;l<d;l++){c.push(a.clone(t))}}else{c=h(t,u)}p.infoValues=c;o.push(p)}return o};var h=function(e,t){var a=[];var i;for(i=0;i<e.length;i++){var r;var s=[];for(r=0;r<t;r++){s.push(e[i])}a.push(s)}return a};var p={type:"customlabel",process:function(e,a){var r=e.info;if(r===undefined||!t.isArray(r)){return}if(a[i]===undefined){return}var s,o,n,l,u,d,h,f;for(var m=0,_=r.length;m<_;m++){s=r[m];o=s.name;n=c(a,o);n.forEach(function(e,a){h=false;if(!e.infos){f=true;e.infos=[]}d=e.values;l=s.infoMappings;d.forEach(function(a,i){if(l[a]){if(l[a].type==="string"&&l[a].val===a){if(e.infos[i]){delete e.infos[i][p.type];if(t.isEmptyObject(e.infos[i])){e.infos[i]=undefined}}else{e.infos[i]=undefined}}else{h=true;e.infos[i]=e.infos[i]?e.infos[i]:{};e.infos[i][p.type]=l[a]}}else{if(!e.infos[i]){e.infos[i]=undefined}}},this);if(f&&!h){delete e.infos}},this)}}};function c(e,t){var a=e[i];if(e[r]!==undefined){a=e[i].concat(e[r])}var s=[];a.forEach(function(e,a){var i=e.data;i.forEach(function(e,a){if(e.name===t){s.push(e)}},this)},this);return s}function f(e,a,i){if(e["infos"]===undefined&&(t.isArray(a)&&a.length===0)){return}if(e["infos"]===undefined){e.infos=[]}var r=e.infos;var s=e.values.length;for(var o=0;o<s;o++){if(r[o]===undefined&&a[o]!==undefined){r[o]={}}if((r[o]===undefined||r[o]===null)&&a[o]===undefined){r[o]=undefined;continue}if(r[o]!==undefined){r[o][i]=a[o];if(r[o][i]===undefined){delete r[o][i]}}if(t.isEmptyObject(r[o])){r[o]=undefined}}}function m(e,i,r,s){if(e["infos"]===undefined&&(t.isArray(i)&&i.length===0)){return}if(e["infos"]===undefined){e.infos=[]}var o=e.infos;var n=e.values.length;var l=e.values[0].length;for(var u=0;u<n;u++){if(o[u]===undefined&&i[u]!==undefined){o[u]=[]}if(o[u]===undefined&&(i[u]===undefined||i[u]===null)){o[u]=i[u];continue}if(o[u]!==undefined&&(i[u]===undefined||i[u]===null)){for(var d=0;d<l;d++){if(o[u][d]!==undefined&&o[u][d]!==null&&o[u][d][r]!==undefined){if(s){o[u][d][r]=i[u];if(i[u]===undefined){delete o[u][d][r]}}else{if(o[u][d][r]){o[u][d][r]=a.extend(true,o[u][d][r],i[u])}else{o[u][d][r]=a.clone(i[u])}if(o[u][d][r]===undefined){delete o[u][d][r]}}}if(t.isEmptyObject(o[u][d])){o[u][d]=undefined}}continue}for(var d=0;d<l;d++){if(o[u][d]===undefined&&i[u][d]!==undefined){o[u][d]={}}if(o[u][d]===undefined&&i[u][d]===undefined){o[u][d]=undefined}if(o[u][d]!==undefined&&o[u][d]!==null){if(s){o[u][d][r]=i[u][d]}else{if(o[u][d][r]){o[u][d][r]=a.extend(true,o[u][d][r],i[u][d])}else{o[u][d][r]=a.clone(i[u][d])}}}if(o[u][d]!==undefined&&o[u][d]!==null&&o[u][d][r]===undefined){delete o[u][d][r]}if(t.isEmptyObject(o[u][d])){o[u][d]=undefined}}}}function _(e,t,a,s){for(var o=0;o<a.length;o++){var n=a[o].index;var u=a[o].location;f(t[i][n].data[u],[],l.type)}for(var o=0;o<s.length;o++){var n=s[o].index;var u=s[o].location;m(t[r][n].data[u],[],l.type,true)}}s.register(l,true);s.register(p);return s});define("sap/viz/data/CrosstableDataset",["sap/viz/data/feed/feeder","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/FunctionUtils","sap/viz/base/utils/ObjectUtils","sap/viz/data/description/AnalysisAxis","sap/viz/data/description/MeasureValuesGroup","sap/viz/data/info/Handler","sap/viz/data/info/CrosstableHandler","sap/viz/lang/langManager","exports"],function e(t,a,i,r,s,o,n,l,u){var d="type";var h="name";var p="values";var c="feedId";var f="MeasureNamesDimension";var m="analysisAxis";var _="measureValuesGroup";function g(e){var t=e.getValues();return t.length>0?t.length*t[0].length:0}function v(){this._analysisAxis=[];this._measureValuesGroup=[];this._dataSet={};this._measures=[];this._dimensions=[];this._emptyDataset=false;this._infos={}}v.prototype.data=function(e){if(!arguments.length){var t=r.clone(this._dataSet);if(this._emptyDataset){this.cleanDataset(t)}return t}this._analysisAxis=[];this._measureValuesGroup=[];this._measures=[];this._dimensions=[];this._dataSet=r.clone(e);this.init(this._dataSet);this._measures=this.getMetaNames(e,_);this._dimensions=this.getMetaNames(e,m);this._infos={};return this};v.prototype.setData=function(e){this.data(e)};v.prototype.getMetaNames=function(e,t){if(e==undefined){return}var i=[];var t=e[t];if(t===undefined||!a.isArray(t)){return i}for(var r=0;r<t.length;r++){var s=t[r].data;if(s===undefined||!a.isArray(s)){continue}for(var o=0;o<s.length;o++){if(s[o].name!==undefined){var n={name:s[o].name,index:r,location:o};i.push(n)}}}return i};v.prototype.info=function(e){if(!arguments.length){return l.mergeInfo(this._infos)}if(e!==undefined){if(e.type&&e.value){var t=n.get(e.type);if(t){t.process(e.value,this._dataSet)}}else if(a.isArray(e)){var i;for(var s=0;s<e.length;s++){i=l.get(e[s].type);if(i){l.storeInfo(this._infos,e[s]);i.process(e[s],this._dataSet,this._dimensions,this._measures)}}}else if(a.isString(e)){var o=[];if(this._infos[e]){o.push(r.clone(this._infos[e]))}return o}this._analysisAxis=[];this._measureValuesGroup=[];this.init(this._dataSet)}return this};v.prototype.clearInfo=function(e){if(e){var t=n.get(e);if(t){t.remove(this._dataSet)}}return this};v.prototype.init=function(e){if(!e||!e[m]&&!e[_]){return}var t=[1,1];var a=false;x(e);var r=e[m];var n=0;var l,d,h;if(r){if(r.length>2){i.error(u.getLogMessage("IDS_ERROR_NOT_ACCEPT_2_OR_MORE_AXES"))}for(;n<r.length;n++){var p=r[n];var c=p["index"];if(c!==1&&c!==2){i.error(u.get("IDS_ERROR_AXIS_INDEX_SHOULD_BE_1_OR_2"))}if(this._analysisAxis[c-1]){i.error(u.getLogMessage("IDS_ERROR_AXIS_ALREADY_EXIST",c))}var f=new s(p["data"]);t[c-1]=f.validate();this._analysisAxis[c-1]=f}if(t[0]===0){t[1]=0;a=true}l=e[_];if(l){for(n=0;n<l.length;n++){d=l[n];var g=d["index"];if(this._measureValuesGroup[g-1]){i.error(u.get("IDS_ALREADY_EXISTS"),"MeausreValuesGroup "+g)}h=new o(d["data"]);h.validate(t);this._measureValuesGroup[g-1]=h}}}else{l=e[_];for(n=0;n<l.length;n++){d=l[n];h=new o(d["data"]);if(n===0){t=h.validate()}else{h.validate(t)}this._measureValuesGroup[d["index"]-1]=h}}this._emptyDataset=a};v.prototype.getAnalysisAxisCount=function(){return this._analysisAxis.length};v.prototype.getAnalysisAxisByIdx=function(e){return this._analysisAxis[e]};v.prototype.getMeasureValuesGroupCount=function(){return this._measureValuesGroup.length};v.prototype.getMeasureValuesGroupByIdx=function(e){return this._measureValuesGroup[e]};v.prototype.hasFakeData=function(){for(var e=0;e<this._measureValuesGroup.length;e++){if(this._measureValuesGroup[e]&&this._measureValuesGroup[e].hasFakeData()){return true}}for(e=0;e<this._analysisAxis.length;e++){if(this._analysisAxis[e].hasFakeData()){return true}}return false};v.prototype.getDataPointCount=function(){var e=0;var t=0;if(this._measureValuesGroup.length){t=g(this._measureValuesGroup[0].getMeasureValues()[0])}for(var a=0;a<this._measureValuesGroup.length;a++){if(this._measureValuesGroup[a]){e+=t*this._measureValuesGroup[a].getMeasureValues().length}}return e};v.prototype.isEmptyDataset=function(){return this._emptyDataset};var y=function(e,t){for(var i=0;i<e.length;i++){if(e[i].values&&a.isArray(e[i].values)){e[i].values=t?[[""]]:[""]}if(e[i].infos&&a.isArray(e[i].infos)){delete e[i].infos}}};v.prototype.fillEmptyDataset=function(){var e=this._dataSet;if(e[m]){var t=e[m];for(var a=0;a<t.length;a++){y(t[a].data)}}if(e[_]){var i=e[_];for(var a=0;a<i.length;a++){y(i[a].data,true)}}return e};var b=function(e){for(var t=0;t<e.length;t++){if(e[t].values==null){e[t].values=[]}}};var x=function(e){if(e[m]){var t=e[m];for(var a=0;a<t.length;a++){b(t[a].data)}}if(e[_]){var i=e[_];for(var a=0;a<i.length;a++){b(i[a].data)}}};v.prototype.cleanDataset=function(e){var t=e;if(!t){t=this._dataSet}var i=function(e){for(var t=0;t<e.length;t++){if(e[t].values&&a.isArray(e[t].values)){e[t].values=[]}if(e[t].infos&&a.isArray(e[t].infos)){delete e[t].infos}}};if(t[m]){var r=t[m];for(var s=0;s<r.length;s++){i(r[s].data)}}if(t[_]){var o=t[_];for(var s=0;s<o.length;s++){i(o[s].data)}}};v.prototype.ctx2TableData=function(e){var t=function(e,t){var a={};if(!t.getAnalysisAxisByIdx(0)){return null}if(e.type==="Dimension"){var i=t.getAnalysisAxisByIdx(0).getDimensionLabels();if(i.length>1){var r=i[e.path.di];a[r._uId]=r._values[e.path.dii]}}else{var s=e.path.dii_a1;var o=e.path.dii_a2;for(var n=0;n<t.getAnalysisAxisByIdx(0).getDimensionLabels().length;n++){var r=t.getAnalysisAxisByIdx(0).getDimensionLabels()[n];a[r._uId]=r._values[s]}if(t.getAnalysisAxisByIdx(1)){for(var n=0;n<t.getAnalysisAxisByIdx(1).getDimensionLabels().length;n++){var r=t.getAnalysisAxisByIdx(1).getDimensionLabels()[n];a[r._uId]=r._values[o]}}}return a};var i=function(e,t){var a=e.path.dii_a1;var i=e.path.dii_a2;var r=e.path.mg;var s=e.path.mi;var o={};if(!t.getMeasureValuesGroupByIdx(r)){return null}var n=t.getMeasureValuesGroupByIdx(r).getMeasureValues()[s];var l=n._uId;o[l]=n._values[i][a];return o};var r={};if(a.isPlainObject(e)){r.dimension=t(e,this);r.measure=i(e,this)}else if(a.isArray(e)){r.dimension=t(e[0],this);var s={};for(var o=0;o<e.length;o++){if(!e[o]){continue}var n=i(e[o],this);for(var l in n){s[l]=n[l]}}r.measure=s}else{return}return r};v.prototype.ctx2ArrayData=function(e){var t=function(e,t){var a=[];if(!t.getAnalysisAxisByIdx(0)){return null}if(e.type==="Dimension"){var i=t.getAnalysisAxisByIdx(0).getDimensionLabels();if(i.length>1){var r=i[e.path.di];a.push({key:r._uId,value:r._values[e.path.dii]})}}else{var s=e.path.dii_a1;var o=e.path.dii_a2;for(var n=0;n<t.getAnalysisAxisByIdx(0).getDimensionLabels().length;n++){var r=t.getAnalysisAxisByIdx(0).getDimensionLabels()[n];a.push({key:r._uId,value:r._values[s]})}if(t.getAnalysisAxisByIdx(1)){for(var n=0;n<t.getAnalysisAxisByIdx(1).getDimensionLabels().length;n++){var r=t.getAnalysisAxisByIdx(1).getDimensionLabels()[n];a.push({key:r._uId,value:r._values[o]})}}}return a};var i=function(e,t){var a=e.path.dii_a1;var i=e.path.dii_a2;var r=e.path.mg;var s=e.path.mi;var o=[];if(!t.getMeasureValuesGroupByIdx(r)){return null}var n=t.getMeasureValuesGroupByIdx(r).getMeasureValues()[s];var l=n._uId;o.push({key:l,value:n._values[i][a]});return o};var r={};if(a.isPlainObject(e)){r.dimension=t(e,this);r.measure=i(e,this)}else if(a.isArray(e)){r.dimension=t(e[0],this);var s=[];for(var o=0;o<e.length;o++){if(!e[o]){continue}Array.prototype.push.apply(s,i(e[o],this))}r.measure=s}else{return}return r};v.prototype.tableData2Ctx=function(e){var t=e.dimension;var i=e.measure;if(a.isEmptyObject(t)&&a.isEmptyObject(i)){return[]}var r=function(e,t){var a=[];for(var i=0;i<e.length;i++){if(e[i]===t){a[i]=i}}return a};var s=function(e,t){var a=[];if(e.length===0){for(var i=0;i<t;i++){a.push(i)}}else{for(var i=0;i<e[0].length;i++){var r=true;for(var s=0;s<e.length;s++){if(e[s][i]===undefined){r=false;break}}if(r){a.push(i)}}}return a};var o=function(e,t,a){var i=[];for(var s=0;s<a.length;s++){var o=a[s]._dimensionLabels;for(var n=0;n<o.length;n++){if(e===o[n]._uId){i[s]=r(o[n]._values,t);return i}}}};var n=[];var l=[];for(var u in t){var d=o(u,t[u],this._analysisAxis);if(d[0]){n.push(d[0])}else if(d[1]){l.push(d[1])}}var h=[];var p=[];if(this._analysisAxis[0]&&a.isArray(this._analysisAxis[0]._dimensionLabels)){h=s(n,this._analysisAxis[0]._dimensionLabels[0]._values.length)}else{var c=this.getDataPointCount()/this.getMeasureValuesGroupCount();for(var f=0;f<c;f++){h.push(f)}}if(this._analysisAxis[1]&&a.isArray(this._analysisAxis[1]._dimensionLabels)){p=s(l,this._analysisAxis[1]._dimensionLabels[0]._values.length)}else{p.push(0)}var m=this._measureValuesGroup.length;var _=function(e,t,a,i,r,s){var o=[];for(var n=0;n<a.length;n++){for(var l=0;l<t.length;l++){var u={};u[i]=e[a[n]][t[l]];u.mg=r;u.mi=s;u.dii_a1=t[l];u.dii_a2=a[n];o.push(u)}}return o};var g=[];for(var f=0;f<m;f++){var v=this._measureValuesGroup[f]._measureValues;for(var y=0;y<v.length;y++){var b=v[y]._values;g=g.concat(_(b,h,p,v[y]._uId,f,y))}}var x=[];var A=function(e){var t={};t.dii_a1=e.dii_a1;t.dii_a2=e.dii_a2;t.mg=e.mg;t.mi=e.mi;return t};if(a.isEmptyObject(i)){for(var f=0;f<g.length;f++){x.push(A(g[f]))}}else{for(var f=0;f<g.length;f++){for(var u in i){if(i[u]===g[f][u]){x.push(A(g[f]))}}}}return x};v.prototype.toJSON=function(e){var t="sap.viz.data.CrosstableDataset";var i=this.data();var r=this.info();r=a.isArray(r)&&r.length>0?r:undefined;if(this._emptyDataset||e&&e.emptyDataset===true){this.cleanDataset(i);r=undefined}var s={id:t,data:i,info:r};return s};v.fromJSON=function(e){if(!a.isPlainObject(e)||e.id!=="sap.viz.data.CrosstableDataset"||!e.hasOwnProperty("data")){return}var t=r.clone(e.data);var i=r.clone(e.info);var s=new v;s.data(t);s.info(i);return s};return v});define("sap/viz/data/info/FlatTableInfoHandler",[],function(){var e={};var t={};var a={process:function(e,t){if(t.type!="geo"){return}if(e==null){e={}}e[t.type]=t.info;return e},find:function(e,t,a){var i=e["geo"];var r=i[t];var s;if(r==null){return}for(var o=0;o<a.length;++o){var n=a[o];if(s==null){s=[]}s.push(r[n])}return s}};var i={process:function(e,t){if(t.type!="additionalData"){return}if(e==null){e={}}e[t.type]=t.info;return e},find:function(e,t,a){var i=e["additionalData"];var r=i[t];var s;if(r==null){return}for(var o=0;o<a.length;++o){var n=a[o];if(s==null){s=[]}s.push(r[n])}return s}};t.get=function(t){return e[t]};t.register=function(t,a){e[t]=a};t.register("geo",a);t.register("additionalData",i);return t});define("sap/viz/data/FlatTableDataset",["sap/viz/base/utils/TypeUtils","sap/viz/base/utils/ObjectUtils","sap/viz/data/info/FlatTableInfoHandler","sap/viz/base/utils/FunctionUtils","sap/viz/lang/langManager","exports"],function(e,t,a,i,r){var s="fields";var o="data";var n="_context_row_number";var l="Measure";var u="Dimension";var d="semanticType";var h=function(e,t){this._infoset={};if(t){this._isClone=!t.skipCloneData}else{this._isClone=true}if(e){this.data(e);if(this._dataset.info!=null){this.info(this._dataset.info)}this._emptyDataset=false}else{this._emptyDataset=true}};h.prototype.destroy=function(){this._infoset=null;this._table=null;this._data=null;if(this._dataset){this._dataset.data=null;this._dataset.metadata=null}this._dataset=null;this._emptyDataset=null};h.prototype._getTypeByIndex=function(e){var t=this._dataset.metadata.fields[e].semanticType;if(t===u){return"Dimension"}else if(t===l){return"Measure"}};h.prototype.data=function(a){if(a!=null){if(a.metadata==null||a.data==null){i.error(r.getLogMessage("IDS_ERROR_FLATTABLE_INVALID_DATA_PARAM"))}this._dataset=this._isClone?t.clone(a):a;var s=this._dataset.data;var n=this._dataset.metadata.fields;if(this._dataset.metadata.context){this._dataset.context=this._dataset.metadata.context}var l,u;for(l=0;l<n.length;l++){for(u=0;u<s.length;u++){if(n[l].semanticType==="Measure"){if(typeof s[u][l]!=="number"){if(e.isString(s[u][l])&&s[u][l].trim()!==""){s[u][l]=Number(s[u][l])}else{s[u][l]=null}}if(e.isNaN(s[u][l])){s[u][l]=null}}}}this._data=this._dataset[o];this._table=null;return this}return{metadata:this._isClone?t.clone(this._dataset.metadata):this._dataset.metadata,data:this._isClone?t.clone(this._dataset.data):this._dataset.data}};h.prototype.getMetadata=function(e){if(e===n){return[{id:n,name:n}]}var a=this._dataset.metadata[s];for(var i=0,r=a.length;i<r;++i){var o=a[i];if(o.id===e){o=t.clone(o);o.index=i;return[o]}}return[]};h.prototype.getMetadataByIndex=function(e){return this._dataset.metadata[s][e]};h.prototype._getColumnIdOfSemanticType=function(e){var t=this._dataset.metadata[s];var a=[];var i=t.length;for(var r=0;r<i;++r){var o=t[r];if(o[d]===e){if(this._dataset.context){if(this._dataset.context.indexOf(o.id)>-1){continue}}a.push(o.id)}}return a};h.prototype.getMeasures=function(){return this._getColumnIdOfSemanticType(l)};h.prototype.getDimensions=function(){return this._getColumnIdOfSemanticType(u)};h.prototype.getTable=function(){if(this._table!=null){return this._table}var e=this._dataset.metadata[s];var t=this._data;var a=[];for(var i=0;i<t.length;++i){var r={};for(var o=0;o<e.length;++o){r[e[o].id]=t[i][o]}a.push(r)}this._table=a;return this._table};h.prototype.getRow=function(e){var t=this._data[e];if(t==null){return}return t.slice(0)};h.prototype.query=function(e){var t=[];var a=true;for(var i=0,r=this._data.length;i<r;i++){var s=this._data[i];a=true;for(var o in e){if(e.hasOwnProperty(o)){var n=this.getMetadata(o);if(n&&n.length>0&&s[n[0].index]!==e[o]){a=false;break}}}if(a){t.push(i)}}return t};h.prototype.setRow=function(t,a){var i=this._data.length;if(!i||t>=i){return}var r=this._dataset.metadata[s].length;var o={};var l=[],u;if(e.isArray(a)){for(var d=0;d<r-1;++d){u=this._dataset.metadata[s][d].id;o[u]=a[d];l[d]=a[d]}var h=this._dataset.metadata[s][r-1].id;if(h===n){o[n]=this._data[t][r-1];l[r-1]=this._data[t][r-1]}else{o[h]=a[r-1];l[r-1]=a[r-1]}}else{return}this._data[t]=l;if(this._table){this._table[t]=o}};h.prototype._getInfoOfSelectedColumnsByRowIndex=function(t,i){var r=null;for(var s in this._infoset){if(this._infoset.hasOwnProperty(s)){var o=this._infoset[s];var n=null;if(o==null){continue}var l=a.get(s);if(l!=null&&e.isFunction(l.find)){n=l.find(this._infoset,i,t)}if(r==null&&n!=null){r={}}if(r!=null){r[s]=n}}}return r};h.prototype._getAllColumnIds=function(){var e=this._dataset.metadata[s];var t=[];var a=e.length;for(var i=0;i<a;++i){t.push(e[i].id)}return t};h.prototype.getContext=function(){if(e.isArray(this._dataset.context)){return[this._dataset.context[0]]}else if(this._dataset.context){return[this._dataset.context]}else{return[]}};h.prototype.columnDataInFields=function(a){if(a!==undefined&&!e.isArray(a)){i.error("Invalid Parameter")}if(a==null||a.length===0){return this._data.slice(0)}else{var r=this._data;var s=this._infoset!=null;var o,n;var l=[];var u=this._getAllColumnIds();var d=0;for(n=0;n<a.length;++n){l.push(u.indexOf(a[n]))}var h=[];for(n=0;n<r.length;++n){var p=[];p.push(d++);for(var c=0;c<l.length;++c){var f=l[c];p=r[n][f];var m=r[n][f];if(e.isArray(m)){p=m.slice(0)}else if(m instanceof Object){p=t.extend(true,{},m)}else{p=m}if(!e.isExist(h[c])){h[c]=[]}h[c][n]=p}}var _={};for(n=0;n<h.length;n++){_[a[n]]=h[n]}o={data:_};return o}};h.prototype.dataInFields=function(a){if(a!==undefined&&!e.isArray(a)){i.error("Invalid Parameter")}if(a==null||a.length===0){return this._data.slice(0)}else{var r=this._data;var s=this._infoset!=null;var o=[],l;var u=[];var d=this._getAllColumnIds();var h=0;for(l=0;l<a.length;++l){u.push(d.indexOf(a[l]))}for(l=0;l<r.length;++l){var p=[];var c=null;if(a[0]===n){p.push(h++)}else{for(var f=0;f<u.length;++f){var m=u[f];var _=r[l][m];if(e.isArray(_)){p.push(_.slice(0))}else if(_ instanceof Object){p.push(t.extend(true,{},_))}else{p.push(_)}}c=this._getInfoOfSelectedColumnsByRowIndex(u,l)}o.push({data:p,info:c})}return o}};h.prototype.info=function(t){if(t==null){var i=[];if(this._infoset["additionalData"]!=null){i.push({type:"additionalData",info:this._infoset["additionalData"]})}return i}else if(e.isString(t)){return[{type:t,info:this._infoset[t]}]}else if(e.isArray(t)){for(var r=0;r<t.length;++r){var s=t[r];var o=a.get(s.type);if(o!=null&&e.isFunction(o.process)){this._infoset=o.process(this._infoset,s)}}return this}};h.prototype.isEmptyDataset=function(){if(this.getDataPointCount()===0){return true}else{return false}};h.prototype.getDataPointCount=function(){var e=0;if(this._dataset.data&&this._dataset.data[0]){e=this._dataset.data[0].length*this._dataset.data.length}return e};h.prototype.hasFakeData=function(){if(this._dataset.metadata.fields&&this._dataset.metadata.fields[0]){var e=this._dataset.metadata.fields;for(var t=0;t<e.length;t++){if(e[t].semanticType&&(e[t].semanticType===u||e[t].semanticType===l)&&e[t].isFake===true){return true}}}return false};h.prototype.ctx2TableData=function(e){var t={};if(!Array.isArray(e)){e=[e]}var a={};var i={};for(var r=0;r<e.length;r++){var s=e[r];if(!s){continue}var o=this.getRow(s.row);for(var n=0;n<o.length;n++){var d=this.getMetadataByIndex(n);if(d.semanticType===u){a[d.name]=o[n]}else if(d.semanticType===l&&n===s.col){i[d.name]=o[n]}}}t.dimension=a;t.measure=i;return t};h.prototype.toJSON=function(e){var t="sap.viz.data.FlatTableDataset";var a=this.data();infos=this._infoset;var i=[];for(var r in infos){if(infos.hasOwnProperty(r)){var s={};s.type=r;s.info=infos[r];i.push(s)}}i=i.length>0?i:undefined;if(e&&e.emptyDataset===true){a.data=[];i=undefined}var o={id:t,data:a,info:i};return o};h.fromJSON=function(a,i){if(!e.isPlainObject(a)||a.id!=="sap.viz.data.FlatTableDataset"||!a.hasOwnProperty("data")){return}var r=true;if(i){r=!i.skipCloneData}var s;if(r){s=t.clone(a.data);var o=t.clone(a.info);if(o!==undefined){s.info=o}}else{s={};for(var n in a.data){if(a.data.hasOwnProperty(n)){s[n]=a.data[n]}}if(a.info!==undefined){s.info=a.info}}var l=new h(s,i);return l};return h});define("sap/viz/manifest",["sap/viz/base/utils/TypeUtils","sap/viz/base/utils/FunctionUtils","sap/viz/base/utils/ObjectUtils","sap/viz/lang/langManager","sap/viz/base/Logger","exports"],function e(t,a,i,r,s){var o={};var n={viz:null,module:null,template:null};if(sap&&sap.viz&&sap.viz.extapi&&sap.viz.extapi.manifest&&sap.viz.extapi.manifest._queue){if(sap.viz.extapi.manifest._queue.viz){n.viz=sap.viz.extapi.manifest._queue.viz;delete sap.viz.extapi.manifest._queue.viz}if(sap.viz.extapi.manifest._queue.module){n.module=sap.viz.extapi.manifest._queue.module;delete sap.viz.extapi.manifest._queue.module}if(sap.viz.extapi.manifest._queue.template){n.template=sap.viz.extapi.manifest._queue.template}if(sap.viz.extapi.manifest._queue.viz===undefined&&sap.viz.extapi.manifest._queue.module===undefined&&sap.viz.extapi.manifest._queue.template===undefined&&sap.viz.extapi.manifest._queue.language===undefined){delete sap.viz.extapi.manifest._queue}}o.registerCategory=function(e,l,u){if(!t.isNonEmptyString(e)){a.error(r.getLogMessage("IDS_ERROR_CATEGORY_NAME_NOT_EMPTY"))}if(l&&!t.isFunction(l)){a.error(r.getLogMessage("IDS_ERROR_CATEGORY_FACTORY_MUST_BE_FUNCTION"))}if(o.hasOwnProperty(e)){a.error(r.getLogMessage("IDS_ERROR_EXIST_CATEGORY_NAME",e))}var d=d3.map();var h={get:function(t,s){var o=this;function p(){var t;if(n[e]){t=n[e]}else if(window.__sap_temp_v2&&window.__sap_temp_v2.manifest&&window.__sap_temp_v2.manifest._queue){t=window.__sap_temp_v2.manifest._queue[e]}if(!t){return}if(t["registerList"]){t["registerList"].forEach(function(e){o.register(e)});t["registerList"]=[]}if(t["unregisterList"]){t["unregisterList"].forEach(function(e){o.unregister(e)});t["unregisterList"]=[]}}p();var c=d.get(t);if(c===undefined&&s){a.error(r.getLogMessage("IDS_ERROR_CAN_NOT_FIND_CATEGORY"),t,e)}if(c&&c["__needParsed__"]===true){var f=c["abstract"]===true;c=i.extend(true,null,c.base!==undefined?h.get(c.base,true):null,c);if(c.isBuiltIn!==true){if(sap.bi&&sap.bi.framework&&sap.bi.framework.getServiceMetadata){var m=sap.bi.framework.getServiceMetadata("*sap.viz.impls"),_;for(_=0;_<m.length;_++){if(m[_].id===t){if(m[_].customProperties.name&&!/^localize\!/.test(m[_].customProperties.name)){c.name=m[_].customProperties.name}break}}}}Object.defineProperty(c,"abstract",{value:f,enumerable:false});if(l&&!f){l.call(u,c,o)}delete c["__needParsed__"];d.set(t,c)}return c},getAll:function(){return d.keys().map(function(e){var t=e.replace("\0","");return h.get(t)})},getManifest:function(){if(arguments.length===1&&t.isString(arguments[0])){return new Array(h.get(arguments[0]))}else if(arguments.length===2&&t.isString(arguments[0])&&typeof arguments[1]==="boolean"){return new Array(h.get(arguments[0],arguments[1]))}else if(arguments.length===0){return h.getAll()}else{s.warn(r.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}},each:function(e,t){d.forEach(function(a){e.call(t,h.get(a),a)});return o},unregister:function(e){var a;if(t.isExist(e)){a=d.get(e);d.remove(e)}return a},register:function(){Array.prototype.forEach.call(arguments,function(i){if(t.isUndefined(i)){a.error(r.getLogMessage("IDS_ERROR_NOT_REGISTER_UNDEFINED_OBJECT"))}var s=i.id;if(!t.isNonEmptyString(s)){a.error(r.getLogMessage("IDS_ERROR_NOT_REGISTER_WITHOUT_VALID_ID"))}if(d.has(s)){a.error(r.getLogMessage("IDS_ERROR_ALREADY_EXIST_IN_CATEGORY",s,e))}i["__needParsed__"]=true;d.set(s,i)});return o}};o[e]=h;return h};o.unregisterCategory=function(e){return e in o&&delete o[e]};return o});define("sap/viz/TemplateManager",["sap/viz/manifest","sap/viz/base/utils/FunctionUtils","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/ObjectUtils","sap/viz/lang/langManager","sap/viz/base/utils/loadResource","exports"],function(e,t,a,i,r,s){var o=[];var n;var l="default";var u={id:l,name:"Default"};var d;if(window.sap&&sap.viz&&sap.viz.extapi&&sap.viz.extapi.manifest&&sap.viz.extapi.manifest._queue&&sap.viz.extapi.manifest._queue.template&&sap.viz.extapi.manifest._queue.template.configMap){d=sap.viz.extapi.manifest._queue.template.configMap;delete sap.viz.extapi.manifest._queue.template;if(sap.viz.extapi.manifest._queue.viz===undefined&&sap.viz.extapi.manifest._queue.module===undefined&&sap.viz.extapi.manifest._queue.template===undefined&&sap.viz.extapi.manifest._queue.language===undefined){delete sap.viz.extapi.manifest._queue}}var h=e.registerCategory("template",function(e){var t=e.css;if(!a.isString(t)){var i="";for(var r in t){if(t.hasOwnProperty(r)){i+=r+"{";var s=t[r];for(var o in s){if(s.hasOwnProperty(o)){i+=o+":"+s[o]+";"}}i+="}"}}e.css=i}Object.defineProperties(e,{props:{value:function(t){var a=e.properties;if(a){return a[t]}}}});return e});function p(e,t){var e=e.split("?")[0];e=/\/$/.test(e)?e:e+"/";return e+t+"/template.js"}function c(e){var t=[];var a=!!h.get(e);var i=d&&d[e];if(i){for(var r=0;r<i.length;++r){var s=i[r];if(a){f.extend(e,s)}else{f.register(s);a=true}}}return h.get(e)}var f={loadPath:["../../../resources/templates"],current:function(){return n},retrieve:function(e){var t=h.get(e);if(!t){t=c(e)}return t||null},get:function(e){return f.retrieve(e)||n||{}},load:function(e,i,o){if(!a.isArray(e)){e=[e]}e=e.filter(a.isString);var n=e.length;var l=[];var u=[];var d=function(e,a){var s=c(a);if(s){l.push(a)}else{u.push(a)}if(--n===0){u.forEach(function(e){if(o){o(e,"Loading template "+e+" failed.")}try{t.error(r.getLogMessage("IDS_ERROR_LOADING_TEMPLATE_FAIL",e))}catch(e){}});if(i){i(l,u)}}};if(n){e.forEach(function(e){var t=c(e);if(t){d([],e)}else{s({id:e,paths:f.loadPath,getUrl:p,onComplete:d})}})}else if(i){i(l,u)}return f},isLoaded:function(e){return!!h.get(e)},apply:function(e,t,a,i){return f.load(e,function(){var i=h.get(e);n=i||{};if(i){for(var r=0;r<o.length;++r){var s=o[r];s.fn.apply(s.scope,[i,t])}if(t){t.call(a,i)}}},i)},register:function(){h.register.apply(h,arguments);return f},extend:function(e,t){var a=h.get(e)||c(e);if(a){i.extend(true,a.properties,t.properties);a.css+=t.css||""}return f},addListener:function(e){o.push(e);return f},removeListener:function(e){var t=o.indexOf(e);if(t!==-1){o.splice(t,1)}return f}};var m={writable:false,configurable:false};Object.defineProperties(f,{current:m,apply:m,register:m});f.register(u);n=h.get(l);return f});define("sap/viz/base/utils/Objects",["sap/viz/base/utils/TypeUtils"],function e(t){var a={extend:function(){var e,i,r,s,o,n,l=arguments[0]||{},u=1,d=arguments.length,h=false;if(typeof l==="boolean"){h=l;l=arguments[1]||{};u=2}if(typeof l!=="object"&&!t.isFunction(l)){l={}}if(d===u){l=this;--u}for(;u<d;u++){if((e=arguments[u])!==null){for(i in e){if(e.hasOwnProperty(i)){r=l[i];s=e[i];if(l===s){continue}if(h&&s&&t.isPlainObject(s)){if(o){o=false;n=r&&t.isArray(r)?r:[]}else{n=r&&t.isPlainObject(r)?r:{}}l[i]=a.extend(h,n,s)}else if(s!==undefined){l[i]=s}}}}}return l},equal:function(e,t){if(typeof arguments[0]!==typeof arguments[1]){return false}if(e===undefined){if(t!==undefined){return false}}if(e===null){if(t!==null){return false}}if(e instanceof Array){if(!(t instanceof Array)){return false}if(e.length!==t.length){return false}var a=true;for(var i=0;i<e.length;i++){if(typeof e[i]!==typeof t[i]){return false}if(typeof e[i]==="boolean"||typeof e[i]==="number"||typeof e[i]==="string"||typeof e[i]==="undefined"||e[i]===null){a=e[i]===t[i]}else if(e[i]instanceof Object){a=this.equal(e[i],t[i])}else{return false}if(!a){return false}}return true}if(e instanceof Object&&t instanceof Object&&typeof e!=="function"&&typeof t!=="function"){if(t===null||t instanceof Array){return false}var r=0,s=0;var o;for(o in e){if(e.hasOwnProperty(o)){if(typeof e[o]==="boolean"||typeof e[o]==="number"||typeof t[o]==="string"||typeof e[o]==="undefined"||e[o]===null){if(e[o]!==t[o]){return false}}else{if(!this.equal(e[o],t[o])){return false}}r++}}for(o in t){if(t.hasOwnProperty(o)){s++}}if(r!==s){return false}return true}return e===t}};return a});define("sap/viz/format/XCFormat",["sap/viz/base/utils/Objects"],function e(t){var a={format:function(e){return e},locale:function(){},DEFAULT_FORMAT_DATE_TIME:"",DEFAULT_FORMAT_TIME:"",DEFAULT_FORMAT_SHORT_DATE:"",DEFAULT_FORMAT_LONG_DATE:"",DEFAULT_FORMAT_NUMBER:"",DEFAULT_FORMAT_BOOLEAN:""},i=null,r="en";var s=false;var o="use_default_formatter";function n(e){var t=(e.getTime()+22091616e5)/864e5;if(t<61){t--}return t}if(window.sap&&sap.common&&sap.common.globalization&&sap.common.globalization.NumericFormatManager){i=sap.common.globalization.NumericFormatManager;a=t.extend(true,a,{format:function(e,t,a){if(s===true&&(t===null||t===undefined)){return i.formatToText(e,this.DEFAULT_FORMAT_NUMBER,typeof e==="number")}if(t==="Week"){return o}if(t==="Quarter"){return o}if(t==="YearMonth"){return o}if(t==="YearQuarter"){return o}if(t==="YearMonthDay"){return o}if(a&&e instanceof Date){e=n(e)}return i.formatToText(e,t,true)},locale:function(e){if(!arguments.length){return r}r=e;i.setPVL(r);a.DEFAULT_FORMAT_DATE_TIME=i.DEFAULT_FORMAT_DATE_TIME;a.DEFAULT_FORMAT_TIME=i.DEFAULT_FORMAT_TIME;a.DEFAULT_FORMAT_SHORT_DATE=i.DEFAULT_FORMAT_SHORT_DATE;a.DEFAULT_FORMAT_LONG_DATE=i.DEFAULT_FORMAT_LONG_DATE;a.DEFAULT_FORMAT_NUMBER=i.DEFAULT_FORMAT_NUMBER;a.DEFAULT_FORMAT_BOOLEAN=i.DEFAULT_FORMAT_BOOLEAN},useDefaultFormatter:function(e){if(!arguments.length){return s}s=e},DEFAULT_FORMAT_DATE_TIME:i.DEFAULT_FORMAT_DATE_TIME,DEFAULT_FORMAT_TIME:i.DEFAULT_FORMAT_TIME,DEFAULT_FORMAT_SHORT_DATE:i.DEFAULT_FORMAT_SHORT_DATE,DEFAULT_FORMAT_LONG_DATE:i.DEFAULT_FORMAT_LONG_DATE,DEFAULT_FORMAT_NUMBER:i.DEFAULT_FORMAT_NUMBER,DEFAULT_FORMAT_BOOLEAN:i.DEFAULT_FORMAT_BOOLEAN})}return a});define("sap/viz/format/FormatManager",["sap/viz/base/utils/TypeUtils","sap/viz/format/XCFormat","exports"],function e(t,a){var i="en",r=a,s=null,o="use_default_formatter";var n=[];var l=null;var u={constructor:function(){return},apply:function(e){i=e.split("-").join("_");a.locale(i);if(t.isFunction(r.locale)){r.locale(i)}},format:function(e,t){var i=r.format(e,t);if(i===o){return a.format(e,t)}return i},formatFunc:function(e){if(e!==undefined&&e!==null&&t.isFunction(e.format)){r=e}return r},onFormatChanged:function(){n.forEach(function(e){e.fn.apply(e.scope)})},addListener:function(e){n.push(e)},removeListener:function(e){var t=n.indexOf(e);if(t!==-1){n.splice(t,1)}},useDefaultFormatter:function(e){if(!arguments.length){return a.useDefaultFormatter()}if(l!==e){a.useDefaultFormatter(e);this.onFormatChanged();l=e}},DEFAULT_FORMAT_DATE_TIME:r.DEFAULT_FORMAT_DATE_TIME,DEFAULT_FORMAT_TIME:r.DEFAULT_FORMAT_TIME,DEFAULT_FORMAT_SHORT_DATE:r.DEFAULT_FORMAT_SHORT_DATE,DEFAULT_FORMAT_LONG_DATE:r.DEFAULT_FORMAT_LONG_DATE,DEFAULT_FORMAT_NUMBER:r.DEFAULT_FORMAT_NUMBER,DEFAULT_FORMAT_BOOLEAN:r.DEFAULT_FORMAT_BOOLEAN,DEFAULT_FORMATTED_VALUE:o};return u});define("sap/viz/Locale",["sap/viz/lang/langManager","sap/viz/format/FormatManager","sap/viz/base/utils/TypeUtils","exports"],function e(t,a,i){var r="en",s=[];function o(e){s.forEach(function(t){t.fn.apply(t.scope,[e])})}var n={constructor:function(){return},locale:function(e,s){if(!arguments.length){return r}r=e;a.apply(r);t.apply(r,function(){o(e);if(i.isFunction(s)){s.apply()}});return n},addListener:function(e){s.push(e);return n},removeListener:function(e){var t=s.indexOf(e);if(t!==-1){s.splice(t,1)}return n}};return n});define("sap/viz/base/utils/log/Analyzer",["sap/viz/base/Logger","exports"],function e(t){function a(){this.stac=[];this.pop=function(){return this.stac.pop()};this.push=function(e){this.stac.push(e)};this.peek=function(){return this.stac[this.stac.length-1]}}function i(e){var t={};var a=/\[\d+\]/g;var i=/\d+/;var r=/[^\d\[\]]+/;var s=e.match(a);if(s){t.usedJSHeapSize=s[0].match(i)[0];t.totalJSHeapSize=s[1].match(i)[0]}t.flag=e.match(r)[0];return t}function r(e){var t={};var a=/\[.+\]/;var i=/\]:.+$/;t.client=e.match(a)[0];var r=e.match(i);if(r){var s=r[0].split(":");t.name=s[1];s.shift();s.shift();t.info=s}return t}var s=t.LEVEL.DEBUG;var o=[];var n=null;var l={threshold:s,doAppend:function(e,t,a,i){o.push([e,t,a,i])},setLayout:function(e){return e.format&&(this.layout=e)},getLevel:function(){return s},setLevel:function(e){s=e},reset:function(){o=[]},pnrProfiling:function(e){if(window&&window.performance&&window.performance.memory){var a=window.performance.memory;e="["+a.usedJSHeapSize+"]["+a.totalJSHeapSize+"]["+a.jsHeapSizeLimit+"]"+e}t.debug(e,"PROFILING")},pnrContext:function(e){if(window&&window.navigator){e="["+window.navigator.userAgent+"]"+e}t.debug(e,"CONTEXT")},profiling:function(){t.disable();var e=[];var a;var s;var n;var l;var u="pnr.calculate.done";for(var d=0,h=o.length;d<h;d++){n=o[d];if(n[2]==="CONTEXT"){a=r(n[3]);s={ctx:{name:a.name,client:a.client,info:a.info},data:[]};e.push(s)}else if(n[2]==="PROFILING"){if(e.length<1){s={data:[]};e.push(s)}var p=i(n[3]);for(var c=d+1;c<h;c++){l=o[c];var f=i(l[3]);if(p.flag&&f.flag===p.flag&&(n.length>0&&n[n.length-1]!==u)){if(l[l.length-1]!=u){o[c].push(u)}s.data.push([p.flag,l[0]-n[0],n[0],l[0],f.usedJSHeapSize-p.usedJSHeapSize,f.totalJSHeapSize-p.totalJSHeapSize,f.usedJSHeapSize,f.totalJSHeapSize]);break}}}}t.enable();return e}};return l});define("sap/viz/env",["sap/viz/base/utils/TypeUtils","sap/viz/base/Logger","sap/viz/Locale","sap/viz/base/utils/log/Analyzer","sap/viz/base/utils/ObjectUtils","exports"],function e(t,a,i,r,s){var o=function(e){if(t.isExist(e)){a.setLevel(e)}};var n=function(e){if(!e){return}if(e.enable){a.enable()}if(!e.appenders){if(e.level){a.setAppenders([{appenderKey:"sap.viz.util.analyzer",appender:r}])}return}a.setAppenders([]);for(var t=0,i=e.appenders.length;t<i;t++){var s=e.appenders[t];if(s.appenderKey){a.addAppender(s.appenderKey,s.appender)}else{a.addAppender(s.appender)}}};var l=function(e,t){i.locale(e.locale,t)};var u={};var d={constructor:function(){},initialize:function(e,t){if(!e){return}n(e.log);if(e.locale){l(e,t)}else{if(t){t.call()}}u=s.extend(true,{},u,e)},getEnvSetting:function(){return u},setLoggerEnable:function(e){if(e===true){a.enable()}else if(e===false){a.disable()}},addLogAppender:function(){if(arguments.length===1){return a.addAppender(arguments[0])}else if(arguments.length===2){return a.addAppender(arguments[0],arguments[1])}},removeLogAppender:function(e){return a.removeAppender(e)}};return d});define("sap/viz/config",["sap/viz/base/utils/FunctionUtils","sap/viz/env","exports"],function e(t,a){var i={};var r=false;var s={constructor:function(){return},enableCanvg:function(e){if(!arguments.length){return a.getEnvSetting().enableCanvg!==undefined?a.getEnvSetting().enableCanvg:r}r=e;return s},register:function(e){i[e.id]=e.value;return s},get:function(e){if(i.hasOwnProperty(e)){return i[e]}},getConfigs:function(){return i}};return s});define("sap/viz/data/utils/CTB2TBConvertUtil",["sap/viz/base/utils/ObjectUtils","sap/viz/base/utils/TypeUtils","exports"],function(e,t){var a="analysisAxis";var i="measureValuesGroup";var r;var s;var o;var n;var l;var u;var d;var h=function(){};var p=function(e,t){if(n){for(var a in n){var i=n[a].binding;for(var r in i){if(i[r].type===t&&i[r].index===e){return n[a].feedId}}}}};var c=function(){l=o[a];if(l===undefined||!t.isArray(l)||l.length<=0){r=false}else{r=true}};var f=function(){u=o[i];if(u===undefined||!t.isArray(u)||u.length<=0){s=false}else{s=true}};var m=function(e){if(!r||l[e]===undefined){return 1}return l[e].data[0].values.length};var _=function(e){if(!r||l[e]===undefined){return 1}return l[e].data.length};var g=function(e){if(!s||u[e]===undefined){return 1}return u[e].data.length};var v=function(e,t,a){var i=[];var r=0;if(e===0){for(var s=0;s<d;s++){i.push(d*a+s)}}else if(e===1){var o=m(0);for(var s=0;s<o;s++){i.push(d*s+a)}}for(var s=e;s>0;s--){r=r+_(s-1)}r=r+t;return{r:i,c:r}};var y=function(e,t,a,i){var r=0;var s=0;r=i*d+a;for(var o=e;o>0;o--){s=s+g(o-1)}s=s+t;return{r:r,c:s}};var b=function(e,t){var a=-1;for(var i=0;i<e.length;i++){if(e[i].id===t){a=i;break}}return a};h.prototype.crossTable2FlatTable=function(e,t){var t=this.crossTable2FlatTableFeed(e,t);var a=this.crossTable2FlatTableData(e,t);return{dataset:a,feeding:t}};h.prototype.crossTable2FlatTableFeed=function(e,t){o=e.data();n=t;c();f();var d={},h;if(r){var m;for(var _=0;_<l.length;_++){m=l[_].index;h=p(m,a);if(h){d[h]=[];for(var g in l[_].data){d[h].push(l[_].data[g].name)}}}}if(s){var m;for(var _=0;_<u.length;_++){m=u[_].index;h=p(m,i);if(h){d[h]=[];for(var g in u[_].data){d[h].push(u[_].data[g].name)}}}}return d};h.prototype.crossTable2FlatTableData=function(a){o=a.data();c();f();d=m(1);var i={fields:[]};var n=[];var h=[];var p=[];var _={};var g={};if(r){var x=[];var A="Dimension";for(var M=0;M<l.length;M++){x=l[M].data;for(var S=0;S<x.length;S++){var z=x[S].name?x[S].name:"id"+M+S;var D=x[S].id?x[S].id:z;var E=b(i.fields,D);if(E>-1){g[D]=g[D]||[E];g[D].push(i.fields.length)}i.fields.push({id:D,semanticType:A,name:z});for(var w=0;w<x[S].values.length;w++){var T=v(M,S,w);for(var C=0;C<T.r.length;C++){if(h[T.r[C]]===undefined){h[T.r[C]]=[]}h[T.r[C]][T.c]=x[S].values[w]}}}}}if(s){var L=[];var A="Measure";for(var M=0;M<u.length;M++){L=u[M].data;for(var S=0;S<L.length;S++){var z=L[S].name?L[S].name:"id"+M+S;var D=L[S].id?L[S].id:z;i.fields.push({id:D,semanticType:A,name:z});for(var w=0;w<L[S].values.length;w++){var I=L[S].values[w];for(var C=0;C<I.length;C++){var T=y(M,S,w,C);if(p[T.r]===undefined){p[T.r]=[]}p[T.r][T.c]=I[C]}}}}}var k=h>p?h.length:p.length;if(s&&r){for(var M=0;M<k;M++){if(t.isArray(h[M])){var O=false;for(var N in g){var P;for(var S=0;S<g[N].length;S++){P=S===0?h[M][g[N][S]]:P;if(P!==h[M][g[N][S]]){O=true;break}}if(O){break}}if(O){continue}n.push(h[M].concat(p[M]))}}}else if(!s&&r){n=h}else if(s&&!r){n=p}else{return}_.metadata=i;_.data=n;return e.clone(_)};var x=new h;return x});define("sap/viz/data/MultiAxesDataAdapter",["sap/viz/base/utils/TypeUtils","sap/viz/base/utils/FunctionUtils","exports"],function e(t,a){function i(e){this._bindingInfo=e;this._aa=[];this._mg=[];this._fakeData=false;this._dataPointCount=0;this._emptyDataset=false}i.prototype.addAnalysisAxis=function(e){if(e){this._aa.push(e)}};i.prototype.addMeasureValuesGroup=function(e){if(e){this._mg.push(e)}};i.prototype.getAnalysisAxisDataByIdx=function(e){if(!arguments.length){return this._aa}for(var t=0;t<this._aa.length;t++){if(this._aa[t].index===e){return this._aa[t]}}return null};i.prototype.getMeasureValuesGroupDataByIdx=function(e){if(!arguments.length){return this._mg}for(var t=0;t<this._mg.length;t++){if(this._mg[t].index===e){return this._mg[t]}}return null};i.prototype.createDataAdapterForModule=function(e){var t=new i;var a;if(e&&e.aa){for(a=0;a<e.aa.length;a++){var r=this.getAnalysisAxisDataByIdx(e.aa[a]-1);if(r){t.addAnalysisAxis({index:a,values:r.values})}}}if(e&&e.mg){for(a=0;a<e.mg.length;a++){var s=this.getMeasureValuesGroupDataByIdx(e.mg[a]-1);if(s){t.addMeasureValuesGroup({index:a,values:s.values})}}}return t};i.prototype.getBindingInfo=function(){return this._bindingInfo};i.prototype.fakeData=function(e){if(!arguments.length){return this._fakeData}this._fakeData=e};i.prototype.dataPointCount=function(e){if(!arguments.length){return this._dataPointCount}this._dataPointCount=e};i.prototype.emptyDataset=function(e){if(!arguments.length){return this._emptyDataset}this._emptyDataset=e};return i});define("sap/viz/data/handler/MeasureDataHandler",["sap/viz/base/utils/FunctionUtils","sap/viz/lang/langManager","exports"],function e(t,a){var i={makeMeasureValues:function(e,t,a,i,r){var s=[];for(var o=0;o<t.values.length;o++){if(r&&o!==e.path.mi){continue}var n={};var l=t.values[o];var u=l["rows"];n["col"]=l["col"];if(e){n["rows"]=this.createMeasureValues(e,u,a,i)}else{n["rows"]=this.createMeasureValuesWithoutCtx(u,a,i)}s.push(n)}return s},createMeasureValuesWithoutCtx_1_2:function(e,i){var r=[],s,o;if(i[0]===1){o=[];for(s=0;s<e[0].length;s++){o.push(e[0][s])}r.push(o)}else if(i[0]===2){for(s=0;s<e[0].length;s++){o=[];o.push(e[0][s]);r.push(o)}}else{t.error(a.getLogMessage("IDS_ERROR_NOT_SUPPORTED"))}return r},createMeasureValuesWithoutCtx_1_3:function(e,i){var r=[],s,o;if(i[0]===1){o=[];for(s=0;s<e[0].length;s++){o.push(e[0][s])}r.push([o])}else if(i[0]===2){o=[];for(s=0;s<e[0].length;s++){o.push([e[0][s]])}r.push(o)}else if(i[0]===3){for(s=0;s<e[0].length;s++){o=[];o.push([e[0][s]]);r.push(o)}}else{t.error(a.getLogMessage("IDS_ERROR_NOT_SUPPORTED"))}return r},createMeasureValuesWithoutCtx:function(e,i,r){if(i.length===1){if(r===1||r===2){return this.createMeasureValuesWithoutCtx_1_2(e,i)}else if(r===3){return this.createMeasureValuesWithoutCtx_1_3(e,i)}else{t.error(a.getLogMessage("IDS_ERROR_NOT_SUPPORTED"))}}else if(i.length===2){if(r===2){return e}else if(r===3){return this.createMeasureValues_2_3(e,i)}else{t.error(a.getLogMessage("IDS_ERROR_NOT_SUPPORTED"))}}else{t.error(a.getLogMessage("IDS_ERROR_NOT_SUPPORTED"))}t.error(a.getLogMessage("IDS_ERROR_NOT_SUPPORTED"))},createMeasureValues_1_2:function(e,i,r){var s=[],o,n;if(r[0]===1){n=[];for(o=0;o<i.length;o++){n.push(i[o][e.path.dii])}s.push(n)}else if(r[0]===2){for(o=0;o<i.length;o++){n=[];n.push(i[o][e.path.dii]);s.push(n)}}else{t.error(a.getLogMessage("IDS_ERROR_NOT_SUPPORTED"))}return s},createMeasureValues_1_3:function(e,i,r){var s=[],o,n;if(r[0]===1){n=[];for(o=0;o<i.length;o++){n.push(i[o][e.path.dii])}s.push([n])}else if(r[0]===2){n=[];for(o=0;o<i.length;o++){n.push([i[o][e.path.dii]])}s.push(n)}else if(r[0]===3){for(o=0;o<i.length;o++){n=[];n.push([i[o][e.path.dii]]);s.push(n)}}else{t.error(a.getLogMessage("IDS_ERROR_NOT_SUPPORTED"))}return s},createMeasureValues:function(e,i,r,s){var o=[];if(r.length===1){if(s===1||s===2){return this.createMeasureValues_1_2(e,i,r)}else if(s===3){return this.createMeasureValues_1_3(e,i,r)}else{t.error(a.getLogMessage("IDS_ERROR_NOT_SUPPORTED"))}}else if(r.length===2){if(s===2){return i}else if(s===3){return this.createMeasureValues_2_3(i,r)}else{t.error(a.getLogMessage("IDS_ERROR_NOT_SUPPORTED"))}}else{t.error(a.getLogMessage("IDS_ERROR_NOT_SUPPORTED"))}return o},createMeasureValues_2_3:function(e,i){var r,s,o;if(i[0]===1&&i[1]===2){return[e]}else if(i[0]===1&&i[1]===3){o=[];for(r=0;r<e.length;r++){o.push([e[r]])}return o}else if(i[0]===2&&i[1]===3){o=[];for(r=0;r<e.length;r++){var n=[];var l=e[r];for(s=0;s<l.length;s++){var u=l[s];n.push([u])}o.push(n)}return o}else{t.error(a.getLogMessage("IDS_ERROR_NOT_SUPPORTED"))}}};return i});define("sap/viz/data/handler/SingleChartDataHandler",["sap/viz/base/utils/FunctionUtils","sap/viz/data/MultiAxesDataAdapter","sap/viz/data/handler/MeasureDataHandler","sap/viz/lang/langManager","exports"],function e(t,a,i,r){function s(e){if(e[0]===true){if(e[1]===true){return[1,2]}else if(e[2]===true){return[1,2]}else if(e[3]===true){t.error(r.getLogMessage("IDS_ERROR_NOT_SUPPORTED"))}else{return[1]}}else if(e[1]===true){if(e[2]===true){return[1,2]}else if(e[3]===true){t.error(r.getLogMessage("IDS_ERROR_NOT_SUPPORTED"))}else{if(e.length>2){return[1]}else{return[2]}}}else if(e[2]===true){if(e[3]===true){t.error(r.getLogMessage("IDS_ERROR_NOT_SUPPORTED"))}else{return[1]}}else{for(var a=0;a<e.length;a++){if(e[a]===true){t.error(r.getLogMessage("IDS_ERROR_NOT_DETERMINE_AXIS_INDEX"))}}return[1]}t.error(r.getLogMessage("IDS_ERROR_NOT_DETERMINE_AXIS_INDEX"))}function o(e){this._dataAdapter=e}o.prototype.getDataAdapter=function(){if(this._dataAdapter.getBindingInfo===undefined||this._dataAdapter.getBindingInfo()===null||this._dataAdapter.getBindingInfo()===undefined){return this._dataAdapter}else{return this.getChartDataAdapter()}};o.prototype.getChartDataAdapter=function(){var e=s(this._dataAdapter.getBindingInfo());var t=this._dataAdapter.getAnalysisAxisDataByIdx();var r=this._dataAdapter.getMeasureValuesGroupDataByIdx();var o=new a(this._dataAdapter.getBindingInfo());for(var n=0;n<t.length;n++){var l=t[n];o.addAnalysisAxis({index:l.index,values:l.values})}for(n=0;n<r.length;n++){var u=r[n];o.addMeasureValuesGroup({index:u.index,values:i.makeMeasureValues(null,u,e,2,false)})}return o};return o});define("jquery",[],function(){return jQuery});define("sap/viz/util/Objects",["sap/viz/base/utils/TypeUtils"],function e(t){var a={getPlotNodes:function(e){var t=[];for(var a=0,i=e.length;a<i;a++){if(e[a].parent()){t.push(e[a].parent().node())}}return t},plotIndexContainingTarget:function(e,t,a){var i=t,r=a||this.getPlotNodes(e),s;for(;i&&i.ownerSVGElement;i=i.parentNode){s=r.indexOf(i);if(s!==-1){return s}}return-1},plotContainingTarget:function(e,t,a){var i=this.plotIndexContainingTarget(e,t,a);if(i!==-1){return e[i]}return null},isLabelArea:function(e,t){var a=false;if(e&&e.indexOf("v-labelarea")>=0){if(t!=="single"){a=true}}return a},size:function(e){var t=0;if(e!=null){if(e.length===+e.length){t=e.length}else{for(var a in e){if(e.hasOwnProperty(a)){t++}}}}return t},normalizeNumbersCeil:function(e){for(var t in e){if(e.hasOwnProperty(t)){if(typeof e[t]==="number"){var a=1e8;var i=Math.ceil(e[t]*a);e[t]=i/a}}}}};return a});define("sap/viz/base/Observable",["sap/viz/base/Class","sap/viz/base/utils/TypeUtils"],function e(t,a){var i=Array.prototype.slice,r=Object.getPrototypeOf;function s(){var e=this._events,t,a=arguments.length;while(--a>=0){if(!e.hasOwnProperty(t=arguments[a])){e[t]=[]}}}var o=t.define({constructor:function(e){this._events={};var t=this,a;while((t=r(t)).constructor!==Object){if((a=t.events)&&a.length){s.apply(this,a)}}if(e){if(a=e.listeners){this.on(a);delete e.listeners}}},addEvents:s,getSupportedEvents:function(){return this._events.key()},on:function(e,t,a){if(arguments.length>=1){if(arguments.length>1){var i={};i[e]=t;e=i}for(var r in e){if(t=this._events[r]){e[r]["category"]=a;t.push(e[r])}}}return this},isListening:function(e,t){if(e=this._events[e]){return e.indexOf(t)>-1}return false},un:function(e,t){if(arguments.length===1){var a=this._events;if(a.hasOwnProperty(e)){a[e]=[]}}else if(arguments.length===2){var i=this._events[e];if(i){if(typeof t==="function"){var r;while((r=i.indexOf(t))>-1){i.splice(r,1)}}else{var s=i.length;while(s--){if(i[s].category===t){i.splice(s,1)}}}}}},purgeListeners:function(){var e=this._events;for(var t in e){e[t]=[]}},fireEvent:function(e){var t=i.call(arguments,1);if(e=this._events[e]){for(var a=0,r=e.length;a<r;a++){e[a].apply(this,t)}}}});return o});define("sap/viz/mvc/ThemeManager",["sap/viz/base/utils/ObjectUtils","sap/viz/base/Observable"],function e(t,a){var i=new(a.extend({events:["defaultThemeChanged","themeSettingChanged"],constructor:function(e){this._themeReg={}},defaultTheme:function(e){if(e!==undefined){if(this._defaultTheme!==e&&this.hasThemeInstalled(e)){var t=this._defaultTheme;this._defaultTheme=e;this.fireEvent("defaultThemeChanged",t,e)}return this}return this._defaultTheme},hasThemeInstalled:function(e){return this._themeReg.hasOwnProperty(e)},installTheme:function(e,a){if(!this._themeReg.hasOwnProperty(e)){this._themeReg[e]=t.extend({},a)}},getThemeSettings:function(e){if(this._themeReg.hasOwnProperty(e)){return t.extend({},this._themeReg[e])}},updateThemeSetting:function(e,t,a){if(this._themeReg.hasOwnProperty(e)){var i=this._themeReg[e][t];this._themeReg[e][t]=a;this.fireEvent("themeSettingChanged",e,t,i,a)}}}));return i});define("sap/viz/mvc/ImageManager",["sap/viz/base/utils/FunctionUtils"],function e(t){var a=function(e){this._imgEl=e};a.prototype.getBitmap=function(){return this._imgEl};a.prototype.width=function(e){if(e!==undefined){this._imgEl.width=e;return this}return this._imgEl.width};a.prototype.height=function(e){if(e!==undefined){this._imgEl.height=e;return this}return this._imgEl.height};a.prototype.intrinsicHeight=function(){return this._imgEl.naturalHeight};a.prototype.intrinsicWidth=function(){return this._imgEl.naturalWidth};a.prototype.url=function(){return this._imgEl.src};var i={};var r={};var s={};var o={loadImage:function(e,o,n){if(e&&o){n=n||t.noop;if(r.hasOwnProperty(e)){if(i[r[e]]){n(true);return}}var l=new Image;l.onabort=l.onerror=function(){n(false,{id:e,url:o})};l.onload=function(){var t=l.src;if(!i.hasOwnProperty(t)){var u=new a(l);r[e]=t;s[t]={ids:{id:e},length:1};i[t]=u}else{r[e]=l.src;s[t].ids[e]=e;s[t].length++}n(true,{id:e,url:o})}.bind(this);l.src=o}},loadImages:function(e,a,i){a=a||t.noop;i=i||t.noop;var r=e.length;if(r==0){i(true)}else{var s=0;var n=function(e,t){s++;if(s<r){a(s/r,e,t)}else{i(true,t)}};for(var l=0,u=e.length;l<u;l++){o.loadImage(e[l].id,e[l].url,n)}}},hasImage:function(e){return r.hasOwnProperty(e)},getImage:function(e){if(r.hasOwnProperty(e)){return i[r[e]]}},disposeImage:function(e){if(r.hasOwnProperty(e)){var t=r[e];delete r[e];delete s[t].ids[e];s[t].length--;if(!s[t].length){delete s[t];delete i[t]}}}};return o});define("sap/viz/base/utils/DomUtils",[],function e(){var t=(""+Math.random()).replace(/\D/g,""),a={},i=1;var r=function(e){if(arguments.length!==1){throw new Error("One and only one argument is expected.")}if(typeof e==="string"){if(e.length<2||e.charAt(0)!=="#"){throw new Error("Only support id selector, please start with #")}var t=e.substring(1);e=document.getElementById(t)}else if(e&&typeof e.jquery==="string"){e=e[0]}if(e&&!e.nodeType){throw new Error("The argument passed in must be an HTML node.")}this.elem=e};var s={css:function(e,t,a){if(typeof t==="object"){for(var i in t){this.css(e,i,t[i])}return}t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return(t+"").toUpperCase()});if(a===undefined){var r,o=e.style;if(window.getComputedStyle){var n=window.getComputedStyle(e,null);r=n.getPropertyValue(t)||n[t];if(r===""){if(!s.contains(e.ownerDocument,e)){r=o[t]}}}else if(document.documentElement.currentStyle){r=e.currentStyle&&e.currentStyle[t];if(r===null&&o&&o[t])r=o[t]}return r}if(typeof t==="object"){for(var i in t){this.css(e,i,t[i])}}else{if(!isNaN(a))a+="px";e.style[t]=a}},getWindow:function(e){return e!==null&&e==e.window?e:e.nodeType===9?e.defaultView||e.parentWindow:false},contains:function(e,t){var a=e.nodeType===9?e.documentElement:e,i=t&&t.parentNode;return e===i||!!(i&&i.nodeType===1&&a.contains&&a.contains(i))},bodyOffset:function(e){var t=e.offsetTop,a=e.offsetLeft;if(e.offsetTop!==1){t+=parseFloat(s.css(e,"marginTop"))||0;a+=parseFloat(s.css(e,"marginLeft"))||0}return{top:t,left:a}}};r.prototype={constructor:r,get:function(e){if(e!==0)throw new Error("Only get(0) is supported");return this.elem},css:function(e,t){var a=s.css(this.elem,e,t);if(t===undefined&&typeof e!=="object")return a;return this},width:function(e){if(this.elem==this.elem.window||this.elem.nodeType===9){throw new Error("this method does not support window or document")}if(arguments.length===0){var t=this.css("width"),a=parseFloat(t);return isNaN(a)?0:a}return this.css("width",e)},height:function(e){if(this.elem==this.elem.window||this.elem.nodeType===9){throw new Error("this method does not support window or document")}if(arguments.length===0){var t=this.css("height"),a=parseFloat(t);return isNaN(a)?0:a}return this.css("height",e)},offset:function(){if(arguments.length)throw new Error("Don't support set offset.");var e,t,a,i,r,o,n,l={top:0,left:0},u=this.elem,d=u&&u.ownerDocument;if(!d){return}if((t=d.body)===u){return s.bodyOffset(u)}e=d.documentElement;if(!s.contains(e,u)){return l}if(typeof u.getBoundingClientRect!=="undefined"){l=u.getBoundingClientRect()}a=s.getWindow(d);i=e.clientTop||t.clientTop||0;r=e.clientLeft||t.clientLeft||0;o=a.pageYOffset||e.scrollTop;n=a.pageXOffset||e.scrollLeft;return{top:l.top+o-i,left:l.left+n-r}},attr:function(e,t){if(arguments.length===1){return this.elem.getAttribute(e)}else if(arguments.length===2){this.elem.setAttribute(e,t);return this}else{throw new Error("Illegal argument number = "+arguments.length)}},detach:function(){if(this.elem&&this.elem.parentNode)this.elem.parentNode.removeChild(this.elem);this.elem=undefined},parent:function(){var e=this.elem;while(e&&e.nodeType!==9){e=e.parentNode;if(!e||e.nodeType===1){break}}return o(e)},offsetParent:function(){function e(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}return function(){var t=this.offsetParent||document.documentElement;while(t&&(!e(t,"html")&&new r(t).css("position")==="static")){t=t.offsetParent}return t||document.documentElement}.call(this.elem)},length:function(){return this.elem?1:0},prev:function(){do{this.elem=this.elem.previousSibling}while(this.elem&&this.elem.nodeType!==1);return this},next:function(){do{this.elem=this.elem.nextSibling}while(this.elem&&this.elem.nodeType!==1);return this},bind:function(e,r){if(typeof e!=="string"||typeof r!=="function"||arguments.length!==2){throw new Error("Invalid arguments, you must pass in two arguments, "+"the first one is event type in string, "+"and the second one is a function.")}if(this.elem.nodeType===3||this.elem.nodeType===8){return}var s=this.elem,o=s[t]||(s[t]=i++),n=(a[o]||(a[o]={})).listener;if(!n){n=a[o].listener=function(){var e={};var t=function(t){var a=e[t.type];if(!a){return}for(var i=0;i<a.length;i++){var r=a[i].apply(s,arguments);if(r===false){t.preventDefault();t.stopPropagation()}}};t.addHandler=function(t,a){var i=e[t]||(e[t]=[]);i.push(a)};t.removeHandler=function(t,a){if(a===undefined){delete e[t]}else{var i=e[t],r=i?i.indexOf(a):-1;if(i&&r>=0){i.splice(r,1);if(i.length===0)delete e[t]}}};t.clean=function(){var t=[];for(var a in e){t.push(a);delete e[a]}return t};t.listeningType=function(t){return e[t]!==undefined};t.isEmpty=function(t){if(arguments.length===0){for(var a in e){return false}return true}else{return e[t]===undefined}};return t}()}if(!n.listeningType(e)){if(s.addEventListener){s.addEventListener(e,n,false)}else if(s.attachEvent){s.attachEvent("on"+e,n)}}n.addHandler(e,r)},unbind:function(e,i){if(arguments.length>0&&typeof e!=="string"||arguments.length>2||arguments.length===2&&typeof i!=="function"){throw new Error("Invalid arguments, you must pass in one or two arguments, "+"the first one (mandatory) is event type in string, "+"and the second one (optional) is a function.")}var r=this.elem,s=r[t],o=s?a[s]&&a[s].listener:undefined;if(!o)return;var n;if(arguments.length===0){n=o.clean()}else{o.removeHandler(e,i);n=[e]}for(var l=0,u=n.length;l<u;l++){var d=n[l];if(o.isEmpty(d)){if(r.removeEventListener){r.removeEventListener(d,o,false)}else if(r.detachEvent){r.detachEvent("on"+d,o)}}}if(o.isEmpty()){delete a[s].listener}},data:function(e,r){var s=this.elem,o=s[t]||(s[t]=i++),n=(a[o]||(a[o]={})).data;if(r===undefined&&!n)return;if(typeof n!=="object"){n=a[o].data={}}if(typeof e==="object"){for(var l in e){this.data(l,e[l])}return this}if(r===undefined){return n[e]}n[e]=r;return this},removeData:function(e){var i=this.elem,r=i[t];if(!r||!a[r])return;var s=a[r].data;if(!s||!s[e])return;delete s[e];var o=true;for(var n in s){o=false;break}if(o){delete a[r].data}o=true;for(var n in a[r]){o=false;break}if(o){delete a[r]}}};var o=function(e){var t=new r(e);return t};return o});define("sap/viz/base/UADetector",[],function e(){var t=window.devicePixelRatio||1;var a;var i=function(e){for(var t=0;t<e.length;t++){var i=e[t].string;var r=e[t].prop;a=e[t].versionSearch||e[t].identity;if(i){if(i.indexOf(e[t].subString)!=-1){return e[t].identity}}else if(r){return e[t].identity}}};var r=[";"," "];var s=function(e){var t=e.indexOf(a);if(t==-1)return;var i=e.substring(t+a.length+1);var s=0,o=r.length,n=-1;while(n===-1&&s<o)n=i.indexOf(r[s++]);if(n!==-1)i=i.slice(0,n);return i};var o=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.userAgent,subString:"Safari",identity:"Safari",versionSearch:"Version"},{string:navigator.userAgent,subString:"Apple",identity:"UIWebView",versionSearch:"AppleWebKit"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:".NET",identity:"Explorer"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}];var n=[{string:navigator.userAgent,subString:"Windows Phone",identity:"WindowsPhone"},{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.platform,subString:"Linux",identity:"Linux"}];var l=[{string:navigator.userAgent,subString:"Presto",identity:"Presto"},{string:navigator.userAgent,subString:"KHTML",identity:"KHTML"},{string:navigator.userAgent,subString:"Gecko",identity:"Gecko"},{string:navigator.userAgent,subString:"Trident",identity:"Trident"}];var u=[{string:navigator.userAgent,subString:"Touch",identity:"Touch"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"}];var d=i(o)||"An unknown browser",h=s(navigator.userAgent)||s(navigator.appVersion)||"an unknown version",p=i(o)==="Explorer",c=i(o)==="Firefox",f=i(o)==="Chrome",m=i(o)==="Safari",_=i(o)==="UIWebView",g=i(n)||"an unknown OS",v=i(l)||"An unknown RenderEngine",y=i(u),b=navigator.pointerEnabled===true;var x={userAgent:function(){return d},version:function(){return h},isIE:function(){return p},isFirefox:function(){return c},isChrome:function(){return f},isSafari:function(){return m},isUIWebView:function(){return _},os:function(){return g},devicePixelRatio:function(){return t},renderEngine:function(){return v},isMobile:function(){return y!==undefined},isWindowsSurface:function(){return(g==="Windows"||g==="WindowsPhone")&&y==="Touch"},isWindowsPhone:function(){return g==="WindowsPhone"&&y==="Touch"},isPointerEnabled:function(){return p&&b}};return x});define("sap/viz/base/utils/LinkedHashSet",["sap/viz/base/utils/FunctionUtils","sap/viz/base/utils/TypeUtils"],function e(t,a){function i(){this._cursor=this._cursor.next;return this._cursor!==this._sentinel}function r(){this._cursor=this._cursor.prev;return this._cursor!==this._sentinel}function s(e,t){this._lhs=e;this._sentinel=this._lhs._head;this._cursor=this._sentinel;if(t){this.hasNext=r}else{this.hasNext=i}}var o=s.prototype;o.hasNext=t.noop;o.next=function(){return this._cursor.value};o.remove=function(){if(this._cursor!==this._sentinel){var e=this._cursor.value;this._cursor=this._cursor.prev;return this._lhs.remove(e)}};var n=function(e){this._hash=e||String;this._head={value:undefined,next:undefined,prev:undefined};this._map={};this._length=0;this._head.next=this._head.prev=this._head};o=n.prototype;o.add=function(e){var t=this._map;var a=null;var i=this._hash(e);if(!t.hasOwnProperty(i)){var r={prev:null,value:e,next:null},s=this._head,o=s.prev;t[i]=s.prev=r;r.prev=o;r.next=s;o.next=r;this._length++}else{a=t[i].value;t[i].value=e}return a};o.addAll=function(e){var t=n.iterator();var a=[],i;while(t.hasNext()){if(i=this.add(t.next()))a.push(i)}return a};o.insertBefore=function(e,t){var a=this._map,i=this._hash;var r=i(e),s=i(t);if(a.hasOwnProperty(s)&&s!==r){if(a.hasOwnProperty(r)){this.remove(e)}var o={prev:null,value:e,next:null};var n=a[s];o.prev=n.prev;n.prev.next=o;o.next=n;n.prev=o;a[r]=o;this._length++;return e}};o.insertAfter=function(e,t){var a=this._map,i=this._hash;var r=i(e),s=i(t);if(a.hasOwnProperty(s)&&s!==r){if(a.hasOwnProperty(r)){this.remove(e)}var o={prev:null,value:e,next:null};var n=a[s];o.prev=n;o.next=n.next;n.next.prev=o;n.next=o;a[r]=o;this._length++;return e}};o.replace=function(e,t){var a=this._map,i=this._hash;var r=i(e),s=i(t);if(a.hasOwnProperty(s)&&s!==r){if(a.hasOwnProperty(r)){this.remove(e)}var o={prev:null,value:e,next:null};var n=a[s];o.prev=n.prev;o.next=n.next;n.prev.next=o;n.next.prev=o;a[r]=o;delete a[s];return n.value}};o.first=function(){return this._head.next.value};o.last=function(){return this._head.prev.value};o.next=function(e){var t;if(t=this._map[this._hash(e)]){return t.next.value}return t};o.prev=function(e){var t;if(t=this._map[this._hash(e)]){return t.prev.value}return t};o.moveToFirst=function(e){var t;if(t=this._map[this._hash(e)]){var a=this._head.next;if(a!==t){t.prev.next=t.next;t.next.prev=t.prev;t.next=a;t.prev=a.prev;a.prev.next=t;a.prev=t}}};o.moveToLast=function(e){var t;if(t=this._map[this._hash(e)]){var a=this._head.prev;if(a!==t){t.prev.next=t.next;t.next.prev=t.prev;t.prev=a;t.next=a.next;a.next.prev=t;a.next=t}}};o.getByHash=function(e){var t=this._map[e];return t?t.value:undefined};o.has=function(e){return this._map.hasOwnProperty(this._hash(e))};o.remove=function(e){var t=this._map,a=this._hash(e);var i=null;if(t.hasOwnProperty(a)){var r=t[a];i=r.value;r.prev.next=r.next;r.next.prev=r.prev;delete t[a];this._length--}return i};o.purgeAll=function(){this._map={};this._head.next=this._head.prev=this._head;this._length=0};o.isEmpty=function(){return this._length===0};o.length=function(){return this._length};o.iterator=function(e){return new s(this,e||false)};o.items=function(){var e=[],t=head=this._head;while((t=t.next)!==head){e.push(t.value)}return e};return n});define("sap/viz/mvc/GestureDetector",["sap/viz/base/Class","sap/viz/base/utils/FunctionUtils"],function e(t,a){var i=a.noop;var r=0;var s=1;var o=2;var n=3;var l=3;var u=4;var d=5;var h=t.define({constructor:function(){this._grEnabled=true;this._grTouchTotal=0;this._grTouchTracker={};this._grActions=[];this._grCancelTouches=true;var e=r;Object.defineProperties(this,{state:{get:function(){return e},set:function(t){switch(t){case r:e=r;break;case s:e=s;this._grActions.forEach(function(e,t){e(this)},this);break;case o:if(e===s){e=o}this._grActions.forEach(function(e,t){e(this)},this);break;case u:e=u;this._grActions.forEach(function(e,t){e(this)},this);break;case d:e=d;break;case l:case n:e=t;this._grActions.forEach(function(e,t){e(this)},this);break}}},watchedComponent:{value:undefined,writable:true,enumerable:true}})},addGestureAction:function(e){var t=this._grActions;if(t.indexOf(e)===-1){t.push(e);return true}return false},removeGestureAction:function(e){var t=this._grActions,a=t.indexOf(e);if(a>-1){t.splice(a,1);return true}return false},globalLocOfGesture:function(){var e=this.state;if(this._grEnabled&&(e===s||e===o||e===u||e===l||e===n)){var t=0;var a=this._grTouchTracker,i;var r=y=0;for(var d in a){i=a[d].globalXY;r+=i.x;y+=i.y;t++}if(t){return{x:r/t,y:y/t}}}},involvedTouchePoints:function(){var e=[],t=this.state;if(this._grEnabled&&(t===s||t===o||t===u||t===l||t===n)){var a=this._grTouchTracker;for(var i in a){if(a[i].globalXY!==undefined){e.push(a[i].globalXY)}}}return e},globalLocOfTouchPoints:function(){var e=0;var t=this._grTouchTracker,a;var i=y=0;for(var r in t){a=t[r].globalXY;i+=a.x;y+=a.y;e++}if(e){return{x:i/e,y:y/e}}},totalTouches:function(){return this._grTouchTotal},cancelTouches:function(e){if(arguments.length){this._grCancelTouches=e?true:false;return this}else{return this._grCancelTouches}},enable:function(e){if(arguments.length){e=e?true:false;if(this._grEnabled!==e){this._grEnabled=e;if(!e){if(this.state===s||this.state===u){this.state=u}else{this.state=d}}}return this}else{return this._grEnabled}},touchBegin:function(e){var t=typeof e.changedTouches!=="undefined"?e.changedTouches:[e];var a=this._grTouchTracker;var i=this.watchedComponent;var n=i.pagePosition();for(var l=0,u,d=t.length;l<d;l++){u=t[l];tId=typeof u.identifier!=="undefined"?u.identifier:typeof u.pointerId!=="undefined"?u.pointerId:1;a[tId]={globalXY:i.pointTo({x:u.pageX-n.x,y:u.pageY-n.y})};this._grTouchTotal++}if(this._grEnabled&&(this.state===r||this.state===s||this.state===o)){this.doTouchBegin(e)}},touchMove:function(e){if(this._grEnabled&&(this.state===r||this.state===s||this.state===o)){var t=typeof e.changedTouches!=="undefined"?e.changedTouches:[e];var a=this.watchedComponent;var i=a.pagePosition();var n=this._grTouchTracker;for(var l=0,u,d=t.length;l<d;l++){u=t[l];tId=typeof u.identifier!=="undefined"?u.identifier:typeof u.pointerId!=="undefined"?u.pointerId:1;if(track=n[tId]){track.globalXY=a.pointTo({x:u.pageX-i.x,y:u.pageY-i.y})}}this.doTouchMove(e)}},touchEnd:function(e){var t=typeof e.changedTouches!=="undefined"?e.changedTouches:[e];var a=this._grTouchTracker;var i=this.watchedComponent;var l=i.pagePosition();for(var h=0,p,c,f,m=t.length;h<m;h++){p=t[h];c=typeof p.identifier!=="undefined"?p.identifier:typeof p.pointerId!=="undefined"?p.pointerId:1;if(f=a[c]){f.globalXY=i.pointTo({x:p.pageX-l.x,y:p.pageY-l.y});this._grTouchTotal--}}if(this._grEnabled&&(this.state===r||this.state===s||this.state===o)){this.doTouchEnd(e)}if((!this._grTouchTotal||e.touches&&e.touches.length===0||e.targetTouches&&e.targetTouches.length===0)&&(this.state===n||this.state===d||this.state===u)){this.reset()}},touchCancel:function(e){var t=typeof e.changedTouches!=="undefined"?e.changedTouches:[e];var a=this._grTouchTracker;var i=this.watchedComponent;var l=i.pagePosition();for(var h=0,p,c,f,m=t.length;h<m;h++){p=t[h];c=typeof p.identifier!=="undefined"?p.identifier:typeof p.pointerId!=="undefined"?p.pointerId:1;if(f=a[c]){f.globalXY=i.pointTo({x:p.pageX-l.x,y:p.pageY-l.y});this._grTouchTotal--}}if(this._grEnabled&&(this.state===r||this.state===s||this.state===o)){this.doTouchCancel(e)}if((!this._grTouchTotal||e.touches&&e.touches.length===0||e.targetTouches&&e.targetTouches.length===0)&&(this.state===n||this.state===d||this.state===u)){this.reset()}},doTouchBegin:i,doTouchMove:i,doTouchEnd:i,doTouchCancel:i,reset:function(){this.state=r;this._grTouchTracker={};this._grTouchTotal=0}});h.TransitionState={Possible:r,Began:s,Changed:o,Recognized:n,Ended:l,Canceled:u,Failed:d};return h});define("sap/viz/mvc/UIComponent",["sap/viz/base/Observable","sap/viz/base/utils/LinkedHashSet","sap/viz/base/utils/DomUtils","sap/viz/base/utils/FunctionUtils","sap/viz/mvc/GestureDetector"],function e(t,a,i,r,s){var o=r.noop;var n=0;var l=1<<0;var u=1<<1;var d=1<<2;var h=1<<3;var p=1<<4;var c=1<<5;var f=0;var m=function(){return f++};function _(e,t){var a=[{node:e,childrenItr:e.children.iterator()}];var i,e,r;while(a.length){i=a[a.length-1];e=i.node;t(e);r=i.childrenItr;if(r.hasNext()){var s=r.next();a.push({node:s,childrenItr:s.children.iterator()})}else{a.pop()}}}function g(e,t){if(this._autoresizable){var a=this.children.iterator();var i,r;while(a.hasNext()){i=a.next();r=v.call(this,i,e,t);i.frame(r)}}else{this.doLayout()}}function v(e,t,a){var i=e.frame();var r=i.x,s=i.y,o=i.width,f=i.height;var m=r,_=t.width-r-o,g=s,v=t.height-s-f;var y=a.width-t.width,b=a.height-t.height;var x=e._autoresizingMask;var A=l|u|d;var M=h|p|c;switch(x&A){case n:if(m!==0){r+=y*m/(m+_)}break;case l:r+=y;break;case l|d:case d:break;case u:o+=y;break;case l|u:if(o!==0){r+=y*m/(m+o);o+=y*o/(m+o)}break;case d|u:if(o!==0){o+=y*o/(_+o)}break;case l|u|d:if(t.width!==0){var S=y/t.width;r+=r*S;o+=o*S}break}switch(x&M){case n:if(g!==0){s+=b*g/(g+v)}break;case h:s+=b;break;case h|c:case c:break;case p:f+=b;break;case h|p:if(f!==0){s+=b*g/(g+f);f+=b*f/(g+f)}break;case c|p:if(f!=0){f+=b*f/(v+f)}break;case h|p|c:if(t.height){var S=b/t.height;s+=s*S;f+=f*S}break}return{x:r,y:s,height:f,width:o}}function y(e){var t,a=i(this.container);if(e.clipToBound===false){a.css("overflow","visible")}if(e.hidden===true){a.css("display","none");this._hidden=true}if(e.autoResizingMask<32){this._autoresizingMask=+e.autoResizingMask}if(t=e.pin){this._pinX=t.x;this._pinY=t.y}if(t=e.position){this._x=t.x;this._y=t.y;a.css("left",this._x-this._pinX*this._width);a.css("top",this._y-this._pinY*this._height)}if(t=e.size){this._width=t.w||t.width;this._height=t.h||t.height;a.width(this._width);a.height(this._height)}b.call(this)}function b(){this.on({sizeChanged:x.bind(this),heightChanged:M.bind(this),widthChanged:A.bind(this),positionChanged:S.bind(this),pinChanged:z.bind(this)})}function x(e,t){var a=i(this.container);a.width(t.width);a.height(t.height);if(this._pinX||this._pinY){a.css("left",this._x-this._pinX*t.width);a.css("top",this._y-this._pinY*t.height)}this.doContentResize(e,t);g.call(this,e,t)}function A(e,t){var a=i(this.container);a.width(t);if(this._pinX){a.css("left",this._x-this._pinX*t)}var r={height:this._height,width:e},s={height:this._height,width:t};this.doContentResize(r,s);g.call(this,r,s)}function M(e,t){var a=i(this.container);a.height(t);if(this._pinY){a.css("top",this._y-this._pinY*t)}var r={height:e,width:this._width},s={height:t,width:this._width};this.doContentResize(r,s);g.call(this,r,s)}function S(e,t){var a=i(this.container);a.css("left",t.x-this._pinX*this._width);a.css("top",t.y-this._pinY*this._height)}function z(e,t){var a=i(this.container);a.css("left",this._x-t.x*this._width);a.css("top",this._y-t.y*this._height)}function D(e){var t=e.visibility();if(t){e.doBeforeHide();e.fireEvent("beforeHide")}e._parentVisible=false;var a=e.children.iterator();while(a.hasNext()){D.call(e,a.next())}if(t){e.doAfterHide();e.fireEvent("afterHide")}}function E(e){var t=e.visibility();e._parentVisible=e.parent.visibility();if(!t&&e.visibility()){e.doBeforeShow();e.fireEvent("beforeShow")}var a=e.children.iterator();while(a.hasNext()){E.call(e,a.next())}if(!t&&e.visibility()){e.doAfterShow();e.fireEvent("afterShow")}}var w=t.extend({events:["widthChanged","heightChanged","sizeChanged","positionChanged","pinChanged","attached","detached","beforeShow","afterShow","beforeHide","afterHide","focusin","focusout","focus","blur","mousedown","mouseup","mouseenter","mouseleave","mousemove","click","dblclick","touchstart","touchmove","touchend","touchcancel"],constructor:function(e){e=e||{};var t=e.id?e.id+"_"+m():"UIComp_"+m();Object.defineProperties(this,{id:{value:t,enumerable:true},container:{value:i(document.createElement("div")).attr("id",t).css("position","relative").css({overflow:"visible","font-size":"10px","box-sizing":"border-box","-moz-box-sizing":"border-box","-ms-box-sizing":"border-box","-webkit-box-sizing":"border-box","-webkit-user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)"}).data("selfComp",this).get(0),enumerable:true,writable:true},root:{value:undefined,writable:true,enumerable:true},parent:{value:undefined,writable:true,enumerable:true},children:{value:new a(function(e){return e.id}),enumerable:true,writable:true},gestureDetectors:{value:[],enumerable:true}});this._attached=false;this._hidden=false;this._parentVisible=false;this._autoresizable=true;this._autoresizingMask=n;this._x=0;this._y=0;this._width=1;this._height=1;this._pinX=.5;this._pinY=.5;y.call(this,e)},markAttached:function(){this._attached=true;if(this.parent)this._parentVisible=this.parent.visibility();if(this.visibility()){this.doBeforeShow();this.fireEvent("beforeShow")}var e=this.children.iterator();while(e.hasNext()){e.next().markAttached()}if(this.visibility()){this.doAfterShow();this.fireEvent("afterShow")}},markDetached:function(){var e=this.visibility();this._attached=false;if(e){this.doBeforeHide();this.fireEvent("beforeHide")}var t=this.children.iterator();while(t.hasNext()){t.next().markDetached()}if(e){this.doAfterHide();this.fireEvent("afterHide")}},markHide:function(){if(this._hidden===false){var e=this.visibility();if(e){this.doBeforeHide();this.fireEvent("beforeHide")}this._hidden=true;i(this.container).css("display","none");var t=this.children.iterator();while(t.hasNext()){D.call(this,t.next())}if(e){this.doAfterHide();this.fireEvent("afterHide")}}return this},markShow:function(){if(this._hidden===true){this._hidden=false;if(this.visibility()){this.doBeforeShow();this.fireEvent("beforeShow")}i(this.container).css("display","block");var e=this.children.iterator();while(e.hasNext()){E.call(null,e.next())}if(this.visibility()){this.doAfterShow();this.fireEvent("afterShow")}}return this},clipToBound:function(e){var t=i(this.container);if(arguments.length){t.css("overflow",e?"hidden":"visible");return this}else{return t.css("overflow")==="hidden"}},visibility:function(){return!this._hidden&&this._attached&&this._parentVisible},autoResizable:function(e){if(arguments.length){this._autoresizable=e&&true;return this}else{return this._autoresizable&&true}},autoResizingMask:function(e){if(arguments.length){if(e<32){this._autoresizingMask=+e}return this}else{return this._autoresizingMask}},pagePosition:function(){var e=i(this.container).offset();return{x:e.left,y:e.top}},position:function(e,t){if(arguments.length===0)return{x:this._x,y:this._y};if(arguments.length===1){t=e.y;e=e.x}e=+e;t=+t;if(this._x!==e||this._y!==t)this.fireEvent("positionChanged",{x:this._x,y:this._y},{x:this._x=e,y:this._y=t});return this},size:function(e,t){if(!arguments.length)return{width:this._width,height:this._height};if(arguments.length===1){t=e.height;e=e.width}t=+t;e=+e;if(e!==this._width||t!==this._height)this.fireEvent("sizeChanged",{width:this._width,height:this._height},{width:this._width=e,height:this._height=t});return this},width:function(e){if(!arguments.length)return this._width;e=+e;if(this._width!==e&&e>0)this.fireEvent("sizeChanged",{width:this._width,height:this._height},{width:this._width=e,height:this._height});return this},height:function(e){if(!arguments.length)return this._height;e=+e;if(this._height!==e&&e>0)this.fireEvent("sizeChanged",{width:this._width,height:this._height},{width:this._width,height:this._height=e});return this},pin:function(e,t){if(!arguments.length)return{x:this._pinX,y:this._pinY};if(arguments.length===1){t=e.y;e=e.x}e=+e;t=+t;if(e!==this._pinX||t!==this._pinY)this.fireEvent("pinChanged",{x:this._pinX,y:this._pinY},{x:this._pinX=e,y:this._pinY=t});return this},frame:function(e,t,a,i){if(!arguments.length)return{x:this._x-this._pinX*this._width,y:this._y-this._pinY*this._height,width:this._width,height:this._height};if(arguments.length===1){t=e.y;a=e.width;i=e.height;e=e.x}var r=e+a*this._pinX,s=t+i*this._pinY;if(a!==this._width||i!==this._height){this.fireEvent("sizeChanged",{width:this._width,height:this._height},{width:this._width=a,height:this._height=i})}if(r!==this._x||s!==this._y){this.fireEvent("positionChanged",{x:this._x,y:this._y},{x:this._x=r,y:this._y=s})}return this},append:function(e){if(e){if(e.parent!==undefined)e.detach();e.parent=this;if(this.root){_(e,function(e){e.root=this}.bind(this.root))}this.children.add(e);this.container.appendChild(e.container);if(this._attached){e.markAttached()}return this}},appendTo:function(e){e.append(this);return this},detach:function(){if(this.parent){this.parent.children.remove(this);i(this.container).detach();this.parent=undefined;_(this,function(e){e.root=undefined});this.markDetached()}return this},before:function(e){e.insertBefore(this);return this},insertBefore:function(e){if(e&&e.parent&&e!==this){if(this.parent){this.detach()}var t=e.parent;this.parent=t;if(t.root){_(this,function(e){e.root=this}.bind(t.root))}t.children.insertBefore(this,e);this.container.parentNode.insertBefore(e.container,this.container);if(this._attached){this.markAttached()}}return this},after:function(e){e.insertAfter(this);return this},insertAfter:function(e){if(e&&e.parent&&e!==this){if(this.parent){this.detach()}var t=e.parent;this.parent=t;if(t.root){_(this,function(e){e.root=this}.bind(t.root))}t.children.insertAfter(this,e);this.container.parentNode.insertAfter(e.container,this.container);if(this._attached){this.markAttached()}}return this},bringToFront:function(){var e=this.parent;if(e){if(e.children.last()!==this){e.children.moveToLast(this);i(this.container).detach();subComp.container.appendChild(this.container)}}return this},sendToBack:function(){var e=this.parent;if(e){if(e.children.first()!==this){e.children.moveToFirst(this);i(this.container).detach();subComp.container.insertBefore(this.container,subComp.container.firstChild)}}return this},pointFrom:function(e,t,a){if(arguments.length===1){t=e.y;e=e.x;a=false}if(arguments.length===2){if(isNaN(e)){a=t;t=e.y;e=e.x}else{a=false}}e=+e;t=+t;a.root||(a=false);var i=this.root;if(i){a||(a=i);var r=0,s=0,o=this,n;while(o!==i&&o!==a){n=o.frame();r+=n.x;s+=n.y;o=o.parent}if(o!==a){o=a;while(o!==i&&o!==this){n=o.frame();e+=n.x;t+=n.y;o=o.parent}if(o===this){return{x:e,y:t}}}return{x:e-r,y:t-s}}return{x:e,y:t}},pointTo:function(e,t,a){if(arguments.length===1){t=e.y;e=e.x;from=false}if(arguments.length===2){if(isNaN(e)){from=t;t=e.y;e=e.x}else{from=false}}e=+e;t=+t;var i=this.root;if(i){a||(a=i);return a.pointFrom(e,t,this)}return{x:e,y:t}},fireFocusEvent:function(e){this.fireEvent(e.type,e);if(this.parent&&e.shouldBubble()){e.currentTarget=this.parent;this.parent.fireEvent(e)}},fireMouseEvent:function(e){this.fireEvent(e.type,e);if(this.parent&&e.shouldBubble()){e.currentTarget=this.parent;e.currentLocalXY={x:e.currentLocalXY.x+this._x-this._pinX*this._width,y:e.currentLocalXY.y+this._y-this._pinY*this._height};this.parent.fireMouseEvent(e)}},fireTouchEvent:function(e){this.fireEvent(e.type,e);if(this.parent&&e.shouldBubble()){e.currentTarget=this.parent;this.parent.fireTouchEvent(e)}},purgeListeners:function(){this._super()},un:function(e){this._super.apply(this,arguments);if(arguments.length===1){switch(e){case"sizeChanged":this.on("sizeChanged",x.bind(this));break;case"heightChanged":this.on("heightChanged",M.bind(this));break;case"widthChanged":this.on("widthChanged",A.bind(this));break;case"positionChanged":this.on("positionChanged",S.bind(this));break;case"pinChanged":this.on("pinChanged",z.bind(this));break}}},addGestureDetector:function(e){if(e instanceof s){e.watchedComponent=this;this.gestureDetectors.push(e)}},removeGestureDetector:function(e){for(var t=0,a=this.gestureDetectors.length;t<a;t++){if(this.gestureDetectors[t]===e){this.gestureDetectors.splice(t,1);e.watchedComponent=undefined;a--}}},hitTest:function(e,t){if(arguments.length=1){t=e.y;e=e.x}var a=[{comp:this,subCompsItr:this.children.iterator(true)}];var i,r;while(a.length){i=a[a.length-1];r=i.subCompsItr;i=i.comp;if(i.visibility()){if(r.hasNext()){var s=r.next();a.push({comp:s,subCompsItr:s.children.iterator(true)});continue}else{var o=i.pointFrom(e,t,this);if(o.x>=0&&o.y>=0&&o.x<i.width()&&o.y<i.height()&&i.pointContent(e,t))return i}a.pop()}else{a.pop()}}},pointContent:function(e,t){return true},doLayout:o,doContentResize:o,doBeforeHide:o,doAfterHide:o,doBeforeShow:o,doAfterShow:o,doDestroy:o,destroy:function(){this.doDestroy();_(this,function(e){e.detach();e.purgeListeners()});i(this.container).removeData("selfComp");if(this.children){this.children=null}}});w.Autosizing={None:n,FlexibleLeftMargin:l,FlexibleWidth:u,FlexibleRightMargin:d,FlexibleTopMargin:h,FlexibleHeight:p,FlexibleBottomMargin:c};return w});define("sap/viz/base/utils/LinkedHashMap",["sap/viz/base/utils/FunctionUtils"],function e(t){function a(){if(this._count!==0){if(this._count===this._lhm._length){this._cursor=this._lhm._head}else{this._cursor=this._cursor.next}this._count--;return true}else{return false}}function i(){if(this._count!==0){if(this._count===this._lhm._length){this._cursor=this._lhm._last}else{this._cursor=this._cursor.prev}this._count--;return true}else{return false}}var r=function(e,t){this._lhm=e;this._reverse=t||false;this._count=e._length;this._cursor=this._reverse?this._lhm._last:this._lhm._head;if(this._reverse){this.hasMore=i}else{this.hasMore=a}};var s=r.prototype;s.hasMore=t.noop;s.next=function(){var e={key:this._cursor.key,value:this._cursor.value};return e};s.nextValue=function(){return this._cursor.value};s.nextKey=function(){return this._cursor.key};s.reset=function(){this._count=this._lhm._length};s.remove=function(){return this._lhm.remove(this._cursor.key)};var o=function(){this._map={};this._head=undefined;this._last=undefined;this._length=0};var n=o.prototype;n.add=function(e,t){var a=this._map;var i=null;var r={prev:null,key:e,value:t,next:null};if(!this._length){this._head=this._last=r}if(!a.hasOwnProperty(e)){a[e]=r;this._length++;r.prev=this._last;this._last.next=r;this._last=r;this._last.next=this._head;this._head.prev=this._last}else{i=a[e].value;a[e].value=t}return i};n.addAll=function(e){var t=e.getIterator();var a;while(t.hasMore()){a=t.next();this.add(a.key,a.value)}};n.insertBefore=function(e,t,a){var i=this._map;if(!i.hasOwnProperty(e)&&i.hasOwnProperty(a)){var r={prev:null,key:e,value:t,next:null};var s=i[a];if(s!==this._head){r.prev=s.prev;s.prev.next=r}else{this._head=r;r.prev=this._last}r.next=s;s.prev=r;i[e]=r;this._length++;return t}};n.insertAfter=function(e,t,a){var i=this._map;if(!i.hasOwnProperty(e)&&i.hasOwnProperty(a)){var r={prev:null,key:e,value:t,next:null};var s=i[a];if(s!==this._last){r.next=s.next;s.next.prev=r}else{this._last=r;this._last.next=this._head}s.next=r;r.prev=s;i[e]=r;this._length++;return t}};n.replace=function(e,t,a){var i=this._map;if(!i.hasOwnProperty(t)&&i.hasOwnProperty(e)){var r={prev:null,key:t,value:a,next:null};var s=i[e];r.prev=s.prev;r.next=s.next;s.prev.next=r;s.next.prev=r;if(this._head===s)this._head=r;if(this._last===s)this._last=r;i[t]=r;delete i[e];return s.value}};n.get=function(e){var t=this._map;if(t.hasOwnProperty(e)){return t[e].value}return null};n.next=function(e){var t=this._map;if(t.hasOwnProperty(e)){return t[e].next}return null};n.prev=function(e){var t=this._map;if(t.hasOwnProperty(e)){return t[e].prev}return null};n.getFirstInsert=function(){return this._head?this._head.value:null};n.getLastInsert=function(){return this._last?this._last.value:null};n.moveToLast=function(e){var t=this._map;if(t.hasOwnProperty(e)&&this._last.key!==e){var a=t[e];a.prev.next=a.next;a.next.prev=a.prev;a.prev=this._last;a.next=this._last.next;this._last.next=a;this._last=a;this._head=a.next;this._head.prev=a}};n.moveToFirst=function(e){var t=this._map;if(t.hasOwnProperty(e)&&this._head.key!==e){var a=t[e];a.prev.next=a.next;a.next.prev=a.prev;a.next=this._head;a.prev=this._head.prev;this._head.prev=a;this._head=a;this._last=a.prev;this._last.next=a}};n.has=function(e){var t=this._map;return t.hasOwnProperty(e)};n.remove=function(e){var t=this._map;var a;if(t.hasOwnProperty(e)){var i=t[e];a=i.value;if(i===this._head){this._head=i.next}if(i===this._last){this._last=i.prev}i.prev.next=i.next;i.next.prev=i.prev;delete t[e];this._length--;if(this._length===0){this._head=this._last=undefined}return a}};n.purgeAll=function(){this._map={};this._head=undefined;this._last=undefined;this._length=0};n.isEmpty=function(){return this._length==0};n.length=function(){return this._length};n.getIterator=function(e){return new r(this,e)};n.keys=function(){var e=this.getIterator(),t=[];while(e.hasMore())t.push(e.nextKey());return t};n.values=function(){var e=this.getIterator(),t=[];while(e.hasMore())t.push(e.nextValue());return t};return o});define("sap/viz/base/utils/DomWatcher",["sap/viz/base/UADetector","sap/viz/base/utils/LinkedHashMap"],function e(t,a){var i=0,r=1,s;function o(){return i++}function n(){return r++}function l(e){for(var t in e){if(e.hasOwnProperty(t))return false}return true}function u(e,t){var a=null;if(window.getComputedStyle){a=window.getComputedStyle(e,null)[t]}else if(e.currentStyle){a=e.currentStyle[t]}return a}function d(e,t){if(!this._data)this._data={};if(arguments.length===2){this._data[e]=t}else return this._data[e]}var h=new a;function p(e){var t,a,i,r;e.forEach(function(e){a=e.target;i=d.call(a,"domNo");if(!i)return;r=h.get(i).getIterator();while(r.hasMore()){t=r.nextValue();t.checkChange()}})}var c=window.MutationObserver||window.WebKitMutationObserver;function f(e){var t=g.get(e);var i=t.domElem;var r=d.call(i,"domNo");var s;if(!r){r=n();d.call(i,"domNo",r);h.add(r,new a)}h.get(r).add(t.id,t);s=d.call(i,"observer");if(!s){if(!c)return;s=new c(p);d.call(i,"observer",s)}s.observe(i,{attributes:true})}function m(e){var t=e.domElem;var a=d.call(t,"domNo");if(!a)return;if(h.get(a).has(e.id)){h.get(a).remove(e.id)}if(h.get(a).isEmpty()){d.call(t,"observer").disconnect();d.call(t,"observer",undefined);g.remove(e.id)}}var _=undefined;var g=new a;function v(){var e=g.getIterator();var t;while(e.hasMore()){t=e.nextValue();t.checkChange()}}function y(e){if(!_)_=setInterval(v,100);if(!g.has(e.id))g.add(e.id,e)}function b(e){if(g.has(e)){g.remove(e)}if(g.isEmpty()){clearInterval(_);_=undefined}}function x(e){y(e)}function A(e){var t=g.get(e);if(!t)return;var a=t.domElem;if(!t.callback)return;var i=false;var r=0;var s=[];for(var o=t.cssProps.length;r<o;r++){var n=u(a,t.cssProps[r]);if(t.lastestVals[r]!=n){t.lastestVals[r]=n;i=true;s.push(t.cssProps[r])}}if(i)t.callback(s)}var M={watch:function(e,t,a){var i=o();var r={id:i,domElem:e,cssProps:t.split(","),lastestVals:[t.split(",").length],callback:a,checkChange:function(){A(i)}};for(var s=0,n=r.cssProps.length;s<n;s++){r.lastestVals[s]=u(e,r.cssProps[s])}if(!g.has(r.id))g.add(r.id,r);x(r);return i},unwatch:function(e){var t=g.get(e);if(t){var a=t.domElem;try{b(t.id)}catch(e){}}}};return M});define("sap/viz/mvc/Event",["sap/viz/base/Class"],function e(t){var a=t.define({constructor:function(e,t,a){this.type=e;this.target=t;this.currentTarget=t;this.timestamp=Date.now();this.load=undefined;this._canBubbling=a!==undefined?a:true},isInBubbling:function(){return this.target.id!==this.currentTarget.id},shouldBubble:function(){return this._canBubbling},stopPropagation:function(){this._canBubbling=false}});return a});define("sap/viz/mvc/MouseEvent",["sap/viz/mvc/Event"],function e(t){var a=t.extend({constructor:function(e,t,a,i,r){this.relatedTarget=undefined;this.targetLocalXY=i;this.currentLocalXY=i;this.pageXY=r}});return a});define("sap/viz/mvc/TouchEvent",["jquery","sap/viz/base/utils/FunctionUtils","sap/viz/mvc/Event","sap/viz/lang/langManager"],function e(t,a,i,r){if(!t){a.error(r.getLogMessage("IDS_ERROR_NOT_FIND_JQUERY"))}var s=function(e,t,a,i){this.identifier=e;this.target=t;this.localXY=a;this.pageXY=i};var o=function(e,t){this.tA=e,this.tM=t};var n=o.prototype;n.length=function(){return this.tA.length};n.item=function(e){if(e>=0&&e<this.tA.length){return this.tA[e]}};n.identifiedTouch=function(e){if(e){return this.tM[e]}};var l=i.extend({constructor:function(e,t,a,i,r,s){this.touches=i;this.targetTouches=r;this.changedTouches=s}});var u=function(e){var t=[],a={};for(var i=0,r,s,n=e.length;i<n;i++){r=h(e[i]);if(r){s=p(e[i],r);t.push(s);a[s.identifier]=s}}return new o(t,a)};var d=function(e){var t=[],a={};for(var i=0,r,s,n=e.length;i<n;i++){r=h(e[i]);if(r){s=p(e[i],r);t.push(s);a[s.identifier]=s}}return new o(t,a)};var h=function(e){var a=t(e.target);while(a.length&&!a.data("selfComp")){a=a.parent()}return a.data("selfComp")};var p=function(e,t){var a=t.pagePosition();var i={x:e.pageX-a.x,y:e.pageY-a.y};return new s(e.identifier,t,i,{x:e.pageX,y:e.pageY})};l.buildFrom3TouchArray=function(e,t,a,i,r,s){var o=d(a);var n=d(r);var u=d(i);return new l(e,t,s,o,n,u)};l.buildFromDomTouchEvent=function(e,t,a,i){var r=u(a.touches);var s=u(a.targetTouches);var o=u(a.changedTouches);return new l(e,t,i,r,s,o)};return l});define("sap/viz/base/Math",["sap/viz/base/UADetector"],function e(t){var a={PI:Math.PI,E:Math.E,LN10:Math.LN10,LN2:Math.LN2,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,abs:function(){if(t.isSafari()||t.isIE()&&parseFloat(t.version())<9){return function(e){return e<0?-e:e}}else{return Math.abs}}(),acos:function(){return Math.acos}(),asin:function(){return Math.asin}(),atan:function(){return Math.atan}(),atan2:function(){return Math.atan2}(),ceil:function(){return Math.ceil}(),cos:function(){return Math.cos}(),exp:function(){return Math.exp}(),floor:function(){return Math.floor}(),log:function(){return Math.log}(),max:function(){return Math.max}(),min:function(){return Math.min}(),pow:function(){return Math.pow}(),random:function(){return Math.random}(),round:function(){return Math.round}(),sin:function(){return Math.sin}(),sqrt:function(){return Math.sqrt}(),tan:function(){return Math.tan}()};return a});define("sap/viz/mvc/VizFrame",["sap/viz/base/utils/FunctionUtils","sap/viz/base/utils/DomUtils","sap/viz/base/UADetector","sap/viz/mvc/UIComponent","sap/viz/mvc/GestureDetector","sap/viz/base/utils/DomWatcher","sap/viz/mvc/Event","sap/viz/mvc/MouseEvent","sap/viz/mvc/TouchEvent","sap/viz/base/Math","sap/viz/lang/langManager","sap/viz/base/utils/TypeUtils"],function e(t,a,i,r,s,o,n,l,u,d,h,p){var c=Array.prototype.push;var f=t.error;var m=i.isMobile();var _,g,v;var y=50;var b=150;var x=20;function A(e){while(e=e.parentNode)if(e===document)return true;return false}function M(e){var t=a(e.target);while(t.length()&&!(t.data("selfComp")&&t.data("selfComp").root===this.root)){t=t.parent()}return t.length()?t.data("selfComp"):null}var S=s.TransitionState;function z(){var e=C.bind(this);a(this.container).bind("click",e);a(this.container).bind("dblclick",e);a(this.container).bind("focusin",e);a(this.container).bind("focusout",e);a(this.container).bind("focus",e);a(this.container).bind("blur",e);a(this.container).bind("mousedown",e);a(this.container).bind("mouseup",e);a(this.container).bind("mouseenter",e);a(this.container).bind("mouseleave",e);a(this.container).bind("mousemove",e);if(i.isWindowsSurface()){D.call(this)}else{a(this.container).bind("DOMNodeInsertedIntoDocument",D.bind(this));a(this.container).bind("DOMNodeRemovedFromDocument",E.bind(this))}}function D(){var e=C.bind(this);if(i.isWindowsSurface()){a(this.container).bind("pointerdown",e);a(this.container).bind("pointermove",e);a(this.container).bind("pointerup",e);a(this.container).bind("pointercancel",e)}else{a(this.container).bind("touchstart",e);a(this.container).bind("touchmove",e);a(this.container).bind("touchend",e);a(this.container).bind("touchcancel",e)}}function E(){if(i.isWindowsSurface()){a(this.container).unbind("pointerdown");a(this.container).unbind("pointermove");a(this.container).unbind("pointerup");a(this.container).unbind("pointercancel")}else{a(this.container).unbind("touchstart");a(this.container).unbind("touchmove");a(this.container).unbind("touchend");a(this.container).unbind("touchcancel")}}var w=function(e,t){var a=e.x-t.x;var i=e.y-t.y;return d.sqrt(a*a+i*i)};function T(e){if(e.type==="pointerdown"||e.type==="pointermove"||e.type==="pointerup"||e.type==="pointercancel"){e.touches=[];e.changedTouches=[];e.targetTouches=[];var t={};t.clientX=e.clientX;t.clientY=e.clientY;t.pageX=e.pageX;t.pageY=e.pageY;t.screenX=e.screenX;t.screenY=e.screenY;t.identifier=e.pointerId;t.target=e.target;e.touches.push(t);e.changedTouches.push(t);e.targetTouches.push(t)}}function C(e){var t=M.call(this,e),a;T(e);var i=e.type==="touchstart"?"touchstart":"pointerdown",r=e.type==="touchmove"?"touchmove":"pointermove",s=e.type==="touchend"?"touchend":"pointerup",o=e.type==="touchcancel"?"touchcancel":"pointerup";switch(e.type){case"mousemove":if(m&&this._suppressMouseOnMobile){e.preventDefault();break}if(t){var h=t.pagePosition();var p={x:e.pageX-h.x,y:e.pageY-h.y};if(this._msTracking.length){if(this._msTracking[this._msTracking.length-1]!==t){var c=[];var f=t;while(f){c.push(f);f=f.parent}var y=0,b=false,x=d.min(this._msTracking.length,c.length);while(true){var A=undefined;if(!b&&this._msTracking[y]===c[c.length-1-y]){y++;b=y===x}else{while(this._msTracking.length>y){A=this._msTracking.pop();a=new l("mouseleave",A,false,A.pointFrom(p,t),{x:e.pageX,y:e.pageY});a.relatedTarget=t;a.load=e.load;A.fireMouseEvent(a)}while(y<c.length){var f=c.shift();A=this._msTracking[c.length-1];this._msTracking[c.length]=f;a=new l("mouseenter",f,false,f.pointFrom(p,t),{x:e.pageX,y:e.pageY});a.relatedTarget=A;a.load=e.load;f.fireMouseEvent(a)}break}}}}else{var f=t,a;do{this._msTracking.push(f);a=new l("mouseenter",f,false,p,{x:e.pageX,y:e.pageY});a.load=e.load;f.fireMouseEvent(a);f=f.parent}while(f);this._msTracking.reverse()}a=new l("mousemove",t,true,p,{x:e.pageX,y:e.pageY});a.load=e.load;t.fireMouseEvent(a)}else{while(this._msTracking.length){var A=this._msTracking.pop();var S=this.pagePosition();a=new l("mouseleave",A,false,{x:e.pageX-S.x,y:e.pageY-S.y},{x:e.pageX,y:e.pageY});a.load=e.load;A.fireMouseEvent(a)}}break;case"mouseleave":if(m&&this._suppressMouseOnMobile){e.preventDefault();break}while(this._msTracking.length){var A=this._msTracking.pop();var z=A.pagePosition();a=new l("mouseleave",A,false,{x:e.pageX-z.x,y:e.pageY-z.y},{x:e.pageX,y:e.pageY});a.load=e.load;A.fireMouseEvent(a)}break;case"mouseup":if(m&&this._suppressMouseOnMobile){e.preventDefault();break}if(t){var h=t.pagePosition();a=new l("mouseup",t,true,{x:e.pageX-h.x,y:e.pageY-h.y},{x:e.pageX,y:e.pageY});a.load=e.load;t.fireMouseEvent(a)}break;case"mousedown":if(m&&this._suppressMouseOnMobile){e.preventDefault();break}if(t){var h=t.pagePosition();a=new l("mousedown",t,true,{x:e.pageX-h.x,y:e.pageY-h.y},{x:e.pageX,y:e.pageY});a.load=e.load;t.fireMouseEvent(a)}break;case"dblclick":if(m&&this._suppressMouseOnMobile){e.preventDefault();break}if(t){if(this._focusedComp){if(this._focusedComp.id!==t.id){a=new n("blur",this._focusedComp,false);a.load=e.load;this._focusedComp.fireFocusEvent(a);a=new n("focusout",this._focusedLayer,true);a.load=e.load;this._focusedComp.fireFocusEvent(a);this._focusedComp=t;a=new n("focus",this._focusedComp,false);a.load=e.load;this._focusedComp.fireFocusEvent(a);a=new n("focusin",this._focusedComp,true);a.load=e.load;this._focusedComp.fireFocusEvent(a)}}else{this._focusedComp=t;a=new n("focus",this._focusedComp,false);a.load=e.load;this._focusedComp.fireFocusEvent(a);a=new n("focusin",this._focusedComp,true);a.load=e.load;this._focusedComp.fireFocusEvent(a)}var h=t.pagePosition();a=new l("dblclick",this._focusedComp,true,{x:e.pageX-h.x,y:e.pageY-h.y},{x:e.pageX,y:e.pageY});a.load=e.load;this._focusedComp.fireMouseEvent(a)}else{if(this._focusedComp){a=new n("blur",this._focusedLayer,false);a.load=e.load;this._focusedComp.fireFocusEvent(a);a=new n("focusout",this._focusedLayer,true);a.load=e.load;this._focusedComp.fireFocusEvent(a);this._focusedComp=undefined}}break;case"click":if(m&&this._suppressMouseOnMobile){e.preventDefault();break}if(t){if(this._focusedComp){if(this._focusedComp.id!==t.id){a=new n("blur",this._focusedComp,false);a.load=e.load;this._focusedComp.fireFocusEvent(a);a=new n("focusout",this._focusedComp,true);a.load=e.load;this._focusedComp.fireFocusEvent(a);this._focusedComp=t;a=new n("focus",this._focusedComp,false);a.load=e.load;this._focusedComp.fireFocusEvent(a);a=new n("focusin",this._focusedComp,true);a.load=e.load;this._focusedComp.fireFocusEvent(a)}}else{this._focusedComp=t;a=new n("focus",this._focusedComp,false);a.load=e.load;this._focusedComp.fireFocusEvent(a);a=new n("focusin",this._focusedComp,true);a.load=e.load;this._focusedComp.fireFocusEvent(a)}var h=t.pagePosition();a=new l("click",this._focusedComp,true,{x:e.pageX-h.x,y:e.pageY-h.y},{x:e.pageX,y:e.pageY});a.load=e.load;this._focusedComp.fireMouseEvent(a)}else{if(this._focusedComp){a=new n("blur",this._focusedComp,false);a.load=e.load;this._focusedComp.fireFocusEvent(a);a=new n("focusout",this._focusedComp,true);a.load=e.load;this._focusedComp.fireFocusEvent(a);this._focusedComp=undefined}}break;case"pointerdown":case"touchstart":for(var D=0,E,C=e.changedTouches,I=C.length;D<I;D++){E=C[D];this._touchSeqTracking[E.identifier]=false}L.call(this,t,e);a=u.buildFromDomTouchEvent(i,t,e);a.load=e.load;t.fireTouchEvent(a);_=E.pageX;g=E.pageY;v=e.timeStamp;break;case"pointermove":case"touchmove":if(!L.call(this,t,e)){a=u.buildFromDomTouchEvent(r,t,e);a.load=e.load;t.fireTouchEvent(a)}break;case"pointerup":case"touchend":if(!t){return}L.call(this,t,e);var k=[],O=[],N=[],P=[];for(var D=0,E,C=e.changedTouches,I=C.length;D<I;D++){E=C[D];this._touchSeqTracking[E.identifier]===true?O.push(E):k.push(E);delete this._touchSeqTracking[E.identifier]}if(k.length){for(var D=0,E,R=e.targetTouches,I=R.length;D<I;D++){E=R[D];P.push(E)}for(var D=0,E,F=e.touches,I=F.length;D<I;D++){E=F[D];N.push(E)}a=u.buildFrom3TouchArray(o,t,N,O,P);a.load=e.load;t.fireTouchEvent(a);a=u.buildFrom3TouchArray(s,t,N,k,P);a.load=e.load;t.fireTouchEvent(a)}else{a=u.buildFromDomTouchEvent(o,t,e);a.load=e.load;t.fireTouchEvent(a)}var B=w({x:_,y:g},{x:E.pageX,y:E.pageY});var V=e.timeStamp-v;if(e.touches.length>0){break}else{var H=navigator.userAgent;var U=/Android/i.test(H);if(!U){break}}case"pointercancel":case"touchcancel":!m||e.preventDefault();L.call(this,t,e);for(var D=0,E,C=e.changedTouches,I=C.length;D<I;D++){E=C[D];delete this._touchSeqTracking[E.identifier]}a=u.buildFromDomTouchEvent(o,t,e);a.load=e.load;t.fireTouchEvent(a);break}}function L(e,t){var a=[];var i=e;do{c.apply(a,i.gestureDetectors)}while(i=i.parent);var r=false,s,o=false;for(var n=0,l,u,d=a.length;n<d;n++){u=a[n];switch(t.type){case"pointerdown":case"touchstart":u.touchBegin(t);break;case"pointermove":case"touchmove":u.touchMove(t);break;case"pointerup":case"touchend":u.touchEnd(t);break;case"pointercancel":case"touchcancel":u.touchCancel(t);break}l=u.state;s=l===S.Began||l===S.Changed||l===S.Recognized;r=r||s;o=o||s&&u.cancelTouches()}if(o){for(var n=0,h,p=t.changedTouches,d=p.length;n<d;n++){h=p[n];this._touchSeqTracking[h.identifier]=true}}return r}var I=r.extend({constructor:function(e){e=e||{};if(e.holder){this._holder=a(e.holder).get(0);a(this._holder).bind("DOMNodeInsertedIntoDocument",function(){this.markAttached()}.bind(this));a(this._holder).bind("DOMNodeRemovedFromDocument",function(){this.markDetached()}.bind(this));this.pin({x:0,y:0});this._msTracking=[];this._touchSeqTracking={};this.frame({x:0,y:0,width:a(this._holder).width(),height:a(this._holder).height()});this._watcherIds=[];var t=e.size;if(t&&t.auto!==true&&!p.isNaN(t.width)&&!p.isNaN(t.height)&&t.width>0&&t.height>0){this.size(t)}else{this.autoResizing=true;this.autoResize()}this.clipToBound(false);this._suppressMouseOnMobile=false;z.call(this);this._holder.appendChild(this.container);this.markDetached();this.markHide();if(A(this._holder)){this.markAttached()}if(a(this._holder).css("display")==="none"||a(this._holder).css("visibility")==="hidden"||a(this._holder).width()<=0||a(this._holder).height()<=0){this._parentVisible=false;this.markHide()}else{this._parentVisible=true;this.markShow()}this.root=this}else{f(h.getLogMessage("IDS_ERROR_NEED_PROVIDE_CONTAINER_FOR_FRAME"))}},autoResize:function(e){this._watcherIds.forEach(o.unwatch);this._watcherIds=[];if(e===false){this.autoResizing=false;return}this.autoResizing=true;this.size(true,a(this._holder).width(),a(this._holder).height());var t=function(e,t){var i=/.*%/,r=a(e),s=r.width(),n=r.height(),l=e;function u(){if(r.width()!==s||r.height()!==n){t()}return false}this._watcherIds.push(o.watch(e,"width,height",t));while((i.test(l.style.width)||i.test(l.style.height))&&l!==undefined&&l.nodeName.toLowerCase()!=="html"){if(a(l).css("position")!=="absolute"){l=a(l).parent().get(0)}else{l=a(l).offsetParent()}this._watcherIds.push(o.watch(l,"width,height",u))}}.bind(this);var i;t(this._holder,function(){clearTimeout(i);i=setTimeout(function(){this.size(true,a(this._holder).width(),a(this._holder).height())}.bind(this),100)}.bind(this));return this},size:function(){if(arguments.length===0){e=this._super.apply(this);e.auto=this.autoResizing;return e}if(arguments.length>0&&arguments[0]==true){return this._super.apply(this,Array.prototype.slice.call(arguments,1))}var e=arguments[0];var t=this.size();if(e){if(e.width>0&&e.height>0){e=e}else if(e.width>0&&t.height>0){e.height=t.height}else if(e.height>0&&t.width>0){e.width=t.width}else if(e.height<=0&&e.width<=0){var i=this._super.apply(this,[e]);this.autoResize(false);this._parentVisible=false;this.markHide();return i}else{return}a(this.container).css("display","block");var i=this._super.apply(this,[e]);this.autoResize(false);this._parentVisible=true;this.markShow();return i}},suppressMouseOnMobile:function(e){this._suppressMouseOnMobile=!!e},doDestroy:function(){this._watcherIds.forEach(o.unwatch);a(this._holder).unbind("DOMNodeInsertedIntoDocument");a(this._holder).unbind("DOMNodeRemovedFromDocument");a(this.container).unbind()},destroy:function(){this._super();this.doDestroy();this._msTracking=[];a(this.container).detach();this.container=null}});return I});define("sap/viz/mvc/UIController",["sap/viz/base/Class","sap/viz/base/utils/FunctionUtils","sap/viz/mvc/UIComponent"],function e(t,a,i){var r=a.noop;var s=i.Autosizing;var o=t.define({constructor:function(e){Object.defineProperties(this,{application:{value:e,writable:false,enumerable:true,configurable:false},rootUIComponent:{value:new(this.constructor.prototype.RootComponentClass||i)({size:{width:e.vizFrame.width(),height:e.vizFrame.height()},autoResizingMask:s.FlexibleWidth|s.FlexibleHeight,hidden:true,listeners:{beforeShow:this.beforeUIComponentAppear.bind(this),beforeHide:this.beforeUIComponentDisappear.bind(this),afterShow:this.afterUIComponentAppear.bind(this),afterHide:this.afterUIComponentDisappear.bind(this)}}),writable:true,enumerable:true}})},initialize:r,fireAppEvent:function(e,arguments){this.application.fireEvent(e,arguments)},beforeUIComponentAppear:r,afterUIComponentAppear:r,beforeUIComponentDisappear:r,afterUIComponentDisappear:r,doThemeApplied:r,doThemeUpdated:r,destroy:function(){this.rootUIComponent.destroy();this.rootUIComponent=null}});return o});define("sap/viz/mvc/VizApplication",["sap/viz/base/Observable","sap/viz/base/utils/FunctionUtils","sap/viz/mvc/ThemeManager","sap/viz/mvc/ImageManager","sap/viz/mvc/VizFrame","sap/viz/mvc/UIComponent","sap/viz/mvc/UIController","sap/viz/base/Logger","sap/viz/lang/langManager"],function e(t,a,i,r,s,o,n,l,u){var d=a.noop,h=a.error,p=a.unimplemented,c=Array.prototype.push;var f=0;function m(){return f++}var _=t.extend({images:[],RootControllerClass:n,constructor:function(e){if(!arguments.length){h(u.getLogMessage("IDS_ERROR_NEED_SPECIFY_OPTIONS_TO_INITIALIZE"))}var t=e.holder,a=e.id;if(!t){h(u.getLogMessage("IDS_ERROR_NEED_SPECIFY_HOLDER_FOR_VISUALIZATION"))}delete e.holder;delete e.id;var o=this.constructor.prototype;if(!o.RootControllerClass){h(u.getLogMessage("IDS_ERROR_NOT_INITIALIZE_WITHOUT_UICONTROLLER"))}this.appWillLaunch.apply(this,[e]);if(e.launchOptions&&e.launchOptions.size){var n=new s({holder:t,size:e.launchOptions.size})}else{var n=new s({holder:t})}var l=i.defaultTheme();Object.defineProperties(this,{id:{value:a?a+"_"+m():"VizApp_"+m(),writable:false},vizFrame:{value:n,writable:false},theme:{get:function(){return l},set:function(e){l=e;if(i.hasThemeInstalled(e)){l!==e;this.controller.doThemeApplied(l)}return this}}});i.on("defaultThemeChanged",function(e,t){if(this._theme===e){this._theme=t;this.controller.doThemeApplied(t)}}.bind(this),this.id);i.on("themeSettingChanged",function(e,t,a,i){if(this._theme===e){this.controller.doThemeUpdated(t,a,i)}}.bind(this),this.id);var d=[];if(this.hasOwnProperty("images")&&this.images){c.apply(d,this.images)}c.apply(d,o.images);r.loadImages(d,undefined,function(){var t=new o.RootControllerClass(this);Object.defineProperty(this,"controller",{value:t,writable:false,enumerable:true,configurable:false});var a=this.vizFrame.size().auto;this.vizFrame.autoResize(false);this.vizFrame.append(t.rootUIComponent);this.controller.initialize(e);this.appDidFinishLaunching.apply(this,[e]);this.vizFrame.autoResize(a);t.rootUIComponent.frame(0,0,this.vizFrame.width(),this.vizFrame.height());t.rootUIComponent.markShow()}.bind(this))},appWillLaunch:d,appDidFinishLaunching:d,getMetadata:p,getPropertyValues:p,setPropertyValues:p,destroy:function(){i.un("defaultThemeChanged",this.id);i.un("themeSettingChanged",this.id);this.controller.destroy();this.vizFrame.destroy()}});return _});define("sap/viz/style/Element",["jquery"],function e(t){function a(e){this.update(e)}a.prototype={toString:function(){var e="",t;for(t in this){if(this.hasOwnProperty(t)){e+=t+":"+this[t]+";"}}return e},toAttrs:function(e){for(var t in this){if(this.hasOwnProperty(t)){e.attr(t,this[t])}}},update:function(e){for(var t in e){if(e.hasOwnProperty(t)){this[t]=e[t]}}}};var i=document.documentElement,r=i.matchesSelector||i.mozMatchesSelector||i.webkitMatchesSelector||i.msMatchesSelector;function s(e){if(!e){var t=document.implementation.createHTMLDocument("");e=d3.select(t.body);if(t.domain!==document.domain){t.domain=document.domain}}this.el=e}s.prototype={destroy:function(){this.el=null},child:function(e,t,i,r){if(!Array.isArray(t)){t=[t]}if(!Array.isArray(e)){e=[e]}var o=this.el,n=false;var l=Math.max(t.length,e.length);for(var u=0;u<l;u++){var d=t[u];var h=e[u];if(!d&&!h){n=true}d=d||i;if(!n){var p=d;if(h){p+="."+h.replace(" ",".")}var c=o.node();var f=o.selectAll(p).filter(function(){return this.parentNode===c});if(!f.empty()){o=f;continue}n=true}o=d3.select(o.node()).append(d).attr("class",h).datum({defaultStyle:new a,currentStyle:new a,userStyle:new a,meta:{}})}var m=new s(o);if(r){var _=o.datum();_.defaultStyle.update(r);_.currentStyle.update(r)}return m},defaultStyle:function(){return this.el.datum().defaultStyle},currentStyle:function(){return this.el.datum().currentStyle},userStyle:function(){return this.el.datum().userStyle},queryAll:function(e){var t=[];this.el.selectAll(e).each(function(){t.push(new s(d3.select(this)))});return t},match:function(e){return r.call(this.el.node(),e)},update:function(e,a){var i=this.currentStyle();var r=this.userStyle();var s=this.el.datum().meta;var o=this.styleManager();t.each(a,function(t,a){var n=s[t];var l=false,u;if(n){l=n.important;u=n.selector}var d=a.important;if(d&&(!l||e.nlt(u))||!d&&!l&&e.nlt(u)){i[t]=a.value;r[t]=a.value;if(!n){n={};s[t]=n}n.important=d;n.selector=e}if(o&&o.module){o.applyProperty(e.text,t,a.value)}});return this},cleanChildren:function(){var e=this.el.node();var t;while(t=e.firstChild){e.removeChild(t)}return this},styleManager:function(e){var t=this.el.node();if(!arguments.length){if(t.styleManager){return t.styleManager}t=t.parentNode;while(t){if(t.styleManager){return t.styleManager}t=t.parentNode}return undefined}t.styleManager=e;return this}};return s});define("sap/viz/style/Manager",["jquery","sap/viz/style/Element"],function e(t,a){function i(e,i,r,s){var o={};if(!r){r=new a}this.el=r;this.el.styleManager(this);if(i){this.moduleProperties=i.properties;var n=i.css;if(n){t.each(n,function(t,a){var i=t.split(" ");for(var n=0;n<i.length;++n){i[n]=i[n].substring(1).replace("."," ")}var l=r.child(i,null,s||"g",a.value);if(i.length===1){i[0].split(" ").forEach(function(e){o[e]=l})}else{o[t]=l}if(e){e.forEach(function(e){e.iterate(function(e,t){if(l.match(e.text)){l.update(e,t)}})})}})}}this.subEls=o;this.sheets=e;this.children=[];this.module=null}function r(e,t,a,i){var s=this.name;if(s){t+=" ."+s}var o,n=this.subEls;for(o in n){if(n.hasOwnProperty(o)){var l;if(o.indexOf(".")===0){l=t+" "+o}else{l=t+" ."+o}if(a.hasOwnProperty(l)){continue}a[l]=null;var u="";var d=n[o][e===true?"currentStyle":"userStyle"]();for(var h in d){if(d.hasOwnProperty(h)){u+=h+":"+d[h]+";"}}if(u.length>0){l+="{"+u+"}";i.push(l)}}}this.children.forEach(function(s){r.call(s,e,t,a,i)})}i.prototype={query:function(e){var t=this.subEls[e];if(t){return t.currentStyle()}},queryDefault:function(e){var t=this.subEls[e];if(t){return t.defaultStyle()}},cssText:function(e){return this.query(e).toString()},child:function(e,t,a,r){var s=new i(this.sheets,e,this.el.child(t,a,r||"g"),r);s.name=t?t:undefined;this.children.push(s);return s},applyCSS:function(e){var t=this.el;e.rules.forEach(function(e){e.selectors.forEach(function(a){t.queryAll(a.text).forEach(function(t){t.update(a,e.properties)})})});return this},applyProperty:function(e,t,a){var i;var r=e.split(" ");var s=r[r.length-1];for(var o in this.moduleProperties){if(this.moduleProperties.hasOwnProperty(o)&&this.moduleProperties[o]&&this.moduleProperties[o].cssClass&&this.moduleProperties[o].cssClass.indexOf(s)>=0){var n=function e(i){if("Object"===i.supportedValueType){if(i.cssClass&&i.cssClass.indexOf(s)<0){return null}var r;var o=i.supportedValues;for(var n in o){if(o.hasOwnProperty(n)){var l=e(o[n]);if(l){if(!r){r={}}r[n]=l}}}return r}else{if(function(){if(!i.cssStyle){return false}var e=i.cssStyle.split(" ");for(var a=0;a<e.length;a++){if(t===e[a]){return true}}return false}()){return a}}}(this.moduleProperties[o]);if(n){if(!i){i={}}i[o]=n}}}if(i){if(this.module&&this.module.setProperties){this.module.setProperties(i)}}return this},getCSS:function(e,t){var a;var i=this.el;e.rules.forEach(function(e){e.selectors.forEach(function(e){i.queryAll(e.text).forEach(function(e){a=e.currentStyle()[t]})})});return a},getCurrentCSS:function(e){var t=[];r.call(this,e,"",{},t);return t.join("")},cleanChildren:function(){this.el.cleanChildren();return this}};i.prototype.destroy=function(){if(this.el){this.el.destroy()}this.el=null;this.children=null};return i});define("sap/viz/util/fn/createContext",["jquery","sap/viz/style/Manager"],function e(t,a){return function(e,i,r,s,o){var n=i.styleManager;if(!n){n=new a}n=n.child(e,r,s);var l={styleManager:n,destroy:function(){for(var e in this){if(this.hasOwnProperty(e)){if(this[e]&&typeof this[e].destroy==="function"){this[e].destroy();delete this[e]}}}}};for(var u in o){if(o.hasOwnProperty(u)){l[u]=o[u]}}t.each(i,function(e,t){if(e!=="styleManager"&&e!=="destroy"){l[e]=t}});return l}});define("sap/viz/modules/manifests/Module",["sap/viz/manifest","sap/viz/base/utils/FunctionUtils","sap/viz/base/utils/Objects","sap/viz/base/utils/TypeUtils","sap/viz/util/fn/createContext"],function e(t,a,i,r,s){var o=true;function n(e,i,r){var s=i.id;if(s===undefined){a.error('Cannot find module id in sub module config "{0}"',JSON.stringify(i))}var o=t.module.get(i.id,true);e.push({module:o,config:i,moduleRef:r,subModules:o.subModules(i,r)})}function l(e,t){var a={},r,s;for(r in e){if(e.hasOwnProperty(r)){s=e[r];if(s){if(t===true){a[r]=i.extend(true,{},s)}else{a[r]=s.supportedValueType==="Object"?l(s.supportedValues,!o):s.defaultValue}}}}return a}t.registerCategory("module",function(e){var t;var a;Object.defineProperties(e,{subModules:{value:function(e,t){var a;var s=i.extend(true,{},e.modules,e.controllers);if(!r.isEmptyObject(s)){a=[];var o;for(var l in s){if(s.hasOwnProperty(l)){o=s[l];if(o){n(a,o,t+"."+l)}}}}return a}},props:{value:function(r){if(r===o){if(!a){a=l(e.properties,o)}return a}else{if(!t){t=l(e.properties,!o)}return i.extend(true,{},t)}}},execute:{value:function(t,a,i,r){var o=e.fn;var n=a===true?t:s(this,t,a,i,r);var l;if(o.prototype.__new_style__){var u=new o(e,n);l=function(e){return u.render(e)};for(var d in u){if(typeof u[d]==="function"){var h=u[d];l[d]=function(e){return function(){return e.apply(u,arguments)}}(h)}}l.instance=function(){return u};l.destroy=function(){if(u.destroy)u.destroy();u=null}}else{l=o(e,n)}n.styleManager.module=l;return l}}});return e});t.module.loadModule=n;return t.module});define("sap/viz/modules/GlobalConstants",[],function e(){var t={Type:{Chart:"CHART",Container:"CONTAINER",Supplementary:"SUPPLEMENTARY",Behavior:"BEHAVIOR",Controller:"CONTROLLER",Scientific:{Layout:"Represents a layout algorithm"},Presentation:{Tooltip:"Represents a tooltip"},ThirdParty:"THIRDPARTY"},RenderTo:{SVG:"SVG",DIV:"DIV",NONE:"NONE"},TRIGGER:{KEY:{API:{GET_SELECTION:"Trigger_key_api_get_selection",SET_SELECTION:"Trigger_key_api_set_selection"},CLICK_ON_DATAPOINT:"click_on_datapoint",CLICK_ON_NON_DATAPOINT:"click_on_non_datapoint",HOVER_ON_DATAPOINT:"hover_on_datapoint",HOVER_ON_NON_DATAPOINT:"hover_on_non_datapoint",HOVER_ON_LEGEND:"hover_on_legend",HOVER_ON_NON_LEGEND:"hover_on_non_legend",CLICK_ON_LEGEND:"click_on_legend",MOUSEUP_ON_LEGEND:"mouseup_on_legend",HOVER_ON_AXIS_LABEL:"hover_on_axis_label",HOVER_ON_NON_AXIS_LABEL:"hover_on_non_axis_label",CLICK_ON_AXIS_LABEL:"click_on_axis_label",MOUSEUP_ON_AXIS_LABEL:"mouseup_on_axis_label",LASSO_START_ON_EVENTLAYER:"lasso_start_on_eventLayer",LASSO_MOVE_ON_EVENTLAYER:"lasso_move_on_eventLayer",LASSO_END_ON_EVENTLAYER:"lasso_end_on_eventLayer",PAN_START_ON_EVENTLAYER:"pan_start_on_eventLayer",PINCH_START_ON_EVENTLAYER:"pinch_start_on_eventLayer",PINCH_MOVE_ON_EVENTLAYER:"pinch_move_on_eventLayer",PINCH_END_ON_EVENTLAYER:"pinch_end_on_eventLayer"},CSS:{MATCHMODE:{NEGATIVE:"negative",POSITIVE:"positive"}}},COLOR:{SAPColorSingleAxis:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],SAPColorDualAxis1:["#8FBADD","#B8D4E9","#7AAED6","#A3C7E3","#3D88C4","#66A1D0","#297CBE","#5295CA","#005BA3","#146FB7","#005395","#0063B1"],SAPColorDualAxis2:["#F6A09B","#F9C3C0","#F58E88","#F8B1AD","#F05B52","#F37D76","#EE4A40","#F16C64","#D92419","#ED382D","#C52117","#EB271B"],SAPColorBulletReference:["#CCCCCC","#ACA8A8","#838282"]}};return t});define("sap/viz/util/makeInterfaceCompatible",[],function(){var e=function(t){if(!t.setData&&t.data){t.setData=function(){var a=t.data.apply(t,arguments);return e(a)};t.getData=t.data}if(!t.setWidth&&t.width){t.setWidth=function(){var a=t.width.apply(t,arguments);return e(a)};t.getWidth=t.width}if(!t.setHeight&&t.height){t.setHeight=function(){var a=t.height.apply(t,arguments);return e(a)};t.getHeight=t.height}if(!t.setSize&&t.size){t.setSize=function(){var a=t.size.apply(t,arguments);return e(a)};t.getSize=t.size}if(!t.setProperties&&t.properties){t.setProperties=function(){var a=t.properties.apply(t,arguments);return e(a)};t.getProperties=t.properties}return t};return e});define("sap/viz/util/ignite",["sap/viz/base/utils/TypeUtils","sap/viz/modules/manifests/Module","sap/viz/util/makeInterfaceCompatible"],function e(t,a,i){return function(e,r,s,o,n){var l;if(t.isString(e)){l=a.get(e)}else{l=e;s=true}return i(l.execute(r,s,o,n))}});define("sap/viz/style/Selector",[],function e(){function t(e){this.b=0;this.c=e?e.split(".").length-1:0;this.d=0}t.prototype={nlt:function(e){if(this.b===e.b){if(this.c===e.c){return this.d>=e.d}return this.c>e.c}return this.b>e.b}};function a(e){this.text=e;var a;Object.defineProperty(this,"specificity",{get:function(){if(!a){a=new t(e)}return a}})}a.prototype={nlt:function(e){if(!e){return true}return this.specificity.nlt(e.specificity)}};return a});define("sap/viz/style/Sheet",["sap/viz/style/Selector"],function e(t){function a(e,a,i){this.source=e;var r=a&&a.length>0?"."+a+" ":"";var s=document.head;var o=document.createElement("style");s.appendChild(o);var n=o.sheet;n.disabled=true;var l=e.split("}");for(var u=0,d=l.length-1;u<d;u++){if(l[u].indexOf(",")<0||l[u].indexOf(",")>l[u].indexOf("{")){n.insertRule(r+" "+l[u]+"}",u)}else{var h=l[u].split(",");var p="";for(var c=0;c<h.length-1;c++){p=p+r+h[c]+","}p+=r+h[h.length-1];n.insertRule(p+"}",u)}}this.rules=[];var f=n.cssRules;for(u=0,d=f.length;u<d;u++){var m=f[u];var _=m.selectorText.split(",");var g=_.map(function(e){return new t(e.substring(r.length,e.length))});var v={};var y=m.style;for(var b=0,x=y.length;b<x;b++){var A=y[b];v[A]={value:y.getPropertyValue(A),important:y.getPropertyPriority(A)==="important"}}this.rules.push({selectors:g,properties:v})}if(i){s.removeChild(o)}else{n.disabled=false;this.styleElement=o}}a.prototype={destroy:function(){if(this.styleElement&&this.styleElement.parentNode){this.styleElement.parentNode.removeChild(this.styleElement)}return this},iterate:function(e){this.rules.forEach(function(t){t.selectors.forEach(function(a){e(a,t.properties)})});return this}};return a});define("sap/viz/util/append",[],function e(){return function(e,t){var a=this.append(e);for(var i in t){if(t.hasOwnProperty(i)){a.attr(i,t[i])}}return a}});define("sap/viz/util/elementutil",[],function e(){var t={isSVG:function(e){return t.isGElement(e)||t.isSVGElement(e)},isGElement:function(e){return e.node().nodeName.toLowerCase()==="g"},isSVGElement:function(e){return e.node().nodeName.toLowerCase()==="svg"},isDIV:function(e){return e.node().nodeName.toLowerCase()==="div"}};return t});define("sap/viz/util/fn/dombuilder",["sap/viz/modules/GlobalConstants","sap/viz/modules/manifests/Module","sap/viz/util/append","sap/viz/base/utils/FunctionUtils","sap/viz/util/elementutil"],function e(t,a,i,r,s){var o=function(e,o){var n=s.isSVG(e);var l=e;var u={};var d=true;var h,p;for(h in o){if(o.hasOwnProperty(h)&&o[h]){p=a.get(o[h].id);if(p&&p.renderto===t.RenderTo.DIV){if(n){r.error("Configuration Error! Does not allow append div under svg element!")}else{d=false;break}}}}for(h in o){if(o.hasOwnProperty(h)&&o[h]){p=a.get(o[h].id);if(p){if(p.renderto===t.RenderTo.DIV){u[h]=i.apply(l,["div",{class:"v-m-"+h}])}else if(p.renderto===t.RenderTo.NONE){u[h]=undefined}else{u[h]=i.apply(l,[n?"g":"svg",{class:"v-m-"+h}])}}}}return u};return o});define("sap/viz/util/fn/domposition",["sap/viz/util/elementutil"],function e(t){var a=function(e,a){if(e&&a){if(t.isSVGElement(e)){e.attr("width",a.width);e.attr("height",a.height);e.style("position","absolute").style("box-sizing","border-box").style("left",a.x+"px").style("top",a.y+"px")}else{e.attr("transform","translate("+a.x+", "+a.y+")")}}};var i=function(e,t){if(e&&t){e.style("position","absolute").style("box-sizing","border-box").style("overflow","hidden").style("width",t.width+"px").style("height",t.height+"px").style("left",t.x+"px").style("top",t.y+"px")}};var r=function(e,r){var s;for(s in r){if(r.hasOwnProperty(s)){if(e[s]){var o=e[s];if(t.isSVG(r[s])){a(r[s],o)}else if(t.isDIV(r[s])){i(r[s],o)}}}}};return r});define("sap/viz/modules/event/Manager",[],function e(){return function(){var e;var t={UIComponent:function(a){if(!arguments.length){return e}e=a;return t},on:function(a,i){e.on(a,i);return t},addGestureDetector:function(a){if(!arguments.length){return}e.addGestureDetector(a);return t},destroy:function(){e=null}};return t}});define("sap/viz/util/UtilsRegister",[],function e(){var t={};return{register:function(e,a){t[e]=a},unregister:function(e){t[e]=undefined},clear:function(){t={}},get:function(e){return t[e]}}});define("sap/viz/util/TextUtils",["sap/viz/base/utils/TypeUtils","sap/viz/base/UADetector"],function e(t,a){var i="http://www.w3.org/2000/svg";var r;var s;var o;var n=["font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","letter-spacing","word-spacing","alignment-baseline","baseline-shift","dominant-baseline"];var l=[];var u=[];var d=[];var h=[];function p(){if(!r){var e=document.body.appendChild(document.createElementNS(i,"svg"));e.style.cssText="position:absolute;top:-1000px;z-index:-9000;width:1px;height:1px";r=e.appendChild(document.createElementNS(i,"text"))}return r}function c(e,i){var r=p();if(!i){r.removeAttribute("style")}else{if(!t.isString(i)){var s=a.isIE()?i.ownerSVGElement.getComputedStyle(i):window.getComputedStyle(i);var o="";n.forEach(function(e){var t=s.getPropertyValue(e);if(t!==null){o+=e+":"+t+";"}});i=o}r.style.cssText=i}if(e===undefined||e===null){e=""}r.textContent=e;return r}function f(e,t,i,r,s){var o="..."+r;var n="";if(e){n=e.toString()}if(i>0){if(h[o]){if(n.length>3){if(i<h[o]/3*4){if(t){t.textContent=""}return""}}else{if(i<h[o]/3*n.length){if(t){t.textContent=""}return""}}}var l,u;o=n+r;l=s?p():c(n,r||t);u=l.getComputedTextLength();if(u<=i){if(t){t.textContent=n}return n}o="..."+r;if(!h[o]){l.textContent="...";h[o]=l.getComputedTextLength()}i-=h[o];l.textContent=n;if(i>0){var d=n.length;var f=Math.ceil(i/u*d);var m=n.substring(0,f);o=m+r;var _;var g;var v=l.textContent.toString();if(!a.isIE()){l.textContent=v.substring(0,f);_=l.getComputedTextLength()}else{_=l.getSubStringLength(0,f)}if(_<=i){while(++f<=d){m=n.substring(0,f);o=m+r;if(!a.isIE()){l.textContent=v.substring(0,f);_=l.getComputedTextLength()}else{_=l.getSubStringLength(0,f)}if(_>i){g=n.substring(0,f-1)+"...";if(t){t.textContent=g;t.appendChild(document.createElementNS(t.namespaceURI,"title")).textContent=n}if(!a.isIE()){l.textContent=v}return g}}}else{while(--f>0){m=n.substring(0,f);o=m+r;if(!a.isIE()){l.textContent=v.substring(0,f);_=l.getComputedTextLength()}else{_=l.getSubStringLength(0,f)}if(_<=i){g=m+"...";if(t){t.textContent=g;t.appendChild(document.createElementNS(t.namespaceURI,"title")).textContent=n}l.textContent=v;return g}}}if(!a.isIE()){l.textContent=v}}}if(t){t.textContent=""}return""}return{measure:function(e,t){if(e===""){return{width:0,height:0,x:0,y:0}}var a=c(e,t).getBBox();return{width:a.width,height:a.height,x:a.x,y:a.y}},measureInCanvas:function(e,t,a,i){if(!i||!t||!a){return}var r=0;if(!s){s=document.createElement("canvas");s.style.cssText="position:absolute;top:-1000px;z-index:-9000;width:0px;height:0px;visibility:hidden";document.body.appendChild(s)}if(s.getContext){var o=s.getContext("2d");var n=a+" "+t+" "+i;o.font=n;r=o.measureText(e).width}var l=parseFloat(t)*1.2;return{width:r,height:l}},fastMeasure:function(e,t,a,i){var r=e+t+a+i;var s=l[r];if(!s){l[r]=this.measure(e,"font-size:"+t+"; font-weight:"+a+"; font-family:"+i);s=l[r]}return s},bestMeasureFun:function(e,t,a){if(!o){var i;var r=100;var s="Test";var n=(new Date).getTime();for(i=0;i<r;i++){this.measureInCanvas(s,e,t,a)}var l=(new Date).getTime();var u=l-n;var d=(new Date).getTime();for(i=0;i<r;i++){this.measure(s,"font-size:"+e+"; font-weight:"+t+"; font-family:"+a)}var h=(new Date).getTime();var p=h-d;if(u<p){o="C"}else{o="M"}}return o},superFastMeasure:function(e,t,a,i){var r,s,o,n,l;if(arguments.length===2){l=this.parseStyle(t);s=l.FontSize;o=l.FontWeight;n=l.FontFamily}else if(arguments.length===4){s=t;o=a;n=i}r=e+s+o+n;var d=u[r];if(!d){if(this.bestMeasureFun(s,o,n)==="C"){u[r]=this.measureInCanvas(e,s,o,n)}else{u[r]=this.measure(e,"font-size:"+s+"; font-weight:"+o+"; font-family:"+n)}d=u[r]}return d},canvasMeasure:function(e,t,a,i){var r,s,o,n,l;if(arguments.length===2){l=this.parseStyle(t);s=l.FontSize;o=l.FontWeight;n=l.FontFamily}else if(arguments.length===4){s=t;o=a;n=i}r=e+s+o+n;var u=d[r];if(!u){u=d[r]=this.measureInCanvas(e,s,o,n)}return u},ellipsis:function(e,t,a,i,r){return f(e,t,a,i,false)},ellipsisInCircle:function(e,t,a,i,r){var s=c(e,t);var o=Math.sqrt(Math.pow(a,2)-Math.pow(i+s.getBBox().height/2,2))*2;f(e,t,o,r,true)},verticalCentralOffset:function(e,t){var a=c(e,t);var i=a.getBBox();var r=-i.y;var s=parseInt(a.ownerSVGElement.getComputedStyle(a)["fontSize"],0);return(r-(i.height-s))/2},parseStyle:function(e){var t={};var a=e.toLowerCase();t.FontSize=this.getStyleValue(a,"font-size");t.FontWeight=this.getStyleValue(a,"font-weight");t.FontFamily=this.getStyleValue(a,"font-family");return t},getStyleValue:function(e,t){var a,i,r;i=e.indexOf(t);if(i>=0){i=e.indexOf(":",i)+1;r=e.indexOf(";",i);if(r<0){r=e.length}a=e.substring(i,r)}return a},getTextBaselineOffset:function(e){var t=this.fastMeasure("Tag",e["font-size"],e["font-weight"],e["font-family"]);return t.height+t.y},destroy:function(){if(r){var e=r.parentNode;if(e){e.parentNode.removeChild(e)}}r=null;l=[];u=[];d=[];h=[];if(s){s.parentNode.removeChild(s)}s=null}}});define("sap/viz/base/utils/oo",[],function(){var e={};e.extend=function(e,t){var a=e.prototype;e.superclass=t.prototype;var i=function(){};i.prototype=t.prototype;e.prototype=new i;for(var r in a){if(a.hasOwnProperty(r)){e.prototype[r]=a[r]}}e.prototype.constructor=e;if(t.prototype.constructor===Object.prototype.constructor){t.prototype.constructor=t}return e};return e});define("sap/viz/modules/Base",[],function(){var e=function(){};e.prototype.__new_style__=true;return e});define("sap/viz/modules/dispatch",[],function e(){return d3.dispatch});define("sap/viz/behaviors/MouseMonitor",["jquery","sap/viz/modules/dispatch","sap/viz/base/UADetector"],function e(t,a,i){var r=3;var s=function(){this._mm_g=null;this._mm_d=a("click","hover","lassostart","lassomove","lassoend","mousedown","mouseup","mouseover","mouseout","mouseleave","contextmenu");this._mm_mousedownpoint=null;this._mm_status="hover";this._mm_props={enableClick:true,enableHover:true,enableMouseDown:true,enableMouseUp:true,enableMouseOver:true,enableMouseOut:true,enableMouseLeave:true,enableLassoStart:true,enableLassoMove:true,enableLassoEnd:true,enableContextMenu:true}};s.prototype.setProperties=function(e){Objects.extend(true,this._mm_props,e);return s};s.prototype.getProperties=function(){return this._mm_props};s.prototype.registerEvent=function(e){this._mm_g=e;this._mm_g.on("mousedown.monitor",this._mm_mousedown.bind(this),true).on("mouseup.monitor",this._mm_mouseup.bind(this)).on("mousemove.monitor",this._mm_mousemove.bind(this)).on("mouseover.monitor",this._mm_mouseover.bind(this)).on("mouseout.monitor",this._mm_mouseout.bind(this)).on("dragstart.monitor",this._mm_preventEvent.bind(this)).on("selectstart.monitor",this._mm_preventEvent.bind(this)).on("contextmenu.monitor",this._mm_contextmenu.bind(this));if(i.isIE()){this._mm_g.on("mouseleave.monitor",function(){this._mm_mouseleave.call(this,d3.event)}.bind(this))}else{t(this._mm_g.node()).mouseleave(this._mm_mouseleave.bind(this))}};s.prototype.destroy=function(){var e=this._mm_g;if(e){e.on("mousedown.monitor",null).on("mouseup.monitor",null).on("mousemove.monitor",null).on("mouseover.monitor",null).on("mouseout.monitor",null).on("contextmenu.monitor",null);if(i.isIE()){e.on("mouseleave.monitor",null)}else{t(e.node()).unbind("mouseleave")}this._mm_g=null}this._mm_d=null;this._mm_mousedownpoint=null;this._mm_status=null;this._mm_props=null};s.prototype.getDispatch=function(){return this._mm_d};s.prototype._mm_mousedown=function(){var e=l();if(e.which!==1){return}this._mm_mousedownpoint={x:e.clientX,y:e.clientY};this._mm_status="unknown";this._mm_fireEvent("mousedown");if(this._mm_isEnableLasso()){u()}};s.prototype._mm_preventEvent=function(){var e=l();e.preventDefault();return false};s.prototype._mm_mousemove=function(){if(this._mm_mousedownpoint&&this._mm_mousedownpoint.x===l().clientX&&this._mm_mousedownpoint.y===l().clientY){return}if(this._mm_status==="lasso"){this._mm_fireEvent("lassomove")}else if(this._mm_status==="hover"){this._mm_fireEvent("hover")}else{this._mm_fireEvent("lassostart",this._mm_mousedownpoint);this._mm_status="lasso";this._mm_fireEvent("lassomove")}};s.prototype._mm_mouseup=function(){this._mm_fireEvent("mouseup");if(this._mm_status==="lasso"){this._mm_fireEvent("lassoend");if(o(l())){this._mm_fireEvent("mouseover")}}else{if(!this._mm_checkMouseDownUpDistance()){this._mm_fireEvent("click")}}this._mm_mousedownpoint=null;this._mm_status="hover"};s.prototype._mm_contextmenu=function(){this._mm_fireEvent("contextmenu")};s.prototype._mm_mouseout=function(){if(this._mm_status!=="lasso"){this._mm_fireEvent("mouseout")}};s.prototype._mm_mouseover=function(){if(this._mm_status!=="lasso"){this._mm_fireEvent("mouseover")}};s.prototype._mm_mouseleave=function(e){var t={x:e.clientX,y:e.clientY};var a=e.target;if(this._mm_status==="lasso"){this._mm_fireEvent("lassoend",t,a);this._mm_status="hover"}this._mm_fireEvent("mouseleave",t,a,e)};function o(e){var t=e.target,a=t.getAttribute("class");var i=false;if(a&&a.indexOf("v-datapoint")>=0){i=true}return i}s.prototype._mm_isEnableLasso=function(){var e=false;var t=this._mm_props;if(t.supportLassoEvent&&(t.selectability.mode!=="none"&&t.selectability.mode!=="single")){e=true;if(t.selectability.lassoWithCtrlKey){var a=l();if(!a.ctrlKey){e=false}}}return e};function n(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}function l(){if(d3.event){return d3.event}else{return window.event}}s.prototype._mm_checkMouseDownUpDistance=function(){var e=l();var t={x:e.clientX,y:e.clientY};if(this._mm_mousedownpoint!==null&&n(this._mm_mousedownpoint,t)<r){return false}else{return true}};s.prototype._mm_fireEvent=function(e,t,a,r){var s=l();if(!s&&r){s=r}var o,n;if(t){o=t}else{o={x:s.clientX,y:s.clientY}}if(a){n=a}else{n=s.target}var u={name:e,data:{point:o,target:n,ctrlKey:i.os()==="Mac"?s.metaKey:s.ctrlKey}};var d=this._mm_props;var h=this._mm_d;switch(e){case"mousedown":if(d.enableMouseDown){h.mousedown(u)}break;case"mouseup":if(d.enableMouseUp){u.data.button=s.button;h.mouseup(u)}break;case"mousemove":if(d.enableMouseMove){h.mousemove(u)}break;case"mouseover":if(d.enableMouseOver){h.mouseover(u)}break;case"mouseout":if(d.enableMouseOut){h.mouseout(u)}break;case"hover":if(d.enableHover){h.hover(u)}break;case"lassostart":h.lassostart(u);break;case"lassomove":h.lassomove(u);break;case"lassoend":h.lassoend(u);break;case"click":if(d.enableClick){h.click(u)}break;case"mouseleave":h.mouseleave(u);break;case"contextmenu":u.data.button=s.button;u.data.point.x=s.pageX;u.data.point.y=s.pageY;h.contextmenu(u);break;default:break}};function u(){if(d3.event){d3.event.stopPropagation();d3.event.preventDefault()}}return s});define("sap/viz/mvc/TapGestureDetector",["sap/viz/mvc/GestureDetector","sap/viz/base/Math"],function e(t,a){var i=t.TransitionState;var r=function(e,t){var i=e.x-t.x;var r=e.y-t.y;return a.sqrt(i*i+r*r)};var s=function(e,t){e._sequenceStarted=true;e._currentNumberOfTaps=0;e._firstStartXY=e.globalLocOfTouchPoints()};var o=50;var n=150;var l=20;var u=150;var d=t.extend({constructor:function(e,t){e=+e;t=+t;this._touchesRequired=e>0&&e<6?e:1;this._tapsRequired=t>0?t:1;this._currentNumberOfTaps=0;this._firstStartXY=undefined;this._sequenceStarted=false;this._currentStartWhen=0},touchesRequired:function(e){if(arguments.length){this._touchesRequired=+e;return this}return this._touchesRequired},tapsRequired:function(e){if(arguments.length){this._tapsRequired=+e;return this}return this._tapsRequired},doTouchBegin:function(e){if(this.state===i.Possible){var t=this.totalTouches();if(t===this._touchesRequired){var a=e.timeStamp;if(this._currentNumberOfTaps==0){s(this,e)}else{if(this._currentNumberOfTaps<this._tapsRequired){var l=r(this._firstStartXY,this.globalLocOfTouchPoints());var d=this._currentStartWhen;if(l>o||a-d>n+u){s(this,e)}}}this._currentStartWhen=a}else{this.state=i.Failed}}},doTouchEnd:function(e){if(this.state===i.Possible&&this._sequenceStarted){if(r(this._firstStartXY,this.globalLocOfTouchPoints())>o){this.state=i.Failed;return}var t=e.timeStamp-this._currentStartWhen;if(t>n||t<l){this.state=i.Failed;return}if(++this._currentNumberOfTaps===this._tapsRequired){this.state=i.Recognized}}},doTouchCancel:function(e){if(this.state===i.Possible){this.state=i.Failed}},reset:function(){this._super();this._currentNumberOfTaps=0;this._sequenceStarted=false;this._firstStartXY=undefined;this._firstStartWhen=0;this._currentStartWhen=0}});return d});define("sap/viz/mvc/PanGestureDetector",["sap/viz/mvc/GestureDetector","sap/viz/base/Math"],function e(t,a){var i=t.TransitionState;var r=10;var s=500;var o=function(e,t){var i=e.x-t.x;var r=e.y-t.y;return a.sqrt(i*i+r*r)};var n=function(e,t){return t-e};var l=function(e){this._startWhen=this._stopWhen;this._stopWhen=e.timeStamp;this._lastXY=this._currentXY;this._currentXY=this.globalLocOfTouchPoints()};var u=t.extend({constructor:function(e){this._touchesRequired=e>0&&e<6?e:1;this._startXY=undefined;this._lastXY=undefined;this._currentXY=undefined;this._startWhen=0;this._stopWhen=0;this._isLasso=false;this._isPan=false},touchesRequired:function(e){if(arguments.length){this._touchesRequired=+e;return this}return this._touchesRequired},doTouchBegin:function(e){var t=this.totalTouches();if(t===this._touchesRequired&&this.state===i.Possible){this._startWhen=this._stopWhen=e.timeStamp;this._startXY=this._lastXY=this._currentXY=this.globalLocOfTouchPoints();this.state=i.Began}else if(t>this._touchesRequired){if(this.state===i.Began||this.state===i.Changed){this._stopWhen=e.timeStamp;this._lastXY=this._currentXY;this._currentXY=this.globalLocOfTouchPoints();this.state=i.Canceled}else{this.state=i.Failed}}},doTouchMove:function(e){switch(this.state){case i.Began:if(o(this._currentXY,this.globalLocOfTouchPoints())>=r&&n(this._stopWhen,e.timeStamp)<s){l.call(this,e);this._isPan=true;this._isLasso=false;this.state=i.Changed}else{if(n(this._stopWhen,e.timeStamp)>s){l.call(this,e);this._isLasso=true;this._isPan=false;this.state=i.Changed}}break;case i.Changed:l.call(this,e);this.state=i.Changed;break}},doTouchEnd:function(e){if(this.state===i.Began||this.state===i.Changed){l.call(this,e);this.state=i.Ended}},doTouchCancel:function(e){if(this.state===i.Began||this.state===i.Changed){l.call(this,e);this.state=i.Canceled}},rangeInXY:function(){return{x:this._currentXY.x-this._startXY.x,y:this._currentXY.y-this._startXY.y}},velocityInXY:function(){var e=this._stopWhen-this._startWhen;if(e){return{x:(this._currentXY.x-this._lastXY.x)/e,y:(this._currentXY.y-this._lastXY.y)/e}}else{return 0}},reset:function(){this._super();this._startXY=undefined;this._lastXY=undefined;this._currentXY=undefined;this._startWhen=0;this._stopWhen=0}});return u});define("sap/viz/mvc/PinchGestureDetector",["sap/viz/mvc/GestureDetector","sap/viz/base/Math"],function e(t,a){var i=t.TransitionState;var r=t.extend({constructor:function(){this._origDistance=1;this._currDistance=1;this._startWhen=0;this._stopWhen=0},_distance:function(){var e=[];for(var t in this._grTouchTracker){e.push(this._grTouchTracker[t].globalXY)}if(e.length>1){var i=e[1].x-e[0].x;var r=e[1].y-e[0].y;return a.sqrt(i*i+r*r)}else{return 0}},doTouchBegin:function(e){var t=this.totalTouches();if(this.state===i.Possible){if(t===2){var a=this._distance();if(a>35){this._origDistance=this._currDistance=a;this._startWhen=this._stopWhen=e.timeStamp;this._touchStartPoints=[];var r=this._grTouchTracker;for(var s in r){if(r[s].globalXY!==undefined){this._touchStartPoints.push(r[s].globalXY)}}}else{this.state=i.Failed;return}}else if(t>2){this.state=i.Failed;return}}else if(this.state===i.Began||this.state===i.Changed){this._stopWhen=e.timeStamp;this._currDistance=this._distance();this.state=i.Canceled;return}},doTouchMove:function(e){switch(this.state){case i.Possible:if(this.totalTouches()===2){this._stopWhen=e.timeStamp;this._currDistance=this._distance();var t=this.scale();if(t>1.1||t<.9){this.state=i.Began}}break;case i.Began:if(a.abs(this._origDistance-this._distance())>10){this._stopWhen=e.timeStamp;this._currDistance=this._distance();this.state=i.Changed}break;case i.Changed:this._currDistance=this._distance();this._stopWhen=e.timeStamp;this.state=i.Changed;break}},doTouchEnd:function(e){if(this.state===i.Began||this.state===i.Changed){if(this.totalTouches()===0){this._stopWhen=e.timeStamp;this._currDistance=this._distance();this.state=i.Ended}else{this._stopWhen=e.timeStamp;this._currDistance=this._distance();this.state=i.Canceled}}else if(this.state===i.Possible){this.state=i.Failed}},doTouchCancel:function(e){if(this.state===i.Began||this.state===i.Changed){this._stopWhen=e.timeStamp;this._currDistance=this._distance();this.state=i.Canceled}else if(this.state===i.Possible){this.state=i.Failed}},scale:function(){return this._currDistance/this._origDistance},velocity:function(){var e=this._startWhen-this._stopWhen;if(e){return a.abs(this._currDistance-this._origDistance)*1e3/e}else{return 0}},reset:function(){this._super();this._origDistance=1;this._currDistance=1;this._startWhen=0;this._stopWhen=0}});return r});define("sap/viz/behaviors/TouchMonitor",["sap/viz/modules/dispatch","sap/viz/mvc/TapGestureDetector","sap/viz/mvc/PanGestureDetector","sap/viz/mvc/GestureDetector","sap/viz/base/utils/ObjectUtils","sap/viz/base/UADetector","sap/viz/mvc/PinchGestureDetector"],function e(t,a,i,r,s,o,n){var l=function(){this._tm_g=null;this._tm_d=t("click","hover","lassostart","lassomove","lassoend","panstart","panmove","panend","mousedown","mouseup","mouseover","mouseout","mouseleave","pinchstart","pinchmove","pinchend");this._tm_touchstartpoint=null;this._tm_tapdetector=null;this._tm_pandetector=null;this._tm_pinchdetector=null;this._tm_status="hover";this._tm_props={enableClick:true,enableHover:true,enableMouseDown:true,enableMouseUp:true,enableMouseOver:true,enableMouseOut:true,enableMouseLeave:true,enableLassoStart:true,enableLassoMove:true,enableLassoEnd:true,enablePanStart:true,enablePanMove:true,enablePanEnd:true,enablePinchStart:true,enablePinchMove:true,enablePinchEnd:true}};l.prototype.setProperties=function(e){s.extend(true,this._tm_props,e);return l};l.prototype.getProperties=function(){return this._tm_props};l.prototype.registerEvent=function(e,t){this._tm_g=e;if(!this._tm_tapdetector){this._tm_tapdetector=new a;this._tm_tapdetector.addGestureAction(this._tm_taphandler.bind(this));this._tm_tapdetector.enable(true);t.addGestureDetector(this._tm_tapdetector)}if(!this._tm_pandetector){this._tm_pandetector=new i;this._tm_pandetector.addGestureAction(this._tm_panhandler.bind(this));this._tm_pandetector.enable(true);t.addGestureDetector(this._tm_pandetector)}if(!this._tm_pinchdetector){this._tm_pinchdetector=new n;this._tm_pinchdetector.addGestureAction(this._tm_pinchhandler.bind(this));this._tm_pinchdetector.enable(true);t.addGestureDetector(this._tm_pinchdetector)}if(o.isWindowsSurface()){this._tm_g.on("pointerdown.monitor",this._tm_touchstart.bind(this),true).on("pointermove.monitor",this._tm_touchmove.bind(this),true).on("pointerup.monitor",this._tm_touchend.bind(this)).on("pointerleave.monitor",this._tm_touchend.bind(this))}else{this._tm_g.on("touchstart.monitor",this._tm_touchstart.bind(this),true).on("touchmove.monitor",this._tm_touchmove.bind(this),true).on("touchend.monitor",this._tm_touchend.bind(this))}};l.prototype.destroy=function(){var e=this._tm_g;if(e){if(o.isWindowsSurface()){e.on("pointerdown.monitor",null).on("pointerup.monitor",null)}else{e.on("touchstart.monitor",null).on("touchend.monitor",null)}this._tm_g=null}this._tm_d=null;this._tm_touchstartpoint=null;this._tm_status=null;this._tm_props=null};l.prototype.getDispatch=function(){return this._tm_d};function u(e){return{x:e.clientX,y:e.clientY}}function d(e){return document.elementFromPoint(e.clientX,e.clientY)}function h(e){if(e.type==="pointerdown"||e.type==="pointermove"||e.type==="pointerup"||e.type==="pointercancel"||e.type==="pointerleave"){e.touches=[];e.changedTouches=[];e.targetTouches=[];var t={};t.clientX=e.clientX;t.clientY=e.clientY;t.pageX=e.pageX;t.pageY=e.pageY;t.screenX=e.screenX;t.screenY=e.screenY;t.identifier=e.pointerId;t.target=e.target;e.touches.push(t);e.changedTouches.push(t);e.targetTouches.push(t)}}l.prototype._tm_touchstart=function(){var e=p();h(e);var t=e.touches[0];this._tm_touchstartpoint=u(t);if(this._tm_status!=="unknown"){var a=this._tm_status+"end";this._tm_fireEvent(a)}this._tm_status="unknown";this._tm_fireEvent("hover");this._tm_fireEvent("mouseover");this._tm_fireEvent("mousedown");if(e.touches.length>1||this._tm_props.enablePan){this._tm_preventEvent()}return true};l.prototype._tm_touchmove=function(){var e=function(t){if(!t||!t.getAttribute){return false}if(t.getAttribute("class")==="v-m-root"){return true}else if(t.parentNode){return e(t.parentNode)}return false};if(this._tm_status!=="unknown"){var t=this._tm_status+"move";var a=p();h(a);var i=a.touches[0],r=u(i),s=d(i);var o=this._tm_g.select(".v-eventLayer").node();if(this._tm_status==="lasso"&&!e(s)){this._tm_fireEvent("lassoend",r,o);return}this._tm_fireEvent(t,r,s);if(p().touches.length>1||this._tm_status==="pan"&&this._tm_props.enablePan||this._tm_status==="lasso"){this._tm_preventEvent()}}};l.prototype._tm_touchend=function(){var e=p();h(e);var t=e.changedTouches[0],a=u(t),i=d(t);if(e.type==="pointerleave"){i=this._tm_g.node();this._tm_pandetector.reset();this._tm_pinchdetector.reset();this._tm_tapdetector.reset()}if(this._tm_status==="unknown"){if(t.clientX!==this._tm_touchstartpoint.x||t.clientY!==this._tm_touchstartpoint.y)return;this._tm_fireEvent("mouseup",a,i)}else{var r=this._tm_status+"end";this._tm_fireEvent(r,a,i)}this._tm_status="unknown";if(p().touches.length>1||this._tm_props.enablePan){this._tm_preventEvent()}};l.prototype._tm_taphandler=function(e){var t=e.watchedComponent.container.getBoundingClientRect();var a=e.involvedTouchePoints()[0];var i={x:a.x+t.left,y:a.y+t.top};var r=p().target;var s=this._tm_g.node();var o=r;while(o!==s&&(o=o.parentNode));if(o!==s){return}this._tm_fireEvent("click",i,r);this._tm_status="unknown"};l.prototype._tm_panhandler=function(e){var t=0;if(e.state!==r.TransitionState.Changed&&e.state!==r.TransitionState.Ended){return}var a=!o.isWindowsPhone()&&e._isLasso?"lasso":"pan";if(o.isWindowsSurface()&&a==="pan"&&p().pointerType==="mouse"){return}var i=e.watchedComponent.container.getBoundingClientRect();var s=e.involvedTouchePoints()[0];var n={x:s.x+i.left,y:s.y+i.top};if(e.state===r.TransitionState.Changed){if(this._tm_status==="unknown"){this._tm_fireEvent(a+"start",this._tm_touchstartpoint);this._tm_status=a}}else{}};l.prototype._tm_pinchhandler=function(e){var t=e.globalLocOfGesture();var a=p().target;var i=Math.round(e.scale()*100)/100;if(e.state===r.TransitionState.Began){this._tm_fireEvent("pinchstart",t,a,i)}else if(e.state===r.TransitionState.Changed){this._tm_fireEvent("pinchmove",null,a,i)}else{this._tm_fireEvent("pinchend",null,a)}};l.prototype._tm_preventEvent=function(){var e=p();e.preventDefault();return false};function p(){if(d3.event){return d3.event}else{return window.event}}l.prototype._tm_fireEvent=function(e,t,a,i){var r=p();var s=r.touches&&r.touches[0]?r.touches[0]:{};var o,n;if(t){o=t}else{o={x:s.clientX,y:s.clientY}}if(a){n=a}else{n=r.target}var l={name:e,data:{point:o,target:n}};if(i){l.data.scale=i}var u=this._tm_props;var d=this._tm_d;switch(e){case"mousedown":if(u.enableMouseDown){d.mousedown(l)}break;case"mouseup":if(u.enableMouseUp){d.mouseup(l)}break;case"mousemove":if(u.enableMouseMove){d.mousemove(l)}break;case"mouseover":if(u.enableMouseOver){d.mouseover(l)}break;case"mouseout":if(u.enableMouseOut){d.mouseout(l)}break;case"hover":if(u.enableHover){d.hover(l)}break;case"lassostart":if(u.enableLassoStart){d.lassostart(l)}break;case"lassomove":if(u.enableLassoMove){d.lassomove(l)}break;case"lassoend":if(u.enableLassoEnd){d.lassoend(l)}break;case"panstart":if(u.enablePanStart){d.panstart(l)}break;case"panmove":if(u.enablePanMove){d.panmove(l)}break;case"panend":if(u.enablePanEnd){d.panend(l)}break;case"pinchstart":if(u.enablePinchStart){d.pinchstart(l)}break;case"pinchmove":if(u.enablePinchMove){d.pinchmove(l)}break;case"pinchend":if(u.enablePinchEnd){d.pinchend(l)}break;case"click":if(u.enableClick){d.click(l)}break;case"mouseleave":d.mouseleave(l);break;default:break}};function c(){if(d3.event){d3.event.stopPropagation();d3.event.preventDefault()}}return l});define("sap/viz/behaviors/BehaviorManager",["sap/viz/base/utils/oo","sap/viz/modules/Base","sap/viz/base/UADetector","sap/viz/behaviors/MouseMonitor","sap/viz/behaviors/TouchMonitor","sap/viz/modules/GlobalConstants","sap/viz/base/utils/ObjectUtils"],function(e,t,a,i,r,s,o){var n=function(){this._bem_monitor=null;this._bem_behaviors={};this._bem_backgroundRect=null;this._bem_behaviorTarget=null;this._bem_props={}};n.DOM_TRIGGER="Behavior_DOM_Trigger";n.API_TRIGGER="Behavior_API_Trigger";var l="DOM.";var u="API.";e.extend(n,t);n.prototype.initialize=function(e,t){this._bem_behaviorTarget=e;this._bem_updateBackgroundRect(e);this._bem_monitor=this._bem_monitor||this._bem_getMonitor();this._bem_monitor.registerEvent(e,t);var a=this._bem_triggerHandler.bind(this);this._bem_monitor.getDispatch().on("click",a).on("hover",a).on("lassostart",a).on("lassomove",a).on("lassoend",a).on("mousedown",a).on("mouseup",a).on("mouseover",a).on("mouseout",a).on("mouseleave",a);if(this.gestureEnabled()){this._bem_monitor.getDispatch().on("panstart",a).on("panmove",a).on("panend",a).on("pinchstart",a).on("pinchmove",a).on("pinchend",a);this._bem_monitor.setProperties(this._bem_props)}else{this._bem_monitor.getDispatch().on("contextmenu",a)}};n.prototype.getBehaviorTarget=function(){return this._bem_behaviorTarget};n.prototype._bem_updateBackgroundRect=function(e){if(!this._bem_backgroundRect){if(e.node().nodeName==="DIV"){this._bem_backgroundRect=e.insert("svg").classed("v-eventLayer",true).attr("x",0).attr("y",0).attr("fill-opacity",0);this._bem_backgroundRect.attr("width",e.style("width")).attr("height",e.style("height"))}else{this._bem_backgroundRect=e.insert("rect","g").classed("v-eventLayer",true).attr("x",0).attr("y",0).attr("fill-opacity",0);this._bem_backgroundRect.attr("width",e.attr("width")).attr("height",e.attr("height"))}}};n.prototype.removeBehavior=function(e){var t=this._bem_behaviors;for(var a in t){if(t.hasOwnProperty(a)){var i=t[a].length;while(i--){if(t[a][i].name===e){t[a].splice(i,1)}}}}};n.prototype.registerNewBehavior=function(e){var t=this._bem_behaviors;for(var a in e.triggers){if(e.triggers.hasOwnProperty(a)){var i=e.triggers[a];var r;if(!i.type||i.type===n.DOM_TRIGGER){r=l+i.event;i.type=n.DOM_TRIGGER}else if(i.type===n.API_TRIGGER){r=u+i.api}if(!t[r]){t[r]=[]}t[r].push({name:e.name,trigger:i,logic:e.logic,rootNode:e.rootNode})}}};n.prototype.setProperties=function(e){o.extend(true,this._bem_props,e)};n.prototype.apiTrigger=function(){var e=arguments;var t=e[0];var a=u+t;var i=this._bem_behaviors[a];var r;if(i){i.forEach(function(t,a){r=t.logic([].slice.call(e,1),t.trigger)}.bind(this))}return r};n.prototype._bem_triggerHandler=function(e){var t=e.name;var a=e.data.target;var i=e.data.point;var r=l+t;var s=this._bem_behaviors[r];if(s){s.forEach(function(t,a){if(this._bem_canTriggerBeActivated(t,e)){t.logic(e,t.trigger)}}.bind(this))}};n.prototype._bem_canTriggerBeActivated=function(e,t){var a=e.trigger;if(a.event!==t.name){return false}if(!a.target){return false}else{var i=this._bem_tryToFindNode(a.target,t.data.target,e.rootNode);if((!a.matchMode||a.matchMode===s.TRIGGER.CSS.MATCHMODE.POSITIVE)&&i){t.data.currentTarget=i;return true}else if(a.matchMode===s.TRIGGER.CSS.MATCHMODE.NEGATIVE&&!i){t.data.currentTarget=t.data.target;return true}else{return false}}};n.prototype._bem_tryToFindNode=function(e,t,a){if(!t||!t.getAttribute){return}var i=t.getAttribute("class");var r=new RegExp(e,"gi");var s=r.test(i);if(!s&&t!==a.node()){return this._bem_tryToFindNode(e,t.parentNode,a)}if(s){return t}};n.prototype._bem_getMonitor=function(){var e;if(this.gestureEnabled()){e=new r}else{e=new i}return e};n.prototype.destroy=function(){if(this._bem_monitor){this._bem_monitor.getDispatch().on("click",null).on("hover",null).on("lassostart",null).on("lassomove",null).on("lassoend",null).on("mousedown",null).on("mouseup",null).on("mouseover",null).on("mouseout",null).on("mouseleave",null);if(this.gestureEnabled()){this._bem_monitor.getDispatch().on("panstart",null).on("panmove",null).on("panend",null)}else{this._bem_monitor.getDispatch().on("contextmenu",null)}this._bem_monitor.destroy();this._bem_monitor=null}this._bem_behaviors={};this._bem_backgroundRect=null;this._bem_behaviorTarget=null};n.prototype.gestureEnabled=function(){return a.isMobile()&&(!a.isIE()||a.isPointerEnabled())};return n});define("sap/viz/mvc/ChartComponent",["sap/viz/base/utils/TypeUtils","sap/viz/base/utils/ObjectUtils","sap/viz/base/utils/Objects","sap/viz/base/utils/FunctionUtils","sap/viz/mvc/UIComponent","sap/viz/manifest","sap/viz/modules/manifests/Module","sap/viz/modules/GlobalConstants","sap/viz/util/ignite","sap/viz/lang/langManager","sap/viz/config","sap/viz/style/Manager","sap/viz/style/Sheet","sap/viz/util/fn/dombuilder","sap/viz/util/fn/domposition","sap/viz/base/utils/log/Analyzer","sap/viz/modules/event/Manager","sap/viz/util/UtilsRegister","sap/viz/util/TextUtils","sap/viz/config","sap/viz/behaviors/BehaviorManager","sap/viz/base/Logger","sap/viz/base/UADetector","sap/viz/format/FormatManager"],function(e,t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g,v,y,b,x,A,M){var S=".";var z="canvg";var D="sourceModule";var E="targetModule";var w="initialized.rootComponent";var T='<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"/>';var C="http://www.w3.org/2000/svg";function L(e){var t={};for(var a in e){if(e.hasOwnProperty(a)){if(e[a].supportedValueType==="Object"){t[a]=L(e[a].supportedValues)}else{t[a]=e[a].defaultValue}}}return t}function I(e,t,a){var i=e.textContent;if(i===""||e.style&&(e.style.display==="none"||e.style.visibility==="hidden")){return}var r=e.getBoundingClientRect();var s=window.getComputedStyle(e,null);var o=e.getAttribute("class");var n=document.createElementNS(C,"text");n.textContent=i;a.setAttribute("font-style",s.fontStyle);a.setAttribute("font-family",s.fontFamily);a.setAttribute("font-size",s.fontSize);a.setAttribute("font-weight",s.fontWeight);a.setAttribute("fill",s.color);a.setAttribute("class",o);a.setAttribute("text-overflow",s.textOverflow);var l=v.measure(i,"font-size:"+s.fontSize+"; font-family:"+s.fontFamily+";font-weight:"+s.fontWeight);var u=l.y;n.setAttribute("y",-1*u);n.setAttribute("transform","translate("+(r.left+parseFloat(s.paddingLeft)-t.left)+","+(r.top-t.top)+")");a.appendChild(n)}function k(e,t){t.setAttribute("text-rendering","geometricPrecision");t.setAttribute("shape-rendering","crispEdges");var a=document.createElementNS(C,"defs");t.appendChild(a);var i=t.appendChild(document.createElementNS(C,"g"));var r=e.querySelector(".v-background");var s=window.getComputedStyle(e,null);var o=window.getComputedStyle(r,null);var n=r.getBoundingClientRect();i.setAttribute("transform","translate("+parseFloat(e.style.left)+","+parseFloat(e.style.top)+")");i.setAttribute("shape-rendering","crispEdges");i.setAttribute("class","v-m-tooltip");var l=i.appendChild(document.createElementNS(C,"g"));var u=l.appendChild(document.createElementNS(C,"rect"));u.setAttribute("width",s.width);u.setAttribute("height",s.height);u.setAttribute("fill",o.backgroundColor);u.setAttribute("stroke-width",parseFloat(r.style.borderWidth));u.setAttribute("stroke",r.style.borderColor);u.setAttribute("shape-rendering","crispEdges");u.setAttribute("rx",parseFloat(r.style.borderRadius));u.setAttribute("ry",parseFloat(r.style.borderRadius));var d=e.querySelectorAll(".v-tooltip-dimension-measure td");for(var h,p,c=d.length,f=0;f<c;f++){h=d[f];p=l.appendChild(document.createElementNS(C,"g"));I(h,n,p)}var m=e.querySelector(".v-separationline");if(m){var _=m.getBoundingClientRect();var g=window.getComputedStyle(m,null);var v=_.width;var y=document.createElementNS(C,"line");y.setAttribute("x2",v);y.setAttribute("shape-rendering","crispEdges");y.setAttribute("stroke",g.borderBottomColor);y.setAttribute("stroke-width",parseFloat(g.borderBottomWidth));var b=l.appendChild(document.createElementNS(C,"g"));b.setAttribute("transform","translate("+(_.left+parseFloat(g.paddingLeft)-n.left)+","+(_.top-n.top)+")");b.setAttribute("shape-rendering","crispEdges");b.appendChild(y)}var x=e.querySelector(".v-footer-label.tooltipfooterlabel");if(x){var A=l.appendChild(document.createElementNS(C,"g"));I(x,n,A)}}function O(i,r,s){var o=i,n={};if(r&&o&&r.general&&o.layout){o.general={};o.general.layout=a.extend(true,{},o.layout);delete o.layout}n=a.extend(true,{},o);if(s&&s.uncheck){n=r;return n}for(var l in o){if(o.hasOwnProperty(l)){if(typeof r==="object"&&r.hasOwnProperty(l)){if(o[l]!==null&&typeof o[l]==="object"&&!e.isArray(o[l])){n[l]=O(o[l],r[l],s?s[l]?s[l]:s.supportedValues&&s.supportedValues[l]?s.supportedValues[l]:null:null)}else{if(r[l]!==undefined&&e.isArray(r[l])&&e.isArray(o[l])||r[l]!==undefined&&typeof r[l]!=="object"||r[l]===null){n[l]=r[l]}}}}}if(n.general){n.layout=t.extend(true,{},n.general.layout);delete n.general}return n}function N(t,a){var i=s.viz.get(a).allProperties();var r={};var o;var n={};var l,u;for(l in t){if(t.hasOwnProperty(l)){if(t[l].getProperties&&!e.isEmptyObject(t[l].getProperties())||t[l].properties&&!e.isEmptyObject(t[l].properties())){if(l.indexOf("[")>-1){if(parseInt(l[l.indexOf("[")+1],10)>0){continue}else{o=l.substring(0,l.indexOf("["))+l.substring(l.indexOf("]")+1)}}else{o=l}for(u in i){if(i.hasOwnProperty(u)){if(i[u].moduleRefPath===o){n=L(i[u]);if(t[l].getProperties){r[u]=O(n,t[l].getProperties(),i[u])}else if(t[l].properties){r[u]=O(n,t[l].properties(),i[u])}}}}}}}return r}var P=r.extend({initialize:function(e){this._config=e.config;this._isInfoChart=this._config.id.indexOf("info/")===0;this._data=e.data;this._modules={};this._rootModules={};this._selections={};this._properties=e.options;this._dispatch=d3.dispatch("dataTruncation","initialized","renderComplete");this._attachedByFramework=false;this._initializedEventDispatched=false;this._initialized=false;this._behaviorManager=new b;this._rawData=e.rawData;this._isInitializing=true;this._isUpdatingData=false;this._isUpdatingSize=false;this._updatedStatus={};this._i18nListener={fn:this._localeChanged,scope:this};this._formatChangedListener={fn:this._formatChanged,scope:this};M.addListener(this._formatChangedListener);u.addListener(this._i18nListener);this._canvas=d3.select(document.createElement("canvas")).style("width",0).style("height",0);this.container.insertBefore(this._canvas.node(),this.container.firstChild);var i=d.get(this._config.id)||{};this._max_svg=d.enableCanvg()&&i.max_svg?i.max_svg:Number.POSITIVE_INFINITY;this._max_canvas=d.enableCanvg()&&i.max_canvas?i.max_canvas:Number.POSITIVE_INFINITY;this._root=d3.select(this.container);this._component_status="svg";var r=t.guid("sap-viz");var s=this.container.id+"-"+r;this._id=s;var o=e.config.id.split("/");for(var n=0;n<o.length;n++){s=s+" v-"+o[n]}this._root.attr("class",s).style("-webkit-user-select","none").style("-moz-user-select","none").style("-ms-user-select","none");this._properties=this._mergeProperties({},this._properties);this._styleSheets=[];this._styleManager=new h(this._styleSheets);this._eventManager=_().UIComponent(this);var p={styleManager:this._styleManager.child(undefined,undefined,"div"),eventManager:this._eventManager,behaviorManager:this._behaviorManager,rawData:this._rawData,statusMonitor:this._updatedStatus};var f=this;m.pnrProfiling("Engine:dom_builder_for_root_level");this._selections=c(this._root,this._config.modules);m.pnrProfiling("Engine:dom_builder_for_root_level");this._selections.root.style("left",0).style("top",0).style("direction","ltr");if(A.isWindowsSurface()){this._selections.root.style("overflow","hidden");this._selections.root.node().parentNode.style["-ms-touch-action"]="none";this._selections.root.node().parentNode.style["touch-action"]="none"}if(this._data.dataPointCount&&this._data.dataPointCount()>this._max_svg){this._component_status=z;this._selections.root.attr("visibility","hidden").style("left",0).style("top",0)}this._rootModules=function(t){var i={};var r=[];for(var s in t._config.modules){if(t._config.modules.hasOwnProperty(s)){if(s==="dataTransform"){r.splice(0,0,{key:s,module:t._config.modules[s]})}else{r.push({key:s,module:t._config.modules[s]})}}}t._toBeInitializedModulesCount=0;function o(){t._intializedListener.apply(t)}r.forEach(function(r,s){var n=r.key;var u=r.module;m.pnrProfiling("Engine:create_module");var d=l(u.id,p,"v-m-"+n,t._selections[n]?t._selections[n].node().nodeName:undefined);i[n]=d;m.pnrProfiling("Engine:create_module");m.pnrProfiling("Engine:prepare_data");var h=u.data?t._data.createDataAdapterForModule(u.data):t._data;m.pnrProfiling("Engine:prepare_data");m.pnrProfiling("Engine:set_data");if(d.chartType){d.chartType(e.config.id)}if(d.data){d.data(h)}m.pnrProfiling("Engine:set_data");if(d.dispatch&&d.dispatch()["initialized"]){t._toBeInitializedModulesCount++;d.dispatch().on(w,o)}i[n].alias=n;var c={};if(u.modules){m.pnrProfiling("Engine:initialize_children_set_properties");if(u.configure){c[u.configure.propertyCategory]=u.configure.properties}if(i[n].container){i[n].container(t._root.node())}if(i[n].parent){i[n].parent(t._selections[n])}i[n].config(u).properties(a.extend(true,{},c,t._properties)).chartType(e.config.id).recharge({func:t._wire,scope:t});m.pnrProfiling("Engine:initialize_children_set_properties")}else{m.pnrProfiling("Engine:set_properties");var f;if(u.configure){f=u.configure.propertyCategory;c[f]=u.configure.properties}i[n].properties(a.extend(true,{},c,t._properties[f]));m.pnrProfiling("Engine:set_properties")}});return i}(this);m.pnrProfiling("Engine:flattern_modules");var g={};for(var v in this._rootModules){if(this._rootModules.hasOwnProperty(v)){g=a.extend(true,{},g,this._flatten(v,this._rootModules[v]))}}this._modules=g;m.pnrProfiling("Engine:flattern_modules");this._domposition(this.size());m.pnrProfiling("CSS:parse_css");this.css(e.css);m.pnrProfiling("CSS:parse_css");this._dispatch.on("initialized.exportToCanvas",function(){f._exportToCanvas.apply(f)});this._attachEvents(e)},updateRawData:function(e){this._rawData.data(e.data());this._rawData.info(e.info())},doAfterShow:function(){this.render()},_intializedListener:function(){var e=this._toBeInitializedModulesCount;e--;if(e===0){if(!this._isInfoChart&&!this._data._emptyDataset){this._behaviorManager.initialize(this._selections[this._getRootKey()],this._eventManager)}var t=this;setTimeout(function(){if(t._root==null){return}t._initialized=true;t._dispatch.initialized();if(t._isInfoChart){t._dispatch.renderComplete()}setTimeout(function(){if(window._sap_viz_notify_load_complete){window._sap_viz_notify_load_complete()}},0)},0)}},_getRootLevelModules:function(e,t){var i={};for(var r=0;r<e.length;r++){if(this._modules.hasOwnProperty(e[r])){i=a.extend(true,{},i,this._flatten(e[r],this._modules[e[r]]))}}return i},_flatten:function(e,t,a){var i=a||".",r={},s=[{key:e,value:t}];(function e(t,a){if(a.hasOwnProperty("modules")){var r=a.modules(),o,n=t;for(var l in r){if(r.hasOwnProperty(l)){o={key:t+i+l,value:r[l]};s.push(o);if(r[l].modules){e(n+i+l,r[l])}}}}})(e,t);for(var o=0;o<s.length;o++){r[s[o].key]=s[o].value}return r},_attachEvents:function(e){var t=e.events;for(var a in t){if(t.hasOwnProperty(a)){this.attachEvent(a,t[a].fn,t[a].scope)}}},attachEvent:function(e,t,a){var i=this.modules(),r={};var s=this._dispatch;var o=e.indexOf(".");var n=o>0?e.substring(0,o):e;if(s[n]){s.on(e,function(){t.apply(a,arguments)});return}for(var l in i){if(i.hasOwnProperty(l)){var u=l.split("."),d=u.length-1;if(i[l].dispatch&&i[l].dispatch()[n]){for(var h=0;h<=d;h++){if(r[h]&&r[h][u.slice(0,h).toString()]){break}}if(h>d){if(!r[u.length]){r[u.length]={}}r[u.length][u.toString()]=i[l];i[l].dispatch().on(e,function(){t.apply(a,arguments)})}}}}},_getRootLevelKeys:function(){if(this._rootKeys){return this._rootKeys}this._rootKeys=[];for(var e in this._modules){if(this._modules.hasOwnProperty(e)&&e.indexOf(S)<0){this._rootKeys.push(e)}}return this._rootKeys},_getRootKey:function(){if(this._rootKey){return this._rootKey}var e;for(var t in this._modules){if(this._modules.hasOwnProperty(t)){e=o.get(this._config.modules[t].id).type;if(e!==n.Type.Controller&&e!==n.Type.Behavior&&t.indexOf(".")<0){return this._rootKey=t}}}},_getRootContainer:function(){if(this._rootContainer){return this._rootContainer}if(!this._config){return null}for(var e in this._config.modules){if(this._config.modules.hasOwnProperty(e)&&o.get(this._config.modules[e].id).type===n.Type.Container){return this._rootContainer=this._modules[e]}}},_domposition:function(e){var t=this._getRootKey();var a={};a[t]={x:0,y:0,width:e.width,height:e.height};f(a,this._selections)},_doLayout:function(e){this._domposition(e);var t=this._getRootContainer();if(t){t.size(e)}},_updateProperties:function(){this._properties=this._mergeProperties(this._properties);var e=this._config.modules;for(var t in e){if(e.hasOwnProperty(t)){if(o.get(e[t].id).type===n.Type.Container){this._modules[t].properties(this._properties);continue}if(e[t].configure&&e[t].configure.propertyCategory){this._modules[t].properties(this._properties[e[t].configure.propertyCategory])}}}},_mergeProperties:function(e,t){if(t&&t.plotArea&&t.plotArea.dataPointStyle&&t.plotArea.dataPointStyle.others===undefined){t.plotArea.dataPointStyle.others=null}var i={};i=a.extend(true,{},e,t);return this._mergeCanvgProperties(i)||i},_mergeCanvgProperties:function(e){if(d.enableCanvg()&&this._data.dataPointCount&&this._data.dataPointCount()>=this._max_svg){var t={};t["plotArea"]={animation:{dataLoading:false,dataUpdating:false}};return a.extend(true,{},e,t)}},render:function(){if(this._updatedStatus===undefined){return}this._updatedStatus.initializing=this._isInitializing;this._updatedStatus.updating=this._isUpdatingData;this._updatedStatus.resizing=this._isUpdatingSize;this._isInitializing=false;this._isUpdatingData=false;this._isUpdatingSize=false;var e=this._data.dataPointCount&&this._data.dataPointCount()>=this._max_svg&&d.enableCanvg();if(!e){if(this._data._emptyDataset){this._selections.root.attr("visibility","hidden");this._selections.root.attr("display","none")}else{this._selections.root.attr("visibility",null);this._selections.root.attr("display",null)}}m.pnrProfiling("Render:layout");this._doLayout(this.size());m.pnrProfiling("Render:layout");m.pnrProfiling("Render:drawing");this._paint();m.pnrProfiling("Render:drawing")},_localeChanged:function(){var e=this._getRootContainer();if(e){e.data(this._data)}this._updateProperties();this.render()},_formatChanged:function(){this.render()},properties:function(e){if(!arguments.length){return N(this._modules,this._config.id)}this._properties=this._mergeProperties(this._properties,e);var t=this._config.modules;for(var a in t){if(t.hasOwnProperty(a)){if(o.get(t[a].id).type===n.Type.Container){this._modules[a].properties(this._properties)}else{if(!t[a].configure){continue}this._modules[a].properties(this._properties[t[a].configure.propertyCategory])}}}this._modules=this._getRootLevelModules(this._getRootLevelKeys(),this._modules)},css:function(){if(!this._styleManager){return""}if(arguments.length===0){return this._styleManager.getCurrentCSS()}if(arguments.length===1&&typeof arguments[0]==="object"){return this._styleManager.getCurrentCSS(arguments[0]["withDefaults"])}var e=arguments[0];var t=new p(arguments[0],this._id,this._isInfoChart);this._styleManager.applyCSS(t);this._styleSheets.push(t);if(this._isInfoChart){var a=new RegExp(".*\\.v-m-root \\.v-backgroundutil \\.v-background-body.*{fill:(.*);.*}").exec(e);if(a){this.properties({general:{background:{color:a[1]}}})}}},cssProperty:function(){if(!this._styleManager){return}var e,t;if(arguments.length===1){var a=arguments[0];e=a.selector+"{"+a.style+":"+a.value+";}";t=new p(e,this._id);this._styleManager.applyCSS(t);this._styleSheets.push(t)}if(arguments.length===2){e=arguments[0]+"{}";t=new p(e,this._id);return this._styleManager.getCSS(t,arguments[1])}},getSelectedObjects:function(t){var a;var i=this._modules;for(a in i){if(i.hasOwnProperty(a)){var r=i[a];if(r.getSelectedObjects){return r.getSelectedObjects(this._data,t)}else if(r.getSelection){return r.getSelection(t)}}}var s,o;if(e.isPlainObject(t)){s=t.withDataCtx;o=t.withInfo}return this._behaviorManager.apiTrigger("getSelection",s,o)},setSelectedObjects:function(e,t){var a;var i=this._modules;for(a in i){if(i.hasOwnProperty(a)){var r=i[a];if(r.setSelectedObjects){return r.setSelectedObjects(this._data,e,t)}else if(r.setSelection){return r.setSelection(e,t)}}}return this._behaviorManager.apiTrigger("setSelection",e,t)},selectedPropertyZone:function(e){var t,a;for(var i in this._modules){if(this._modules.hasOwnProperty(i)){a=this._modules[i];if(a.selectedPropertyZone){t=a.selectedPropertyZone.apply(a,arguments);break}}}return arguments.length?this:t},getAllFeedingZone:function(){var e=[];if(!this._data._emptyDataset){e=g.get("FeedingZoneUtil").parse(this._config.id,this._selections["root"])}return e},getPropertyZone:function(){var e=[];if(!this._data._emptyDataset){e=g.get("PropertyZoneUtil").getPropertyZone(this._config.id,this._modules,this._selections["root"])}return e},data:function(t){if(!arguments.length){return this._data}this._isUpdatingData=true;this._data=t;if(this._modules.hasOwnProperty("dataTransform")){this._modules["dataTransform"].data(this._data)}this._updateProperties();var a=this._data.dataPointCount&&this._data.dataPointCount()>=this._max_svg&&d.enableCanvg();if(!(this._component_status==="svg"&&!a)){this._canvas.node().getContext("2d").clearRect(0,0,this._canvas.node().width,this._canvas.node().height);this._canvas.style("width",0),this._canvas.style("height",0);this._canvas.attr("width",0),this._canvas.attr("height",0);if(a){this._component_status="canvg";this._selections[this._getRootKey()].attr("visibility","hidden").style("left",0).style("top",0)}else{this._component_status="svg";this._selections[this._getRootKey()].attr("visibility","visible")}}var i=this._getRootContainer();if(i&&e.isFunction(i.data)&&e.isFunction(i.refresh)){i.data(this._data);i.refresh()}this._modules=this._getRootLevelModules(this._getRootLevelKeys(),this._modules)},modules:function(){return this._modules},doContentResize:function(e,t){if(e.width!==t.width||e.height!==t.height){this._isUpdatingSize=true}this._super("doContentResize",e,t);this._root.style("display","block");this.render()},_expandDependencyDefs:function(e){var t=[];var a=e[D];var r=e[E];var s=this._expandModulePath(a);var o=this._expandModulePath(r);if(s.length>1&&o.length>1){if(s.length!==o.length){i.error("Error on resolving dependency:"+a+","+r)}else{for(var n=0,l=s.length;n<l;n++){t.push({sourceModule:s[n],targetModule:o[n],source:e["source"],target:e["target"],type:e["type"],listener:e["listener"]})}}}else{for(var u=0,d=s.length;u<d;u++){for(var h=0,p=o.length;h<p;h++){t.push({sourceModule:s[u],targetModule:o[h],source:e["source"],target:e["target"],type:e["type"],listener:e["listener"]})}}}return t},_expandModulePath:function(t){var a=t.split(".");var i=[];var r=[];for(var s=0,o=a.length;s<o;s++){var n=0,l=i.length;do{var u=l>0?[i[n],a[s]].join("."):a[s];if(e.isArray(this._modules[u])){for(var d=0,h=this._modules[u].length;d<h;d++){if(this._modules[u][d]){var p=l>0?[i[n],a[s]+"["+d+"]"].join("."):a[s]+"["+d+"]";r.push(p)}}}else{r.push(u)}n++}while(n<l);var c=i;i=[].concat(r);r.length=0;c.length=0}return i},_expandModules:function(){var t=this._modules;var a=[];for(var i in t){if(t.hasOwnProperty(i)){var r=t[i];if(e.isArray(r)){for(var s=0;s<r.length;s++){a[i+"["+s+"]"]=r[s]}}else{a[i]=r}}}return a},_unwireEvents:function(){var e=this._config.dependencies,t,a;var i=e?e.events||[]:[];var r,s;var o=this._expandModules();for(a=0;a<i.length;a++){t=i[a];r=this._expandDependencyDefs(t);for(var n=0,l=r.length;n<l;n++){s=r[n];if(o[s[E]]&&o[s[D]]){if(typeof o[s[E]][s["listener"]]==="function"&&typeof o[s[D]]==="function"){if(typeof o[s[D]].dispatch==="function"){o[s[D]].dispatch().on(s["type"]+"."+s[E]+"."+n,null)}}}}}},_wire:function(){var e=this._config.dependencies,t,a;var r=e?e.attributes||[]:[],s=e?e.events||[]:[];var o,n;var l=this._expandModules();for(a=0;a<r.length;a++){t=r[a];if(t===null){continue}o=this._expandDependencyDefs(t);for(var u=0,d=o.length;u<d;u++){n=o[u];if(l[n[D]]&&l[n[E]]){if(typeof l[n[D]][n["source"]]==="function"&&typeof l[n[E]][n["target"]]==="function"){l[n[E]][n["target"]](l[n[D]][n["source"]]())}else{i.error("dependency configuration error")}}else{i.error("dependency configuration error")}}}for(a=0;a<s.length;a++){t=s[a];o=this._expandDependencyDefs(t);for(var h=0,p=o.length;h<p;h++){n=o[h];if(l[n[E]]&&l[n[D]]){if(typeof l[n[E]][n["listener"]]==="function"&&typeof l[n[D]]==="function"){if(typeof l[n[D]].dispatch==="function"){l[n[D]].dispatch().on(n["type"]+"."+n[E]+"."+h,l[n[E]][n["listener"]])}else{i.error("dependency configuration error:"+n[D]+" does not support event!")}}else{i.error("dependency configuration error")}}else{i.error("dependency configuration error: source or target does not exist!")}}}},_paint:function(){if(this._selections){this._selections[this._getRootKey()].call(this._getRootContainer())}},_exportToCanvas:function(){if(d.enableCanvg()&&this._component_status===z){d3.select(this.container).selectAll("title").remove();if(canvg){var e=this._selections[this._getRootKey()].node().cloneNode(true);e.setAttribute("visibility","visible");var t=document.createElement("div");t.appendChild(e);canvg(this._canvas.node(),t.innerHTML,{ignoreMouse:true,ignoreAnimation:true});if(this._data.dataPointCount&&this._data.dataPointCount()>this._max_canvas){this._dispatch.dataTruncation()}}}},exportToSVGString:function(e){if(!this._initialized||!this._selections){x.warn("cannot export to svg, the viz has not been initialized..");return T}if(this._config.id==="viz/pie"||this._config.id==="viz/donut"){var t=function(e){if(e&&e.width&&e.height){var t=this._selections[this._getRootKey()].node();var a=d3.select(t).attr("width");var i=d3.select(t).attr("height");if(i/a===e.height/e.width){return false}else{return true}}return false};if(!t.call(this,e)){return this._getSvgFromDom(e)}else{var a=this._getCustomSvg(e);var i=this._getSvgCss();a=a.replace("*^^ToBeReplaced:svg'sClassAttribute%%*",this._id+" "+this._selections[this._getRootKey()].attr("class"));if(i){a=a.replace("^@@ToBeReplaced:svg'sCSS##$$^",i)}else{a=a.replace("<style>^@@ToBeReplaced:svg'sCSS##$$^</style>","")}return a}}if(this._supportCustomSVG()){return this._getCustomSvg(e)}return this._getSvgFromDom(e)},supportExportToSVG:function(){var e=false;if(this._config.id&&this._selections){e=this._supportCustomSVG()||s.viz.get(this._config.id).isBuiltIn||this._selections[this._getRootKey()].node().tagName==="svg"||e}return e},_supportCustomSVG:function(){return this._modules&&this._modules["root.main.plot"]&&e.isFunction(this._modules["root.main.plot"].supportExportToContentType)&&this._modules["root.main.plot"].supportExportToContentType("svg")},_getCustomSvg:function(a){return this._modules&&this._modules["root.main.plot"]&&e.isFunction(this._modules["root.main.plot"].exportContent)&&this._modules["root.main.plot"].exportContent(t.extend(true,{type:"svg"},a))||T},_getSvgCss:function(){var e=this.css(),t=[];var a="."+this._id;var i=e.split("}");for(var r=0,s=i.length-1;r<s;r++){if(i[r].indexOf(",")<0||i[r].indexOf(",")>i[r].indexOf("{")){i[r]=i[r].trim();t.push(a+i[r]+"}")}else{var o=i[r].split(",");var n="";for(var l=0;l<o.length-1;l++){n=n+a+o[l]+","}n+=a+o[o.length-1];t.push(n+"}")}}return t.join("")},_getSvgFromDom:function(e){var a=this._selections[this._getRootKey()].node().cloneNode(true),i=T;d3.select(a).attr("xmlns",C);d3.select(a).attr("class",this._id+" "+this._selections[this._getRootKey()].attr("class"));d3.select(a).attr("text-rendering","geometricPrecision");d3.select(a).selectAll(".v-m-tooltip").remove();d3.select(a).selectAll(".v-geo-zoom-btn").remove();d3.select(a).selectAll(".v-geo-reset-control").remove();d3.select(a).selectAll(".v-eventLayer").remove();d3.select(a).selectAll("rect.v-select-indicator").remove();if(e&&e.hideAxis){d3.select(a).select(".v-m-main .v-m-yAxis").remove();d3.select(a).select(".v-m-main .v-m-yAxis2").remove();d3.select(a).select(".v-m-main .v-m-xAxis").remove();d3.select(a).select(".v-m-main .v-m-xAxis2").remove();d3.select(a).select(".v-m-main .v-m-zAxis").remove()}var r=d3.select(a).attr("width"),s=d3.select(a).attr("height");if(e&&e.hideTitleLegend){if(!d3.select(a).select(".v-m-legends .v-bound").empty()){r=r-d3.select(a).select(".v-m-legends .v-bound").attr("width");d3.select(a).select(".v-m-legends").remove()}if(!d3.select(a).select(".v-m-title .v-bound").empty()){s=s-d3.select(a).select(".v-m-title .v-bound").attr("height");d3.select(a).select(".v-m-title").remove()}d3.select(a).attr("width",r).attr("height",s);d3.select(a).select(".v-m-main").attr("transform","translate(24, 24)");d3.select(a).select(".v-backgroundutil .v-background-body").attr("width",r);d3.select(a).select(".v-backgroundutil .v-background-body").attr("height",s)}if(e&&e.width&&e.height){d3.select(a).attr("width",e.width);d3.select(a).attr("height",e.height);d3.select(a).attr("viewBox","0 0 "+r+" "+s);d3.select(a).attr("preserveAspectRatio","none")}var o=this._getSvgCss();if(o){d3.select(a).insert("style",":first-child").text(o)}var n="";if(sap&&sap.bi&&sap.bi.framework&&sap.bi.framework.getService(this._config.id,"*sap.viz.impls")){var l=sap.bi.framework.getService(this._config.id,"*sap.viz.impls"),u=0,d;for(;u<l.length;u++){if(l[u]&&l[u].viz&&l[u].viz[0]&&l[u].viz[0].id===this._config.id&&l[u].cssString){n=l[u].cssString;break}}}if(n){d3.select(a).append("style").text(n)}var h=a.querySelectorAll("svg image");var p=Array.prototype.slice.call(h);var c=document.createElement("canvas");var f=c.getContext("2d");var m=new Image;p.map(function(e){var t=e.getAttributeNS("http://www.w3.org/1999/xlink","href");if(!t||/^http/.test(t)&&!new RegExp("^"+window.location.host).test(t)){return}else{try{m.src=t;f.clearRect(0,0,c.width,c.height);c.width=m.width;c.height=m.height;f.drawImage(m,0,0);e.setAttributeNS("http://www.w3.org/1999/xlink","href",c.toDataURL("image/png"))}catch(e){x.error("error on drawing image to canvas : ",e.message)}}});var _=this.container.querySelector(".v-m-tooltip-container");if(_){var g=_.querySelector(".v-m-tooltip");if(g&&g.style.visibility==="visible"&&g.querySelector(".v-background")&&g.querySelector(".v-tooltip-dimension-measure")){var v=document.implementation.createDocument(C,"svg",null);var y=a.appendChild(v.createElementNS(C,"g"));k(g,y)}}try{i=(new XMLSerializer).serializeToString(a)}catch(e){x.error("error on exporting the svg document : ",e.message)}var b=function(e){var i=/NS\d+:href/g;e=e.replace(i,"href");var r=a.getElementsByTagName("clipPath");for(var s=0;s<r.length;s++){i=new RegExp(r[s].id,"g");e=e.replace(i,"clipPath-"+t.guid())}var o=e.search(">")+1;var n=e.substr(0,o);i=/\w+:\w+:\w+/g;n=n.replace(i,function(e){var t=e.split(":");return t[1]+":"+t[2]});i=/\s\S*:NS\S*/g;n=n.replace(i,"");e=n+e.substr(o);if(e.indexOf("xmlns:xlink")<0){i=/svg/i;e=e.replace(i,function(e){return e+' xmlns:xlink="http://www.w3.org/1999/xlink"'})}if(A.isIE()&&["viz/network","viz/geobubble","viz/geopie","viz/choropleth","viz/multi_choropleth","viz/multi_geobubble"].indexOf(this._config.id)!==-1){i=/<filter.*<\/filter>/g;e=e.replace(i,"");i=/filter=\"url\(.{43}-potShadow\&quot;\)"/g;e=e.replace(i,"")}i=/xmlns:NS\d+\S*\s/g;e=e.replace(i,"");i=/NS\d+:xmlns:xml\S*\s/g;e=e.replace(i,"");i=/viewbox/g;e=e.replace(i,"viewBox");i=/preserveaspectratio/g;e=e.replace(i,"preserveAspectRatio");return e};i=b.call(this,i);return i},getSupportedEvents:function(){var e=[];var t=this._config.modules;function a(t){for(var i in t){if(t.hasOwnProperty(i)){if(!t[i]){continue}var r=s.module.get(t[i].id);if(r&&r.events){e.push({sourceId:t[i].id,source:{},evtTypes:r.events})}if(t[i].modules){a(t[i].modules)}}}}a(t);return e},doDestroy:function(){this._root=null;this._canvas=null;this._selections=null;this._unwireEvents();if(this._eventManager){this._eventManager.destroy()}this._dispatch.on("initialized.exportToCanvas",null);var t=this._rootModules;var a;for(a in t){if(t.hasOwnProperty(a)){var i=t[a];if(i.dispatch&&i.dispatch()["initialized"]){i.dispatch().on(w,null)}}}v.destroy();if(this._behaviorManager){this._behaviorManager.destroy()}var r=this._modules;for(a in r){if(r.hasOwnProperty(a)){var s=r[a].destroy;if(s){s()}}}u.removeListener(this._i18nListener);M.removeListener(this._formatChangedListener);this._i18nListener=null;this.detach();if(e.isArray(this._styleSheets)){this._styleSheets.forEach(function(e){e.destroy()})}}});return P});define("sap/viz/mvc/ChartController",["sap/viz/base/utils/FunctionUtils","sap/viz/mvc/UIController","sap/viz/manifest","sap/viz/mvc/ChartComponent","sap/viz/data/CrosstableDataset","sap/viz/base/utils/ObjectUtils"],function(e,t,a,i,r,s){var o=function(e){if(!(e instanceof r)){return e}var t=s.clone(e.data());var a=s.clone(e.info());var i=new r;i.data(t);i.info(a);return i};var n=t.extend({RootComponentClass:i,_parseOptions:function(t){if(!a.viz.get(t.vizType)){e.error("Invalid vizType")}this._dataset=t.dataset?t.dataset:{};this._options=t.option;this._vizType=t.vizType;this._dataFeeding=t.feeding;this._css=t.css;this._events=t.events;this._rawData=o(t.rawData)},initUIComponent:function(e){this._parseOptions(e);var t=a.viz.get(this._vizType);this.rootUIComponent.initialize({data:this._dataset,dataFeeding:this._dataFeeding,config:t,options:this._options,clipToBound:true,css:this._css,events:this._events,rawData:this._rawData})},getSelectedObjects:function(e){return this.rootUIComponent.getSelectedObjects(e)},setSelectedObjects:function(e,t){return this.rootUIComponent.setSelectedObjects(e,t)},selectedPropertyZone:function(e){var t=this.rootUIComponent.selectedPropertyZone.apply(this.rootUIComponent,arguments);return arguments.length?this:t},getAllFeedingZone:function(){return this.rootUIComponent.getAllFeedingZone()},getPropertyZone:function(){return this.rootUIComponent.getPropertyZone()},getSupportedEvents:function(){return this.rootUIComponent.getSupportedEvents()},setDataset:function(e){this.rootUIComponent.data(e)},doThemeChanged:function(){this.rootUIComponent.themeChanged()},updateProperties:function(e){this.rootUIComponent.properties(e)},updateRawData:function(e){this._rawData.data(e.data());this._rawData.info(e.info());this.rootUIComponent.updateRawData(e)},getProperties:function(){return this.rootUIComponent.properties()},css:function(){return this.rootUIComponent.css.apply(this.rootUIComponent,arguments)},cssProperty:function(){return this.rootUIComponent.cssProperty.apply(this.rootUIComponent,arguments)},render:function(){this.rootUIComponent.render()},exportToSVGString:function(e){return this.rootUIComponent.exportToSVGString(e)},supportExportToSVG:function(){return this.rootUIComponent.supportExportToSVG()},destroy:function(){this._dataset=null;this._rawData=null;this.rootUIComponent.destroy();this.rootUIComponent=null}});return n});define("sap/viz/load-core",[],function e(){return});define("sap/viz/data/handler/BaseDataHandler",["sap/viz/base/utils/FunctionUtils","sap/viz/base/utils/TypeUtils","sap/viz/lang/langManager"],function e(t,a,i){function r(e){var t=[];var a=true;var i=0;for(;i<e.length;i++){var r=e[i];if(r.type()==="Dimension"&&r.acceptMND()>=0){if(r.hasMNDFeeded()){return r.feedId()}else if(r.getDataCount()<r.max()){t[r.acceptMND()]=r;if(a){a=r.hasFeeded()}}}}if(t.length===0){return""}if(a){return t[t.length-1].feedId()}for(i=t.length-1;i>=0;i--){if(t[i]&&!t[i].hasFeeded()){return t[i].feedId()}}return""}function s(e){if(a.isString(e)){return e}else if(a.isNumber(e)){return e.toString()}else{return null}}function o(e){if(a.isString(e)||a.isNumber(e)){return e}else{return null}}function n(e){if(a.isNumber(e)){return parseFloat(e)}else{return null}}function l(e,t){var i=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY];var r=e.getDataPointCount();if(t===Number.POSITIVE_INFINITY||!a.isNumber(t)||t>=r){return i}var s=0;var o=e.getMeasureValuesGroupCount();for(var n=0;n<o;n++){s+=e.getMeasureValuesGroupByIdx(n).getMeasureValues().length}var l=Math.floor(t/s);var u=e.getAnalysisAxisCount();if(u===0||u===1){i[0]=l}else if(u===2){var d=e.getMeasureValuesGroupByIdx(0).getMeasureValues()[0];var h=d.getValues()[0].length;if(l/h<1){i[0]=l;i[1]=1}else{i[1]=Math.floor(l/h)}}return i}function u(e,t,a){this._feeder=e;this._feeds=e.getFeeds();this._mndFeed=r(this._feeds);this._limit=l(t,a)}u.prototype.getFeedValues=function(e){var a=this._feeder.findFeed(e);if(!a){t.error(i.getLogMessage("IDS_ERROR_NOT_FIND_FEED_DEFINITION",e))}if(a.type()==="Dimension"){return this.getDimensionFeedValues(a)}else if(a.type()==="Measure"){return this.getMeasureFeedValues(a)}};u.prototype.getDimensionFeedValues=function(e){var r=[];var s=false;var n=e.data();var l;var u=i.get("IDS_DEFAULTMND");if(n.length>0){for(var d=0;d<n.length;d++){var h=n[d];if(h){if(h.getType()==="measureNamesDimension"){l={};l["col"]={val:u};l["type"]="MND";l["rows"]=this.getMeasureNamesValues();r.push(l);s=true}else if(h.getType()==="analysisAxis"){var p=h.getDimensionLabels();var c=this._feeder.getAnalysisAxisIndex(e);for(var f=0;f<p.length;f++){l={};l["col"]={val:o(p[f].getId())};var m=[];var _=p[f].getValues();var g=p[f].infos();var v=_.length;if(this._limit[c]!==Number.POSITIVE_INFINITY){v=this._limit[c]}for(var y=0;y<v;y++){var b={val:o(_[y]),ctx:{type:"Dimension",path:{aa:c,di:f,dii:y}}};if(a.isExist(g)){b.info=g[y]}m.push(b)}l["rows"]=m;r.push(l)}}else{t.error(i.getLogMessage("IDS_ERROR_WRONG_TYPE"))}}}}if(e.feedId()===this._mndFeed&&s===false){l={};l["col"]={val:u};l["type"]="MND";l["rows"]=this.getMeasureNamesValues();r.unshift(l)}return r.length>0?r:null};u.prototype.getMeasureFeedValues=function(e){var t=[];var i=e.getMeasureValues();var r=this._feeder.getMeasureValuesGroupIndex(e);for(var s=0;s<i.length;s++){var l={};l["col"]=o(i[s].getId());var u=[];var d=i[s].getValues();var h=i[s].infos();var p=d.length;if(this._limit[1]!==Number.POSITIVE_INFINITY){p=this._limit[1]}for(var c=0;c<p;c++){var f=d[c];var m=[],_={};var g=f.length;if(this._limit[0]!==Number.POSITIVE_INFINITY){g=this._limit[0]}for(var v=0;v<g;v++){_={val:n(f[v]),ctx:{type:"Measure",path:{mg:r,mi:s,dii_a1:v,dii_a2:c}}};if(a.isExist(h)){if(h[c]){_.info=h[c][v]}}m.push(_)}u.push(m)}l["rows"]=u;t.push(l)}return t.length>0?t:null};u.prototype.getMeasureNamesValues=function(){var e=[];var t=this._feeder.getMeasureValuesGroupFeeds();for(var a=0;a<t.length;a++){if(t[a].hasFeeded()){var i=t[a].getMeasureValues();for(var r=0;r<i.length;r++){e.push({val:o(i[r].getId()),ctx:{path:{mg:a,mi:r}}})}}}return e};return u});define("sap/viz/api/data/FlatTableDataset",["sap/viz/data/FlatTableDataset","sap/viz/base/utils/TypeUtils","sap/viz/base/Logger","sap/viz/lang/langManager","sap/viz/base/utils/ObjectUtils","exports"],function e(t,a,i,r,s){var o=function(){if(arguments.length==1&&arguments[0]&&arguments[0].skipCloneData!==undefined&&!arguments[0].data){this._FlatTableD=new t(undefined,arguments[0])}else{this._FlatTableD=new t(arguments[0],arguments[1])}this.type="sap.viz.api.data.FlatTableDataset"};o.prototype.data=function(e){return this._FlatTableD.data(e)};o.prototype.metadata=function(e){if(e!=null){return this._FlatTableD.getMetadata(e)}else{i.warn(r.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"))}};o.prototype.measures=function(){return this._FlatTableD.getMeasures()};o.prototype.dimensions=function(){return this._FlatTableD.getDimensions()};o.prototype.table=function(){return this._FlatTableD.getTable()};o.prototype.row=function(e,t){if(a.isNumber(e)){if(a.isPlainObject(t)||a.isArray(t)){this._FlatTableD.setRow(e,t)}else{return this._FlatTableD.getRow(e)}}};o.prototype.dataInFields=function(e){return this._FlatTableD.dataInFields(e)};o.prototype.info=function(e){return this._FlatTableD.info(e)};o.prototype.toJSON=function(e){return this._FlatTableD.toJSON(e)};o.fromJSON=function(e,a){var i=new o(null,a);i._FlatTableD=t.fromJSON(e,a);return i};o.prototype.hasFakeData=function(){return this._FlatTableD.hasFakeData()};o.prototype.getContext=function(){return this._FlatTableD.getContext()};return o});define("sap/viz/feeds/Manifest",["sap/viz/manifest","sap/viz/base/utils/ObjectUtils","sap/viz/lang/langManager"],function e(t,a,i){return t.registerCategory("feeds",function(e){var t={};e.feeds.forEach(function(e){t[e.id]=e;var a=e.name;delete e.name;Object.defineProperty(e,"name",{get:function(){var e=i.get(a);if(e){return e}return a},enumerable:true})});Object.defineProperty(e,"feedsMap",{value:t,writable:false,enumerable:false,configurable:false});return e})});define("sap/viz/data/feed/Constants",[],function e(){var t={Type:{Dimension:"Dimension",Measure:"Measure"},Constraints:{INF:Number.POSITIVE_INFINITY}};return t});define("sap/viz/manifests/Viz",["sap/viz/manifest","sap/viz/feeds/Manifest","sap/viz/base/utils/ObjectUtils","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/Objects","sap/viz/data/feed/Constants","sap/viz/modules/manifests/Module","sap/viz/lang/langManager","sap/viz/config"],function e(t,a,i,r,s,o,n,l,u){function d(e,t){for(var a=0;a<e.length;++a){if(e[a].module.type===t){return e[a]}if(e[a].subModules){var i=d(e[a].subModules,t);if(i){return i}}}return null}function h(e,t){if(!t){return}var a,i;for(a in e){if(e.hasOwnProperty(a)&&t.hasOwnProperty(a)){i=e[a];if(i.supportedValueType==="Object"){h(i.supportedValues,t[a])}else{i.defaultValue=t[a]}}}}function p(e,t){var a,i;for(a in e){if(e.hasOwnProperty(a)){if(e[a]===null){delete e[a];continue}i=e[a];if(t){s.extend(true,i,t[a])}if(i.isExported===false&&!i.uncheck){delete e[a]}else{if(i.supportedValueType==="Object"){p(i.supportedValues,t?t[a]:null);if(r.isEmptyObject(i.supportedValues)){delete e[a]}}}}}}function c(e,t){if(t){var a,i,r,o,n;t.forEach(function(t){if(t.config.configure&&t.config.configure.propertyCategory){n=t.moduleRef;a=t.module.properties;i=t.config.configure.properties;o=t.config.configure.propertyCategory;r=t.config.configure.propertiesOverride;e[o]=s.extend(true,null,a);Object.defineProperties(e[o],{moduleRefPath:{get:function(e){return function(){return e}}(n),enumerable:false}});p(e[o],r);h(e[o],i)}c(e,t.subModules)})}}function f(e,t,r,s,n){if(t){t.forEach(function(t){var l=t.module.feeds;var u=r;var d=s;if(l){var h;var p=l.id;if(p!==undefined){var c=l.configure;h=a.get(p).feedsMap;if(c){h=i.extend(true,null,h,c)}}else{h={};l.forEach(function(e){h[e.id]=e})}var m;for(m in h){if(h.hasOwnProperty(m)){var _=h[m];if(_){_=i.extend(true,null,_);e[m]=_;if(_.type===o.Type.Dimension){var g=_.aaIndex;g+=r;if(u<g){u=g}if(g){_.aaIndex=g}var v=_.acceptMND;if(v>=0){if(s>0){v+=s}if(d<v){d=v}_.acceptMND=v}}}}}if(d>=0){d+=1}}f(e,t.subModules,u,d,n)})}}return t.registerCategory("viz",function(e){var a=[];var r=e.modules;for(var s in r){if(r.hasOwnProperty(s)){var o=r[s];if(o!==null){t.module.loadModule(a,o,s)}}}var n="";var u=d(a,"CHART");if(u&&u.config.configure){n=u.config.configure.propertyCategory}var h=e.feeds;var p,m,_=e.name;var g;delete e.name;Object.defineProperties(e,{allFeeds:{value:function(e){if(!p){p={};f(p,a,0,-1,e);i.extend(true,p,h);p=d3.values(p).filter(function(e){return e})}var t=!arguments.length||arguments[0]===false?false:true;if(t===false){if(!m){m=d3.values(p).filter(function(e){if(e.min===0&&e.max===0){return false}else{return true}})}return m}else{return p}},enumerable:true},allProperties:{value:function(){if(!g){g={};c(g,a)}return g},enumerable:true},getChartPropCate:{value:function(){return n},enumerable:true},name:{get:function(){var e=l.get(_);if(e){return e}return _},enumerable:true}});return e})});define("sap/viz/manifests/util/ManifestRegister",["sap/viz/manifests/Viz","sap/viz/modules/manifests/Module","sap/viz/feeds/Manifest","sap/viz/base/utils/TypeUtils","require","exports"],function(e,t,a,i,r){var s=["viz","module","feeds"];var o={},n={},l={},u={},d=[];function h(t){var a;if(t){Array.prototype.forEach.call(t,function(t,i,r){if(t&&t.id!==undefined){a=t.id;if(o[a]!==true){if(t&&typeof t.init==="function"){if(window.__sap_v3){window.__sap_v3.api.metadata.Viz.get(a)}else{t.init()}}else{e.register(t)}o[a]=true}}})}}function p(e){var a;if(e){Array.prototype.forEach.call(e,function(e,i,r){if(e&&e.id!==undefined){a=e.id;if(n[a]!==true){t.register(e);n[a]=true}}})}}function c(e){var t;if(e){Array.prototype.forEach.call(e,function(e,i,r){if(e&&e.id!==undefined){t=e.id;if(l[t]!==true){a.register(e);l[t]=true}}})}}function f(e,t){if(e.length!==t.length){return false}for(var a=0;a<e.length;a++){if(e[a]!==t[a]){return false}}return true}function m(e,t){if(typeof e==="string"){if(typeof t==="string"){return 0}else{return-1}}else if(typeof t==="string"){return 1}else{return 0}}function _(){var e=sap.bi.framework.getService("sap.viz.aio","*sap.viz.impls");e=Array.prototype.sort.call(e,m);if(d.length<1){d=e}else{if(f(d,e)){return}d=e}if(e){g(e)}}function g(e){function t(e){for(var t in e){if(e.hasOwnProperty(t)&&s.indexOf(t)!==-1){switch(t){case"viz":h(e[t]);break;case"module":p(e[t]);break;case"feeds":c(e[t])}}}}if(!i.isArray(e)||e.length==0){return}var a=window.sap&&window.sap.bi&&window.sap.bi.framework&&window.sap.bi.framework.capabilities&&window.sap.bi.framework.capabilities.bundleLoading&&window.sap.bi.framework.capabilities.bundleLoading.hostBundle;r=a&&r?r:require;var o,n,l;if(requirejs&&requirejs.s&&requirejs.s.contexts&&requirejs.s.contexts._){n=requirejs.s.contexts._.nextTick;requirejs.s.contexts._.nextTick=function(e){e()};if(a){for(var d in requirejs.s.contexts){if(d.indexOf("sap.viz.aio")!==-1||d.indexOf("sap.viz.core")!==-1){o=requirejs.s.contexts[d];break}}if(o){l=o.nextTick;o.nextTick=function(e){e()}}}}Array.prototype.forEach.call(e,function(e){var a=false,s;if(i.isString(e)){if(u[e]===undefined){r([e],function(a){u[e]=a;t(a)});return}else{a=true}}else if(typeof e==="object"&&e.viz&&typeof e.viz[0]==="object"&&e.viz[0].id){s=e.viz[0].id;u[s]===undefined?u[s]=e:a=true}if(!a){t(e)}});if(n!==undefined){if(requirejs&&requirejs.s&&requirejs.s.contexts&&requirejs.s.contexts._){requirejs.s.contexts._.nextTick=n}if(a&&o){o.nextTick=l}}}return{registerAll:function(){_()},registerViz:function(e){var t,a,r=sap.bi.framework.getService("sap.viz.aio","*sap.viz.impls"),s=sap.bi.framework.getServiceMetadata("*sap.viz.impls");for(t=0;t<s.length;t++){a=s[t];if(a&&a.id===e){break}}if(t!==s.length&&i.isString(r[t])&&r[t].indexOf("sap/viz/impls/geo")==-1){g([r[t]])}else{_()}}}});define("sap/viz/api/manifest/Viz",["sap/viz/manifests/Viz","sap/viz/base/utils/TypeUtils","sap/viz/manifests/util/ManifestRegister","exports"],function e(t,a,i){var r={get:function(){if(arguments&&arguments[0]){i.registerViz(arguments[0])}else{i.registerAll()}return t.getManifest.apply(this,arguments)}};r.feedAcceptable=function(e,r){if(e){i.registerViz(e)}var s=t.get(e);if(s!=undefined){var o=s.allFeeds(true);var n=true;if(!(a.isArray(o)&&a.isArray(r))){n=false}else{var l=r.length;var u={};var d=0;for(d=0;d<l;d++){var h=r[d];if(a.isArray(h.binding)){u[h.feedId]=h.binding.length}else{n=false;break}}if(o.length!=l){n=false}else if(n==true){for(d=0;d<l;d++){var p=o[d];if(u[p.id]==null||(u[p.id]<p.min||u[p.id]>p.max)){n=false;break}}}}return n}return false};return r});define("sap/viz/api/data/CrosstableDataset",["sap/viz/data/CrosstableDataset","sap/viz/base/utils/ObjectUtils","sap/viz/base/utils/TypeUtils","exports"],function e(t,a,i){var r=function(){this._crosstableDataset=new t;this.type="sap.viz.api.data.CrosstableDataset"};r.prototype.data=function(e){if(e!==undefined){this._crosstableDataset.data(e)}else{return this._crosstableDataset.data()}};r.prototype.info=function(e){if(e!==undefined&&!i.isString(e)){this._crosstableDataset.info(a.clone(e))}else if(i.isString(e)){return a.clone(this._crosstableDataset.info(e))}else{return a.clone(this._crosstableDataset.info())}};r.prototype.toJSON=function(e){return this._crosstableDataset.toJSON(e)};r.fromJSON=function(e){if(!i.isPlainObject(e)||e.id!=="sap.viz.data.CrosstableDataset"||!e.hasOwnProperty("data")){return}var t=a.clone(e.data);var s=a.clone(e.info);var o=new r;o.data(t);o.info(s);return o};r.prototype.hasFakeData=function(){return this._crosstableDataset.hasFakeData()};r.prototype.cleanDataset=function(){return this._crosstableDataset.cleanDataset()};r.prototype.fillEmptyDataset=function(){return this._crosstableDataset.fillEmptyDataset()};r.prototype.emptyDataset=function(e){if(arguments.length<=0){return this._crosstableDataset.isEmptyDataset()}this._crosstableDataset._emptyDataset=e};return r});define("sap/viz/data/utils/DatasetUtils",["sap/viz/api/data/CrosstableDataset","sap/viz/api/data/FlatTableDataset","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/FunctionUtils","sap/viz/lang/langManager"],function(e,t,a,i,r){var s={};var o={MNDNAME:"MeasureNamesDimension",MNDCOMPATIBILITY:"MNDCompatibility",DIMENSIONNAME:"Dimension",MEASURENAME:"Measure",EXCLUSIVE:"exclusive",ACCEPTMND:"acceptMND",MAXDEFINITIONTYPE:{Dimension:"maxNumOfDimensions",Measure:"maxNumOfMeasures"},MINDEFINITIONTYPE:{Dimension:"minNumOfDimensions",Measure:"minNumOfMeasures"}};s.isFlatTable=function(e){return e instanceof Object&&e.dataset instanceof t};s.isCrosstable=function(t){return t instanceof Object&&t.dataset instanceof e};var n=function(e,t){var a=e.dimensions();var i=[];for(var s=0;s<a.length;s++){i[s]=0}for(var o=0;o<t.length;o++){for(var n=0;n<a.length;n++){if(a[n]===t[o]){i[n]++}}}for(var l=0;l<i.length;l++){if(i[l]===0){throw r.getLogMessage("IDS_ERROR_DIMENSIONS_INCOMPLETE_BINDING")}}};var l=function(e){var t=[];for(var a=0;a<e.length;a++){if(t.indexOf(e[a])===-1){t.push(e[a])}else{throw r.getLogMessage("IDS_ERROR_DIMENSIONS_OR_MEASURES_DUPLICATED_BINDING")}}};var u=function(e,t){var a=o.MAXDEFINITIONTYPE[t.type];var i=o.MINDEFINITIONTYPE[t.type];if(e.hasOwnProperty(t.id)){var s=e[t.id];var n=s.length;if(n>t[a]||n<t[i]){throw r.getLogMessage("IDS_ERROR_NOT_MEET_NUMBER_OF_FEED",t.id)}}else{if(t[i]>0){throw r.getLogMessage("IDS_ERROR_NOT_MEET_NUMBER_OF_FEED",t.id)}}};var d=function(e,t){var a=e.indexOf(o.MNDNAME);if(a>=0){if(t.type===o.MEASURENAME||!t.hasOwnProperty(o.ACCEPTMND)||t[o.ACCEPTMND]===-1){throw r.getLogMessage("IDS_ERROR_INVALID_BINDING",t.id)}if(t[o.MNDCOMPATIBILITY]===o.EXCLUSIVE&&e.length>1){throw r.getLogMessage("IDS_ERROR_INVALID_BINDING",t.id)}}};var h=function(e,t,a){var i=t.length;for(var s=0;s<i;s++){if(t[s]===o.MNDNAME){continue}var n=e.metadata(t[s]);if(n&&n.length>0&&a.type===e.metadata(t[s])[0].semanticType){continue}else{throw r.getLogMessage("IDS_ERROR_FEED_NOT_ACCEPT_DATA",t[s])}}};s.checkNeedAutoMNDFeed=function(e,t){var a=true;for(var i=0;i<e.length;i++){var r=e[i].id;if(e[i].type===o.DIMENSIONNAME&&t.hasOwnProperty(r)){if(t[r].indexOf(o.MNDNAME)!==-1){a=false;break}}}return a};s.autoMNDFeed=function(e,t){var a=[];var i=null;for(var r=0;r<t.length;r++){var s=t[r];if(s.type===o.DIMENSIONNAME&&s.hasOwnProperty(o.ACCEPTMND)&&s[o.ACCEPTMND]>=0){a[s[o.ACCEPTMND]]=s}}for(var n=a.length-1;n>=0;n--){var l=a[n];var u=l.id;if(!e.hasOwnProperty(u)){e[u]=[];i=l;break}else{var d=o.MAXDEFINITIONTYPE[o.DIMENSIONNAME];var h=e[l.id];if(l[o.MNDCOMPATIBILITY]===o.EXCLUSIVE&&h.length>0){continue}else if(h.length>=l[d]){continue}else{if(!i){i=l}}}}if(i){e[i.id].splice(0,0,o.MNDNAME)}return e};s.checkFlatTableFeedingAcceptable=function(e,t,a,i){var r=a.length;var s=[];for(var p=0;p<r;p++){var c=a[p];var f=c.id;var m=c.type;var _=t[f];var g=[];u(t,c);if(t.hasOwnProperty(f)){for(var v=0;v<t[f].length;v++){if(m===o.DIMENSIONNAME){s.push(_[v])}g.push(_[v])}l(g);d(_,c);h(e,_,c)}}if(i.acceptPartialValidation!==true){n(e,s)}return true};return s});define("sap/viz/mvc/ChartApplication",["sap/viz/base/utils/Objects","sap/viz/mvc/VizApplication","sap/viz/TemplateManager","sap/viz/mvc/ChartController","sap/viz/manifest","sap/viz/load-core","sap/viz/data/feed/feeder","sap/viz/data/handler/BaseDataHandler","sap/viz/data/MultiAxesDataAdapter","sap/viz/config","sap/viz/base/utils/log/Analyzer","sap/viz/base/utils/FunctionUtils","sap/viz/lang/langManager","sap/viz/data/CrosstableDataset","sap/viz/api/data/FlatTableDataset","sap/viz/api/manifest/Viz","sap/viz/base/utils/TypeUtils","sap/viz/data/utils/DatasetUtils"],function(e,t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g){var v=t.extend({RootControllerClass:i,appDidFinishLaunching:function(t){var i=t.launchOptions;this.vizFrame.suppressMouseOnMobile(false);this._templateId=i.template||null;d.pnrProfiling("Property:merge_with_template");var s=a.get(this._templateId);var o=i.vizType;var n=s&&s.props&&s.props(o);var l=e.extend(true,null,n,i.options);d.pnrProfiling("Property:merge_with_template");this._vc_vizType=i.vizType;this._vc_dataset=i.data.rawData;this._vc_feeding=i.feeding;this._vc_properties=l;this._vc_css=(s.css||"")+(i.css||"");var h=u.get(this._vc_vizType)?u.get(this._vc_vizType):{};this.max_canvas=u.enableCanvg()&&h.max_canvas?h.max_canvas:Number.POSITIVE_INFINITY;d.pnrProfiling("Data:turn_to_adapter");var p,_=this._vc_dataset;if(this._vc_dataset instanceof c&&m.get(this._vc_vizType)[0].legacyDataAdapter){p=this._vc_createAdapter(this._vc_vizType,this._vc_dataset,this._vc_feeding,this.max_canvas)}else if(this._vc_dataset instanceof f){var v=r.viz.get(this._vc_vizType).allFeeds();if(g.checkNeedAutoMNDFeed(v,this._vc_feeding)){this._vc_feeding=g.autoMNDFeed(this._vc_feeding,v)}g.checkFlatTableFeedingAcceptable(this._vc_dataset,this._vc_feeding,r.viz.get(this._vc_vizType).allFeeds(),r.viz.get(this._vc_vizType));p={dataset:this._vc_dataset,feeding:this._vc_feeding,vizType:this._vc_vizType};_=this._vc_dataset._FlatTableD}else if(this._vc_dataset instanceof c&&!m.get(this._vc_vizType)[0].legacyDataAdapter){p={dataset:this._vc_dataset,feeding:this._vc_feeding,vizType:this._vc_vizType}}else{p=this._vc_dataset}d.pnrProfiling("Data:turn_to_adapter");this.controller.initUIComponent({vizType:this._vc_vizType,dataset:p,option:this._vc_properties,css:this._vc_css,events:i.events,rawData:_})},_vc_createAdapter:function(e,t,a,i){var s=o(r.viz.get(e).allFeeds(true),t,a);var u=new n(s,t,i);var d=s.getFeeds();var h=new l(s.getBindingInfo());h.fakeData(t.hasFakeData());h.emptyDataset(t.isEmptyDataset());h.dataPointCount(t.getDataPointCount());var p,c;for(var f=0,m=d.length;f<m;f++){p=d[f].feedId();c=u.getFeedValues(p);if(c!==null){if(d[f].type()==="Dimension"){h.addAnalysisAxis({values:c,index:d[f].getIndex()-1})}else{h.addMeasureValuesGroup({values:c,index:d[f].getIndex()-1})}}}return h},css:function(){return this.controller.css.apply(this.controller,arguments)},cssProperty:function(){return this.controller.cssProperty.apply(this.controller,arguments)},template:function(){return this._templateId},size:function(e){if(e!==undefined){if(e.width&&e.height&&!e.auto){this.vizFrame.size(e)}if(typeof e.auto==="boolean"){this.vizFrame.autoResize(e.auto)}return this}else{return this.vizFrame.size()}},getSelectedObjects:function(e){return this.controller.getSelectedObjects(e)},setSelectedObjects:function(e,t){return this.controller.setSelectedObjects(e,t)},selectedPropertyZone:function(e){var t=this.controller.selectedPropertyZone.apply(this.controller,arguments);return arguments.length?this:t},getAllFeedingZone:function(){return this.controller.getAllFeedingZone()},getPropertyZone:function(){return this.controller.getPropertyZone()},update:function(e){if(e){var t=false;if(e.properties){if(this.controller){this._vc_properties=e.properties;this.controller.updateProperties(this._vc_properties);t=true}}if(e.css){this.controller.css(e.css);t=true}if(e.cssProperty){this.controller.cssProperty(e.cssProperty);t=true}if(e.data||e.feeding){if(e.data){this._vc_dataset=e.data}if(e.feeding||e.feeding===null){this._vc_feeding=e.feeding}var a;if(this._vc_dataset instanceof c&&m.get(this._vc_vizType)[0].legacyDataAdapter){a=this._vc_createAdapter(this._vc_vizType,this._vc_dataset,this._vc_feeding,this.max_canvas)}else if(this._vc_dataset instanceof f||this._vc_dataset instanceof c&&!m.get(this._vc_vizType)[0].legacyDataAdapter){if(this._vc_dataset instanceof f){if(g.checkNeedAutoMNDFeed(r.viz.get(this._vc_vizType).allFeeds(),this._vc_feeding)){this._vc_feeding=g.autoMNDFeed(this._vc_feeding,r.viz.get(this._vc_vizType).allFeeds())}g.checkFlatTableFeedingAcceptable(this._vc_dataset,this._vc_feeding,r.viz.get(this._vc_vizType).allFeeds(),r.viz.get(this._vc_vizType))}a={dataset:this._vc_dataset,feeding:this._vc_feeding,vizType:this._vc_vizType}}else{a=this._vc_dataset}this.controller.setDataset(a);if(e.data instanceof c){this.controller.updateRawData(e.data)}t=true}if(t){this.controller.render()}}},getSupportedEvents:function(){return this.controller.getSupportedEvents()},setDataset:function(e){this._vc_dataset=e;var t=this._vc_createAdapter(this._vc_vizType,this._vc_dataset,this._vc_feeding);this.controller.setDataset(t)},getDataset:function(){return this._vc_dataset},updateProperties:function(e){if(this._controller){this._vc_properties=e;this.controller.updateProperties(this._vc_properties)}},getProperties:function(){return this.controller.getProperties()},exportToSVGString:function(e){return this.controller.exportToSVGString(e)},supportExportToSVG:function(){return this.controller.supportExportToSVG()}});return v});define("sap/viz/core",["jquery","sap/viz/data/CrosstableDataset","sap/viz/base/utils/TypeUtils","sap/viz/util/Objects","sap/viz/base/utils/log/Analyzer","sap/viz/mvc/ChartApplication","sap/viz/manifest","sap/viz/config","sap/viz/base/utils/FunctionUtils","sap/viz/lang/langManager","sap/viz/manifests/util/ManifestRegister","sap/viz/data/FlatTableDataset","exports"],function e(t,a,i,r,s,o,n,l,u,d,h,p){var c=function(e){var t=e.fillEmptyDataset();e.data(t);e._emptyDataset=true};var f={constructor:function(){},instances:[],createViz:function(e){if(e&&e.type){h.registerViz(e.type)}var t={},u=e.feeding,d=this;if(!e.data){e.data=new a;var f=n.viz.get(e.type).allFeeds(true);var m=[];var _=[];var g=0;var v=0;if(f!==undefined&&f!==null&&f.length>0){for(;g<f.length;g++){var y=f[g].type;if(y==="Dimension"){v=0;for(;v<f[g].min;v++){m.push({index:m.length+1,data:[{values:[""],infos:[{}]}]})}}if(y==="Measure"){v=0;for(;v<f[g].min;v++){_.push({index:_.length+1,data:[{values:[[""]]}]})}}}}else{m.push({index:1,data:[{values:[""],infos:[{}]}]});_.push({index:1,data:[{values:[[""]]}]})}e.data.setData({analysisAxis:m,measureValuesGroup:_})}else if(e.data._emptyDataset){c(e.data)}if(e.options!==undefined&&e.properties===undefined){e.properties=e.options}s.pnrContext(":creation:"+r.size(e.properties)+":"+r.size(e.css));var b={constructor:function(){},on:function(e,a,i){t[e]={callback:a,scope:i};this.app.controller.rootUIComponent.attachEvent(e,a,i);return this},size:function(e){if(!arguments.length){return this.app.size()}this.app.size(e);return this},selection:function(){var e=null;var t=null;var a=false;if(arguments.length<=0){a=true}else if(arguments.length<=1){if(arguments[0]instanceof Array){a=false;e=arguments[0]}else{a=true;t=arguments[0]}}else{a=false;e=arguments[0];t=arguments[1]}var i;if(a){i=this.app.getSelectedObjects(t)}else{i=this.app.setSelectedObjects(e,t)}return i},data:function(e){if(!arguments.length){var a=this.app.getDataset();var i=a._emptyDataset;if(i){a.cleanDataset()}return a}this.update({data:e});for(var r in t){if(t.hasOwnProperty(r)){this.on(r,t[r].callback,t[r].scope)}}return this},template:function(e){return this.app.template()},properties:function(e){if(!arguments.length){return this.app.getProperties()}s.pnrContext(":updateProperty:"+r.size(e));this.update({properties:e});return this},css:function(e){if(!arguments.length){return this.app.css()}this.update({css:e});return this},feeding:function(e){if(!arguments.length){return u}u=e;this.update({feeding:e});return this},feedingZone:function(){return this.app.getAllFeedingZone()},update:function(t){if(t){if(i.isDefined(t.feeding)){u=t.feeding}if(t.data&&e.data instanceof a&&t.data._emptyDataset){c(t.data)}this.app.update(t)}return this},destroy:function(){d.instances.splice(d.instances.indexOf(this),1);this.app.destroy();this.app=null},toJSON:function(){var t={};t.type=e.type;t.data={type:"crosstable",val:this.app.getDataset().data()};t.properties=this.properties();t.css=this.css();t.feeding=u;t.size=this.app.size();t.template=this.app.template();return t}};var x=e.data instanceof p;l.register({id:"isFlatTable",value:x});var A=e.data instanceof a;l.register({id:"isCrossTable",value:A});b.app=new o({holder:e.container,launchOptions:{vizType:e.type,options:e.properties,template:e.template,css:e.css,data:{rawData:e.data},feeding:e.feeding||e.dataFeeding,events:e.events}});Object.defineProperty(b,"type",{value:e.type,enumerable:true});d.instances.push(b);return b},destroyViz:function(){for(var e=-1,t=arguments.length;++e<t;){arguments[e].destroy()}},exportViz:function(e){return e.toJSON()}};return f});define("sap/viz/ccl",["sap/viz/core","sap/viz/data/CrosstableDataset"],function e(t,a){var i={constructor:function(){return},loadViz:function(e,i){var r={};r.container=i;r.type=e.type;r.options=e.properties;r.data=new a;r.data.setData(e.data.val);r.css=e.css;r.feeding=e.feeding;return t.createViz(r)}};return i});define("sap/viz/modules/Constants",["sap/viz/modules/GlobalConstants"],function e(t){var a={Type:{Chart:"CHART",Container:"CONTAINER",Supplementary:"SUPPLEMENTARY",Behavior:"BEHAVIOR",Controller:"CONTROLLER",Scientific:{Layout:"Represents a layout algorithm"},Presentation:{Tooltip:"Represents a tooltip"},ThirdParty:"THIRDPARTY"},RenderTo:{SVG:"SVG",DIV:"DIV",NONE:"NONE"},CSS:{CLASS:{AXIS:{CONTAINER:"v-axis",TITLE:"v-title",SCROLLBAR:"v-scrollbar",TITLE_BACKWORD:"viz-axis-title",TITLE_HIDDEN:"v-hidden-title",LINE_GROUP:"v-line-group",TICK_GROUP:"v-tick-group",LABEL_GROUP:"v-label-group",LINE:"v-line",TICK:"v-tick",LONGTICK:"v-longtick",LABEL:"v-label",LABEL_SELECTION:"v-axis-item",LABEL_BACKWORD:"viz-axis-label",MORPHABLE_LABEL:"v-morphable-label",PERIMETER:"v-valueaxisline",FIXED_PERIMETER:"v-fixed-valueaxisline",BACKGROUND_RECT:"viz-axis-label-rect",INDICATOR_LINE:"v-indicator-line",INDICATOR_RECT:"v-indicator-rect"},DATAPOINT:"v-datapoint",DATAPOINTDEFAULT:"v-datapoint-default",DATAPOINTHOVER:"v-datapoint-hover",DATAPOINTSELECTED:"v-datapoint-selected",STACK:"v-stack",MORPHABLEDATAPOINT:"v-morphable-datapoint",MORPHABLELABEL:"v-morphable-label",MORPHABLEBACKGROUND:"v-morphable-background",MORPHABLELINE:"v-morphable-line",MORPHABLEAREABG:"v-morphable-areabg",MODULEPREFIX:"v-m-",GRIDLINE_GROUP:"v-gridline-group",GRIDLINE:"v-gridline",GRIDLINE_INCISED:"v-incised-gridline",HOVER_SHADOW:"v-hovershadow",FOCUS_SHADOW:"v-hovershadow-mousedown"}},LAYOUT_ADJUST_POLICY:{APPROXIMATE:"APPROXIMATE",RELAYOUT:"RELAYOUT"},Event:{SelectData:{name:"selectData",desc:"Event fires when certain data point(s) is(are) selected, data context of selected item(s) would be passed in accordance with the following format."+'<code>{name: "selectData",'+"data:[{\n//selected element's detail\n"+'target:"Dom Element",//an object pointed to corresponding dom element\n'+'data:[{val: "...",//value of this element\n'+'ctx:{type:"Dimension"||"Measure"||"MND",\n'+"//for Dimension\n"+'path:{aa:"...",di:"...",dii:"..."},\n'+"//for Measure\n"+'path:{mg:"...",mi:"...",dii_a1:"...",dii_a2:"..."},\n'+"//for MND\n"+'path:{mg:"...",mi:"..."}\n'+"//path: analysis path\n"+"//aa: analysis axis index // 0 for analysis axis 1,  1 for analysis 2\n"+"//di: dimension index //zero based\n"+"//dii: dimension item index //zero based\n"+"//mg: measure group index // 0 for measure group 1,1 for measure group 2\n"+"//mi: measure index // measure index in measure group zero based\n"+"//dii_a1: each dii of di in analysis axis 1 index\n"+"//dii_a2: each dii of di in analysis axis 2 index\n"+"}},{\n//for bubble, tagcloud and scatter, there will be more than one values in one selected element.\n"+'var:"...",ctx:"..."}]},{\n//if under multi selection, there will be more than one selected elements\n'+'target:"...",data:["..."]}]}'},DeSelectData:{name:"deselectData",desc:"Event fires when certain data point(s) is(are) deselected, data context of deselected item(s) would be passed in accordance with the following format."+'<code>{name: "deselectData",'+'data:["---the same as selectedData---"]}'},TooltipShow:{name:"showTooltip",desc:"This event is deprecated, please use showDetail decoration (refer to properties: interaction.decorations) instead. Event fires when the mouse hover onto the specific part of chart, data context of tooltip would be passed in accordance with the following format."+'<code>{name:"showTooltip",data:{body:[{\n//All measures\n'+'name:"...",val:[{//measure value is an array containing only one item\n'+'value:"..."}]},"..."],footer:[{label:"...",value:"..."},"..."],'+"plotArea:{\n//this object specifies the plot area of the chart\n"+'height:"...",width:"...",x:"...",y:"..."},point:{\n//this object specifies a point which affects the position of tooltip\n'+'x:"...",y:"..."},selectedValues:...//this number specify how many values are selected}}'},TooltipHide:{name:"hideTooltip",desc:"This event is deprecated, please use hideDetail decoration (refer to properties: interaction.decorations) instead. Event fires when the mouse hover out of the specific part of chart, no data is passed."},Initialized:{name:"initialized",desc:'Event fires when the loading ends. To use the event listener when creating charts, you must use an event that is passed by the events option. For more information on events options, see the usrOptions section of the <a href="sap.viz.core.html#createViz" target="_blank">createViz</a> function in the API document.'},highlightedByLegend:{desc:"Event fires when legend item is clicked, which contains its data context."},contextualData:{name:"contextualData",desc:"Event fires when right mouse up on data point or chart elements, data context of item(s) would be passed in accordance with the following format."+'<code>{name: "deselectData",'+'data:["---the same as selectedData---"]}'}},mappings:{e2p:function(e){return e*12}},COLOR:t.COLOR,DocExample:{SnippetUrl:"/vizdocs_snippet/#",TryThisValue:"Try this."},InternalDataModelID:{Color:"Color",Shape:"Shape",Series:"Series",Category:"Category",Measure0:"MeasureName0",Measure1:"MeasureName1",Measure2:"MeasureName2",Measure3:"MeasureName3",X:"X",Y:"Y",Width:"Width",Height:"Height",MGIndex:"MGINDEX",DataId:"contextId"},SELECTION_MODE:{INCLUSIVE:"INCLUSIVE",EXCLUSIVE:"EXCLUSIVE",NONE:"NONE",SINGLE:"SINGLE",MULTIPLE:"MULTIPLE"},DIRECTION:{VERTICAL:"vertical",HORIZONTAL:"horizontal"},POSITION:{TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right"},SPACING_TYPE:{STEP:"step",RANGE:"range"},GRIDLINE_TYPE:{SOLID:"line",DASHED:"dotted",INCISED:"incised"}};return a});define("sap/viz/util/Constants",[],function e(){var t={Type:{Chart:"CHART",Container:"CONTAINER",Supplementary:"SUPPLEMENTARY",Behavior:"BEHAVIOR",Controller:"CONTROLLER",Scientific:{Layout:"Represents a layout algorithm"},Presentation:{Tooltip:"Represents a tooltip"},ThirdParty:"THIRDPARTY"},RenderTo:{SVG:"SVG",DIV:"DIV",NONE:"NONE"},CSS:{CLASS:{MODULEPREFIX:"v-m-"}},BEHAVIOR:{DEFAULT_BEHAVIOR_ID:"default",DEFAULT_CHART_TYPE_KEY:"*",TRIGGER:{KEY:{API:{GET_SELECTION:"Trigger_key_api_get_selection",SET_SELECTION:"Trigger_key_api_set_selection"},CLICK_ON_DATAPOINT:"click_on_datapoint",CLICK_ON_NON_DATAPOINT:"click_on_non_datapoint",HOVER_ON_DATAPOINT:"hover_on_datapoint",HOVER_ON_NON_DATAPOINT:"hover_on_non_datapoint",HOVER_ON_LEGEND:"hover_on_legend",HOVER_ON_NON_LEGEND:"hover_on_non_legend",CLICK_ON_LEGEND:"click_on_legend",MOUSEUP_ON_LEGEND:"mouseup_on_legend",HOVER_ON_AXIS_LABEL:"hover_on_axis_label",HOVER_ON_NON_AXIS_LABEL:"hover_on_non_axis_label",CLICK_ON_AXIS_LABEL:"click_on_axis_label",MOUSEUP_ON_AXIS_LABEL:"mouseup_on_axis_label",LASSO_START_ON_EVENTLAYER:"lasso_start_on_eventLayer",LASSO_MOVE_ON_EVENTLAYER:"lasso_move_on_eventLayer",LASSO_END_ON_EVENTLAYER:"lasso_end_on_eventLayer",PAN_START_ON_EVENTLAYER:"pan_start_on_eventLayer",PINCH_START_ON_EVENTLAYER:"pinch_start_on_eventLayer",PINCH_MOVE_ON_EVENTLAYER:"pinch_move_on_eventLayer",PINCH_END_ON_EVENTLAYER:"pinch_end_on_eventLayer"},CSS:{MATCHMODE:{NEGATIVE:"negative",POSITIVE:"positive"}}}},UNITFORMATTYPE:{METRICUNITS:"MetricUnits",FINANCIALUNITS:"FinancialUnits"}};return t});define("sap/viz/util/fn/modulebuilder",["sap/viz/util/ignite","sap/viz/modules/manifests/Module","sap/viz/util/Constants","sap/viz/base/utils/Objects"],function e(t,a,i,r){var s={CLASS_PREFIX:i.CSS.CLASS.MODULEPREFIX};var o=function(e,o,n){var l=e.dataset,u=e.props,d=e.conf,h={};var p=d.modules;for(var c in p){if(p.hasOwnProperty(c)){var f=p[c];if(f===null){continue}var m=t(f.id,n,s.CLASS_PREFIX+c);var _=f.data?l.createDataAdapterForModule(f.data):l;var g={};var v=a.get(f.id).type;if(m.data){m.data(_)}m.alias=c;if(v===i.Type.Container){if(f.configure){g[f.configure.propertyCategory]=f.configure.properties}m.parent(o[c]).config(f).properties(r.extend(true,{},g,u))}else{m.properties(r.extend(true,{},f.configure?f.configure.properties:{},f.configure?u[f.configure.propertyCategory]:{}));if(m.parent){m.parent(o[c])}}h[c]=m}}return h};return o});define("sap/viz/modules/BaseComposition",["sap/viz/base/utils/oo","sap/viz/modules/Base","sap/viz/modules/manifests/Module","sap/viz/modules/dispatch","sap/viz/data/utils/DatasetUtils","sap/viz/manifest","sap/viz/util/fn/dombuilder","sap/viz/util/fn/modulebuilder","sap/viz/base/utils/Objects","sap/viz/util/Constants","sap/viz/base/utils/TypeUtils"],function e(t,a,i,r,s,o,n,l,u,d,h){var p=function(){var e=this;for(var t in this._modules){if(this._modules.hasOwnProperty(t)){var a=this._modules[t];if(a.dispatch){if(a.dispatch()["initialized"]){a.dispatch().on("initialized.BaseComposition",function(){return function(){m.call(e)}}());e._count++}if(a.dispatch()["relayout"]){a.dispatch().on("relayout.BaseComposition",function(){e._charger.func.call(e._charger.scope)})}}}}};var c=function(){if(h.isEmptyObject(this._modules)&&!h.isEmptyObject(this._config)&&this._data!==null){this.init({dataset:this._data,conf:this._config,props:this._properties})}};var f=function(){var e=this;for(var t in this._modules){if(this._modules.hasOwnProperty(t)){var a=this._modules[t];if(a.dispatch){if(a.dispatch()["initialized"]){a.dispatch().on("initialized.BaseComposition",null)}if(a.dispatch()["relayout"]){a.dispatch().on("relayout.BaseComposition",null)}}}}};var m=function(){if(++this._inits===this._count){this._inits=0;this._dispatch.initialized();this._dispatch.ready()}};var _=function(e,t){_.superclass.constructor.apply(this,arguments);this._context=t;this._config={};this._modules={};this._properties={};this._charger={func:null,scope:null};this._count=0;this._inits=0;this._dispatch=r("initialized","ready");this._ownProperties=e.props(null);this._chartType="";this._parentNode=null;this._selections={};this._data=null};_.prototype.init=function(e){this._selections=this.dombuilder(this._parentNode,this._config.modules);this._modules=this.modulebuilder(e,this._selections,this._context);p.call(this)};t.extend(_,a);_.prototype.config=function(e){if(!arguments.length){return this._config}this._config=e;c.call(this);return this};_.prototype.data=function(e){if(!arguments.length){return this._data}this._data=e;c.call(this);return this};_.prototype.recharge=function(e){if(!arguments.length){return this._charger}this._charger=e;return this};_.prototype.destroy=function(){f.call(this);this._charger=null;this._modules=null;this._parentNode=null;this._properties={};this._data=null;this._context.destroy();this._context=null};_.prototype.dispatch=function(e){if(!arguments.length){return this._dispatch}this._dispatch=e;return this};_.prototype.chartType=function(e){if(!arguments.length){return this._chartType}this._chartType=e;return this};_.prototype.modules=function(e){if(!arguments.length){c.call(this);return this._modules}this._modules=e;return this};_.prototype.parent=function(e){if(!arguments.length){return this._parentNode}this._parentNode=e;return this};_.prototype.getMergedProperties=function(e){var t=this._ownProperties;var a=this._config;var i=a.configure?a.configure.propertyCategory:null;var r=i?e[i]:null;var s=u.extend(true,t,r);return s};_.prototype.properties=function(e){if(!arguments.length){return this._properties}var t=this._modules;var a=this._config;u.extend(true,this._properties,e);this._ownProperties=this.getMergedProperties(e);var r=a.configure?a.configure.propertyCategory:null;u.extend(true,this._properties[r],this._ownProperties);for(var s in t){if(t.hasOwnProperty(s)){if(i.get(a.modules[s].id).type===d.Type.Container){t[s].properties(this._properties)}else if(a.modules[s].configure){t[s].properties(this._properties[a.modules[s].configure.propertyCategory])}}}return this};_.prototype.dombuilder=function(e,t){return n(e,t)};_.prototype.modulebuilder=function(e,t,a){return l(e,t,a)};_.prototype._convert2MultiAxesDataAdapter=function(){if(o.viz.getManifest(this._chartType)[0]){return o.viz.getManifest(this._chartType)[0].legacyDataAdapter===true}return false};_.prototype._isFlatTable=function(){return s.isFlatTable(this._data)};return _});define("sap/viz/base/EventDispatch",[],function(){var e=function(){this._edp_dispatch=d3.dispatch.apply(d3,arguments);this._copyEventTypes(this._edp_dispatch,false)};e.prototype._copyEventTypes=function(e,t){for(var a in e){if(e.hasOwnProperty(a)){this[a]=e[a];if(t){this._edp_dispatch[a]=e[a]}}}};e.prototype.addEventTypes=function(){var e=d3.dispatch.apply(d3,arguments);this._copyEventTypes(e,true);return this};e.prototype.on=function(e,t){return this._edp_dispatch.on(e,t)};e.prototype.destroy=function(){var e=this._edp_dispatch;if(e){for(var t in e){if(e.hasOwnProperty(t)){e.on(t,null)}}}this._edp_dispatch=null};return e});define("sap/viz/elements/common/Base",["sap/viz/base/EventDispatch"],function(e){var t=function(){this._eDispatch=new e};t.prototype.__new_style__=true;t.prototype.getDispatch=function(){return this._eDispatch};t.prototype.dispatch=function(){return this._eDispatch};t.prototype._exposeMoreEvents=function(){this._eDispatch.addEventTypes.apply(this._eDispatch,arguments);return this};t.prototype.destroy=function(){if(this._eDispatch&&this._eDispatch.destroy){this._eDispatch.destroy();this._eDispatch=null}};return t});define("sap/viz/elements/common/BaseGraphic",["sap/viz/base/utils/oo","sap/viz/elements/common/Base","sap/viz/base/utils/ObjectUtils","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/Objects"],function e(t,a,i,r,s){var o=function(e,t){o.superclass.constructor.apply(this,arguments);this._width=0;this._height=0;this._data=null;this._props=e.props(null);this._randomSuffix=i.guid();this._parent=null;this._manifest=e;this._ctx=t;this._effectManager=this._ctx.effectManager;this._styleManager=this._ctx.styleManager;this._exposeMoreEvents("initialized")};t.extend(o,a);o.prototype.render=function(e){this._parent=e;if(r.isFunction(this._props.preRendering)){this._props.preRendering.call(this,e,this._data)}this._doRender(e);if(r.isFunction(this._props.postRendering)){this._props.postRendering.call(this,e,this._data)}return this};o.prototype._doRender=function(e){};o.prototype.getWidth=function(){return this._width};o.prototype.setWidth=function(e){this._width=e;return this};o.prototype.width=function(e){if(!arguments.length){return this.getWidth()}return this.setWidth(e)};o.prototype.getHeight=function(){return this._height};o.prototype.setHeight=function(e){this._height=e;return this};o.prototype.height=function(e){if(!arguments.length){return this.getHeight()}return this.setHeight(e)};o.prototype.getSize=function(){return{width:this._width,height:this._height}};o.prototype.setSize=function(e){if(e){this.setWidth(e.width).setHeight(e.height)}return this};o.prototype.size=function(e){if(!arguments.length){return this.getSize()}return this.setSize(e)};o.prototype.getData=function(){return this._data};o.prototype.setData=function(e){this._data=e};o.prototype.data=function(e){if(!arguments.length){return this.getData()}return this.setData(e)};o.prototype.getProperties=function(){return this._props};o.prototype.setProperties=function(e){s.extend(true,this._props,e);return this};o.prototype.properties=function(e){if(!arguments.length){return this.getProperties()}return this.setProperties(e)};o.prototype.parent=function(){return this._parent};o.prototype.destroy=function(){o.superclass.destroy.apply(this,arguments);this._parent=null;this._manifest=null;if(this._ctx){this._ctx.destroy();this._ctx=null}if(this._effectManager){this._effectManager.destroy();this._effectManager=null}if(this._styleManager){this._styleManager.destroy();this._styleManager=null}};o.prototype.getPreferredSize=function(){return{minWidth:1,minHeight:1}};return o});define("sap/viz/modules/util/BoundUtil",[],function e(){var t="v-bound";var a={drawBound:function(e,a,i,r,s){var o;if(a<0||i<0){return}if(e.select("."+t).node()==null){o=e.insert("rect",":first-child").attr("class",t).attr("width",a).attr("height",i);if(s){o.attr("fill","transparent")}else{o.attr("visibility","hidden")}}else{o=e.select("."+t).attr("width",a).attr("height",i)}if(r){for(var n in r){o.attr(n,r[n])}}}};return a});define("sap/viz/modules/background",["sap/viz/base/utils/oo","sap/viz/elements/common/BaseGraphic","sap/viz/modules/Constants","sap/viz/base/utils/ObjectUtils","sap/viz/modules/dispatch","sap/viz/base/utils/Objects","sap/viz/modules/util/BoundUtil"],function e(t,a,i,r,s,o,n){var l="v-background-border",u="viz-plot-background-border";var d="v-background-body",h="viz-plot-background";var p=i.CSS.CLASS.MORPHABLEBACKGROUND;function c(){var e=this._props;if(!e.style){e.style={}}e.style.body={fill:e.color};e.style.border={stroke:e.border.stroke,"stroke-width":e.border.strokeWidth}}var f=function(e,t){f.superclass.constructor.apply(this,arguments);this._eDispatch=new s("initialized")};t.extend(f,a);f.prototype._doRender=function(e){var t=this._props;if(t.visible){c.call(this);var a=e.select("#"+"background-rect-"+this._randomSuffix);if(a.empty()){a=e.append("svg:rect").attr("class",d+" "+h+" "+p).attr("id","background-rect-"+this._randomSuffix)}var i=this._effectManager.register({graphType:"background",fillColor:t.style.body.fill,drawingEffect:t.drawingEffect,direction:t.direction});a.attr("x",0).attr("y",0).attr("width",this._width).attr("height",this._height).attr("style","fill:"+i);var r=[];if(t.border.left.visible){r.push({x1:0,y1:0,x2:0,y2:this._height})}if(t.border.right.visible){r.push({x1:this._width,y1:0,x2:this._width,y2:this._height})}if(t.border.top.visible){r.push({x1:0,y1:0,x2:this._width,y2:0})}if(t.border.bottom.visible){r.push({x1:0,y1:this._height,x2:this._width,y2:this._height})}var s=e.selectAll("."+l).data(r);s.enter().append("svg:line").attr("class",l+" "+u);s.exit().remove();s.attr("x1",function(e){return e.x1}).attr("y1",function(e){return e.y1}).attr("x2",function(e){return e.x2}).attr("y2",function(e){return e.y2});s.each(function(e){d3.select(this).attr("shape-rendering","crispEdges");for(var a in t.style.border){if(t.style.border.hasOwnProperty(a)){d3.select(this).attr(a,t.style.border[a])}}})}else{var o=e.node();while(o.hasChildNodes()){o.removeChild(o.firstChild)}}this._eDispatch.initialized();return this};f.prototype.destroy=function(e){f.superclass.destroy.apply(this,arguments);this._eDispatch=null};return f});define("sap/viz/modules/util/BackgroundUtil",["sap/viz/modules/manifests/Module","sap/viz/util/ignite","sap/viz/modules/background"],function e(t,a){var i="v-backgroundutil";var r={drawBackground:function(e,t,a){var r=d3.selectAll(e.node().childNodes).filter("."+i);if(r.empty()){r=e.insert("svg:g",":first-child").attr("class",i)}t.setWidth(a.width).setHeight(a.height).setProperties(a.properties);r.call(t);return t},initModule:function(e){return a("sap.viz.modules.background",e,i)}};return r});define("sap/viz/util/functional",[],function e(){var t={tailrec:function(e,t,a){return function(){var i=arguments;for(;!e.apply(this,i);i=a.apply(this,i)){}return t.apply(this,i)}}};return t});define("sap/viz/modules/layout/dock",["jquery","sap/viz/modules/Constants","sap/viz/util/functional","sap/viz/util/Objects","sap/viz/base/utils/log/Analyzer"],function e(t,a,i,r,s){function o(e,t){return e-t}function n(e){return e.position}function l(e){return e.value}function u(e){return}function d(e){return e.size()}var h=function(){var e=o,i=n,h=l,p=u,c=d,f=0,m=0,_={func:null,scope:null},g=a.mappings.e2p(1),v=[2*g,2*g,2*g,2*g],y=1,b=[],x=0,A=0,M=0,S=0,z=0,D=0,E=0,w=0;var T,C;function L(){function o(e){return i(e)==="top"||i(e)==="bottom"}function n(e){return i(e)==="left"||i(e)==="right"}function l(e){var t=c(e);if(t===null){return null}return p(e)?p(e).call(this,{edge:i(e),result:{width:t.minWidth,height:t.minHeight},size:{width:f,height:m}}):u(e)}function u(e){var t=c(e);if(t===null){return null}return p(e)?p(e).call(this,{edge:i(e),result:{width:t.maxWidth,height:t.maxHeight},size:{width:f,height:m}}):l(e)}function d(){if(_.func){_.func.call(_.scope)}}function h(e){var t=e.module,a=u(e);if(n(e)){return Math.abs(a.width-t.width())<y}if(o(e)){return Math.abs(a.height-t.height())<y}return true}function g(e){var t=true;e.forEach(function(e){t=h(e)});return t}function L(e,t){function a(e){var t=e.module,a=u(e);return o(e)?(a.height-t.height())/2:(a.width-t.width())/2}var i=t.indexOf(e),r={};r=t.map(function(t,r){if(r<=i){return t}var s=a(e),o=t.module,l=e.module;if(n(e)){if(s>0){l.width(l.width()+s);o.width(o.width()-s)}else{l.width(l.width()-s);o.width(o.width()+s)}}else{if(s>0){l.height(l.height()+s);o.height(o.height()-s)}else{l.height(l.height()-s);o.height(o.height()+s)}}return t});d();return r}function I(e,t){var a=e[0],o=e[1];z=0,D=0,E=0,w=0;x=0,A=0,M=0,S=0;z=v[3],D=a-v[1];E=v[0],w=o-v[2];a-=v[1]+v[3];o-=v[0]+v[2];var n=[a,o];t.forEach(function(e){s.pnrProfiling("Render:drawing-layout-calculation-formatValue-"+e.module.alias);var t=e.module,a=c(e),o=u(e),d=l(e),h={width:o!==null&&d!==null?d3.max([o.width,d.width]):undefined,height:o!==null&&d!==null?d3.max([o.height,d.height]):undefined};e.acceptable=true;if(h.width===0||h.height===0||i(e)!=="center"&&(a.minWidth>h.width||a.minHeight>h.height||n[0]<a.minWidth||n[1]<a.minHeight)){if(e.module.alias==="legends"&&e.module.modules()["sizeLegend"]&&r.size(e.module.modules())===1){e.acceptable=true}else{e.acceptable=false;t.width(0).height(0);s.pnrProfiling("Render:drawing-layout-calculation-formatValue-"+e.module.alias);return}}switch(i(e)){case"top":t.width(n[0]).height(h.height);if(x){n[1]-=h.height+T*(x-1)}else{n[1]-=h.height+T}x++;break;case"bottom":t.width(n[0]).height(h.height);if(A){n[1]-=h.height+T*(A-1)}else{n[1]-=h.height+T}A++;break;case"left":t.width(h.width).height(n[1]);if(M){n[0]-=h.width+C*(M-1)}else{n[0]-=h.width+C}M++;break;case"right":t.width(h.width).height(n[1]);if(S){n[0]-=h.width+C*(S-1)}else{n[0]-=h.width+C}S++;break;case"center":t.size({width:n[0],height:n[1]});n[0]=0,n[1]=0;break}s.pnrProfiling("Render:drawing-layout-calculation-formatValue-"+e.module.alias)})}function k(e){var t=e.map(function(e,t){var a={x:0,y:0},r=e.module;if(!e.acceptable){e.anchor=a;return e}switch(i(e)){case"top":a.x=z,a.y=E;E+=r.height()+T;break;case"bottom":a.x=z,a.y=w-r.height();w-=r.height()+T;break;case"left":a.x=z,a.y=E;z+=r.width()+C;break;case"right":a.x=D-r.width(),a.y=E;D-=r.width()+C;break;case"center":a.x=z,a.y=E;z=D,E=w;break}e.anchor=a;return e}),a={};for(var r in t){if(t.hasOwnProperty(r)){var s=t[r].module;a[s.alias]=t[r].anchor;a[s.alias].width=s.width();a[s.alias].height=s.height()}}return a}var O=[],N=arguments[1],P={};if(!t.isArray(arguments[0])){return P}O=arguments[0].slice().sort(e);b=[];I([f,m],O);d();if(N===a.LAYOUT_ADJUST_POLICY.APPROXIMATE){return k.call(this,function e(t){var a=t[0];if(!a.acceptable||h(a)){b.push(t.shift());if(t.length){e(t)}}else{e(L(a,t))}return b}(O))}else if(N===a.LAYOUT_ADJUST_POLICY.RELAYOUT){I([f,m],O);d();return k.call(this,O)}else{return k(O)}}L.filter=function(e){if(!arguments.length){return p}p=e;return L};L.sort=function(t){if(!arguments.length){return e}e=t;return L};L.size=function(e){if(!arguments.length){return c}c=e;return L};L.edge=function(e){if(!arguments.length){return i}i=e;return L};L.value=function(e){if(!arguments.length){return h}h=e;return L};L.rewire=function(e){if(!arguments.length){return _}_=e;return L};L.vgap=function(){if(!arguments.length){return C}C=t.isFunction(arguments[1])?arguments[1](arguments[0]):arguments[0];return L};L.hgap=function(){if(!arguments.length){return T}T=t.isFunction(arguments[1])?arguments[1](arguments[0]):arguments[0];return L};L.padding=function(){if(!arguments.length){return v}var e=arguments[0],a=arguments[1];if(t.isArray(e)){e.forEach(function(e,i){v[i]=t.isFunction(a)?a(e):+e})}else{v.forEach(function(t,a){v[a]=e})}return L};L.width=function(e){if(!arguments.length){return f}f=e;return L};L.height=function(e){if(!arguments.length){return m}m=e;return L};L.tolerance=function(e){if(!arguments.length){return y}y=e;return L};L.properties=function(){return L};L.data=function(){return L};L.destroy=function(){_.func=null;_.scope=null;_=null};return L};return h});define("sap/viz/elements/common/SVG",[],function(){var e="http://www.w3.org/2000/svg";return{create:function(t,a,i){var r=a?a.ownerDocument:window.document;var s=a?a.namespaceURI:e;var o=r.createElementNS(s,t);return a?i?a.parentNode.insertBefore(o,a):a.appendChild(o):o},getTransformToElement:function(e,t){var a;if(e.getTransformToElement){a=e.getTransformToElement(t)}else{var i;try{i=t.getScreenCTM().inverse()}catch(e){throw"'target' CTM is not invertible."}a=i.multiply(e.getScreenCTM())}return a}}});define("sap/viz/util/FeedingZoneUtil",["jquery","sap/viz/base/utils/Objects","sap/viz/manifest","sap/viz/util/UtilsRegister","sap/viz/elements/common/SVG"],function e(t,a,i,r,s){var o=function(e,t){if(e.hasOwnProperty(t)){return e[t]}if(typeof e!=="object"){return}for(var a in e){if(e.hasOwnProperty(a)&&e[a]){var i=o(e[a],t);if(i){return i}}}return};var n=function(e,t){var a=[];for(var i=0;i<e.length;i++){for(var r=0;r<t.length;r++){if(e[i].id===t[r]){a.push(e[i])}}}return a};var l=function(e,a,i){var r=i.select(".v-m-"+e);r=t(r.node());var s=r.offset();var o=r.width();var n=r.height();var l=t(".v-m-root").offset();var u=[s.left-l.left,s.top-l.top];var d=[u[0]+o,u[1]];var h=[u[0]+o,u[1]+n];var p=[u[0],u[1]+n];var c={name:e,feedDef:a,bound:[[u,d,h,p]]};return c};var u=function(e,t,a,i){var r=a.select(".v-m-"+e);var o=r.node().getBBox();if(i){o=r.select(".v-bound").node().getBBox()}var n=s.getTransformToElement(r.node(),r.node().ownerSVGElement);var l=[n.e+o.x,n.f+o.y];var u=[l[0]+o.width,l[1]];var d=[l[0]+o.width,l[1]+o.height];var h=[l[0],l[1]+o.height];var p={name:e,feedDef:t,bound:[[l,u,d,h]]};return p};var d=function(e,t,a,i){var r=a.selectAll(".v-m-"+e);var o=[];r.each(function(e,t){var a=this.getBBox();if(i){var r=d3.select(this).select(".v-bound").node();if(r===null){return}a=r.getBBox()}var n=s.getTransformToElement(this,this.ownerSVGElement);var l=[n.e+a.x,n.f+a.y];var u=[l[0]+a.width,l[1]];var d=[l[0]+a.width,l[1]+a.height];var h=[l[0],l[1]+a.height];o.push([l,u,d,h])});var n={name:e,feedDef:t,bound:o};return n};var h=function(e,t,a,i){var r=[];var o;if(e==="viz/choropleth"||e==="viz/geobubble"||e==="viz/geopie"){o=i.selectAll(".v-m-main");o.each(function(e,t){var a=d3.select(this).select(".v-bound").node();if(a===null){return}var i=a.getBBox();var o=s.getTransformToElement(this,this.ownerSVGElement);var n=[o.e+i.x,o.f+i.y];var l=[n[0]+i.width,n[1]];var u=[n[0]+i.width,n[1]+i.height];var d=[n[0],n[1]+i.height];r.push([n,l,u,d])})}if(e==="viz/multi_choropleth"||e==="viz/multi_geobubble"){var n=i.selectAll(".v-m-plot");for(var l=0;l<n[0].length;l++){o=i.selectAll(".v-m-plot"+l);o.each(function(e,t){var a=d3.select(this).select(".v-bound").node();if(a===null){return}var i=a.getBBox();var o=s.getTransformToElement(this,this.ownerSVGElement);var n=[o.e+i.x,o.f+i.y];var l=[n[0]+i.width,n[1]];var u=[n[0]+i.width,n[1]+i.height];var d=[n[0],n[1]+i.height];r.push([n,l,u,d])})}}var u={name:t,feedDef:a,bound:r};return u};var p=function(e,t,a){var r=i.viz.get(e);var s=r.allFeeds();var l=o(r,"legends");if(l){var u=a?a:d;return[u("legend",n(s,["regionColor"]),t,true)]}return};var c=function(e,t,a){var r=i.viz.get(e);var s=r.allFeeds();var l=[];var u=e.indexOf("3d")<0&&e.indexOf("info/")<0;var h=d("plot",s.filter(function(e){if(e.id==="multiplier"){return false}return true}),t,u);l.push(h);var p=o(a?a:r,"xAxis");var c;if(p.configure.properties.type==="value"){c=d("xAxis",n(s,["primaryValues"]),t,u)}else{c=d("xAxis",n(s,["axisLabels"]),t,u)}l.push(c);var f=o(a?a:r,"xAxis2");if(f){var m=d("xAxis2",n(s,["secondaryValues"]),t,u);l.push(m)}var _=o(a?a:r,"yAxis");var g;if(_.configure.properties.type==="value"){g=d("yAxis",n(s,["primaryValues"]),t,u)}else{g=d("yAxis",n(s,["axisLabels"]),t,u)}l.push(g);var v=o(a?a:r,"yAxis2");if(v&&v.id!=="sap.viz.chart.elements.scrollbar"){var y=d("yAxis2",n(s,["secondaryValues"]),t,u);l.push(y)}var b=o(a?a:r,"zAxis");if(b){var x=d("zAxis",n(s,["regionColor"]),t,u);l.push(x)}return l};var f=function(e,t){var a=i.viz.get(e);var r=a.allFeeds();var s=[];var u=o(a,"xAxis");var d;if(u.configure.properties.type==="value"){d=l("xAxis",n(r,["primaryValues"]),t)}else{d=l("xAxis",n(r,["axisLabels"]),t)}s.push(d);var h=o(a,"xAxis2");if(h){var p=l("xAxis2",n(r,["secondaryValues"]),t);s.push(p)}var c=o(a,"yAxis");var f;if(c.configure.properties.type==="value"){f=l("yAxis",n(r,["primaryValues"]),t)}else{f=l("yAxis",n(r,["axisLabels"]),t)}s.push(f);var m=o(a,"yAxis2");if(m){var _=l("yAxis2",n(r,["secondaryValues"]),t);s.push(_)}return s};var m=function(e,t){var a=i.viz.get(e);var r=a.allFeeds();var s=[d("legend",n(r,["regionColor","regionShape"]),t,true)];if(o(a,"sizeLegend")){s.push(d("sizeLegend",n(r,["bubbleWidth"]),t,true))}return s};var _=function(e,t){var a=i.viz.get(e);var r=a.allFeeds();var s=e.indexOf("info/")<0;var o=d("plot",r.filter(function(e){if(e.id==="multiplier"){return false}return true}),t,s);var l=d("xAxis",n(r,["primaryValues"]),t,s);var u=d("yAxis",n(r,["secondaryValues"]),t,s);var h=[o,l,u];return h};var g=function(e,t){var a=i.viz.get(e);var r=a.allFeeds();var s=l("xAxis",n(r,["primaryValues"]),t);var o=l("yAxis",n(r,["secondaryValues"]),t);var u=[s,o];return u};var v=function(e,t){var a=i.viz.get(e);var r=a.allFeeds();var s=d("plot",r,t,true);var o=d("xAxis",n(r,["primaryValues"]),t,true);var l=d("yAxis",n(r,["primaryValues"]),t,true);var u=[s,o,l];return u};var y=function(e,t){var a=i.viz.get(e);var r=a.allFeeds();return[d("legend",n(r,["pieSectorColor"]),t,true)]};var b=function(e,t){var a=i.viz.get(e);var r=a.allFeeds();var s=d("plot",r.filter(function(e){if(e.id==="multiplier"){return false}return true}),t);var o=[s];return o};var x=b;var A=function(e,t){var a=i.viz.get(e);var r=a.allFeeds();return[d("legend",n(r,["rectangleColor"]),t,true)]};var M=function(e,t,a){var r=i.viz.get(e);var s=r.allFeeds();var l=d("plot",s,t);var u=[l];var h=o(a?a:r,"xAxis");if(h){var p=d("xAxis",n(s,["mainLabelAxis"]),t,true);u.push(p)}var c=o(a?a:r,"yAxis");if(c){var f=d("yAxis",n(s,["secondaryLabelAxis"]),t,true);u.push(f)}return u};var S=function(e,t){var a=i.viz.get(e);var r=a.allFeeds();var s=[];if(e==="viz/choropleth"||e==="viz/multi_choropleth"){s.push(d("legend",n(r,["featureValues"]),t,true))}if(e==="viz/geobubble"||e==="viz/multi_geobubble"){if(o(a,"sizeLegend")){s.push(d("sizeLegend",n(r,["featureValues"]),t,true))}if(o(a,"legend")){s.push(d("legend",n(r,["color"]),t,true))}}if(e==="viz/geopie"){s.push(d("legend",n(r,["featureAnalysis"]),t,true));if(o(a,"sizeLegend")){s.push(d("sizeLegend",n(r,["featureValues"]),t,true))}}return s};var z=function(e,t,a){var r=i.viz.get(e);var s=r.allFeeds();var o=h(e,"plot",s.filter(function(e){if(e.id==="multiplier"){return false}return true}),t);var n=[o];return n};var D=function(e,t){var a=i.viz.get(e);var r=a.allFeeds();return[d("legend",n(r,["tagFamily"]),t,true)]};var E=function(e,t){var a=i.viz.get(e);var r=a.allFeeds();var s=d("plot",r,t);return[s]};var w=function(e,t){var a=i.viz.get(e);var r=a.allFeeds();var s=d("plot",r,t,true);return[s]};var T=E;var C=function(){};var L=function(){};var I=function(e,t){var a=i.viz.get(e);var r=a.allFeeds();var o=d("plot",r.filter(function(e){if(e.id==="multiplier"){return false}return true}),t);var l=t.selectAll(".v-valueaxis");var u=[];l.each(function(e,t){var a;if(d3.select(this).select(".v-bound").empty()){a=d3.select(this).node().getBBox()}else{a=d3.select(this).select(".v-bound").node().getBBox()}var i=s.getTransformToElement(this,this.ownerSVGElement);var r=[i.e+a.x,i.f+a.y];var o=[r[0]+a.width,r[1]];var n=[r[0]+a.width,r[1]+a.height];var l=[r[0],r[1]+a.height];u.push([r,o,n,l])});var h={name:"valueaxis",feedDef:n(r,["radarAxesValues"]),bound:u};return[o,h]};var k=function(e,t){var a=i.viz.get(e);var r=a.allFeeds();var s=e.indexOf("info/")<0;var o=d("plot",r.filter(function(e){if(e.id==="multiplier"){return false}return true}),t,s);var l=d("xAxis2",n(r,["primaryValues"]),t,s);var u=d("yAxis",n(r,["axisLabels"]),t,s);var h=[o,l,u];return h};var O=function(e,t){var a=i.viz.get(e);var r=a.allFeeds();return[d("legend",r.filter(function(e){if(e.type==="Measure"){return true}return false}),t,true)]};var N=function(e,t){return function(a,r){var s=i.viz.get(a);var o=s.allFeeds();var u=[];var d=e.call(this,a,r);if(d){u=u.concat(d)}var h=l("plot",o,r);h.name="mainPlot";u=u.concat(h);var p=t.call(this,a,r);var c=d3.select(".v-m-legends");var f=parseFloat(c.style("left")),m=parseFloat(c.style("top"));for(var _=0;_<p.length;_++){if(p[_].bound.length===0){continue}for(var g=0;g<p[0].bound.length;g++){for(var v=0;v<p[0].bound[g].length;v++){p[_].bound[g][v][0]+=f;p[_].bound[g][v][1]+=m}}}u=u.concat(p);var y=l("trellisXAxis",n(o,["multiplier"]),r);y.name="multiplier";var b=l("trellisYAxis",n(o,["multiplier"]),r);y.bound=y.bound.concat(b.bound);u=u.concat(y);return u}};var P=function(e,t){return function(a,r){var s=i.viz.get(a);var o=s.allFeeds();var l=r.select(".v-m-plot");var d=e.call(this,a,l,s.modules.root.modules.main.modules.plot.modules);var h=t.call(this,a,r);d=d.concat(h);var p=u("plot",o,r,true);p.name="mainPlot";d=d.concat(p);var c=u("xAxis2",n(o,["multiplier"]),r,true);c.name="multiplier";var f=u("yAxis",n(o,["multiplier"]),r,true);c.bound=c.bound.concat(f.bound);d.push(c);return d}};var R=function(e,t){return function(a,i){var r;if(a==="viz/scatter_matrix"){r=i.select(".v-m-plot")}var s=e.call(this,a,r?r:i);if(t){var o=t.call(this,a,i);if(o){s=s.concat(o)}}return s}};var F=function(e){var t=i.viz.get(e);if(t.feedingZone){return t.feedingZone}var a,r,s,o;if(e==="viz/scatter_matrix"){a=t.modules.root.modules.main.id}else if(e.indexOf("multi")>=0||e.indexOf("trellis")>=0){a=t.modules.root.modules.main.modules.plot.modules.plot.id}else{a=t.modules.root.modules.main.modules.plot.id}var n;if(e.indexOf("info/")>=0){n=i.module.get(a).feedsID}else{n=i.module.get(a).feeds.id}switch(n){case"xy":r=c;s=p;o=f;break;case"scatter":r=_;s=m;o=g;break;case"pie":r=b;s=y;o=function(){};break;case"heatMap":case"treeMap":r=M;s=A;break;case"tagCloud":r=E;s=D;break;case"network":r=w;s=C;break;case"tree":r=T;s=L;break;case"radar":r=I;s=m;break;case"scattermatrix":r=v;s=m;break;case"geo":r=z;s=S;break;case"number":r=x;break;case"bullet":r=k;s=O;break;default:}if(r===undefined&&s===undefined&&o===undefined){return function(){return[]}}if(e.indexOf("trellis")>=0){return N(o,s)}else if(e.indexOf("multi")>=0){return P(r,s)}else{return R(r,s)}};var B={parse:function(e,t){var a=F(e);return a.call(this,e,t)}};r.register("FeedingZoneUtil",B);return B});define("sap/viz/util/PropertyZoneUtil",["sap/viz/util/UtilsRegister"],function e(t){var a={getPropertyZone:function(e,t,a){var r=[],o,n,u,d;if(a.select(".v-m-plot0").empty()){d=false}else{d=true}for(o in t){if(t.hasOwnProperty(o)){n=t[o];if(typeof n.concat==="function"){for(u=0;u<n.length;u++){l(o+"["+u+"]",n[u],r,d)}}else{l(o,n,r,d)}}}s(a,r);if(!d){i(t,r)}return r}};function i(e,t){var a=r("plot",t);if(!a){return}function i(e,t){var a=t.bound[0][0];if(e==="xAxis"){a=t.bound[0][3]}else if(e==="yAxis2"){a=t.bound[0][1]}return a}function s(e,t){var a=["yAxis","yAxis2"];var i=t.bound[0];var r,s;if(a.indexOf(e)>-1){r=0;s=Math.abs(i[0][1]-i[2][1])}else{r=Math.abs(i[0][0]-i[2][0]);s=0}return{width:r,height:s}}var o=["xAxis","xAxis2","yAxis","yAxis2"];var n=[];for(var l in e){if(e.hasOwnProperty(l)&&!e[l].hasOwnProperty("scrollbarExist")){o.forEach(function(e){if(l.indexOf(e)>-1){n.push(e)}})}}n.forEach(function(e){if(!r(e,t)){var o=[[]];var n=i(e,a);var l=s(e,a);o[0].push([n[0],n[1]]);o[0].push([n[0]+l.width,n[1]]);o[0].push([n[0]+l.width,n[1]+l.height]);o[0].push([n[0],n[1]+l.height]);t.push({bound:o,name:e})}})}function r(e,t){var a=false;for(var i=0;i<t.length;i++){if(e===t[i].name){a=t[i];break}}return a}function s(e,t){var a=e.node().getBoundingClientRect();var i=a.left;var r=a.top;var s,o,n,l,u,d;for(s=0;s<t.length;s++){l=t[s].bound;for(o=0;o<l.length;o++){u=l[o];for(n=0;n<u.length;n++){d=u[n];d[0]=Math.round(d[0]-i);d[1]=Math.round(d[1]-r)}}}}function o(e,t){var a=null;var i;for(i=0;i<t.length;i++){if(e.name===t[i].name){a=t[i];break}}return a}function n(e,t){var a=o(e,t);if(a){a.bound.push(e.bound[0])}else{t.push(e)}}function l(e,t,a,i){var r,s,o,l,u,d,h,p;if(t&&typeof t.getPropertyZone==="function"){r=t.getPropertyZone();if(r){s=e.indexOf("[");o=e.indexOf("]");if(s<0&&o<0){for(l=0;l<r.length;l++){u=r[l];if(i&&(u.name.indexOf("xAxis")>=0||u.name.indexOf("yAxis")>=0)){if(u.name.indexOf("xAxis")>=0){h="columnAxis"}if(u.name.indexOf("yAxis")>=0){h="rowAxis"}d=u.name.indexOf(" ");if(d>=0){p=u.name.substring(d)}else{p=""}u.name=h+p}if(e.indexOf("zAxis")>=0){h="zAxis";d=u.name.indexOf(" ");if(d>=0){p=u.name.substring(d)}else{p=""}u.name=h+p}a.push(u)}}else{for(l=0;l<r.length;l++){n(r[l],a)}}}}}t.register("PropertyZoneUtil",a);return a});define("sap/viz/modules/BaseContainer",["sap/viz/base/utils/oo","sap/viz/modules/BaseComposition","jquery","sap/viz/modules/Constants","sap/viz/modules/manifests/Module","sap/viz/util/ignite","sap/viz/util/append","sap/viz/modules/util/BackgroundUtil","sap/viz/modules/layout/dock","sap/viz/util/fn/domposition","sap/viz/base/utils/FunctionUtils","sap/viz/base/utils/log/Analyzer","sap/viz/util/FeedingZoneUtil","sap/viz/util/PropertyZoneUtil"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f){var m=function(){var e=this._config;var t=this._modules;i.each(e.modules,function(e,a){if(a===null){return}if(s.get(a.id).type===r.Type.Controller){t[e]().module(t[a.configure.clientID])}})};var _=function(){if(!this._bc_defaultLayout){this._bc_defaultLayout=this.getDefaultLayout(this._context)}return this._bc_defaultLayout};var g={CLASS_PREFIX:r.CSS.CLASS.MODULEPREFIX,DEFAULT_LAYOUT_KEY:"sap_viz_modules_layout_dock_key"};var v=function(e,t){v.superclass.constructor.apply(this,arguments);this._bc_manifest=e;this._bc_width=0;this._bc_height=0;this._bc_update_checklist=[m];this._bc_backgroundModule=null;this._bc_defaultLayout=null;this._layout={};this._bc_backgroundModule=l.initModule(this._context)};v.prototype.refresh=function(){var e=this._bc_update_checklist;for(var t=0;t<e.length;t++){e[t].call(this)}return this};t.extend(v,a);v.prototype.render=function(e){this._inits=0;this._parentNode=e;var t=this._selections;var a=this._modules;var i=this._config;if(a["interaction"]&&a["interaction"].runDecoration){a["interaction"].runDecoration("hideDetail","infoMode");a["interaction"].runDecoration("hideDetail","actionMode")}p.pnrProfiling("Render:drawing-layout");this._layout=this.layout(i,this._bc_width,this._bc_height,a,t);var r=this._chartType.substr(this._chartType.indexOf("/")+1);if(r==="bubble"||r==="multi_bubble"||r==="geobubble"||r==="geopie"||r==="multi_geobubble"){this._layout=this.layout(i,this._bc_width,this._bc_height,a,t)}p.pnrProfiling("Render:drawing-layout");p.pnrProfiling("Render:drawing-paint");p.pnrProfiling("Render:drawing-paint-background");this.drawBackground();p.pnrProfiling("Render:drawing-paint-background");p.pnrProfiling("Render:drawing-paint-chart");for(var s in t){if(t.hasOwnProperty(s)&&t[s]&&a.hasOwnProperty(s)&&a[s]){p.pnrProfiling("Render:drawing-paint-chart-"+s);t[s].call(a[s]);p.pnrProfiling("Render:drawing-paint-chart-"+s)}}p.pnrProfiling("Render:drawing-paint-chart");p.pnrProfiling("Render:drawing-paint")};v.prototype.width=function(e){if(!arguments.length){return this._bc_width}this._bc_width=e;return this};v.prototype.height=function(e){if(!arguments.length){return this._bc_height}this._bc_height=e;return this};v.prototype.size=function(e){if(!arguments.length){return{width:this._bc_width,height:this._bc_height}}this._bc_width=e.width;this._bc_height=e.height;return this};var y=function(){var e=this._config;var t=this._modules;var a=this._parentNode;var o=this._chartType;i.each(e.modules,function(e,i){if(i===null){return}if(s.get(i.id).type===r.Type.Behavior&&t[e].module){t[e].module(t);if(t[e].setChartType){t[e].setChartType(o)}t[e].setRootNode(a)}else if(s.get(i.id).type===r.Type.Controller&&t[e].module){if(!i.configure||!i.configure.clientID){h.error("A clientID is required for a controller module:"+i.id)}t[e].module(t[i.configure.clientID])}})};v.prototype.init=function(e){v.superclass.init.apply(this,arguments);y.call(this)};v.prototype.data=function(e){v.superclass.data.apply(this,arguments);var t=this._modules;var a=this._config;var i=this._data;for(var r in t){if(t.hasOwnProperty(r)){if(a.modules[r].data){t[r].data(i.createDataAdapterForModule(a.modules[r].data))}else{if(t[r].data){t[r].data(i)}}}}return this};v.prototype.relayout=function(e){this.layout(this._config,this._bc_width,this._bc_height,this._modules,this._selections)};v.prototype.destroy=function(){v.superclass.destroy.apply(this,arguments);this._selections=null;if(this._bc_backgroundModule){this._bc_backgroundModule.destroy();this._bc_backgroundModule=null}if(this._bc_defaultLayout&&this._bc_defaultLayout.destroy){this._bc_defaultLayout.destroy()}};v.prototype.getDefaultLayout=function(e){var t=g["DEFAULT_LAYOUT_KEY"];return o("sap.viz.modules.layout.dock",e,g.CLASS_PREFIX+t)};v.prototype.drawBackground=function(e){var t={width:this._bc_width,height:this._bc_height,properties:{border:{left:{visible:false},right:{visible:false},top:{visible:false},bottom:{visible:false}}},parentCtx:this._context};l.drawBackground(this._parentNode,this._bc_backgroundModule,t)};v.prototype.layout=function(e,t,a,o,n){var l=this._charger;var u=o.layout||_.call(this);var h=this._ownProperties.layout;function c(e,i){return u.width(t).height(a)(e,i)}function f(e){return typeof e!=="undefined"&&e!==null&&e>=0}function m(n,l){p.pnrProfiling("Render:drawing-layout-calculation-formatModule");var d=[24,24,24,24],c=0,m=0,_=[];c=h.vgap;m=h.hgap;if(f(h["padding"])){for(var g=0;g<d.length;g++){d[g]=parseInt(h.padding,10)}}if(f(h["paddingLeft"])){d[3]=h["paddingLeft"]<t/2?parseInt(h["paddingLeft"],10):24}if(f(h["paddingRight"])){d[1]=h["paddingRight"]<t/2?parseInt(h["paddingRight"],10):24}if(f(h["paddingTop"])){d[0]=h["paddingTop"]<a/2?parseInt(h["paddingTop"],10):24}if(f(h["paddingBottom"])){d[2]=h["paddingBottom"]<a/2?parseInt(h["paddingBottom"],10):24}u.padding(d,function(e){var i=Math.min(t,a);if(i<=108){return e<=2?e:2}else{return e}}).vgap(c||0,function(e){return e}).hgap(m||0,function(e){return e}).width(t).height(a).rewire(l).sort(function(e,t){return e.priority-t.priority}).size(function(e){return e.module.getPreferredSize?e.module.getPreferredSize():null}).value(function(e){return e.priority}).edge(function(e){return e.position}).filter(function(e){return e.filter}).tolerance(1);i.each(n,function(i,n){if(s.get(e.modules[i].id).type!==r.Type.Container&&s.get(e.modules[i].id).type!==r.Type.Supplementary&&s.get(e.modules[i].id).type!==r.Type.Chart){return}var l=n.properties().layout||n.properties()[e.modules[i].configure.propertyCategory].layout,u=l.position;var h=1/4;if(e.modules){if(e.modules.legends){if(e.modules.legends.modules){if(e.modules.legends.modules.sizeLegend){h=1/3}}}}if(i==="legends"){o.legends.maxWidth(h*t-d[0]-d[2]).maxHeight(h*a-d[1]-d[3])}_.push({module:n,position:u,filter:function(e){var t={},a=e.result,i=e.size;if(e.edge==="top"||e.edge==="bottom"){t.height=a.height>h*(i.height-d[0]-d[2])?h*(i.height-d[0]-d[2]):a.height;t.width=a.width}if(e.edge==="left"||e.edge==="right"){t.width=a.width>h*(i.width-d[1]-d[3])?h*(i.width-d[1]-d[3]):a.width;t.height=a.height}return t},priority:l.priority})});p.pnrProfiling("Render:drawing-layout-calculation-formatModule");return _}p.pnrProfiling("Render:drawing-layout-calculation");var g=c(m(o,l),"RELAYOUT");p.pnrProfiling("Render:drawing-layout-calculation");p.pnrProfiling("Render:drawing-layout-positionsub");d(g,n);p.pnrProfiling("Render:drawing-layout-positionsub");return g};return v});define("sap/viz/util/EffectManager",["sap/viz/base/utils/ObjectUtils"],function e(t){function a(e,t){this._defs=e;this._enableGhostEffect=t;this._glossyIds=[]}a.prototype.rgba=function(e,t,a,i,r){var s={r:e,g:t,b:a,a:i,toHex:function(){return d3.rgb(s.r,s.g,s.b).toString()},toString:function(){if(s.a<=1&&r===true){return"rgba("+s.r+","+s.g+","+s.b+","+s.a+")"}else if(s.a<1){return"rgba("+s.r+","+s.g+","+s.b+","+s.a+")"}else{return s.toHex()}}};return s};a.prototype.color2rgba=function(e,t){var a=d3.rgb(0,0,0),i=1,r;if(t){i=t;r=true}if(e!=null&&typeof e==="object"){if(e.rgb){a=e.rgb()}else{a=e}}else if(typeof e==="string"){e=e.toLowerCase();var s,o,n;if(e.indexOf("rgba")>=0){s=e.substring(e.indexOf("(")+1);o=s.lastIndexOf(",");n=s.indexOf(")");if(o>=0&&n>=0){var l="rgb("+s.substring(0,o)+")";i=parseFloat(s.substring(o+1,n));a=d3.rgb(l)}}else if(e.indexOf("hsla")>=0){s=e.substring(e.indexOf("(")+1);o=s.lastIndexOf(",");n=s.indexOf(")");if(o>=0&&n>=0){var u="hsl("+s.substring(0,o)+")";i=parseFloat(s.substring(o+1,n));a=d3.hsl(u).rgb()}}else if(e.indexOf("hsl")>=0){a=d3.hsl(e).rgb()}else if(e.indexOf("#")>=0){var d,h,p;if(e.length===4){d=e.charAt(1);d+=d;h=e.charAt(2);h+=h;p=e.charAt(3);p+=p}else if(e.length===7){d=e.substring(1,3);h=e.substring(3,5);p=e.substring(5,7)}d=parseInt(d,16);h=parseInt(h,16);p=parseInt(p,16);if(isNaN(d)||isNaN(h)||isNaN(p)){d=0;h=0;p=0}a=d3.rgb(d,h,p)}else{a=d3.rgb(e)}}return this.rgba(a.r,a.g,a.b,i,r)};a.prototype.rgba2gray=function(e){var t=e.r,a=e.g,i=e.b,r;if(t===a&&a===i){r=Math.round(t+(255-t)*.6)}else{r=Math.round((t*299+a*587+i*114+500)/1e3)}return this.rgba(r,r,r,e.a)};function i(e,t){var a=e.r,i=e.g,r=e.b,s,o,n;if(t>=0){s=Math.round(a+(255-a)*t/100);o=Math.round(i+(255-i)*t/100);n=Math.round(r+(255-r)*t/100)}else{s=Math.round(a*(100+t)/100);o=Math.round(i*(100+t)/100);n=Math.round(r*(100+t)/100)}return this.rgba(s,o,n,e.a)}function r(e,t,a,r){var s=a.toHex();var o=i.call(this,a,50).toHex();var n=i.call(this,a,-30).toHex();var l=e.append("radialGradient");var u=l[0][0];u.setAttribute("id",t);u.setAttribute("cx",0);u.setAttribute("cy",0);u.setAttribute("r",r);u.setAttribute("fx",0);u.setAttribute("fy",0);u.setAttribute("gradientUnits","userSpaceOnUse");l.append("stop").attr("stop-opacity",a.a).attr("offset",0).attr("stop-color",o);l.append("stop").attr("stop-opacity",a.a).attr("offset",.9).attr("stop-color",s);l.append("stop").attr("stop-opacity",a.a).attr("offset",1).attr("stop-color",n)}function s(e,t,a){var r=a.toHex();var s=i.call(this,a,10).toHex();var o=i.call(this,a,60).toHex();var n=e.append("radialGradient");var l=n[0][0];l.setAttribute("id",t);l.setAttribute("cx","50%");l.setAttribute("cy","50%");l.setAttribute("r","50%");l.setAttribute("fx","25%");l.setAttribute("fy","25%");l.setAttribute("gradientUnits","userSpaceOnUse");n.append("stop").attr("stop-opacity",a.a).attr("offset",0).attr("stop-color",o);n.append("stop").attr("stop-opacity",a.a).attr("offset",.8).attr("stop-color",s);n.append("stop").attr("stop-opacity",a.a).attr("offset",1).attr("stop-color",r)}function o(e,t,a){var r=a.toHex();var s=i.call(this,a,10).toHex();var o=i.call(this,a,80).toHex();var n=e.append("radialGradient");var l=n[0][0];l.setAttribute("id",t);l.setAttribute("cx","50%");l.setAttribute("cy","50%");l.setAttribute("r","50%");l.setAttribute("fx","50%");l.setAttribute("fy","20%");n.append("stop").attr("stop-opacity",a.a).attr("offset",0).attr("stop-color",o);n.append("stop").attr("stop-opacity",a.a).attr("offset",.7).attr("stop-color",s);n.append("stop").attr("stop-opacity",a.a).attr("offset",.9).attr("stop-color",r);n.append("stop").attr("stop-opacity",a.a).attr("offset",1).attr("stop-color",r)}function n(e,t,a,r){var s=i.call(this,a,30).toHex();var o=i.call(this,a,50).toHex();var n=i.call(this,a,-10).toHex();var l=i.call(this,a,10).toHex();var u=e.append("svg:linearGradient").attr("id",t).attr("x1","0%").attr("y1","0%");if(r==="horizontal"){u.attr("y2","0%").attr("x2","100%")}else{u.attr("y2","100%").attr("x2","0%")}u.append("stop").attr("stop-opacity",a.a).attr("offset",0).attr("stop-color",s);u.append("stop").attr("stop-opacity",a.a).attr("offset",.2).attr("stop-color",o);u.append("stop").attr("stop-opacity",a.a).attr("offset",.8).attr("stop-color",n);u.append("stop").attr("stop-opacity",a.a).attr("offset",1).attr("stop-color",l)}function l(e,t,a,r){var s=i.call(this,a,50).toHex();var o=i.call(this,a,-10).toHex();var n=e.append("svg:linearGradient").attr("id",t);switch(r){case"LeftRight":n.attr("x1","0%").attr("y1","0%").attr("y2","0%").attr("x2","100%");break;case"BottomUp":n.attr("x1","0%").attr("y1","100%").attr("y2","0%").attr("x2","0%");break;case"RightLeft":n.attr("x1","100%").attr("y1","0%").attr("y2","0%").attr("x2","0%");break;case"TopDown":n.attr("x1","0%").attr("y1","0%").attr("y2","100%").attr("x2","0%");break;default:n.attr("x1","0%").attr("y1","0%").attr("y2","0%").attr("x2","100%")}n.append("stop").attr("stop-opacity",a.a).attr("offset",0).attr("stop-color",o);n.append("stop").attr("stop-opacity",a.a).attr("offset",1).attr("stop-color",s)}function u(e,t,a,r){var s=i.call(this,a,50).toHex();var o=i.call(this,a,-10).toHex();var n=e.append("svg:linearGradient").attr("id",t).attr("x1","0%").attr("y1","100%").attr("y2","0%").attr("x2","100%");n.append("stop").attr("stop-opacity",a.a).attr("offset",0).attr("stop-color",o);n.append("stop").attr("stop-opacity",a.a).attr("offset",1).attr("stop-color",s)}function d(e,t,a,r){var s=i.call(this,a,50).toHex();var o=i.call(this,a,-30).toHex();var n=e.append("svg:linearGradient").attr("id",t).attr("x1","0%").attr("y1","100%").attr("y2","0%").attr("x2","100%");n.append("stop").attr("stop-opacity",a.a).attr("offset",0).attr("stop-color",o);n.append("stop").attr("stop-opacity",a.a).attr("offset",1).attr("stop-color",s)}function h(e,t,a,i){var r=e.append("svg:linearGradient").attr("id",t);if(i==="horizontal"){r.attr("x1","100%").attr("y1","0%").attr("x2","0%").attr("y2","0%")}else{r.attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%")}r.append("stop").attr("stop-opacity",a.a).attr("offset",0).attr("stop-color","#ffffff");r.append("stop").attr("stop-opacity",a.a).attr("offset",1).attr("stop-color",a.toHex())}function p(e){if(e.drawingEffect!=="glossy"){return}for(var t=0;t<this._glossyIds.length;t++){var a=this._glossyIds[t].parameter;if(a["fillColor"]===e["fillColor"]&&a["direction"]===e["direction"]){if(a["graphType"]==="sector"&&e["graphType"]==="sector"){if(a.radius===e.radius){return this._glossyIds[t].id}}else if(a["graphType"]===e["graphType"]){return this._glossyIds[t].id}}}}function c(e){var a;if(e.drawingEffect==="glossy"){if(e.graphType==="line"){a=null}else{a=e.drawingEffect+t.guid();this._glossyIds.push({id:a,parameter:{fillColor:e.fillColor,direction:e.direction,graphType:e.graphType,radius:e.radius}})}}return a}a.prototype.register=function(e,t){var a=e.fillColor;if(typeof a==="string"){if(a.toLowerCase()==="transparent"||a.toLowerCase()==="none"){return a}}var i=this.color2rgba(a,t);if(this._enableGhostEffect){i=this.rgba2gray(i)}var f=p.call(this,e);if(f){return"url(#"+f+")"}f=c.call(this,e);if(!f){return i.toString()}var m=this._defs.select("#"+f);if(m.empty()){if(e.drawingEffect==="glossy"){switch(e.graphType){case"background":h.call(this,this._defs,f,i,e.direction);break;case"sector":r.call(this,this._defs,f,i,e.radius);break;case"3dSector":s.call(this,this._defs,f,i);break;case"cubeTop":l.call(this,this._defs,f,i,e.direction);break;case"cubeSide":u.call(this,this._defs,f,i);break;case"sectorSide":d.call(this,this._defs,f,i);break;case"circle":o.call(this,this._defs,f,i,e.direction);break;case"triangle-up":case"triangle-down":n.call(this,this._defs,f,i,"vertical");break;case"triangle-left":case"triangle-right":n.call(this,this._defs,f,i,"horizontal");break;case"rectangle":case"diamond":case"cross":case"star":case"intersection":n.call(this,this._defs,f,i,e.direction);break;default:n.call(this,this._defs,f,i,e.direction);break}}else{return i.toString()}}return"url(#"+f+")"};a.prototype.container=function(e){if(!arguments.length){return this._defs}this._defs=e};a.prototype.ghostEffect=function(e){if(!arguments.length){return this._enableGhostEffect}this._enableGhostEffect=e};a.prototype.destroy=function(){this._defs=null;this._glossyIds=null};return a});define("sap/viz/modules/DivContainer",["sap/viz/base/utils/oo","sap/viz/modules/BaseContainer","sap/viz/util/EffectManager"],function e(t,a,i){var r=function(e,t){r.superclass.constructor.apply(this,arguments);this._effectManager=t.effectManager=new i;this._div_container=null};t.extend(r,a);r.prototype.drawBackground=function(e){};r.prototype.container=function(e){if(!arguments.length){return this._div_container}this._div_container=e;if(this._effectManager){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");var a=document.createElementNS("http://www.w3.org/2000/svg","defs");t.appendChild(a);this._div_container.appendChild(t);this._effectManager.container(d3.select(a))}return this};r.prototype.destroy=function(){r.superclass.destroy.apply(this,arguments);this._div_container=null};return r});define("sap/viz/modules/manifests/BaseContainer",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants"],function e(t,a){var i={id:"sap.viz.modules.basecontainer",type:a.Type.Container,abstract:true,name:"BaseContainer",renderto:a.RenderTo.SVG,description:"Represents the abstract base container",properties:{layout:{name:"layout",description:"Settings for the layout of the root container",supportedValueType:"Object",supportedValues:{adjustPolicy:{name:"adjustPolicy",supportedValueType:"String",defaultValue:undefined,description:"Indicates the layout adjust policy",isExported:false},padding:{name:"padding",supportedValueType:"PositiveInt",defaultValue:24,description:"Set the universal padding value. This single value is applied to all sides of the chart. Individual settings for each edge are also supported.",example:"<a href='"+a.DocExample.SnippetUrl+"4609' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},paddingTop:{name:"paddingTop",supportedValueType:"PositiveInt",defaultValue:undefined,description:"Set the padding value for the top side",example:"<a href='"+a.DocExample.SnippetUrl+"4609' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},paddingLeft:{name:"paddingLeft",supportedValueType:"PositiveInt",defaultValue:undefined,description:"Set the padding value for the left side",example:"<a href='"+a.DocExample.SnippetUrl+"4609' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},paddingRight:{name:"paddingRight",supportedValueType:"PositiveInt",defaultValue:undefined,description:"Set the padding value for the right side",example:"<a href='"+a.DocExample.SnippetUrl+"4609' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},paddingBottom:{name:"paddingBottom",supportedValueType:"PositiveInt",defaultValue:undefined,description:"Set the padding value for the bottom side",example:"<a href='"+a.DocExample.SnippetUrl+"4609' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},vgap:{name:"vgap",supportedValueType:"PositiveInt",defaultValue:8,description:"Vertical gap value between UI components",isExported:false},hgap:{name:"hgap",supportedValueType:"PositiveInt",defaultValue:8,description:"Horizontal gap value between UI components",isExported:false},hideAxisTitleFirst:{name:"hideAxisTitleFirst",supportedValueType:"Boolean",defaultValue:true,description:"Hide axis title firstly if the space is limited.",isExported:false}}}},events:{selectData:a.Event.SelectData.desc,deselectData:a.Event.DeSelectData.desc,showTooltip:a.Event.TooltipShow.desc,hideTooltip:a.Event.TooltipHide.desc},configure:null};var r={viz:[],module:[i],feeds:[]};return r});define("sap/viz/modules/manifests/DivContainer",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/DivContainer","sap/viz/modules/manifests/BaseContainer"],function e(t,a,i,r){var s={id:"sap.viz.modules.divcontainer",base:"sap.viz.modules.basecontainer",renderto:a.RenderTo.DIV,name:"DivContainer",description:"Settings for the modular unit of the div container.",fn:i};var o={viz:[],module:[s].concat(r.module),feeds:[].concat(r.feeds)};return o});define("sap/viz/base/utils/log/LogUtil",["sap/viz/base/Logger","exports"],function e(t){var a={profiling:function(e){if(window&&window.performance&&window.performance.memory){var a=window.performance.memory;e="["+a.usedJSHeapSize+"]["+a.totalJSHeapSize+"]["+a.jsHeapSizeLimit+"]"+e}t.debug(e,"PROFILING")},context:function(e){if(window&&window.navigator){e="["+window.navigator.userAgent+"]"+e}t.debug(e,"CONTEXT")}};return a});define("sap/viz/modules/rootContainer",["sap/viz/base/utils/oo","sap/viz/modules/BaseContainer","sap/viz/base/utils/log/LogUtil","sap/viz/util/EffectManager","sap/viz/config"],function e(t,a,i,r,s){var o=function(e,t){this._rc_effectManager=new r;t.effectManager=this._rc_effectManager;o.superclass.constructor.apply(this,arguments);this._rc_container=null};t.extend(o,a);o.prototype.container=function(e){if(!arguments.length){return this._rc_container}this._rc_container=e;return this};o.prototype.data=function(e){var t=o.superclass.data.apply(this,arguments);if(!arguments.length){return t}if(this._rc_effectManager&&this._isFlatTable()){this._rc_effectManager.ghostEffect(this._data.dataset.hasFakeData())}else if(!this._isFlatTable()&&this._rc_effectManager&&this._convert2MultiAxesDataAdapter()){this._rc_effectManager.ghostEffect(this._data.fakeData())}return this};o.prototype.parent=function(e){var t=o.superclass.parent.apply(this,arguments);if(!arguments.length){return t}if(this._rc_effectManager){this._rc_effectManager.container(this._parentNode.append("svg:defs"))}return this};o.prototype.destroy=function(){o.superclass.destroy.apply(this,arguments);this._rc_container=null;if(this._rc_effectManager&&this._rc_effectManager.destroy){this._rc_effectManager.destroy()}};return o});define("sap/viz/modules/manifests/RootContainer",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/rootContainer","sap/viz/modules/manifests/BaseContainer"],function e(t,a,i,r){var s={id:"sap.viz.modules.rootContainer",base:"sap.viz.modules.basecontainer",type:a.Type.Container,name:"rootContainer",description:"Settings for the root container",fn:i};var o={viz:[],module:[s].concat(r.module),feeds:[].concat(r.feeds)};return o});define("sap/viz/modules/manifests/layout/Base",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants"],function e(t,a){var i={abstract:true,id:"sap.viz.modules.layout.base",type:a.Type.Scientific.Layout,renderto:a.RenderTo.NONE,name:"Abstract Layout",description:"Abstract layout algorithm",properties:{},configure:null,fn:null};var r={viz:[],module:[i],feeds:[]};return r});define("sap/viz/modules/manifests/layout/Dock",["sap/viz/modules/manifests/Module","sap/viz/modules/layout/dock","sap/viz/modules/manifests/layout/Base"],function e(t,a,i){var r={id:"sap.viz.modules.layout.dock",name:"dock",base:"sap.viz.modules.layout.base",description:"The dock layout algorithm",properties:{},configure:null,fn:a};var s={viz:[],module:[r].concat(i.module),feeds:[].concat(i.feeds)};return s});define("sap/viz/modules/layout/stack",[],function e(){function t(e,t){return e.order-t.order}function a(e){return e.size()}function i(e){return e.order}var r=function(){var e=t,r=a,s=i,o=-1,n="right",l=0,u=0,d=0;function h(){var e=arguments[0].slice().sort(t),a=arguments[1],i={},r=false,s=p(e);var o=0,h,c=s.availableSize,f=s.referenceSize,m=s.referenceMinSizes,_=s.maxSizes,g=s.minSizes,v={width:0,height:0},y,b;if(d3.sum(_)<=c){r=true}e.forEach(function(e,t){var a={x:0,y:0};y=_[t];b=g[t];if(t>0){o=o+l}if(n==="top"||n==="bottom"){a.x=o}else{a.y=o}if(r&&m[t]<f){o=o+y;h=y}else{if(c<b||m[t]-f>1){e.module.width(0).height(0);return a}else if(c>y){o=o+y;h=y;c=c-y}else{o=o+c;h=c;c=0}}if(n==="top"||n==="bottom"){e.module.height(d).width(h);v.width=h+v.width;v.height=d}else{e.module.width(u).height(h);v.height=h+v.height;v.width=u}i[e.module.alias]=a});return i}h.sort=function(t){if(!arguments.length){return e}e=t;return h};h.size=function(e){if(!arguments.length){return r}r=e;return h};h.gravity=function(e){if(!arguments.length){return o}o=e;return h};h.order=function(e){if(!arguments.length){return s}s=e;return h};h.width=function(e){if(!arguments.length){return u}u=e;return h};h.height=function(e){if(!arguments.length){return d}d=e;return h};h.position=function(e){if(!arguments.length){return n}n=e;return h};h.spacing=function(e){if(!arguments.length){return l}l=e;return h};h.data=function(){return h};h.properties=function(){return h};var p=function(e){var t,a,i=[],s=[],o,l=[];if(n==="top"||n==="bottom"){t=u;a=d;e.forEach(function(e){o=r(e);i.push(o.maxWidth);s.push(o.minWidth);l.push(o.minHeight)})}else{t=d;a=u;e.forEach(function(e){o=r(e);i.push(o.maxHeight);s.push(o.minHeight);l.push(o.minWidth)})}return{availableSize:t,referenceSize:a,maxSizes:i,minSizes:s,referenceMinSizes:l}};return h};return r});define("sap/viz/modules/legend",["jquery","sap/viz/modules/Constants","sap/viz/modules/manifests/Module","sap/viz/util/ignite","sap/viz/util/append","sap/viz/base/utils/Objects","sap/viz/modules/dispatch","sap/viz/modules/layout/stack"],function e(t,a,i,r,s,o,n,l){var u=function(e,l){var u=0,d=0,h=0,p=0,c={},f=e.props(null),m={},_={},g=null,v={},y={},b=n("relayout","initialized"),x={},A=false;var M="legendGroup",S=0;function z(e,n,u){var d={};t.each(u.modules,function(t,u){if(u===null){return}var h=u.data?e.createDataAdapterForModule(u.data):e,p=i.get(u.id).type;d[t]=r(u.id,l,"v-m-"+t);d[t].alias=t;if(t!=="layout"){y[t]=s.apply(g,["g",{class:"v-m-"+t}])}if(p!==a.Type.Container){d[t].data(h).properties(w(n[M],o.extend(true,{},u.configure?u.configure.properties:{},u.configure?n[u.configure.propertyCategory]:{})));if(d[t].parent){d[t].parent(y[t])}}});A=true;return d}function D(){var a=v.layout,i=[],r=c.legendGroup?c.legendGroup.layout:e.props().layout,s="left",o={};a.width(u).height(d).gravity(-1).spacing(S).position(r.position).size(function(e){return e.module.getPreferredSize()}).sort(function(e,t){return e.order-t.order});t.each(_.modules,function(e,t){if(t===null){return}if(!t.configure||!t.configure.properties||!t.configure.properties.layout){return}if(t.configure.properties.layout){i.push({module:v[e],order:t.configure.properties.layout.order})}});o=a(i,s);t.each(o,function(e,t){y[e].attr("transform","translate("+t.x+","+t.y+")")})}function E(e){e.each(function(e){D();t.each(v,function(e,t){if(e!=="layout"){y[e].call(t)}})});b.initialized()}E.width=function(e){if(!arguments.length){return u}u=e;for(var t in v){if(v.hasOwnProperty(t)){v[t].width(e)}}return E};E.height=function(e){if(!arguments.length){return d}d=e;for(var t in v){if(v.hasOwnProperty(t)){v[t].height(e)}}return E};E.size=function(e){if(!arguments.length){return{width:u,height:d}}u=e.width;d=e.height;return E};E.properties=function(e){if(!arguments.length){return f}c=t.extend(true,{},c,e);if(c[M]){o.extend(true,f,c[M])}t.each(v,function(e,t){if(_.modules[e].configure){t.properties(w(c[M],c[_.modules[e].configure.propertyCategory]))}});if(!t.isEmptyObject(_)&&!t.isEmptyObject(m)&&!A){v=z(m,c,_)}return E};E.config=function(e){if(!arguments.length){return _}_=e;if(!t.isEmptyObject(c)&&!t.isEmptyObject(m)&&!A){v=z(m,c,_)}return E};E.dispatch=function(e){if(!arguments.length){return b}b=e;return E};E.data=function(e){if(!arguments.length){return m}m=e;t.each(v,function(e,t){if(_.modules[e].data){t.data(m.createDataAdapterForModule(_.modules[e].data))}else{t.data(m)}});if(!t.isEmptyObject(_)&&!t.isEmptyObject(c)&&!A){v=z(m,c,_)}return E};E.parent=function(e){if(!arguments.length){return g}g=e;return E};E.recharge=function(e){if(!arguments.length){return x}x=e;return E};E.modules=function(e){if(!arguments.length){return v}v=e;return E};E.maxHeight=function(e){if(!arguments.length){return p}p=e;return E};E.maxWidth=function(e){if(!arguments.length){return h}h=e;return E};E.getPreferredSize=function(){var a=[],i=[],r=[],s=[];t.each(v,function(e,t){if(e==="layout"){return}var o=t.getPreferredSize();a.push(o.minWidth);r.push(o.minHeight);i.push(o.maxWidth);s.push(o.maxHeight)});var o={width:d3.min(a),height:d3.min(r)},n={width:d3.max(i),height:d3.max(s)};var l=c.legendGroup?c.legendGroup.layout:e.props().layout,u,d=0;u=l.position;if(u==="top"||u==="bottom"){for(d=0;d<r.length;d++){if(r[d]>p){n.height=d3.min(s)}}}else{for(d=0;d<a.length;d++){if(a[d]>h){n.width=d3.min(i)}}}return{minWidth:o.width,maxWidth:n.width,minHeight:o.height,maxHeight:n.height}};E.destroy=function(){y=null;g=null;m=null;b.on("relayout",null);b.on("initialized",null);if(l){l.destroy();l=null}};var w=function(e,t){if(e&&e.layout&&e.layout.position){if(t===undefined){t={}}t.position=e.layout.position}return t};return E};return u});define("sap/viz/modules/manifests/Legend",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/legend"],function e(t,a,i){var r={id:"sap.viz.modules.legend",type:a.Type.Container,name:"legend",description:"Settings for the legend area",properties:{layout:{name:"layout",supportedValueType:"Object",supportedValues:{position:{name:"position",supportedValueType:"String",supportedValues:["top","bottom","right","left"],defaultValue:"right",description:"Set the position of the legend area",example:"<a href='"+a.DocExample.SnippetUrl+"4945' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},priority:{name:"priority",supportedValueType:"Int",defaultValue:1,description:"Set the priority of the position for the legend area",isExported:false}},description:"Settings for the layout of the legend area"}},css:{},configure:null,fn:i};var s={viz:[],module:[r],feeds:[]};return s});define("sap/viz/util/DrawUtil",["sap/viz/base/utils/TypeUtils"],function e(t){var a={};a.DEFAULT_OPACITY=.8;a.createMarkerData=function(e){var t;var a=e.borderWidth/2;switch(e.type){case"circle":t="M"+(-e.rx-a)+",0 A"+(e.rx+a)+","+(e.ry+a)+" 0 1,0 "+(e.rx+a)+",0 A";t+=e.rx+a+","+(e.ry+a)+" 0 1,0 "+(-e.rx-a)+",0z";break;case"cross":t="M"+(-e.rx-a)+","+(-e.ry/3-a)+"H"+(-e.rx/3-a)+"V"+(-e.ry-a)+"H"+(e.rx/3+a);t+="V"+(-e.ry/3-a)+"H"+(e.rx+a)+"V"+(e.ry/3+a)+"H"+(e.rx/3+a);t+="V"+(e.ry+a)+"H"+(-e.rx/3-a)+"V"+(e.ry/3+a)+"H"+(-e.rx-a)+"Z";break;case"diamond":t="M0,"+(-e.ry-a)+"L"+(e.rx+a)+",0"+" 0,"+(e.ry+a)+" "+(-e.rx-a)+",0"+"Z";break;case"square":t="M"+(-e.rx-a)+","+(-e.ry-a)+"L"+(e.rx+a)+",";t+=-e.ry-a+"L"+(e.rx+a)+","+(e.ry+a)+"L"+(-e.rx-a)+","+(e.ry+a)+"Z";break;case"triangle-down":case"triangleDown":t="M0,"+(e.ry+a)+"L"+(e.rx+a)+","+-(e.ry+a)+" "+-(e.rx+a)+","+-(e.ry+a)+"Z";break;case"triangle-up":case"triangleUp":t="M0,"+-(e.ry+a)+"L"+(e.rx+a)+","+(e.ry+a)+" "+-(e.rx+a)+","+(e.ry+a)+"Z";break;case"triangle-left":case"triangleLeft":t="M"+-(e.rx+a)+",0L"+(e.rx+a)+","+(e.ry+a)+" "+(e.rx+a)+","+-(e.ry+a)+"Z";break;case"triangle-right":case"triangleRight":t="M"+(e.rx+a)+",0L"+-(e.rx+a)+","+(e.ry+a)+" "+-(e.rx+a)+","+-(e.ry+a)+"Z";break;case"intersection":t="M"+(e.rx+a)+","+(e.ry+a)+"L"+(e.rx/3+a)+",0L"+(e.rx+a)+","+-(e.ry+a)+"L";t+=e.rx/2-a+","+-(e.ry+a)+"L0,"+(-e.ry/3-a)+"L"+(-e.rx/2+a)+","+-(e.ry+a)+"L";t+=-(e.rx+a)+","+-(e.ry+a)+"L"+-(e.rx/3+a)+",0L"+-(e.rx+a)+","+(e.ry+a)+"L";t+=-e.rx/2+a+","+(e.ry+a)+"L0,"+(e.ry/3+a)+"L"+(e.rx/2-a)+","+(e.ry+a)+"Z";break;case"squareWithRadius":var i=e.rx;var r=i-3;t="M0,"+-i+"L"+-r+","+-i+"Q"+-i+","+-i+" "+-i+","+-r+"L"+-i+","+r+"Q"+-i+","+i+" "+-r+","+i;t+="L"+r+","+i+"Q"+i+","+i+" "+i+","+r+"L"+i+","+-r+"Q"+i+","+-i+" "+r+","+-i+"Z";break;case"vbar":t="M"+-e.rx/3+","+-e.ry+"H"+e.rx/3+"V"+e.ry+"H"+-e.rx/3+"Z";break}return t};function i(e){var t;switch(e.type){case"circle":t="M0,0A0,0 0 1,0 0,0A0,0 0 1,0 0,0z";break;case"cross":t="M0,0H0V0H0V0H0V0H0V0H0V0H0Z";break;case"diamond":t="M0,0L0,0 0,0 0,0Z";break;case"triangle-down":case"triangle-up":case"triangle-left":case"triangle-right":case"triangleDown":case"triangleUp":case"triangleLeft":case"triangleRight":t="M0,0L0,0 0,0Z";break;case"intersection":t="M0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0Z";break;case"squareWithRadius":t="M0,0L0,0Q0,0 0,0L0,0Q0,0 0,0L0,0Q0,0 0,0L0,0Q0,0 0,0Z";break;case"square":t="M0,0L0,0L0,0L0,0Z";break;default:t="M0,0L0,0L0,0L0,0Z";break}return t}a.createElements=function(e,t){return e.append("path").attr("class",t.className)};a.createElement=function(e,t,i){var r=e.append("path").attr("class",t.className);t.node=r;a.drawGraph(t,i);return r};a.drawGraph=function(e,t,i){return a.updateGraph(e,t,i,a.createGraph(e))};a.createGraph=function(e){var t={type:e.graphType,rx:Math.round(e.rx),ry:Math.round(e.ry),borderWidth:e.borderWidth?Math.round(e.borderWidth):0};return a.createMarkerData(t)};a.updateGraph=function(e,t,a,r){var s={type:e.graphType,rx:Math.round(e.rx),ry:Math.round(e.ry),borderWidth:e.borderWidth?Math.round(e.borderWidth):0};var o;if(e.visibility==="hidden"){o=0}else{o=1}var n;if(e.fillId){n=e.fillId}else{n=t?t.register(e,a):e.fillColor}if(e.animateTime&&e.animateTime>0){e.node.each(function(){this.setAttribute("class",e.className);if(!this.getAttribute("fill")){this.setAttribute("fill",n)}this.setAttribute("stroke-width",e.borderWidth);this.setAttribute("stroke",e.borderColor);this.setAttribute("opacity",o);this.setAttribute("stroke-opacity",e.strokeOpacity);if(!this.getAttribute("d")){this.setAttribute("d",i(s))}});var l=e.node.transition().duration(e.animateTime).attr("fill",n).each("end",e.endFunc);if(r){l.attr("d",r)}}else{e.node.each(function(){this.setAttribute("class",e.className);this.setAttribute("fill",n);if(n!=="transparent"){this.setAttribute("stroke-width",e.borderWidth);this.setAttribute("stroke",e.borderColor);if(!a){this.setAttribute("opacity",o)}if(e.fillOpacity!==undefined){this.setAttribute("fill-opacity",e.fillOpacity)}}this.setAttribute("stroke-opacity",e.strokeOpacity);if(r){this.setAttribute("d",r)}})}return e.node};a.rgb2Hex=function(e){return"#"+((1<<24)+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1)};a.hex2Rgb=function(e){var t=parseInt(e.slice(1),16);return{r:t>>16,g:t>>8&255,b:t&255}};a.highlightProperties={attributeOpacityName:"fill-opacity",attributeColorName:"fill",strokeWidth:1,selectedOpacity:1,unSelectedOpacity:.4,recoveryOldAttributes:false};a.resetHighlightProperties=function(){a.highlightProperties={};a.highlightProperties.attributeOpacityName="fill-opacity";a.highlightProperties.attributeColorName="fill";a.highlightProperties.strokeWidth=1;a.highlightProperties.selectedOpacity=1;a.highlightProperties.unSelectedOpacity=.4;a.highlightProperties.recoveryOldAttributes=false};a.getNodeAttributeValue=function(e,t){return e.getAttribute(t)};a.getColorString=function(e,t){var i=t?t:a.highlightProperties.attributeColorName;var r=e.getAttribute(i);if(r.indexOf("url")!==-1){var s=r.substring(r.indexOf("#"),r.indexOf(")"));var o=d3.selectAll(s);if(!o.empty()){var n=o.selectAll("stop");if(!n.empty()){r=n[0][n[0].length-1].getAttribute("stop-color")}}}return r};a.colorLinerTransform=function(e,t,a){var i=e.color2rgba(a);var r=1,s=0;r=t.factor;s=t.constant;return{r:Math.round(i.r*r+s),g:Math.round(i.g*r+s),b:Math.round(i.b*r+s)}};a.nodeDecoration=function(e,t){if(e&&t){for(var a in t){if(t.hasOwnProperty(a)){e.setAttribute(a,t[a])}}}};a.nodeHighlight=function(e,t,i,r,s){var o=a.getColorString(e,a.highlightProperties.attributeColorName);if(r){if(!a.highlightProperties.hoverBorderColor&&!a.highlightProperties.selectedBorderColor){var n=a.colorLinerTransform(r,t,o);e.setAttribute("stroke",a.rgb2Hex(n))}else{if(s){e.setAttribute("stroke",a.highlightProperties.hoverBorderColor)}else{e.setAttribute("stroke",a.highlightProperties.selectedBorderColor)}}e.setAttribute("stroke-width",i);if(!s){e.setAttribute(a.highlightProperties.attributeOpacityName,a.highlightProperties.selectedOpacity)}}};a.nodesHighlight=function(e,i,r,s){if(!t.isArray(e)){e=[e]}for(var o=0;o<e.length;o++){if(s){a.nodeHighlight(e[o],i,a.highlightProperties.strokeWidth*2,r,s)}else{a.nodeHighlight(e[o],i,a.highlightProperties.strokeWidth,r,s)}}};a.nodesUnhighlight=function(e,i,r){if(!t.isArray(e)){e=[e]}for(var s=0;s<e.length;s++){if(i){e[s].setAttribute("stroke-width",a.highlightProperties.strokeWidth);if(a.highlightProperties.selectedBorderColor){e[s].setAttribute("stroke",a.highlightProperties.selectedBorderColor)}}else{if(a.highlightProperties.recoveryOldAttributes&&a.highlightProperties.recoveryPropsBag){for(var o in a.highlightProperties.recoveryPropsBag){if(a.highlightProperties.recoveryPropsBag.hasOwnProperty(o)){e[s].setAttribute(o,a.highlightProperties.recoveryPropsBag[o])}}}else{e[s].setAttribute("stroke","none");if(r){e[s].setAttribute(a.highlightProperties.attributeOpacityName,a.highlightProperties.selectedOpacity)}else{e[s].setAttribute(a.highlightProperties.attributeOpacityName,a.highlightProperties.unSelectedOpacity)}}}}};return a});define("sap/viz/util/ScrollBar",["sap/viz/base/utils/Objects","sap/viz/base/utils/TypeUtils","sap/viz/base/UADetector"],function e(t,a,i){var r=function(){this._props={contentSize:0,size:0,vertical:true,visibility:"visible",eventWrapper:undefined,style:{thumbSize:6,fill:"#a6a6a6",hoverFill:"#a6a6a6",opacity:1,padding:2,hasScrollingArea:false,scrollingArea:{fill:"#F7F7F7",opacity:1},isRoundCorner:true,useMinScrollbarSize:true},onScroll:function(){}},this._scrollPosition=0;this._factor=undefined;this._scrollbarWrapper=undefined;this._scrollbarSlotWrapper=undefined;this._startPos=undefined;this._maxScrollPosition=0;this._minFactor=1;this._contentStartPos=0;this._selection=undefined;this._isPressed=false;this._scrollbarSize=undefined;this._moveStep=0};r.prototype.render=function(e){this._selection=e;var t=e.selectAll("g");var a=this._props.style.thumbSize;if(t.empty()){t=e.append("g")}var r=t.selectAll("rect.v-m-scrollBar");var o=t.selectAll("rect.v-m-scrollBarSlot");if(this._props.style.hasScrollingArea&&o.empty()){o=t.append("rect").attr("class","v-m-scrollBarSlot").attr("fill",this._props.style.scrollingArea.fill).attr("opacity",this._props.style.scrollingArea.opacity).attr("visibility",this._props.visibility)}if(this._props.vertical){o.attr("width",a).attr("height",this._props.size)}else{o.attr("width",this._props.size).attr("height",a)}this._scrollbarSlotWrapper=o;if(r.empty()){r=t.append("rect").attr("class","v-m-scrollBar").attr("fill",this._props.style.fill).attr("opacity",this._props.style.opacity).attr("visibility",this._props.visibility);if(this._props.style.isRoundCorner){r.attr("rx",a/2).attr("ry",a/2)}}this._scrollbarWrapper=r;this._factor=this._props.size/this._props.contentSize;var n=this._factor*this._props.size;this._moveStep=n;this._maxScrollPosition=this._props.size-n;this._scrollPosition=-this._contentStartPos*this._factor;var l=100*(this._scrollPosition/(this._props.size-this._factor*this._props.size));if(l>100){this._contentStartPos=this._props.size-this._props.contentSize;this._scrollPosition=-this._contentStartPos*this._factor}if(this._props.style.useMinScrollbarSize){var u=this._props.style.thumbSize*2+this._props.style.padding*2;this._minFactor=1;if(n<u){this._minFactor=u/n;n=u;this._factor=n/this._props.size;this._maxScrollPosition=this._props.size-n;this._scrollPosition=-this._contentStartPos*this._factor/this._minFactor;l=100*(this._scrollPosition/(this._props.size-this._factor*this._props.size));if(l>100){this._contentStartPos=this._props.size-this._props.contentSize;this._scrollPosition=Math.min(this._maxScrollPosition,-this._contentStartPos*this._factor/this._minFactor)}}}this._scrollbarSize=n;if(this._props.vertical){r.attr("width",a).attr("height",n).attr("transform","translate("+this._props.style.padding+","+this._scrollPosition+")")}else{r.attr("width",n).attr("height",a).attr("transform","translate("+this._scrollPosition+","+this._props.style.padding+")")}if(i.isWindowsSurface()||i.isMobile()){return t}var d=this;var h=function(e){_.call(d,e);e.preventDefault();e.stopPropagation()};var p=function(e){m.call(d,e);if(window.removeEventListener!==undefined){window.removeEventListener("mousemove",h);window.removeEventListener("mouseup",p)}else{document.body.removeEventListener("mousemove",h);document.body.removeEventListener("mouseup",p)}e.preventDefault();e.stopPropagation()};r.on("mousedown",function(){f.call(d,d3.event);if(window.addEventListener!==undefined){window.addEventListener("mousemove",h);window.addEventListener("mouseup",p)}else{document.body.addEventListener("mousemove",h);document.body.addEventListener("mouseup",p)}}).on("mouseover",function(){g.call(d)}).on("mouseleave",function(){v.call(d)});o.on("click",function(){c.call(d,d3.event)});var c=function(e){d._startPos=0;var t=d._moveStep;var a=d._scrollbarWrapper.node().getBoundingClientRect();if(d._props.vertical){if(e.clientY<a.top){t=-t}}else{if(e.clientX<a.left){t=-t}}s.call(d,t)};var f=function(e){if(this._props.vertical){this._startPos=e.clientY}else{this._startPos=e.clientX}this._scrollbarWrapper.attr("fill",this._props.style.hoverFill);this._isPressed=true};var m=function(e){this._startPos=undefined;this._isPressed=false;if(e.target!==this._scrollbarWrapper.node()){this._scrollbarWrapper.attr("fill",this._props.style.fill)}};var _=function(e){if(this._startPos!==undefined){if(this._props.vertical){s.call(this,e.clientY-this._startPos);this._startPos=e.clientY}else{s.call(this,e.clientX-this._startPos);this._startPos=e.clientX}this._scrollbarWrapper.attr("visibility","visible")}};var g=function(){this._scrollbarWrapper.attr("fill",this._props.style.hoverFill)};var v=function(){if(!this._isPressed){this._scrollbarWrapper.attr("fill",this._props.style.fill)}};return t};r.prototype.setProperties=function(e){t.extend(true,this._props,e);return this};r.prototype.getProperties=function(){return this._props};r.prototype.destroy=function(){if(this._scrollbarWrapper){this._scrollbarWrapper.remove()}if(this._scrollbarSlotWrapper){this._scrollbarSlotWrapper.remove()}this._factor=undefined};r.prototype.scrollTo=function(e,t){if(e&&isNaN(e)){return}if(t){var a=t.moveType.indexOf("drag")<0?true:false;if(a){var i=this._scrollbarSize;switch(t.moveType){case"wheelmove":i*=.1;if(e<0){i=-i}break;case"leftarrow":case"uparrow":i*=.06;i=-i;break;case"rightarrow":case"downarrow":i*=.06;break}s.call(this,i)}else{s.call(this,e,t)}}else{s.call(this,e,t)}};r.prototype.setVisibility=function(e){this._scrollbarWrapper.attr("visibility",e);if(this._scrollbarSlotWrapper){this._scrollbarSlotWrapper.attr("visibility",e)}};r.prototype.resetPos=function(){this._startPos=undefined};var s=function(e,t){if(i.isMobile()){e*=this._factor/this._minFactor}var a=this._scrollPosition+e;if(a<0){a=0}else if(a>this._maxScrollPosition){a=this._maxScrollPosition}this._scrollPosition=a;if(this._props.vertical){this._scrollbarWrapper.attr("transform","translate("+this._props.style.padding+","+this._scrollPosition+")")}else{this._scrollbarWrapper.attr("transform","translate("+this._scrollPosition+", "+this._props.style.padding+")")}o.call(this,"onScroll",t)};var o=function(e,t){var a=-Math.round(this._scrollPosition*this._minFactor/this._factor),i=this._scrollPosition,r=100*(i/(this._props.size-this._factor*this._props.size));if(r===100){a=this._props.size-this._props.contentSize}this._contentStartPos=a;var s={start:a,thumbStart:i,startPct:r,option:t};this._props[e].call(this,s)};var n=function(){if(d3.event){return d3.event}else{return window.event}};return r});define("sap/viz/modules/legend/colorLegendArea",["sap/viz/base/utils/oo","sap/viz/modules/Base","sap/viz/util/TextUtils","sap/viz/base/utils/Objects","sap/viz/modules/dispatch","sap/viz/util/DrawUtil","sap/viz/base/utils/ObjectUtils","sap/viz/base/UADetector","sap/viz/util/ScrollBar"],function e(t,a,i,r,s,o,n,l,u){var d=30;var h=function(e){this._colorLA_width=400;this._colorLA_height=200;this._colorLA_contentSize=undefined;this._colorLA_valueLabelFont={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"12px",fontweight:"normal",color:"#333333"};this._colorLA_options={isHierarchy:undefined,position:"right",legendType:"ColorLegend"};this._colorLA_colorLabelSize=1;this._colorLA_shapes=[];this._colorLA_colors=[];this._colorLA_colorFeedLength=0;this._colorLA_shapeFeedLength=0;this._colorLA_wrap=undefined;this._colorLA_textHeight=20;this._colorLA_textWidth=80;this._colorLA_maxTextCount=12;this._colorLA_selectedItem=[];this._colorLA_isStyleChanged=true;this._colorLA_markerMargin={right:.5,bottom:.5,left:1,top:0};this._colorLA_relayout=true;this._colorLA_imageInfo={imageMode:false,imagePalette:[],radio:1};this._colorLA_startRow=0;this._colorLA_lastStartRow=0;this._colorLA_endRow=Infinity;this._colorLA_rowPosArr=[];this._colorLA_chartData={};this._colorLA_hieChartData=[];this._colorLA_isItemsOverflow=undefined;this._colorLA_bForceEllipsis=false;this._colorLA_endItemNum=undefined;this._colorLA_startItemNum=0;this._colorLA_firstOverFlowPos=undefined;this._colorLA_effectManager=null;this._colorLA_styleManager=e;this._colorLA_style={};this._colorLA_style.hovershadow=e.queryDefault("v-hovershadow");this._colorLA_style.clickedshadow="#808080";this._colorLA_magicMaxTextItemWidth=0;this._colorLA_scrollBar=undefined;this._colorLA_scrollBarSize=l.isMobile()?8:10;this._colorLA_scrollBarTimer=undefined;this._colorLA_scrollBarStartPos=undefined;this._colorLA_contentSize=0;this._colorLA_eachRowHeight=0;this._colorLA_pathID=n.guid()};t.extend(h,a);h.prototype.forceEllipsis=function(e){if(!arguments.length){return this._colorLA_bForceEllipsis}this._colorLA_bForceEllipsis=e;return this};h.prototype.render=function(e){this._colorLAfn_getThemeStyleDef();var t;if(this._colorLA_relayout){this._colorLAfn_cleanScrollBar();this._colorLA_wrap=undefined;this._colorLA_isItemsOverflow=false;this._colorLAfn_calculatePreferredSize({width:this._colorLA_width,height:this._colorLA_height});t=this._colorLAfn_getLabelData()}else{t=this._colorLAfn_getLabelData();this._colorLA_isItemsOverflow=false;if(t.length>0&&t.length<this._colorLA_chartData.length||this._colorLA_startItemNum>0){this._colorLA_isItemsOverflow=true}if(this._colorLA_isItemsOverflow===true){this._colorLAfn_calculatePreferredSize({width:this._colorLA_width,height:this._colorLA_height});t=this._colorLAfn_getLabelData()}}var a;if(this._colorLA_wrap===undefined){a=e.selectAll("g.v-legend-content");if(!a.empty()){a.remove()}a=e.append("g").attr("class","v-legend-content");this._colorLA_wrap=e}else{a=this._colorLA_wrap.selectAll("g.v-legend-content")}var i=a.selectAll("rect.v-indicatedRect");if(i.empty()){i=a.append("rect").attr("class","v-indicatedRect v-legend-item v-hovershadow").attr("visibility","hidden")}var r=this._colorLA_markerMargin.bottom*this._colorLA_textHeight,s;if(this._colorLA_isItemsOverflow){if(this._colorLAfn_isScrollable()){s=this._colorLA_width-this._colorLA_scrollBarSize+5}else{s=this._colorLA_width+5}}else{s=this._colorLA_width+10}i.attr("width",s).attr("x",-5).attr("y",-r/2);if(l.isMobile()&&!this._colorLA_options.isHierarchy&&this._colorLA_textHeight+r<d){i.attr("height",d).attr("y",(this._colorLA_textHeight-d)/2)}else{if(this._colorLAfn_isHorizontal()&&this._colorLAfn_isScrollable()){i.attr("height",this._colorLA_textHeight+10).attr("y",-5)}else{i.attr("height",this._colorLA_textHeight+r).attr("y",-r/2)}}var o=this._colorLA_styleManager.queryDefault("v-label");d3.select(a.node().parentNode).attr("font-family",o["font-family"]).attr("font-size",o["font-size"]).attr("font-weight",o["font-weight"]).attr("fill",o["fill"]).attr("font-style",o["font-style"]);var n=a.selectAll("g.v-row").data(t);n.exit().remove();var u=n.enter().append("g");n.attr("class",function(e,t){return"v-row ID_"+t});if(this._colorLA_options.legendType!=="BubbleColorLegend"&&this._colorLA_options.isHierarchy&&!this._colorLAfn_isHorizontal()){this._colorLAfn_renderHierarchicalLegend.call(this,t,n)}else{this._colorLAfn_renderNormalLegend.call(this,t,n)}u.select("rect").attr("class","v-eventRect");n.each(function(e,t){a.selectAll("rect.v-eventRect").attr("class",function(){return"v-eventRect v-legend-item ID_"+t})});var h=a.selectAll("rect.v-eventRect").data(t);h=a.selectAll("rect.v-eventRect");h.attr("height",this._colorLA_eachRowHeight).attr("fill","rgba(255, 255, 255, 0)");h.attr("transform","translate(0,"+(this._colorLA_textHeight-this._colorLA_eachRowHeight)/2+")");if(this._colorLAfn_isHorizontal()&&this._colorLAfn_isScrollable()){h.attr("height",this._colorLA_eachRowHeight+6)}if(this._colorLAfn_isHorizontal()){var p=(this._colorLA_colorLabelSize+this._colorLA_markerMargin.right)*this._colorLA_textHeight+this._colorLA_markerMargin.left*this._colorLA_textHeight/2;var c=this;h.attr("width",function(e){if(c._colorLA_options.isScrollable){return e.size.width+p}else{return c._colorLA_magicMaxTextItemWidth+p}})}else{if(this._colorLAfn_isScrollable()){h.attr("width",this._colorLA_width-this._colorLA_scrollBarSize)}else{h.attr("width",this._colorLA_width)}}var f=e.selectAll(".v-overflow");if((this._colorLA_isItemsOverflow||this._colorLA_bForceEllipsis)&&(t.length>0||this._colorLA_hieChartData.length>0)){if(f.empty()){f=e.append("g").attr("class","v-overflow")}if(this._colorLAfn_isScrollable()){this._colorLAfn_renderScrollable.call(this,f)}else{this._colorLAfn_renderEllipsis.call(this,f)}}else{if(!f.empty()){this._colorLAfn_cleanScrollBar();f.remove()}}this._colorLA_relayout=false};h.prototype.width=function(e){if(!arguments.length){return this._colorLA_width}this._colorLA_width=e;this._colorLA_relayout=true;this._colorLA_isItemsOverflow=false;return this};h.prototype.height=function(e){if(!arguments.length){return this._colorLA_height}this._colorLA_height=e;this._colorLA_relayout=true;this._colorLA_isItemsOverflow=false;return this};h.prototype.color=function(e){if(!arguments.length){return this._colorLA_colors}this._colorLA_colors=e;return this};h.prototype.shapes=function(e){if(!arguments.length){return this._colorLA_shapes}this._colorLA_shapes=e;return this};h.prototype.colorFeedLength=function(e){this._colorLA_colorFeedLength=e;return this};h.prototype.shapeFeedLength=function(e){this._colorLA_shapeFeedLength=e;return this};h.prototype.data=function(e){if(!arguments.length){return this._colorLA_chartData}this._colorLA_chartData=e;return this};h.prototype.imageInfo=function(e){if(!arguments.length){return this._colorLA_imageInfo}this._colorLA_imageInfo=e;this._colorLA_relayout=true;return this};h.prototype.properties=function(e){if(!arguments.length){return this._colorLA_options}if(this._colorLA_options.position!==e.position){this._colorLA_width=400;this._colorLA_height=200}r.extend(true,this._colorLA_options,e);if(this._colorLA_options.isScrollable===true){this._colorLA_options.isHierarchy=false}return this};h.prototype.hasData=function(){if(this._colorLA_chartData&&this._colorLA_chartData.length>0){return true}else{return false}};h.prototype.getPreferredSize=function(){this._colorLAfn_getThemeStyleDef();this._colorLA_startItemNum=0;return this._colorLAfn_calculatePreferredSize({width:this._colorLA_width,height:this._colorLA_height})};h.prototype.doLayout=function(e){return e};h.prototype.effectManager=function(e){if(!arguments.length){return this._colorLA_effectManager}this._colorLA_effectManager=e;return h.prototype};h.prototype.destroy=function(){if(this._colorLA_wrap){this._colorLA_wrap=null}this._colorLA_styleManager=null;this._colorLA_selectedItem=null;this._colorLA_effectManager=null};h.prototype.highlight=function(e){if(e.__data__){var t=this._colorLA_wrap.selectAll(".v-indicatedRect");var a=e.__data__.pos;if(a){t.attr("class","v-indicatedRect v-legend-item v-hovershadow").attr("visibility","visible").attr("fill",this._colorLA_style.hovershadow.fill);if(this._colorLAfn_isHorizontal()){var i=this._colorLA_magicMaxTextItemWidth+(this._colorLA_colorLabelSize+this._colorLA_markerMargin.right)*this._colorLA_textHeight+this._colorLA_markerMargin.left*this._colorLA_textHeight/2;if(this._colorLAfn_isScrollable()){i=e.__data__.size.width+(this._colorLA_colorLabelSize+this._colorLA_markerMargin.left)*this._colorLA_textHeight}else{t.attr("y",a.y-(this._colorLA_eachRowHeight-this._colorLA_textHeight)/2)}t.attr("x",a.x-4).attr("width",i)}else{t.attr("y",a.y-(this._colorLA_eachRowHeight-this._colorLA_textHeight)/2)}}}};h.prototype.unhighlight=function(e,t){if(this._colorLA_wrap){this._colorLA_wrap.selectAll(".v-indicatedRect").attr("visibility","hidden")}if(this._colorLA_scrollBar&&t){this._colorLA_scrollBar.resetPos()}};h.prototype.panStart=function(e){if(this._colorLAfn_isScrollable()){this._colorLA_scrollBarStartPos=this._colorLAfn_isHorizontal()?e.x:e.y;clearTimeout(this._colorLA_scrollBarTimer)}};h.prototype.panMove=function(e){if(this._colorLA_scrollBarStartPos===undefined){return}if(this._colorLAfn_isScrollable()&&this._colorLA_scrollBar){var t=0;if(this._colorLAfn_isHorizontal()){t=this._colorLA_scrollBarStartPos-e.x;this._colorLA_scrollBarStartPos=e.x}else{t=this._colorLA_scrollBarStartPos-e.y;this._colorLA_scrollBarStartPos=e.y}this._colorLA_scrollBar.scrollTo(t);this._colorLA_scrollBar.setVisibility("visible")}};h.prototype.panEnd=function(e){if(this._colorLAfn_isScrollable()){this._colorLA_scrollBarStartPos=undefined;var t=this;if(this._colorLA_scrollBar){this._colorLA_scrollBarTimer=setTimeout(function(){t._colorLA_scrollBar.setVisibility("hidden")},1e3)}}};h.prototype.selected=function(e){if(e.__data__){var t=this._colorLA_wrap.selectAll(".v-indicatedRect");var a=e.__data__.pos;if(a){t.attr("class","v-indicatedRect v-legend-item v-hovershadow-mousedown").attr("visibility","visible").attr("fill",this._colorLA_style.clickedshadow);if(this._colorLAfn_isHorizontal()){var i=this._colorLA_magicMaxTextItemWidth+(this._colorLA_colorLabelSize+this._colorLA_markerMargin.right)*this._colorLA_textHeight+this._colorLA_markerMargin.left*this._colorLA_textHeight/2;if(this._colorLAfn_isScrollable()){i=e.__data__.size.width+(this._colorLA_colorLabelSize+this._colorLA_markerMargin.left)*this._colorLA_textHeight}else{t.attr("y",a.y-(this._colorLA_eachRowHeight-this._colorLA_textHeight)/2)}t.attr("x",a.x-4).attr("width",i)}else{t.attr("y",a.y-(this._colorLA_eachRowHeight-this._colorLA_textHeight)/2)}}}};h.prototype._colorLAfn_cleanScrollBar=function(){if(this._colorLA_scrollBar){this._colorLA_scrollBar.destroy();var e=d3.select(this._colorLA_wrap.node().parentNode);if(e.selectAll("clipPath")){e.selectAll("clipPath").remove()}this._colorLA_wrap.attr("clip-path",null);this._colorLA_contentSize=0;this._colorLA_scrollBar=undefined}};h.prototype._colorLAfn_cleanTextEllipsis=function(){var e=this._colorLA_wrap.selectAll("text.v-itemsEllipsis");if(!e.empty()){e.remove()}};h.prototype._colorLAfn_renderEllipsis=function(e){var t=this;this._colorLAfn_cleanScrollBar();var a=e.selectAll("text.v-itemsEllipsis");if(a.empty()){a=e.append("text").attr("class","v-itemsEllipsis").text("...")}var i=(this._colorLA_colorLabelSize+this._colorLA_markerMargin.right)*this._colorLA_textHeight;a.attr("visibility",function(){var e="hidden";if(t._colorLA_isItemsOverflow||t._colorLA_bForceEllipsis){e="visible"}return e}).attr("dx",i).attr("dy",function(){return t._colorLA_firstOverFlowPos===undefined||t._colorLA_firstOverFlowPos>t._colorLA_height?t._colorLA_height:t._colorLA_firstOverFlowPos});e.attr("transform","translate(0, 0)")};h.prototype._colorLAfn_renderScrollable=function(e){this._colorLAfn_cleanTextEllipsis();if(this._colorLAfn_isHorizontal()){this._colorLAfn_renderHorizontalScrollable(e)}else{this._colorLAfn_renderVerticalScrollable(e)}};h.prototype._colorLAfn_renderVerticalScrollable=function(e){if(this._colorLA_scrollBar===undefined){this._colorLA_scrollBar=new u;var t=this;var a=this._colorLA_wrap.selectAll("g.v-legend-content");var i=this._colorLA_styleManager.query("v-scrollbarThumb");this._colorLAfn_setScrollBarForMobile();this._colorLA_scrollBar.setProperties({size:this._colorLA_height,contentSize:this._colorLA_contentSize,eventWrapper:[a],style:{fill:i.fill,opacity:i.opacity},onScroll:function(e){a.attr("transform","translate(0, "+e.start+")");if(t._colorLA_endItemNum<t._colorLA_chartData.length&&e.startPct===100){t._colorLA_lastStartRow=t._colorLA_startItemNum;t._colorLA_startItemNum=t._colorLA_endItemNum;t.render(t._colorLA_wrap)}}});this._colorLA_scrollBar.render(e);if(l.isMobile()&&this._colorLA_scrollBar){clearTimeout(this._colorLA_scrollBarTimer);this._colorLA_scrollBar.setVisibility("visible");this._colorLA_scrollBarTimer=setTimeout(function(){t._colorLA_scrollBar.setVisibility("hidden")},2e3)}}else{this._colorLA_scrollBar.setProperties({size:this._colorLA_height,contentSize:this._colorLA_contentSize}).render(e)}var r=d3.select(this._colorLA_wrap.node().parentNode);if(r.selectAll(".legend-clip-rect").empty()){r.insert("svg:defs",":first-child").append("svg:clipPath").attr("id","legend_"+this._colorLA_pathID).append("rect").attr("class","legend-clip-rect").attr("width",this._colorLA_width+5+"px").attr("height",this._colorLA_height+"px").attr("x",-5).attr("style","stroke: blue; fill: none;")}else{r.selectAll(".legend-clip-rect").attr("width",this._colorLA_width+5+"px").attr("height",this._colorLA_height+"px").attr("y",0)}this._colorLA_wrap.attr("clip-path","url(#"+"legend_"+this._colorLA_pathID+")");e.attr("transform","translate("+(this._colorLA_width-this._colorLA_scrollBarSize)+", 0)")};h.prototype._colorLAfn_setScrollBarForMobile=function(){if(l.isMobile()){this._colorLA_scrollBar.setProperties({visibility:"visible",style:{thumbSize:4,padding:1,opacity:.8}})}};h.prototype._colorLAfn_renderHorizontalScrollable=function(e){if(this._colorLA_scrollBar===undefined){this._colorLA_scrollBar=new u;var t=this;var a=this._colorLA_wrap.selectAll("g.v-legend-content");var i=this._colorLA_styleManager.query("v-scrollbarThumb");this._colorLAfn_setScrollBarForMobile();this._colorLA_scrollBar.setProperties({size:this._colorLA_width,contentSize:this._colorLA_contentSize,vertical:false,eventWrapper:[a],style:{fill:i.fill,opacity:i.opacity},onScroll:function(e){a.attr("transform","translate("+e.start+", 0)");if(t._colorLA_endItemNum<t._colorLA_chartData.length&&e.startPct===100){t._colorLA_lastStartRow=t._colorLA_startItemNum;t._colorLA_startItemNum=t._colorLA_endItemNum;t.render(t._colorLA_wrap)}}});this._colorLA_scrollBar.render(e);if(l.isMobile()&&this._colorLA_scrollBar){clearTimeout(this._colorLA_scrollBarTimer);this._colorLA_scrollBar.setVisibility("visible");this._colorLA_scrollBarTimer=setTimeout(function(){t._colorLA_scrollBar.setVisibility("hidden")},2e3)}}else{this._colorLA_scrollBar.setProperties({size:this._colorLA_width,contentSize:this._colorLA_contentSize}).render(e)}var r=d3.select(this._colorLA_wrap.node().parentNode);if(r.selectAll(".legend-clip-rect").empty()){r.insert("svg:defs",":first-child").append("svg:clipPath").attr("id","legend_"+this._colorLA_pathID).append("rect").attr("class","legend-clip-rect").attr("width",this._colorLA_width+5+"px").attr("height",this._colorLA_height+5+"px").attr("x",-5).attr("y",-5).attr("style","stroke: blue; fill: none;")}else{r.selectAll(".legend-clip-rect").attr("width",this._colorLA_width+5+"px").attr("height",this._colorLA_height+5+"px").attr("y",-5)}this._colorLA_wrap.attr("clip-path","url(#"+"legend_"+this._colorLA_pathID+")");e.attr("transform","translate(0,"+((this._colorLA_eachRowHeight+this._colorLA_textHeight)/2+6)+")")};h.prototype._colorLAfn_renderNormalLegend=function(e,t){this._colorLA_wrap.selectAll("g.v-group").remove();var a;for(var i=0,r=e.length;i<r;i++){a=this._colorLA_wrap.selectAll("g.v-row.ID_"+i);if(this._colorLAfn_isHorizontal()){this._colorLAfn_createRowWithColorLabel.call(this,a,i,true,e[i].val,this._colorLA_textWidth)}else{this._colorLAfn_createRowWithColorLabel.call(this,a,i,true,e[i].val)}}t.attr("transform",function(e,t){if(e.pos){return"translate("+e.pos.x+","+e.pos.y+")"}})};h.prototype._colorLAfn_renderHierarchicalLegend=function(e,t){var a=this._colorLA_hieChartData,r=this;this._colorLA_wrap.selectAll("g.v-group").remove();var s=this._colorLA_wrap.selectAll("g.v-legend-content").selectAll("g.v-group").data(a);s.exit().remove();var o=s.enter().append("g").attr("class","v-group");var n=o.selectAll("text").data(function(e){return e.subgroup},function(e){return e});n.enter().append("text");var l="font-size:"+this._colorLA_valueLabelFont.fontsize+"; font-weight:"+this._colorLA_valueLabelFont.fontweight+"; font-family:"+this._colorLA_valueLabelFont.fontfamily;n.each(function(e,t){i.ellipsis(e,this,r._colorLA_width-t*10,l)});s.selectAll("text").attr("dy",function(e,t){return(t+1)*r._colorLA_textHeight+(t>0?t*r._colorLA_markerMargin.bottom*r._colorLA_textHeight:0)}).attr("dx",function(e,t){return t*10});var u,d;for(var h=0,p=e.length;h<p;h++){u=this._colorLA_wrap.selectAll("g.v-row.ID_"+h);if(this._colorLAfn_isHorizontal()){this._colorLAfn_createRowWithColorLabel.call(this,u,h+this._colorLA_startItemNum,true,e[h].orignialVal[e[h].orignialVal.length-1],this._colorLA_textWidth)}else{d=this._colorLA_width-e[h].pos.x-(this._colorLA_colorLabelSize+this._colorLA_markerMargin.right)*this._colorLA_textHeight;this._colorLAfn_createRowWithColorLabel.call(this,u,h+this._colorLA_startItemNum,true,e[h].orignialVal[e[h].orignialVal.length-1],d)}}s.attr("transform",function(e,t){if(e.pos){return"translate("+e.pos.x+","+e.pos.y+")"}});t.attr("transform",function(e,t){if(e.pos){return"translate("+e.pos.x+","+e.pos.y+")"}})};h.prototype._colorLAfn_getLabelData=function(){var e=[],t=0,a=this._colorLA_endItemNum;if(this._colorLA_chartData.length>0){e=this._colorLA_chartData.slice(t,a);this._colorLA_startRow=0;this._colorLA_endRow=a}return e};h.prototype._colorLAfn_getThemeStyleDef=function(){var e=this._colorLA_styleManager.query("v-label");if(e){if(e["fill"]){this._colorLA_valueLabelFont.color=e["fill"]}if(e["font-family"]){this._colorLA_valueLabelFont.fontfamily=e["font-family"]}if(e["font-size"]){if(this._colorLA_valueLabelFont.fontsize!==e["font-size"]){this._colorLA_isStyleChanged=true}this._colorLA_valueLabelFont.fontsize=e["font-size"]}if(e["font-weight"]){if(this._colorLA_valueLabelFont.fontweight!==e["font-weight"]){this._colorLA_isStyleChanged=true}this._colorLA_valueLabelFont.fontweight=e["font-weight"]}}};h.prototype._colorLAfn_calculatePreferredSize=function(e){var t=0,a=0,s=0,o=0,n={width:0,height:0},u=this._colorLA_chartData,h=0;if(u&&u.length>0){this._colorLA_textHeight=parseInt(this._colorLA_valueLabelFont.fontsize,10);var p=(this._colorLA_colorLabelSize+this._colorLA_markerMargin.right)*this._colorLA_textHeight;var c=[],f=0,m=0;this._colorLA_eachRowHeight=this._colorLA_textHeight+this._colorLA_textHeight*this._colorLA_markerMargin.bottom;if(l.isMobile()&&!this._colorLA_options.isHierarchy&&this._colorLA_eachRowHeight<d){this._colorLA_eachRowHeight=d}this._colorLA_rowPosArr=[];var _,g,v,y=0,b=200;if(this._colorLA_options.legendType!=="BubbleColorLegend"&&this._colorLA_options.isHierarchy&&!this._colorLAfn_isHorizontal()){this._colorLA_firstOverFlowPos=undefined;var x=0,A,M,S={subgroup:[],item:[],pos:{x:f,y:m}},z=this._colorLA_hieChartData=[];this._colorLA_endItemNum=u.length;if(e.height!==0){b=e.height}for(_=0,v=u.length;_<v;_++){x=u[_].orignialVal.length;A=u[_].val.search(u[_].orignialVal[x-1]);if(M===undefined){M=u[_].val.substring(0,A);for(g=0;g<x;g++){if(g===x-1){S.item.push({val:u[_].orignialVal[g],ctx:u[_].ctx})}else{S.subgroup.push(u[_].orignialVal[g])}m=m+this._colorLA_eachRowHeight}}else{if(u[_].val.search(M)===-1){z.push(r.extend(true,{},S));M=u[_].val.substring(0,A);S.subgroup=[];S.item=[];S.pos={x:f,y:m};for(g=0;g<x;g++){m=m+this._colorLA_eachRowHeight;if(m>b){break}if(g===x-1){S.item.push({val:u[_].orignialVal[g],ctx:u[_].ctx})}else{S.subgroup.push(u[_].orignialVal[g])}}}else{m=m+this._colorLA_eachRowHeight;S.item.push({val:u[_].orignialVal[x-1],ctx:u[_].ctx})}}if(m>b){this._colorLA_isItemsOverflow=true;this._colorLA_endItemNum=_;m=m-this._colorLA_eachRowHeight;this._colorLA_firstOverFlowPos=m+this._colorLA_textHeight;z.push(r.extend(true,{},S));S=undefined;break}u[_].pos={x:f+10*(x-1),y:m-this._colorLA_eachRowHeight}}if(v>0&&S!==undefined){z.push(r.extend(true,{},S))}var D=0,E=false;h=0;for(_=0,v=z.length;_<v;_++){for(g=0,y=z[_].subgroup.length;g<y;g++){D=f+g*10+i.fastMeasure(z[_].subgroup[g],this._colorLA_valueLabelFont.fontsize,this._colorLA_valueLabelFont.fontweight,this._colorLA_valueLabelFont.fontfamily).width;if(D>h){h=D}}for(g=0;g<z[_].item.length;g++){D=f+10*(y-1)+p+this._colorLA_markerMargin.left*this._colorLA_textHeight+i.fastMeasure(z[_].item[g].val,this._colorLA_valueLabelFont.fontsize,this._colorLA_valueLabelFont.fontweight,this._colorLA_valueLabelFont.fontfamily).width;if(D>h){h=D}}}a=h;s=f+10*(y-1)+p+this._colorLA_markerMargin.left*this._colorLA_textHeight+i.fastMeasure("M...",this._colorLA_valueLabelFont.fontsize,this._colorLA_valueLabelFont.fontweight,this._colorLA_valueLabelFont.fontfamily).width;t=m;o=2*this._colorLA_textHeight}else{var w={width:200,height:200};if(this._colorLAfn_isHorizontal()){if(this._colorLAfn_isScrollable()){var T;if(e.width!==0){w.width=e.width;T=e.width*2}if(this._colorLA_startItemNum>0){T=this._colorLA_contentSize+e.width*2;f=this._colorLA_contentSize}var C=p+this._colorLA_markerMargin.left*this._colorLA_textHeight;this._colorLA_endItemNum=u.length;for(_=this._colorLA_startItemNum,v=u.length;_<v;_++){u[_].pos={x:f,y:m};u[_].size=i.fastMeasure(u[_].val,this._colorLA_valueLabelFont.fontsize,this._colorLA_valueLabelFont.fontweight,this._colorLA_valueLabelFont.fontfamily);f=f+C+u[_].size.width;if(f>w.width){this._colorLA_isItemsOverflow=true}if(f>T){if(this._colorLA_startItemNum===_){T=f;this._colorLA_endItemNum=_+1}else{this._colorLA_endItemNum=_;f=f-C-u[_].size.width}break}}this._colorLA_contentSize=f;a=w.width;t=o=this._colorLA_eachRowHeight+this._colorLA_scrollBarSize+6;s=10}else{if(e.width!==0){w.width=e.width}if(e.height!==0){w.height=e.height}var L=0;for(_=0,v=u.length;_<v;_++){if(_>=this._colorLA_maxTextCount){break}u[_].size=i.fastMeasure(u[_].val,this._colorLA_valueLabelFont.fontsize,this._colorLA_valueLabelFont.fontweight,this._colorLA_valueLabelFont.fontfamily);if(u[_].size.width>L){L=u[_].size.width}}if(L>this._colorLA_textWidth){L=this._colorLA_textWidth}var I={width:L};for(_=this._colorLA_maxTextCount,v=u.length;_<v;_++){u[_].size=I}this._colorLA_magicMaxTextItemWidth=L;var k=p+L+this._colorLA_markerMargin.left*this._colorLA_textHeight,O=Math.floor(w.width/k),N=0;a=O>u.length?u.length*k:O*k;var P=Math.ceil(u.length/O);t=P*this._colorLA_eachRowHeight;if(u.length>O){o=this._colorLA_eachRowHeight*2}else{o=this._colorLA_eachRowHeight}this._colorLA_endItemNum=u.length;for(_=0,v=u.length;_<v;_++){if(N===O){this._colorLA_firstOverFlowPos=f;f=0;N=0;m=m+this._colorLA_eachRowHeight;if(v-_>0&&m+this._colorLA_eachRowHeight>w.height){this._colorLA_endItemNum=_;this._colorLA_firstOverFlowPos=m+this._colorLA_textHeight;this._colorLA_isItemsOverflow=true;break}}u[_].pos={x:f,y:m};N++;f=f+k}s=k}}else{b=200;if(e.height!==0){b=e.height}var R=Math.floor(b/this._colorLA_eachRowHeight),F;if(R<u.length){F=R;if(F>1&&!this._colorLAfn_isScrollable()){F=F-1}this._colorLA_isItemsOverflow=true}else{F=u.length}var B;for(_=0,v=F;_<v;_++){B=i.fastMeasure(u[_].val,this._colorLA_valueLabelFont.fontsize,this._colorLA_valueLabelFont.fontweight,this._colorLA_valueLabelFont.fontfamily);if(B.width>n.width){n=B}}this._colorLAfn_calculateVerticalRowPosition(e);h=p+n.width;a=f+h;t=this._colorLA_eachRowHeight*(this._colorLA_bForceEllipsis?u.length+1:u.length);s=f+p+i.fastMeasure("M...",this._colorLA_valueLabelFont.fontsize,this._colorLA_valueLabelFont.fontweight,this._colorLA_valueLabelFont.fontfamily).width;if(this._colorLAfn_isScrollable()){o=this._colorLA_eachRowHeight;a=a+this._colorLA_scrollBarSize;s=s+this._colorLA_scrollBarSize}else{o=this._colorLA_eachRowHeight*(u.length>1?2:u.length)+this._colorLA_textHeight*this._colorLA_markerMargin.bottom}if(o>t){o=t}}}}if(s>a){s=a}if(this._colorLA_isStyleChanged===true){this._colorLA_isStyleChanged=false}return{minHeight:o,minWidth:s,height:t,width:a}};h.prototype._colorLAfn_calculateVerticalRowPosition=function(e){var t,a,r=0,s=0,o=this._colorLA_chartData,n;n=this._colorLAfn_isScrollable()?e.height*2:e.height;if(this._colorLA_startItemNum>0){n=this._colorLA_contentSize+e.height*2}this._colorLA_endItemNum=o.length;for(t=this._colorLA_startItemNum,a=o.length;t<a;t++){if(o[t].size===undefined||this._colorLA_isStyleChanged!==false){o[t].size=i.fastMeasure(o[t].val,this._colorLA_valueLabelFont.fontsize,this._colorLA_valueLabelFont.fontweight,this._colorLA_valueLabelFont.fontfamily)}s=this._colorLA_eachRowHeight*t;if(s+this._colorLA_eachRowHeight>n&&t<a){this._colorLA_endItemNum=t;this._colorLA_firstOverFlowPos=s;if(!this._colorLAfn_isScrollable()){if(s+this._colorLA_textHeight>n){this._colorLA_endItemNum=this._colorLA_endItemNum-1;this._colorLA_firstOverFlowPos-=this._colorLA_eachRowHeight}}break}o[t].pos={x:r,y:s}}if(t===a&&this._colorLA_startItemNum===0&&s+this._colorLA_textHeight<e.height){this._colorLA_isItemsOverflow=false}this._colorLA_contentSize=this._colorLA_endItemNum*this._colorLA_eachRowHeight;if(this._colorLA_bForceEllipsis){this._colorLA_firstOverFlowPos=this._colorLA_contentSize+this._colorLA_textHeight;this._colorLA_contentSize+=this._colorLA_eachRowHeight}};h.prototype._colorLAfn_getImageURL=function(e){var t="";var a=this._colorLA_imageInfo.imagePalette.length;if(a>0){t=this._colorLA_imageInfo.imagePalette[e%a]}return t};h.prototype._colorLAfn_isHorizontal=function(){return this._colorLA_options.position==="top"||this._colorLA_options.position==="bottom"?true:false};h.prototype._colorLAfn_isScrollable=function(){return this._colorLA_options.isScrollable&&this._colorLA_options.isHierarchy===false};h.prototype._colorLAfn_createRowWithColorLabel=function(e,t,a,r,s){var n=0,l;var u=this._colorLA_colorLabelSize*this._colorLA_textHeight;var d=this;if(a){if(this._colorLA_shapeFeedLength>0){var h=t%this._colorLA_shapeFeedLength;if(this._colorLA_shapes.length<this._colorLA_shapeFeedLength){h=h%this._colorLA_shapes.length}l=this._colorLA_shapes[h]}else{if(this._colorLA_options.legendType==="BubbleColorLegend"){l=this._colorLA_shapes[0]===undefined?"square":this._colorLA_shapes[0]}else{var p=this._colorLA_shapes[t%this._colorLA_shapes.length];l=p===undefined?"square":p;if(l==="square"){l="squareWithRadius"}}}if(!this._colorLA_imageInfo.imageMode){var c=this._colorLA_textHeight/2;var f=e.selectAll("path").data([r]);f.enter().append("path");var m={drawingEffect:this._colorLA_options.drawingEffect,graphType:l,fillColor:null,direction:"vertical",rx:u/2,ry:u/2,borderWidth:0,borderColor:"transparent",node:null,className:""};f.attr("transform",function(e,a){var i;if(d._colorLA_shapeFeedLength>0){a=Math.floor(t/d._colorLA_shapeFeedLength);var r=d._colorLA_colors.length>d._colorLA_colorFeedLength?d._colorLA_colorFeedLength:d._colorLA_colors.length;if(r>0){i=d._colorLA_colors[a%r]}else{i=d._colorLA_colors[0]}}else{i=d._colorLA_colors[t%(d._colorLA_colors.length>d._colorLA_colorFeedLength?d._colorLA_colorFeedLength:d._colorLA_colors.length)]}m.fillColor=i;m.node=d3.select(this);o.drawGraph(m,d._colorLA_effectManager);return"translate("+c+","+c+")"})}else{var _=e.select("image");if(_.empty()){_=e.append("image")}_.attr("xlink:xlink:href",this._colorLAfn_getImageURL(t)).attr("width",u).attr("height",u)}n=u+this._colorLA_markerMargin.right*this._colorLA_textHeight}var g=e.selectAll("text").data([r]);g.enter().append("text");g.attr("x",n).attr("y",this._colorLA_textHeight).text(function(e){return e});e.append("rect");var v="font-size:"+this._colorLA_valueLabelFont.fontsize+"; font-weight:"+this._colorLA_valueLabelFont.fontweight+"; font-family:"+this._colorLA_valueLabelFont.fontfamily;if(!(this._colorLAfn_isScrollable()&&this._colorLAfn_isHorizontal())){g.each(function(t){var a;if(s===undefined){a=d._colorLA_width-n;if(d._colorLAfn_isScrollable()){a=a-d._colorLA_scrollBarSize}}else{a=s}if(i.ellipsis(t,this,a,v)!==r){g.select("title").remove();if(e.select("title").empty()){e.select("rect").append("title").text(r)}}})}return e};var p=function(e,t){for(var a=0;a<e.length;a++){if(e[a]===t){return true}}return false};return h});define("sap/viz/modules/legend/sizeLegendArea",["sap/viz/base/utils/oo","sap/viz/modules/Base","sap/viz/util/TextUtils","sap/viz/lang/langManager","sap/viz/format/FormatManager","sap/viz/base/utils/TypeUtils","sap/viz/util/DrawUtil"],function e(t,a,i,r,s,o,n){var l=function(e){this._sizeLA_width=400;this._sizeLA_height=200;this._sizeLA_valueLabelFont={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"14px",fontweight:"normal",color:"#333333"};this._sizeLA_chartData=[0,0,0];this._sizeLA_scale=undefined;this._sizeLA_color=[];this._sizeLA_guildeLineWidth=10;this._sizeLA_valuePaddingLeft=15;this._sizeLA_valueLabelHeight=0;this._sizeLA_options=undefined;this._sizeLA_effectManager=null;this._sizeLA_styleManager=e};t.extend(l,a);l.prototype.render=function(e){var t=this;e.each(function(){if(t._sizeLA_scale===undefined){return}t._sizeLAfn_getThemeStyleDef();var e=parseInt(t._sizeLA_valueLabelFont.fontsize,10);var a=[],r="font-size:"+t._sizeLA_valueLabelFont.fontsize+"; font-weight:"+t._sizeLA_valueLabelFont.fontweight+"; font-family:"+t._sizeLA_valueLabelFont.fontfamily;if(t._sizeLA_valueLabelHeight===0){t._sizeLA_valueLabelHeight=i.fastMeasure("M",t._sizeLA_valueLabelFont.fontsize,t._sizeLA_valueLabelFont.fontweight,t._sizeLA_valueLabelFont.fontfamily).height}var o=Math.floor((t._sizeLA_scale(t._sizeLA_chartData[0])+e)/t._sizeLA_valueLabelHeight);switch(o){case 0:case 1:a.push(t._sizeLA_chartData[0]);break;case 2:a.push(t._sizeLA_chartData[0]);if(t._sizeLA_chartData.length>1){a.push(t._sizeLA_chartData[t._sizeLA_chartData.length-1])}break;default:a=t._sizeLA_chartData}var l=[],d=-1,h,p;for(var c=0,f=a.length;c<f;c++){l.push(t._sizeLA_scale(a[c])/2);p=u(a[c]);p=s.format(p,t._sizeLA_options.formatString);h=i.fastMeasure(p,t._sizeLA_valueLabelFont.fontsize,t._sizeLA_valueLabelFont.fontweight,t._sizeLA_valueLabelFont.fontfamily).width;if(h>d){d=h}}var m=l[0];var _=d3.select(this);var g=_.selectAll("g.v-circles");if(!g.empty()){g.remove()}g=_.append("g").attr("class","v-circles").data([l]);g.attr("transform","translate("+m+","+(m+e/2)+")");var v={drawingEffect:t._sizeLA_options.drawingEffect,graphType:"circle",fillColor:t._sizeLA_color?t._sizeLA_color:"#748CB2"};var y=t._sizeLA_effectManager.register(v);var b=g.selectAll("path").data(l,function(e,t){return e});b.exit().remove();b.enter().append("path").attr("stroke","white").attr("stroke-width",1).attr("fill",y).attr("opacity","1").attr("fill-opacity","0.85");b.attr("d",function(e,t){return n.createMarkerData({type:"circle",borderWidth:0,rx:e,ry:e})}).attr("transform",function(e,t){return["translate(",0,",",m-e,")"].join("")});var x=_.selectAll("g.v-valueLabels");if(x.empty()){x=_.append("g").attr("class","v-valueLabels").data([a])}var A=m*2+t._sizeLA_valuePaddingLeft+t._sizeLA_guildeLineWidth+d>t._sizeLA_width?t._sizeLA_width:m*2+t._sizeLA_valuePaddingLeft+t._sizeLA_guildeLineWidth+d;x.attr("transform","translate("+A+", "+(m+e)+")");var M=x.selectAll("text").data(a,function(e,t){return e});M.exit().remove();M.enter().append("text").attr("text-anchor","end");M.text(function(e,a){var i=u(e);i=s.format(i,t._sizeLA_options.formatString);return i}).attr("dx",0).attr("dy",function(e,t){var i=(t-1)*m-2;if(a.length===2&&t===1){i=m-2}return i});var S=_.selectAll("g.v-guideLines");if(!S.empty()){S.remove()}S=_.append("g").attr("class","v-guideLines").attr("transform","translate("+m+","+(m+e/2)+")");if(a.length>0){S.append("path").attr("stroke","gray").attr("d","M 0 "+-m+" L "+(m+t._sizeLA_guildeLineWidth)+" "+-m)}if(a.length>1){S.append("path").attr("stroke","gray").attr("d","M 0 "+m+"L"+(m+t._sizeLA_guildeLineWidth)+" "+m)}if(a.length>2){S.append("path").attr("stroke","gray").attr("d","M 0 "+(m-l[1])+" L "+m+" 0"+" M "+m+" 0 "+" L "+(m+t._sizeLA_guildeLineWidth)+" 0")}var z=t._sizeLA_styleManager.queryDefault("v-label");_.attr("font-family",z["font-family"]).attr("font-size",z["font-size"]).attr("font-weight",z["font-weight"]).attr("fill",z.color)})};l.prototype.width=function(e){if(!arguments.length){return this._sizeLA_width}this._sizeLA_width=e;return this};l.prototype.height=function(e){if(!arguments.length){return this._sizeLA_height}this._sizeLA_height=e;return this};l.prototype.higlight=function(e){return this};l.prototype.unhighlight=function(e){return this};l.prototype.selected=function(e){return this};l.prototype.color=function(e){if(!arguments.length){return this._sizeLA_color}this._sizeLA_color=e;return this};l.prototype.shapes=function(e){return this};l.prototype.properties=function(e){if(!arguments.length){return this._sizeLA_options}this._sizeLA_options=e;return this};l.prototype.data=function(e){if(!arguments.length){return this._sizeLA_chartData}this._sizeLA_chartData=e;return this};l.prototype.scale=function(e){if(!arguments.length){return this._sizeLA_scale}this._sizeLA_scale=e;return this};l.prototype.effectManager=function(e){if(!arguments.length){return this._sizeLA_effectManager}this._sizeLA_effectManager=e;return this};l.prototype._sizeLAfn_getThemeStyleDef=function(){var e=this._sizeLA_styleManager.query("v-label");if(e){if(e["fill"]){this._sizeLA_valueLabelFont.color=e["fill"]}if(e["font-family"]){this._sizeLA_valueLabelFont.fontfamily=e["font-family"]}if(e["font-size"]){this._sizeLA_valueLabelFont.fontsize=e["font-size"]}if(e["font-weight"]){this._sizeLA_valueLabelFont.fontweight=e["font-weight"]}}};l.prototype.hasData=function(){if(this._sizeLA_scale){return true}else{return false}};l.prototype.getPreferredSize=function(){this._sizeLAfn_getThemeStyleDef();var e=0,t=0,a=0,r=0;var o=-1,n,l=[],d=null,h,p,c,f=this._sizeLA_chartData,m="font-size:"+this._sizeLA_valueLabelFont.fontsize+"; font-weight:"+this._sizeLA_valueLabelFont.fontweight+"; font-family:"+this._sizeLA_valueLabelFont.fontfamily;if(this._sizeLA_scale){for(p=0,c=f.length;p<c;p++){d=u(f[p]);d=s.format(d,this._sizeLA_options.formatString);l[p]=i.fastMeasure(d,this._sizeLA_valueLabelFont.fontsize,this._sizeLA_valueLabelFont.fontweight,this._sizeLA_valueLabelFont.fontfamily);if(l[p]===undefined||l[p].width>o){o=l[p].width}}h=o+this._sizeLA_valuePaddingLeft+this._sizeLA_guildeLineWidth;n=this._sizeLA_scale(f[0]);t=n+l[c-1].height;e=n+h;a=n+this._sizeLA_valuePaddingLeft+this._sizeLA_guildeLineWidth+l[0].width;r=t;if(this._sizeLA_options.position==="top"||this._sizeLA_options.position==="bottom"){e=e+l[c-1].height;a=a+l[c-1].height}else{t=t+l[c-1].height;r=t}}return{minHeight:r,minWidth:a,height:t,width:e}};l.prototype.doLayout=function(e){return e};l.prototype.destroy=function(){this._sizeLA_styleManager=null;this._sizeLA_effectManager=null};var u=function(e){return e===null?r.get("IDS_ISNOVALUE"):e};return l});define("sap/viz/modules/legend/mbcLegendArea",["sap/viz/base/utils/oo","sap/viz/modules/Base","sap/viz/util/TextUtils","sap/viz/lang/langManager","sap/viz/base/utils/TypeUtils","sap/viz/base/UADetector"],function e(t,a,i,r,s,o){var n=function(e){this._mbcLA_width=400;this._mbcLA_height=200;this._mbcLA_valueLabelFont={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"12px",fontweight:"normal",color:"#333333"};this._mbcLA_wrap=undefined;this._mbcLA_chartData=undefined;this._mbcLA_colors=[];this._mbcLA_markerSize={width:12,height:12};this._mbcLA_paddingBottom=1;this._mbcLA_selectedItem=[];this._mbcLA_posInfo={markerSize:12,markerPaddingRight:.5,paddingTop:1,maxValueSpace:1.6,minValueSpace:.5,maxMarkerHeight:36,minMarkerHeight:12,space:0,noValuePadding:18};this._mbcLA_textInfos=null;this._mbcLA_perferredSize=null;this._mbcLA_nullLabelIndex=-1;this._mbcLA_textHeight=20;this._mbcLA_minimized=false;this._mbcLA_options=undefined;this._mbcLA_effectManager=null;this._mbcLA_styleManager=e;this._mbcLA_style={};this._mbcLA_style.hovershadow=e.queryDefault("v-hovershadow");this._mbcLA_style.clickedshadow="#808080";this._need_calTextSize=false};t.extend(n,a);n.prototype.render=function(e){var t=this;var a=function(e){var a={marker:[],label:[]},i=0,s=0,o=t._mbcLA_colors.slice(),n=t._mbcLA_posInfo.markerPaddingRight*t._mbcLA_textHeight,l,u,d,h,p;var c=t._mbcLAfn_calTextSize().textSize;o=o.reverse();if(t._mbcLA_nullLabelIndex!==-1){var f=o.shift();o.push(f)}if(t._mbcLA_options.position==="top"||t._mbcLA_options.position==="bottom"){l=t._mbcLA_markerSize.width+t._mbcLA_paddingBottom;var m=t._mbcLA_markerSize.height+n+t._mbcLA_textHeight;for(u=0,d=e.length;u<d;u++){h=e[u].val;p=e[u].val1;if(h==="N/A"&&d>1){i=i+t._mbcLA_posInfo.noValuePadding}a.marker.push({x:i,y:s,color:o[u],val:e[u].val,ctx:e[u].ctx});if(p!==undefined){a.label.push({val:p,x:0,y:m,visibility:c[u].visibility_tVal})}if(h!==undefined){if(h==="N/A"){a.label.push({val:r.get("IDS_ISNOVALUE"),x:i,y:m,visibility:c[u].visibility})}else{a.label.push({val:h,x:i+l,y:m,visibility:c[u].visibility})}}i=i+l}}else{l=t._mbcLA_markerSize.height+t._mbcLA_paddingBottom;var _=t._mbcLA_markerSize.width+n;for(u=0,d=e.length;u<d;u++){h=e[u].val;p=e[u].val1;if(h==="N/A"&&d>1){s=s+t._mbcLA_posInfo.noValuePadding}a.marker.push({x:i,y:s,color:o[u],val:h,ctx:e[u].ctx});if(p!==undefined){a.label.push({val:p,x:_,y:t._mbcLA_textHeight,visibility:c[u].visibility_tVal})}if(h!==undefined){if(h==="N/A"){a.label.push({val:r.get("IDS_ISNOVALUE"),x:_,y:s+t._mbcLA_textHeight-t._mbcLA_paddingBottom,visibility:c[u].visibility})}else{a.label.push({val:h,x:_,y:s+l+t._mbcLA_textHeight-t._mbcLA_paddingBottom,visibility:c[u].visibility})}}s=s+l}}return a};e.each(function(){t._mbcLAfn_getThemeStyleDef();t._mbcLAfn_calMarkerSize({width:t._mbcLA_width,height:t._mbcLA_height});var e=t._mbcLA_chartData,i,r=0,s,o,n=t._mbcLA_posInfo.markerPaddingRight*t._mbcLA_textHeight;var l=d3.select(this);t._mbcLA_wrap=l;var u=l.selectAll("rect.v-indicatedRect");if(u.empty()){u=l.append("rect").attr("class","v-indicatedRect v-hovershadow")}u.attr("visibility","hidden");if(t._mbcLA_options.position==="top"||t._mbcLA_options.position==="bottom"){u.attr("width",t._mbcLA_markerSize.width+2).attr("height",t._mbcLA_markerSize.height+4)}else{u.attr("width",t._mbcLA_markerSize.width+4).attr("height",t._mbcLA_markerSize.height+2)}var d=a(e);var h=l.selectAll("rect.v-marker").data(d.marker);h.exit().remove();h.enter().append("rect");h.attr("class",function(e,t){return"v-marker v-legend-item ID_"+t});h.attr("width",t._mbcLA_markerSize.width).attr("height",t._mbcLA_markerSize.height).attr("x",function(e){return e.x}).attr("y",function(e){return e.y}).attr("fill",function(e){var a={drawingEffect:"normal",fillColor:e.color};var i=t._mbcLA_effectManager.register(a);return i});var p=t._mbcLA_nullLabelIndex===-1?d.label.length:d.label.length-1;var c=l.selectAll("text").data(d.label);c.exit().remove();c.enter().append("text");c.text(function(e){return e.val});c.attr("x",function(e){return e.x}).attr("y",function(e){return e.y}).attr("visibility",function(e){return e.visibility});var f=t._mbcLA_styleManager.queryDefault("v-label");l.attr("font-family",f["font-family"]).attr("font-size",f["font-size"]).attr("font-weight",f["font-weight"]).attr("fill",f.color)})};n.prototype.highlight=function(e){if(e.__data__){var t=this._mbcLA_wrap.selectAll(".v-indicatedRect");var a=e.__data__;if(a.x!==undefined&&a.y!==undefined){t.attr("class","v-indicatedRect v-legend-item v-hovershadow").attr("visibility","visible").attr("fill",this._mbcLA_style.hovershadow.fill);if(this._mbcLA_options.position==="top"||this._mbcLA_options.position==="bottom"){t.attr("x",a.x-1).attr("y",a.y-2)}else{t.attr("x",a.x-2).attr("y",a.y-1)}}}};n.prototype.unhighlight=function(e){if(this._mbcLA_wrap){this._mbcLA_wrap.selectAll(".v-indicatedRect").attr("visibility","hidden")}};n.prototype.selected=function(e){if(e.__data__){var t=this._mbcLA_wrap.selectAll(".v-indicatedRect");var a=e.__data__;if(a.x!==undefined&&a.y!==undefined){t.attr("class","v-indicatedRect v-legend-item v-hovershadow-mousedown").attr("visibility","visible").attr("fill",this._mbcLA_style.clickedshadow);if(this._mbcLA_options.position==="top"||this._mbcLA_options.position==="bottom"){t.attr("x",a.x-1).attr("y",a.y-2)}else{t.attr("x",a.x-2).attr("y",a.y-1)}}}};n.prototype.width=function(e){if(!arguments.length){return this._mbcLA_width}this._mbcLA_width=e;return this};n.prototype.height=function(e){if(!arguments.length){return this._mbcLA_height}this._mbcLA_height=e;return this};n.prototype.properties=function(e){if(!arguments.length){return this._mbcLA_options}if(this._mbcLA_options!==undefined&&this._mbcLA_options.position!==e.position){this._mbcLA_markerSize={width:12,height:12}}this._mbcLA_options=e;this._need_calTextSize=true;return this};n.prototype.data=function(e){if(!arguments.length){return this._mbcLA_chartData}if(this._mbcLA_chartData!==e){this._mbcLA_chartData=e;this._need_calTextSize=true;this._mbcLA_nullLabelIndex=-1}return this};n.prototype.hasData=function(){if(this._mbcLA_chartData){return true}else{return false}};n.prototype.getPreferredSize=function(){var e=0,t=0,a=0,i=0;if(this._mbcLA_chartData&&this._need_calTextSize){this._mbcLAfn_getThemeStyleDef();this._mbcLA_textHeight=parseInt(this._mbcLA_valueLabelFont.fontsize,10);var r=this._mbcLAfn_calTextSize();var s=r.maxValueWidth;var o=r.textSize;var n=this._mbcLA_chartData.length;var l=this._mbcLA_posInfo.maxMarkerHeight;var u=this._mbcLA_posInfo.minMarkerHeight;if(this._mbcLA_options.position==="top"||this._mbcLA_options.position==="bottom"){var d=this._mbcLAfn_calLegendWidthFromMarkerWidth(l);t=d.height;e=d.width;d=this._mbcLAfn_calLegendWidthFromMarkerWidth(u);a=d.height;i=d.width}else{e=this._mbcLA_markerSize.width+this._mbcLA_posInfo.markerPaddingRight*this._mbcLA_textHeight+s;i=this._mbcLA_markerSize.width+this._mbcLA_posInfo.markerPaddingRight*this._mbcLA_textHeight+(o[0].width>o[n-1].width?o[0].width:o[n-1].width);if(this._mbcLA_nullLabelIndex!==-1){t=(l+this._mbcLA_paddingBottom)*n+this._mbcLA_posInfo.noValuePadding-this._mbcLA_paddingBottom;a=(u+this._mbcLA_paddingBottom)*n+this._mbcLA_posInfo.noValuePadding-this._mbcLA_paddingBottom}else{t=(l+this._mbcLA_paddingBottom)*n+this._mbcLA_textHeight-this._mbcLA_paddingBottom;a=(u+this._mbcLA_paddingBottom)*n+this._mbcLA_textHeight-this._mbcLA_paddingBottom}}this._mbcLA_perferredSize={minHeight:a,minWidth:i,width:e,height:t}}return this._mbcLA_perferredSize};n.prototype.color=function(e){if(!arguments.length){return this._mbcLA_colors}this._mbcLA_colors=e;return this};n.prototype.effectManager=function(e){if(!arguments.length){return this._mbcLA_effectManager}this._mbcLA_effectManager=e;return this};n.prototype._mbcLAfn_calTextSize=function(){var e=-1,t=[],a=this._mbcLA_chartData;var s=a.length;if(this._need_calTextSize){for(var o=0;o<s;o++){if(a[o].val==="N/A"){t[o]=i.fastMeasure(r.get("IDS_ISNOVALUE"),this._mbcLA_valueLabelFont.fontsize,this._mbcLA_valueLabelFont.fontweight,this._mbcLA_valueLabelFont.fontfamily);this._mbcLA_nullLabelIndex=o}else{var n=a[o].val;if(n!==undefined){t[o]=i.fastMeasure(n,this._mbcLA_valueLabelFont.fontsize,this._mbcLA_valueLabelFont.fontweight,this._mbcLA_valueLabelFont.fontfamily)}else{t[o]={width:0,height:0}}var l=a[o].val1;if(l!==undefined){var u=i.fastMeasure(l,this._mbcLA_valueLabelFont.fontsize,this._mbcLA_valueLabelFont.fontweight,this._mbcLA_valueLabelFont.fontfamily);if(u.width>t[o].width){t[o]=u}}}if(t[o].width>e){e=t[o].width}}this._mbcLA_textInfos={maxValueWidth:e,textSize:t};this._need_calTextSize=false}return this._mbcLA_textInfos};n.prototype._mbcLAfn_calMarkerSize=function(e){var t=this._mbcLA_chartData.length,a=0,i=0,r,s,o,n;this._mbcLA_minimized=false;var l=this._mbcLA_posInfo.maxValueSpace*this._mbcLA_textHeight;var u=this._mbcLA_posInfo.minValueSpace*this._mbcLA_textHeight;var d=this._mbcLAfn_calTextSize().textSize;if(this._mbcLA_options.position==="top"||this._mbcLA_options.position==="bottom"){r=e.width;var h=this._mbcLA_posInfo.maxMarkerHeight;var p=this._mbcLA_posInfo.minMarkerHeight;var c=-1;var f=false;var m=this._mbcLAfn_calLegendWidthFromMarkerWidth(h);if(m.width<=r){a=h}else{m=this._mbcLAfn_calLegendWidthFromMarkerWidth(p);if(m.width>=r){a=p}else{while(h-p>1){c=p+(h-p)/2;m=this._mbcLAfn_calLegendWidthFromMarkerWidth(c);if(Math.abs(m.width-r)<1){p=c;f=false;break}else if(m.width>r){h=c;f=true}else{p=c;f=false}}a=p;if(f){this._mbcLAfn_calLegendWidthFromMarkerWidth(a)}}}}else{r=e.height;var _=false;var g;if(this._mbcLA_textHeight>this._mbcLA_posInfo.maxMarkerHeight){_=true}if(this._mbcLA_nullLabelIndex!==-1){a=(r-this._mbcLA_paddingBottom*(t-1)-this._mbcLA_posInfo.noValuePadding-(_?this._mbcLA_textHeight-this._mbcLA_posInfo.maxMarkerHeight:0))/t}else{a=(r-this._mbcLA_paddingBottom*(t-1)-this._mbcLA_textHeight)/t}if(a>this._mbcLA_posInfo.maxMarkerHeight){a=this._mbcLA_posInfo.maxMarkerHeight}if(a<this._mbcLA_textHeight){_=true}if(_){this._mbcLA_minimized=true}for(n=0;n<d.length;n++){if(this._mbcLA_minimized){d[n].visibility="hidden"}else{d[n].visibility="visible"}}d[0].visibility_tVal="visible";if(this._mbcLA_nullLabelIndex!==-1){d[this._mbcLA_nullLabelIndex].visibility="visible";g=d.length-1}else{g=d.length}if(g>0){if(d[g-1].height===0){d[g-2].visibility="visible"}else{d[g-1].visibility="visible"}}}this._mbcLA_posInfo.space=i;if(this._mbcLA_options.position==="top"||this._mbcLA_options.position==="bottom"){this._mbcLA_markerSize.width=a;this._mbcLA_markerSize.height=this._mbcLA_posInfo.markerSize}else{this._mbcLA_markerSize.width=this._mbcLA_posInfo.markerSize;this._mbcLA_markerSize.height=a}};n.prototype._mbcLAfn_getThemeStyleDef=function(){var e=this._mbcLA_styleManager.query("v-label");var t=false;if(e){if(e["fill"]&&e["fill"]!==this._mbcLA_valueLabelFont.color){this._mbcLA_valueLabelFont.color=e["fill"]}if(e["font-family"]&&e["font-family"]!==this._mbcLA_valueLabelFont.fontfamily){this._mbcLA_valueLabelFont.fontfamily=e["font-family"];t=true}if(e["font-size"]&&e["font-size"]!==this._mbcLA_valueLabelFont.fontsize){this._mbcLA_valueLabelFont.fontsize=e["font-size"];t=true}if(e["font-weight"]&&e["font-weight"]!==this._mbcLA_valueLabelFont.fontweight){this._mbcLA_valueLabelFont.fontweight=e["font-weight"];t=true}if(t){this._need_calTextSize=true}}};n.prototype.destroy=function(){if(this._mbcLA_wrap){this._mbcLA_wrap=null}this._mbcLA_styleManager=null;this._mbcLA_effectManager=null;this._mbcLA_selectedItem=null};n.prototype._mbcLAfn_calLegendWidthFromMarkerWidth=function(e){var t=0,a=0,i=false,r,s,o,n;var l=this._mbcLAfn_calTextSize().textSize;var u=this._mbcLA_chartData.length,d=u;if(this._mbcLA_nullLabelIndex!==-1){s=l[this._mbcLA_nullLabelIndex].width;d=u-1}for(r=0;r<l.length;r++){if(r===this._mbcLA_nullLabelIndex){continue}if(l[r].width>e){i=true;this._mbcLA_minimized=true;break}}for(r=0;r<l.length;r++){if(i){l[r].visibility="hidden"}else{l[r].visibility="visible"}}if(this._mbcLA_nullLabelIndex!==-1){l[this._mbcLA_nullLabelIndex].visibility="visible"}l[0].visibility_tVal="visible";if(d>0){if(l[d-1].width===0){l[d-2].visibility="visible"}else{l[d-1].visibility="visible"}}t=(e+this._mbcLA_paddingBottom)*u;if(this._mbcLA_nullLabelIndex!==-1){if(d>0){t+=this._mbcLA_posInfo.noValuePadding-this._mbcLA_paddingBottom}else{t=e}}if(d>0){if(i){if(l[d-1].width===0){if(l[0].width>(e+this._mbcLA_paddingBottom)*(d-1)){a=0;l[0].visibility_tVal="hidden";l[d-2].visibility="hidden"}else{a=(e+this._mbcLA_paddingBottom)*(d-1)+l[d-2].width}}else{if(l[0].width>(e+this._mbcLA_paddingBottom)*d){l[0].visibility_tVal="hidden";l[d-1].visibility="hidden";a=0}else{a=(e+this._mbcLA_paddingBottom)*d+l[d-1].width}}}else{a=(e+this._mbcLA_paddingBottom)*d+l[d-1].width}}else{a=0}if(this._mbcLA_nullLabelIndex!==-1){if(d>0){if(a<(e+this._mbcLA_paddingBottom)*d+this._mbcLA_posInfo.noValuePadding){a=(e+this._mbcLA_paddingBottom)*d+this._mbcLA_posInfo.noValuePadding+s}else{l[this._mbcLA_nullLabelIndex].visibility="hidden"}}else{a=s}}n=t>a?t:a;if(a<=0){o=this._mbcLA_posInfo.markerSize}else{o=this._mbcLA_posInfo.markerSize+this._mbcLA_posInfo.markerPaddingRight*this._mbcLA_textHeight+this._mbcLA_textHeight}return{width:n,height:o}};var l=function(e,t){for(var a=0;a<e.length;a++){if(e[a]===t){return true}}return false};return n});define("sap/viz/modules/legend/common",["sap/viz/base/utils/oo","sap/viz/modules/Base","sap/viz/manifest","sap/viz/util/TextUtils","sap/viz/base/utils/TypeUtils","sap/viz/modules/dispatch","sap/viz/base/utils/ObjectUtils","sap/viz/modules/legend/colorLegendArea","sap/viz/modules/legend/sizeLegendArea","sap/viz/modules/legend/mbcLegendArea","sap/viz/lang/langManager","sap/viz/base/utils/Objects","sap/viz/modules/util/BoundUtil","sap/viz/base/UADetector","sap/viz/mvc/TapGestureDetector","sap/viz/format/FormatManager"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_){var g=function(e,t){this._legend_imageInfo={imageMode:false,imagePalette:[],radio:1};this._legend_width=0;this._legend_height=0;this._legend_preferenceSize={width:0,height:0};this._legend_titleFont={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"14px",fontweight:"bold",color:"#333333"};this._legend_valueLabelFont={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"12px",fontweight:"normal",color:"#333333"};this._legend_options={};this._legend_isVisible=true;this._legend_shapes=[];this._legend_colors=[];this._legend_textHeight=20;this._legend_margin={top:0,right:0,bottom:0,left:0};this._legend_titleMarginBottom=.5;this._legend_legendAreaPos={x:0,y:0};this._legend_sizeInfo={sizeScale:undefined,colorScale:undefined};this._legend_mbcInfo={colorScale:undefined};this._legend_hideTitle=false;this._legend_chartData={title:"",labels:""};this._legend_bubleSizeData=[];this._legend_data=null;this._legend_shapeFeeds=[];this._legend_colorFeeds=[];this._legend_colorFeedLength=0;this._legend_shapeFeedLength=0;this._legend_relayout=true;this._legend_ctx=t;this._legend_legendArea=new l(t.styleManager);this._legend_eDispatch=new o("highlightedByLegend");this._legend_effectManager=t.effectManager;this._legend_eventManager=t.eventManager;this._legend_styleManager=t.styleManager;this._legend_properties=e.props(null);this._legend_isHierarchicalChanged=false;this._legend_oTapGestureDetector=undefined;this._legend_gEnterCol=undefined;this._legend_elem_title=null;this._legend_elem_root=null;this.properties(null);this._need_parseFeedsData=false;this._firstRenderReady=undefined};t.extend(g,a);g.prototype.render=function(e){c.drawBound(e,this._legend_width,this._legend_height,undefined,true);this._legend_elem_root=e;this._legendfn_parseFeedsData(this._legend_data);this._legendfn_renderLegend(e);if(this._firstRenderReady===undefined){this._firstRenderReady=!this._legend_options.visible}};g.prototype.width=function(e){if(!arguments.length){return this._legend_width}this._legend_width=e;this._legend_legendArea.width(e);this._legend_relayout=true;return this};g.prototype.height=function(e){if(!arguments.length){return this._legend_height}this._legend_height=e;this._legend_legendArea.height(e);this._legend_relayout=true;return this};g.prototype.imageInfo=function(e){if(!arguments.length){return this._legend_imageInfo}this._legend_imageInfo=e;this._legend_relayout=true;return this};g.prototype.colorPalette=function(e){if(!arguments.length){return this._legend_colors}this._legend_colors=e;this._legend_legendArea.color(e);return this};g.prototype.shapes=function(e){if(!arguments.length){return this._legend_shapes}this._legend_shapes=e;this._legend_legendArea.shapes(e);return this};g.prototype.data=function(e){if(!arguments.length){return this._legend_data}this._legend_data=e;this._need_parseFeedsData=true;return this};g.prototype.properties=function(e){if(!arguments.length){return this._legend_properties}if(this._legend_properties&&e&&this._legend_properties.isHierarchical!==e.isHierarchical){this._legend_isHierarchicalChanged=true}p.extend(true,this._legend_properties,e);this._legend_options.visible=this._legend_properties.visible;this._legend_isVisible=this._legend_options.visible;this._legend_options.isShowTitle=this._legend_properties.title.visible;this._legend_options.titleText=this._legend_properties.title.text;this._legend_options.isHierarchy=this._legend_properties.isHierarchical;this._legend_options.isScrollable=this._legend_properties.isScrollable;this._legend_options.position=this._legend_properties.position;this._legend_options.formatString=this._legend_properties.formatString;this._legend_options.alignment=this._legend_properties.alignment;this._legend_options.drawingEffect=this._legend_properties.drawingEffect;if(this._legend_options.visible===true){if(this._firstRenderReady){this._need_parseFeedsData=true;this._firstRenderReady=false}if(this._legend_options.legendType!==this._legend_properties.type){this._legend_options.legendType=this._legend_properties.type;if(this._legend_data&&this._legend_chartData.labels){this._need_parseFeedsData=true}if(z(this._legend_options.legendType)){this._legend_legendArea=new u(this._legend_styleManager)}else if(E(this._legend_options.legendType)){this._legend_legendArea=new d(this._legend_styleManager)}}this._legend_legendArea.properties(this._legend_options)}else{this._need_parseFeedsData=false}this._legend_height=0;this._legend_width=0;return this};g.prototype.getPreferredSize=function(){this._legendfn_parseFeedsData(this._legend_data);this._legendfn_getThemeStyleDef();return this._legendfn_calculateRowPosition()};g.prototype.sizeLegendInfo=function(e){if(!arguments.length){return this._legend_sizeInfo.sizeScale}this._legend_sizeInfo.sizeScale=e.scale;this._legend_legendArea.scale(this._legend_sizeInfo.sizeScale);this._legend_sizeInfo.color=e.color;if(e.data.length===0){this._legend_isVisible=false}else{this._legend_isVisible=this._legend_options.visible;this._legend_bubleSizeData=e.data;this._legend_legendArea.data(this._legend_bubleSizeData)}this._legend_chartData.title=T(e.title);return this};g.prototype.mbcLegendInfo=function(e){if(!arguments.length){return this._legend_mbcInfo.colorScale}this._legendfn_parseFeedsData(this._legend_data);if(e.colorScale===undefined){this._legend_isVisible=false}else{this._legend_isVisible=this._legend_options.visible;this._legend_mbcInfo.colorScale=e.colorScale;this._legend_chartData.title=T(e.title);this._legendfn_parseMeasureBasedColoringLegend();this._legend_legendArea.data(this._legend_chartData.labels)}return this};g.prototype.deselectLegend=function(e){};g.prototype.setSelectionMode=function(e){};g.prototype.dispatch=function(e){if(!arguments.length){return this._legend_eDispatch}this._legend_eDispatch=e;return this};g.prototype.getPropertyZone=function(){var e=[],t,a,i,r,s,o;if(z(this._legend_options.legendType)){t="sizeLegend"}else{t="legend"}if(this._legend_isVisible&&this._legend_options.isShowTitle&&!this._legend_hideTitle){a=this._legend_elem_title.node().getBoundingClientRect();if(a.width>1.5&&a.height>1.5){r=[[]];r[0].push([a.left,a.top]);r[0].push([a.right,a.top]);r[0].push([a.right,a.bottom]);r[0].push([a.left,a.bottom]);e.push({name:t+" title",bound:r})}}o=this._legend_elem_root.select(".v-bound").node().getBoundingClientRect();if(o.width>1.5&&o.height>1.5){i={left:o.left,right:o.right,top:o.top,bottom:o.bottom};if(e.length>0){i.top=e[0].bound[0][3][1]+1}s=[[]];s[0].push([i.left,i.top]);s[0].push([i.right,i.top]);s[0].push([i.right,i.bottom]);s[0].push([i.left,i.bottom]);e.push({name:t,bound:s})}return e};g.prototype.destroy=function(){if(this._legend_legendArea&&this._legend_legendArea.destroy){this._legend_legendArea.destroy()}if(this._legend_gEnterCol){this._legend_gEnterCol.on("click",null);this._legend_gEnterCol=null}this._legend_colorFeeds=null;this._legend_data=null;this._legend_chartData=null;this._legend_legendArea=null;this._legend_effectManager=null;this._legend_eventManager=null;this._legend_styleManager=null;this._legend_elem_root=null;if(this._legend_ctx){this._legend_ctx.destroy();this._legend_ctx=null}};g.prototype.highlight=function(e){if(this._legend_legendArea){this._legend_legendArea.highlight(e)}};g.prototype.unhighlight=function(e,t){if(this._legend_legendArea){this._legend_legendArea.unhighlight(e,t)}};g.prototype.selected=function(e){if(this._legend_legendArea){this._legend_legendArea.selected(e)}};g.prototype.panStart=function(e){if(this._legend_legendArea&&this._legend_legendArea.panStart){this._legend_legendArea.panStart(e)}};g.prototype.panMove=function(e){if(this._legend_legendArea&&this._legend_legendArea.panMove){this._legend_legendArea.panMove(e)}};g.prototype.panEnd=function(e){if(this._legend_legendArea&&this._legend_legendArea.panEnd){this._legend_legendArea.panEnd(e)}};g.prototype._legendfn_renderLegend=function(e){var t=this;e.each(function(){if(S(t._legend_options.legendType)||D(t._legend_options.legendType)){if(t._legend_chartData.labels.length===0){t._legend_isVisible=false}}if(t._legend_isVisible&&w.call(t)){t._legendfn_getThemeStyleDef();if(t._legend_relayout){t._legendfn_calculateRowPosition({width:t._legend_width,height:t._legend_height})}var e=t._legend_margin.left*t._legend_textHeight,a=t._legend_margin.top*t._legend_textHeight,i=t._legend_margin.right*t._legend_textHeight,s=t._legend_margin.bottom*t._legend_textHeight;var o=d3.select(this).selectAll("g.v-content").data([t._legend_chartData]);o.enter().append("g").attr("class","v-content");if(t._legend_isHierarchicalChanged){t._legend_isHierarchicalChanged=false;o.selectAll(".v-row").remove();o.selectAll(".v-group").remove()}if(t._legend_options.isShowTitle&&!t._legend_hideTitle){var n=parseInt(t._legend_titleFont.fontsize,10);var l="font-weight: "+t._legend_titleFont.fontweight+"; fill:"+t._legend_titleFont.color+"; font-family: "+t._legend_titleFont.fontfamily+"; font-size: "+t._legend_titleFont.fontsize+";";var u=t._legend_options.titleText===undefined||t._legend_options.titleText===null?t._legend_chartData.title:t._legend_options.titleText;var d=o.selectAll("text.v-title");if(d.empty()){d=o.append("text").attr("class","v-title viz-legend-title")}t._legend_elem_title=d;var h=t._legend_styleManager.queryDefault("v-title");d.text(u).attr("dx",e).attr("dy",a+n).attr("visibility","visible").attr("font-weight",h["font-weight"]).attr("fill",h["fill"]).attr("font-family",h["font-family"]).attr("font-size",h["font-size"]).attr("font-style",h["font-style"]);d.each(function(a){r.ellipsis(u,this,t._legend_width-e-i,l)})}else{o.selectAll("text.v-title").attr("visibility","hidden");if(t._legend_hideTitle){t._legend_hideTitle=false}}var p=t._legend_chartData.labels;var c=o.selectAll("g.v-groups").data([p]);t._legend_gEnterCol=c;c.enter().append("g").attr("class","v-groups v-label viz-legend-valueLabel");c.attr("transform","translate("+t._legend_legendAreaPos.x+","+t._legend_legendAreaPos.y+")");var f=(!t._legend_width?t._legend_preferenceSize.width:t._legend_width)-e-i;var m=(!t._legend_height?t._legend_preferenceSize.height:t._legend_height)-s;t._legend_legendArea.properties(t._legend_options).width(f).height(m-t._legend_legendAreaPos.y).effectManager(t._legend_effectManager);if(z(t._legend_options.legendType)){t._legend_legendArea.data(t._legend_bubleSizeData).scale(t._legend_sizeInfo.sizeScale).color(t._legend_sizeInfo.color)}else if(E(t._legend_options.legendType)){t._legend_legendArea.data(p).color(t._legend_mbcInfo.colorScale.range())}else{t._legend_legendArea.imageInfo(t._legend_imageInfo);t._legend_legendArea.data(p).color(t._legend_colors).colorFeedLength(t._legend_colorFeedLength).shapeFeedLength(t._legend_shapeFeedLength)}t._legend_legendArea.render(c);if(t._legend_options.position==="left"||t._legend_options.position==="right"){switch(t._legend_options.alignment){case"start":o.attr("transform","translate("+0+","+0+")");break;case"end":o.attr("transform","translate("+0+", "+(t._legend_height-t._legend_preferenceSize.height>0?t._legend_height-t._legend_preferenceSize.height:0)+")");break;case"middle":o.attr("transform","translate("+0+", "+((t._legend_height-t._legend_preferenceSize.height)/2>0?(t._legend_height-t._legend_preferenceSize.height)/2:0)+")");break}}else{o.attr("transform","translate("+0+","+0+")")}}else{var _=d3.select(this).selectAll("g.v-content");if(!_.empty()){_.remove()}}})};g.prototype._legendfn_isInLegendContent=function(e){var t=false;if(e===null){return false}else{if(e===this._legend_gEnterCol.node()){return true}t=this._legendfn_isInLegendContent(e.parentNode)}return t};g.prototype._legendfn_isValid=function(e){return this._legendfn_isInLegendContent(e.target)};g.prototype._legendfn_getThemeStyleDef=function(){var e=this._legend_styleManager.query("v-title");if(e){if(e["fill"]){this._legend_titleFont.color=e["fill"]}if(e["font-family"]){this._legend_titleFont.fontfamily=e["font-family"]}if(e["font-size"]){this._legend_titleFont.fontsize=e["font-size"]}if(e["font-weight"]){this._legend_titleFont.fontweight=e["font-weight"]}}var t=this._legend_styleManager.query("v-label");if(t){if(t["fill"]){this._legend_valueLabelFont.color=t["fill"]}if(t["font-family"]){this._legend_valueLabelFont.fontfamily=t["font-family"]}if(t["font-size"]){this._legend_valueLabelFont.fontsize=t["font-size"]}if(t["font-weight"]){this._legend_valueLabelFont.fontweight=t["font-weight"]}}};g.prototype._legendfn_parseFeedsData=function(e){if(!this._need_parseFeedsData||!e){return}this._legend_colorFeeds=[];this._legend_shapeFeeds=[];var t=e.getAnalysisAxisDataByIdx(0);if(t){this._legend_colorFeeds=t.values}t=e.getAnalysisAxisDataByIdx(1);if(t){this._legend_shapeFeeds=t.values}if(D(this._legend_options.legendType)){this._legendfn_parseBubbleColorLegendFeeds()}else if(z(this._legend_options.legendType)){this._legend_chartData.labels=[0,0,0]}else{this._legendfn_parseColorLegendFeeds()}if(!E(this._legend_options.legendType)){this._legend_legendArea.data(this._legend_chartData.labels)}this._need_parseFeedsData=false};g.prototype._legendfn_parseMeasureBasedColoringLegend=function(){var e=[],t={val:undefined,ctx:{}};var a=this._legend_mbcInfo.colorScale.domain();var i=this._legend_mbcInfo.colorScale.domainInfo;var r=a.length;for(var o=0,l=r-1;o<r;o++,l--){if(a[o].length>0){t.val=a[o][0];t.ctx.ranges={startValue:a[o][0],endValue:a[o][1],isRightOpen:i[o].isRightOpen,isLeftOpen:i[o].isLeftOpen,isAsending:i[o].isAscending}}else{t.val="N/A";t.ctx.ranges={}}t.ctx.path=i[o].dpPaths;e[l]={};n.extend(true,e[l],t)}if(e[r-1].val===-Number.MAX_VALUE){e[r-1].val=undefined;e[r-2].val="<"+_.format(e[r-2].ctx.ranges.startValue,this._legend_options.formatString)}if(e[0].val==="N/A"){var u=e.shift();e.push(u)}var d=e[0].ctx.ranges.endValue;if(d===Number.MAX_VALUE){d=">"+_.format(e[0].ctx.ranges.startValue,this._legend_options.formatString)}e[0].val1=d;if(s.isExist(this._legend_options.formatString)){for(o=0;o<e.length;o++){var h=e[o];if(h.val!==undefined){h.val=_.format(h.val,this._legend_options.formatString)}if(h.val1!==undefined){h.val1=_.format(h.val1,this._legend_options.formatString)}}}this._legend_chartData.labels=e};function v(){this.array=[];this.index={}}v.prototype.push=function(e){this.array.push(e);this.index[e.val]=this.array.length-1};v.prototype.lookupByValue=function(e){var t=this.index[e];if(t!==undefined){return this.array[t]}else{return null}};g.prototype._legendfn_parseBubbleColorLegendFeeds=function(){var e=new v,t="",a="",i,r=0,s,o={val:undefined,ctx:{path:{}}},l,u,d;this._legend_colorFeedLength=0,this._legend_shapeFeedLength=0;if(this._legend_colorFeeds&&this._legend_colorFeeds.length>0&&this._legend_colorFeeds[0].rows.length>0){var h=this._legend_colorFeeds[0];t=T(h.col.val);l="dii_a"+(h.rows[0].ctx.path.aa+1);o={val:h.rows[0].val,ctx:{path:{}},info:h.rows[0].info};o.ctx.path[l]=[h.rows[0].ctx.path.dii];for(i=1,s=h.rows.length;i<s;i++){a=h.rows[i].val;d=e.lookupByValue(a);if(a===o.val){o.ctx.path[l].push(h.rows[i].ctx.path.dii)}else if(d!==null){d.ctx.path[l].push(h.rows[i].ctx.path.dii)}else{d={};o.val=C(o);n.extend(true,d,o);o.val=a;o.ctx={path:{}};o.ctx.path[l]=[h.rows[i].ctx.path.dii];e.push(d)}}d={};o.val=C(o);n.extend(true,d,o);e.push(d);this._legend_colorFeedLength=e.length}e=e.array;if(this._legend_shapeFeeds&&this._legend_shapeFeeds.length>0){var p=this._legend_shapeFeeds[0],c=[];t=t===""?T(p.col.val):t+" / "+T(p.col.val);l="dii_a"+(p.rows[0].ctx.path.aa+1);o={val:p.rows[0].val,ctx:{path:{}},info:p.rows[0].info},r=0;o.ctx.path[l]=[p.rows[0].ctx.path.dii];for(i=1,s=p.rows.length;i<s;i++){a=p.rows[i].val;u=b(c,a);if(a===o.val){o.ctx.path[l].push(p.rows[i].ctx.path.dii)}else if(u!==false){c[u].ctx.path[l].push(p.rows[i].ctx.path.dii)}else{c[r]={};o.val=C(o);n.extend(true,c[r++],o);o.val=a;o.ctx={path:{}};o.ctx.path[l]=[p.rows[i].ctx.path.dii]}}c[r]={};o.val=C(o);n.extend(true,c[r],o);this._legend_shapeFeedLength=c.length;if(e.length>0){e=x([e,c]," / ")}else{e=c}}if(e.length===0){this._legend_isVisible=false}else{this._legend_isVisible=this._legend_options.visible}this._legend_chartData={title:t,labels:e}};g.prototype._legendfn_parseColorLegendFeeds=function(){var e,t=[];this._legend_colorFeedLength=0;this._legend_shapeFeedLength=0;var a=this._legendfn_parseLegendFeed(e,this._legend_colorFeeds,this._legend_colorFeedLength);this._legend_colorFeedLength=a.feedsLength;var i=this._legendfn_parseLegendFeed(e,this._legend_shapeFeeds,this._legend_shapeFeedLength);this._legend_shapeFeedLength=i.feedsLength;if(i.labels.length>0){if(a.labels.length>0){if(a.MNDInfo.MNDIndex===undefined&&i.MNDInfo.MNDIndex===undefined){t=x([a.labels,i.labels]," / ");e=a.title+" / "+i.title}else{if(a.MNDInfo.MNDIndex!==undefined&&!a.MNDInfo.hasOnlyMND||i.MNDInfo.MNDIndex!==undefined&&!i.MNDInfo.hasOnlyMND){t=x([a.labels,i.labels]," - ");e=a.title+" - "+i.title}else if(a.MNDInfo.MNDIndex!==undefined&&a.MNDInfo.hasOnlyMND){t=i.labels;e=i.title}else{t=a.labels;e=a.title}}}else{t=i.labels;e=i.title}}else{t=a.labels;e=a.title}if(t.length===0){this._legend_isVisible=false}else{this._legend_isVisible=this._legend_options.visible}this._legend_chartData={title:e,labels:t}};g.prototype._legendfn_parseLegendFeed=function(e,t,a){var i=[],r=[],s=" / ",o=" - ";var n,l=false,u,d,p;if(t&&t.length>0){for(u=0,p=t.length;u<p;u++){if(t[u].type!=="MND"){if(e===undefined){e=T(t[u].col.val)}else{e=e+s+T(t[u].col.val)}r=t[u].rows;for(d=0;d<r.length;d++){if(i[d]===undefined){i[d]={};i[d].val=C(r[d]);if(r[d].dataTransformInfo&&r[d].dataTransformInfo.autoBinning){i[d].val+="("+r[d].dataTransformInfo.autoBinning.othersNum+")"}i[d].ctx={path:y(r[d].ctx.path)};i[d].orignialVal=[];i[d].orignialVal.push(T(r[d].val))}else{if(r[d].val!==""){i[d].val=i[d].val+s+C(r[d]);i[d].orignialVal.push(T(r[d].val))}}}}else{n=u}}a=i.length}if(n!==undefined){if(i.length>0){if(t[n].rows.length>1){if(n===0){e=h.get("IDS_DEFAULTMND")+o+e;i=x([L(t[n].rows),i],o);a=a*t[n].rows.length}else if(n===t.length-1){e=e+o+h.get("IDS_DEFAULTMND");i=x([i,L(t[n].rows)],o);a=a*t[n].rows.length}}}else{e=h.get("IDS_DEFAULTMND");r=t[n].rows;for(d=0;d<r.length;d++){i[d]={};i[d].val=C(r[d]);i[d].ctx=r[d].ctx;i[d].orignialVal=[];i[d].orignialVal.push(T(r[d].val))}a=r.length;if(r.length===1){l=true}}}return{title:e,labels:i,feedsLength:a,MNDInfo:{MNDIndex:n,hasOnlyMND:l}}};g.prototype._legendfn_calculateRowPosition=function(){var e=0,t=0,a=0,i=0,s={width:0,height:0},o={};var n,l,u;if(this._legend_isVisible&&this._legend_legendArea.hasData()){n="font-size:"+this._legend_titleFont.fontsize+"; font-weight:"+this._legend_titleFont.fontweight+"; font-family:"+this._legend_titleFont.fontfamily;this._legend_textHeight=parseInt(this._legend_valueLabelFont.fontsize,10);l=this._legend_margin.left*this._legend_textHeight,u=this._legend_margin.top*this._legend_textHeight;var d=u,h=this._legend_margin.right*this._legend_textHeight,p=this._legend_margin.bottom*this._legend_textHeight;if(this._legend_options.isShowTitle&&(typeof this._legend_options.titleText!=="undefined"&&this._legend_options.titleText!==null||typeof this._legend_chartData.title!=="undefined"&&this._legend_chartData.title!==null)){s=r.fastMeasure(typeof this._legend_options.titleText==="undefined"||this._legend_options.titleText===null?this._legend_chartData.title:this._legend_options.titleText,this._legend_titleFont.fontsize,this._legend_titleFont.fontweight,this._legend_titleFont.fontfamily);u=u+s.height+this._legend_titleMarginBottom*this._legend_textHeight}this._legend_legendAreaPos={x:l,y:u};o=this._legend_legendArea.getPreferredSize();if(this._legend_options.position==="top"||this._legend_options.position==="bottom"){t=l+(s.width>o.width?s.width:o.width);e=u+o.height;a=l+o.minWidth;i=d+o.minHeight}else{t=l+(s.width>o.width?s.width:o.width);e=u+o.height;a=l+o.minWidth;i=d+o.minHeight}if(this._legend_options.isShowTitle){var c={width:this._legend_width-l-h,height:this._legend_height-u-p};if(parseFloat(c.height.toFixed(1))<parseFloat(o.minHeight.toFixed(1))){this._legend_hideTitle=true;this._legend_legendAreaPos={x:l,y:d};if(this._legend_height>0&&c.height<0&&(this._legend_options.position==="top"||this._legend_options.position==="bottom")){e=o.height+d}}else{this._legend_hideTitle=false}}t=t+h;a=a+h;e=e+p;i=i+p}this._legend_preferenceSize={width:t,height:e,maxWidth:t,maxHeight:e,minWidth:a,minHeight:i};return this._legend_preferenceSize};var y=function(e){var t={};switch(e.aa){case 0:t.dii_a1=e.dii;break;case 1:t.dii_a2=e.dii;break;case 2:t.dii_a3=e.dii;break}return t};var b=function(e,t){for(var a=0;a<e.length;a++){if(e[a].val===t){return a}}return false};var x=function(e,t){var a=e[0];var i=function(e){var i=a;a=[];for(var r=0;r<i.length;r++){for(var s=0;s<e.length;s++){var o=i[r].val===undefined?i[r].val:i[r].val,l=e[s].val===undefined?e[s].val:e[s].val;var u={path:{}};n.extend(u.path,i[r].ctx.path,e[s].ctx.path);var d={val:o+t+l,ctx:u,orignialVal:[]};if(i[r].orignialVal===undefined){d.orignialVal.push(i[r].val)}else{d.orignialVal=d.orignialVal.concat(i[r].orignialVal)}if(e[s].orignialVal===undefined){d.orignialVal.push(e[s].val)}else{d.orignialVal=d.orignialVal.concat(e[s].orignialVal)}a.push(d)}}};for(var r=1;r<e.length;r++){i(e[r])}return a};var A=function(e){var t=false;if(e.search("color")!==-1){t=true}return t};var M=function(e){var t=false;if(e.search("shape")!==-1){t=true}return t};var S=function(e){var t=false;if(e==="ColorLegend"){t=true}return t};var z=function(e){var t=false;if(e==="SizeLegend"){t=true}return t};var D=function(e){var t=false;if(e==="BubbleColorLegend"){t=true}return t};var E=function(e){var t=false;if(e==="MeasureBasedColoringLegend"){t=true}return t};var w=function(){return this._legend_width>0&&this._legend_height>0};var T=function(e){var t=h.get("IDS_ISNOVALUE");if(e===null||e===undefined){return t}else{return e}};var C=function(e){var t;if(e.info){var a=e.info.customlabel;if(a){if(a.type==="url"){t=e.val}else if(a.type==="string"){t=a.val}}else{t=e.val}}else{t=e.val}t=T(t);return t};var L=function(e){var t=[];for(var a=0;a<e.length;++a){t[a]={};n.extend(true,t[a],e[a]);t[a].val=T(e[a].val)}return t};var I=function(){if(d3.event){return d3.event}else{return window.event}};return g});define("sap/viz/modules/manifests/legend/Common",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/legend/common","sap/viz/base/UADetector"],function e(t,a,i,r){var s={id:"sap.viz.modules.legend.common",type:a.Type.Supplementary,name:"common legend",description:"Settings for the legend",properties:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set the visibility of the legend"},title:{name:"title",description:"Settings for the legend title",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set the visibility of the legend title"},text:{name:"text",supportedValueType:"String",defaultValue:null,description:"Set the text of the legend title"}}},formatString:{name:"formatString",supportedValueType:"String",defaultValue:null,description:"Set the format string for the legend. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@.",isExported:false},isHierarchical:{name:"isHierarchical",supportedValueType:"Boolean",defaultValue:false,description:"Set whether the legend is hierarchical. This is only supported if the legend is located to the right of the chart.",isExported:true,example:"<a href='"+a.DocExample.SnippetUrl+"8742' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},isScrollable:{name:"isScrollable",supportedValueType:"Boolean",defaultValue:false,description:"Set whether the legend is scrollable. If this value is set to 'false', and there is not enough room to show the whole legend, an ellipsis (...) indicates the missing legend items.",isExported:true},position:{name:"position",supportedValueType:"String",supportedValues:["top","bottom","right","left"],defaultValue:"right",description:'It is a deprecated property. Please use "legendGroup.layout.position" property to set legend position. ',isExported:false},type:{name:"type",supportedValueType:"String",supportedValues:["ColorLegend","BubbleColorLegend","SizeLegend","MeasureBasedColoringLegend"],defaultValue:"ColorLegend",description:"Set legend type for Bubble charts. Non-bubble charts are not supported.",isExported:false},alignment:{name:"alignment",supportedValueType:"String",supportedValues:["start","middle","end"],defaultValue:"start",description:"Set the alignment of the legend",isExported:false},drawingEffect:{name:"drawingEffect",supportedValueType:"String",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set the drawing effect for colors in the legend. If this value is set to 'glossy', colors are glossy. If this value is set to 'normal', colors are matte.",isExported:true,example:"<a href='"+a.DocExample.SnippetUrl+"9606' target='_blank'>"+a.DocExample.TryThisValue+"</a>"}},css:{".viz-legend-title.v-title":{description:"Define the style for the the legend title",value:{fill:"#000000","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"14px","font-weight":"bold","font-style":"normal"}},".viz-legend-valueLabel.v-label":{description:"Define the style for the legend label",value:{fill:"#000000","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"normal","font-style":"normal"}},".v-hovershadow":{description:"Define the style for the hovershadow in legend",value:{fill:"#cccccc"}},".v-scrollbarThumb":{description:"Define the style for the legend's scrollbar thumb",value:{fill:"#a6a6a6",opacity:1}}},configure:null,fn:i};var o={viz:[],module:[s],feeds:[]};return o});define("sap/viz/modules/manifests/Background",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/background"],function e(t,a,i){var r={name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set the visibility"};var s={id:"sap.viz.modules.background",type:a.Type.Supplementary,name:"background",description:"Settings for the background of the outer chart area",properties:{visible:r,border:{name:"border",cssClass:".v-background-border.viz-plot-background-border",description:"Settings for the border",supportedValueType:"Object",supportedValues:{left:{name:"left",description:"Settings for the left border",supportedValueType:"Object",supportedValues:{visible:r}},right:{name:"right",description:"Settings for the right border",supportedValueType:"Object",supportedValues:{visible:r}},top:{name:"top",description:"Settings for the top border",supportedValueType:"Object",supportedValues:{visible:r}},bottom:{name:"bottom",description:"Settings for the bottom border",supportedValueType:"Object",supportedValues:{visible:r}},stroke:{name:"stroke",cssStyle:"stroke",supportedValueType:"String",defaultValue:"#d8d8d8",description:"Settings for the color of the stroke.",isExported:false},strokeWidth:{name:"strokeWidth",cssStyle:"stroke-width",supportedValueType:"Int",defaultValue:1,description:"Settings for the width of the stroke.",isExported:false}}},drawingEffect:{name:"drawingEffect",description:"Set the drawing effect for the background. If this value is set to 'glossy', the background is glossy. If this value is set to 'normal', the background is matte.",supportedValueType:"String",supportedValues:["normal","glossy"],defaultValue:"normal",isExported:true},direction:{name:"direction",description:"Set the direction of the color gradient in the background. This only takes effect if the 'drawingEffect' value is set to 'glossy'.",supportedValueType:"String",supportedValues:["horizontal","vertical"],defaultValue:"vertical"},color:{name:"color",supportedValueType:"String",cssClass:".v-background-body.viz-plot-background",cssStyle:"fill",description:"Define the color for the plot background body.",defaultValue:"transparent",isExported:false}},css:{".v-background-body.viz-plot-background":{description:"Define the style for the plot background body",value:{fill:"transparent"}},".v-background-border.viz-plot-background-border":{description:"Define the style for the plot background border",value:{stroke:"#d8d8d8","stroke-width":1}}},configure:null,fn:i};var o={viz:[],module:[s],feeds:[]};return o});define("sap/viz/modules/title",["sap/viz/base/utils/oo","sap/viz/modules/Base","sap/viz/util/TextUtils","sap/viz/lang/langManager","sap/viz/base/utils/Objects","sap/viz/modules/util/BoundUtil","sap/viz/base/UADetector"],function e(t,a,i,r,s,o,n){var l=function(e,t){this._ttl_width=0;this._ttl_height=0;this._ttl_titleStyle=null;this._ttl_options=e.props(null);this._ttl_size={width:500,height:100},this._ttl_titleText="";this._ttl_ctx=t;this._ttl_elem_title=null};t.extend(l,a);l.prototype.render=function(e){if(this._ttl_options.visible){o.drawBound(e,this._ttl_width,this._ttl_height,undefined,true);this._ttlfn_updateTitleStyle();var t=e.selectAll("text.v-title").data([this._ttl_titleText]);t.exit().remove();t.enter().append("text").attr("class","v-title viz-title-label").attr("text-rendering","geometricPrecision");this._ttl_elem_title=t;this._ttl_ctx.styleManager.queryDefault("v-title").toAttrs(t);var a=this;t.attr("text-anchor",function(){if(a._ttl_options.alignment==="right"){return"end"}else if(a._ttl_options.alignment==="left"){return"start"}else{return"middle"}}).attr("x",function(){if(a._ttl_options.alignment==="right"){return a._ttl_width}else if(a._ttl_options.alignment==="left"){return 0}else{return a._ttl_width/2}}).attr("y",this._ttl_height/2).attr("dominant-baseline","central");if(n.isIE()){t.attr("y",this._ttl_height).attr("dominant-baseline","auto")}i.ellipsis(this._ttl_titleText,t.node(),this._ttl_width,this._ttl_titleStyle.toString())}else{e.selectAll("text.v-title").remove()}};l.prototype.width=function(e){if(!arguments.length){return this._ttl_width}this._ttl_width=e;return this};l.prototype.height=function(e){if(!arguments.length){return this._ttl_height}this._ttl_height=e;return this};l.prototype.size=function(e){if(!arguments.length){return this._ttl_size}this._ttl_size=e;return this};l.prototype.destroy=function(){if(this._ttl_ctx){this._ttl_ctx.destroy();this._ttl_ctx=null}};l.prototype.properties=function(e){if(!arguments.length){return this._ttl_options}s.extend(true,this._ttl_options,e);if(this._ttl_options.text===""||this._ttl_options.text===null){this._ttl_titleText=r.get("IDS_DEFAULTCHARTTITLE")}else{this._ttl_titleText=this._ttl_options.text}return this};l.prototype.getPreferredSize=function(){if(this._ttl_options.visible){this._ttlfn_updateTitleStyle();var e=i.fastMeasure(this._ttl_titleText,this._ttl_titleStyle["font-size"],this._ttl_titleStyle["font-weight"],this._ttl_titleStyle["font-family"]);var t=i.fastMeasure("M...",this._ttl_titleStyle["font-size"],this._ttl_titleStyle["font-weight"],this._ttl_titleStyle["font-family"]);return{hideOversize:true,maxSizeConstant:1/3,width:e.width,height:e.height,minWidth:t.width,minHeight:t.height,maxWidth:e.width,maxHeight:e.height}}return{maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,width:0,height:0}};l.prototype.getPropertyZone=function(){var e=[],t,a;if(this._ttl_options.visible){t=this._ttl_elem_title.node().getBoundingClientRect();a=[[]];a[0].push([t.left,t.top]);a[0].push([t.right,t.top]);a[0].push([t.right,t.bottom]);a[0].push([t.left,t.bottom]);e.push({name:"title",bound:a})}return e};l.prototype._ttlfn_updateTitleStyle=function(){this._ttl_titleStyle=this._ttl_ctx.styleManager.query("v-title")};return l});define("sap/viz/modules/manifests/Title",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/title"],function e(t,a,i){var r={id:"sap.viz.modules.title",type:a.Type.Supplementary,name:"title",description:"Settings for the main title",properties:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set the visibility of the main title"},text:{name:"text",supportedValueType:"String",defaultValue:null,description:"Set the text of the main title"},alignment:{name:"alignment",supportedValueType:"String",supportedValues:["left","center","right"],defaultValue:"center",description:"Set the alignment of the main title"},layout:{name:"layout",supportedValueType:"Object",supportedValues:{position:{name:"position",supportedValueType:"String",defaultValue:"right",description:"Set the position of the title"},priority:{name:"priority",supportedValueType:"Int",defaultValue:0,description:"Set the priority of the position for the title",isExported:false}},description:"Settings for layout of title",isExported:false}},css:{".viz-title-label.v-title":{description:"Define the style for the title label",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"16px","font-weight":"bold",fill:"#333333","font-style":"normal"}}},configure:null,fn:i};var s={viz:[],module:[r],feeds:[]};return s});define("sap/viz/modules/manifests/layout/Stack",["sap/viz/modules/manifests/Module","sap/viz/modules/layout/stack","sap/viz/modules/manifests/layout/Base"],function e(t,a,i){var r={id:"sap.viz.modules.layout.stack",name:"stack",base:"sap.viz.modules.layout.base",description:"The stack layout algorithm",properties:{},configure:null,fn:a};var s={viz:[],module:[r].concat(i.module),feeds:[].concat(i.feeds)};return s});define("sap/viz/modules/layout",["sap/viz/base/utils/TypeUtils"],function e(t){var a=function(e){var a=true;if(e.hideAxisTitleFirst===false){a=false}var i={resize:true,type:"grid",padding:[0,0,0,0],hgap:0,vgap:0};var r=e.hgap||i.hgap,s=e.vgap||i.vgap,o=e.padding||i.padding,n=e.bias||"none";var l;function u(e){var t=e.specs;var a=e.size;var i={};for(var r in t){if(t.hasOwnProperty(r)){i[t[r].info]={size:t[r].preferSize,key:r}}}d(i);var s={};for(var o in l){if(l.hasOwnProperty(o)){s[i[o].key]=l[o]}}l=s}function d(t){l={};var i={},u=true;i.width=e.size.width-o[1]-o[3];i.height=e.size.height-o[0]-o[2];var d=o[3],h=o[0],p=e.size.width-o[1],c=e.size.height-o[2];var f=new Array(5);var m;if(n instanceof Array){f[0]=n[0];f[1]=n[1];f[2]="north";f[3]="south"}else{switch(n){case"west":f[0]="west";f[1]="north";f[2]="south";f[3]="east";break;case"east":f[0]="east";f[1]="north";f[2]="south";f[3]="west";break;default:f[0]="south";f[1]="north";f[3]="east";f[2]="west"}}f[4]="center";function _(e){function o(e,t){if(arguments.length<3){return 0}var i=Array.prototype.slice.apply(arguments).slice(2);var r=[];var s;for(s=0;s<i.length;s++){if(i[s].length>1){if(a){r[s]=i[s].slice(1);r[s].push(i[s][0])}else{r[s]=i[s].slice(0)}}}var o=0;var n=0;var l,u=r[0].length;for(s=1;s<r.length;++s){if(u<r[s].length){u=r[s].length}}for(s=0;s<u;s++){for(l=0;l<r.length;l++){if(r[l][s]!==undefined){n+=r[l][s]}}if(n>e){if(a){if(s===1&&t>0){if(r.length>1&&t+r[1][1]+r[1][0]+r[0][0]<=e){return e-r[1][1]}if(r.length===1&&t+r[0][0]<=e){return e}}}else{if(s===2&&t>0){if(r.length>1&&t+r[1][2]+r[1][1]+r[1][0]+r[0][0]+r[0][1]<=e){return e-r[1][2]-r[1][1]-r[1][0]}if(r.length===1&&t+r[0][0]+r[0][1]<=e){return e}}}return o}o+=r[0][s]}return o}var n={},f={};var m,_,g,v,y,b;if(e==="north"&&t.north){n=l.north={};f=t.north.size;m=f.height;_=m;if(u){if(f.spacings&&t.south&&t.south.size.spacings){_+=t.south.size.height}if(f.maxSizeConstant!=null&&_>i.height*f.maxSizeConstant){if(f.hideOversize){m=0}else if(f.spacings){if(t.south&&t.south.size.spacings){if(l.south===null&&a){m=0}else if(f.minTruncateSize===0){y=i.height*f.maxSizeConstant;if(l.south){y-=l.south.bounds.height}m=o(y,f.minTruncateSize,f.spacings)}else{m=o(i.height*f.maxSizeConstant,f.minTruncateSize,f.spacings,t.south.size.spacings)}}else{m=o(i.height*f.maxSizeConstant,f.minTruncateSize,f.spacings)}}else{m=i.height*f.maxSizeConstant}}}n.bounds={x:d,y:h,width:p-d,height:m};h+=n.bounds.height+r;if(n.bounds.height===0){l.north=null}}if(e==="east"&&t.east){n=l.east={};f=t.east.size;g=f.width;v=g;var x=0;if(u){if(f.spacings&&t.west&&t.west.size.spacings){v+=t.west.size.width}if(f.maxSizeConstant!=null&&v>i.width*f.maxSizeConstant){if(f.hideOversize){g=0}else if(f.spacings){if(t.west&&t.west.size.spacings){if(l.west===null&&a){g=0}else if(f.minTruncateSize===0){b=i.width*f.maxSizeConstant;if(l.west){b-=l.west.bounds.width}g=o(b,f.minTruncateSize,f.spacings)}else{g=o(i.width*f.maxSizeConstant,f.minTruncateSize,f.spacings,t.west.size.spacings)}}else{g=o(i.width*f.maxSizeConstant,f.minTruncateSize,f.spacings)}}else{g=i.width*f.maxSizeConstant}}if(g<f.minWidth){g=0}x=p-g}else{x=l.west.bounds.width+l.south.bounds.width}n.bounds={x:x,y:h,width:g,height:c-h};if(n.bounds.height<f.minHeight){n.bounds.width=0}p-=n.bounds.width+s;if(n.bounds.width===0){l.east=null}}if(e==="south"&&t.south){n=l.south={};f=t.south.size;u=!f.manual;m=f.height,g=0;_=m;if(u){if(f.spacings&&t.north&&t.north.size.spacings){_+=t.north.size.height}if(f.maxSizeConstant!=null&&_>i.height*f.maxSizeConstant){if(f.hideOversize){m=0}else if(f.spacings){if(t.north&&t.north.size.spacings){if(l.north===null){m=0}else if(f.minTruncateSize===0){y=i.height*f.maxSizeConstant;if(l.north){y-=l.north.bounds.height}m=o(y,f.minTruncateSize,f.spacings)}else{m=o(i.height*f.maxSizeConstant,f.minTruncateSize,f.spacings,t.north.size.spacings)}}else{m=o(i.height*f.maxSizeConstant,f.minTruncateSize,f.spacings)}}else{m=i.height*f.maxSizeConstant}}g=p-d}else{g=f.width>i.width?i.width:f.width;if(m>i.height){m=i.height}}n.bounds={x:d,y:c-m<h?h:c-m,width:g};n.bounds.height=m;c-=n.bounds.height+r;if(n.bounds.height===0){l.south=null}}if(e==="west"&&t.west){n=l.west={};f=t.west.size;g=f.width;v=g;if(u){if(f.spacings&&t.east&&t.east.size.spacings){v+=t.east.size.width}if(f.maxSizeConstant!=null&&v>i.width*f.maxSizeConstant){if(f.hideOversize){g=0}else if(f.spacings){if(t.east&&t.east.size.spacings){if(l.east===null){g=0}else if(f.minTruncateSize===0){b=i.width*f.maxSizeConstant;if(l.east){b-=l.east.bounds.width}g=o(b,f.minTruncateSize,f.spacings)}else{g=o(i.width*f.maxSizeConstant,f.minTruncateSize,f.spacings,t.east.size.spacings)}}else{g=o(i.width*f.maxSizeConstant,f.minTruncateSize,f.spacings)}}else{g=i.width*f.maxSizeConstant}}}n.bounds={x:d,y:h,width:g,height:h+f.height>c?c:h+f.height};d+=n.bounds.width+s;if(n.bounds.width===0){l.west=null}}if(e==="center"&&t.center){n=l.center={};var A=!u&&l.south?l.south.bounds.width:p-d,M=c-h;n.bounds={x:d,y:h,width:A,height:M}}}for(m=0;m<f.length;m++){_(f[m])}}function h(e){}function p(a){l=[];var i=t.isExist(e.columns)?e.columns:3;var r=t.isExist(e.rows)?e.rows:2;var s=t.isExist(e.cellpadding)?e.cellpadding:5;var n=t.isExist(e.paddingThreshold)?e.paddingThreshold:.1;var u={};u.width=e.size.width-o[1]-o[3];u.height=e.size.height-o[0]-o[2];var d=u.width/i;var h=u.height/r;if(s>d*n||s>h*n){s=2}var p=(u.width-2*i*s)/i;p=p>0?p:0;var c=(u.height-2*r*s)/r;c=c>0?c:0;var f=o[3],m=o[0],_=e.size.width-o[1],g=e.size.height-o[2];for(var v=0;v<i;v++){var y=[];for(var b=0;b<r;b++){var x={};x.bounds={x:v*d+d/2-p/2,y:b*h+h/2-c/2,width:p,height:c};y.push(x)}l.push(y)}}switch(e.type){case"border":d(e.prefs);break;case"grid":h(e.prefs);break;case"table":p();break;case"border2":u(e);break;default:h(e.prefs)}return l};return a});define("sap/viz/modules/xycontainer",["sap/viz/base/utils/oo","sap/viz/modules/Base","sap/viz/modules/Constants","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/Objects","sap/viz/base/utils/FunctionUtils","sap/viz/modules/layout","sap/viz/manifest","sap/viz/util/ignite","sap/viz/data/handler/SingleChartDataHandler","sap/viz/modules/dispatch","sap/viz/modules/util/BoundUtil","sap/viz/base/utils/log/Analyzer"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c){var f=function(e,t){this._xyc_width=0;this._xyc_height=0;this._xyc_properties={};this._xyc_data={};this._xyc_config={};this._xyc_modules={};this._xyc_selections={};this._xyc_parent=null;this._xyc_ctx=t;this._xyc_eDispatch=new h("initialized","showTooltip","hideTooltip");this._xyc_initializedModules=0;this._xyc_innerProperties=e.props(null);this._xyc_initializedCount=0;this._xyc_needRelayout=true;this._fullData=null;this._xyc_dataCache=null};t.extend(f,a);f.prototype.render=function(e){this._xyc_relayout();this._xyc_initializedCount=0;p.drawBound(e,this._xyc_width,this._xyc_height);this._xyc_parent=e;if(r.isEmptyObject(this._xyc_modules)){this._xyc_initialize()}this._xyc_renderSub()};f.prototype._xyc_relayout=function(){this._xyc_needRelayout=false;var e=this._xyc_modules;var t=this._xyc_width;var a=this._xyc_height;var i=this._xyc_selections;if(r.isEmptyObject(e)||!t||!a){return}t=t<0?0:t;a=a<0?0:a;var s={};if(e.plot){s.center={};if(e.plot.size){e.plot.size({width:t,height:a})}else{e.plot.width(t).height(a)}}var o=-1,l=-1,u=true;var d;for(d=0;d<=2;d++){if(e.xAxis){e.xAxis.drawable(true);e.yAxis.otherAxisHidden(false);s.south={size:e.xAxis.getPreferredSize()};if(s.south.manual){u=false}}if(e.yAxis){e.yAxis.drawable(true);if(e.xAxis){e.xAxis.otherAxisHidden(false)}s.west={size:e.yAxis.getPreferredSize()}}if(e.xAxis2){e.xAxis2.drawable(true);s.north={size:e.xAxis2.getPreferredSize()}}if(e.yAxis2){e.yAxis2.drawable(true);s.east={size:e.yAxis2.getPreferredSize()}}var h=true;if(this._xyc_properties.general&&this._xyc_properties.general.layout&&this._xyc_properties.general.layout.hideAxisTitleFirst!==undefined&&this._xyc_properties.general.layout.hideAxisTitleFirst!==null){h=this._xyc_properties.general.layout.hideAxisTitleFirst}var p=n({type:"border",bias:"none",size:{width:t,height:a},prefs:s,hideAxisTitleFirst:h});var c=0;var f=0;var m=0;var _=0;var g=0;var v=0;if(!p.west){if(e.xAxis&&p.south){g=e.xAxis.startPadding()}if(e.xAxis2&&p.north){v=e.xAxis2.startPadding()}_=g>v?g:v}if(!p.east){if(e.xAxis&&p.south){f=e.xAxis.endPadding()}if(e.xAxis2&&p.north){m=e.xAxis2.endPadding()}c=f>m?f:m}var y=0;var b=0;var x=0;if(!p.south){if(e.yAxis&&p.west){b=e.yAxis.startPadding()}if(e.yAxis2&&p.east){x=e.yAxis2.startPadding()}y=b>x?b:x}var A=0,M=0;if(!p.north){var S=0,z=0;if(e.yAxis&&p.west){S=e.yAxis.endPadding()}if(e.yAxis2&&p.east){z=e.yAxis2.endPadding()}A=z;if(S>z){A=S}M+=A}if(M){if(p.east){p.east.bounds.y+=M}if(p.north){p.north.bounds.y+=M}if(p.west){p.west.bounds.y+=M}if(p.center){p.center.bounds.y+=M}}if(_){if(p.north){p.north.bounds.x+=_}if(p.south){p.south.bounds.x+=_}if(p.west){p.west.bounds.x+=_}if(p.center){p.center.bounds.x+=_}}if(p.east){var D=p.east.bounds.height,E=0;if(p.south){if(!u){D=p.east.bounds.height-p.south.bounds.height}}if(p.north){if(!u){D=p.east.bounds.height-p.north.bounds.height}}E=p.east.bounds.y;i.yAxis2.attr("transform","translate("+p.east.bounds.x+","+E+")");e.yAxis2.width(p.east.bounds.width).height(D);e.yAxis2.gridlineLength(p.center.bounds.width)}else if(e.yAxis2){e.yAxis2.drawable(false)}if(p.north){var w=p.north.bounds.width,T=0;if(p.west){T=p.north.bounds.x+p.west.bounds.width;w=p.north.bounds.width-p.west.bounds.width}else{T=_}i.xAxis2.attr("transform","translate("+T+","+p.north.bounds.y+")");e.xAxis2.width(w).height(p.north.bounds.height);e.xAxis2.gridlineLength(p.center.bounds.height)}else if(e.xAxis2){e.xAxis2.drawable(false)}if(p.west){var C=p.west.bounds.height,L=0;if(p.south){if(!u){C=p.west.bounds.height-p.south.bounds.height}}if(p.north){if(!u){C=p.west.bounds.height-p.north.bounds.height}}L=p.west.bounds.y;i.yAxis.attr("transform","translate("+p.west.bounds.x+","+L+")");e.yAxis.width(p.west.bounds.width).height(C);e.yAxis.gridlineLength(p.center.bounds.width)}else if(e.yAxis){e.yAxis.drawable(false);if(e.xAxis){e.xAxis.otherAxisHidden(true)}}if(p.south){var I=0,k=0;if(p.west){k=p.south.bounds.x+p.west.bounds.width}else{k=_}i.xAxis.attr("transform","translate("+k+","+p.south.bounds.y+")");e.xAxis.width(p.south.bounds.width).height(p.south.bounds.height);e.xAxis.gridlineLength(p.center.bounds.height)}else if(e.xAxis){e.xAxis.drawable(false);e.yAxis.otherAxisHidden(true)}if(p.center){i.plot.attr("transform","translate("+p.center.bounds.x+","+p.center.bounds.y+")");var O=p.center.bounds.width-c-_;var N=p.center.bounds.height-A-y;if(e.plot.size){e.plot.size({width:O>0?O:0,height:N>0?N:0})}else{e.plot.width(O>0?O:0).height(N>0?N:0)}if(i.background){i.background.attr("transform","translate("+p.center.bounds.x+","+p.center.bounds.y+")");e.background.width(O>0?O:0).height(N>0?N:0)}}if(p.west){e.yAxis.gridlineLength(p.center.bounds.width-c-_)}if(p.south){e.xAxis.gridlineLength(p.center.bounds.height-A-y)}var P=e.plot.width();var R=e.plot.height();if(o===P&&l===R){break}else{o=P;l=R}if(d>=1&&e.yAxis&&e.yAxis.properties().type==="value"&&e.xAxis&&e.xAxis.properties().type==="value"&&(s.west&&!p.west&&s.south&&p.south)){break}if(e.plot&&e.plot.reScale){e.plot.reScale()}}};f.prototype._xyc_initialize=function(){var e=this._xyc_config;var t=this._xyc_modules;var a=this._xyc_ctx;var s=this._xyc_data;var n=this._xyc_selections;var l=this._xyc_parent;if(r.isEmptyObject(e)){o.error("Container configuration missing")}this._xyc_initializedModules=0;this._xyc_initAxis("xAxis");this._xyc_initAxis("yAxis");this._xyc_initAxis("xAxis2");this._xyc_initAxis("yAxis2");this._xyc_initAxis("background");var h=e.modules.plot;if(!h){return}var p=t.plot=u(h.id,a,i.CSS.CLASS.MODULEPREFIX+"plot");var c=new d(s);if(this._xyc_dataCache){this.dataCacheToDestroy()}this._xyc_dataCache=c.getDataAdapter();p.data(this._xyc_dataCache);if(p.fullData&&this._fullData){p.fullData(this._fullData)}var f;if(h.configure){f=this._xyc_resolveProperties(h.configure);if(this._xyc_properties.xyContainer&&this._xyc_properties.xyContainer.yAngle){p.setyAngle(this._xyc_properties.xyContainer.yAngle)}p.properties(f)}if(p.dispatch){var m=p.dispatch();if(m.initialized){this._xyc_initializedModules++;m.on("initialized.xycontainer",this._xyc_initialized.bind(this))}if(m.showTooltip){m.on("showTooltip.xycontainer",this._xyc_showTooltip.bind(this))}if(m.hideTooltip){m.on("hideTooltip.xycontainer",this._xyc_hideTooltip.bind(this))}}var _=e.modules.dataLabel;if(r.isExist(_)&&r.isExist(p.dataLabel)){var g=t.dataLabel=u(_.id,a,i.CSS.CLASS.MODULEPREFIX+"datalabel");if(g.dispatch()){this._xyc_initializedModules++;g.dispatch().on("initialized.xycontainer",this._xyc_initialized.bind(this))}p.dataLabel(g);g.plot(p);if(_.configure){f=this._xyc_resolveProperties(_.configure);g.properties(f)}}if(t.xAxis&&!n.xAxis){n.xAxis=l.append("g").attr("class",i.CSS.CLASS.MODULEPREFIX+"xAxis")}if(t.xAxis2&&!n.xAxis2){n.xAxis2=l.append("g").attr("class",i.CSS.CLASS.MODULEPREFIX+"xAxis2")}if(t.yAxis&&!n.yAxis){n.yAxis=l.append("g").attr("class",i.CSS.CLASS.MODULEPREFIX+"yAxis")}if(t.yAxis2&&!n.yAxis2){n.yAxis2=l.append("g").attr("class",i.CSS.CLASS.MODULEPREFIX+"yAxis2")}if(t.plot&&!n.plot){n.plot=l.append("g").attr("class",i.CSS.CLASS.MODULEPREFIX+"plot")}if(t.background&&!n.background){n.background=l.insert("g",":first-child").attr("class",i.CSS.CLASS.MODULEPREFIX+"background")}};f.prototype._xyc_renderSub=function(){var e=this._xyc_selections;var t=this._xyc_modules;for(var a in e){if(e.hasOwnProperty(a)){c.pnrProfiling("Render:drawing-paint-chart-main-"+a);e[a].datum(t[a].data()).call(t[a]);c.pnrProfiling("Render:drawing-paint-chart-main-"+a)}}if(r.isExist(t.dataLabel)){t.dataLabel()}};f.prototype._xyc_resolveProperties=function(e,t){var a={},i,r,o;var n=this._xyc_properties;if(t){if(e){i=e.propertyCategory;r=n;o={};o[i]=e.properties;s.extend(true,a,o,r)}else{a=n}}else{if(e){i=e.propertyCategory;r=n[i];o=e.properties;s.extend(true,a,o,r)}}return a};f.prototype._xyc_updateProperties=function(e,t){var a=this._xyc_config;var i=this._xyc_modules;var r=this._xyc_properties;var o=a.modules;var n,l,u;if(o[e]&&i[e]){l=o[e].configure;if(t){n=r}else{if(l){u=l.propertyCategory;n=s.extend(true,{},r[u])}else{n={}}}this._xyc_mergeLayoutPropsToAxis(e,n);i[e].properties(n)}};f.prototype._xyc_updateAxisData=function(e){var t=this._xyc_modules;var a=this._xyc_config;var i=this._xyc_data;if(t[e]){var r=a.modules[e];var s=r.data;if(s){t[e].data(i.createDataAdapterForModule(s))}}};f.prototype._xyc_initAxis=function(e){var t=this._xyc_modules;var a=this._xyc_config;var r=this._xyc_ctx;if(!a.modules[e]){return}var s=a.modules[e],o=t[e]=u(s.id,r,i.CSS.CLASS.MODULEPREFIX+e);this._xyc_updateAxisData(e);var n=this._xyc_resolveProperties(s.configure);this._xyc_mergeLayoutPropsToAxis(e,n);o.properties(n);if(o.dispatch&&o.dispatch()["initialized"]){this._xyc_initializedModules++;o.dispatch().on("initialized.xycontainer",this._xyc_initialized.bind(this))}};f.prototype._xyc_mergeLayoutPropsToAxis=function(e,t){var a=this._xyc_modules;if(e==="xAxis"||e==="yAxis"||e==="xAxis2"||e==="yAxis2"){if(t.hideTitleFirst===undefined){if(this._xyc_properties.general&&this._xyc_properties.general.layout&&this._xyc_properties.general.layout.hideAxisTitleFirst!==undefined&&this._xyc_properties.general.layout.hideAxisTitleFirst!==null){t.hideTitleFirst=this._xyc_properties.general.layout.hideAxisTitleFirst}else{t.hideTitleFirst=true}}var i=t.type;if(!i){var r=a[e].properties();i=r.type}if(i==="category"&&(t.gridline&&t.gridline.visible)){t.gridline.disable=true}}};f.prototype._xyc_initialized=function(){if(this._xyc_initializedModules===++this._xyc_initializedCount){this._xyc_initializedCount=0;this._xyc_eDispatch.initialized()}};f.prototype._xyc_showTooltip=function(e){this._xyc_eDispatch.showTooltip(e)};f.prototype._xyc_hideTooltip=function(e){this._xyc_eDispatch.hideTooltip(e)};f.prototype.width=function(e){if(!arguments.length){return this._xyc_width}var t=this._xyc_width!==e;this._xyc_width=e;if(this._xyc_height){this._xyc_relayout()}return this};f.prototype.height=function(e){if(!arguments.length){return this._xyc_height}var t=this._xyc_height!==e;this._xyc_height=e;if(this._xyc_width){this._xyc_relayout()}return this};f.prototype.size=function(e){if(!arguments.length){return{width:this._xyc_width,height:this._xyc_height}}this._xyc_height=e.height;this._xyc_width=e.width;this._xyc_relayout();return this};f.prototype.data=function(e,t){if(!arguments.length){return this._xyc_data}this._xyc_data=e;this._fullData=t;if(!r.isEmptyObject(this._xyc_modules)&&!r.isEmptyObject(this._xyc_properties)){var a=new d(this._xyc_data);this._xyc_modules["plot"].data(a.getDataAdapter());this._xyc_updateAxisData("xAxis");this._xyc_updateAxisData("yAxis");this._xyc_updateAxisData("xAxis2");this._xyc_updateAxisData("yAxis2")}return this};f.prototype.properties=function(e){if(!arguments.length){return this._xyc_properties.xyContainer}this._xyc_properties=s.extend(true,{},this._xyc_properties,e);if(!r.isEmptyObject(this._xyc_modules)&&!r.isEmptyObject(this._xyc_data)){this._xyc_updateProperties("xAxis");this._xyc_updateProperties("xAxis2");this._xyc_updateProperties("yAxis");this._xyc_updateProperties("yAxis2");this._xyc_updateProperties("plot");this._xyc_updateProperties("dataLabel");this._xyc_updateProperties("background")}return this};f.prototype.config=function(e){if(!arguments.length){return this._xyc_config}this._xyc_config=e;if(r.isEmptyObject(this._xyc_modules)&&!r.isEmptyObject(this._xyc_data)&&!r.isEmptyObject(this._xyc_properties)&&this._xyc_parent!==null){this._xyc_initialize()}return this};f.prototype.modules=function(e){if(!arguments.length){if(r.isEmptyObject(this._xyc_modules)){this._xyc_initialize()}return this._xyc_modules}this._xyc_modules=e;return this};f.prototype.parent=function(e){if(!arguments.length){return this._xyc_parent}this._xyc_parent=e;return this};f.prototype.dispatch=function(e){if(!arguments.length){return this._xyc_eDispatch}this._xyc_eDispatch=e;return this};f.prototype.rotate=function(e){var t=this._xyc_modules["plot"];if(!arguments.length){return t.rotate()}t.rotate(e);this._xyc_properties.xyContainer.yAngle=e.yAngle;return this};f.prototype.rotateEnd=function(){var e=this._xyc_modules["plot"];if(e.rotateEnd){return e.rotateEnd()}return this};f.prototype.getPropertyZone=function(e){var t=[];var a=this._xyc_selections.plot.select(".v-bound").node();if(a===null){a=this._xyc_selections.plot.node()}var i=a.getBoundingClientRect();if(i.width>1.5&&i.height>1.5){var r=[[]];r[0].push([i.left,i.top]);r[0].push([i.right,i.top]);r[0].push([i.right,i.bottom]);r[0].push([i.left,i.bottom]);t.push({name:"plot",bound:r})}return t};f.prototype.retry=function(){var e=this._xyc_modules;var t=this._xyc_selections;var a=this._xyc_parent;if(e.xAxis){if(t.xAxis){t.xAxis.remove()}t.xAxis=a.append("g").attr("class",i.CSS.CLASS.MODULEPREFIX+"xAxis")}if(e.xAxis2){if(t.xAxis2){t.xAxis2.remove()}t.xAxis2=a.append("g").attr("class",i.CSS.CLASS.MODULEPREFIX+"xAxis2")}if(e.yAxis){if(t.yAxis){t.yAxis.remove()}t.yAxis=a.append("g").attr("class",i.CSS.CLASS.MODULEPREFIX+"yAxis")}if(e.yAxis2){if(t.yAxis2){t.yAxis2.remove()}t.yAxis2=a.append("g").attr("class",i.CSS.CLASS.MODULEPREFIX+"yAxis2")}if(e.plot){if(t.plot){t.plot.remove()}t.plot=a.append("g").attr("class",i.CSS.CLASS.MODULEPREFIX+"plot")}if(e.background){if(t.background){t.background.remove()}t.background=a.insert("g",":first-child").attr("class",i.CSS.CLASS.MODULEPREFIX+"background")}};f.prototype.dataCacheToDestroy=function(){var e=0;var t=0;var a=0;if(this._xyc_dataCache){if(this._xyc_dataCache._aa){for(e=0;e<this._xyc_dataCache._aa.length;e++){if(this._xyc_dataCache._aa[e]){if(this._xyc_dataCache._aa[e].values){for(t=0;t<this._xyc_dataCache._aa[e].values.length;t++){if(this._xyc_dataCache._aa[e].values[t]){this._xyc_dataCache._aa[e].values[t].rows=null;this._xyc_dataCache._aa[e].values[t]=null}}this._xyc_dataCache._aa[e].values=null}this._xyc_dataCache._aa[e]=null}}this._xyc_dataCache._aa=null}if(this._xyc_dataCache._mg){for(e=0;e<this._xyc_dataCache._mg.length;e++){if(this._xyc_dataCache._mg[e]){if(this._xyc_dataCache._mg[e].values){for(t=0;t<this._xyc_dataCache._mg[e].values.length;t++){if(this._xyc_dataCache._mg[e].values[t]){if(this._xyc_dataCache._mg[e].values[t].rows){for(a=0;a<this._xyc_dataCache._mg[e].values[t].rows.length;a++){this._xyc_dataCache._mg[e].values[t].rows[a]=null}this._xyc_dataCache._mg[e].values[t].rows=null}this._xyc_dataCache._mg[e].values[t]=null}}this._xyc_dataCache._mg[e].values=null}this._xyc_dataCache._mg[e]=null}}this._xyc_dataCache._mg=null}if(this._xyc_dataCache._bindingInfo){this._xyc_dataCache._bindingInfo=null}this._xyc_dataCache=null}};f.prototype.ctxRawdataToDestroy=function(){var e=0;var t=0;var a=0;if(this._xyc_ctx.rawData){if(this._xyc_ctx.rawData._dataSet){if(this._xyc_ctx.rawData._dataSet.analysisAxis){for(e=0;e<this._xyc_ctx.rawData._dataSet.analysisAxis.length;e++){if(this._xyc_ctx.rawData._dataSet.analysisAxis[e]){if(this._xyc_ctx.rawData._dataSet.analysisAxis[e].data){for(t=0;t<this._xyc_ctx.rawData._dataSet.analysisAxis[e].data.length;t++){if(this._xyc_ctx.rawData._dataSet.analysisAxis[e].data[t]){this._xyc_ctx.rawData._dataSet.analysisAxis[e].data[t].values=null;this._xyc_ctx.rawData._dataSet.analysisAxis[e].data[t]=null}}this._xyc_ctx.rawData._dataSet.analysisAxis[e].data=null}this._xyc_ctx.rawData._dataSet.analysisAxis[e]=null}}this._xyc_ctx.rawData._dataSet.analysisAxis=null}if(this._xyc_ctx.rawData._dataSet.measureValuesGroup){for(e=0;e<this._xyc_ctx.rawData._dataSet.measureValuesGroup.length;e++){if(this._xyc_ctx.rawData._dataSet.measureValuesGroup[e]){if(this._xyc_ctx.rawData._dataSet.measureValuesGroup[e].data){for(t=0;t<this._xyc_ctx.rawData._dataSet.measureValuesGroup[e].data.length;t++){if(this._xyc_ctx.rawData._dataSet.measureValuesGroup[e].data[t]){if(this._xyc_ctx.rawData._dataSet.measureValuesGroup[e].data[t].values){for(a=0;a<this._xyc_ctx.rawData._dataSet.measureValuesGroup[e].data[t].values.length;a++){this._xyc_ctx.rawData._dataSet.measureValuesGroup[e].data[t].values[a]=null}this._xyc_ctx.rawData._dataSet.measureValuesGroup[e].data[t].values=null}this._xyc_ctx.rawData._dataSet.measureValuesGroup[e].data[t]=null}}this._xyc_ctx.rawData._dataSet.measureValuesGroup[e].data=null}this._xyc_ctx.rawData._dataSet.measureValuesGroup[e]=null}}this._xyc_ctx.rawData._dataSet.measureValuesGroup=null}this._xyc_ctx.rawData._dataSet=null}if(this._xyc_ctx.rawData._analysisAxis){for(e=0;e<this._xyc_ctx.rawData._analysisAxis.length;e++){if(this._xyc_ctx.rawData._analysisAxis[e]){if(this._xyc_ctx.rawData._analysisAxis[e]._dimensionLabels){for(t=0;t<this._xyc_ctx.rawData._analysisAxis[e]._dimensionLabels.length;t++){if(this._xyc_ctx.rawData._analysisAxis[e]._dimensionLabels[t]){this._xyc_ctx.rawData._analysisAxis[e]._dimensionLabels[t]._values=null;this._xyc_ctx.rawData._analysisAxis[e]._dimensionLabels[t]=null}}this._xyc_ctx.rawData._analysisAxis[e]._dimensionLabels=null}this._xyc_ctx.rawData._analysisAxis[e]=null}}this._xyc_ctx.rawData._analysisAxis=null}if(this._xyc_ctx.rawData._measureValuesGroup){for(e=0;e<this._xyc_ctx.rawData._measureValuesGroup.length;e++){if(this._xyc_ctx.rawData._measureValuesGroup[e]){if(this._xyc_ctx.rawData._measureValuesGroup[e]._measureValues){for(t=0;t<this._xyc_ctx.rawData._measureValuesGroup[e]._measureValues.length;t++){if(this._xyc_ctx.rawData._measureValuesGroup[e]._measureValues[t]){if(this._xyc_ctx.rawData._measureValuesGroup[e]._measureValues[t]._values){for(a=0;a<this._xyc_ctx.rawData._measureValuesGroup[e]._measureValues[t]._values.length;a++){this._xyc_ctx.rawData._measureValuesGroup[e]._measureValues[t]._values[a]=null}this._xyc_ctx.rawData._measureValuesGroup[e]._measureValues[t]._values=null}this._xyc_ctx.rawData._measureValuesGroup[e]._measureValues[t]=null}}this._xyc_ctx.rawData._measureValuesGroup[e]._measureValues=null}this._xyc_ctx.rawData._measureValuesGroup[e]=null}}this._xyc_ctx.rawData._measureValuesGroup=null}if(this._xyc_ctx.rawData._dimensions){this._xyc_ctx.rawData._dimensions=null}if(this._xyc_ctx.rawData._measures){this._xyc_ctx.rawData._measures=null}this._xyc_ctx.rawData=null}};f.prototype.destroy=function(){this.dataCacheToDestroy();this._xyc_parent=null;this._xyc_selections=null;var e=this._xyc_modules;for(var t in e){if(e.hasOwnProperty(t)){var a=e[t];if(a.dispatch){var i=a.dispatch();if(i.initialized){i.on("initialized.xycontainer",null)}if(i.showTooltip){i.on("showTooltip.xycontainer",null)}if(i.hideTooltip){i.on("hideTooltip.xycontainer",null)}}}}this._xyc_modules=null;this._xyc_data=null;this._fullData=null;if(this._xyc_ctx){this._xyc_ctx.destroy();this.ctxRawdataToDestroy();this._xyc_ctx=null}};return f});define("sap/viz/modules/manifests/XYContainer",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/xycontainer"],function e(t,a,i){var r={id:"sap.viz.modules.xycontainer",type:a.Type.Container,name:"single container",properties:{yAngle:{name:"yAngle",supportedValueType:"Number",defaultValue:0,isExported:false,description:"Set the angle for the pie chart. This value should be between '-180' and '180'."}},css:null,configure:null,events:{showTooltip:a.Event.TooltipShow.desc,hideTooltip:a.Event.TooltipHide.desc},fn:i};var s={viz:[],module:[r],feeds:[]};return s});define("sap/viz/chart/elements/behaviors/BaseBehavior",["sap/viz/base/utils/oo","sap/viz/modules/Base"],function(e,t){var a=function(e,t){a.superclass.constructor.apply(this,arguments);this._decorations={};this._triggerHandlers={}};e.extend(a,t);a.prototype.initialize=function(){};a.prototype.registerDecorations=function(){};a.prototype.getTriggerHandler=function(e){return this._triggerHandlers[e]};a.prototype.registerTriggerHandlers=function(){};a.prototype.runDecoration=function(){var e,t,a;if(arguments.length>0){t=arguments[0];[].splice.call(arguments,0,1);a=arguments}else{return}e=this._decorations[t];if(e){e.forEach(function(e,t){e.apply(this,a)})}};return a});define("sap/viz/modules/util/flattenModules",[],function(){var e=function(e){var t=e.joiner||".",a={},i=[{key:e.rootKey,value:e.rootNode}];(function e(a,r){if(r.hasOwnProperty("modules")){var s=r.modules(),o,n=a;for(var l in s){if(s.hasOwnProperty(l)){o={key:a+t+l,value:s[l]};i.push(o);if(s[l].modules){e(n+t+l,s[l])}}}}})(e.rootKey,e.rootNode);for(var r=0;r<i.length;r++){a[i[r].key]=i[r].value}return a};return e});define("sap/viz/chart/elements/utils/LassoDecoration",["sap/viz/base/UADetector"],function(e){var t="v-m-action-layer-group";var a=function(e){this._shape=null;this._shapeContainer=null;this._startPoint=null};a.prototype.start=function(e,a){if(this._shape){this._shape.remove();if(this._shapeContainer){this._shapeContainer.remove()}}var r=d3.select(e);if(e.tagName==="DIV"){r=this._shapeContainer=r.append("svg").style({position:"absolute",left:"0px",top:"0px",width:r.style("width"),height:r.style("height"),"pointer-events":"none"})}var s=r.select("."+t);if(!s.node()){s=r.append("g").classed(t,true)}this._shape=s.append("rect").attr("x",0).attr("y",0).attr("width",0).attr("height",0).attr("pointer-events","none").attr("fill","rgba(64,176,240, 0.4)").style("stroke-width","2px").attr("stroke","rgb(64, 176, 240)");this._startPoint=i(e,a);this._shape.attr("x",this._startPoint.x).attr("y",this._startPoint.y)};function i(t,a){if(e.isFirefox()){t=t.getElementsByClassName("v-eventLayer")[0]}var i=t.getBoundingClientRect();var r=a.x-i.left;var s=a.y-i.top;return{x:r,y:s}}a.prototype.moveTo=function(e,t){if(this._startPoint&&this._shape){var a=this._startPoint;var r=i(e,t);var s=Math.min(r.x,a.x);var o=Math.min(r.y,a.y);var n=Math.abs(r.x-a.x);var l=Math.abs(r.y-a.y);this._shape.attr("x",s).attr("y",o).attr("width",n).attr("height",l)}};a.prototype.end=function(e,t){this._shape.remove();if(this._shapeContainer){this._shapeContainer.remove()}};a.prototype.getNode=function(){return this._shape.node()};a.prototype.destroy=function(){this._shape=null;this._startPoint=null};return a});define("sap/viz/util/BoundingBox",["sap/viz/elements/common/SVG"],function e(t){var a={};a.getBBox=function(e,i){var r;if(arguments.length===1){r=e.getCTM()}else{r=t.getTransformToElement(e,i)}return a.getBBoxHelp(e,r)};a.getBBoxHelp=function(e,t){var a=e.getBBox();var i=[];var r=d3.select("svg")[0][0].createSVGPoint();r.x=a.x;r.y=a.y;i.push(r.matrixTransform(t));r.x=a.x+a.width;r.y=a.y;i.push(r.matrixTransform(t));r.x=a.x+a.width;r.y=a.y+a.height;i.push(r.matrixTransform(t));r.x=a.x;r.y=a.y+a.height;i.push(r.matrixTransform(t));var s=i[0].x;var o=i[0].x;var n=i[0].y;var l=i[0].y;for(var u=1;u<i.length;u++){var d=i[u].x;var h=i[u].y;if(d<s){s=d}else if(d>o){o=d}if(h<n){n=h}else if(h>l){l=h}}return{x:s,y:n,width:o-s,height:l-n}};a.intersects=function(e,t){return e.x<=t.x+t.width&&t.x<=e.x+e.width&&e.y<=t.y+t.height&&t.y<=e.y+e.height};a.intersection=function(e,t){if(a.intersects(e,t)){var i=Math.max(e.x,t.x),r=Math.min(e.x+e.width,t.x+t.width),s=Math.max(e.y,t.y),o=Math.min(e.y+e.height,t.y+t.height);return{x:i,y:s,width:r-i,height:o-s}}return null};a.contains=function(e,t){return t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height};return a});define("sap/viz/chart/elements/utils/runtimeSelectionDataHandler",["sap/viz/base/utils/Objects","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/ObjectUtils"],function e(t,a,i){var r=function(e,a){if(a!==null){var i;i=t.extend(true,{},a);if(i){i=i.additionalData}e.push(i)}};var s=function(e){var t=[];if(e.info instanceof Array){for(var a=0;a<e.info.length;a++){r(t,e.info[a])}}else{r(t,e.info)}return t};var o={arrayCtx:function(e){var t=[];t.push(e);return t},unpackData:function(e){var t={};if(e.hasOwnProperty("dimension")){for(var a in e.dimension){t[a]=e.dimension[a]}}if(e.hasOwnProperty("measure")){for(var a in e.measure){t[a]=e.measure[a]}}return t},buildCtxItems:function(e){var t=[];for(var i=0;i<e.length;i++){var r=d3.select(e[i]).data();if(r){r=r[0]}if(r&&r.ctx){t.push(r.ctx)}else if(r&&a.isArray(r)){for(var s=0;s<r.length;s++){t.push(r[s].ctx)}}}return t},buildInfoArray:function(e){var t=[];for(var a=0;a<e.length;a++){var i=d3.select(e[a]).data();if(i&&i instanceof Array){i=i[0];if(i instanceof Array){for(var r=0;r<i.length;r++){t.push(s(i[r]))}}else{t.push(s(i))}}}return t},getSelectedObjArray:function(e,i,r,s){var o=this.buildCtxItems(i);var n=[];for(var l=0;l<o.length;l++){var u=e.ctx2TableData(o[l]);var d=t.extend(true,{},u.dimension);d=t.extend(true,d,u.measure);n.push(d)}var h;if(r){h=[];var l;var p;for(l=0;l<o.length;l++){var c=[];if(a.isArray(o[l])){var f=[];for(var p=0;p<o[l].length;p++){if(o[l][p]&&o[l][p].path){f.push(o[l][p].path)}}h.push(f)}else if(a.isPlainObject(o[l])){var f=[];f.push(o[l].path);h.push(f)}}}var m;if(s){m=this.buildInfoArray(i)}var _=[];for(l=0;l<n.length;l++){var g={};g.data=n[l];if(r){g.ctx=h[l]}if(s){g.info=m[l]}_.push(g)}return _},matchSelection:function(e,t,r){var s=function(e,t){var a=false;for(var i in e){if(e[i]===t[i]){a=true}else if(t.hasOwnProperty(i)&&e[i]==="*"){a=true}else{a=false;break}}return a};var o=function(e){if(e.hasOwnProperty("dii_a1")&&e.hasOwnProperty("dii_a2")&&e.hasOwnProperty("mg")&&e.hasOwnProperty("mi")){return true}return false};for(var n=0;n<t.length;n++){if(!t[n]){continue}var l;if(t[n].hasOwnProperty("ctx")){var u=i.clone(t[n].ctx);for(var d=0;d<u.length;d++){if(!o(u[d])){u.splice(d,1)}}var h=false;if(!a.isArray(e)){e=this.arrayCtx(e)}for(var d=0;d<u.length;d++){h=false;for(var p=0;p<e.length;p++){if(e[p]&&e[p].path&&s(u[d],e[p].path)){h=true;break}}if(!h){break}}if(h){return true}}else if(t[n].hasOwnProperty("data")){l=t[n].data;var c=r.ctx2TableData(e);c=this.unpackData(c);if(!s(l,c)){continue}return true}}return false}};return o});define("sap/viz/chart/elements/behaviors/InteractionHelper",[],function(){var e="extensionPoints";var t={};t.getBoundingBox=function(e){var t=e.getBoundingClientRect();return{x:t.left,y:t.top,height:t.height,width:t.width,right:t.right,bottom:t.bottom}};t.concatByPush=function(e,t){Array.prototype.push.apply(e,t)};t.hasClass=function(e,t){if(!e||!e.getAttribute)return false;var a=e.getAttribute("class")||"";return(" "+a+" ").indexOf(" "+t+" ")>=0};t.addClass=function(e,t){if(this.hasClass(e,t)){return false}var a=e.getAttribute("class")||"";a+=" "+t;e.setAttribute("class",a);return true};t.removeClass=function(e,t){if(!this.hasClass(e,t)){return false}var a=" "+e.getAttribute("class")+" ";a=a.replace(" "+t+" "," ");e.setAttribute("class",a);return true};t.findAncestor=function(e,a,i){var r=a;while(r!==i&&!t.hasClass(r,e)&&(r=r.parentNode));return r===i?null:r};function a(e){for(var t=e.length-1;t>0;t--){for(var a=t-1;a>=0;a--){if(e[t]===e[a]){e.splice(t,1);break}}}}t.findSeriesForLabel=function(e,t){var i=[],r,s,o,n,l,u;t=t[0].slice(0,t[0].length);e.forEach(function(e,a){if(!e){return}var d=e.path;var h,p,c;for(h=-1;++h<t.length;){r=t[h];o=[];s=d3.select(r).datum();if(!(s instanceof Array)){s=[s]}for(p=-1;++p<s.length;){if(s[p].ctx instanceof Array){Array.prototype.push.apply(o,s[p].ctx)}else{o.push(s[p].ctx)}}for(p=-1;++p<o.length;){n=o[p];if(!n)continue;l=n.path||n[0].path;u=true;if(d===undefined||l===undefined){u=false}else{if(d.aa===undefined){if(d.dii_a1!==undefined&&d.dii_a1!==l.dii_a1||d.dii_a2!==undefined&&d.dii_a2!==l.dii_a2){u=false}}else{if(d.aa===0&&d.dii!==l.dii_a1||d.aa===1&&d.dii!==l.dii_a2){u=false}}if(u&&d.mg!==undefined&&d.mg!==l.mg){u=false}if(u&&d.mi!==undefined&&d.mi!==l.mi){u=false}}if(u){i.push(r);break}}}}.bind(this));a(i);return i};t.findSeriesForLegend=function(e,t){var i=[],r,s,o,n=e.path,l,u,d,h,p,c,f,m;if(!(n instanceof Object)){return[]}if(!(n instanceof Array)){n=[n]}if(!n.length){return[]}for(p=0,m=t[0].length;p<m;p++){r=t[0][p];s=[];d=d3.select(r).datum();if(!(d instanceof Array)){d=[d]}for(c=-1;++c<d.length;){if(d[c].ctx instanceof Array){Array.prototype.push.apply(s,d[c].ctx)}else{s.push(d[c].ctx)}}for(c=-1;++c<s.length;){o=s[c];if(!o)continue;u=o.path;for(f=-1;++f<n.length;){h=true;l=n[f];for(var _ in l){if(l[_]instanceof Array){if(l[_].indexOf(u[_])<0){h=false}}else{if(u[_]!==l[_]){h=false}}}if(h){i.push(t[0][p]);break}}if(h){break}}}a(i);return i};t.findPlotNodeContainingNode=function(e){var t=null;var a;while(e=e.parentNode){if(t=e.querySelector(".v-m-plot")){break}a=" "+e.getAttribute("class")+" ";if(a.indexOf(" v-m-root ")>=0){break}if(a.indexOf(" v-m-plot")>=0){t=e.querySelector(".v-m-plot")||e;break}}return t};t.findPlotModuleByNode=function(e,a){var i=t.findPlotNodeContainingNode(a);if(i){for(var r in e){if(e.hasOwnProperty(r)){var s=e[r];var o=undefined;if(s.parent&&(o=s.parent())){var n=o.node();if(n===i)return s}}}}};t.callExtensionPoint=function(t,a,i){var r,s={called:false,ret:undefined};if(t[e]){r=t[e][a]}if(r){s.called=true;var o=Array.prototype.splice.call(arguments,3);s.ret=r.apply(i,o)}return s};t.extensionPoint=function(t,a){return t[e]&&t[e][a]};return t});define("sap/viz/chart/elements/behaviors/Interaction",["sap/viz/base/utils/oo","sap/viz/chart/elements/behaviors/BaseBehavior","sap/viz/behaviors/BehaviorManager","sap/viz/base/utils/ObjectUtils","sap/viz/modules/Constants","sap/viz/util/Constants","sap/viz/modules/util/flattenModules","sap/viz/chart/elements/utils/LassoDecoration","sap/viz/util/BoundingBox","sap/viz/chart/elements/utils/runtimeSelectionDataHandler","sap/viz/base/utils/TypeUtils","sap/viz/base/UADetector","sap/viz/base/utils/FunctionUtils","sap/viz/chart/elements/behaviors/InteractionHelper"],function(e,t,a,i,r,s,o,n,l,u,d,h,p,c){var f=s.BEHAVIOR;var m=function(e,t){m.superclass.constructor.apply(this,arguments);this._selb_props=i.extend(true,{},e.props(null));this._selb_selectionMode=r.SELECTION_MODE.EXCLUSIVE;this._selb_lassoWithCtrlKey=false;this._selb_holdSelection=false;this._selb_preserveSelectionWhenDragging=false;this._selb_m=null;this._selb_plots={};this._selb_dispatch=d3.dispatch("selectData","deselectData","showTooltip","hideTooltip","lassoStart","lassoEnd","contextualData");this._selb_ctx=t;this._rootNode=null;this._lastSelected=[];this._hoveringDataPoint=null;this._hoveringDeselectedDataPoint=false;this._lastEventPoint=null;this._clickLikeTriggers=[];this._behaviorManager=t.behaviorManager;this._lassoDecoration=new n;this._lassoStartPoint=null;this._lassoEndPoint=null;this._ongoingOperation=null;this._showingDetailMode=null;this._mainPlots=null;this._mainPlotBoundRects=null;this._dpFnCompare=null;this._dpFnIndexOf=null};e.extend(m,t);m.prototype.initialize=function(){m.superclass.initialize.apply(this,arguments);if(this._selb_ctx.rawData.hasFakeData()){return}if(!this._selb_holdSelection){this._lastSelected=[]}this._mainPlotBoundRects=null;if(!this._dpFnCompare){this._dpFnCompare=c.extensionPoint(this._selb_props,"isEqual");this._dpFnIndexOf=this._dpFnCompare?function(e,t){for(var a=-1;++a<e.length;){if(this._dpFnCompare.call(this,e[a],t)){return a}}return-1}:function(e,t){return e.indexOf(t)};this._dpFnCompare=this._dpFnCompare||function(e,t){return e===t}}var e=this._selb_props;var t="(\\s+|^)(v-datapoint|v-datalabel)(\\s+|$)",i="(\\s+|^)v-m-root(\\s+|$)";var r={click_on_datapoint:{key:"click_on_datapoint",event:"click",target:t},click_on_non_datapoint:{key:"click_on_non_datapoint",event:"click",target:"(\\s+|^)(v-datapoint|v-datalabel|v-legend-item|v-axis-item)(\\s+|$)",matchMode:f.TRIGGER.CSS.MATCHMODE.NEGATIVE},hover_on_datapoint:{key:"hover_on_datapoint",event:"hover",target:t},hover_on_non_datapoint:{key:"hover_on_non_datapoint",event:"hover",target:t,matchMode:f.TRIGGER.CSS.MATCHMODE.NEGATIVE},hover_on_legend:{key:"hover_on_legend",event:"hover",target:"(\\s+|^)v-legend-item(\\s+|$)"},hover_on_non_legend:{key:"hover_on_non_legend",event:"hover",target:"(\\s+|^)v-legend-item(\\s+|$)",matchMode:f.TRIGGER.CSS.MATCHMODE.NEGATIVE},click_on_legend:{key:"click_on_legend",event:"click",target:"(\\s+|^)v-legend-item(\\s+|$)"},mousedown_on_legend:{key:"mousedown_on_legend",event:"mousedown",target:"(\\s+|^)v-legend-item(\\s+|$)"},mousedown_on_legend_overflow:{key:"mousedown_on_legend_overflow",event:"mousedown",target:"(\\s+|^)v-overflow(\\s+|$)"},mouseup_on_legend:{key:"mouseup_on_legend",event:"mouseup",target:"(\\s+|^)v-legend-item(\\s+|$)"},mouseup_on_non_legend:{key:"mouseup_on_non_legend",event:"mouseup",target:"(\\s+|^)v-legend-item(\\s+|$)",matchMode:f.TRIGGER.CSS.MATCHMODE.NEGATIVE},pan_start_on_legend:{key:"pan_start_on_legend",event:"panstart",target:"(\\s+|^)v-legend-item(\\s+|$)"},pan_move_on_legend:{key:"pan_move_on_legend",event:"panmove",target:"(\\s+|^)v-legend-item(\\s+|$)"},pan_end_on_legend:{key:"pan_end_on_legend",event:"panend",target:"(\\s+|^)v-legend-item(\\s+|$)"},pan_end_non_legend:{key:"pan_end_non_legend",event:"panend",target:"(\\s+|^)v-legend-item(\\s+|$)",matchMode:f.TRIGGER.CSS.MATCHMODE.NEGATIVE},hover_on_axis_label:{key:"hover_on_axis_label",event:"hover",target:"(\\s+|^)v-axis-item(\\s+|$)"},hover_on_non_axis_label:{key:"hover_on_non_axis_label",event:"hover",target:"(\\s+|^)v-axis-item(\\s+|$)",matchMode:f.TRIGGER.CSS.MATCHMODE.NEGATIVE},hover_on_radar_axis_label:{key:"hover_on_radar_axis_label",event:"hover",target:"(\\s+|^)v-radar-axis-item(\\s+|$)"},hover_on_non_radar_axis_label:{key:"hover_on_non_radar_axis_label",event:"hover",target:"(\\s+|^)v-radar-axis-item(\\s+|$)",matchMode:f.TRIGGER.CSS.MATCHMODE.NEGATIVE},click_on_axis_label:{key:"click_on_axis_label",event:"click",target:"(\\s+|^)v-axis-item(\\s+|$)"},mousedown_on_axis_label:{key:"mousedown_on_axis_label",event:"mousedown",target:"(\\s+|^)v-axis-item(\\s+|$)"},mouseup_on_axis_label:{key:"mouseup_on_axis_label",event:"mouseup",target:"(\\s+|^)v-axis-item(\\s+|$)"},mousedown_on_radar_axis_label:{key:"mousedown_on_radar_axis_label",event:"mousedown",target:"(\\s+|^)v-radar-axis-item(\\s+|$)"},mouseup_on_radar_axis_label:{key:"mouseup_on_radar_axis_label",event:"mouseup",target:"(\\s+|^)v-radar-axis-item(\\s+|$)"},lasso_start_on_eventLayer:{key:"lasso_start_on_eventLayer",event:"lassostart",target:i},lasso_move_on_eventLayer:{key:"lasso_move_on_eventLayer",event:"lassomove",target:i},lasso_end_on_eventLayer:{key:"lasso_end_on_eventLayer",event:"lassoend",target:i},pan_start_on_eventLayer:{key:"pan_start_on_eventLayer",event:"panstart",target:i},pan_move_on_eventLayer:{key:"pan_move_on_eventLayer",event:"panmove",target:i},pan_end_on_eventLayer:{key:"pan_end_on_eventLayer",event:"panend",target:i},pinch_start_on_eventLayer:{key:"pinch_start_on_eventLayer",event:"pinchstart",target:i},pinch_move_on_eventLayer:{key:"pinch_move_on_eventLayer",event:"pinchmove",target:i},pinch_end_on_eventLayer:{key:"pinch_end_on_eventLayer",event:"pinchend",target:i},contextmenu_on_plot:{key:"contextmenu_on_plot",event:"contextmenu",target:"(\\s+|^)(v-bound|v-datalines|v-dataline-group|v-areasbg|v-geo-container)(\\s+|$)"},contextmenu_on_legend_area:{key:"contextmenu_on_legend_area",event:"contextmenu",target:"(\\s+|^)v-m-legends(\\s+|$)"},contextmenu_on_title:{key:"contextmenu_on_title",event:"contextmenu",target:"(\\s+|^)v-m-title(\\s+|$)"},contextmenu_on_axis_label:{key:"contextmenu_on_axis_label",event:"contextmenu",target:"(\\s+|^)v-axis-item(\\s+|$)"},contextmenu_on_axis:{key:"contextmenu_on_axis",event:"contextmenu",target:"(\\s+|^)(v-m-xAxis|v-m-xAxis2|v-m-yAxis|v-m-yAxis2|v-m-zAxis|v-valueaxis)(\\s+|$)"},contextmenu_on_datapoint:{key:"contextmenu_on_datapoint",event:"contextmenu",target:t},contextmenu_on_chartarea:{key:"contextmenu_on_chartarea",event:"contextmenu",target:"(\\s+|^)(v-backgroundutil|v-subtitle)(\\s+|$)"}};r[f.TRIGGER.KEY.API.GET_SELECTION]={key:f.TRIGGER.KEY.API.GET_SELECTION,api:"getSelection",type:a.API_TRIGGER},r[f.TRIGGER.KEY.API.SET_SELECTION]={key:f.TRIGGER.KEY.API.SET_SELECTION,api:"setSelection",type:a.API_TRIGGER};if(e["triggers"]){e["triggers"].forEach(function(e,t){if(e.event===null){delete r[e.key]}else{r[e.key]=e}})}this._clickLikeTriggers.push(r["click_on_datapoint"],r["click_on_legend"],r["click_on_axis_label"],r["mouseup_on_legend"],r["mouseup_on_axis_label"]);this._behaviorManager.removeBehavior("selectionBehavior");this._behaviorManager.registerNewBehavior({name:"selectionBehavior",rootNode:this._rootNode,triggers:r,logic:this._selb_logic.bind(this)});this._behaviorManager.setProperties({enablePan:this._selb_props.pan.enable});var s=this._selb_m;var n=this._selb_plots;for(var l in s){if(s.hasOwnProperty(l)){var u=o({rootKey:l,rootNode:s[l]});for(var d in u){if(u.hasOwnProperty(d)){n[d]=u[d]}}}}this.registerDecorations();this.registerTriggerHandlers();this.hideDetail("actionMode")};m.prototype.registerTriggerHandlers=function(){m.superclass.registerTriggerHandlers.apply(this,arguments);for(var e in this._triggerHandlers){if(this._triggerHandlers.hasOwnProperty(e)){delete this._triggerHandlers[e]}}this._triggerHandlers["click_on_datapoint"]=[];this._triggerHandlers["click_on_datapoint"].push(this._selb_clickOnDataPointHandler.bind(this));this._triggerHandlers["click_on_non_datapoint"]=[];this._triggerHandlers["click_on_non_datapoint"].push(this._selb_clickOnNonDataPointHandler.bind(this));this._triggerHandlers["hover_on_datapoint"]=[];this._triggerHandlers["hover_on_datapoint"].push(this._selb_hoverOnDataPointHandler.bind(this));this._triggerHandlers["hover_on_non_datapoint"]=[];this._triggerHandlers["hover_on_non_datapoint"].push(this._selb_hoverOnNonDataPointHandler.bind(this));this._triggerHandlers["hover_on_legend"]=[];this._triggerHandlers["hover_on_legend"].push(this._selb_hoverOnLegendHandler.bind(this));this._triggerHandlers["hover_on_non_legend"]=[];this._triggerHandlers["hover_on_non_legend"].push(this._selb_cleanLegendHandler.bind(this));this._triggerHandlers["click_on_legend"]=[];this._triggerHandlers["click_on_legend"].push(this._selb_clickOnLegendHandler.bind(this));this._triggerHandlers["mousedown_on_legend"]=[];this._triggerHandlers["mousedown_on_legend"].push(this._selb_mouseDownOnLegendHandler.bind(this));this._triggerHandlers["mousedown_on_legend_overflow"]=[];this._triggerHandlers["mousedown_on_legend_overflow"].push(this._selb_mouseDownOnLegendOverflowHandler.bind(this));this._triggerHandlers["mouseup_on_legend"]=[];this._triggerHandlers["mouseup_on_legend"].push(this._selb_mouseUpOnLegendHandler.bind(this));this._triggerHandlers["mouseup_on_non_legend"]=[];this._triggerHandlers["mouseup_on_non_legend"].push(this._selb_cleanLegendHandler.bind(this));this._triggerHandlers["pan_start_on_legend"]=[];this._triggerHandlers["pan_start_on_legend"].push(this._selb_panStartOnLegendHandler.bind(this));this._triggerHandlers["pan_move_on_legend"]=[];this._triggerHandlers["pan_move_on_legend"].push(this._selb_panMoveOnLegendHandler.bind(this));this._triggerHandlers["pan_end_on_legend"]=[];this._triggerHandlers["pan_end_on_legend"].push(this._selb_panEndOnLegendHandler.bind(this));this._triggerHandlers["pan_end_non_legend"]=[];this._triggerHandlers["pan_end_non_legend"].push(this._selb_panEndOnLegendHandler.bind(this));this._triggerHandlers["hover_on_axis_label"]=[];this._triggerHandlers["hover_on_axis_label"].push(this._selb_hoverOnAxisLabelHandler.bind(this));this._triggerHandlers["hover_on_non_axis_label"]=[];this._triggerHandlers["hover_on_non_axis_label"].push(this._selb_cleanAxisLabelHandler.bind(this));this._triggerHandlers["click_on_axis_label"]=[];this._triggerHandlers["click_on_axis_label"].push(this._selb_clickOnAxisLabelHandler.bind(this));this._triggerHandlers["mousedown_on_axis_label"]=[];this._triggerHandlers["mousedown_on_axis_label"].push(this._selb_mouseDownAxisLabelHandler.bind(this));this._triggerHandlers["mouseup_on_axis_label"]=[];this._triggerHandlers["mouseup_on_axis_label"].push(this._selb_mouseUpAxisLabelHandler.bind(this));this._triggerHandlers["lasso_start_on_eventLayer"]=[];this._triggerHandlers["lasso_start_on_eventLayer"].push(this._selb_lassoStartOnEventLayer.bind(this));this._triggerHandlers["lasso_move_on_eventLayer"]=[];this._triggerHandlers["lasso_move_on_eventLayer"].push(this._selb_lassoMoveOnEventLayer.bind(this));this._triggerHandlers["lasso_end_on_eventLayer"]=[];this._triggerHandlers["lasso_end_on_eventLayer"].push(this._selb_lassoEndOnEventLayer.bind(this));this._triggerHandlers["pan_start_on_eventLayer"]=[];this._triggerHandlers["pan_start_on_eventLayer"].push(this._selb_panStartOnEventLayer.bind(this));this._triggerHandlers["pan_move_on_eventLayer"]=[];this._triggerHandlers["pan_move_on_eventLayer"].push(this._selb_panMoveOnEventLayer.bind(this));this._triggerHandlers["pan_end_on_eventLayer"]=[];this._triggerHandlers["pan_end_on_eventLayer"].push(this._selb_panEndOnEventLayer.bind(this));this._triggerHandlers["hover_on_radar_axis_label"]=[];this._triggerHandlers["hover_on_radar_axis_label"].push(this._selb_hoverOnRadarAxisLabelHandler.bind(this));this._triggerHandlers["hover_on_non_radar_axis_label"]=[];this._triggerHandlers["hover_on_non_radar_axis_label"].push(this._selb_cleanRadarAxisLabelHandler.bind(this));this._triggerHandlers["mousedown_on_radar_axis_label"]=[];this._triggerHandlers["mousedown_on_radar_axis_label"].push(this._selb_mouseDownRadarAxisLabelHandler.bind(this));this._triggerHandlers["mouseup_on_radar_axis_label"]=[];this._triggerHandlers["mouseup_on_radar_axis_label"].push(this._selb_mouseUpRadarAxisLabelHandler.bind(this));this._triggerHandlers[f.TRIGGER.KEY.API.SET_SELECTION]=[];this._triggerHandlers[f.TRIGGER.KEY.API.SET_SELECTION].push(this._selb_set_selection_api.bind(this));this._triggerHandlers[f.TRIGGER.KEY.API.GET_SELECTION]=[];this._triggerHandlers[f.TRIGGER.KEY.API.GET_SELECTION].push(this._selb_get_selection_api.bind(this));this._triggerHandlers["contextmenu_on_datapoint"]=[];this._triggerHandlers["contextmenu_on_datapoint"].push(this._selb_mouseUpOnDataPoint.bind(this));this._triggerHandlers["contextmenu_on_plot"]=[];this._triggerHandlers["contextmenu_on_plot"].push(this._selb_mouseUpOnPlot.bind(this));this._triggerHandlers["contextmenu_on_legend_area"]=[];this._triggerHandlers["contextmenu_on_legend_area"].push(this._selb_mouseUpOnLegendArea.bind(this));this._triggerHandlers["contextmenu_on_title"]=[];this._triggerHandlers["contextmenu_on_title"].push(this._selb_mouseUpOnTitle.bind(this));this._triggerHandlers["contextmenu_on_axis_label"]=[];this._triggerHandlers["contextmenu_on_axis_label"].push(this._selb_contextMenuOnAxisLabel.bind(this));this._triggerHandlers["contextmenu_on_axis"]=[];this._triggerHandlers["contextmenu_on_axis"].push(this._selb_mouseUpOnAxis.bind(this));this._triggerHandlers["contextmenu_on_chartarea"]=[];this._triggerHandlers["contextmenu_on_chartarea"].push(this._selb_contextMenuOnChartarea.bind(this));var t=this._selb_props;if(t["handlers"]){t["handlers"].forEach(function(e,t){this._triggerHandlers[e.triggerKey]=[e.fn.bind(this)]}.bind(this))}var a=this._selb_props.selectability;var i=this._selb_selectionMode;var s=this;function o(e,t){var o=i!==r.SELECTION_MODE.NONE;var n=i!==r.SELECTION_MODE.SINGLE;switch(e){case"click_on_datapoint":return a.plotStdSelection&&o;case"lasso_start_on_eventLayer":case"lasso_move_on_eventLayer":case"lasso_end_on_eventLayer":{if((v.call(s,t)||a.plotLassoSelection&&o&&n)===false){s._lassoStartPoint=false}return v.call(s,t)||a.plotLassoSelection&&o&&n}case"click_on_axis_label":case"hover_on_axis_label":case"mousedown_on_axis_label":case"mouseup_on_axis_label":return a.axisLabelSelection&&o&&n;case"mousedown_on_legend":case"mouseup_on_legend":case"click_on_legend":case"hover_on_legend":return a.legendSelection&&o&&n}return true}for(var n in this._triggerHandlers){if(this._triggerHandlers.hasOwnProperty(n)){var l=this._triggerHandlers[n];for(var u=-1;++u<l.length;){l[u]=function(e,t){return function(){var i=arguments[0];var r;switch(e){case"lasso_start_on_eventLayer":if(v.call(this,i)){r="pan_start_on_eventLayer"}break;case"lasso_move_on_eventLayer":if(this._ongoingOperation==="pan"){r="pan_move_on_eventLayer";break}case"lasso_end_on_eventLayer":if(!this._ongoingOperation){return}if(this._ongoingOperation==="pan"){r="pan_end_on_eventLayer"}else if(this._ongoingOperation!=="lasso"){throw"Unknown operation found: "+this._ongoingOperation}break;case"pan_move_on_eventLayer":if(this._ongoingOperation==="lasso"){r="lasso_move_on_eventLayer";break}case"pan_end_on_eventLayer":if(!this._ongoingOperation){return}if(this._ongoingOperation==="lasso"){r="lasso_end_on_eventLayer"}else if(this._ongoingOperation!=="pan"){throw"Unknown operation found: "+this._ongoingOperation}break}if(r){var s=[r];c.concatByPush(s,arguments);return g.apply(this,s)}if(!o(e,i)){return}if(e=="hover_on_non_radar_axis_label"&&a.plotLassoSelection===false)this._lassoStartPoint=null;switch(e){case"lasso_start_on_eventLayer":this._ongoingOperation="lasso";break;case"pan_start_on_eventLayer":this._ongoingOperation="pan";break;case"pinch_start_on_eventLayer":this._ongoingOperation="pinch";break;case"lasso_end_on_eventLayer":case"pan_end_on_eventLayer":case"pinch_end_on_eventLayer":this._ongoingOperation=null;break}return t.apply(undefined,arguments)}.bind(this)}.bind(this)(n,l[u])}}}};m.prototype.registerDecorations=function(){m.superclass.registerDecorations.apply(this,arguments);for(var e in this._decorations){if(this._decorations.hasOwnProperty(e)){delete this._decorations[e]}}var t=this._selb_plots;this._decorations["clearPlot"]=[];if(t["main.plot"]){var a=this.getMainPlots(t).filter(function(e){return e.parent&&e.parent()}),i;this._mainPlots=a;this._decorations["clearPlot"]=[];this._decorations["panStart"]=[];this._decorations["panMove"]=[];this._decorations["panEnd"]=[];var r={plots:[],methods:[]},s={plots:[],methods:[]},o={plots:[],methods:[]};function n(e,t,a){e.plots.push(t);e.methods.push(a)}function l(e){return[function(t,a){e(t,true,a)},function(t){e(t,false,true)}]}for(var u=-1;++u<a.length;){i=a[u];if(i["clear"]){this._decorations["clearPlot"].push(i["clear"].bind(i))}if(i["highlight"]){var d=i["highlight"].bind(i);var h=l(d);n(r,i,h[0]);n(s,i,h[1])}if(i["unhighlight"]){n(o,i,i["unhighlight"].bind(i))}if(i["panStart"]){this._decorations["panStart"].push(i["panStart"].bind(i))}if(i["panMove"]){this._decorations["panMove"].push(i["panMove"].bind(i))}if(i["panEnd"]){this._decorations["panEnd"].push(i["panEnd"].bind(i))}}this._decorations["highlightByHover"]=[_.mainPlot(r.plots,r.methods)];this._decorations["highlightBySelecting"]=[_.mainPlot(s.plots,s.methods)];this._decorations["unhighlight"]=[_.mainPlot(o.plots,o.methods)]}if(t["tooltip"]){if(t["tooltip"]["showTooltip"]){this._decorations["showDetail"]=[t["tooltip"]["showTooltip"].bind(t["tooltip"])]}if(t["tooltip"]["hideTooltip"]){this._decorations["hideDetail"]=[t["tooltip"]["hideTooltip"].bind(t["tooltip"])]}}if(t["legends.legend"]){if(t["legends.legend"]["highlight"]){this._decorations["highlightLegendItem"]=[t["legends.legend"]["highlight"].bind(t["legends.legend"])]}if(t["legends.legend"]["unhighlight"]){this._decorations["unhighlightLegendItem"]=[t["legends.legend"]["unhighlight"].bind(t["legends.legend"])]}if(t["legends.legend"]["selected"]){this._decorations["selectedLegendItem"]=[t["legends.legend"]["selected"].bind(t["legends.legend"])]}if(t["legends.legend"]["panStart"]){this._decorations["panStartOnLegend"]=[t["legends.legend"]["panStart"].bind(t)]}if(t["legends.legend"]["panMove"]){this._decorations["panMoveOnLegend"]=[t["legends.legend"]["panMove"].bind(t)]}if(t["legends.legend"]["panEnd"]){this._decorations["panEndOnLegend"]=[t["legends.legend"]["panEnd"].bind(t)]}}var p=this.getAxes(t);if(p.length>0){this._decorations["unhoverOnAxisLabel"]=[];var c=[],f=[],g=[];for(var u=-1;++u<p.length;){var v=p[u];if(!v.parent||!v.parent()){continue}if(v["mouseover"]){c.push(v)}if(v["cleanLabelAreas"]){this._decorations["unhoverOnAxisLabel"].push(v["cleanLabelAreas"].bind(v))}if(v["mousedown"]){f.push(v)}if(v["mouseup"]){g.push(v)}}this._decorations["hoverOnAxisLabel"]=[_.axisLabel(c,"mouseover")];this._decorations["focusAxisLabel"]=[_.axisLabel(f,"mousedown")];this._decorations["defocusAxisLabel"]=[_.axisLabel(g,"mouseup")]}if(this._lassoDecoration){this._decorations["lassostart"]=[this._lassoDecoration["start"].bind(this._lassoDecoration)];this._decorations["lassomove"]=[this._lassoDecoration["moveTo"].bind(this._lassoDecoration)];this._decorations["lassoend"]=[this._lassoDecoration["end"].bind(this._lassoDecoration)]}var y=this._selb_props;if(y["decorations"]){y["decorations"].forEach(function(e,t){this._decorations[e.name]=[e.fn]}.bind(this))}};var _={};_.axisLabel=function(e,t){var a=e.map(function(e){var t=e.parent();return t?t.node():undefined});return function(i){var r=i;while(!c.hasClass(r,"v-axis")&&(r=r.parentNode));if(r&&(r=r.parentNode)){var s=a.indexOf(r);if(s>=0){var o=e[s];o[t].apply(o,arguments)}}}};_.mainPlot=function(e,t){var a;switch(e.length){case 0:a=function(){};break;case 1:a=t[0];break;default:a=function(a){var i=Array.prototype.slice.call(arguments,1);if(!(a instanceof Array)){a=[a]}var r=[],s,o,n;for(var l=-1;++l<a.length;){s=a[l];o=c.findPlotModuleByNode(e,s);n=e.indexOf(o);if(n<0){continue}r[n]=r[n]||[];r[n].push(s)}for(var l=-1;++l<r.length;){if(r[l]){t[l].apply(e[l],[r[l]].concat(i))}}};break}return a};m.prototype.getAxes=function(e){var t=["xAxis","xAxis2","yAxis","yAxis2","zAxis"];var a=[];t.forEach(function(t,i){t="main."+t;if(e[t]){a.push(e[t])}});if(e["main.plot"]instanceof Array){for(var i=-1;++i<e["main.plot"].length;){t.forEach(function(t,r){var s=e["main.plot["+i+"]."+t];if(s){a.push(s)}})}}return a};m.prototype.getMainPlots=function(e){var t=[];if(e["main.plot"]instanceof Array){for(var a=-1;++a<e["main.plot"].length;){t.push(e["main.plot["+a+"].plot"])}}else{t.push(e["main.plot"])}return t};m.prototype._selb_logic=function(e,t){var i=t.key;var r;if(this._triggerHandlers[i]){for(var s=0,o=this._triggerHandlers[i].length;s<o;s++){if(t.type===a.DOM_TRIGGER){this._triggerHandlers[i][s](e,t,this._selb_plots)}else if(t.type===a.API_TRIGGER){[].push.call(e,t);r=this._triggerHandlers[i][s].apply(this,e)}}}return r};m.prototype._selb_set_selection_api=function(e,t,a){var i=this._selb_selectionMode;var s,o;if(d.isPlainObject(t)){s=t.clearSelection;o=t.selectionMode}if(o===undefined&&s!==undefined&&i!==r.SELECTION_MODE.NONE){if(s===true){o="exclusive"}else if(s===false){o="inclusive"}}if(o==="inclusive"||o==="exclusive"){this._selb_selectionMode=o.toUpperCase()}var n=false;var l=[];if(d.isArray(e)&&e.length===0){this.processTargetsSelection(l,a);n=true}else if(d.isEmptyObject(e)){this.processTargetsSelection(l,a);n=true}else if(this._selb_selectionMode===r.SELECTION_MODE.NONE){n=false}else{var h=this._rootNode.selectAll(".v-datapoint");var l=[];try{for(var c=0,f=h[0].length;c<f;c++){var m=false;var _=d3.select(h[0][c]).data()[0].ctx;if(!_&&d.isArray(d3.select(h[0][c]).data()[0])){var g=d3.select(h[0][c]).data()[0];for(var v=0;v<g.length;v++){m=u.matchSelection(g[v].ctx,e,this._selb_ctx.rawData);if(m){break}}}else{m=u.matchSelection(_,e,this._selb_ctx.rawData)}if(m){l.push(h[0][c])}}if(l.length>0){n=true}}catch(e){n=false}if(this._selb_selectionMode===r.SELECTION_MODE.SINGLE&&l.length>1){n=false;this._selb_selectionMode=i;p.error("Invalid selection in current selectionMode.")}if(n){this.processTargetsSelection(l,a)}}this._selb_selectionMode=i;return n};m.prototype._selb_get_selection_api=function(e,t,a){var i=u.getSelectedObjArray(this._selb_ctx.rawData,this._lastSelected,e,t);return i};function g(){var e,t,a;if(arguments.length>0){t=arguments[0];[].splice.call(arguments,0,1);a=arguments}else{return}e=this._triggerHandlers[t];if(e){e.forEach(function(e,t){e.apply(this,a)})}}function v(e){return!h.isMobile()&&!e.data.ctrlKey&&this._selb_lassoWithCtrlKey}m.prototype._selb_lassoStartOnEventLayer=function(e){var t=c.getBoundingBox(this._rootNode.select(".v-eventLayer").node());if(e.data.target.getAttribute("class")==="v-m-scrollBar"){this._lassoStartPoint=false;return}if(!l.contains(t,e.data.point)){this.runDecoration("unhighlightLegendItem",e.data.currentTarget);this._lassoStartPoint=false;return}var a=e.data.currentTarget;var i=e.data.point;this._lassoStartPoint=i;this.runDecoration("lassostart",a,i);this._selb_dispatch.lassoStart(i);this.hideDetail("infoMode");this.hideDetail("actionMode")};m.prototype._selb_lassoMoveOnEventLayer=function(e,t,a){if(!this._lassoStartPoint){return}var i=e.data.currentTarget;var r=e.data.point;this.runDecoration("lassomove",i,r);this.runDecoration("unhoverOnAxisLabel",i,a);this.runDecoration("unhighlightLegendItem",i)};m.prototype._selb_lassoEndOnEventLayer=function(e,t){if(!this._lassoStartPoint){this._lassoStartPoint=null;return}var a=e.data.currentTarget;var i=e.data.point;this._lassoEndPoint=i;var r=x.call(this);this.processTargetsSelection(r,t,e.data.ctrlKey);this.runDecoration("lassoend",a,i);this._selb_dispatch.lassoEnd(i);if(this._lastSelected.length>0&&r.length>0){this._lastEventPoint=e.data.point;if(h.isMobile()){if(this._lastSelected.length===1){M.call(this,this._lastSelected[0],"actionMode",e.data.point)}else{M.call(this,undefined,"actionMode",e.data.point)}this._lassoStartPoint=null;return}var s=e.data.target;while(s){if(s.getAttribute){if(c.hasClass(s,"v-datapoint")){this._hoveringDataPoint=s;break}s=s.parentNode}else{s=undefined}}if(!s&&this._lastSelected.length===1){s=this._lastSelected[0]}M.call(this,s,"actionMode",e.data.point)}else{this.hideDetail("actionMode")}this._lassoStartPoint=null};m.prototype._selb_panStartOnEventLayer=function(e){this.runDecoration("unhoverOnAxisLabel");if(this._selb_props.pan.enable){var t=c.getBoundingBox(this._rootNode.select(".v-m-main > .v-bound").node());if(!l.contains(t,e.data.point)){this._ongoingOperation=null;return}this.runDecoration("panStart",e.data.point);this.hideDetail("infoMode");this.hideDetail("actionMode")}};m.prototype._selb_panMoveOnEventLayer=function(e){if(this._selb_props.pan.enable){this.runDecoration("panMove",e.data.point)}};m.prototype._selb_panEndOnEventLayer=function(e,t){if(this._selb_props.pan.enable){this.runDecoration("panEnd",e.data.point)}};function y(e,t){var a=d3.select(t).datum();var i=null;if(a&&a.ctx){var r=a.ctx;var s=e.ctx2ArrayData(r);s.context=r;s.timeMeasure=a.timeMeasure;i=[s]}return i}function b(e){var t,a;var i={plotModules:e,dataPoints:[],boundaries:[],boundRects:[]};var r,s=-1;for(var o=-1;++o<e.length;){t=e[o].parent().node();r=t.querySelectorAll(".v-datapoint");for(var n=0;n<r.length;n++){i.dataPoints.push(r[n])}s+=r.length;i.boundaries.push(s);a=d3.select(t).select(".v-bound").node();i.boundRects.push(a?c.getBoundingBox(a):undefined)}return i}function x(){var e=this._rootNode;var t=c.getBoundingBox(this._lassoDecoration.getNode());var a=this._lassoStartPoint;var i=this._lassoEndPoint;var r=this;if(e&&a&&i){var s=[];if(!r._mainPlotBoundRects||!r._selb_props["dataPointsCacheable"]){r._mainPlotBoundRects=b(r._mainPlots)}var o=r._mainPlotBoundRects;var n=o.dataPoints;var u,d,h;var p=-1,f;var m=c.extensionPoint(r._selb_props,"getBoundingBoxes");for(var _=-1;++_<n.length;){h=n[_];if(_===0||_>f){p++;u=o.plotModules[p];d=o.boundRects[p];f=o.boundaries[p]}var g=m?c.callExtensionPoint(r._selb_props,"getBoundingBoxes",u,h):undefined;var v;if(g&&g.called){v=g.ret}else{v=[c.getBoundingBox(h)]}for(var y=-1;++y<v.length;){var x={bottom:Math.ceil(v[y].bottom),right:Math.ceil(v[y].right),x:Math.floor(v[y].x),y:Math.floor(v[y].y),width:Math.ceil(v[y].right)-Math.floor(v[y].x),height:Math.ceil(v[y].bottom)-Math.floor(v[y].y)};if(l.intersects(x,t)){if(d){d=l.intersection(t,d);if(d&&l.intersects(x,d)){s.push(h);break}}else{s.push(h);break}}}}return s}}function A(){var e=this._lastSelected;var t=this.runDecoration.bind(this);var a=[];t("unhighlight",e,false,true);t("clearPlot");this.hideDetail("actionMode");a=a.concat(e);e.splice(0,e.length);if(a.length>0){this._selb_fireDeselectDataEvent(a)}}function M(e,t,a){var r=undefined,s=this._lastSelected.length;if(e){var o=c.findPlotModuleByNode(this._selb_plots,e);var n=c.callExtensionPoint(this._selb_props,"convertData",this,o,e);if(n.called&&n.ret){r=[n.ret]}else{r=y(this._selb_ctx.rawData,e)}if(r&&r.length){var l=[];if(d.isArray(r[0].measure)){[r[0].dimension,r[0].measure].forEach(function(e,t){for(var a in e){if(e.hasOwnProperty(a)){l.push({name:e[a].key,value:e[a].value,type:t>0?"measure":"dimension"})}}})}else{[r[0].dimension,r[0].measure].forEach(function(e,t){for(var a in e){if(e.hasOwnProperty(a)){l.push({name:a,value:e[a],type:t>0?"measure":"dimension"})}}})}l._context=r[0].context;l.timeMeasure=r[0].timeMeasure;r=l}}var u=c.extensionPoint(this._selb_props,"isEqual");if(u&&s){s=1;for(var h=0;++h<this._lastSelected.length;){for(var p=-1;++p<h;){if(u.call(this,this._lastSelected[h],this._lastSelected[p])){break}}if(p>=h){s++}}}var f=this._rootNode.node();while(!c.hasClass(f,"v-viz")&&(f=f.parentNode));var m={data:r,selectedNumber:s,mode:t,position:a,container:f};this.runDecoration("showDetail",i.extend(true,{},m));this._showingDetailMode=t;this._selb_fireShowTooltipEvent(m,o)}m.prototype.hideDetail=function(e){if(!this._showingDetailMode||e!==this._showingDetailMode){return}this.runDecoration("hideDetail",e);this._selb_fireHideTooltipEvent();this._showingDetailMode=null};m.prototype._selb_clickOnNonDataPointHandler=function(e){A.call(this)};function S(e){var t=e.data.currentTarget;if(c.hasClass(t,"v-datalabel")){t=d3.select(e.data.target).datum().dataShape}return t}m.prototype._selb_clickOnDataPointHandler=function(e,t){var a=S(e);var i=this._dpFnIndexOf(this._lastSelected,a)>=0;this.processTargetsSelection(a,t,e.data.ctrlKey);if(this._dpFnIndexOf(this._lastSelected,a)>=0){if(h.isMobile()&&this._lastSelected.length>1){M.call(this,undefined,"actionMode",e.data.point)}else{M.call(this,a,"actionMode",e.data.point)}this._lastEventPoint=e.data.point}else{if(h.isMobile()&&this._dpFnIndexOf(this._lastSelected,a)<0){if(this._lastSelected.length>0){M.call(this,undefined,"actionMode",this._lastEventPoint)}else{this.hideDetail("actionMode")}}else{this.hideDetail("actionMode");this._hoveringDeselectedDataPoint=i}}};m.prototype._selb_mouseUpOnDataPoint=function(e,t){if(e.data.button!==2){return}var a=S(e);if(!Array.isArray(a)){a=[a]}this._selb_fireContextualDataEvent(a,"datapoint",e)};m.prototype._selb_mouseUpOnPlot=function(e,t){if(e.data.button!==2){return}var a=e.data.target;if(c.hasClass(a,"v-areabg")||c.hasClass(a,"v-lines")||c.hasClass(a,"v-dataline")||c.hasClass(a.parentNode,"v-m-plot")||c.hasClass(a.parentNode,"v-m-main")||c.hasClass(a.parentNode,"v-datashapesgroup")||c.hasClass(a.parentNode,"v-geopath")){this._selb_fireContextualDataEvent([],"plot",e)}};m.prototype._selb_mouseUpOnAxis=function(e,t){if(e.data.button!==2){return}if(this._rightClickOnAxisLabel){this._rightClickOnAxisLabel=false;return}var a=e.data.currentTarget;var i;if(c.hasClass(a,"v-m-xAxis")){i="xAxis"}else if(c.hasClass(a,"v-m-xAxis2")){i="xAxis2"}else if(c.hasClass(a,"v-m-yAxis")){i="yAxis"}else if(c.hasClass(a,"v-m-yAxis2")){i="yAxis2"}else if(c.hasClass(a,"v-m-zAxis")){i="zAxis"}else if(c.hasClass(a,"v-valueaxis")){i="valueaxis"}else{return}this._selb_fireContextualDataEvent([],i,e)};m.prototype._selb_mouseUpOnLegendArea=function(e,t){if(e.data.button!==2){return}this._selb_fireContextualDataEvent([],"legend",e)};m.prototype._selb_mouseUpOnTitle=function(e,t){if(e.data.button!==2){return}this._selb_fireContextualDataEvent([],"title",e)};m.prototype._selb_contextMenuOnAxisLabel=function(e,t){if(e.data.button!==2){return}var a=e.data.target;var i=c.findPlotNodeContainingNode(a);var r=d3.select(i).selectAll(".v-datapoint");var s=c.findSeriesForLabel(a.labelContexts,r);this._rightClickOnAxisLabel=true;this._selb_fireContextualDataEvent(s,"axisLabel",e)};m.prototype._selb_contextMenuOnChartarea=function(e,t){if(e.data.button!==2){return}this._selb_fireContextualDataEvent([],"chartarea",e)};m.prototype._selb_hoverOnDataPointHandler=function(e){if(h.isMobile()){return}var t=S(e);if(this._hoveringDataPoint&&this._dpFnCompare(this._hoveringDataPoint,t)){if(this._dpFnIndexOf(this._lastSelected,t)<0&&!this._hoveringDeselectedDataPoint){M.call(this,t,"infoMode",e.data.point)}return}else if(this._hoveringDataPoint){var a=this._dpFnIndexOf(this._lastSelected,this._hoveringDataPoint)>=0;this.runDecoration("unhighlight",this._hoveringDataPoint,a,this._lastSelected.length===0)}if(this._hoveringDataPoint!==t){this._hoveringDeselectedDataPoint=false}this._hoveringDataPoint=t;var a=this._dpFnIndexOf(this._lastSelected,t)>=0;this.runDecoration("highlightByHover",t,a);M.call(this,t,a?"actionMode":"infoMode",e.data.point)};m.prototype._selb_hoverOnNonDataPointHandler=function(e){this._hoveringDeselectedDataPoint=false;if(this._hoveringDataPoint){var t=this._dpFnIndexOf(this._lastSelected,this._hoveringDataPoint)>=0;this.runDecoration("unhighlight",this._hoveringDataPoint,t,this._lastSelected.length===0);this._hoveringDataPoint=null}this.hideDetail("infoMode")};m.prototype._selb_hoverOnLegendHandler=function(e){if(!h.isMobile()){this.runDecoration("highlightLegendItem",e.data.currentTarget)}};m.prototype._selb_cleanLegendHandler=function(e){this.runDecoration("unhighlightLegendItem",e.data.currentTarget,true)};m.prototype._selb_panStartOnLegendHandler=function(e){this.runDecoration("unhighlightLegendItem",e.data.currentTarget);if(this._selb_props.pan.enable){this.runDecoration("panStartOnLegend",e.data.point);this.hideDetail("infoMode");this.hideDetail("actionMode")}};m.prototype._selb_panMoveOnLegendHandler=function(e){if(this._selb_props.pan.enable){this.runDecoration("panMoveOnLegend",e.data.point)}};m.prototype._selb_panEndOnLegendHandler=function(e,t){if(this._selb_props.pan.enable){this.runDecoration("panEndOnLegend",e.data.point)}};m.prototype._selb_clickOnLegendHandler=function(e,t){};m.prototype._selb_mouseDownOnLegendHandler=function(e,t){this.runDecoration("selectedLegendItem",e.data.currentTarget)};m.prototype._selb_mouseDownOnLegendOverflowHandler=function(e,t){this.hideDetail("actionMode")};m.prototype._selb_mouseUpOnLegendHandler=function(e,t){if(e.data.button===2){return}if(this._lassoStartPoint||this._lassoStartPoint===false){if(this._selb_props.selectability.plotLassoSelection===false){this._lassoStartPoint=null}return}var a=this._rootNode.selectAll(".v-datapoint");var i=e.data.currentTarget.__data__.ctx||e.data.currentTarget.parentNode.__data__.ctx;if(i){var r=c.findSeriesForLegend(i,a);this.processTargetsSelection(r,t,e.data.ctrlKey);if(h.isMobile()){this.runDecoration("unhighlightLegendItem",e.data.currentTarget)}else{this.runDecoration("highlightLegendItem",e.data.currentTarget)}if(this._lastSelected.length&&(this._lastSelected.indexOf(r[0])>=0||h.isMobile())){if(this._lastSelected.indexOf(r[0])>=0){this._lastEventPoint=e.data.point}if(this._lastSelected.indexOf(r[0])<0||this._lastSelected.length>1){M.call(this,undefined,"actionMode",this._lastEventPoint)}else{M.call(this,this._lastSelected[0],"actionMode",this._lastEventPoint)}}else{this.hideDetail("actionMode")}}};m.prototype._selb_hoverOnAxisLabelHandler=function(e,t,a){this.runDecoration("unhoverOnAxisLabel",e.data.target,a);this.runDecoration("hoverOnAxisLabel",e.data.target)};m.prototype._selb_cleanAxisLabelHandler=function(e,t,a){this.runDecoration("unhoverOnAxisLabel",e.data.target,a)};m.prototype._selb_mouseDownAxisLabelHandler=function(e,t,a){this.runDecoration("focusAxisLabel",e.data.target,a)};m.prototype._selb_mouseUpAxisLabelHandler=function(e,t,a){if(e.data.button===2){return}if(this._lassoStartPoint||this._lassoStartPoint===false){if(this._selb_props.selectability.plotLassoSelection===false){this._lassoStartPoint=null}return}var i=e.data.target;var r=c.findPlotNodeContainingNode(i);var s=d3.select(r).selectAll(".v-datapoint");var o=c.findSeriesForLabel(i.labelContexts,s);this.processTargetsSelection(o,t,e.data.ctrlKey);if(h.isMobile()){this.runDecoration("unhoverOnAxisLabel",e.data.target,a)}else{this.runDecoration("defocusAxisLabel",e.data.target,a)}if(this._lastSelected.length&&(this._lastSelected.indexOf(o[0])>=0||h.isMobile())){if(this._lastSelected.indexOf(o[0])>=0){this._lastEventPoint=e.data.point}if(this._lastSelected.indexOf(o[0])<0||this._lastSelected.length>1){M.call(this,undefined,"actionMode",this._lastEventPoint)}else{M.call(this,this._lastSelected[0],"actionMode",this._lastEventPoint)}}else{this.hideDetail("actionMode")}};m.prototype._selb_clickOnAxisLabelHandler=function(e,t){};m.prototype._selb_hoverOnRadarAxisLabelHandler=function(e,t,a){for(var i=-1;++i<this._mainPlots.length;){this._mainPlots[i].cleanLabelAreas()}var r=c.findPlotModuleByNode(this._selb_plots,e.data.target);r.mouseover(e.data.target)};m.prototype._selb_cleanRadarAxisLabelHandler=function(e){for(var t=-1;++t<this._mainPlots.length;){if(this._mainPlots[t].cleanLabelAreas&&!this._mainPlots[t].getPreferredSize){this._mainPlots[t].cleanLabelAreas()}}};m.prototype._selb_mouseDownRadarAxisLabelHandler=function(e){var t=c.findPlotModuleByNode(this._selb_plots,e.data.target);t.mousedown(e.data.target)};m.prototype._selb_mouseUpRadarAxisLabelHandler=function(e){for(var t=-1;++t<this._mainPlots.length;){this._mainPlots[t].cleanLabelAreas()}var a=c.findPlotModuleByNode(this._selb_plots,e.data.target);a.mouseover(e.data.target)};m.prototype.processTargetsSelection=function(e,t,a){var i=this._clickLikeTriggers.indexOf(t)>-1;var s=c.concatByPush;if(!Array.isArray(e)){e=[e]}var o=c.callExtensionPoint(this._selb_props,"processTarget",this,e,t,a);if(o.called){e.splice(0);if(o.ret){s(e,o.ret)}}var n=this.runDecoration.bind(this);var l=this._lastSelected;var u=this._selb_selectionMode;var d=[],h=[];if(u!==r.SELECTION_MODE.NONE){if(l.length===0){n("clearPlot",true)}var p=[],f=[],m=[];for(var _=-1;++_<l.length;){var g=false;for(var v=-1;++v<e.length;){if(this._dpFnCompare(e[v],l[_])){g=true;break}}(g?m:p).push(l[_])}for(var _=-1;++_<e.length;){if(this._dpFnIndexOf(m,e[_])<0){f.push(e[_])}}l.splice(0,l.length);function y(){if(!i){s(l,m)}else{s(f.length>0?l:h,m)}s(l,p)}s(l,f);s(d,f);switch(u){case r.SELECTION_MODE.EXCLUSIVE:if(!a){s(l,m);s(h,p)}else{y()}break;case r.SELECTION_MODE.MULTIPLE:a=true;case r.SELECTION_MODE.INCLUSIVE:if(!a){s(l,m);s(l,p)}else{y()}break;case r.SELECTION_MODE.SINGLE:s(h,m);s(h,p);break}if(h.length>0){n("unhighlight",h,false,l.length===0)}if(l.length===0){n("clearPlot")}else{n("highlightBySelecting",l)}if(d.length>0){this._selb_fireSelectDataEvent(d)}if(h.length>0){this._selb_fireDeselectDataEvent(h)}}};m.prototype._selb_fireSelectDataEvent=function(e){var t=[];for(var a=0,i=e.length;a<i;a++){var s=[],o=e[a].__data__;if(o.val instanceof Array){for(var n=0,l=o.val.length;n<l;n++){s.push({val:o.val[n],ctx:o.ctx[n]})}}else if(o instanceof Array){for(var n=0,l=o.length;n<l;n++){s.push({val:o[n].val,ctx:o[n].ctx})}}else{s.push({val:e[a].__data__.val,ctx:e[a].__data__.ctx})}t.push({target:e[a],data:s})}setTimeout(function(){this._selb_dispatch.selectData({name:r.Event.SelectData.name,data:t})}.bind(this),1)};m.prototype._selb_fireDeselectDataEvent=function(e){var t=[];for(var a=0,i=e.length;a<i;a++){var s=[],o=e[a].__data__;if(o.val instanceof Array){for(var n=0,l=o.val.length;n<l;n++){s.push({val:o.val[n],ctx:o.ctx[n]})}}else{s.push({val:e[a].__data__.val,ctx:e[a].__data__.ctx})}t.push({target:e[a],data:s})}setTimeout(function(){this._selb_dispatch.deselectData({name:r.Event.DeSelectData.name,data:t})}.bind(this),1)};m.prototype._selb_fireShowTooltipEvent=function(e,t){var a=t?c.getBoundingBox(t.parent().node()):undefined;var i={body:[],footer:[],point:e.position,selectedValues:e.selectedNumber};if(t){var a=c.getBoundingBox(t.parent().node());i.plotArea={x:a.x,y:a.y,width:a.width,height:a.height}}var s=e.data;if(s&&s.length){for(var o=-1;++o<s.length;){var n=s[o];if(n.type==="measure"){i.body.push({name:n.name,val:[{value:n.value}]})}else if(n.type==="dimension"){i.footer.push({label:{val:n.name},value:{val:n.value}})}}}setTimeout(function(){this._selb_dispatch.showTooltip({name:r.Event.TooltipShow.name,data:i})}.bind(this),1)};m.prototype._selb_fireHideTooltipEvent=function(){setTimeout(function(){this._selb_dispatch.hideTooltip({name:r.Event.TooltipHide.name})}.bind(this),1)};m.prototype._selb_fireContextualDataEvent=function(e,t,a){var i=[];for(var s=0,o=e.length;s<o;s++){var n=[],l=e[s].__data__;if(l.val instanceof Array){for(var u=0,d=l.val.length;u<d;u++){n.push({val:l.val[u],ctx:l.ctx[u]})}}else if(l instanceof Array){for(var u=0,d=l.length;u<d;u++){n.push({val:l[u].val,ctx:l[u].ctx})}}else{n.push({val:e[s].__data__.val,ctx:e[s].__data__.ctx})}i.push({target:e[s],data:n})}setTimeout(function(){this._selb_dispatch.contextualData({name:r.Event.contextualData.name,type:t,data:i,point:a.data.point})}.bind(this),1)};m.prototype.setRootNode=function(e){this._rootNode=e;this._rootNode.style("cursor","default");var t=this._rootNode.node().parentNode;if(t){var a=d3.select(t);var i=a.select(".v-m-tooltip-container");if(i.node()===null){a.append("div").attr("class","v-m-tooltip-container")}}return m};m.prototype._selb_parseOptions=function(){var e=this._selb_props;if(!e.selectability){e.selectability={}}var t=(e.selectability.mode||"").toUpperCase();switch(t){case r.SELECTION_MODE.SINGLE:case r.SELECTION_MODE.MULTIPLE:case r.SELECTION_MODE.INCLUSIVE:case r.SELECTION_MODE.EXCLUSIVE:case r.SELECTION_MODE.NONE:this._selb_selectionMode=t;break;default:this._selb_selectionMode=r.SELECTION_MODE.INCLUSIVE;break}this._selb_lassoWithCtrlKey=!!e.selectability.lassoWithCtrlKey;this._selb_holdSelection=e.holdSelection;this._selb_preserveSelectionWhenDragging=e.preserveSelectionWhenDragging};m.prototype.properties=function(e){if(!arguments.length){return this._selb_props}this._lastSelected=[];i.extend(true,this._selb_props,e);this._selb_parseOptions()};m.prototype.reset=function(){plots=[];this._lastSelected.splice(0,this._lastSelected.length)};m.prototype.module=function(e){if(!arguments.length){return this._selb_m}this.reset();this._selb_m=e;return m};m.prototype.getSelectionMode=function(){return this._selb_selectionMode};m.prototype.highlightedByLegend=function(e){};m.prototype.defaultSelection=function(e){};m.prototype.dispatch=function(){return this._selb_dispatch};m.prototype.destroy=function(){this.hideDetail("infoMode");this.hideDetail("actionMode");this.reset();this._selb_m=null;this._selb_plots=null;this._behaviorManager=null;this._selb_ctx=null;this._rootNode=null;if(this._lassoDecoration){this._lassoDecoration.destroy();this._lassoDecoration=null}this._lassoStartPoint=null;this._lassoEndPoint=null;this._clickLikeTriggers=null;this._mainPlots=null;this._mainPlotBoundRects=null};return m});define("sap/viz/modules/manifests/controller/Base",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants"],function e(t,a){var i={id:"sap.viz.modules.controller.base",abstract:true,type:a.Type.Controller,renderto:a.RenderTo.NONE,name:"controller base module",properties:null,events:null,feeds:null};var r={viz:[],module:[i],feeds:[]};return r});define("sap/viz/chart/elements/manifests/controller/Interaction",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/chart/elements/behaviors/Interaction","sap/viz/modules/manifests/controller/Base"],function e(t,a,i,r){var s={id:"sap.viz.modules.controller.interaction",name:"selection",base:"sap.viz.modules.controller.base",type:a.Type.Behavior,description:"Settings for user interaction with the chart",properties:{selectability:{name:"selectability",supportedValueType:"Object",supportedValues:{mode:{name:"mode",supportedValueType:"String",supportedValues:["exclusive","inclusive","single","multiple","none"],defaultValue:"inclusive",description:"Set the selection mode. If this value is set to 'exclusive' or 'single', only one set of data points can be selected at once. If this value is set to 'inclusive' or 'multiple', multiple sets of data points can be selected at once. If this value is set to 'none', no sets of data points can be selected. The values 'single' and 'multiple' are deprecated; please remove them from your chart.",example:"<a href='"+a.DocExample.SnippetUrl+"3138' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},axisLabelSelection:{name:"axisLabelSelection",supportedValueType:"Boolean",defaultValue:true,description:"Set whether axis labels can be selected"},legendSelection:{name:"legendSelection",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the legend can be selected"},plotLassoSelection:{name:"plotLassoSelection",supportedValueType:"Boolean",defaultValue:true,description:"Set whether lasso selection can be used in the plot area"},plotStdSelection:{name:"plotStdSelection",supportedValueType:"Boolean",defaultValue:true,description:"Set whether selection can be done in the plot area by clicking and tapping"},lassoWithCtrlKey:{name:"lassoWithCtrlKey",supportedValueType:"Boolean",defaultValue:false,description:"Set whether the user must hold the ctrl key to use lasso selection",isExported:false},dataPointsCacheable:{name:"dataPointsCacheable",supportedValueType:"Boolean",defaultValue:true,description:"Set whether data points can be cached. If it's true, data points might be cached by Interaction for better performance.",isExported:false}},description:"Settings for selectability"},pan:{name:"pan",supportedValueType:"Object",supportedValues:{enable:{name:"enable",supportedValueType:"Boolean",defaultValue:true,description:"Enable/disable pan",isExported:true},orientation:{name:"orientation",supportedValueType:"String",supportedValues:["horizontal","vertical","both"],defaultValue:"both",description:"Set orientation of pan",isExported:false}},isExported:false},supportedEventNames:{name:"supportedEventNames",supportedValueType:"StringArray",supportedValues:["mouseup","mousedown","mousemove","mouseout","mouseover","touchstart"],defaultValue:["mouseup","mousedown","mousemove","mouseout","mouseover","touchstart"],description:"Set supported event names",isExported:false},enableMouseMove:{name:"enableMouseMove",supportedValueType:"Boolean",defaultValue:true,description:"Set whether mouse move is enabled",isExported:false},enableMouseOver:{name:"enableMouseOver",supportedValueType:"Boolean",defaultValue:true,description:"Set whether mouse over is enabled",isExported:false},enableMouseOut:{name:"enableMouseOut",supportedValueType:"Boolean",defaultValue:true,description:"Set whether mouse out is enabled",isExported:false},supportLassoEvent:{name:"supportLassoEvent",supportedValueType:"Boolean",defaultValue:true,description:"Set whether support lasso event is enabled",isExported:false},holdSelection:{name:"holdSelection",supportedValueType:"Boolean",defaultValue:false,description:"Set whether hold selection is enabled",isExported:false},preserveSelectionWhenDragging:{name:"preserveSelectionWhenDragging",supportedValueType:"Boolean",defaultValue:false,description:"Set whether preserve selection when dragging is enabled",isExported:false},decorations:{name:"decorations",supportedValueType:"ObjectArray",defaultValue:undefined,description:"Set decorations relating to interaction. Each item \n                that is an object of {name: 'decoration name', fn: 'decoration callback function'} is a decoration. \n                Currently two decorations are supported: showDetail and hideDetail. \n                These two decorations can be used to create a user-defined tooltip. \n                    \nIf these 2 decorations are used, the default tooltip is not used, \n                and the user should implement a custom tooltip. \n                The showDetail decoration is called when the tooltip is shown, \n                and the hideDetail decoration is called when the tooltip is hidden.\n                    \nThe arguments of showDetail are one object of {mode: 'tooltip mode', \n                data: 'data of hovering selected data point', position: 'mouse position', \n                container: 'chart container dom element', selectedNumber: 'number of selected data points'}. \n                'tooltip mode' is either 'infoMode' or 'actionMode'. Hovering over an unselected data point displays the infoMode tooltip, \n                while hovering over a selected data point displays the actionMode tooltip.\n                'data' is an array of dimensions and measures, where each item is an object of \n                {name: 'dimension name or measure name', value: 'dimension member or measure value',\n                type: 'literal string of dimension or measure'}. For instance, \n                {name: 'Country', value: 'China', type: 'dimension'}, or \n                {name: 'Profit', value: 159, type: 'measure'}.\n                    \nThe arguments of hideDetail are a string representing tooltip mode, \n                i.e. what kind of tooltip should be hidden.",isExported:true},triggers:{name:"triggers",supportedValueType:"ObjectArray",defaultValue:undefined,description:"Set triggers for behavior decration.",isExported:false},handlers:{name:"handlers",supportedValueType:"ObjectArray",defaultValue:undefined,description:"Set handlers for behavior decration.",isExported:false}},fn:i};var o={viz:[],module:[s].concat(r.module),feeds:[].concat(r.feeds)};return o});define("sap/viz/impls/Common",["sap/viz/modules/manifests/DivContainer","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/layout/Dock","sap/viz/modules/manifests/Legend","sap/viz/modules/manifests/legend/Common","sap/viz/modules/manifests/Background","sap/viz/modules/manifests/Title","sap/viz/modules/manifests/layout/Stack","sap/viz/modules/manifests/XYContainer","sap/viz/chart/elements/manifests/controller/Interaction"],function(){var e=[];var t=[];var a=[];for(var i=0;i<arguments.length;++i){var r=arguments[i];e=e.concat(r.viz);t=t.concat(r.module);a=a.concat(r.feeds)}var s={viz:e,module:t,feeds:a};return s});define("sap/viz/modules/util/defaultSelectionUtil",[],function e(){var t={};t.clearSelectionInfo=function(e,t,i){var r,s;if(i instanceof Array){for(r=0,s=i.length;r<s;r++){a(i[r],t)}}else{a(i,t)}};function a(e,t){var a,i;if(e.__data__){i=e.__data__.info}else{return}if(i instanceof Array){for(a=0;a<i.length;a++){if(i&&i.defaultSelection){i.defaultSelection.isSelected=t}}}else{i.defaultSelection.isSelected=t}}return t});define("sap/viz/modules/util/GestureUtil",["sap/viz/base/UADetector","sap/viz/elements/common/SVG"],function e(t,a){var i={};i.zoomInfo=function(e,t,a,i,r){var s=t;var o=e.range();var n=Math.abs(e.rangeExtent()[1]-e.rangeExtent()[0]);var l=n/o.length;if(t>1){if(l>=i){return null}else if(l*t>=i){s=i/l}}else if(t<1&&t>0){if(n<=i){return null}else if(n*t<=i){s=i/n}}var u=[0,n*s];return{scale:s,rangeBand:u,offset:{x:a.x-s*a.x,y:a.y-s*a.y}}};i.valueAxisZoomInfo=function(e,t,a,i){var r=e.range(),s=e.tickHint;var o=Math.abs(r[0]-r[r.length-1]),n=o/s;if(t>1){if(n>=i){return null}else if(n*t>=i){t=i/n}}else{if(o<=i){return null}else if(o*t<=i){t=i/o}}return{scale:t,offset:{x:a.x-t*a.x,y:a.y-t*a.y}}};i.pinchPointOffset=function(e,t,i){var r=a.getTransformToElement(e,e.parentNode);var s={};var o,n;var l=0;if(t.yAxis.type==="category"){o=Math.abs(t.yAxis.axis.rangeExtent()[1]-t.yAxis.axis.rangeExtent()[0])}else if(t.yAxis.type==="value"){l=t.yAxis.axis.range();o=Math.abs(l[0]-l[l.length-1])}if(t.xAxis.type==="category"){n=Math.abs(t.xAxis.axis.rangeExtent()[1]-t.xAxis.axis.rangeExtent()[0])}else if(t.xAxis.type==="value"){l=t.xAxis.axis.range();n=Math.abs(l[0]-l[l.length-1])}if(r.e>0){s.x=-r.e}else if(r.e+n<i.width){s.x=i.width-(r.e+n)}else{s.x=0}if(r.f>0){s.y=-r.f}else if(r.f+o<i.height){s.y=i.height-(r.f+o)}else{s.y=0}return s};i.convertToLayerPoint=function(e,t,i){var r;if(i){r=t.select(i)}else{r=t}if(r){var s=r.node();if(s){var o=a.getTransformToElement(s,s.parentNode);return{x:e.x-o.e,y:e.y-o.f}}}};i.parseTransformString=function(e){var a=",";if(t.isWindowsSurface()){a=" "}var i=e.substring(e.indexOf("(")+1,e.indexOf(a)),r=e.substring(e.indexOf(a)+1,e.indexOf(")"));if(e.indexOf(a)===-1){i=e.substring(e.indexOf("(")+1,e.indexOf(")"));r=0}return{x:i,y:r}};return i});define("sap/viz/modules/BaseGesture",["sap/viz/modules/Constants","sap/viz/base/utils/oo","sap/viz/modules/Base","sap/viz/modules/dispatch","sap/viz/base/utils/ObjectUtils","sap/viz/base/utils/Objects","sap/viz/base/utils/TypeUtils","sap/viz/lang/langManager","sap/viz/modules/util/defaultSelectionUtil","sap/viz/modules/util/GestureUtil","sap/viz/modules/util/BoundUtil","sap/viz/elements/common/SVG"],function e(t,a,i,r,s,o,n,l,u,d,h,p){var c=function(e,t){c.superclass.constructor.apply(this,arguments);this._width=undefined;this._height=undefined;this._props={orientation:"vertical"};this._d3root=null;this._datashapesgroup=null;this._eDispatch=new r("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit","scale","stretch","stretchEnd");this._categoryScale=d3.scale.ordinal();this._valueAxis1={scale:d3.scale.linear()};this._valueAxis2={scale:d3.scale.linear()};this._dimensionScale=null;this._isPinching=false;this._pinchEvent=null;this._isPanning=false;this._panEvent=null;this._fullData=null};c.prototype.self=function(){return this};c.prototype.panStart=function(e){this._panEvent=e;this._isPanning=true};function f(e,t,a){e.x=parseFloat(t.x)+e.x;e.y=parseFloat(t.y)+e.y;var i=a.originalWidth-a.currentWidth;var r=a.originalHeight-a.currentHeight;if(e.x<i){e.x=i}if(e.y<r){e.y=r}if(e.x>0){e.x=0}if(e.y>0){e.y=0}}c.prototype.panMove=function(e){var t={x:parseFloat(e.x-this._panEvent.x),y:parseFloat(e.y-this._panEvent.y)};if(t.x!==0||t.y!==0){var a,i={},r=this._datashapesgroup;var s={originalWidth:this._width,originalHeight:this._height,currentWidth:this.getXAxisRange(),currentHeight:this.getYAxisRange()};a=r.attr("transform");if(a){i=d.parseTransformString(a);f(t,i,s);this.dragToOffset({offset:t});this._eDispatch.stretch({offset:t})}else{this._eDispatch.stretch({offset:{x:0,y:0}})}}this._panEvent=e};c.prototype.panEnd=function(e){this.panMove(e);this._isPanning=false;this._eDispatch.stretchEnd()};c.prototype.fullData=function(e){this._fullData=e};c.prototype.pinchBegan=function(e){this._pinchEvent=e;this._isPinching=true};c.prototype._pinch_modifyCategoryscale=function(e,t){this._categoryScale.rangeBands(t);if(this._dimensionScale){this._dimensionScale.rangeBands(t)}};c.prototype._pinch_modifyValuescale=function(e){var t=this._valueAxis1.scale.range();if(t[0]!==t[t.length-1]){this._valueAxis1.scale.range([t[0]*e,t[t.length-1]*e])}var a=this._valueAxis2.scale.range();if(a[0]!==a[a.length-1]){this._valueAxis2.scale.range([a[0]*e,a[a.length-1]*e])}};c.prototype.pinch=function(e){var t=this._pinchEvent.pinchProperties;var a=d.convertToLayerPoint(this._pinchEvent.point,this._datashapesgroup);var i;if(this._props.orientation==="horizontal"){i=d.zoomInfo(this._categoryScale,e.scale,a,this._height,"left")}else if(this._props.orientation==="vertical"){i=d.zoomInfo(this._categoryScale,e.scale,a,this._width,"bottom")}if(i){var r=this._datashapesgroup.node();var s=p.getTransformToElement(r,r.parentNode);var o=i.scale;var n=i.offset;var l=i.rangeBand;if(t.orientation==="horizontal"||t.orientation==="both"){if(this._props.orientation==="horizontal"){this._pinch_modifyValuescale(o)}else if(this._props.orientation==="vertical"){this._pinch_modifyCategoryscale(o,l)}n.x+=s.e}if(t.orientation==="vertical"||t.orientation==="both"){if(this._props.orientation==="horizontal"){this._pinch_modifyCategoryscale(o,l)}else if(this._props.orientation==="vertical"){this._pinch_modifyValuescale(o)}n.y+=s.f}if(t.orientation==="horizontal"){n.y=0}else if(t.orientation==="vertical"){n.x=0}this.render(this._d3root,{isPinching:this._isPinching});this._eDispatch.scale({scale:o});this.dragToOffset({offset:n});this._eDispatch.stretch({offset:n})}};c.prototype.dragToOffset=function(e){var t,a={},i=this._datashapesgroup;if(e.offset){a=e.offset}else{t=e.transform,a=d.parseTransformString(t);var r=i.node(),s=p.getTransformToElement(r,r.parentNode);a.y=s.f}if(a.hasOwnProperty("x")&&a.hasOwnProperty("y")){i.attr("transform","translate("+a.x+","+a.y+")")}};c.prototype.getAxisList=function(){var e={xAxis:{},yAxis:{}};if(this._props.orientation==="vertical"){if(this._dimensionScale){e.xAxis.axis=this._dimensionScale}else{e.xAxis.axis=this._categoryScale}e.xAxis.type="category";e.yAxis.axis=this._valueAxis1.scale;e.yAxis.type="value"}else if(this._props.orientation==="horizontal"){if(this._dimensionScale){e.yAxis.axis=this._dimensionScale}else{e.yAxis.axis=this._categoryScale}e.yAxis.type="category";e.xAxis.axis=this._valueAxis1.scale;e.xAxis.type="value"}return e};c.prototype.pinchEnd=function(){var e=this._pinchEvent.pinchProperties;var t={};t.width=this._width;t.height=this._height;var a=this.getAxisList();var i=this.getXAxisRange();var r=this.getYAxisRange();var s=this;var o=this._datashapesgroup,n=o.node();var l=d.pinchPointOffset(n,a,t);if(l.x!==0||l.y!==0){var u=n.getAttribute("transform");var h=d.parseTransformString(u);var c=p.getTransformToElement(n,n.parentNode);o.transition().duration(100).tween("transform",function(){var t=null,a=null,o,n,d;if(e.orientation==="horizontal"||e.orientation==="both"){if(l.x<-.5){t=d3.interpolate(u,"translate(0, "+c.f+")");n=0}else if(l.x>.5){t=d3.interpolate(u,"translate("+(s._width-i)+", "+c.f+")");n=s._width-i}else{t=null;n=h.x}}if(e.orientation==="vertical"||e.orientation==="both"){if(l.y<-.5){a=d3.interpolate(u,"translate("+c.e+", 0)");d=0}else if(l.y>.5){a=d3.interpolate(u,"translate("+c.e+", "+(s._height-r)+")");d=s._height-r}else{a=null;d=h.y}}o=d3.interpolate(u,"translate("+n+","+d+")");return function(e){var i=null,r=null;if(t){i=t(e)}if(a){r=a(e)}s._eDispatch.stretch({xTransform:i,yTransform:r});var n=o(e);this.setAttribute("transform",n)}}).each("end",function(){s._eDispatch.stretchEnd()})}else{s._eDispatch.stretchEnd()}this._isPinching=false};c.prototype.getXAxisRange=function(){var e;if(this._props.orientation==="vertical"){if(this._dimensionScale){e=this._dimensionScale.rangeExtent()}else{e=this._categoryScale.rangeExtent()}}else if(this._props.orientation==="horizontal"){if(this._valueAxis1.scale.range()[0]!==this._valueAxis1.scale.range()[1]){e=this._valueAxis1.scale.range()}else if(this._valueAxis2.scale.range()[0]!==this._valueAxis2.scale.range()[1]){e=this._valueAxis2.scale.range()}}return Math.abs(e[0]-e[1])};c.prototype.getYAxisRange=function(){var e;if(this._props.orientation==="vertical"){if(this._valueAxis1.scale.range()[0]!==this._valueAxis1.scale.range()[1]){e=this._valueAxis1.scale.range()}else if(this._valueAxis2.scale.range()[0]!==this._valueAxis2.scale.range()[1]){e=this._valueAxis2.scale.range()}}else if(this._props.orientation==="horizontal"){if(this._dimensionScale){e=this._dimensionScale.rangeExtent()}else{e=this._categoryScale.rangeExtent()}}return Math.abs(e[0]-e[1])};c.prototype.render=function(e){};c.prototype.destroy=function(){if(c.superclass.destroy){c.superclass.destroy.apply(this,arguments)}this._fullData=null};c.prototype.parent=function(e){if(!arguments.length){return this._d3root}this._d3root=e;return this};a.extend(c,i);return c});define("sap/viz/modules/util/dataUtil",["sap/viz/base/utils/TypeUtils"],function e(t){var a=function(){var e=function(e,a){if(!e||!a||t.isEmptyObject(e)||t.isEmptyObject(a)){return false}else{return r(e,a)&&s(e,a)}};var a=function(e,a,i){var r=e[a].data.getMeasureValuesGroupDataByIdx();if(t.isArray(r)){for(var s=0,o=r.length;s<o;s++){if(t.isArray(r[s].values)){for(var n=0,l=r[s].values.length;n<l;n++){if(t.isArray(r[s].values[n].rows)){for(var u=0,d=r[s].values[n].rows.length;u<d;u++){var h=r[s].values[n].rows[u];if(t.isArray(h)){for(var p=0,c=h.length;p<c;p++){h[p].metaInfo=i}}}}}}}}};var i=function(e,a,i,r){if(i.hasOwnProperty(a)&&t.isExist(i[a].label)&&t.isExist(i[a].label.formatString)){if(e.hasOwnProperty(a)){var s=e[a].properties();if(s.type==="value"){var o=r.data().getMeasureValuesGroupDataByIdx(0);if(o.values&&t.isArray(o.values)&&t.isArray(o.values[0].rows)){var n=null,l={label:{}};if(t.isArray(i[a].label.formatString)){var u=i[a].label.formatString[o.values[0].rows[0][0].ctx.path.mg];if(u){var d=o.values[0].rows[0][0].ctx.path.mi>=u.length?u.length-1:o.values[0].rows[0][0].ctx.path.mi;n=u[d]}}else if(t.isString(i[a].label.formatString)){n=i[a].label.formatString}if(n){l.label.formatString=n;e[a].properties(l)}}}}}};function r(e,t){var a=[],i=[];var r=0;var s=e.getAnalysisAxisDataByIdx(r);while(s){a.push(s);++r;s=e.getAnalysisAxisDataByIdx(r)}r=0;s=t.getAnalysisAxisDataByIdx(r);while(s){i.push(s);++r;s=t.getAnalysisAxisDataByIdx(r)}if(a.length!==i.length){return false}var n=a.length;for(r=0;r<n;++r){if(a[r].index!==i[r].index){return false}if(!o(a[r].values,i[r].values)){return false}}return true}function s(e,t){var a=[],i=[];var r=0;var s=e.getMeasureValuesGroupDataByIdx(r);while(s){a.push(s);++r;s=e.getMeasureValuesGroupDataByIdx(r)}r=0;s=t.getMeasureValuesGroupDataByIdx(r);while(s){i.push(s);++r;s=t.getMeasureValuesGroupDataByIdx(r)}if(a.length!==i.length){return false}var o=a.length;for(r=0;r<o;++r){if(a[r].index!==i[r].index){return false}if(!n(a[r].values,i[r].values)){return false}}return true}function o(e,t){if(e.length!==t.length){return false}var a=e.length;for(var i=0;i<a;++i){if(e[i].type!==t[i].type){return false}if(e[i].col.val!==t[i].col.val){return false}if(e[i].rows.length!==t[i].rows.length){return false}}return true}function n(e,t){if(e.length!==t.length){return false}var a=e.length;for(var i=0;i<a;++i){if(e[i].col!==t[i].col){return false}if(e[i].rows.length!==t[i].rows.length){return false}}return true}return{hasSameSchema:e,addMetaInfo2Data:a,updateAxisFormatString:i}};return a});define("sap/viz/modules/util/MNDHandler",[],function e(){return function(e){var t;var a;var i=false;var r=true;var s=false;var o=false;var n=e.getMeasureValuesGroupDataByIdx(1);var l=e.getMeasureValuesGroupDataByIdx(0);var u=e.getAnalysisAxisDataByIdx(1);var d=e.getAnalysisAxisDataByIdx(0);if(n&&n.values&&n.values.length>0){o=true}if(d&&d.values&&d.values.length>0){if(d.values[0].type==="MND"){i=true;r=false;s=false}else if(d.values[d.values.length-1].type==="MND"){i=true;r=false;s=true}}if(u&&u.values&&u.values.length>0){if(u.values[0].type==="MND"){i=true;s=false}else if(u.values[u.values.length-1].type==="MND"){i=true;s=true}}function h(e){var t=[];var a,o,n;var l;if(e.values.length<=0){return t}if(i&&!r){for(o=0;o<e.values[0].rows.length;++o){l=new Array(e.values.length*e.values[0].rows[0].length);for(n=0;n<e.values[0].rows[0].length;++n){for(a=0;a<e.values.length;++a){var u={};u.val=e.values[a].rows[o][n].val;u.ctx=e.values[a].rows[o][n].ctx;u.info=e.values[a].rows[o][n].info;if(s){l[n*e.values.length+a]=u}else{l[a*e.values[0].rows[0].length+n]=u}}}t.push(l)}}else{t=new Array(e.values.length*e.values[0].rows.length);for(a=0;a<e.values.length;++a){for(o=0;o<e.values[0].rows.length;++o){l=e.values[a].rows[o];if(!i||!s){t[a*e.values[0].rows.length+o]=l}else{t[o*e.values.length+a]=l}}}}return t}function p(e,t){for(var a=0;a<t.length;++a){e[a]=e[a].concat(t[a])}}function c(e){var t=[];var a=l.values.length;var i=n.values.length;var r=l.values[0].rows[0].length;var o=new Array(l.values[0].rows.length);var u=0;var d,h,c;for(d=0;d<o.length;++d){o[d]=[]}if(s){var f=l.values[0].rows.length;for(d=0;d<r;++d){for(h=0;h<a;++h){for(c=0;c<f;++c){o[c][u]=l.values[h].rows[c][d]}t[u]=0;++u}for(h=0;h<i;++h){for(c=0;c<f;++c){o[c][u]=n.values[h].rows[c][d]}t[u]=1;++u}}}else{for(d=0;d<a;++d){for(h=0;h<r;++h){t[u++]=0}p(o,l.values[d].rows)}for(d=0;d<i;++d){for(h=0;h<r;++h){t[u++]=1}p(o,n.values[d].rows)}}e["MG1"]=o;e["MG1Number"]=l.values.length;e["color"]=t}var f={};if(o&&!r){c(f)}else{t=h(l);f["MG1Number"]=l.values.length;if(o){a=h(n);f["MG2Number"]=n.values.length}f["MG1"]=t;f["MG2"]=a}f["hasMND"]=i;f["MNDOnColor"]=r;f["MNDInner"]=s;return f}});define("sap/viz/util/NumberUtils",["sap/viz/base/utils/TypeUtils"],function e(t){var a={getSizeValue:function(e,a){var i;if(!e||!t.isFunction(e.toString)){return 0}if(e.toString().indexOf("px")>=0){i=parseFloat(e.split("px")[0]);if(t.isNaN(i)){i=0}else if(i>a){i=a}}else{i=e;if(e.toString().indexOf("%")>=0){i=parseFloat(e.split("%")[0])/100}if(t.isNaN(i)){i=0}else if(i>1){i=1}i*=a}if(i<0){i=0}return this.preciseSimple(i)},isNoValue:function(e){return t.isNaN(e)},precise:function(e,t){var a,i,r=e.toString(),s=r.indexOf("e");if(s>=0){a=r.substring(s);i=parseFloat(r.substring(0,s)).toFixed(8);a=parseFloat(i+a);if(t){a=s>=8?0:a}}else{a=parseFloat(e.toFixed(8))}return a},preciseSimple:function(e){if(!this.cache[e]){this.cache[e]=parseFloat(e.toFixed(8))}return this.cache[e]},preciseObject:function(e){if(t.isNumber(e)){return a.preciseSimple(e)}else if(t.isArray(e)){for(var i=0,r=e.length;i<r;++i){e[i]=a.preciseObject(e[i])}}else if(e instanceof Object){for(var s in e){if(e.hasOwnProperty(s)){e[s]=a.preciseObject(e[s])}}}return e}};a.cache={};return a});define("sap/viz/util/Scaler",["sap/viz/util/NumberUtils"],function e(t){var a={getRoughTickNum:function(e,t){var a=2;var i=-1;if(!t||t<a){var r=e.range();var s=Math.abs(r[0]-r[r.length-1]);if(s>10){i=a+Math.round(s/100)}else{i=a}}else{i=t}e.tickHint=i;return i},toFixedNumber:function(e){if(typeof e==="object"&&e.length){for(var a=0;a<=e.length-1;a++){if(typeof e[a]==="number"){e[a]=t.precise(e[a])}}}else if(typeof e==="number"){e=t.precise(e)}return e},adjustGap:function(e,t,a){var i=a.domain();var r=a.range();var s=Math.abs(r[0]-r[r.length-1]);if(s>0){var o=Math.abs(i[0]-i[i.length-1]);var n=e/s;var l=o*n;var u=t/s;var d=o*u;if(i[0]>i[i.length-1]){i[0]+=l;i[i.length-1]-=d}else{i[0]-=l;i[i.length-1]+=d}a.domain(i)}},perfect:function(e,a,i){var r=e.nice();var s=2;var o=100;var n=e.domain();n=this.toFixedNumber(n);var l=n[0];var u=n[n.length-1];var d=-1;var h=-1;if(!i||i<s){d=this.getRoughTickNum(e,a)}else{h=i}if(h<0){var p=r.ticks(d);p=this.toFixedNumber(p);var c=true;var f;if(p.length===0){c=false}else if(p.length>1){f=p[1]-p[0]}else{var m=Math.abs(n[0]-p[0]);var _=Math.abs(n[n.length-1]-p[0]);if(m>_){f=m}else{f=_}}var g=s;if(c){g=p.length;if(n[0]<n[1]){if(p[0]!==n[0]){n[0]=p[0]-f;g++}if(p[p.length-1]!==n[n.length-1]){n[n.length-1]=p[p.length-1]+f;g++}}else{if(p[0]!==n[n.length-1]){n[n.length-1]=p[0]-f;g++}if(p[p.length-1]!==n[0]){n[0]=p[p.length-1]+f;g++}}}r.tickNum=g;r.distance=f;r.tickHint=g-1;n[0]=this.toFixedNumber(n[0]);n[n.length-1]=this.toFixedNumber(n[n.length-1]);r.domain(n)}else{this.perfect(r,h);if(r.tickNum>h){var v=h;for(;v>=s;){v--;this.perfect(r,v);if(r.tickNum<=h){break}}}if(r.tickNum<h){var y=h-r.tickNum;var b=r.domain();for(;y>0;){if(b[0]<b[1]){if(Math.abs(b[1]-u)>Math.abs(l-b[0])){b[0]-=r.distance}else{b[1]+=r.distance}y--;r.tickNum++}else{if(Math.abs(b[1]-u)>Math.abs(l-b[0])){b[0]+=r.distance}else{b[1]-=r.distance}y--;r.tickNum++}}r.tickHint=r.tickNum-1;b[0]=t.precise(b[0]);b[b.length-1]=t.precise(b[b.length-1]);r.domain(b)}}r.perfectDomainBegin=n[0];r.perfectDomainEnd=n[n.length-1];return r},perfectDual:function(e,a){this.perfect(e);this.perfect(a);var i=e.domain();var r=a.domain();var s=e.range();var o=a.range();if(i[0]>i[i.length-1]&&r[0]<r[r.length-1]||i[0]<i[i.length-1]&&r[0]>r[r.length-1]||i[0]<0&&i[i.length-1]<0||r[0]<0&&r[r.length-1]<0||i[0]>0&&i[i.length-1]>0||r[0]>0&&r[r.length-1]>0||Math.abs(s[0]-s[s.length-1])!==Math.abs(o[0]-o[o.length-1])){return}var n=0;var l=0;var u=0;var d=0;var h=e.tickNum;var p=a.tickNum;var c=(i[i.length-1]-i[0])/(h-1);c=t.precise(c);var f;var m;for(f=0;f<h;f++){m=i[0]+f*c;if(m>0){n++}else if(m<0){l++}}var _=(r[r.length-1]-r[0])/(p-1);_=t.precise(_);for(f=0;f<p;f++){m=r[0]+f*_;if(m>0){u++}else if(m<0){d++}}var g;if(n>u){g=n-u;if(r[0]<r[r.length-1]){r[r.length-1]+=g*Math.abs(_);a.tickNum+=g}else if(r[0]>r[r.length-1]){r[0]+=g*Math.abs(_);a.tickNum+=g}}else if(n<u){g=u-n;if(i[0]<i[i.length-1]){i[i.length-1]+=g*Math.abs(c);e.tickNum+=g}else if(i[0]>i[i.length-1]){i[0]+=g*Math.abs(c);e.tickNum+=g}}if(l>d){g=l-d;if(r[0]<r[r.length-1]){r[0]-=g*Math.abs(_);a.tickNum+=g}else if(r[0]>r[r.length-1]){r[r.length-1]-=g*Math.abs(_);a.tickNum+=g}}else if(l<d){g=d-l;if(i[0]<i[i.length-1]){i[0]-=g*Math.abs(c);e.tickNum+=g}else if(i[0]>i[i.length-1]){i[i.length-1]-=g*Math.abs(c);e.tickNum+=g}}i[0]=t.precise(i[0]);i[1]=t.precise(i[1]);r[0]=t.precise(r[0]);r[1]=t.precise(r[1]);e.domain(i);a.domain(r);e.tickHint=e.tickNum-1;a.tickHint=a.tickNum-1},perfectTime:function(e){if(e.userTicks){return}var t=e.domain();var a=1e3*60*60;var i=a*24;var r=i*30;var s=r*12;var o=t[1]-t[0];var n=new Date;n.setTime(t[0]);var l=new Date;l.setTime(t[1]);n.setMinutes(0);n.setSeconds(0);n.setMilliseconds(0);l.setMinutes(0);l.setSeconds(0);l.setMilliseconds(0);var u;if(o<3*i){l.setHours(l.getHours()+1);u=0;o=(l.getTime()-n.getTime())/a}else if(o<3*r){n.setHours(0);l.setHours(0);l.setDate(l.getDate()+1);u=1;o=(l.getTime()-n.getTime())/i}else if(o<3*s){n.setHours(0);n.setDate(1);l.setHours(0);l.setDate(1);l.setMonth(l.getMonth()+1);u=2;o=(l.getFullYear()-n.getFullYear())*12+l.getMonth()-n.getMonth()}else{n.setHours(0);n.setDate(1);n.setMonth(0);l.setHours(0);l.setDate(1);l.setMonth(0);l.setFullYear(l.getFullYear()+1);u=3;o=l.getFullYear()-n.getFullYear()}var d=this.getRoughTickNum(e);var h;var p=d-1;e:for(h=0;d>2;h++){for(p=d-1;p>1;p--){if((o+h)%p===0){break e}}}e.tickNum=d>2?p+1:d;e.timeUnitGap=(o+h)/p;if(u===0){l.setHours(l.getHours()+h)}else if(u===1){l.setDate(l.getDate()+h)}else if(u===2){l.setMonth(l.getMonth()+h)}else if(u===3){l.setFullYear(l.getFullYear()+h)}e.domain([n.getTime(),l.getTime()]);e.timeUnit=u}};return a});define("sap/viz/util/ColorSeriesGenerator",["sap/viz/modules/Constants"],function e(t){var a={sap32:function(){return d3.scale.ordinal().range(t.COLOR.SAPColorSingleAxis)},sap32dualaxis1:function(){return d3.scale.ordinal().range(t.COLOR.SAPColorDualAxis1)},sap32dualaxis2:function(){return d3.scale.ordinal().range(t.COLOR.SAPColorDualAxis2)}};return a});define("sap/viz/modules/util/tooltipDataHandler",["sap/viz/data/feed/feeder","sap/viz/lang/langManager","sap/viz/modules/Constants"],function e(t,a,i){var r=function(){var e=[];var t={};var i=a.get("IDS_ISNOVALUE");var r=function(e){if(e===null||e===undefined){return i}else{return e}};t.generateTooltipData=function(t,a,o,n,l,u){var d=function(e){var t;var d=false;if(a[o][0]!==undefined&&a[o][0].length>0){t=d3.merge([a[o][0],a[o][1]]);d=true}else{t=a[o]}var h={body:[],footer:[]};var p=t.length;var c=false;var f=0;var m=[e.getMeasureValuesGroupDataByIdx(0),e.getMeasureValuesGroupDataByIdx(1)];var _=[e.getAnalysisAxisDataByIdx(0),e.getAnalysisAxisDataByIdx(1)];var g=s(_);if(m[0]&&m[1]){c=true;f=m[0].values.length}var v=false;var y;var b=0,x=0,A=0,M;var S;var z;var D;var E;var w;var T;var C={path:{}};if(!g.hasMNDonCate&&!g.hasMNDonColor){if(_[1]){S=0;if(m[0]){for(b=0;b<m[0].values.length;++b){if(m[0].values[b].rows.length>0){C={path:{}};C.path.mg=m[0].values[b].rows[0][0].ctx.path.mg;C.path.mi=m[0].values[b].rows[0][0].ctx.path.mi}z={name:r(m[0].values[b].col),val:[],ctx:C};for(x=0,M=m[0].values[b].rows.length;x<M;++x){D=S*M+x;E=[];for(A=0;A<_[1].values.length;++A){E.push(_[1].values[A].rows[x])}w={shape:l[D%l.length],color:n[D%n.length],label:E,value:t[D].val===" "?i:u===undefined?r(t[D].val):u(t[D].val),valueAxis:0};z.val.push(w)}h.body.push(z);++S}}if(m[1]){for(b=0;b<m[1].values.length;++b){if(m[1].values[b].rows.length>0){C={path:{}};C.path.mg=m[1].values[b].rows[0][0].ctx.path.mg;C.path.mi=m[1].values[b].rows[0][0].ctx.path.mi}z={name:r(m[1].values[b].col),val:[],ctx:C};for(x=0,M=m[1].values[b].rows.length;x<M;++x){D=S*M+x;E=[];for(A=0;A<_[1].values.length;++A){E.push(_[1].values[A].rows[x])}w={shape:l[D%l.length],color:n[D%n.length],label:E,value:t[D].val===" "?i:u===undefined?r(t[D].val):u(t[D].val),valueAxis:1};z.val.push(w)}h.body.push(z);++S}}}else{if(m[0].values[0].rows.length>0){C={path:{}};C.path.mg=m[0].values[0].rows[0][0].ctx.path.mg;C.path.mi=m[0].values[0].rows[0][0].ctx.path.mi}z={name:r(m[0].values[0].col),val:[],ctx:C};w={shape:l[0%l.length],color:n[0%n.length],label:null,value:t[0].val===" "?i:u===undefined?r(t[0].val):u(t[0].val),valueAxis:0};z.val.push(w);h.body.push(z)}for(b=0,M=_[0].values.length;b<M;++b){T={label:_[0].values[b].col,value:_[0].values[b].rows[o]};h.footer.unshift(T)}}else if(g.hasMNDonColor){for(b=0;b<_[1].values.length;++b){if(_[1].values[b].type==="MND"){y=_[1].values[b].rows.length;if(b===0){v=true}break}}S=0;var L;if(m[0]){for(b=0;b<m[0].values.length;++b){if(m[0].values[b].rows.length>0){C={path:{}};C.path.mg=m[0].values[b].rows[0][0].ctx.path.mg;C.path.mi=m[0].values[b].rows[0][0].ctx.path.mi}z={name:r(m[0].values[b].col),val:[],ctx:C};for(x=0,M=m[0].values[b].rows.length;x<M;++x){L=undefined;if(v){D=S*M+x}else if(!d||!c){D=x*y+S}else{D=x*f+S;L=x*y+S}E=[];for(A=0;A<_[1].values.length;++A){if(_[1].values[A].type!=="MND"){E.push(_[1].values[A].rows[x])}}w={shape:L!==undefined?l[L%l.length]:l[D%l.length],color:L!==undefined?n[L%n.length]:n[D%n.length],label:E,value:t[D].val===" "?i:u===undefined?r(t[D].val):u(t[D].val),valueAxis:0};z.val.push(w)}h.body.push(z);++S}}if(m[1]){for(b=0;b<m[1].values.length;++b){if(m[1].values[b].rows.length>0){C={path:{}};C.path.mg=m[1].values[b].rows[0][0].ctx.path.mg;C.path.mi=m[1].values[b].rows[0][0].ctx.path.mi}z={name:r(m[1].values[b].col),val:[],ctx:C};for(x=0,M=m[1].values[b].rows.length;x<M;++x){L=undefined;if(v){D=S*M+x}else if(!d||!c){D=x*y+S}else{D=x*(y-f)+S-f+parseInt(p*f/y,10);L=x*y+S}E=[];for(A=0;A<_[1].values.length;++A){if(_[1].values[A].type!=="MND"){E.push(_[1].values[A].rows[x])}}w={shape:L!==undefined?l[L%l.length]:l[D%l.length],color:L!==undefined?n[L%n.length]:n[D%n.length],label:E,value:t[D].val===" "?i:u===undefined?r(t[D].val):u(t[D].val),valueAxis:1};z.val.push(w)}h.body.push(z);++S}}for(b=0,M=_[0].values.length;b<M;++b){T={label:_[0].values[b].col,value:_[0].values[b].rows[o]};h.footer.unshift(T)}}else{var I=null;var k;for(b=0;b<_[0].values.length;++b){if(_[0].values[b].type==="MND"){y=_[0].values[b].rows.length;var O=0;if(a.length!==undefined){O=a.length}else{for(x in a){if(a.hasOwnProperty(x)){++O}}}k=O/y;if(b===0){v=true;I=_[0].values[b].rows[parseInt(o/k,10)]}else{I=_[0].values[b].rows[o%y]}break}}z={name:I,val:[]};if(_[1]){if(m[0]){for(x=0,M=m[0].values[0].rows.length;x<M;++x){D=x;E=[];for(A=0;A<_[1].values.length;++A){E.push(_[1].values[A].rows[x])}w={shape:l[D%l.length],color:n[D%n.length],label:E,value:t[D].val===" "?i:u===undefined?r(t[D].val):u(t[D].val),valueAxis:0};z.val.push(w)}}}else{w={shape:l[0%l.length],color:n[0%n.length],label:null,value:t[0].val===" "?i:u===undefined?r(t[0].val):u(t[0].val),valueAxis:0};z.val.push(w)}h.body.push(z);for(b=0,M=_[0].values.length;b<M;++b){if(_[0].values[b].type!=="MND"){T={label:_[0].values[b].col,value:null};if(v){T.value=_[0].values[b].rows[o%k]}else{T.value=_[0].values[b].rows[parseInt(o/y,10)]}h.footer.unshift(T)}}}return h};var h=function(a){if(e[a]===undefined){e[a]=d(t)}return e[a]};return h(o)};return t};function s(e){var t=false;var a,i;if(e[0]){for(a=0,i=e[0].values.length;a<i;++a){if(e[0].values[a].type&&e[0].values[a].type==="MND"){t=true}}}var r=false;if(!t){if(e[1]){for(a=0,i=e[1].values.length;a<i;++a){if(e[1].values[a].type&&e[1].values[a].type==="MND"){r=true}}}}return{hasMNDonCate:t,hasMNDonColor:r}}r.formatTooltipData=function(e){var t={name:i.Event.TooltipShow.name,data:e};return t};r.dataTransform=function(e){var t=e["MG1"];var a=e["MG2"];var i=[];var r,s;if(e.hasMND&&e.MNDOnColor&&e.MNDInner){var o=0,n=0,l=0;if(e["MG1Number"]){o=e["MG1Number"];l=t.length/o}if(e["MG2Number"]){n=e["MG2Number"];l=a.length/n}for(r=0;r<l;r++){for(s=0;s<o;s++){i.push(t[r*o+s])}for(s=0;s<n;s++){i.push(a[r*n+s])}}}else{if(t){for(r=0;r<t.length;r++){i.push(t[r])}}if(a){for(r=0;r<a.length;r++){i.push(a[r])}}}var u=[];var d;if(t.length!==0){d=t[0].length}else{d=a[0].length}for(s=0;s<d;s++){var h=[];for(r=0;r<i.length;r++){h.push(i[r][s])}u.push(h)}return u};return r});define("sap/viz/modules/util/ClippathUtil",["sap/viz/base/utils/ObjectUtils"],function e(t){var a="v-clippath";var i={drawClippath:function(e,i,r,s,o){if(i<0){i=0}if(r<0){r=0}if(e.select("."+a).node()===null){var n="clip-path-"+t.guid();var l=e.insert("clipPath",":first-child").attr("class",a).attr("id",n);l.append("rect").attr("x",s).attr("y",o).attr("width",i).attr("height",r);return n}else{e.select("."+a).select("rect").attr("width",i).attr("height",r).attr("x",s).attr("y",o);return e.select("."+a).attr("id")}}};return i});define("sap/viz/data/handler/RuntimeSelectionDataHandler",["sap/viz/base/utils/Objects"],function e(t){var a={cachedMaps:null,buildMaps:function(e,t,a){var i={};if(!a||e.cachedMaps===null){i.mgMap=e.mgMapGen(t);i.miMap=e.miMapGen(t);i.diiA1Map=e.diiA1MapGen(t);i.diiA2Map=e.diiA2MapGen(t);e.cachedMaps=i}else{i=e.cachedMaps}return i},mgMapGen:function(e){var t=e.getMeasureValuesGroupDataByIdx();var a=t.length;var i=[];var r;for(r=0;r<a;r++){var s={};s.measureValuesGroup=t[r].index+1;i.push(s)}return i},miMapGen:function(e){var t=e.getMeasureValuesGroupDataByIdx();var a=[];var i;var r;for(i=0;i<t.length;i++){var s=[];for(r=0;r<t[i].values.length;r++){var o={};o.Measure=t[i].values[r].col;s.push(o)}a[t[i].index]=s}return a},mapGenHelper:function(e,t){var a=e.getAnalysisAxisDataByIdx();var i;var r;for(r=0;r<a.length;r++){if(a[r].index===t){i=a[r].values;break}}var s=0;if(i&&i.length>0){for(r=0;r<i.length;r++){if(i[r].type!=="MND"){s=i[r].rows.length}}}var o=[];if(i&&i.length>0){var n;for(n=0;n<s;n++){var l={};for(r=0;r<i.length;r++){if(i[r].type!=="MND"){l[i[r].col.val]=i[r].rows[n].val}}o.push(l)}}return o},indexOfMND:function(e){var t=-1;var a=e.getAnalysisAxisDataByIdx();var i;for(i=0;i<a.length;i++){if(a[i].values[0]&&a[i].values[0].type==="MND"&&a[i].values.length===1){t=a[i].index;break}}return t},diiA1MapGen:function(e){var t=this.indexOfMND(e);var a=e.getBindingInfo();var i=false;if(t===0){if(a&&a[1]===false){i=true}}else{if(a&&a[0]===false){i=true}}var r=0;if(t===0){r=1;if(i){r=2}}else if(t===1){if(i){r=2}}else{if(i){r=1}}var s=this.mapGenHelper(e,r);return s},diiA2MapGen:function(e){var t=this.indexOfMND(e);var a=e.getBindingInfo();var i=false;if(t===0){if(a&&a[1]===false){i=true}}else{if(a&&a[0]===false){i=true}}var r=1;if(t===0){r=2;if(i){r=1}}else{if(i){r=0}}var s=this.mapGenHelper(e,r);return s},ctxArrayToObjArray:function(e,a){var i=function(e,a,i){var r=[];var s;for(s=0;s<i.length;s++){var o=i[s].ctx.path;var n=i[s].val;var l={};var u=e.buildMaps(e,a,true);var d=u.mgMap;var h=u.miMap;var p=u.diiA1Map;var c=u.diiA2Map;if(p.length>=1){l=t.extend(true,l,p[o.dii_a1])}if(c.length>=1){l=t.extend(true,l,c[o.dii_a2])}if(d.length>=1){l=t.extend(true,l,d[o.mg])}if(h.length>=1){l=t.extend(true,l,h[o.mg][o.mi])}l.__value__=n;r.push(l)}return r};var r;var s=[];for(r=0;r<a.length;r++){var o=i(this,e,a[r]);s.push(o)}var n=this.objArrayToFinalArray(s);return n},oneObjItemToCtxArray:function(e,t){var a;var i;var r;var s=1;var o=0;var n=-1;if(!(t instanceof Array)){var l=t;t=[];t.push(l)}var u=function(e,t){var a=true;var i;for(i in e){if(e.hasOwnProperty(i)){if(t[i]!==undefined){if(t[i]!==e[i]){a=false;break}}}}return a};var d=[];var h=this.buildMaps(this,e,true);var p=h.mgMap;var c=h.miMap;var f=h.diiA1Map;var m=h.diiA2Map;var _=[];_.push(p);_.push(c);_.push(f);_.push(m);for(r=0;r<t.length;r++){var g=t[r];var v=[];var y={ctx:{path:{mg:null,mi:null,dii_a1:null,dii_a2:null}}};y.ctx.path.mg=[];if(g.measureValuesGroup){y.ctx.path.mg.push(g.measureValuesGroup-1)}else{var b=p.length;for(a=0;a<b;a++){y.ctx.path.mg.push(a)}}y.ctx.path.mi=[];if(g.Measure===undefined){if(c.length>0){for(i=0;i<c[0].length;i++){y.ctx.path.mi.push(i)}}}else{for(a=0;a<c.length;a++){for(i=0;i<c[a].length;i++){if(c[a][i].Measure===g.Measure){y.ctx.path.mi.push(i)}}}}y.ctx.path.dii_a1=[];if(f.length>0){for(a=0;a<f.length;a++){if(u(f[a],g)){y.ctx.path.dii_a1.push(a)}}}else{y.ctx.path.dii_a1.push(null)}y.ctx.path.dii_a2=[];if(m.length){for(a=0;a<m.length;a++){if(u(m[a],g)){y.ctx.path.dii_a2.push(a)}}}else{y.ctx.path.dii_a2.push(null)}if(g.__value__!==undefined){y.val=g.__value__}v=this.buildCtxArray(y);d=d.concat(v)}return d},buildCtxArray:function(e){var a=[];var i;var r;var s;for(i=0;i<e.ctx.path.mg.length;i++){s=t.extend(true,{},e);s.ctx.path.mg=e.ctx.path.mg[i];a.push(s)}e=a;a=[];for(r=0;r<e.length;r++){for(i=0;i<e[r].ctx.path.mi.length;i++){s=t.extend(true,{},e[r]);s.ctx.path.mi=e[r].ctx.path.mi[i];a.push(s)}}e=a;a=[];for(r=0;r<e.length;r++){for(i=0;i<e[r].ctx.path.dii_a1.length;i++){s=t.extend(true,{},e[r]);s.ctx.path.dii_a1=e[r].ctx.path.dii_a1[i];a.push(s)}}e=a;a=[];for(r=0;r<e.length;r++){if(e[r].ctx.path.dii_a2.length>0){for(i=0;i<e[r].ctx.path.dii_a2.length;i++){s=t.extend(true,{},e[r]);s.ctx.path.dii_a2=e[r].ctx.path.dii_a2[i];a.push(s)}}else{s=t.extend(true,{},e[r]);s.ctx.path.dii_a2=0;a.push(s)}}return a},objArrayToCtxArray:function(e,t){var a=this.finalArrayToObjArray(e,t);var i;var r=[];for(i=0;i<a.length;i++){var s=this.oneObjItemToCtxArray(e,a[i]);if(s===undefined){continue}r.push(s)}return r},objArrayToFinalArray:function(e){var t=function(e){var t={};var a;if(e.length>0){var i=e[0];var r;for(r in i){if(i.hasOwnProperty(r)){if(r!=="__value__"&&r!=="Measure"&&r!=="measureValuesGroup"){t[r]=i[r]}}}}for(a=0;a<e.length;a++){var s=e[a].Measure;var o=e[a].__value__;t[s]=o}return t};var a;var i=[];for(a=0;a<e.length;a++){var r=t(e[a]);i.push(r)}return i},finalArrayToObjArray:function(e,a){var i=this.miMapGen(e);var r=[];var s=this.buildMaps(this,e,true);var o=s.diiA1Map;var n=s.diiA2Map;r.push(o);r.push(n);var l=function(e){var t=-1;var a;for(a=0;a<i.length;a++){var r;var s=i[a];for(r=0;r<s.length;r++){if(s[r].Measure===e){t=a;break}}}return t};var u=function(e,t,a){for(var i=0;i<a.length;i++){for(var r=0;r<a[i].length;r++){if(a[i][r]instanceof Array){for(var s=0;s<a[i][r].length;s++){if(e[t]!==undefined&&(a[i][r][s][t]===e[t]||a[i][r][s][t]&&e[t]==="*")){return true}}}else{if(e[t]!==undefined&&(a[i][r][t]===e[t]||a[i][r][t]&&e[t]==="*")){return true}}}}return false};var d=function(e,a){var i;var r=[];var s={};var o=[];var n;for(n in e){if(e.hasOwnProperty(n)){var d=l(n);if(d<0){if(u(e,n,a)){s[n]=e[n]}else{r=null;return r}}else{var h={};h.measureValuesGroup=d+1;h.Measure=n;h.__value__=e[n];o.push(h)}}}if(o.length<=0){r.push(s)}else{for(i=0;i<o.length;i++){r.push(t.extend(true,o[i],s))}}for(i=0;i<r.length;i++){var p=r[i];for(n in p){if(p.hasOwnProperty(n)){if(p[n]==="*"){delete p[n]}}}}return r};var h=function(e){var a=[];a.push({});var i;var r;var s;var o;for(i in e){if(e.hasOwnProperty(i)){for(r=0;r<a.length;r++){a[r][i]=e[i]}var n=l(i);if(n<0){var u=e[i];if(u instanceof Array){var d=[];for(s=0;s<u.length;s++){var h=t.extend(true,[],a);for(o=0;o<h.length;o++){h[o][i]=e[i][s]}d=d.concat(h)}a=d}}}}return a};var p;var c;var f=[];for(p=0;p<a.length;p++){var m=h(a[p]);for(c=0;c<m.length;c++){var _=d(m[c],r);if(_){f.push(_)}}}return f},buildCtxItems:function(e){var a=[];for(var i=0;i<e.length;i++){var r=[];if(e[i].__data__.ctx instanceof Array){var s;for(s=0;s<e[i].__data__.ctx.length;s++){if(e[i].__data__.ctx[s]!==null){var o={};o.ctx=t.extend(true,{},e[i].__data__.ctx[s]);o.val=e[i].__data__.val[s];r.push(o)}}}else{if(e[i].__data__.ctx!==null){var n={};n.ctx=t.extend(true,{},e[i].__data__.ctx);if(e[i].__data__.value!==undefined&&!(e[i].__data__.value instanceof Object)&&!(e[i].__data__.value instanceof Array)){n.val=e[i].__data__.value}else{n.val=e[i].__data__.val}r.push(n)}}a.push(r)}return a},buildInfoArray:function(e){var a=[];for(var i=0;i<e.length;i++){var r=[];if(e[i].__data__.info instanceof Array){var s;for(s=0;s<e[i].__data__.info.length;s++){if(e[i].__data__.info[s]!==null){var o;o=t.extend(true,{},e[i].__data__.info[s]);if(o){o=o.additionalData}r.push(o)}}}else{if(e[i].__data__.info!==null){var n;n=t.extend(true,{},e[i].__data__.info);if(n){n=n.additionalData}r.push(n)}}a.push(r)}return a},getSelectedObjArray:function(e,a,i,r){this.buildMaps(this,e,false);var s=this.buildCtxItems(a);var o=this.ctxArrayToObjArray(e,s);var n=[];var l;var u;for(l=0;l<s.length;l++){var d=[];for(u=0;u<s[l].length;u++){var h=t.extend(true,{},s[l][u].ctx.path);d.push(h)}n.push(d)}var p=this.buildInfoArray(a);var c=[];for(l=0;l<o.length;l++){var f={};f.data=o[l];if(i){f.ctx=n[l]}if(r){f.info=p[l]}c.push(f)}return c},setSelectedObjArray:function(e,t,i){if(!i){i=false}this.buildMaps(this,e,i);var r=[];var s;var o;var n=false;if(t===undefined||t===null){r=undefined}else if(t.length>0){if(t[0].ctx){n=true}if(n){for(s=0;s<t.length;s++){var l=[];for(o=0;o<t[s].ctx.length;o++){var u={};u.ctx={};u.ctx.path=t[s].ctx[o];l.push(u)}r.push(l)}}else{var d=[];for(s=0;s<t.length;s++){if(t[s].data){d.push(t[s].data)}}if(d.length>0){if(d.length===1&&Object.keys(d[0]).length===0){r=[]}else{r=a.objArrayToCtxArray(e,d)}}else{r=undefined}}}return r}};return a});define("sap/viz/modules/util/selectionUtil",["sap/viz/base/utils/Objects","sap/viz/data/handler/RuntimeSelectionDataHandler"],function e(t,a){var i=function(){};i.ctxEqual=function(e,t){var a=false;var i=false;var r=false;var s=false;if(!e&&!t){return true}if(!e||!t){return false}if(e.dii_a1===null||e.dii_a1===undefined||(t.dii_a1===null||t.dii_a1===undefined)||e.dii_a1===t.dii_a1){a=true}if(e.dii_a2===null||e.dii_a2===undefined||(t.dii_a2===null||t.dii_a2===undefined)||e.dii_a2===t.dii_a2){i=true}if(e.mg===null||e.mg===undefined||(t.mg===null||t.mg===undefined)||e.mg===t.mg){r=true}if(e.mi===null||e.mi===undefined||(t.mi===null||t.mi===undefined)||e.mi===t.mi){s=true}return a&&i&&r&&s};i.matchAllToCheckValues=function(e,a){var i=function(e,t){return e.val-t.val};a.sort(i);var r;var s=[];for(r=0;r<a.length;r++){if(r>0){if(!t.equal(a[r].val,a[r-1].val)){s.push(a[r])}}else{s.push(a[r])}}return e.length===s.length};function r(e,a,r){var s=false;var o=false;var n=false;if(i.ctxEqual(e.path,r.ctx.path)){o=true;if(r.val===undefined){n=true}else{if(r.val instanceof Array){var l;for(l=0;l<r.val.length;l++){if(t.equal(a,r.val[l])){n=true;break}}}else if(r.val instanceof Object){var u=r.val.min;var d=r.val.max;if((u===null||u===undefined)&&(d===null||d===undefined)){n=false}else if(u===null||u===undefined){n=a<=d}else if(d===null||d===undefined){n=a>=u}else{n=a<=d&&a>=u}}else{n=t.equal(a,r.val)}}s=o&&n}return s}function s(e,t){var a,s;var o=false;if(e.ctx instanceof Array){var n=[];var l=[];for(s=0;s<t.length;s++){for(a=0;a<e.ctx.length;a++){if(e.ctx[a]!==null&&e.ctx[a]!==undefined){var u=r(e.ctx[a],e.val[a],t[s]);if(u){if(n.indexOf(s)<0){n.push(s)}if(l.indexOf(a)<0){l.push(a)}}}else{if(l.indexOf(a)<0){l.push(a)}}}}if(i.matchAllToCheckValues(n,t)||l.length===e.ctx.length){o=true}}else{for(s=0;s<t.length;s++){if(e.value!==undefined&&!(e.value instanceof Object)&&!(e.value instanceof Array)){o=r(e.ctx,e.value,t[s])}else{o=r(e.ctx,e.val,t[s])}if(o){break}}}return o}i.itemMatch=function(e,t){var a=false;if(e instanceof Array){for(var i=0;i<e.length&&!a;++i){a=s(e[i],t)}}else{if(e.ctxIndex!==undefined){var r={};r.ctx=e.ctx[e.ctxIndex];r.val=e.val[e.ctxIndex];a=s(r,t)}else{a=s(e,t)}}return a};i.addSelected=function(e,t){var a;var i=false;for(a=0;a<e.length;a++){if(e[a]===t){i=true;break}}if(!i){e.push(t)}};i.getDOMElementsFromCtxArray=function(e,t){var a;var r=[];var s=e.selectAll(".v-datapoint");s.each(function(e,s){for(a=0;a<t.length;a++){if(i.itemMatch(e,t[a])){i.addSelected(r,this);return}}});return r};i.getSemanticFormat=function(e,t,r){if(!e){return null}var s=false;for(var o=e.length-1;o>=0;--o){var n=[];var l=e[o].condition;if(l){for(var u=0;u<l.length;++u){var d={data:l[u]};n.push(d)}}if(o===0){s=false}else{s=true}var h=a.setSelectedObjArray(t,n,s);if(h&&h.length>0){for(var p=0;p<h.length;++p){if(i.itemMatch(r,h[p])){return e[o]}}}}return null};i.applyConditons=function(e,t,r,s){if(e){var o;var n;for(o=0;o<e.length;o++){var l=[];var u=e[o].condition;if(u){var d;for(d=0;d<u.length;d++){var h={};h.data=u[d];l.push(h)}}if(o===0){n=false}else{n=true}var p=a.setSelectedObjArray(r,l,n);if(p&&p.length>0){var c=i.getDOMElementsFromCtxArray(t,p);s(c,e[o])}}}};return i});define("sap/viz/modules/area",["sap/viz/base/utils/oo","sap/viz/modules/BaseGesture","sap/viz/modules/util/dataUtil","sap/viz/modules/dispatch","sap/viz/modules/util/MNDHandler","sap/viz/base/utils/TypeUtils","sap/viz/util/Scaler","sap/viz/util/ColorSeriesGenerator","sap/viz/util/BoundingBox","sap/viz/util/NumberUtils","sap/viz/lang/langManager","sap/viz/util/DrawUtil","sap/viz/modules/util/tooltipDataHandler","sap/viz/modules/manifests/Module","sap/viz/base/utils/ObjectUtils","sap/viz/base/utils/Objects","sap/viz/base/UADetector","sap/viz/modules/util/BoundUtil","sap/viz/modules/util/defaultSelectionUtil","sap/viz/modules/Constants","sap/viz/modules/util/GestureUtil","sap/viz/modules/util/ClippathUtil","sap/viz/modules/util/selectionUtil"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g,v,y,b,x,A,M){var S=function(e,t){var a=new Array(e.data[0].length);var i;for(i=0;i<a.length;++i){a[i]=0}for(i=e.data.length-1;i>=0;--i){for(var r=0;r<e.data[i].length;++r){if(!d.isNoValue(e.data[i][r].val)){a[r]+=e.data[i][r].val;if(t.min===null){t.min=a[r];t.max=a[r]}else{t.min=t.min>a[r]?a[r]:t.min;t.max=t.max>a[r]?t.max:a[r]}}}}};function z(e){var t=e.data;var a={data:[],bgAreaData:[],accuVal:[]};var i,r;var s=[];var o=[];var n=new Array(t[0].length);if(this._props.mode==="percentage"&&this._area_bDataUpdated){C(t);this._area_bDataUpdated=false}for(i=0;i<n.length;++i){n[i]=0}a.bgAreaData=new Array(t.length);for(i=t.length-1;i>=0;i--){a.bgAreaData[i]=[];a.accuVal[i]=new Array(t[i].length);for(r=0;r<t[i].length;++r){a.accuVal[i][r]=i<t.length-1?a.accuVal[i+1][r]:0;if(!d.isNoValue(t[i][r].val)){n[r]++;a.accuVal[i][r]+=this._props.mode==="percentage"?Math.abs(t[i][r].val):t[i][r].val}}}for(i=t.length-1;i>=0;i--){for(r=0;r<t[i].length;++r){if(!d.isNoValue(t[i][r].val)){o.push({ctx:t[i][r].ctx,x:r,y:i<t.length-1?a.accuVal[i+1][r]:0});s.push({ctx:t[i][r].ctx,x:r,y:a.accuVal[i][r]})}else{if(n[r]>0){if(r>0&&!d.isNoValue(t[i][r-1].val)){s.push({ctx:t[i][r].ctx,x:r,y:a.accuVal[i][r]});s=s.concat(o.reverse());a.bgAreaData[i].push(s);s=[];o=[]}if(r<t[i].length-1&&!d.isNoValue(t[i][r+1].val)){s.push({ctx:t[i][r].ctx,x:r,y:a.accuVal[i][r]})}}else if(s.length>0){s=s.concat(o.reverse());a.bgAreaData[i].push(s);s=[];o=[]}}}if(s.length>0){s=s.concat(o.reverse());a.bgAreaData[i].push(s);s=[];o=[]}}var l={};for(i=t.length-1;i>=0;i--){a.data[i]=[];for(r=0;r<t[i].length;++r){if(r>0){if(n[r-1]>0){s.push({x:r-.5,y:(a.accuVal[i][r-1]+a.accuVal[i][r])/2});o.push({x:r-.5,y:i<t.length-1?(a.accuVal[i+1][r-1]+a.accuVal[i+1][r])/2:0})}}s.push({x:r,y:a.accuVal[i][r]});o.push({x:r,y:i<t.length-1?a.accuVal[i+1][r]:0});if(r<t[0].length-1){if(n[r+1]>0){s.push({x:r+.5,y:(a.accuVal[i][r]+a.accuVal[i][r+1])/2});o.push({x:r+.5,y:i<t.length-1?(a.accuVal[i+1][r]+a.accuVal[i+1][r+1])/2:0})}}s=s.concat(o.reverse());a.data[i].push(s);s=[];o=[]}}a.data.reverse();a.bgAreaData.reverse();a.accuVal.reverse();e.drawData=a;return a}var D=function(e){var t={min:null,max:null};if(!e.data||e.data.length===0){return t}if(this._props.mode==="percentage"){t.min=0;t.max=1;return t}S(e,t);if(d.isNoValue(t.max)){return null}if(t.min>=0){t.min=0;t.max+=t.max*5/(this._props.orientation==="vertical"?this._height:this._width)}else if(t.max<=0){t.max=0;t.min+=t.min*5/(this._props.orientation==="vertical"?this._height:this._width)}else{var a=(t.max-t.min)*5/(this._props.orientation==="vertical"?this._height:this._width);t.min-=a;t.max+=a}if(t.min===0&&t.max===0){t.max=1}return t};var E=function(e){var t=this._props.orientation==="vertical"?[this._height,0]:[0,this._width];if(e.data&&e.data.length>0){if(o.isNaN(e.topValue)){var a=D.call(this,e);if(!a){e.scale.domain([0,1]).range(t);e.bottomValue=null;e.topValue=null}else{e.scale.domain([a.min,a.max]).range(t);e.bottomValue=a.min;e.topValue=a.max;e.initBottomValue=a.min;e.initTopValue=a.max}}else{e.scale.domain([e.bottomValue,e.topValue]).range(t)}if(!e.manualRange){n.perfect(e.scale)}else{n.getRoughTickNum(e.scale)}}else{e.scale.domain([0,0]).range([0,0])}var i=0;var r=0;if(this._area_gapObj){if(this._area_gapObj.startGap){i=this._area_gapObj.startGap}if(this._area_gapObj.endGap){r=this._area_gapObj.endGap}}n.adjustGap(i,r,e.scale);return e.scale};function w(){if(d3.event){return d3.event}else{return window.event}}var T=function(e,t){if(e){if(t&&t.isPinching){e.initialized({eventSource:"pinch"})}else{e.initialized()}}};var C=function(e){if(e===null||e===undefined||e[0].length===0){return}var t=0,a=0;var i=new Array(e[0].length);var r=new Array(e[0].length);for(t=0;t<i.length;++t){i[t]=0;r[t]=0}for(t=0;t<e.length;++t){for(a=0;a<e[t].length;++a){if(!d.isNoValue(e[t][a].val)){i[a]+=Math.abs(e[t][a].val);if(e[t][a].val===0){++r[a]}}}}for(t=0;t<e.length;++t){for(a=0;a<e[t].length;++a){e[t][a].value=e[t][a].val;if(!d.isNoValue(e[t][a].val)){if(i[a]>0){e[t][a].value=e[t][a].val;e[t][a].val=e[t][a].val/i[a]}else if(r[a]>0){e[t][a].val=1/r[a]}}}}};var L=function(e){var t;if(e&&e.length){if(e[0].length){t=e.length*e[0].length}}else{t=0}return t};var I=b.CSS.CLASS.DATAPOINTSELECTED,k=b.CSS.CLASS.DATAPOINTHOVER,O=b.CSS.CLASS.DATAPOINTDEFAULT,N=b.CSS.CLASS.DATAPOINT,P="."+N,R=b.CSS.CLASS.MORPHABLEDATAPOINT,F=b.CSS.CLASS.MORPHABLEAREABG;var B="v-areabg",V="."+B;var H=N+" "+R,U=B+" "+F;var G="v-datashapesgroup";var Y="#FFFFFF";var j="#333333";var W=.4;var X=function(e,t){X.superclass.constructor.apply(this,arguments);this._area_data=null;_.extend(true,this._props,e.props(null));this._area_randomSuffix=m.guid();this._area_tooltipData=null;this._area_tooltipDataHandler=null;this._area_g=null;this._area_svgMarkersGroup=null;this._area_svgAreasGroup=null;this._area_svgAreaBgGroup=null;this._area_effectManager=t.effectManager;this._area_styleManager=t.styleManager;this._area_rawData=t.rawData;_.extend(true,this._valueAxis1,{data:[],colorPalette:null,selectedMarkers:null,markers:[],areas:[],bottomValue:null,topValue:null,initBottomValue:null,initTopValue:null,drawData:null});this._area_areaShapeline=null;this._area_colorPalette=[];this._area_selectedMarkerNum=0;this._area_pinchPoint=null;this._area_isPinching=false;this._area_pinchEvent=null;this._area_gapObj=null;this._area_isDataSchemaChanged=false;this._area_isDataLoading=true;this._area_isSizeChanged=false;this._area_isDatasetChanged=false;this._area_hasDefaultSelection=false;this._area_animation_clipRect=null;this._area_clipRect=null;this._area_bDataUpdated=false;this._area_threshold=false};t.extend(X,a);X.prototype.render=function(e,t){v.drawBound(e,this._width,this._height,undefined,true);if(!this._area_clipRect){var a=A.drawClippath(e,this._width,this._height);e.attr("clip-path","url(#"+a+")");this._area_clipRect=e.select("#"+a).select("rect")}else{this._area_clipRect.attr("width",this._width).attr("height",this._height)}this._area_tooltipDataHandler=c();this._areafn_renderChart(e,t);if(g.isMobile()&&!t&&this._datashapesgroup){this._datashapesgroup.attr("transform",null)}this._area_isDataSchemaChanged=false,this._area_isDataLoading=false,this._area_isSizeChanged=false,this._area_isDatasetChanged=false;return this};X.prototype.applyFormatConditions=function(e,t,a,i){var r=function(e,t){var a={drawingEffect:i._props.drawingEffect,fillColor:t.color,direction:"vertical",graphType:i._props.marker.shape};var r=i._area_effectManager.register(a);var s;for(s=0;s<e.length;s++){e[s].setAttribute("fill",r)}};M.applyConditons(e,t,a,r)};X.prototype.width=function(e){if(!arguments.length){return this._width}this._area_isSizeChanged=!this._area_isSizeChanged&&e===this._width?false:true;this._width=e;this._areafn_computeScales();return this};X.prototype.height=function(e){if(!arguments.length){return this._height}this._area_isSizeChanged=!this._area_isSizeChanged&&e===this._height?false:true;this._height=e;this._areafn_computeScales();return this};X.prototype.size=function(e){if(arguments.length===0){return{width:this._width,height:this._height}}this._area_isSizeChanged=!this._area_isSizeChanged&&e.width===this._width&&e.height===this._height?false:true;this._width=e.width;this._height=e.height;this._areafn_computeScales();return this};X.prototype.afterUIComponentAppear=function(){this._eDispatch.initialized()};X.prototype.properties=function(e){if(!arguments.length){return this._props}_.extend(true,this._props,e);this._areafn_computeScales();if(this._props.marker.size<4||this._props.marker.size>32){this._props.marker.size=4}this._props.marker.shape="circle";this._areafn_createColorPalette();return this};X.prototype.primaryAxisColor=function(){return null};X.prototype.dispatch=function(e){if(!arguments.length){return this._eDispatch}this._eDispatch=e;return this};X.prototype.data=function(e){if(!arguments.length){return this._area_data}this._area_isDatasetChanged=true;this._area_isDataSchemaChanged=false;if(!i().hasSameSchema(this._area_data,e)){this._area_isDataSchemaChanged=true}this._area_bDataUpdated=true;this._area_data=e;var t=s(this._area_data);this._valueAxis1.data=t["MG1"];var a;if(this._valueAxis1.data.length!==0){a=this._valueAxis1.data[0][0]}if(a.info&&a.info.defaultSelection){this._area_hasDefaultSelection=true}else{this._area_hasDefaultSelection=false}this._areafn_resetDataRange();this._area_tooltipData=c.dataTransform(t);this._areafn_computeScales();this._areafn_createColorPalette();return this};X.prototype.dataLabel=function(e){};X.prototype.primaryAxisTitle=function(e){if(!arguments.length){var t=this._area_data.getMeasureValuesGroupDataByIdx(0),a=[];if(t){for(var i=0,r=t.values.length;i<r;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){a.push(t.values[i].col)}else{a.push(h.get("IDS_ISNOVALUE"))}}}return a.join(" & ")}return this};X.prototype.getColorPalette=function(){if(this._area_colorPalette.length===0){this._areafn_createColorPalette()}return this._area_colorPalette};X.prototype.shapePalette=function(){if(!arguments.length){return[this._props.marker.shape]}return this};X.prototype.primaryScale=function(e){if(!arguments.length){return this._valueAxis1.scale}this._valueAxis1.scale=e;return this};X.prototype.categoryScale=function(e){if(!arguments.length){return this._categoryScale}this._categoryScale=e;return this};X.prototype.primaryDataRange=function(e){if(!arguments.length){var t,a;if(this._props.mode==="percentage"){t=1;a=0}else{a=this._valueAxis1.bottomValue;t=this._valueAxis1.topValue}return{min:a,max:t}}var i,r;if(e!==null){if(!isNaN(e.max)){i=e.max}else{i=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(e.min)){r=e.min}else{r=this._valueAxis1.scale.perfectDomainBegin}if(i>r){this._valueAxis1.topValue=i;this._valueAxis1.bottomValue=r;if(e.from==="axis"){this._valueAxis1.manualRange=true}if(o.isExist(this._width)&&o.isExist(this._height)){E.call(this,this._valueAxis1)}}}else{if(this._valueAxis1.manualRange===true){this._valueAxis1.topValue=this._valueAxis1.initTopValue;this._valueAxis1.bottomValue=this._valueAxis1.initBottomValue;this._valueAxis1.manualRange=false;if(o.isExist(this._width)&&o.isExist(this._height)){E.call(this,this._valueAxis1)}}}return this};X.prototype.clear=function(e){this._areafn_deselectedAllHandler();var t=[];if(e===null||e===undefined||e===false){this._areafn_lightAll();t.push(this._area_svgMarkersGroup.selectAll("g.v-marker").selectAll(P));if(this._area_hasDefaultSelection){y.clearSelectionInfo(this._d3root,false,t)}}else{this._areafn_grayAll()}};X.prototype.highlight=function(e,t){if(!o.isArray(e)){e=[e]}if(!t){for(var a=0;a<e.length;a++){var i=e[a];this._areafn_processOneAxisSelect(this._valueAxis1,i)}}else{d3.selectAll(e).classed(I,false).classed(k,true).attr("stroke-opacity",1);p.nodesHighlight(e,{factor:.7,constant:0},this._area_effectManager,t);if(!this._props.marker.visible){for(var r=0;r<e.length;r++){e[r].setAttribute("opacity",1)}}}if(!t&&this._props.marker.visible){this._area_svgMarkersGroup.selectAll("."+I).attr("fill-opacity",1).attr("stroke-opacity",1).classed(O,false)}if(this._area_hasDefaultSelection){y.clearSelectionInfo(this._d3root,true,e)}};X.prototype.unhighlight=function(e,t,a){if(!o.isArray(e)){e=[e]}var i;if(!t&&!a){this._area_selectedMarkerNum-=e.length;for(i=0;i<e.length;i++){var r=e[i];this._areafn_processOneAxisDeselect(this._valueAxis1,r,a)}}else{p.nodesUnhighlight(e,t,a);if(t){d3.selectAll(e).classed(I,true).classed(k,false)}else{d3.selectAll(e).classed(I,false).classed(k,false).classed(O,true);if(!this._props.marker.visible){for(i=0;i<e.length;i++){e[i].setAttribute("opacity",0)}}else{for(i=0;i<e.length;i++){e[i].setAttribute("stroke","#FFFFFF");e[i].setAttribute("stroke-width","1")}}}}if(this._area_hasDefaultSelection){y.clearSelectionInfo(this._d3root,false,e)}};X.prototype.setAxisGap=function(e){this._area_gapObj=e};X.prototype.globalDOMDestroy=function(e){var t=0;if(e){e.remove();for(t=0;t<e.length;t++){e[t]=null}e=null}};X.prototype.destroy=function(){var e=0;var t=0;if(this._area_tooltipData){for(e=0;e<this._area_tooltipData.length;e++){this._area_tooltipData[e]=null}this._area_tooltipData=null}if(this._valueAxis1){if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1])}if(this._valueAxis1.drawData){if(this._valueAxis1.drawData.accuVal){for(e=0;e<this._valueAxis1.drawData.accuVal.length;e++){this._valueAxis1.drawData.accuVal[e]=null}this._valueAxis1.drawData.accuVal=null}if(this._valueAxis1.drawData.bgAreaData){for(e=0;e<this._valueAxis1.drawData.bgAreaData.length;e++){for(t=0;t<this._valueAxis1.drawData.bgAreaData[e].length;t++){this._valueAxis1.drawData.bgAreaData[e][t]=null}this._valueAxis1.drawData.bgAreaData[e]=null}this._valueAxis1.drawData.bgAreaData=null}if(this._valueAxis1.drawData.data){for(e=0;e<this._valueAxis1.drawData.data.length;e++){for(t=0;t<this._valueAxis1.drawData.data[e].length;t++){this._valueAxis1.drawData.data[e][t]=null}this._valueAxis1.drawData.data[e]=null}this._valueAxis1.drawData.data=null}this._valueAxis1.drawData=null}if(this._valueAxis1.data){for(e=0;e<this._valueAxis1.data.length;e++){this._valueAxis1.data[e]=null}this._valueAxis1.data=null}if(this._valueAxis1.selectedMarkers){for(e=0;e<this._valueAxis1.selectedMarkers.length;e++){this._valueAxis1.selectedMarkers[e]=null}this._valueAxis1.selectedMarkers=null}if(this._valueAxis1.markers){for(e=0;e<this._valueAxis1.markers.length;e++){for(t=0;t<this._valueAxis1.markers[e].length;t++){if(this._valueAxis1.markers[e][t]&&this._valueAxis1.markers[e][t].remove){this._valueAxis1.markers[e][t].remove()}this._valueAxis1.markers[e][t]=null}this._valueAxis1.markers[e]=null}this._valueAxis1.markers=null}this._valueAxis1.areas=null;this._valueAxis1=null}if(this._d3root){this._d3root.selectAll(P).remove()}if(this._area_svgAreasGroup){this.globalDOMDestroy(this._area_svgAreasGroup);this._area_svgAreasGroup=null}if(this._area_svgAreaBgGroup){this.globalDOMDestroy(this._area_svgAreaBgGroup);this._area_svgAreaBgGroup=null}if(this._area_svgMarkersGroup){this.globalDOMDestroy(this._area_svgMarkersGroup);this._area_svgMarkersGroup=null}if(this._datashapesgroup){this.globalDOMDestroy(this._datashapesgroup);this._datashapesgroup=null}if(this._area_g){this.globalDOMDestroy(this._area_g);this._area_g=null}if(this._area_clipRect){this.globalDOMDestroy(this._area_clipRect);this._area_clipRect=null}if(this._d3root){this.globalDOMDestroy(this._d3root);this._d3root=null}if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1]);this._categoryScale=null}if(this._area_effectManager&&this._area_effectManager.destroy){this._area_effectManager.destroy()}if(this._area_styleManager&&this._area_styleManager.destroy){this._area_styleManager.destroy()}this._area_areaShapeline=null;this._area_animation_clipRect=null;this._area_data=null;this._area_rawData=null;this._area_colorPalette=null;this._area_effectManager=null;this._area_gapObj=null;this._area_pinchEvent=null;this._area_pinchPoint=null;this._area_randomSuffix=null;this._area_styleManager=null;this._area_tooltipDataHandler=null;this._eDispatch=null;this._props=null};X.prototype._areafn_enableAnimation=function(){var e=false;if(this._area_isDataLoading){e=this._props.animation.dataLoading}else if(this._area_isDatasetChanged){e=this._props.animation.dataUpdating}else if(this._area_isSizeChanged){e=this._props.animation.resizing}return e&&!this._area_isPinching};X.prototype._areafn_createColorPalette=function(){this._area_colorPalette=[];var e=0,t=0;this._valueAxis1.colorPalette=this._props.colorPalette;for(e=0;e<this._valueAxis1.data.length;++e){this._area_colorPalette.push(this._valueAxis1.colorPalette[e%this._valueAxis1.colorPalette.length])}};X.prototype._areafn_renderChart=function(e,t){this._d3root=e;this._areafn_getCSSStyle();this._eDispatch.startToInit();if(!this._area_g){this._area_g=e.append("svg:g")}if(!this._area_svgMarkersGroup){this._datashapesgroup=this._area_g.append("svg:g").attr("class",G);this._area_svgAreaBgGroup=this._datashapesgroup.append("svg:g").attr("class","v-areasbg");this._area_svgAreasGroup=this._datashapesgroup.append("svg:g").attr("class","v-areas");this._area_svgMarkersGroup=this._datashapesgroup.append("svg:g").attr("class","v-markers")}var a=this._valueAxis1.scale.range();var i=Math.abs(a[0]-a[1]);this._area_selectedMarkerNum=0;this._areafn_lightAll();if(g.isMobile()&&this._props&&this._props.marker&&!this._props.marker.visible&&this._props.marker.number>=0){this._area_threshold=L(this._valueAxis1.data)>this._props.marker.number?true:false}this._areafn_processOneAxis(this._valueAxis1);var r=this._fullData;if(!r){r=this._area_data}this.applyFormatConditions(this._props.formatRules,this._area_svgMarkersGroup,r,this);var s=this;if(this._areafn_enableAnimation()){var o;if(!this._area_animation_clipRect&&!this._area_isPinching){o=this._area_g.select("."+G).append("svg:defs").append("svg:clipPath").attr("id","clip1_"+this._area_randomSuffix);this._area_animation_clipRect=o.append("rect")}if(this._props.orientation==="vertical"){this._area_animation_clipRect.attr("x",0).attr("y",0).attr("height",this._height).attr("width",0)}else{this._area_animation_clipRect.attr("x",0).attr("y",this._height).attr("height",0).attr("width",this._width)}this._area_svgAreaBgGroup.attr("clip-path","url(#clip1_"+this._area_randomSuffix+")").attr("fill","none");this._area_svgMarkersGroup.attr("clip-path","url(#clip1_"+this._area_randomSuffix+")").attr("fill","none");this._area_svgAreasGroup.attr("clip-path","url(#clip1_"+this._area_randomSuffix+")").attr("fill","none");if(this._props.orientation==="vertical"){this._area_animation_clipRect.attr("x",0).attr("y",0).attr("height",s._height).attr("width",0).transition().duration(1e3).attr("width",function(){return s._width}).each("end",function(){if(o){o.remove();s._area_animation_clipRect=null}T(s._eDispatch,t)})}else{this._area_animation_clipRect.attr("x",0).attr("y",s._height).attr("height",0).attr("width",s._width).transition().duration(1e3).attr("height",function(){return s._height}).attr("y",0).each("end",function(){if(o){o.remove();s._area_animation_clipRect=null}T(s._eDispatch,t)})}}else{T(s._eDispatch,t)}};X.prototype._areafn_computeScales=function(){if(!(o.isExist(this._width)&&o.isExist(this._height)&&o.isExist(this._area_data))){return}var e=[];var t=this._valueAxis1.data[0].length;for(var a=0;a<t;a++){e.push(a)}this._categoryScale.domain(e).rangeBands(this._props.orientation==="vertical"?[0,this._width]:[0,this._height]);E.call(this,this._valueAxis1)};X.prototype._areafn_changeOneArea=function(e,t,a,i){if(!a.areas[e]){a.areas[e]=[]}if(!a.areas[e][t]&&i==="visible"){var r=this;a.areas[e][t]=r._area_svgAreasGroup.append("svg:path").attr("class","v-areashape").attr("d",r._area_areaShapeline(a.drawData.data[e][t])).attr("stroke",function(){var t={graphType:"line",fillColor:a.colorPalette[(a.drawData.data.length-e-1)%a.colorPalette.length]};return r._area_effectManager.register(t)}).attr("stroke-width",1).attr("fill",function(){var t={drawingEffect:r._props.drawingEffect,graphType:"rectangle",direction:r._props.orientation,fillColor:a.colorPalette[(a.drawData.data.length-e-1)%a.colorPalette.length]};return r._area_effectManager.register(t)})}if(a.areas[e][t]){a.areas[e][t].attr("visibility",i)}};X.prototype._areafn_changeOneMarker=function(e,t,a,i,r){if(this._area_threshold){return}var s;if(a===I){var o=false;this._areafn_changeOneArea(e,t,i,"visible");i.selectedMarkers[e][t]=true;s=d3.select(i.markers[e][t]);s.attr("class",H+" "+a);p.nodesHighlight(s[0][0],{factor:.7,constant:0},this._area_effectManager,o);if(!this._props.marker.visible){s.attr("opacity",1);s.attr("stroke-opacity",1)}}else{if(i.selectedMarkers[e][t]&&!r){this._areafn_changeOneArea(e,t,i,"hidden");i.selectedMarkers[e][t]=false}s=d3.select(i.markers[e][t]);s.attr("class",H+" "+a);p.nodesUnhighlight(s[0][0],false,r);if(!this._props.marker.visible){s.attr("opacity",0)}else{s.attr("stroke","#FFFFFF");s.attr("stroke-width","1");s.attr("stroke-opacity",W)}}};X.prototype._areafn_getCategoryIndex=function(e){var t=e/this._categoryScale.rangeBand();t=Math.floor(t);var a=0;a=this._valueAxis1.data[0].length;if(t>a-1){t=a-1}if(t<0){t=0}return this._props.orientation==="vertical"?t:a-1-t};X.prototype._areafn_processOneAxisSelect=function(e,t){this._area_svgAreaBgGroup.selectAll(".v-areabg").attr("opacity",W).attr("stroke-opacity",W);var a=false,i,r;for(var s=0;s<e.markers.length&&!a;s++){var o=e.markers[s];for(var n=0;n<o.length&&!a;n++){if(o[n]===t){a=true;i=s;r=n}}}if(!a){return false}if(!e.selectedMarkers[i][r]){++this._area_selectedMarkerNum}this._areafn_changeOneMarker(i,r,I,e)};X.prototype._areafn_processOneAxisDeselect=function(e,t,a){var i=false,r,s;for(var o=0;o<e.markers.length&&!i;o++){var n=e.markers[o];for(var l=0;l<n.length&&!i;l++){if(n[l]===t){i=true;s=o;r=l}}}if(!i){return false}this._areafn_changeOneMarker(s,r,O,e,a)};X.prototype._areafn_processOneAxis=function(e){if(!e.data||e.data.length===0){return}var t=z.call(this,e);var a;if(this._area_isPinching){a=this._area_svgAreaBgGroup.selectAll("."+"v-areagroup")}else{a=this._area_svgAreaBgGroup.selectAll("."+"v-areagroup").data(t.bgAreaData);a.enter().append("svg:g").attr("class","v-areagroup");a.exit().remove()}var i=this;var r=i._props.orientation==="vertical"?d3.svg.line().x(function(e,t){return i._categoryScale(e.x)+i._categoryScale.rangeBand()/2}).y(function(t){return e.scale(t.y)}):d3.svg.line().y(function(e,t){return i._categoryScale(e.x)+i._categoryScale.rangeBand()/2}).x(function(t){return e.scale(t.y)});a.each(function(a,s){var o;if(i._area_isPinching){o=d3.select(this).selectAll(V)}else{o=d3.select(this).selectAll(V).data(a);o.enter().append("svg:path");o.each(function(){this.setAttribute("stroke-linejoin","round");this.setAttribute("class",U);this.setAttribute("stroke-opacity",1)});o.exit().remove()}var n=e.colorPalette[(t.bgAreaData.length-s-1)%e.colorPalette.length];var l={graphType:"line",fillColor:n};var u=i._area_effectManager.register(l);l={drawingEffect:i._props.drawingEffect,graphType:"rectangle",direction:i._props.orientation,fillColor:n};var d=i._area_effectManager.register(l);o.each(function(e,t){d3.select(this).attr("d",r(e)).attr("stroke",u).attr("stroke-width",1).attr("fill",d)})});this._area_areaShapeline=i._props.orientation==="vertical"?d3.svg.line().x(function(e,t){return(e.x+.5)*i._categoryScale.rangeBand()}).y(function(t){return e.scale(t.y)}):d3.svg.line().y(function(e,t){return(e.x+.5)*i._categoryScale.rangeBand()}).x(function(t){return e.scale(t.y)});e.areas=[];this._area_svgAreasGroup.selectAll(".v-areashape").remove();e.selectedMarkers=new Array(e.data.length);e.markers=[];for(var s=0;s<e.data.length;++s){e.selectedMarkers[s]=[];for(var o=0;o<e.data[0].length;++o){e.selectedMarkers[s][o]=false}}if(this._area_threshold){if(this._area_svgMarkersGroup.selectAll("g.v-marker")[0].length){this._area_svgMarkersGroup.selectAll("g.v-marker").remove()}return}var n;if(this._area_isPinching){n=this._area_svgMarkersGroup.selectAll("g.v-marker")}else{n=this._area_svgMarkersGroup.selectAll("g.v-marker").data(e.data);n.enter().append("svg:g").attr("class","v-marker");n.exit().remove()}var l="hidden";if(this._props&&this._props.marker&&this._props.marker.visible){l="visible"}n.attr("transform",function(a,r){var s;var o;if(i._area_isPinching){s=d3.select(this).selectAll(".v-datashape");o=s.select("g").select("path")}else{s=d3.select(this).selectAll(".v-datashape").data(e.data[e.data.length-r-1]);o=s.enter().append("g").attr("class","v-datashape").append("path")}var n;if(i._props.drawingEffect!=="glossy"){n=i._area_effectManager.register({fillColor:e.colorPalette[(t.bgAreaData.length-r-1)%e.colorPalette.length]})}if(!i._area_isPinching){s.exit().remove()}var u=[];var h={drawingEffect:i._props.drawingEffect,graphType:i._props.marker.shape,fillId:n,fillColor:e.colorPalette[(t.bgAreaData.length-r-1)%e.colorPalette.length],direction:"vertical",rx:i._props.marker.size/2,ry:i._props.marker.size/2,borderWidth:1,borderColor:i._props.style.marker.stroke,node:null,visibility:l,className:H+" "+O};s.attr("transform",function(a,s){if(d.isNoValue(a.val)){d3.select(this).remove();u.push(null);return}u.push(d3.select(this).selectAll("path").node());h.node=d3.select(this).select("path");p.drawGraph(h,i._area_effectManager);if(i._props.orientation==="vertical"){return"translate("+(i._categoryScale(s)+i._categoryScale.rangeBand()/2)+","+e.scale(t.accuVal[r][s])+")"}else{return"translate("+e.scale(t.accuVal[r][s])+","+(i._categoryScale(s)+i._categoryScale.rangeBand()/2)+")"}});e.markers.push(u)})};X.prototype._areafn_processOneAxisDeselectAll=function(e,t){if(!e.selectedMarkers||e.selectedMarkers.length===0){return}for(var a=0;a<e.selectedMarkers.length;++a){for(var i=0;i<e.selectedMarkers[0].length;++i){if(!e.selectedMarkers[a][i]){continue}e.areas[a][i].attr("visibility","hidden");e.markers[a][i].setAttribute("class",H+" "+O);p.nodesUnhighlight(e.markers[a][i],false,true);e.selectedMarkers[a][i]=false}}};X.prototype._areafn_deselectedAllHandler=function(){var e=w();var t=this._props.orientation==="vertical"?(e?e.clientX:0)-this._area_g.node().getBoundingClientRect().left:(e?e.clientY:0)-this._area_g.node().getBoundingClientRect().top;var a=this._areafn_getCategoryIndex(t);this._area_selectedMarkerNum=0;this._areafn_processOneAxisDeselectAll(this._valueAxis1,a);if(this._props.marker.visible){this._area_svgMarkersGroup.selectAll("."+O).attr("fill-opacity",1).attr("stroke","#FFFFFF")}else{this._area_svgMarkersGroup.selectAll("."+O).attr("fill-opacity",0)}};X.prototype._areafn_lightAll=function(){this._area_svgAreaBgGroup.selectAll(V).attr("opacity",1).attr("stroke-opacity",1);this._area_svgAreasGroup.selectAll(".v-areashape").attr("visibility","hidden");var e;if(this._props.marker.visible===true){e=1}else{e=0}this._area_svgMarkersGroup.selectAll("."+O).attr("fill-opacity",e).attr("stroke-opacity",e).attr("class",H+" "+O)};X.prototype._areafn_grayAll=function(){this._area_svgAreaBgGroup.selectAll(V).attr("opacity",W).attr("stroke-opacity",W);this._area_svgAreasGroup.selectAll(".v-areashape").attr("visibility","hidden");var e;if(this._props.marker.visible===true){e=W}else{e=0}this._area_svgMarkersGroup.selectAll("."+O).attr("fill-opacity",e).attr("stroke-opacity",e).attr("class",H+" "+O,true)};X.prototype._areafn_getCSSStyle=function(){if(!this._props.style){this._props.style={}}if(!this._props.style.marker){this._props.style.marker={}}this._props.style.marker.stroke="#FFFFFF"};X.prototype._areafn_resetDataRange=function(){this._valueAxis1.topValue=null;this._valueAxis1.bottomValue=null};X.prototype.getDataOfDataPoint=function(e){var t={};if(e&&e.__data__){t=this._area_rawData.ctx2ArrayData(e.__data__.ctx);if(t.measure){for(var a in t.measure){if(e.__data__.val){t.measure[a].value=e.__data__.val;break}}}t.context=e.__data__.ctx}return t};return X});define("sap/viz/feeds/XY",["sap/viz/feeds/Manifest","sap/viz/data/feed/Constants"],function e(t,a){var i={id:"regionColor",name:"IDS_REGIONCOLOR",type:a.Type.Dimension,min:0,max:2,aaIndex:2,acceptMND:1};var r={id:"primaryValues",name:"IDS_PRIMARYVALUES",type:a.Type.Measure,min:1,max:a.Constraints.INF,mgIndex:1};var s={id:"secondaryValues",name:"IDS_SECONDARYVALUES",type:a.Type.Measure,min:0,max:a.Constraints.INF,mgIndex:2};var o={id:"axisLabels",name:"IDS_AXISLABELS",type:a.Type.Dimension,min:1,max:2,acceptMND:0,aaIndex:1};var n={id:"xy",feeds:[i,o,r,s]};var l={viz:[],module:[],feeds:[n]};return l});define("sap/viz/modules/manifests/xy/Base",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/feeds/XY"],function e(t,a,i){var r={id:"sap.viz.modules.xy.base",abstract:true,type:a.Type.Chart,name:"xy base module",datastructure:"DATA STRUCTURE DOC",properties:{orientation:{name:"orientation",supportedValueType:"String",supportedValues:["horizontal","vertical"],defaultValue:"vertical",description:"Set the orientation of the plot area.",isExported:false},colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:a.COLOR.SAPColorSingleAxis,description:"Set the color palette for the chart. This is not supported for dual axis charts that have measureNamesDimension bound to the legend.",example:"<a href='"+a.DocExample.SnippetUrl+"4449' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},primaryValuesColorPalette:{name:"primaryValuesColorPalette",supportedValueType:"StringArray",defaultValue:a.COLOR.SAPColorDualAxis1,description:"Set the color palette for axis 1 in dual charts.",isExported:true},secondaryValuesColorPalette:{name:"secondaryValuesColorPalette",supportedValueType:"StringArray",defaultValue:a.COLOR.SAPColorDualAxis2,description:"Set the color palette for axis 2 in dual chart.",isExported:true},drawingEffect:{name:"drawingEffect",supportedValueType:"String",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set the drawing effect for the plot area. If this value is set to 'glossy', the plot area is glossy. If this value is set to 'normal', the plot area is matte.",isExported:true}},events:{initialized:a.Event.Initialized.desc,selectData:a.Event.SelectData.desc,deselectData:a.Event.DeSelectData.desc,showTooltip:a.Event.TooltipShow.desc,hideTooltip:a.Event.TooltipHide.desc},feeds:{id:"xy"},css:null,configure:null};var s={viz:[],module:[r],feeds:[].concat(i.feeds)};return s});define("sap/viz/modules/manifests/xy/Area",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/base/UADetector","sap/viz/modules/area","sap/viz/modules/manifests/xy/Base"],function e(t,a,i,r,s){var o={id:"sap.viz.modules.area",name:"area",base:"sap.viz.modules.xy.base",properties:{tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the tooltip is enabled"}},isExported:false,description:"Settings for the tooltip"},mode:{name:"mode",supportedValueType:"String",supportedValues:["comparison","percentage"],defaultValue:"comparison",description:"Set the display mode of the area chart",isExported:false},orientation:{name:"orientation",supportedValueType:"String",supportedValues:["vertical","horizontal"],defaultValue:"vertical",description:"Set whether the area chart is vertical or horizontal",isExported:false},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the data loading animation is enabled"},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the data updating animation is enabled"},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the resizing animation is enabled"}},description:"Settings for animations in the plot area",example:"<a href='"+a.DocExample.SnippetUrl+"8535' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},marker:{name:"marker",description:"Settings for marker and data point graphics",supportedValueType:"Object",isExported:false,supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set the visibility of the markers",isExported:false},shape:{name:"shape",supportedValueType:"String",supportedValues:["circle","diamond","triangleUp","triangleDown","triangleLeft","triangleRight","cross","intersection"],defaultValue:"circle",description:"Set the shape of the markers"},size:{name:"size",supportedValueType:"PositiveInt",defaultValue:"8",min:"4",max:"32",description:"Set the marker size for data points, ranging from '4' and '32'. If you enter a value outside that range, the marker size defaults to '4'."},number:{name:"number",isExported:i.isMobile()?true:false,supportedValueType:"Int",defaultValue:Number.POSITIVE_INFINITY,description:"Set the number to enable events for markers when they are invisible. "+"If the total amount of markers is bigger than this value, markers will remain hidden when selected or hovered over. "+"The default value is Number.POSITIVE_INFINITY, which is the largest possible value."}}},formatRules:{name:"formatRules",supportedValueType:"Array",isExported:true,description:'Sample value for formatRules:  [{condition: [{Key1:Value1, Key2:Value2}], color:"#00ff00"}, {condition: [{Key3:Value3}], color:"#00ffff"}].   Each rule has two properties: the "condition" and the "color".   Value1, Value2 and Value3 are values. <br />  The value of a dimension may be <br />  1, Single value (string), like "China" . <br />  2. Array (enumeration), like ["UK","USA"] . <br />  The value of a measure may be <br />  1, Single value (number), like 20 . <br />  2. Arry (enumeration), like [121,122] . <br />  3. Object (range), like {min:100, max 200} . Min and max are inclusive.   If users want to inlcude 200, but not 100 in the range, they may use {min:100.00001, max:200}.   If users want values larger than 100, they may write {min:100}. <br />   The color is applied if one or more conditions in the condition array is met.   If multiple rules could apply on the same data point, it is the last rule that takes effect.',example:"<a href='"+a.DocExample.SnippetUrl+"8751' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},hoverline:{name:"hoverline",supportedValueType:"Object",description:"Settings for the hoverline.",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set the visibility of the hoverline."}},isExported:false}},css:{},fn:r};var n={viz:[],module:[o].concat(s.module),feeds:[].concat(s.feeds)};return n});define("sap/viz/chart/elements/Tooltip",["sap/viz/base/utils/oo","sap/viz/modules/Base","sap/viz/base/utils/Objects","sap/viz/format/FormatManager","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/ObjectUtils","sap/viz/lang/langManager","sap/viz/TemplateManager","sap/viz/base/utils/FunctionUtils","sap/viz/base/UADetector","sap/viz/base/Logger"],function e(t,a,i,r,s,o,n,l,u,d,h){var p="infoMode",c="actionMode",f="values selected";var m=function(e,t){this._ctx=t;this._display={padding:"10px",paddingBottom:"10",horizontalLine:{borderBottom:"solid 1px",marginTop:"10px"},dimensionName:{fontSize:"12px",fontFamily:"Arial",paddingBottom:"8px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},dimensionValue:{fontSize:"13px",fontFamily:"Arial",fontWeight:"bold",paddingBottom:"8px",paddingLeft:"7px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},measureName:{fontSize:"12px",fontFamily:"Arial",paddingBottom:"8px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},measureValue:{fontSize:"13px",fontFamily:"Arial",fontWeight:"bold",paddingBottom:"8px",paddingLeft:"7px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},selectedText:{fontSize:"12px",fontFamily:"Arial",fontWeight:"bold",marginTop:"8px"},closeButton:{size:20,borderSize:2,borderStyle:"solid",forkSize:10},maxDimensionLabelWidth:150,maxMeasureLabelWidth:80,mouseMarginTop:3,truncatedWidth:140,contentMaxSize:"42px",truncatedHeight:12,backgroundColor:"#ffffff",borderWidth:"1px",borderStyle:"solid",borderRadius:"3px",boxShadow:"1px 1px #AFAFAF"};this._defaultToolTipColors={backgroundColor:"",borderTopColor:"",borderBottomColor:"",borderLeftColor:"",borderRightColor:"",dimensionName:"",dimensionValue:"",measureName:"",measureValue:"",separationLineSingleColor:"",footerLabelColor:"",closeButtonBackground:"",closeButtonBorderColor:"#cccccc"};this._paragraphLabelTextClassName="v-body-label tooltipparagraphlabel";this._paragraphValueTextClassName="v-body-value tooltipparagraphvalue";this._tooltipBackgroundClassName="v-background";this._tooltipSeparationLineClassName="v-separationline";this._customizedSectionClassName="v-customizedSection";this._div=null;this._borderDiv=null;this._mainDiv=null;this._closeButtonDiv=null;this._extensionDiv=null;this._mode=null;this._properties={};this._properties=e.props(null);this._dimensionOrMeasureTitles=[];this._moveState={position:{x:0,y:0}};this._parentNodeRect=null;this._isAnchored=false;if(d.isWindowsSurface()){this._touchEvent={touchstart:"pointerdown",touchend:"pointerup"}}else{this._touchEvent={touchstart:"touchstart",touchend:"touchend"}}};m.prototype._handleNull=function(e){if(e==null){return n.get("IDS_ISNOVALUE")}else{return e}};m.prototype._clearGlobalValues=function(){this._dimensionOrMeasureTitles=[]};m.prototype.render=function(e){if(e!==null&&e!==undefined){var t=d3.select(e);var a=t.select(".v-m-tooltip-container");if(a.node()===null){a=t.append("div").attr("class","v-m-tooltip-container")}this._div=a.select(".v-m-tooltip");if(this._div.node()===null){this._div=a.append("div").attr("class","v-m-tooltip").attr("id","v-m-tooltip")}}return this};m.prototype._formatTooltipData=function(e){if(e&&e.data&&e.data.timeMeasure!==undefined&&e.data.timeMeasure>=0){var t=d3.time.format("%d/%m/%Y %H:%M");for(var a=0,i=0;a<e.data.length;a++){if(e.data[a].type==="measure"){if(e.data.timeMeasure===i){e.data[a].value=t(new Date(parseInt(e.data[a].value)));break}i++}}}if(s.isArray(e.data)){var o=e.data;var n,l,u;n=this._properties.formatString;l=0;for(var d=-1;++d<o.length;){if(d===o.timeMeasure){continue}u=o[d];if(u.type!=="measure"||u.value===null){continue}if(!s.isExist(n)){u.value=r.format(u.value,n);continue}if(s.isString(n)){u.value=r.format(u.value,n)}else if(s.isArray(n)&&e.data._context){if(o._context instanceof Array){u.value=_(u.value,n,o._context[l].path);l++}else{u.value=_(u.value,n,o._context.path)}}else{var h=n[u.id];if(h){u.value=r.format(u.value,h)}}}}return e};function _(e,t,a){var i;var o=a.mg;var n=a.mi;i=t[o];if(s.isExist(i)){i=t[o]}else{return e}if(n>i.length-1){i=i[i.length-1]}else{i=i[n]}return r.format(e,i)}m.prototype.plotArea=function(e){if(!arguments.length){return this._plotArea}this._plotArea=e;return this};m.prototype.zone=function(e){if(!arguments.length){return this._zone}this._zone=e;return this};var g=function(e,t,a){if(e){try{e(t,a)}catch(e){h.error("ERROR in Tooltip callback")}}};m.prototype.showTooltip=function(e){if(!this._div){this.render(e.container)}this._mode=e.mode;var t=e;t=this._formatTooltipData(t);if(this._borderDiv!==null){this._borderDiv.remove()}if(this._properties.visible){this._borderDiv=this._div.append("div").attr("class","v-background");this._mainDiv=this._borderDiv.append("div").attr("class","v-tooltip-mainDiv").style("position","relative").style("direction","ltr");if(d.isMobile()){this._borderDiv.style("-webkit-overflow-scrolling","auto");this._closeButtonDiv=this._borderDiv.append("div").attr("class","v-closeButton").style("position","absolute").style("direction","ltr");var a=this;this._closeButtonDiv.on(this._touchEvent.touchstart,function(){d3.event.stopPropagation();d3.event.preventDefault()},true).on(this._touchEvent.touchend,function(){a.hideTooltip(a._mode);d3.event.stopPropagation();d3.event.preventDefault()},true)}this._extensionDiv=this._borderDiv.append("div").attr("class","v-tooltip-extension").style("position","relative").style("display","block").style("margin-top","10px");this._updateTooltipStyle();if(t.mode&&t.mode===c){g(this._properties.preRender,this._extensionDiv)}this._renderTooltip(t);g(this._properties.postRender,this._borderDiv)}this._parentNodeRect=this._div.node().parentNode.parentNode.getBoundingClientRect();this._isAnchored=e.isAnchored};m.prototype.hideTooltip=function(e){if(e===this._mode){if(this._borderDiv){this._borderDiv.remove();this._borderDiv=null}if(this._mainDiv){this._mainDiv=null}if(this._extensionDiv){this._extensionDiv=null}if(this._closeButtonDiv){this._closeButtonDiv.on(this._touchEvent.touchend,null);this._closeButtonDiv.on(this._touchEvent.touchstart,null);this._closeButtonDiv=null}this._defaultToolTipColors.background="";this._defaultToolTipColors.border="";this._defaultToolTipColors.dimensionName="";this._defaultToolTipColors.dimensionValue="";this._defaultToolTipColors.measureName="";this._defaultToolTipColors.measureValue="";this._defaultToolTipColors.separationLineSingleColor="";if(this._div){this._div.attr("visibility","hidden").style("padding","0px").style("max-height","").style("top","-65535px").style("left","-65535px")}this._clearGlobalValues()}};var v=function(e,t){var a=t.x;var i=t.y;if(a+this._div.node().offsetWidth/2>e.right){a=e.right-this._div.node().offsetWidth}else if(a-this._div.node().offsetWidth/2<e.left){a=e.left}else{a=a-this._div.node().offsetWidth/2}if(this._mode!==p&&i-this._display.mouseMarginTop-this._div.node().offsetHeight<e.top){i=i+13}else if(this._mode===p&&i-this._display.paddingBottom-this._display.mouseMarginTop-this._div.node().offsetHeight<e.top){i=i+13}else{i=i-this._display.mouseMarginTop-this._div.node().offsetHeight;if(this._mode===p){i=i-this._display.paddingBottom}}if(i+this._div.node().offsetHeight>e.bottom){if(t.y<=(e.bottom+e.top)/2){i=t.y+13}else{i=t.y-this._display.mouseMarginTop-this._div.node().offsetHeight;if(this._mode===p){i=i-this._display.paddingBottom}}}return{x:a,y:i}};var y=function(e,t){var a=t.x;var i=t.y;if(a+this._div.node().offsetWidth/2+this._display.closeButton.size/2>e.right){a=e.right-this._div.node().offsetWidth-this._display.closeButton.size/2}else if(a-this._div.node().offsetWidth/2<e.left){a=e.left}else{a=a-this._div.node().offsetWidth/2-this._display.closeButton.size/2}if(i-this._display.mouseMarginTop-this._div.node().offsetHeight-this._display.closeButton.size/2<e.top){i=i+13+this._display.closeButton.size/2}else{i=i-this._display.mouseMarginTop-this._div.node().offsetHeight}if(i+this._div.node().offsetHeight+this._display.closeButton.size/2>e.bottom){if(t.y<=(e.bottom+e.top)/2){i=t.y+13+this._display.closeButton.size/2}else{i=t.y-this._display.mouseMarginTop-this._div.node().offsetHeight}}return{x:a,y:i}};m.prototype._calculatePos=function(e){var t,a,i=this._properties.layinChart;if(document.documentElement.clientWidth){t=document.documentElement.clientWidth}else if(document.body&&document.body.clientWidth){t=document.body.clientWidth}if(document.documentElement.clientHeight){a=document.documentElement.clientHeight}else if(document.body&&document.body.clientHeight){a=document.body.clientHeight}var r=this._div.node().parentNode.parentNode.getBoundingClientRect();var s={top:i?r.top:0,left:i?r.left:0,bottom:i?r.bottom:a,right:i?r.right:t};var o=d.isMobile()?y.call(this,s,e):v.call(this,s,e);return{x:o.x-r.left,y:o.y-r.top}};m.prototype._adjustTooltipWidth=function(){for(var e=0;e<this._dimensionOrMeasureTitles.length;e++){if(this._dimensionOrMeasureTitles[e].node().offsetWidth>this._display.truncatedWidth){this._dimensionOrMeasureTitles[e].style("max-width",this._display.contentMaxSize)}}};m.prototype._adjustTooltipHeight=function(e){this._div.style("max-height",e/2-this._display.truncatedHeight+"px")};m.prototype._checkCss=function(e){var t=l.current().css;if(t.indexOf(e)!==-1){return true}else{return false}};m.prototype._renderTooltip=function(e){if(!this._extensionDiv.node()||this._extensionDiv.node().childNodes.length===0){this._extensionDiv.remove()}this._drawContent(e);this._borderDiv.style("background",this._defaultToolTipColors.backgroundColor);this._borderDiv.style("border-color",this._defaultToolTipColors.border);if(this._defaultToolTipColors.borderTopColor){this._borderDiv.style("border-top-color",this._defaultToolTipColors.borderTopColor)}if(this._defaultToolTipColors.borderBottomColor){this._borderDiv.style("border-bottom-color",this._defaultToolTipColors.borderBottomColor)}if(this._defaultToolTipColors.borderLeftColor){this._borderDiv.style("border-left-color",this._defaultToolTipColors.borderLeftColor)}if(this._defaultToolTipColors.borderRightColor){this._borderDiv.style("border-right-color",this._defaultToolTipColors.borderRightColor)}this._div.style("position","absolute").style("left","0px").style("top","0px").style("width","auto").style("height","auto").style("float","left").style("visibility","hidden").style("line-height","normal");if(e.mode===c){this._div.style("padding-bottom",this._display.paddingBottom+"px")}this._borderDiv.style("border-style",this._display.borderStyle).style("border-width",this._display.borderWidth).style("border-radius",this._display.borderRadius).style("box-shadow",this._display.boxShadow).style("overflow-x","hidden").style("overflow-y","auto").style("padding",this._display.padding);var t,a;if(document.documentElement.clientWidth){t=document.documentElement.clientWidth}else if(document.body&&document.body.clientWidth){t=document.body.clientWidth}if(document.documentElement.clientHeight){a=document.documentElement.clientHeight}else if(document.body&&document.body.clientHeight){a=document.body.clientHeight}if(this._div.node().offsetWidth>t){this._adjustTooltipWidth()}if(this._div.node().offsetHeight>a){this._adjustTooltipHeight(a)}var i=this._calculatePos(e.position);var r=this._div.node();this._div.style("left",i.x+"px").style("top",i.y+"px").style("visibility","visible").style("white-space","nowrap");if(d.isMobile()){var s=r.offsetWidth;var o=this._display.closeButton.size,n=o/2;var l=this._display.closeButton.forkSize,u=l/2;var h=this._display.closeButton.borderSize;var p=n-u;var f=n-h/2;var m="-webkit-transform";if(d.isWindowsSurface()){m="transform"}var _={position:"absolute",height:this._display.closeButton.borderSize,width:l+"px","border-bottom-color":this._defaultToolTipColors.closeButtonBorderColor,"border-bottom-width":this._display.closeButton.borderSize+"px","border-bottom-style":this._display.closeButton.borderStyle,top:f+"px",left:p+"px"};_[m]="rotate(-45deg)";this._closeButtonDiv.append("div").style(_);_[m]="rotate(45deg)";this._closeButtonDiv.append("div").style(_);this._closeButtonDiv.style({left:s-n-this._display.closeButton.borderSize+"px",top:-n+"px",width:o+"px",height:o+"px","border-width":this._display.closeButton.borderSize+"px","border-radius":o+"px","border-style":this._display.closeButton.borderStyle,"border-color":this._defaultToolTipColors.closeButtonBorderColor,background:this._defaultToolTipColors.closeButtonBackground})}};m.prototype._drawContent=function(e){this._drawDimensionAndMeasure(e.data);if(e.selectedNumber&&e.selectedNumber>1&&e.data&&e.mode===c){var t=this._mainDiv.append("div").style("margin-top",this._display.horizontalLine.marginTop).style("border-bottom-width","1px").style("border-bottom-style","solid").attr("class","v-separationline");if(this._defaultToolTipColors.separationLineSingleColor!==""&&!this._checkCss("v-separationline")){t.style("border-bottom-color",this._defaultToolTipColors.separationLineSingleColor)}}if(e.selectedNumber&&(e.data&&e.selectedNumber>1||!e.data)&&e.mode===c){var a=this._getStyle(this._display.selectedText);if(this._defaultToolTipColors.footerLabelColor!==""&&!this._checkCss("v-footer-label")){a+=";color:"+this._defaultToolTipColors.footerLabelColor}if(!e.data){a=a.replace(/margin-top:[0-9]+px/,"margin-top:0px")}this._mainDiv.append("div").attr("style",a).text(e.selectedNumber+" "+(n.get("IDS_VALUES_SELECTED")?n.get("IDS_VALUES_SELECTED"):f)).attr("class","v-footer-label tooltipfooterlabel")}};m.prototype._drawDimensionAndMeasure=function(e){if(e&&e.length){var t=this._mainDiv.append("table").attr("class","v-tooltip-dimension-measure").style("border-collapse","collapse");var a,i,r,s,n,l,u;var d=[],h=[],p=[];for(var c=-1;++c<e.length;){if(e[c].type==="dimension"){d.push(e[c])}else if(e[c].type==="measure"){h.push(e[c])}else{p.push(e[c])}}for(var c=-1;++c<d.length;){if(c===d.length-1&&h.length===0&&p.length===0){a=o.extend(true,{},this._display.dimensionName);a.paddingBottom="0px";i=o.extend(true,{},this._display.dimensionValue);i.paddingBottom="0px"}else{a=this._display.dimensionName;i=this._display.dimensionValue}n=t.append("tr");r=this._getStyle(a);if(this._defaultToolTipColors.dimensionName!==""&&!this._checkCss("v-body-dimension-label")){r+=";color:"+this._defaultToolTipColors.dimensionName}if(this._checkCss("v-body-label")){u="v-body-label"}else{u="v-body-dimension-label"}l=n.append("td").attr("style",r).text(this._handleNull(d[c].name)+":").attr("class",u);this._dimensionOrMeasureTitles.push(l);r=this._getStyle(i);if(this._defaultToolTipColors.dimensionValue!==""&&!this._checkCss("v-body-dimension-value")){r+=";color:"+this._defaultToolTipColors.dimensionValue}if(this._checkCss("v-body-value")){u="v-body-value"}else{u="v-body-dimension-value"}n.append("td").attr("style",r).text(this._handleNull(d[c].value)).attr("class",u)}for(var c=-1;++c<h.length;){if(c===h.length-1&&p.length===0){a=o.extend(true,{},this._display.measureName);a.paddingBottom="0px";i=o.extend(true,{},this._display.measureValue);i.paddingBottom="0px"}else{a=this._display.dimensionName;i=this._display.dimensionValue}n=t.append("tr");r=this._getStyle(a);if(this._defaultToolTipColors.measureName!==""&&!this._checkCss("v-body-measure-label")){r+=";color:"+this._defaultToolTipColors.measureName}if(this._checkCss("v-body-label")){u="v-body-label"}else{u="v-body-measure-label"}l=n.append("td").attr("style",r).text(this._handleNull(h[c].name)+":").attr("class",u);this._dimensionOrMeasureTitles.push(l);r=this._getStyle(i);if(this._defaultToolTipColors.measureValue!==""&&!this._checkCss("v-body-measure-label")){r+=";color:"+this._defaultToolTipColors.measureValue}if(this._checkCss("v-body-value")){u="v-body-value"}else{u="v-body-measure-value"}n.append("td").attr("style",r).text(this._handleNull(h[c].value)).attr("class",u)}this._drawOtherInfo(p,t)}};m.prototype._drawDimensionAndMeasureOLD=function(e){if(e&&e!==null){var t=this._mainDiv.append("table").attr("class","v-tooltip-dimension-measure").style("border-collapse","collapse");var a=0,i=0,r,s,n,l,u,d,h;for(var p=0;p<e.length;p++){for(l in e[p].dimension){if(l){a++;if(a===Object.keys(e[p].dimension).length&&Object.keys(e[p].measure).length===0){r=o.extend(true,{},this._display.dimensionName);r.paddingBottom="0px";s=o.extend(true,{},this._display.dimensionValue);s.paddingBottom="0px"}else{r=this._display.dimensionName;s=this._display.dimensionValue}u=t.append("tr");n=this._getStyle(r);if(this._defaultToolTipColors.dimensionName!==""&&!this._checkCss("v-body-dimension-label")){n+=";color:"+this._defaultToolTipColors.dimensionName}if(this._checkCss("v-body-label")){h="v-body-label"}else{h="v-body-dimension-label"}d=u.append("td").attr("style",n).text(this._handleNull(l)+":").attr("class",h);this._dimensionOrMeasureTitles.push(d);n=this._getStyle(s);if(this._defaultToolTipColors.dimensionValue!==""&&!this._checkCss("v-body-dimension-value")){n+=";color:"+this._defaultToolTipColors.dimensionValue}if(this._checkCss("v-body-value")){h="v-body-value"}else{h="v-body-dimension-value"}u.append("td").attr("style",n).text(this._handleNull(e[p].dimension[l])).attr("class",h)}}for(l in e[p].measure){if(l){i++;if(i===Object.keys(e[p].measure).length){r=o.extend(true,{},this._display.measureName);r.paddingBottom="0px";s=o.extend(true,{},this._display.measureValue);s.paddingBottom="0px"}else{r=this._display.dimensionName;s=this._display.dimensionValue}u=t.append("tr");n=this._getStyle(r);if(this._defaultToolTipColors.measureName!==""&&!this._checkCss("v-body-measure-label")){n+=";color:"+this._defaultToolTipColors.measureName}if(this._checkCss("v-body-label")){h="v-body-label"}else{h="v-body-measure-label"}d=u.append("td").attr("style",n).text(this._handleNull(l)+":").attr("class",h);this._dimensionOrMeasureTitles.push(d);n=this._getStyle(s);if(this._defaultToolTipColors.measureValue!==""&&!this._checkCss("v-body-measure-label")){n+=";color:"+this._defaultToolTipColors.measureValue}if(this._checkCss("v-body-value")){h="v-body-value"}else{h="v-body-measure-value"}u.append("td").attr("style",n).text(this._handleNull(e[p].measure[l])).attr("class",h)}}}}};m.prototype._drawOtherInfo=function(e,t){};m.prototype._getStyle=function(e){var t="";if(e.color){t+=";color:"+e.color}if(e.fontFamily){t+=";font-family:"+e.fontFamily}if(e.fontSize){t+=";font-size:"+e.fontSize}if(e.fontWeight){t+=";font-weight:"+e.fontWeight}if(e.paddingButtom){t+=";padding-bottom:"+e.paddingButtom}if(e.whiteSpace){t+=";white-space:"+e.whiteSpace}if(e.textOverflow){t+=";text-overflow:"+e.textOverflow}if(e.overflow){t+=";overflow:"+e.overflow}if(e.paddingLeft){t+=";padding-left:"+e.paddingLeft}if(e.paddingBottom){t+=";padding-bottom:"+e.paddingBottom}if(e.marginTop){t+=";margin-top:"+e.marginTop}if(t.substr(0,1)===";"){t=t.substr(1)}return t};m.prototype.properties=function(e){if(!arguments.length){return this._properties}i.extend(true,this._properties,e);return this};m.prototype.destroy=function(){this._extensionDiv=null;this._mainDiv=null;this._plotArea=null;this._zone=null;if(this._ctx){this._ctx.destroy();this._ctx=null}};var b=function(e){var t=null,a=false;if(this._parentNodeRect){t=this._parentNodeRect}else{t=this._div.node().parentNode.parentNode.getBoundingClientRect()}if(e.isVertical){if(e.clientRect.top<t.top||e.clientRect.bottom>t.bottom){a=true}}else{if(e.clientRect.left<t.left||e.clientRect.right>t.right){a=true}}return a};m.prototype.moveTo=function(e){if(!this._div||this._isAnchored){return}var t={clientRect:{},isVertical:true};var a=0;if(e.direction==="Y"){a=parseInt(this._div.style("top"))+e.offset.y;this._div.style("top",a+"px")}else if(e.direction==="X"){a=parseInt(this._div.style("left"))+e.offset.x;t.isVertical=false;this._div.style("left",a+"px")}t.clientRect=this._div.node().getBoundingClientRect();if(b.call(this,t)){this._div.style("visibility","hidden")}else{this._div.style("visibility","visible")}};m.prototype._updateTooltipStyle=function(){if(this._properties.background){if(this._properties.background.color){this._defaultToolTipColors.backgroundColor=this._properties.background.color}if(this._properties.background.borderColor){this._defaultToolTipColors.border=this._properties.background.borderColor}}if(this._properties.bodyDimensionLabel&&this._properties.bodyDimensionLabel.color){this._defaultToolTipColors.dimensionName=this._properties.bodyDimensionLabel.color}if(this._properties.bodyDimensionValue&&this._properties.bodyDimensionValue.color){this._defaultToolTipColors.dimensionValue=this._properties.bodyDimensionValue.color}if(this._properties.bodyMeasureLabel&&this._properties.bodyMeasureLabel.color){this._defaultToolTipColors.measureName=this._properties.bodyMeasureLabel.color}if(this._properties.bodyMeasureValue&&this._properties.bodyMeasureValue.color){this._defaultToolTipColors.measureValue=this._properties.bodyMeasureValue.color}if(this._properties.bodyLabel&&this._properties.bodyLabel.color){this._defaultToolTipColors.dimensionName=this._properties.bodyLabel.color;this._defaultToolTipColors.measureName=this._properties.bodyLabel.color}if(this._properties.bodyValue&&this._properties.bodyValue.color){this._defaultToolTipColors.dimensionValue=this._properties.bodyValue.color;this._defaultToolTipColors.measureValue=this._properties.bodyValue.color}if(this._properties.separationLine&&this._properties.separationLine.borderBottomColor){this._defaultToolTipColors.separationLineSingleColor=this._properties.separationLine.borderBottomColor}if(this._properties.footerLabel&&this._properties.footerLabel.color){this._defaultToolTipColors.footerLabelColor=this._properties.footerLabel.color}if(this._properties.closeButton){if(this._properties.closeButton.backgroundColor){this._defaultToolTipColors.closeButtonBackground=this._properties.closeButton.backgroundColor}if(this._properties.closeButton.borderColor){this._defaultToolTipColors.closeButtonBorderColor=this._properties.closeButton.borderColor}}};t.extend(m,a);return m});define("sap/viz/chart/elements/manifests/Tooltip",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/chart/elements/Tooltip"],function e(t,a,i,r){var s={id:"sap.viz.chart.elements.Tooltip",type:a.Type.Presentation.Tooltip,renderto:a.RenderTo.NONE,name:"tooltip",description:"Settings for the tooltip that appears when the mouse is hovering over a data point or series",properties:{preRender:{name:"preRender",supportedValueType:"Function",defaultValue:null,description:"A callback function can be specified as a parameter and passed to chart options when the user calls the createViz function. "+"This callback function is called before the tooltip is rendered. The input parameter is a dom element, which is at the bottom of the tooltip."+" Any dom element such as a button can be appended to this parent node. It can only be called when the tooltip is in actionMode.",example:"<a href='"+a.DocExample.SnippetUrl+"3569' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},postRender:{name:"postRender",supportedValueType:"Function",defaultValue:null,description:"A callback function can be specified as a parameter and passed to chart options when the user calls the createViz function. "+"This callback function is called after the tooltip is rendered. The user can select and change dom elements' properties under the tooltip element.",example:"<a href='"+a.DocExample.SnippetUrl+"6557' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set the visibility of the tooltip"},drawingEffect:{name:"drawingEffect",supportedValueType:"String",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set the drawing effect for the tooltip",isExported:false},formatString:{name:"formatString",supportedValueType:"Two-Dimensions-Array",defaultValue:null,description:"Set the format strings for text in the tooltip. For dual axis charts, the first array is applied to the primary axis and the second array is applied to the second axis. "+"If you enter fewer format strings into an array than there are measures in the respective axis, then the last format string is applied to all remaining measures. "+"The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@."+'The following is an example of an array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].',example:"<a href='"+a.DocExample.SnippetUrl+"5711' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},layinChart:{name:"layinChart",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the tooltip appears in the chart area"},background:{name:"background",cssClass:".viz-tooltip-background.v-background",description:"Define the background style of the tooltip.",supportedValueType:"Object",supportedValues:{color:{name:"color",cssStyle:"background-color",description:"Define the background color of the tooltip.",supportedValueType:"String",defaultValue:"#ffffff"},borderColor:{name:"borderColor",cssStyle:"border-color border-top-color border-bottom-color border-left-color border-right-color",description:"Define the background border color of the tooltip.",supportedValueType:"String",defaultValue:"#cccccc"}}},footerLabel:{name:"footerLabel",cssClass:".v-footer-label",description:"Define the style of the label of the tooltip footer.",supportedValueType:"Object",supportedValues:{color:{name:"color",cssStyle:"color",description:"Define the color of the label of the tooltip footer.",supportedValueType:"String",defaultValue:"#000000"}},isExported:false},separationLine:{name:"separationLine",cssClass:".v-separationline",description:"Define the color of the value of the tooltip separation line.",supportedValueType:"Object",supportedValues:{borderBottomColor:{name:"borderBottomColor",cssStyle:"border-bottom-color",supportedValueType:"String",defaultValue:"#a7a9ac"}},isExported:false},bodyDimensionLabel:{name:"bodyDimensionLabel",cssClass:".viz-tooltip-value.v-body-dimension-label",description:"Define the color of the dimension name of the tooltip body.",supportedValueType:"Object",supportedValues:{color:{name:"color",cssStyle:"color",supportedValueType:"String",defaultValue:"#666666"}},isExported:false},bodyDimensionValue:{name:"bodyDimensionValue",cssClass:".viz-tooltip-value.v-body-dimension-value",description:"Define the color of the dimension value of the tooltip body.",supportedValueType:"Object",supportedValues:{color:{name:"color",cssStyle:"color",supportedValueType:"String",defaultValue:"#666666"}},isExported:false},bodyMeasureLabel:{name:"bodyMeasureLabel",cssClass:".viz-tooltip-value.v-body-measure-label",description:"Define the color of the measure name of the tooltip body.",supportedValueType:"Object",supportedValues:{color:{name:"color",cssStyle:"color",supportedValueType:"String",defaultValue:"#666666"}},isExported:false},bodyMeasureValue:{name:"bodyMeasureValue",cssClass:".viz-tooltip-value.v-body-measure-value",description:"Define the color of the measure value of the tooltip body.",supportedValueType:"Object",supportedValues:{color:{name:"color",cssStyle:"color",supportedValueType:"String",defaultValue:"#000000"}},isExported:false},closeButton:{name:"closeButton",cssClass:".v-closeButton",description:"Define the background and border color of tooltip close button.",supportedValueType:"Object",supportedValues:{backgroundColor:{name:"backgroundColor",cssStyle:"background-color",supportedValueType:"String",defaultValue:"#ffffff"},borderColor:{name:"borderColor",cssStyle:"border-color border-top-color border-bottom-color border-left-color border-right-color",supportedValueType:"String",defaultValue:"#cccccc"}},isExported:false}},css:{".viz-tooltip-background.v-background":{description:"Define the background color of the tooltip",value:{"background-color":"#ffffff","border-color":"#CCCCCC"}},".v-footer-label":{description:"Define the color of the label of the tooltip footer",value:{color:"#000000"}},".v-separationline":{description:"Define the color of the value of the tooltip separation line",value:{"border-bottom-color":"#a7a9ac"}},".viz-tooltip-value.v-body-dimension-label":{description:"Define the color of the dimension name of the tooltip body",value:{color:"#666666"}},".viz-tooltip-value.v-body-dimension-value":{description:"Define the color of the dimension value of the tooltip body",value:{color:"#666666"}},".viz-tooltip-value.v-body-measure-label":{description:"Define the color of the measure name of the tooltip body",value:{color:"#666666"}},".viz-tooltip-value.v-body-measure-value":{description:"Define the color of the measure value of the tooltip body",value:{color:"#000000"}},".v-closeButton":{description:"Define the background and border color of tooltip close button",value:{"background-color":"#ffffff","border-color":"#cccccc"}}},fn:i};var o={viz:[],module:[s],feeds:[]};return o});define("sap/viz/modules/threeD/Vector",[],function e(t){function a(){this.values=new Array(arguments.length);for(var e=0,t=arguments.length;e<t;e++){this.values[e]=arguments[e]}}a.prototype.dotProduct=function(e){var t=e.dimension();if(t!==this.dimension()){throw new Error("The vectors to be dot-producted must have same dimension, but the dimension of this vector is "+this.dimension+" and another one is "+t+".")}var a=0;for(var i=0;i<t;i++){a+=this.values[i]*e.values[i]}return a};a.prototype.dimension=function(e){return this.values.length};a.prototype.value=function(e,t){if(arguments.length>=2){this.values[e]=t}return this.values[e]};return a});define("sap/viz/modules/threeD/Vector4D",["sap/viz/modules/threeD/Vector"],function e(t){function a(e,a,i,r){t.apply(this,arguments)}a.prototype=Object.create(t.prototype);return a});define("sap/viz/modules/threeD/Point",["sap/viz/modules/threeD/Vector4D"],function e(t){function a(e,t,a){this.x=e;this.y=t;this.z=a}a.prototype.transform=function(e){var a=new t(this.x,this.y,this.z,1);this.x=e.row(0).dotProduct(a);this.y=e.row(1).dotProduct(a);this.z=e.row(2).dotProduct(a);return this};return a});define("sap/viz/modules/threeD/matrix",["sap/viz/modules/threeD/Vector4D"],function e(t){var a=4;var i=a*a;function r(e){return e*Math.PI/180}var s=function(){var e=new Array(i);var o={unit:function(){for(var t=0;t<i;t++){e[t]=t%(a+1)===0?1:0}return o},value:function(t,i,r){var s=t*a+i;if(arguments.length>=3){e[s]=r;return o}return e[s]},row:function(i){var r=new Array(a);var s=i*a;for(var o=0;o<a;o++){r[o]=e[s+o]}return new t(r[0],r[1],r[2],r[3])},col:function(i){var r=new Array(a);for(var s=0;s<a;s++){r[s]=e[a*s+i]}return new t(r[0],r[1],r[2],r[3])},translate:function(e,t,a){return o.transform(s().value(0,3,e||0).value(1,3,t||0).value(2,3,a||0))},scale:function(e,t,a){return o.transform(s().value(0,0,e||0).value(1,1,t||0).value(2,2,a||0))},rotateX:function(e){var t=r(e);var a=Math.sin(t);var i=Math.cos(t);return o.transform(s().value(1,1,i).value(1,2,-a).value(2,1,a).value(2,2,i))},rotateY:function(e){var t=r(e);var a=Math.sin(t);var i=Math.cos(t);return o.transform(s().value(0,0,i).value(0,2,a).value(2,0,-a).value(2,2,i))},rotateZ:function(e){var t=r(e);var a=Math.sin(t);var i=Math.cos(t);return o.transform(s().value(0,0,i).value(0,1,-a).value(1,0,a).value(1,1,i))},transform:function(t){if(t){var i=new Array(a),r=new Array(a),s;for(s=0;s<a;s++){i[s]=t.row(s);r[s]=o.col(s)}for(s=0;s<a;s++){var n=s*a;for(var l=0;l<a;l++){var u=n+l;e[u]=i[s].dotProduct(r[l])}}}return o},clone:function(){var e=s();for(var t=0;t<a;t++){for(var i=0;i<a;i++){e.value(t,i,o.value(t,i))}}return e},projection:function(){return"matrix("+o.value(0,0)+","+o.value(1,0)+","+o.value(0,1)+","+o.value(1,1)+","+o.value(0,3)+","+o.value(1,3)+")"},translatedProjection:function(){return"translate("+this.value(0,3)+","+this.value(1,3)+")"},toString:function(){var t="";for(var a=0;a<i;a++){if(a%4!==0){t+=", "}t+=e[a];if((a-3)%4===0){t+="\n"}}return t},destroy:function(){e=null}};return o.unit()};return s});define("sap/viz/format/UnitFormat",["sap/viz/format/FormatManager","sap/viz/util/Constants","sap/viz/base/utils/ObjectUtils"],function(e,t,a){var i="[CVOM#PFIX]",r="[CVOM#SFIX]",s="[CVOM#UNIT]",o=i.length;function n(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}var l={EXPO_EXTRACTOR:new RegExp("(?=e)"),KMBT:new RegExp("(.*)"+n(s)+"(.)$"),UNIT:new RegExp("(.*)[0-9]([a-zA-Z])$")},u={K:1e3,M:1e6,B:1e9,T:1e12};function d(e){var t=null,a=null;if(e){var s,n;s=e.indexOf(i);n=e.lastIndexOf(i);if(s>=0&&n>=0&&s!==n){t=e.substring(s+o,n);e=e.substring(n+o)}s=e.indexOf(r);n=e.lastIndexOf(r);if(s>=0&&n>=0&&s!==n){a=e.substring(s+o,n);e=e.substring(0,s)}}return[t,e,a]}function h(e,t){var a=Math.pow(10,Math.abs(8-t)*3);return{scale:t>8?function(e){return e/a}:function(e){return e*a},symbol:e}}var p=["y","z","a","f","p","n","μ","m","","k","M","G","T","P","E","Z","Y"].map(h);var c=d3.formatPrefix;function f(e,t){return t-(e?1+Math.floor(Math.log(e+Math.pow(10,1+Math.floor(Math.log(e)/Math.LN10)-t))/Math.LN10):1)}function m(e,t){var a=0;if(e){if(e<0){e*=-1}if(t){e=d3.round(e,f(e,t))}a=1+Math.floor(1e-12+Math.log(e)/Math.LN10);a=Math.max(-24,Math.min(24,Math.floor((a<=0?a+1:a-1)/3)*3))}return p[8+a/3]}function _(a,i,r){if(a===null||a===undefined){return null}if(!b.useLatestFormatPrefix){d3.formatPrefix=m}var s,o;var n="[CVOM#PFIX]",l="[CVOM#SFIX]";var u=11;if(i){var d=i.indexOf(n);var h=i.lastIndexOf(n);if(d>=0&&h>=0&&d!==h){s=i.substring(d+u,h);i=i.substring(h+u)}d=i.indexOf(l);h=i.lastIndexOf(l);if(d>=0&&h>=0&&d!==h){o=i.substring(d+u,h);i=i.substring(0,d)}}var p="[CVOM#UNIT]";var f,g,v,y,x,A,M,S;if(typeof i==="string"&&i.charAt(i.length-1)==="u"){if(typeof a==="number"){v=a;g="";x=d3.format("s");while(i.charAt(i.length-1)==="u"){f=x(v);if(isNaN(f.charAt(f.length-1))){g=f.substr(f.length-1,1)+g;if(r!==t.UNITFORMATTYPE.METRICUNITS&&g==="G"){g="B"}f=f.substr(0,f.length-1)}v=parseFloat(f);i=i.substring(0,i.length-1)}v=parseFloat(v.toPrecision(8));if(Math.abs(v)>=1e12||Math.abs(v)<.001&&Math.abs(v)>0){f=v.toExponential();A=f.indexOf("e");g=f.substring(A)+g;v=parseFloat(f.substring(0,A))}f=_(v,i);y=f+g}else{y=a}}else if(typeof i==="string"&&i.substring(i.length-p.length-1,i.length-1)===p){if(typeof a!=="number"){y=a}else{var z=i.charAt(i.length-1).toUpperCase();var D=true;switch(z){case"K":a/=1e3;break;case"M":a/=1e6;break;case"B":a/=1e9;break;case"T":a/=1e12;break;default:y=a;D=false;break}if(D){S=_(a,i.substring(0,i.length-p.length-1));y=S+z}}}else{M=a.toString();A=M.indexOf("e");if(typeof a==="number"&&A>=0){y=M.substring(A);S=e.format(parseFloat(M.substring(0,A)),i);y=S+y}else{y=e.format(a,i)}}y=s?s+y:y;y=o?y+o:y;if(!b.useLatestFormatPrefix){d3.formatPrefix=c}return y}function g(e,a,i){if(typeof e!=="number"){return e}var r=d3.format("s"),s=e,o="",n,u,d,h;while(a.charAt(a.length-1)==="u"){n=r(s);h=n.charAt(n.length-1);if(isNaN(h)){o=h+o;if(o==="G"&&i!==t.UNITFORMATTYPE.METRICUNITS){o="B"}n=n.substr(0,n.length-1)}s=parseFloat(n);a=a.substr(0,a.length-1)}s=parseFloat(s.toPrecision(8));u=Math.abs(s);if(u>=1e12||u<.001&&u!==0){d=s.toExponential().split(l.EXPO_EXTRACTOR);o=d[1]+o;s=parseFloat(d[0])}return _(s,a)+o}function v(e,t){var a=l.KMBT.exec(t),i=a[1],r=a[2].toUpperCase();if(typeof e==="number"&&u[r]!==undefined){return _(e/u[r],i)+r}else{return e}}function y(t,a){var i=t.toString(),r;if(typeof t==="number"){r=i.split(l.EXPO_EXTRACTOR);return e.format(parseFloat(r[0]),a)+(r[1]||"")}else{return e.format(t,a)}}var b={useLatestFormatPrefix:false};var x={format:_,register:function(e){b=a.extend(true,b,e);return x}};return x});define("sap/viz/modules/axis/valueAxisCore",["jquery","sap/viz/modules/Constants","sap/viz/util/TextUtils","sap/viz/util/NumberUtils","sap/viz/base/utils/Objects","sap/viz/modules/threeD/Point","sap/viz/modules/threeD/matrix","sap/viz/base/UADetector","sap/viz/format/UnitFormat"],function e(t,a,i,r,s,o,n,l,u){var d=function(){var e;var t=null;var o=5;var d=6;var h=7;var p=1;var c="#6c6c6c";var f="#d8d8d8";var m="#ffffff";var _="#333333";var g="viz-axis-label";var v=null;var y={title:{visible:false,text:undefined},gridline:{visible:true,color:f,showFirstLine:false,length:0,showLastLine:false,type:"line"},type:"value",visible:true,label:{visible:true,numberFormat:"",formatString:""},position:"left",color:c,axisline:{visible:true},shapeRendering:true};var b={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label",axisLine:"v-valueaxisline",gridLine:"v-gridline",incisedGridLine:"v-incised-gridline",fixedAxisLine:"v-fixed-valueaxisline",morphableLabel:a.CSS.CLASS.MORPHABLELABEL};var x=b.axisLabel+" "+g+" "+b.morphableLabel;var A=n(),M=null,S=null,z=null,D=null,E=null;var w=-1;T.spaceLimit=function(e){if(!arguments.length)return w;w=e;if(w===null){w=-1}return T};function T(a){var i=t.range();var s=t.domain();if(i[0]==0&&i[1]==0){return}var n=N();if(e=="bottom"){if(y.initializeFirstLine!==true&&E===true){y.gridline.showFirstLine=true}if(y.initializeLastLine!==true&&E===true){y.gridline.showLastLine=true}var l=0;if(y.label.visible){var u=[];for(var h=0;h<n.length;h++){u.push(n[h].text)}l=P(u)}if(w!=-1&&l+o+2*d+p/2>r.precise(w,true)){n=[];l=0}for(var h=0;h<n.length;h++){var c=a.append("line");c.each(function(){this.setAttribute("class",y.isAxisColorFixed?b.fixedAxisLine:b.axisLine);this.setAttribute("x1",t(n[h].value));this.setAttribute("x2",t(n[h].value));this.setAttribute("y1",0);this.setAttribute("y2",o+1);this.setAttribute("stroke",y.color);this.setAttribute("stroke-width",y.lineSize);this.setAttribute("shape-rendering",y.shapeRendering?"crispEdges":"auto")});if(z){var f=z*Math.PI/180;var _=Math.cos(f);var g=45===z?_:Math.sin(f);var A=D*Math.PI/180;var M=Math.cos(A);var S=Math.sin(A);var T=t(n[h].value)*g;tickStartY=-t(n[h].value)*_;var k=T+(o+1)*M,O=tickStartY+(o+1)*S;c.attr("x1",T).attr("y1",tickStartY).attr("x2",k).attr("y2",O)}var F=function(){var e=a.append("line").attr("class",b.gridLine).attr("x1",t(n[h].value)).attr("x2",t(n[h].value)).attr("y1",-y.gridline.length).attr("y2",0).attr("stroke",y.gridline.color).attr("stroke-width",y.gridline.size).attr("shape-rendering",y.shapeRendering?"crispEdges":"auto");if(y.gridline.type=="dotted"){e.attr("stroke-dasharray","3, 2")}if(y.gridline.type=="incised"){var e=a.append("line").attr("class",b.incisedGridLine).attr("x1",t(n[h].value)-1).attr("x2",t(n[h].value)-1).attr("y1",-y.gridline.length).attr("y2",0).attr("stroke",m).attr("stroke-width",y.gridline.size).attr("shape-rendering",y.shapeRendering?"crispEdges":"auto")}};if(y.gridline.visible){if(h==0&&y.gridline.showFirstLine){F()}else if(h==n.length-1&&y.gridline.showLastLine){F()}else if(h!=n.length-1&&h!=0){F()}}}if(y.label.visible){I(a,"bottom",n,l)}if(y.axisline.visible){var B=i[0];var k=i[1];var V=0;var O=0;var H=0;var U="M"+B+" "+(V+H);U+="L"+B+" "+V;U+="L"+k+" "+O;U+="L"+k+" "+(O+H);var G=a.append("path").attr("class",y.isAxisColorFixed?b.fixedAxisLine:b.axisLine).attr("d",U).attr("fill","none").attr("stroke",y.color).attr("stroke-width",y.lineSize).attr("shape-rendering",y.shapeRendering?"crispEdges":"auto");if(z){var f=z*Math.PI/180;var _=Math.cos(f);var g=45==z?_:Math.sin(f);U="M "+i[0]+" "+V;U+="L"+(i[0]+i[1]*g)+" "+(O-i[1]*_);U+="Z";G.attr("d",U)}}}else if(e=="top"){var l=0;if(y.label.visible){var u=[];for(var h=0;h<n.length;h++){u.push(n[h].text)}l=P(u)}if(w!=-1&&l+o+2*d+p/2>r.precise(w,true)){n=[];l=0}var Y=1;if(y.label.visible){Y=2}for(var h=0;h<n.length;h++){var c=a.append("line");c.each(function(){this.setAttribute("class",y.isAxisColorFixed?b.fixedAxisLine:b.axisLine);this.setAttribute("x1",t(n[h].value));this.setAttribute("x2",t(n[h].value));this.setAttribute("y1",l+Y*d);this.setAttribute("y2",l+Y*d+o);this.setAttribute("stroke",y.color);this.setAttribute("stroke-width",y.lineSize);this.setAttribute("shape-rendering",y.shapeRendering?"crispEdges":"auto")});var F=function(){var e=a.append("line").attr("class",b.gridLine).attr("x1",t(n[h].value)).attr("x2",t(n[h].value)).attr("y1",l+o+Y*d).attr("y2",l+o+Y*d+y.gridline.length).attr("stroke",y.gridline.color).attr("stroke-width",y.gridline.size).attr("shape-rendering",y.shapeRendering?"crispEdges":"auto");if(y.gridline.type=="dotted"){e.attr("stroke-dasharray","3, 2")}if(y.gridline.type=="incised"){var e=a.append("line").attr("class",b.incisedGridLine).attr("x1",t(n[h].value)-1).attr("x2",t(n[h].value)-1).attr("y1",l+o+Y*d).attr("y2",l+o+Y*d+y.gridline.length).attr("stroke",m).attr("stroke-width",y.gridline.size).attr("shape-rendering",y.shapeRendering?"crispEdges":"auto")}};if(y.gridline.visible){if(h==0&&y.gridline.showFirstLine){F()}else if(h==n.length-1&&y.gridline.showLastLine){F()}else if(h!=n.length-1&&h!=0){F()}}}if(y.label.visible){I(a,"top",n,l)}if(y.axisline.visible){var B=i[0];var k=i[1];var V=l+o+Y*d;var O=l+o+Y*d;var H=0;var U="M"+B+" "+(V-H);U+="L"+B+" "+V;U+="L"+k+" "+O;U+="L"+k+" "+(O-H);var G=a.append("path").attr("class",y.isAxisColorFixed?b.fixedAxisLine:b.axisLine).attr("d",U).attr("fill","none").attr("stroke",y.color).attr("stroke-width",y.lineSize).attr("shape-rendering",y.shapeRendering?"crispEdges":"auto")}}else if(e=="left"){if(y.initializeFirstLine!==true&&E===true){y.gridline.showFirstLine=true}if(y.initializeLastLine!==true&&E===true){y.gridline.showLastLine=true}n=L(n,e);var j=0;if(y.label.visible){var u=[];for(var h=0;h<n.length;h++){u.push(n[h].text)}j=R(u)}if(w!=-1&&j+o+2*d+p/2>r.precise(w,true)){n=[];j=0}var Y=1;if(y.label.visible){Y=2}for(var h=0;h<n.length;h++){var c=a.append("line");c.each(function(){this.setAttribute("class",y.isAxisColorFixed?b.fixedAxisLine:b.axisLine);this.setAttribute("x1",j+Y*d);this.setAttribute("x2",j+Y*d+o);this.setAttribute("y1",t(n[h].value));this.setAttribute("y2",t(n[h].value));this.setAttribute("stroke",y.color);this.setAttribute("stroke-width",y.lineSize);this.setAttribute("shape-rendering",y.shapeRendering?"crispEdges":"auto")});var F=function(){var e=a.append("line").attr("class",b.gridLine).attr("y1",t(n[h].value)).attr("y2",t(n[h].value)).attr("x1",j+Y*d+o).attr("x2",j+Y*d+o+y.gridline.length).attr("stroke",y.gridline.color).attr("stroke-width",y.gridline.size).attr("shape-rendering",y.shapeRendering?"crispEdges":"auto");if(y.gridline.type=="dotted"){e.attr("stroke-dasharray","3, 2")}if(y.gridline.type=="incised"){var e=a.append("line").attr("class",b.incisedGridLine).attr("y1",t(n[h].value)+1).attr("y2",t(n[h].value)+1).attr("x1",j+Y*d+o).attr("x2",j+Y*d+o+y.gridline.length).attr("stroke",m).attr("stroke-width",y.gridline.size).attr("shape-rendering",y.shapeRendering?"crispEdges":"auto")}};if(y.gridline.visible){if(h==0&&y.gridline.showFirstLine){F()}else if(h==n.length-1&&y.gridline.showLastLine){F()}else if(h!=n.length-1&&h!=0){F()}}if(y.label.visible){var W=a.append("g").attr("fill",v.defaultStyle.label.fill).attr("class",x).attr("font-size",v.defaultStyle.label["font-size"]).attr("font-weight",v.defaultStyle.label["font-weight"]).attr("font-family",v.defaultStyle.label["font-family"]).append("text").attr("x",j+d).attr("y",t(n[h].value)).attr("dominant-baseline","middle").attr("text-anchor","end").text(n[h].text);C(W)}}if(y.axisline.visible){var B=j+Y*d+o;var k=j+Y*d+o;var V=i[0];var O=i[1];var H=0;var U="M"+(B-H)+" "+V;U+="L"+B+" "+V;U+="L"+k+" "+O;U+="L"+(k-H)+" "+O;var G=a.append("path").attr("class",y.isAxisColorFixed?b.fixedAxisLine:b.axisLine).attr("d",U).attr("fill","none").attr("stroke",y.color).attr("stroke-width",y.lineSize).attr("shape-rendering",y.shapeRendering?"crispEdges":"auto")}}else if(e=="right"){n=L(n,e);if(y.label.visible){var u=[];for(var h=0;h<n.length;h++){u.push(n[h].text)}j=R(u)}else{n=[];j=0}if(w!=-1&&j+o+2*d+p/2>r.precise(w,true)){n=[];j=0}for(var h=0;h<n.length;h++){var c=a.append("line");c.each(function(){this.setAttribute("class",y.isAxisColorFixed?b.fixedAxisLine:b.axisLine);this.setAttribute("x1",0);this.setAttribute("x2",o);this.setAttribute("y1",t(n[h].value));this.setAttribute("y2",t(n[h].value));this.setAttribute("stroke",y.color);this.setAttribute("stroke-width",y.lineSize);this.setAttribute("shape-rendering",y.shapeRendering?"crispEdges":"auto")});var F=function(){var e=a.append("line").attr("class",b.gridLine).attr("y1",t(n[h].value)).attr("y2",t(n[h].value)).attr("x1",-y.gridline.length).attr("x2",0).attr("stroke",y.gridline.color).attr("stroke-width",y.gridline.size).attr("shape-rendering",y.shapeRendering?"crispEdges":"auto");if(y.gridline.type=="dotted"){e.attr("stroke-dasharray","3, 2")}if(y.gridline.type=="incised"){var e=a.append("line").attr("class",b.incisedGridLine).attr("y1",t(n[h].value)+1).attr("y2",t(n[h].value)+1).attr("x1",-y.gridline.length).attr("x2",0).attr("stroke",m).attr("stroke-width",y.gridline.size).attr("shape-rendering",y.shapeRendering?"crispEdges":"auto")}};if(y.gridline.visible){if(h==0&&y.gridline.showFirstLine){F()}else if(h==n.length-1&&y.gridline.showLastLine){F()}else if(h!=n.length-1&&h!=0){F()}}if(y.label.visible){var W=a.append("g").attr("fill",v.defaultStyle.label.fill).attr("class",x).attr("font-size",v.defaultStyle.label["font-size"]).attr("font-weight",v.defaultStyle.label["font-weight"]).attr("font-family",v.defaultStyle.label["font-family"]).append("text").attr("x",o+d).attr("y",t(n[h].value)).attr("dominant-baseline","middle").attr("text-anchor","start").text(n[h].text);C(W)}}if(y.axisline.visible){var B=0;var k=0;var V=i[0];var O=i[1];var H=0;var U="M"+(B+H)+" "+V;U+="L"+B+" "+V;U+="L"+k+" "+O;U+="L"+(k+H)+" "+O;var G=a.append("path").attr("class",y.isAxisColorFixed?b.fixedAxisLine:b.axisLine).attr("d",U).attr("fill","none").attr("stroke",y.color).attr("stroke-width",y.lineSize).attr("shape-rendering",y.shapeRendering?"crispEdges":"auto")}}}var C=function(e){if(l.isIE()){var t=v.realStyle.label["font-size"].toString();var a=t.indexOf("px");if(a>=0){t=t.substr(0,a)}var i=e.attr("y");e.attr("y",Number(i)+t/2);e.attr("dominant-baseline","auto")}};T.matrix=function(e){if(!arguments.length){return A}A=e;return T};T.labelAngle=function(e){if(!arguments.length){return M}M=e;return T};T.tickAngle=function(e){if(!arguments.length){return D}D=e;return T};T.otherAxisHidden=function(e){if(!arguments.length){return E}E=e;return T};T.angle=function(e){if(!arguments.length){return z}z=e;return T};T.labelAlign=function(e){if(!arguments.length){return S}S=e;return T};T.position=function(t){if(!arguments.length)return e;e=t;return T};T.style=function(e){if(arguments.length==0)return v;v=s.extend(true,v,e);return T};T.properties=function(e){if(arguments.length==0)return y;y=B(y,e);return T};T.axScale=function(e){if(!arguments.length)return t;t=e;return T};T.startPadding=function(){if(t){var a=L(N(),e);var i=0;if(a.length>0){i=F(a[0].text,v.realStyle.label)}if(i==0){return 0}if(e=="top"||e=="bottom"){return i.width/2}else{return i.height/2}}else{return 0}};T.endPadding=function(){if(t){var a=L(N(),e);var i=0;if(a.length>0){i=F(a[a.length-1].text,v.realStyle.label)}if(i==0){return 0}if(e=="top"||e=="bottom"){return i.width/2}else{return i.height/2}}else{return 0}};T.getPreferredSize=function(){var a=t.domain();var i=t.range();var r=0;var s=0;var n=[];if(!(i[0]==0&&i[1]==0)){var l=Math.abs(i[0]-i[1]);if(e=="bottom"||e=="top"){r=l+p;if(y.label.visible){var u=L(N(),e);var h=[];for(var c=0;c<u.length;c++){h.push(u[c].text)}s=P(h)+o+2*d+p/2}else{s=o+d+p/2}n.push(s)}else if(e=="left"||e=="right"){if(y.label.visible){var u=L(N(),e);var h=[];for(var c=0;c<u.length;c++){h.push(u[c].text)}if(F(h[0],v.realStyle.label).height>l){r=o+2*d}else{r=R(h)+o+2*d+p/2}}else{r=o+d+p/2}n.push(r);s=l+p}}return{width:r,height:s,spacings:n}};T.destroy=function(){z=null;S=null;M=null;x=null;A=null;y=null;v=null;m=null;b=null;m_selection=null;t=null};var L=function(e,a){if(e.length>0){if(t(e[0].value)>t(e[e.length-1].value)){e.reverse()}}var i=[];for(var s=0;s<e.length;s++){if(!r.isNoValue(e[s].value)){var o={};o.value=e[s].value;o.text=e[s].text;var n=F(o.text,v.realStyle.label);var l=t(o.value);if(a=="left"||a=="right"){o.start=l-n.height/2;o.end=l+n.height/2}else{o.start=l-n.width/2;o.end=l+n.width/2}i.push(o)}}var u=[];u=k(i);return u};var I=function(e,a,i,r){if(i.length==0){return}var s=L(i,a);for(var n=0;n<s.length;n++){if(z){var l=z*Math.PI/180;var u=Math.cos(l);var h=45===z?u:Math.sin(l);var p=D*Math.PI/180;var c=Math.cos(p);var f=Math.sin(p);var m=t(s[n].value)*h;tickStartY=-t(s[n].value)*u;var _=e.append("g").attr("fill",v.defaultStyle.label.fill).attr("class",x).attr("font-size",v.defaultStyle.label["font-size"]).attr("font-weight",v.defaultStyle.label["font-weight"]).attr("font-family",v.defaultStyle.label["font-family"]).append("text").attr("x",m+(d+o)*c).attr("y",tickStartY+(d+o)*f).attr("dominant-baseline","middle").attr("text-anchor","start").text(s[n].text);if(D>90){_.attr("text-anchor","end").attr("transform","rotate( "+(D-180)+" "+_.attr("x")+" "+_.attr("y")+")")}else{_.attr("transform","rotate( "+D+" "+_.attr("x")+" "+_.attr("y")+")")}}else{var _=e.append("g").attr("fill",v.defaultStyle.label.fill).attr("class",x).attr("font-size",v.defaultStyle.label["font-size"]).attr("font-weight",v.defaultStyle.label["font-weight"]).attr("font-family",v.defaultStyle.label["font-family"]).append("text").attr("x",t(s[n].value)).attr("y",d+o).attr("dominant-baseline","hanging").attr("text-anchor","middle").text(s[n].text);_.attr("dominant-baseline","auto");_.attr("y",r+d)}}};var k=function(e){var t=[];if(e.length>0){if(!(e[0].value>=0&&e[e.length-1].value>=0)&&!(e[0].value<=0&&e[e.length-1].value<=0)){var a=[];var i=[];for(var r=0;r<e.length;r++){if(e[r].value<=0){a.push(e[r])}if(e[r].value>=0){i.push(e[r])}}var s;var o=a.length;if(a[0].value<=a[o-1].value){s=a[0]}else{s=a[o-1]}var n;var l=i.length;if(i[0].value<=i[l-1].value){n=i[l-1]}else{n=i[0]}a=O(a);i=O(i);if(a[0].value>a[a.length-1].value){a.reverse()}if(i[0].value>i[i.length-1].value){i.reverse()}if(a[a.length-1].value==0&&i[0].value==0){a.pop()}var u=a.concat(i);if(s.value!==u[0].value){u.splice(0,0,s)}if(n.value!==u[u.length-1].value){u.push(n)}if(u[0].start>u[u.length-1].start){u.reverse()}t=O(u)}else{t=O(e)}}if(t.length<=1){t=[]}return t};var O=function(e){var t=[];for(var a=0;a<=e.length-1;a++){var i=true;for(var r=0;r<e.length-1;r+=a+1){var s=e[r];if(r!=0){var o=t[t.length-1];if(e[r].start<=o.end){if(t.length>1){i=false;break}}else{t.push(s)}}else{t.push(s)}}var n=e[e.length-1];if(t.length>0&&n.start<t[t.length-1].end){t.pop()}t.push(n);if(i){break}else{t=[]}}return t};var N=function(){var e=t.domain();var a=h;if(t.tickHint){a=t.tickHint}var i=t.ticks(a);for(var s=0;s<i.length;s++){i[s]=r.precise(i[s])}var o;var n;if(e[0]<=e[e.length-1]){o=e[0];n=e[e.length-1]}else{o=e[e.length-1];n=e[0]}if(i.length>0){if(i[0]!=o){i.unshift(o)}if(i[i.length-1]!=n){i.push(n)}}var l=[];for(var s=0;s<i.length;s++){var d={};d.value=i[s];if(y.isPercentMode){d.text=r.precise(i[s]*100).toString()}else{d.text=r.precise(i[s]).toString()}l.push(d)}if(y.label){if(!y.label.formatString&&y.label.numberFormat){for(var s=0;s<i.length;s++){var p=d3.format(y.label.numberFormat);l[s].text=p(i[s])}}else if(y.label.formatString){if(!(y.isPercentMode&&y.label.formatString.indexOf("u")>=0)){var c=y.label.formatString;for(var s=0;s<i.length;s++){l[s].text=u.format(i[s],c,y.label.unitFormatType)}}}}return l};var P=function(e){var t=y.forceVerticalFont===true?true:false;var a=0;for(var i=0;i<e.length;i++){var r=0;if(t){r=F(e[i],v.realStyle.label).width}else{r=F(e[i],v.realStyle.label).height}if(a<r){a=r}}return a};var R=function(e){var t=y.forceVerticalFont===true?true:false;var a=0;for(var i=0;i<e.length;i++){var r=0;if(t){r=F(e[i],v.realStyle.label).height}else{r=F(e[i],v.realStyle.label).width}if(a<r){a=r}}return a};var F=function(e,t){return i.superFastMeasure(e,t["font-size"],t["font-weight"],t["font-family"])};var B=function(e,t){for(var a in t){if(typeof t[a]==="object"){if(e[a]){e[a]=B(e[a],t[a])}else{e[a]=t[a]}}else{e[a]=t[a]}}return e};return T};return d});define("sap/viz/modules/axis/categoryAxisCore",["jquery","sap/viz/modules/Constants","sap/viz/util/TextUtils","sap/viz/util/NumberUtils","sap/viz/base/utils/Objects","sap/viz/lang/langManager","sap/viz/base/utils/TypeUtils","sap/viz/modules/threeD/Point","sap/viz/modules/threeD/matrix","sap/viz/format/UnitFormat","sap/viz/base/UADetector"],function e(t,a,i,r,s,o,n,l,u,d,h){var p=function(){var e;var t;var l;var p;var c=5;var f=1;var m="#d8d8d8";var _="#b3b3b3";var g="viz-axis-label";var v="#cccccc";var y="#808080";var b=6;var x=true;var A=null;var M=false;var S=null;var z=false;var D=null;var E={title:{visible:false,text:undefined},gridline:{visible:false,color:m,showFirstLine:false,length:0,showLastLine:false,type:"line"},type:"value",visible:true,label:{visible:true,formatString:"",hideStrategy:""},position:"left",color:"#333333",forceLabelArea:false,shapeRendering:true,forceVerticalFont:false};var w={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label",axisLine:"v-categoryaxisline",axisLongTick:"v-longtick",gridLine:"v-gridline",morphableLabel:a.CSS.CLASS.MORPHABLELABEL};var T=w.axisLabel+" "+g+" "+w.morphableLabel;var C=u(),L=null,I=null,k=null,O=null,N=null;var P=-1;var R=function(a){var i=[];var r=t.length>1?true:false;if(r){p=6}else{p=11}for(var s=0;s<t.length;s++){var o=t[s].domain;var l=t[s].range;if(l&&l.length&&l[0].length&&!t.noEqual){if(s===t.length-1){var u=parseFloat(D.realStyle.label["font-size"])*1.2;var d=l[0][1]-l[0][0];var h=Math.ceil(u/d);t[s].skipInterval=h>1?h:1}else{t[s].skipInterval=1}}var c=$(o,l,t[s].skipInterval,true);var f=c.isVertical;if(e==="left"||e==="right"){t[s].labelsToDraw=X(o,l,t[s].skipInterval,r,a)}else{t[s].labelsToDraw=Z(o,l,t[s].skipInterval,f,r,a)}if(s===0){i.push(t[s]);if(a>=0){break}}else if(t[s].labelsToDraw.length===t[s].domain.length){i.push(t[s])}else if(t[s].labelsToDraw.length>0&&n.isExist(t.noEqual)&&t.noEqual===true){i.push(t[s])}}if(E.label.hideSubLevels){while(i.length>1){i.pop()}}return i};var F=function(e,t,a,i,r){var s=e.append("line").attr("class",w.gridLine).attr("y1",a).attr("y2",r).attr("x1",t).attr("x2",i).attr("stroke",E.gridline.color).attr("stroke-width",E.gridline.size).attr("shape-rendering",E.shapeRendering?"crispEdges":"auto");if(E.gridline.type==="dotted"){s.attr("stroke-dasharray","3, 2")}};var B=function(e){if(arguments.length>0&&e!==undefined){return A[0].domain.length<=e/b}return true};function V(t){l=t;var a=null;if(A===null){a=R();A=a}else{a=A}var i=false;var s;var o=V.getPreferredSize();S=o;if(P>=0){var u=[];var d=o.spacings;var h=o.minTruncateSize;var f=r.precise(P);for(s=0;s<d.length;s++){if(f>=d[s]){u.push(a[s]);f-=d[s];f=r.precise(f)}else{if(s===0&&h>0&&f>=h){i=true}break}}if(u.length===0&&a.length>0&&!i){var m=[];for(s=0;s<a[0].domain.length;s++){m.push("")}u.push({domain:m,range:a[0].range})}a=u;if(i){a=R(P)}}var g;var v;if(e==="left"){for(g=a.length-2;g>=0;g--){v=a[g].labelsToDraw;var y=a[g+1].labelsToDraw;var b=y.length-1;for(s=v.length-1;s>=0;s--){var x=v[s].originalIndex;var M=false;for(;b>=0;--b){var z=y[b].originalIndex;if(a[g+1].itemIndexRange[z][1]<a[g].itemIndexRange[x][0]){continue}else if(a[g+1].itemIndexRange[z][0]>a[g].itemIndexRange[x][1]){M=false;break}M=true;break}if(M){v[s].y=y[b].y}}}}var C=a.length>1?true:false;var L,I;var N,U;var G,Y,j,W,X;var K,q,Z,Q,ae;var ie,re,se;var oe,ne,le,ue,de;var he;if(E.customizedColor){he=E.color}else{he=_}var pe=c;if(!E.label.visible){pe=0}if(e==="left"){L=S.width;for(g=a.length-1;g>=0;g--){if(!E.label.visible&&g!==a.length-1){continue}N=a[g].domain;U=a[g].range;G=ee(N,U,a[g].skipInterval);Y=i?te(a[g].labelsToDraw,false,1).maxWidth:G.maxLabelTextWidth;j=Y+2*p;if(!E.label.visible){Y=0;j=0}j=i?P:j;if(E.gridline.visible&&!E.gridline.disable&&g===a.length-1){if(E.gridline.showFirstLine){F(t,L,U[U.length-1][1],L+E.gridline.length,U[U.length-1][1])}if(E.gridline.showLastLine){F(t,L,U[0][0],L+E.gridline.length,U[0][0])}}if(a.length===1){K=L;q=L;Z=U[0][0];Q=U[U.length-1][1];if(E.axisline.visible){ae="M"+(K-pe)+" "+Z;ae+="L"+K+" "+Z;ae+="L"+q+" "+Q;ae+="L"+(q-pe)+" "+Q;ie=t.append("path");ie.each(function(){this.setAttribute("class",w.axisLine);this.setAttribute("d",ae);this.setAttribute("fill","none");this.setAttribute("stroke",E.color);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto")})}}else if(a.length>=2&&g===a.length-1){ie=t.append("line");ie.each(function(){this.setAttribute("x1",L);this.setAttribute("x2",L);this.setAttribute("y1",U[0][0]);this.setAttribute("y2",U[U.length-1][1]);this.setAttribute("class",w.axisLine+" "+"domain");this.setAttribute("stroke",E.color);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto")})}if(E.gridline.visible&&!E.gridline.disable&&g===a.length-1){for(s=0;s<N.length;s++){F(t,L,U[s][0],L+E.gridline.length,U[s][0]);if(s===N.length-1||U[s][1]!==U[s+1][0]){F(t,L,U[s][1],L+E.gridline.length,U[s][1])}}F(t,L+E.gridline.length,U[0][0],L+E.gridline.length,U[s-1][1])}for(s=0;s<N.length;s++){if((a.length===1&&E.label.visible||a.length!==1&&!E.label.visible)&&E.axisTick.visible&&B(S?S.height:undefined)){if(s>0&&U[s][0]!==U[s-1][1]){re=t.append("line");re.each(function(){this.setAttribute("class",w.axisLine);this.setAttribute("x1",j-c);this.setAttribute("x2",j);this.setAttribute("y1",U[s][0]);this.setAttribute("y2",U[s][0]);this.setAttribute("stroke",E.color);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto")})}if(s!==N.length-1){se=t.append("line");se.each(function(){this.setAttribute("class",w.axisLine);this.setAttribute("x1",j-c);this.setAttribute("x2",j);this.setAttribute("y1",U[s][1]);this.setAttribute("y2",U[s][1]);this.setAttribute("stroke",E.color);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto")})}}if(a.length>=2&&E.label.visible){ie=t.append("line");ie.each(function(){this.setAttribute("class",w.axisLine+" "+w.axisLongTick);this.setAttribute("x1",S.width);this.setAttribute("x2",L-j);this.setAttribute("y1",U[s][0]);this.setAttribute("y2",U[s][0]);this.setAttribute("stroke",he);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto");if(g===a.length-1){this.setAttribute("x1",L);this.setAttribute("x2",L-c);this.setAttribute("stroke",E.color);this.setAttribute("class",w.axisLine)}});if(s===N.length-1||U[s][1]!==U[s+1][0]){ie=t.append("line");ie.each(function(){this.setAttribute("class",w.axisLine+" "+w.axisLongTick);this.setAttribute("x1",S.width);this.setAttribute("x2",L-j);this.setAttribute("y1",U[s][1]);this.setAttribute("y2",U[s][1]);this.setAttribute("stroke",he);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto");if(g===a.length-1){this.setAttribute("x1",L);this.setAttribute("x2",L-c);this.setAttribute("stroke",E.color);this.setAttribute("class",w.axisLine)}})}}}v=a[g].labelsToDraw;for(s=v.length-1;s>=0;s--){oe=v[s].custom;if(!(oe&&oe.type==="url")){ne=n.isExist(v[s].text)?v[s].text:"";if(E.label.visible){le=t.insert("g",":first-child");var ce=1;var fe=L-j+ce;if(E.enableLabelSelection){var me=E.forceLabelArea||v[s].height>v[s].rectHeight;var _e=le.append("rect");if(v[s].originalText){_e.append("title").text(v[s].originalText)}if(me){_e.each(function(){this.setAttribute("x",L-j+Y-v[s].width+p-ce);this.setAttribute("y",v[s].y-v[s].height/2-ce);this.setAttribute("width",v[s].width+2*ce);this.setAttribute("height",v[s].height+2*ce);this.setAttribute("opacity",0);this.setAttribute("class","v-labelarea v-axis-item")})}else{_e.each(function(){this.setAttribute("x",fe);this.setAttribute("y",v[s].startY+ce);this.setAttribute("width",j-ce);this.setAttribute("height",v[s].rectHeight-ce<0?0:v[s].rectHeight-ce);this.setAttribute("opacity",0);this.setAttribute("class","v-labelarea v-axis-item")})}_e.node().labelContexts=v[s].labelContexts}ue=le.append("g");ue.each(function(){this.setAttribute("fill",D.defaultStyle.label.fill);this.setAttribute("class",T);this.setAttribute("font-size",D.defaultStyle.label["font-size"]);this.setAttribute("font-weight",D.defaultStyle.label["font-weight"]);this.setAttribute("font-family",D.defaultStyle.label["font-family"])});de=ue.append("text").text(ne);if(g===a.length-1){de.each(function(){this.setAttribute("pointer-events","none");this.setAttribute("x",L-j+Y+p);this.setAttribute("y",v[s].y);this.setAttribute("dominant-baseline","middle");this.setAttribute("text-anchor","end")})}else{de.each(function(){this.setAttribute("pointer-events","none");this.setAttribute("x",L-j+p);this.setAttribute("y",v[s].y);this.setAttribute("dominant-baseline","middle");this.setAttribute("text-anchor","start")})}H(de)}}}L-=Y+2*p}}else if(e==="right"){L=0;for(g=a.length-1;g>=0;g--){if(!E.label.visible&&g!==a.length-1){continue}N=a[g].domain;U=a[g].range;G=ee(N,U,a[g].skipInterval);Y=i?te(a[g].labelsToDraw,false,1).maxWidth:G.maxLabelTextWidth;j=Y+2*p;if(!E.label.visible){Y=0;j=0}j=i?P:j;if(E.gridline.visible&&!E.gridline.disable&&g===a.length-1){if(E.gridline.showFirstLine){F(t,L,U[U.length-1][1],L-E.gridline.length,U[U.length-1][1])}if(E.gridline.showLastLine){F(t,L,U[0][0],L-E.gridline.length,U[0][0])}}if(a.length===1){K=L;q=L;Z=U[0][0];Q=U[U.length-1][1];if(E.axisline.visible){ae="M"+(K+pe)+" "+Z;ae+="L"+K+" "+Z;ae+="L"+q+" "+Q;ae+="L"+(K+pe)+" "+Q;ie=t.append("path");ie.each(function(){this.setAttribute("class",w.axisLine);this.setAttribute("d",ae);this.setAttribute("fill","none");this.setAttribute("stroke",E.color);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto")})}}else if(a.length>=2&&g===a.length-1){ie=t.append("line");ie.each(function(){this.setAttribute("class",w.axisLine);this.setAttribute("x1",L);this.setAttribute("x2",L);this.setAttribute("y1",U[0][0]);this.setAttribute("y2",U[U.length-1][1]);this.setAttribute("stroke",E.color);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto")})}if(E.gridline.visible&&!E.gridline.disable&&g===a.length-1){for(s=0;s<N.length;s++){F(t,L+j,U[s][0],L+j+E.gridline.length,U[s][0]);if(s===N.length-1||U[s][1]!==U[s+1][0]){F(t,L+j,U[s][1],L+j+E.gridline.length,U[s][1])}}}for(s=0;s<N.length;s++){if((a.length===1&&E.label.visible||a.length!==1&&!E.label.visible)&&E.axisTick.visible&&B(S?S.height:undefined)){if(s>0&&U[s][0]!==U[s-1][1]){re=t.append("line");re.each(function(){this.setAttribute("class",w.axisLine);this.setAttribute("x1",0);this.setAttribute("x2",c);this.setAttribute("y1",U[s][0]);this.setAttribute("y2",U[s][0]);this.setAttribute("stroke",E.color);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto")})}if(s!==N.length-1){se=t.append("line");se.each(function(){this.setAttribute("class",w.axisLine);this.setAttribute("x1",0);this.setAttribute("x2",c);this.setAttribute("y1",U[s][1]);this.setAttribute("y2",U[s][1]);this.setAttribute("stroke",E.color);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto")})}}if(a.length>=2&&E.label.visible){ie=t.append("line");ie.each(function(){this.setAttribute("class",w.axisLine);this.setAttribute("x1",L);this.setAttribute("x2",L+j);this.setAttribute("y1",U[s][0]);this.setAttribute("y2",U[s][0]);this.setAttribute("stroke",E.color);this.setAttribute("stroke-width",1);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto")});if(s===N.length-1||U[s][1]!==U[s+1][0]){ie=t.append("line");ie.each(function(){this.setAttribute("class",w.axisLine);this.setAttribute("x1",L);this.setAttribute("x2",L+j);this.setAttribute("y1",U[s][1]);this.setAttribute("y2",U[s][1]);this.setAttribute("stroke",E.color);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto")})}}}v=a[g].labelsToDraw;for(s=0;s<v.length;s++){oe=v[s].custom;if(!(oe&&oe.type==="url")){ne=n.isExist(v[s].text)?v[s].text:"";if(E.label.visible){le=t;ue=le.append("g");ue.each(function(){this.setAttribute("fill",D.defaultStyle.label.fill);this.setAttribute("class",T);this.setAttribute("font-size",D.defaultStyle.label["font-size"]);this.setAttribute("font-weight",D.defaultStyle.label["font-weight"]);this.setAttribute("font-family",D.defaultStyle.label["font-family"])});de=ue.append("text").text(ne);de.each(function(){this.setAttribute("x",L+p);this.setAttribute("y",v[s].y);this.setAttribute("text-anchor","start");this.setAttribute("dominant-baseline","middle")});H(de)}}}L+=Y+2*p}}else if(e==="bottom"){I=0;for(g=a.length-1;g>=0;g--){if(!E.label.visible&&g!==a.length-1){continue}N=a[g].domain;U=a[g].range;G=$(N,U,a[g].skipInterval);W=G.isVertical;X=i?te(a[g].labelsToDraw,W,1).maxHeight:G.maxLabelTextHeight;j=X+2*p;if(!E.label.visible){X=0;j=0}j=i?P:j;if(E.gridline.visible&&!E.gridline.disable&&g===a.length-1){if(E.gridline.showFirstLine){F(t,U[0][0],I,U[0][0],I-E.gridline.length)}if(E.gridline.showLastLine){F(t,U[U.length-1][0],I,U[U.length-1][0],I-E.gridline.length)}}var ge,ve,ye;if(a.length===1){K=U[0][0];q=U[U.length-1][1];Z=I;Q=I;ae="M"+K+" "+(Z+pe);ae+="L"+K+" "+Z;ae+="L"+q+" "+Q;ae+="L"+q+" "+(Q+pe);if(E.axisline.visible){ie=t.append("path");if(k){ge=k*Math.PI/180;ve=Math.cos(ge);ye=45===k?ve:Math.sin(ge);ae="M "+U[0][0]+" "+I;ae+="L"+(U[0][0]+U[U.length-1][1]*ye)+" "+(I-U[U.length-1][1]*ve);ae+="Z"}ie.each(function(){this.setAttribute("class",w.axisLine);this.setAttribute("d",ae);this.setAttribute("fill","none");this.setAttribute("stroke",E.color);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto")})}}else if(a.length>=2&&g===a.length-1){ie=t.append("line");ie.each(function(){this.setAttribute("class",w.axisLine);this.setAttribute("x1",U[0][0]);this.setAttribute("x2",U[U.length-1][1]);this.setAttribute("y1",I);this.setAttribute("y2",I);this.setAttribute("stroke",E.color);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto")})}if(E.gridline.visible&&!E.gridline.disable&&g===a.length-1){for(s=0;s<N.length;s++){F(t,U[s][0],I+j,U[s][0],I+j+E.gridline.length);if(s===N.length-1||U[s][1]!==U[s+1][0]){F(t,U[s][1],I+j,U[s][1],I+j+E.gridline.length)}}}for(s=0;s<N.length&&X>0;s++){if((a.length===1&&E.label.visible||a.length!==1&&!E.label.visible)&&E.axisTick.visible&&B(S?S.width:undefined)){if(s>0&&U[s][0]!==U[s-1][1]){re=t.append("line");re.each(function(){this.setAttribute("class",w.axisLine);this.setAttribute("x1",U[s][0]);this.setAttribute("x2",U[s][0]);this.setAttribute("y1",0);this.setAttribute("y2",c);this.setAttribute("stroke",E.color);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto")})}if(s!==N.length-1){se=t.append("line");se.each(function(){this.setAttribute("class",w.axisLine);this.setAttribute("x1",U[s][1]);this.setAttribute("x2",U[s][1]);this.setAttribute("y1",0);this.setAttribute("y2",c);this.setAttribute("stroke",E.color);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto")});if(k){ge=k*Math.PI/180;ve=Math.cos(ge);ye=45===k?ve:Math.sin(ge);var be=O*Math.PI/180;var xe=Math.cos(be);var Ae=Math.sin(be);var Me=U[s][1]*ye;var Se=-U[s][1]*ve;q=Me+c*xe;Q=Se+c*Ae;se.attr("x1",Me).attr("y1",Se).attr("x2",q).attr("y2",Q)}}}if(a.length>=2&&E.label.visible){ie=t.append("line");ie.each(function(){this.setAttribute("class",w.axisLine+" "+w.axisLongTick);this.setAttribute("x1",U[s][0]);this.setAttribute("x2",U[s][0]);this.setAttribute("y1",0);this.setAttribute("y2",I+j);this.setAttribute("stroke",he);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto");if(g===a.length-1){this.setAttribute("y1",I);this.setAttribute("y2",I+c);this.setAttribute("stroke",E.color);this.setAttribute("class",w.axisLine)}});if(s===N.length-1||U[s][1]!==U[s+1][0]){ie=t.append("line");ie.each(function(){this.setAttribute("class",w.axisLine+" "+w.axisLongTick);this.setAttribute("x1",U[s][1]);this.setAttribute("x2",U[s][1]);this.setAttribute("y1",0);this.setAttribute("y2",I+j);this.setAttribute("stroke",he);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto");if(g===a.length-1){this.setAttribute("y1",I);this.setAttribute("y2",I+c);this.setAttribute("stroke",E.color);this.setAttribute("class",w.axisLine)}})}}}v=a[g].labelsToDraw;J(t,v,I,X,N,W,a.length!==1);I+=X+2*p}}else if(e==="top"){var ze=0;if(P>=0){I=P;ze=P}else{I=S.height;ze=S.height}for(g=a.length-1;g>=0;g--){if(!E.label.visible&&g!==a.length-1){continue}N=a[g].domain;U=a[g].range;G=$(N,U,a[g].skipInterval);W=G.isVertical;X=i?te(a[g].labelsToDraw,W,1).maxHeight:G.maxLabelTextHeight;j=X+2*p;if(!E.label.visible){X=0;j=0}j=i?P:j;if(E.gridline.visible&&!E.gridline.disable&&g===a.length-1){if(E.gridline.showFirstLine){F(t,U[0][0],I,U[0][0],I+E.gridline.length)}if(E.gridline.showLastLine){F(t,U[U.length-1][1],I,U[U.length-1][1],I+E.gridline.length)}}if(a.length===1){K=U[0][0];q=U[U.length-1][1];Z=I;Q=I;ae="M"+K+" "+(Z-pe);ae+="L"+K+" "+Z;ae+="L"+q+" "+Q;ae+="L"+q+" "+(Q-pe);ie=t.append("path");ie.each(function(){this.setAttribute("class",w.axisLine);this.setAttribute("d",ae);this.setAttribute("fill","none");this.setAttribute("stroke",E.color);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto")})}else if(a.length>=2&&g===a.length-1){ie=t.append("line");ie.each(function(){this.setAttribute("class",w.axisLine);this.setAttribute("x1",U[0][0]);this.setAttribute("x2",U[U.length-1][1]);this.setAttribute("y1",I);this.setAttribute("y2",I);this.setAttribute("stroke",E.color);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto")})}if(E.gridline.visible&&!E.gridline.disable&&g===a.length-1){for(s=0;s<N.length;s++){F(t,U[s][0],I,U[s][0],I+E.gridline.length);if(s===N.length-1||U[s][1]!==U[s+1][0]){F(t,U[s][1],I,U[s][1],I+E.gridline.length)}}F(t,U[0][0],I+E.gridline.length,U[s-1][1],I+E.gridline.length)}for(s=0;s<N.length;s++){if((a.length===1&&E.label.visible||a.length!==1&&!E.label.visible)&&E.axisTick.visible&&B(S?S.width:undefined)){if(s>0&&U[s][0]!==U[s-1][1]){re=t.append("line");re.each(function(){this.setAttribute("class",w.axisLine);this.setAttribute("x1",U[s][0]);this.setAttribute("x2",U[s][0]);this.setAttribute("y1",I);this.setAttribute("y2",I-c);this.setAttribute("stroke",E.color);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto")})}if(s!==N.length-1){se=t.append("line");se.each(function(){this.setAttribute("class",w.axisLine);this.setAttribute("x1",U[s][1]);this.setAttribute("x2",U[s][1]);this.setAttribute("y1",I);this.setAttribute("y2",I-c);this.setAttribute("stroke",E.color);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto")})}}if(a.length>=2&&E.label.visible){ie=t.append("line");ie.each(function(){this.setAttribute("class",w.axisLine+" "+w.axisLongTick);this.setAttribute("x1",U[s][0]);this.setAttribute("x2",U[s][0]);this.setAttribute("y1",ze);this.setAttribute("y2",I-j);this.setAttribute("stroke",he);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto");if(g===a.length-1){this.setAttribute("y1",I);this.setAttribute("y2",I-c);this.setAttribute("stroke",E.color);this.setAttribute("class",w.axisLine)}});if(s===N.length-1||U[s][1]!==U[s+1][0]){ie=t.append("line");ie.each(function(){this.setAttribute("class",w.axisLine+" "+w.axisLongTick);this.setAttribute("x1",U[s][1]);this.setAttribute("x2",U[s][1]);this.setAttribute("y1",ze);this.setAttribute("y2",I-j);this.setAttribute("stroke",he);this.setAttribute("stroke-width",E.lineSize);this.setAttribute("shape-rendering",E.shapeRendering?"crispEdges":"auto");if(g===a.length-1){this.setAttribute("y1",I);this.setAttribute("y2",I-c);this.setAttribute("stroke",E.color);this.setAttribute("class",w.axisLine)}})}}}v=a[g].labelsToDraw;J(t,v,I-j,X,N,W,a.length!==1);I-=X+2*p}}}V.spaceLimit=function(e){if(!arguments.length){return P}if(!M){P=e}if(P===null){P=-1}return V};var H=function(e){if(h.isIE()){var t=D.realStyle.label["font-size"].toString();var a=t.indexOf("px");if(a>=0){t=t.substr(0,a)}var i=e.attr("y");e.attr("y",Number(i)+t/2);e.attr("dominant-baseline","auto")}};var U=function(e){var t;if(e.info){var a=e.info.customlabel;if(a){if(a.type==="url"){t=e.val}else if(a.type==="string"){t=a.val}}else{t=e.val}}else{t=e.val}if(t===""){t=" "}t=ie(t)?o.get("IDS_ISNOVALUE"):t;if(!n.isNaN(E.label.formatString)){t=d.format(t,E.label.formatString,E.label.unitFormatType)}return t};var G=function(e){if(e.info&&e.info.customlabel){return e.info.customlabel}};var Y=function(e,t){var a="font-weight: "+D.realStyle.label["font-weight"]+"; font-family: "+D.realStyle.label["font-family"]+"; font-size: "+D.realStyle.label["font-size"]+";";return i.ellipsis(e,undefined,t,a)};var j=function(e,t,a,i){var r={};r.text=U(t[e]);r.custom=G(t[e]);r.labelContexts=t[e].labelContexts;if(i>=0){var s=Y(r.text,i-2*p);if(r.text!==s){if(!r.originalText){r.originalText=r.text}r.text=s}}var o=ae(r.text,D.realStyle.label);var n=a[e][0]+(a[e][1]-a[e][0])/2;r.width=o.width;r.height=o.height;r.startY=a[e][0];r.rectHeight=a[e][1]-a[e][0];r.y=n;r.y1=n-r.height/2;r.y2=n+r.height/2;r.originalIndex=e;return r};var W=function(e,t,a,i){var r=j(0,t,a,i);var s=j(t.length-1,t,a,i);if(e.length>0){if(e[e.length-1].originalIndex!==0){if(e[e.length-1].y1<=r.y2){t[e[e.length-1].originalIndex].drawLabel=false;e.splice(e.length-1,1)}e.push(s);t[t.length-1].drawLabel=true}if(e[0].originalIndex!==t.length-1){if(s.y1<=e[0].y2){t[e[0].originalIndex].drawLabel=false;e.splice(0,1)}e.splice(0,0,r);t[0].drawLabel=true}}else{if(s.y1>r.y2){e.splice(0,0,r);t[0].drawLabel=true;e.push(s);t[t.length-1].drawLabel=true}}};var X=function(e,t,a,i,r){var s=0;var o=[];var n,l;a=!a?1:a;for(n=0;n<e.length;n++){e[n].drawLabel=false}for(n=0;n<e.length;n=n+a){l=j(n,e,t,r);o.push(l);if(a>1){s+=l.height}else{s+=l.rectHeight}}var u=[],d,h;if(E.label.hideStrategy!=="greedy"){var p=o.concat();for(n=p.length-1;n>-1;--n){if(t[0]&&t.length&&(p[n].y2>t[t.length-1][1]||p[n].y1<t[0][0])){p.splice(n,1)}}for(h=0;h<=p.length-1;h++){var c=true;for(n=p.length-1;n>=0;n-=h+1){l=p[n];if(n!==p.length-1){d=n+(h+1);if(p[n].y2>=p[d].y1){c=false;break}}if(l.height>s){break}u.push(l);e[l.originalIndex].drawLabel=true}if(c){break}else{u=[]}}if(z){W(u,e,t,r)}}else{var f=function(e,t,a){if(a&&e[0]&&e.length&&(a.y2>e[e.length-1][1]||a.y1<e[0][0])){return true}else{return false}};d=null;for(n=o.length-1;n>=0;n--){l=o[n];if(d){if(l.y2<=o[d].y1&&t[n][1]!==t[n][0]){if(i){if(l.y1>t[n][0]&&l.y2<t[n][1]){if(!f(t,e,l)){u.push(l);e[l.originalIndex].drawLabel=true;d=n}}}else{if(!f(t,e,l)){u.push(l);e[l.originalIndex].drawLabel=true;d=n}}}}else{if(!f(t,e,l)){if(!i||l.y1>t[n][0]&&l.y2<t[n][1]){u.push(l);e[l.originalIndex].drawLabel=true;d=n}}}}}return u};var K=function(e,t,a,i,r){var s={};s.text=U(t[e]);s.custom=G(t[e]);s.labelContexts=t[e].labelContexts;if(i>=0){var o=Y(s.text,i-2*p);if(s.text!==o){if(!s.originalText){s.originalText=s.text}s.text=o}}var n=ae(s.text,D.realStyle.label);if(r){s.width=n.height;s.height=n.width}else{s.width=n.width;s.height=n.height}var l=a[e][0]+(a[e][1]-a[e][0])/2;s.x=l;s.x1=l-s.width/2;s.x2=l+s.width/2;s.startX=a[e][0];s.rectWidth=a[e][1]-a[e][0];s.originalIndex=e;return s};var q=function(e,t,a,i,r){var s=K(0,t,a,i,r);var o=K(t.length-1,t,a,i,r);if(e.length>0){if(e[0].originalIndex!==0){if(e[0].x1<=s.x2){t[e[0].originalIndex].drawLabel=false;e.splice(0,1)}e.splice(0,0,s);t[0].drawLabel=true}if(e[e.length-1].originalIndex!==t.length-1){if(o.x1<=e[e.length-1].x2){t[e[e.length-1].originalIndex].drawLabel=false;e.splice(e.length-1,1)}e.push(o);t[t.length-1].drawLabel=true}}else{if(o.x1>s.x2){e.splice(0,0,s);t[0].drawLabel=true;e.push(o);t[t.length-1].drawLabel=true}}};var Z=function(e,t,a,i,r,s){var o=0;var n=[];var l,u;a=!a?1:a;for(l=0;l<e.length;l++){e[l].drawLabel=false}for(l=0;l<e.length;l=l+a){u=K(l,e,t,s,i);e[l].drawLabel=false;n.push(u);if(a>1){o+=u.width}else{o+=u.rectWidth}}var d=[],h,c;if(E.label.hideStrategy!=="greedy"){var f=n.concat();for(l=f.length-1;l>-1;--l){if(t[0]&&t.length&&(f[l].x2>t[t.length-1][1]||f[l].x1<t[0][0])){f.splice(l,1)}}for(c=0;c<=f.length-1;c++){var m=true;for(l=0;l<f.length;l+=c+1){u=f[l];if(l!==0){h=l-(c+1);if(f[l].x1<=f[h].x2||t[c][1]===t[c][0]){m=false;break}}if(u.width>o){break}d.push(u);e[u.originalIndex].drawLabel=true}if(m){break}else{d=[]}}if(z){q(d,e,t,s,i)}}else{var _=function(e,t,a){if(a&&e[0]&&e.length&&(a.x2>e[e.length-1][1]||a<e[0][0])){return true}else{return false}};h=null;for(l=n.length-1;l>=0;l--){u=n[l];if(h){if(u.x2<=n[h].x1&&t[l][1]!==t[l][0]){if(r){if(u.x1>t[l][0]&&u.x2<t[l][1]){if(!_(t,e,u)){d.push(u);e[u.originalIndex].drawLabel=true;h=l}}}else{if(!_(t,e,u)){d.push(u);e[u.originalIndex].drawLabel=true;h=l}}}}else{if(!_(t,e,u)){if(!r||u.x1>t[l][0]&&u.x2<t[l][1]){d.push(u);e[u.originalIndex].drawLabel=true;h=l}}}}}if(s>=0){for(l=0;l<d.length;l++){u=d[l];var g=Y(u.text,s-2*p);if(u.text!==g){if(!u.originalText){u.originalText=u.text}u.text=g}}}return d};var J=function(t,a,i,r,s,o,l){if(a===undefined){return}for(var u=0;u<a.length;u++){var d=n.isExist(a[u].text)?a[u].text:"";var h;if(E.label.visible){if(k){var f=2;var m=k*Math.PI/180;var _=Math.cos(m);var g=45===k?_:Math.sin(m);var v=O*Math.PI/180;var y=Math.cos(v);var b=Math.sin(v);var x=a[u].x*g;var A=-a[u].x*_;var M=x+(c+p)*y;var S=A+i+(p+c)*b;var z=M-f;var w=S-a[u].width/2-f;var C=a[u].height+2*f;var L=a[u].width+2*f;if(O>90){z-=C-2*f}h=t.append("g");h.each(function(){this.setAttribute("fill",D.defaultStyle.label.fill);this.setAttribute("class",T);this.setAttribute("font-size",D.defaultStyle.label["font-size"]);this.setAttribute("font-weight",D.defaultStyle.label["font-weight"]);this.setAttribute("font-family",D.defaultStyle.label["font-family"])});if(E.enableLabelSelection){var I=h.append("rect");if(a[u].originalText){I.append("title").text(a[u].originalText)}I.each(function(){this.setAttribute("x",z);this.setAttribute("y",w);this.setAttribute("width",C);this.setAttribute("height",L);this.setAttribute("opacity",0);this.setAttribute("class","v-labelarea v-axis-item")});I.node().labelContexts=a[u].labelContexts}var N=h.append("text").text(d);N.each(function(){this.setAttribute("x",M);this.setAttribute("y",S);this.setAttribute("dominant-baseline","middle");this.setAttribute("text-anchor","start");this.setAttribute("pointer-events","none")});if(O>90){N.attr("text-anchor","end");h.attr("transform","rotate( "+(O-180)+" "+M+" "+S+")")}else{h.attr("transform","rotate( "+O+" "+M+" "+S+")")}}else{var P=t;var R=1,F,B;if(E.enableLabelSelection){if(e==="bottom"){F=E.forceLabelArea||a[u].width>a[u].rectWidth;B=P.append("rect");if(a[u].originalText){B.append("title").text(a[u].originalText)}if(F){B.each(function(){this.setAttribute("x",a[u].x-a[u].width/2-R);this.setAttribute("y",i+r/2-R-p/2);this.setAttribute("width",a[u].width+2*R);this.setAttribute("height",a[u].height+2*R);this.setAttribute("opacity",0);this.setAttribute("class","v-labelarea v-axis-item")})}else{B.each(function(){this.setAttribute("x",a[u].startX);this.setAttribute("y",i+R);this.setAttribute("width",a[u].rectWidth);this.setAttribute("height",r+2*p-R);this.setAttribute("opacity",0);this.setAttribute("class","v-labelarea v-axis-item")})}B.node().labelContexts=a[u].labelContexts}else if(e==="top"){if(a[u].labelContexts.length>0){F=E.forceLabelArea||a[u].width>a[u].rectWidth;B=P.append("rect");if(F){B.each(function(){this.setAttribute("x",a[u].x-a[u].width/2-R);this.setAttribute("y",i+r/2+p/2-R);this.setAttribute("width",a[u].width+2*R);this.setAttribute("height",a[u].height+2*R);this.setAttribute("opacity",0);this.setAttribute("class","v-labelarea v-axis-item")})}else{B.each(function(){this.setAttribute("x",a[u].startX);this.setAttribute("y",i);this.setAttribute("width",a[u].rectWidth);this.setAttribute("height",r+2*p);this.setAttribute("opacity",0);this.setAttribute("class","v-labelarea v-axis-item")})}B.node().labelContexts=a[u].labelContexts}}}h=P.append("g");h.each(function(){this.setAttribute("fill",D.defaultStyle.label.fill);this.setAttribute("class",T);this.setAttribute("font-size",D.defaultStyle.label["font-size"]);this.setAttribute("font-weight",D.defaultStyle.label["font-weight"]);this.setAttribute("font-family",D.defaultStyle.label["font-family"])});var V=h.append("text").text(d);V.each(function(){this.setAttribute("pointer-events","none");this.setAttribute("x",a[u].x);this.setAttribute("y",i+r/2+p);this.setAttribute("dominant-baseline","middle");this.setAttribute("text-anchor","middle")});if(o){if(e==="top"){V.attr("text-anchor","start").attr("y",i+r+p);if(F){B.attr("y",i+r+p-R)}}else if(e==="bottom"){V.attr("y",i+p).attr("text-anchor","end");if(F){B.attr("y",i+p-R)}}var U="-90";V.attr("transform","rotate( "+U+" "+V.attr("x")+" "+V.attr("y")+" )")}H(V)}}}};V.mouseover=function(e){e.setAttribute("opacity",1);e.setAttribute("class","v-labelarea v-axis-item v-hovershadow");e.setAttribute("fill",v)};V.mouseout=function(e){e.setAttribute("class","v-labelarea v-axis-item");e.setAttribute("opacity",0)};V.cleanLabelAreas=function(){if(l){l.selectAll(".v-labelarea").attr("class","v-labelarea v-axis-item").attr("opacity",0)}};V.mouseup=function(e){e.setAttribute("opacity",1);e.setAttribute("class","v-labelarea v-axis-item v-hovershadow");e.setAttribute("fill",v)};V.mousedown=function(e){e.setAttribute("opacity",1);e.setAttribute("class","v-labelarea v-axis-item v-hovershadow-mousedown");e.setAttribute("fill",y)};V.position=function(t){if(!arguments.length){return e}e=t;return V};V.properties=function(e){if(arguments.length===0){return E}E=s.extend(true,E,e);if(E.isKeepFirstAndLastLabel){z=true}return V};V.style=function(e){if(arguments.length===0){return D}D=s.extend(true,D,e);return V};V.axScale=function(e){if(!arguments.length){return t}t=e;A=null;return V};V.getPreferredSize=function(){var t=null;if(A===null){t=R();A=t}else{t=A}var a=0;var i=0;var s=[];var o=0;for(var n=0;n<t.length;n++){if(!E.label.visible&&n!==t.length-1){continue}var l=t[n].domain;var u=t[n].range;if(l.length===0||u.length===0){continue}if(e==="bottom"||e==="top"){a=Math.abs(u[u.length-1][1]-u[0][0])+f;var d=0;if(E.label.visible){var h;if(n===0){h=$(l,u,t[n].skipInterval,undefined,true);o=h.minTruncateSize}else{h=$(l,u,t[n].skipInterval)}d+=h.maxLabelTextHeight;d=d>0?d+2*p:d}else{d=E.lineSize/2}i+=d;s.push(d)}else if(e==="left"||e==="right"){var c=0;if(E.label.visible){var m;if(n===0){m=ee(l,u,t[n].skipInterval,true);o=m.minTruncateSize}else{m=ee(l,u,t[n].skipInterval)}c+=m.maxLabelTextWidth;c=c>0?c+2*p:c}else{c=E.lineSize/2}a+=c;s.push(c);i=Math.abs(u[u.length-1][1]-u[0][0])+f}}var _=0;if(E.label.visible&&P>=0){var g=s;var v=P;var y=0;for(n=0;n<g.length;n++){if(v>=g[n]){y+=g[n];_++;v-=g[n];v=r.precise(v)}else{break}}if(y===0&&g.length>0){if(o&&o+2*p<P){y=P}else{y+=g[0]}}if(e==="bottom"||e==="top"){i=y}else if(e==="left"||e==="right"){a=y}}if(!E.isTruncateAvailable){o=0}else if(o>0){o+=2*p}return{width:a,height:i,spacings:s,minTruncateSize:o,layerNumber:_}};V.matrix=function(e){if(!arguments.length){return C}C=e;return V};V.labelAngle=function(e){if(!arguments.length){return L}L=e;return V};V.tickAngle=function(e){if(!arguments.length){return O}O=e;return V};V.otherAxisHidden=function(e){if(!arguments.length){return N}N=e;return V};V.angle=function(e){if(!arguments.length){return k}k=e;return V};V.labelAlign=function(e){if(!arguments.length){return I}I=e;return V};V.scaleAndDrawDestroy=function(){var e=0;var a=0;if(t){for(e=0;e<t.length;e++){if(t[e].domain){for(a=0;a<t[e].domain.length;a++){t[e].domain[a].labelContexts=null;t[e].domain[a]=null}t[e].domain=null}if(t[e].range){for(a=0;a<t[e].range.length;a++){t[e].range[a]=null}t[e].range=null}if(t[e].labelsToDraw){for(a=0;a<t[e].labelsToDraw.length;a++){t[e].labelsToDraw[a].labelContexts=null;t[e].labelsToDraw[a]=null}t[e].labelsToDraw=null}t[e]=null}t=null}if(A){for(e=0;e<A.length;e++){if(A[e].domain){for(a=0;a<A[e].domain.length;a++){A[e].domain[a].labelContexts=null;A[e].domain[a]=null}A[e].domain=null}if(A[e].range){for(a=0;a<A[e].range.length;a++){A[e].range[a]=null}A[e].range=null}if(A[e].labelsToDraw){for(a=0;a<A[e].labelsToDraw.length;a++){A[e].labelsToDraw[a].labelContexts=null;A[e].labelsToDraw[a]=null}A[e].labelsToDraw=null}A[e]=null}A=null}};V.destroy=function(){var t=0;this.scaleAndDrawDestroy();if(l){l.selectAll(".v-datapoint").remove();l.remove();for(t=0;t<l.length;t++){l[t]=null}l=null}k=null;I=null;L=null;O=null;T=null;y=null;v=null;C=null;e=null;S=null;E=null;D=null;_=null;w=null;N=null};var Q=function(t,a,i,r,s){var o=[];var n=[];var l=false;var u=0;i=!i?1:i;var d=function(i){var d=0;var h=0;if(t[i].drawLabel||r){var p=U(t[i]);var c=ae(p,D.realStyle.label);d=c.height;h=c.width;var f=a[i][1]-a[i][0];if(s){var m;if(p.length>3){m=ae(p.slice(0,3).concat("..."),D.realStyle.label).width;m=m>c.width?c.width:m}else{m=c.width}u=m>u?m:u}if(d<h&&f!==0&&h>f){if(e==="top"||e==="bottom"){l=true}}}o.push(d);n.push(h)};var h;var p=-1;for(h=0;h<t.length;h=h+i){p=h;d(h)}if(z&&(p!==-1&&p!==t.length-1)){d(t.length-1)}return{heights:o,widths:n,isVerticalFont:l,minTruncateSize:u}};var $=function(e,t,a,i,r){var s={maxLabelTextHeight:0,isVertical:false};var o=0;var n=false;var l=Q(e,t,a,i,r);n=E.forceVerticalFont===true?true:l.isVerticalFont;for(var u=0;u<l.heights.length;u++){if(e[u].drawLabel||i||a>1){if(n){if(o<l.widths[u]){o=l.widths[u]}}else{if(o<l.heights[u]){o=l.heights[u]}}}}s.maxLabelTextHeight=o;s.isVertical=n;s.minTruncateSize=s.isVertical?l.minTruncateSize:-1;return s};var ee=function(e,t,a,i){var r={maxLabelTextWidth:0,isVertical:false};var s=0;var o=false;var n=Q(e,t,a,undefined,i);o=E.forceVerticalFont===true?true:n.isVerticalFont;for(var l=0;l<n.widths.length;l++){if(e[l].drawLabel||a>1){if(o){if(s<n.heights[l]){s=n.heights[l]}}else{if(s<n.widths[l]){s=n.widths[l]}}}}r.maxLabelTextWidth=s;r.isVertical=o;r.minTruncateSize=n.minTruncateSize;return r};var te=function(e,t,a){var i=0,r=0;a=!a?1:a;for(var s=0;s<e.length;s=s+a){var o=ae(e[s].text,D.realStyle.label);i=o.width>i?o.width:i;r=o.height>r?o.height:r}return{maxWidth:t?r:i,maxHeight:t?i:r}};var ae=function(e,t){return i.superFastMeasure(e,t["font-size"],t["font-weight"],t["font-family"])};var ie=function(e){if(typeof e!=="string"&&r.isNoValue(e)){return true}return false};return V};return p});define("sap/viz/modules/axis/timeValueAxisCore",["jquery","sap/viz/modules/Constants","sap/viz/util/TextUtils","sap/viz/util/NumberUtils","sap/viz/base/utils/Objects","sap/viz/modules/threeD/Point","sap/viz/modules/threeD/matrix","sap/viz/base/UADetector","sap/viz/base/utils/TypeUtils","sap/viz/lang/langManager"],function e(t,a,i,r,s,o,n,l,u,d){var h=function(){var e;var t=null;var o=5;var h=6;var p=7;var c=1;var f="#6c6c6c";var m="#d8d8d8";var _="#ffffff";var g="#333333";var v="viz-axis-label";var y=null;var b={title:{visible:false,text:undefined},gridline:{visible:true,color:m,showFirstLine:false,length:0,showLastLine:false,type:"line"},type:"value",visible:true,label:{visible:true,numberFormat:"",formatString:""},position:"left",color:f,axisline:{visible:true},shapeRendering:true};var x={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label",axisLine:"v-valueaxisline",gridLine:"v-gridline",incisedGridLine:"v-incised-gridline",fixedAxisLine:"v-fixed-valueaxisline",morphableLabel:a.CSS.CLASS.MORPHABLELABEL};var A=x.axisLabel+" "+v+" "+x.morphableLabel;var M=n(),S=null,z=null,D=null,E=null,w=null;var T=-1;C.spaceLimit=function(e){if(!arguments.length)return T;T=e;return C};function C(a){var i=t.range();var s=t.domain();if(i[0]==0&&i[1]==0){return}var n=P();if(e=="bottom"){if(b.initializeFirstLine!==true&&w===true){b.gridline.showFirstLine=true}if(b.initializeLastLine!==true&&w===true){b.gridline.showLastLine=true}var l=0;if(b.label.visible){var u=[];for(var d=0;d<n.length;d++){u.push(n[d].text)}l=R(u)}if(T!=-1&&l+o+2*h+c/2>r.precise(T,true)){n=[];l=0}for(var d=0;d<n.length;d++){var p=a.append("line");p.each(function(){this.setAttribute("class",b.isAxisColorFixed?x.fixedAxisLine:x.axisLine);this.setAttribute("x1",t(n[d].value));this.setAttribute("x2",t(n[d].value));this.setAttribute("y1",0);this.setAttribute("y2",o+1);this.setAttribute("stroke",b.color);this.setAttribute("stroke-width",b.lineSize);this.setAttribute("shape-rendering",b.shapeRendering?"crispEdges":"auto")});if(D){var f=D*Math.PI/180;var m=Math.cos(f);var g=45===D?m:Math.sin(f);var v=E*Math.PI/180;var M=Math.cos(v);var S=Math.sin(v);var z=t(n[d].value)*g;tickStartY=-t(n[d].value)*m;var C=z+(o+1)*M,O=tickStartY+(o+1)*S;p.attr("x1",z).attr("y1",tickStartY).attr("x2",C).attr("y2",O)}var N=function(){var e=a.append("line").attr("class",x.gridLine).attr("x1",t(n[d].value)).attr("x2",t(n[d].value)).attr("y1",-b.gridline.length).attr("y2",0).attr("stroke",b.gridline.color).attr("stroke-width",b.gridline.size).attr("shape-rendering",b.shapeRendering?"crispEdges":"auto");if(b.gridline.type=="dotted"){e.attr("stroke-dasharray","3, 2")}if(b.gridline.type=="incised"){var e=a.append("line").attr("class",x.incisedGridLine).attr("x1",t(n[d].value)-1).attr("x2",t(n[d].value)-1).attr("y1",-b.gridline.length).attr("y2",0).attr("stroke",_).attr("stroke-width",b.gridline.size).attr("shape-rendering",b.shapeRendering?"crispEdges":"auto")}};if(b.gridline.visible){if(d==0&&b.gridline.showFirstLine){N()}else if(d==n.length-1&&b.gridline.showLastLine){N()}else if(d!=n.length-1&&d!=0){N()}}}if(b.label.visible){k(a,"bottom",n,l)}if(b.axisline.visible){var B=i[0];var C=i[1];var V=0;var O=0;var H=0;var U="M"+B+" "+(V+H);U+="L"+B+" "+V;U+="L"+C+" "+O;U+="L"+C+" "+(O+H);var G=a.append("path").attr("class",b.isAxisColorFixed?x.fixedAxisLine:x.axisLine).attr("d",U).attr("fill","none").attr("stroke",b.color).attr("stroke-width",b.lineSize).attr("shape-rendering",b.shapeRendering?"crispEdges":"auto");if(D){var f=D*Math.PI/180;var m=Math.cos(f);var g=45==D?m:Math.sin(f);U="M "+i[0]+" "+V;U+="L"+(i[0]+i[1]*g)+" "+(O-i[1]*m);U+="Z";G.attr("d",U)}}}else if(e=="top"){var l=0;if(b.label.visible){var u=[];for(var d=0;d<n.length;d++){u.push(n[d].text)}l=R(u)}if(T!=-1&&l+o+2*h+c/2>r.precise(T,true)){n=[];l=0}var Y=1;if(b.label.visible){Y=2}for(var d=0;d<n.length;d++){var p=a.append("line");p.each(function(){this.setAttribute("class",b.isAxisColorFixed?x.fixedAxisLine:x.axisLine);this.setAttribute("x1",t(n[d].value));this.setAttribute("x2",t(n[d].value));this.setAttribute("y1",l+Y*h);this.setAttribute("y2",l+Y*h+o);this.setAttribute("stroke",b.color);this.setAttribute("stroke-width",b.lineSize);this.setAttribute("shape-rendering",b.shapeRendering?"crispEdges":"auto")});var N=function(){var e=a.append("line").attr("class",x.gridLine).attr("x1",t(n[d].value)).attr("x2",t(n[d].value)).attr("y1",l+o+Y*h).attr("y2",l+o+Y*h+b.gridline.length).attr("stroke",b.gridline.color).attr("stroke-width",b.gridline.size).attr("shape-rendering",b.shapeRendering?"crispEdges":"auto");if(b.gridline.type=="dotted"){e.attr("stroke-dasharray","3, 2")}if(b.gridline.type=="incised"){var e=a.append("line").attr("class",x.incisedGridLine).attr("x1",t(n[d].value)-1).attr("x2",t(n[d].value)-1).attr("y1",l+o+Y*h).attr("y2",l+o+Y*h+b.gridline.length).attr("stroke",_).attr("stroke-width",b.gridline.size).attr("shape-rendering",b.shapeRendering?"crispEdges":"auto")}};if(b.gridline.visible){if(d==0&&b.gridline.showFirstLine){N()}else if(d==n.length-1&&b.gridline.showLastLine){N()}else if(d!=n.length-1&&d!=0){N()}}}if(b.label.visible){k(a,"top",n,l)}if(b.axisline.visible){var B=i[0];var C=i[1];var V=l+o+Y*h;var O=l+o+Y*h;var H=0;var U="M"+B+" "+(V-H);U+="L"+B+" "+V;U+="L"+C+" "+O;U+="L"+C+" "+(O-H);var G=a.append("path").attr("class",b.isAxisColorFixed?x.fixedAxisLine:x.axisLine).attr("d",U).attr("fill","none").attr("stroke",b.color).attr("stroke-width",b.lineSize).attr("shape-rendering",b.shapeRendering?"crispEdges":"auto")}}else if(e=="left"){if(b.initializeFirstLine!==true&&w===true){b.gridline.showFirstLine=true}if(b.initializeLastLine!==true&&w===true){b.gridline.showLastLine=true}n=I(n,e);var j=0;if(b.label.visible){var u=[];for(var d=0;d<n.length;d++){u.push(n[d].text)}j=F(u)}if(T!=-1&&j+o+2*h+c/2>r.precise(T,true)){n=[];j=0}var Y=1;if(b.label.visible){Y=2}for(var d=0;d<n.length;d++){var p=a.append("line");p.each(function(){this.setAttribute("class",b.isAxisColorFixed?x.fixedAxisLine:x.axisLine);this.setAttribute("x1",j+Y*h);this.setAttribute("x2",j+Y*h+o);this.setAttribute("y1",t(n[d].value));this.setAttribute("y2",t(n[d].value));this.setAttribute("stroke",b.color);this.setAttribute("stroke-width",b.lineSize);this.setAttribute("shape-rendering",b.shapeRendering?"crispEdges":"auto")});var N=function(){var e=a.append("line").attr("class",x.gridLine).attr("y1",t(n[d].value)).attr("y2",t(n[d].value)).attr("x1",j+Y*h+o).attr("x2",j+Y*h+o+b.gridline.length).attr("stroke",b.gridline.color).attr("stroke-width",b.gridline.size).attr("shape-rendering",b.shapeRendering?"crispEdges":"auto");if(b.gridline.type=="dotted"){e.attr("stroke-dasharray","3, 2")}if(b.gridline.type=="incised"){var e=a.append("line").attr("class",x.incisedGridLine).attr("y1",t(n[d].value)+1).attr("y2",t(n[d].value)+1).attr("x1",j+Y*h+o).attr("x2",j+Y*h+o+b.gridline.length).attr("stroke",_).attr("stroke-width",b.gridline.size).attr("shape-rendering",b.shapeRendering?"crispEdges":"auto")}};if(b.gridline.visible){if(d==0&&b.gridline.showFirstLine){N()}else if(d==n.length-1&&b.gridline.showLastLine){N()}else if(d!=n.length-1&&d!=0){N()}}if(b.label.visible){var W=a.append("g").attr("fill",y.defaultStyle.label.fill).attr("class",A).attr("font-size",y.defaultStyle.label["font-size"]).attr("font-weight",y.defaultStyle.label["font-weight"]).attr("font-family",y.defaultStyle.label["font-family"]).append("text").attr("x",j+h).attr("y",t(n[d].value)).attr("dominant-baseline","middle").attr("text-anchor","end").text(n[d].text);L(W)}}if(b.axisline.visible){var B=j+Y*h+o;var C=j+Y*h+o;var V=i[0];var O=i[1];var H=0;var U="M"+(B-H)+" "+V;U+="L"+B+" "+V;U+="L"+C+" "+O;U+="L"+(C-H)+" "+O;var G=a.append("path").attr("class",b.isAxisColorFixed?x.fixedAxisLine:x.axisLine).attr("d",U).attr("fill","none").attr("stroke",b.color).attr("stroke-width",b.lineSize).attr("shape-rendering",b.shapeRendering?"crispEdges":"auto")}}else if(e=="right"){n=I(n,e);if(b.label.visible){var u=[];for(var d=0;d<n.length;d++){u.push(n[d].text)}j=F(u)}if(T!=-1&&j+o+2*h+c/2>r.precise(T,true)){n=[];j=0}for(var d=0;d<n.length;d++){var p=a.append("line");p.each(function(){this.setAttribute("class",b.isAxisColorFixed?x.fixedAxisLine:x.axisLine);this.setAttribute("x1",0);this.setAttribute("x2",o);this.setAttribute("y1",t(n[d].value));this.setAttribute("y2",t(n[d].value));this.setAttribute("stroke",b.color);this.setAttribute("stroke-width",b.lineSize);this.setAttribute("shape-rendering",b.shapeRendering?"crispEdges":"auto")});var N=function(){var e=a.append("line").attr("class",x.gridLine).attr("y1",t(n[d].value)).attr("y2",t(n[d].value)).attr("x1",-b.gridline.length).attr("x2",0).attr("stroke",b.gridline.color).attr("stroke-width",b.gridline.size).attr("shape-rendering",b.shapeRendering?"crispEdges":"auto");if(b.gridline.type=="dotted"){e.attr("stroke-dasharray","3, 2")}if(b.gridline.type=="incised"){var e=a.append("line").attr("class",x.incisedGridLine).attr("y1",t(n[d].value)+1).attr("y2",t(n[d].value)+1).attr("x1",-b.gridline.length).attr("x2",0).attr("stroke",_).attr("stroke-width",b.gridline.size).attr("shape-rendering",b.shapeRendering?"crispEdges":"auto")}};if(b.gridline.visible){if(d==0&&b.gridline.showFirstLine){N()}else if(d==n.length-1&&b.gridline.showLastLine){N()}else if(d!=n.length-1&&d!=0){N()}}if(b.label.visible){var W=a.append("g").attr("fill",y.defaultStyle.label.fill).attr("class",A).attr("font-size",y.defaultStyle.label["font-size"]).attr("font-weight",y.defaultStyle.label["font-weight"]).attr("font-family",y.defaultStyle.label["font-family"]).append("text").attr("x",o+h).attr("y",t(n[d].value)).attr("dominant-baseline","middle").attr("text-anchor","start").text(n[d].text);L(W)}}if(b.axisline.visible){var B=0;var C=0;var V=i[0];var O=i[1];var H=0;var U="M"+(B+H)+" "+V;U+="L"+B+" "+V;U+="L"+C+" "+O;U+="L"+(C+H)+" "+O;var G=a.append("path").attr("class",b.isAxisColorFixed?x.fixedAxisLine:x.axisLine).attr("d",U).attr("fill","none").attr("stroke",b.color).attr("stroke-width",b.lineSize).attr("shape-rendering",b.shapeRendering?"crispEdges":"auto")}}}var L=function(e){if(l.isIE()){var t=y.realStyle.label["font-size"].toString();var a=t.indexOf("px");if(a>=0){t=t.substr(0,a)}var i=e.attr("y");e.attr("y",Number(i)+t/2);e.attr("dominant-baseline","auto")}};C.matrix=function(e){if(!arguments.length){return M}M=e;return C};C.labelAngle=function(e){if(!arguments.length){return S}S=e;return C};C.tickAngle=function(e){if(!arguments.length){return E}E=e;return C};C.otherAxisHidden=function(e){if(!arguments.length){return w}w=e;return C};C.angle=function(e){if(!arguments.length){return D}D=e;return C};C.labelAlign=function(e){if(!arguments.length){return z}z=e;return C};C.position=function(t){if(!arguments.length)return e;e=t;return C};C.style=function(e){if(arguments.length==0)return y;y=s.extend(true,y,e);return C};C.properties=function(e){if(arguments.length==0)return b;b=V(b,e);return C};C.axScale=function(e){if(!arguments.length)return t;t=e;return C};C.startPadding=function(){if(t){var a=I(P(),e);var i=0;if(a.length>0){i=B(a[0].text,y.realStyle.label)}if(i==0){return 0}if(e=="top"||e=="bottom"){return i.width/2}else{return i.height/2}}else{return 0}};C.endPadding=function(){if(t){var a=I(P(),e);var i=0;if(a.length>0){i=B(a[a.length-1].text,y.realStyle.label)}if(i==0){return 0}if(e=="top"||e=="bottom"){return i.width/2}else{return i.height/2}}else{return 0}};C.getPreferredSize=function(){var a=t.domain();var i=t.range();var r=0;var s=0;var n=[];if(!(i[0]==0&&i[1]==0)){var l=Math.abs(i[0]-i[1]);if(e=="bottom"||e=="top"){r=l+c;if(b.label.visible){var u=I(P(),e);var d=[];for(var p=0;p<u.length;p++){d.push(u[p].text)}s=R(d)+o+2*h+c/2}else{s=o+h+c/2}n.push(s)}else if(e=="left"||e=="right"){if(b.label.visible){var u=I(P(),e);var d=[];for(var p=0;p<u.length;p++){d.push(u[p].text)}if(B(d[0],y.realStyle.label).height>l){r=o+2*h}else{r=F(d)+o+2*h+c/2}}else{r=o+h+c/2}n.push(r);s=l+c}}return{width:r,height:s,spacings:n}};C.destroy=function(){m_selection=null;t=null};var I=function(e,a){if(e.length>0){if(t(e[0].value)>t(e[e.length-1].value)){e.reverse()}}var i=[];for(var s=0;s<e.length;s++){if(!r.isNoValue(e[s].value)){var o={};o.value=e[s].value;o.text=e[s].text;var n=B(o.text,y.realStyle.label);var l=t(o.value);if(a=="left"||a=="right"){o.start=l-n.height/2;o.end=l+n.height/2}else{o.start=l-n.width/2;o.end=l+n.width/2}i.push(o)}}var u=[];u=O(i);return u};var k=function(e,a,i,r){if(i.length==0){return}var s=I(i,a);for(var n=0;n<s.length;n++){if(D){var l=D*Math.PI/180;var u=Math.cos(l);var d=45===D?u:Math.sin(l);var p=E*Math.PI/180;var c=Math.cos(p);var f=Math.sin(p);var m=t(s[n].value)*d;tickStartY=-t(s[n].value)*u;var _=e.append("g").attr("fill",y.defaultStyle.label.fill).attr("class",A).attr("font-size",y.defaultStyle.label["font-size"]).attr("font-weight",y.defaultStyle.label["font-weight"]).attr("font-family",y.defaultStyle.label["font-family"]).append("text").attr("x",m+(h+o)*c).attr("y",tickStartY+(h+o)*f).attr("dominant-baseline","middle").attr("text-anchor","start").text(s[n].text);if(E>90){_.attr("text-anchor","end").attr("transform","rotate( "+(E-180)+" "+_.attr("x")+" "+_.attr("y")+")")}else{_.attr("transform","rotate( "+E+" "+_.attr("x")+" "+_.attr("y")+")")}}else{var _=e.append("g").attr("fill",y.defaultStyle.label.fill).attr("class",A).attr("font-size",y.defaultStyle.label["font-size"]).attr("font-weight",y.defaultStyle.label["font-weight"]).attr("font-family",y.defaultStyle.label["font-family"]).append("text").attr("x",t(s[n].value)).attr("y",h+o).attr("dominant-baseline","hanging").attr("text-anchor","middle").text(s[n].text);_.attr("dominant-baseline","auto");_.attr("y",r+h)}}};var O=function(e){var t=[];if(e.length>0){t=N(e)}if(t.length<=1){t=[]}return t};var N=function(e){if(t.userTicks){return e}var a=[];for(var i=0;i<=e.length-1;i++){var r=true;for(var s=0;s<e.length-1;s+=i+1){var o=e[s];if(s!=0){var n=a[a.length-1];if(e[s].start<=n.end){if(a.length>1){r=false;break}}else{a.push(o)}}else{a.push(o)}}var l=e[e.length-1];if(l.start<a[a.length-1].end){a.pop()}a.push(l);if(r){break}else{a=[]}}return a};var P=function(){if(t.userTicks){t.userTicks.forEach(function(e){e.text=u.isExist(e.text)?e.text:d.get("IDS_ISNOVALUE")});return t.userTicks}var e=t.domain();var a=t.timeUnit;var i=t.timeUnitGap;var r=t.tickNum;var s=new Date;s.setTime(e[0]);var o=new Date;o.setTime(e[1]);var n=[];for(var l=0;l<r;l++){var h=new Date;h.setTime(s.getTime());switch(a){case 0:h.setHours(s.getHours()+l*i);break;case 1:h.setDate(s.getDate()+l*i);break;case 2:h.setMonth(s.getMonth()+l*i);break;case 3:h.setFullYear(s.getFullYear()+l*i);break;default:}n[l]=h}var p;switch(a){case 0:p=d3.time.format("%d/%m/%Y %H:%M");break;case 1:p=d3.time.format("%d/%m/%Y");break;case 2:p=d3.time.format("%m/%Y");break;case 3:p=d3.time.format("%Y");break;default:}var c=[];for(var l=0;l<n.length;l++){var f={};f.value=n[l].getTime();f.text=p(n[l]);c.push(f)}return c};var R=function(e){var t=b.forceVerticalFont===true?true:false;var a=0;for(var i=0;i<e.length;i++){var r=0;if(t){r=B(e[i],y.realStyle.label).width}else{r=B(e[i],y.realStyle.label).height}if(a<r){a=r}}return a};var F=function(e){var t=b.forceVerticalFont===true?true:false;var a=0;for(var i=0;i<e.length;i++){var r=0;if(t){r=B(e[i],y.realStyle.label).height}else{r=B(e[i],y.realStyle.label).width}if(a<r){a=r}}return a};var B=function(e,t){return i.superFastMeasure(e,t["font-size"],t["font-weight"],t["font-family"])};var V=function(e,t){for(var a in t){if(typeof t[a]==="object"){if(e[a]){e[a]=V(e[a],t[a])}else{e[a]=t[a]}}else{e[a]=t[a]}}return e};return C};return h});define("sap/viz/modules/util/IndicatorUtil",["sap/viz/modules/util/ClippathUtil"],function e(t){var a={};function i(e){this.axisType=e.axisType;this.position=e.position;this.scrollbarHandle=null;this.indicatorHandle=null;this.scrollbarHeight=e.scrollbarHeight;this.scrollbarColor=e.scrollbarColor;this.scrollbarBorderWidth=e.scrollbarBorderWidth;this.scrollbarBorderColor=e.scrollbarBorderColor;this.indicatorLineWidth=e.indicatorLineWidth;this.indicatorLineColor=e.indicatorLineColor;this.container=e.container;this.indicatorOffset=e.indicatorOffset;this.CLASS_INDICATOR_LINE=e.classIndicatorLine;this.axisWidth=e.axisWidth;this.axisHeight=e.axisHeight}a.createIndicator=function(e){if(e.indicatorType==="AxisIndicator"){return new i(e)}};i.prototype.draw=function(){var e="v-indicator-rect";if(this.container.select("."+this.CLASS_INDICATOR_LINE).node()===null){this.indicatorHandle=this.container.append("line").attr("class",this.CLASS_INDICATOR_LINE).attr("stroke",this.indicatorLineColor).attr("stroke-width",this.indicatorLineWidth);this.scrollbarHandle=this.container.append("rect").attr("class",e).attr("width",10).attr("height",this.scrollbarHeight).attr("fill",this.scrollbarColor).attr("stroke-width",this.scrollbarBorderWidth).attr("stroke",this.scrollbarBorderColor)}else{this.indicatorHandle=this.container.select("."+this.CLASS_INDICATOR_LINE);this.scrollbarHandle=this.container.select("."+e)}var a;if(this.position==="bottom"){this.indicatorHandle.attr("x1",0).attr("y1",this.indicatorOffset/2).attr("x2",this.axisWidth).attr("y2",this.indicatorOffset/2);a=t.drawClippath(this.container,this.axisWidth,this.indicatorOffset,0,0);this.scrollbarHandle.attr("x",0).attr("y",(this.indicatorOffset-this.scrollbarHeight)/2)}else{this.indicatorHandle.attr("x1",this.indicatorOffset/2).attr("y1",0).attr("x2",this.indicatorOffset/2).attr("y2",this.axisHeight).attr("stroke",this.indicatorLineColor).attr("stroke-width",this.indicatorLineWidth);a=t.drawClippath(this.container,this.scrollbarHeight,this.axisHeight,(this.indicatorOffset-this.scrollbarHeight)/2,0);this.scrollbarHandle.attr("x",(this.indicatorOffset-this.scrollbarHeight)/2).attr("y",10)}this.scrollbarHandle.attr("clip-path","url(#"+a+")")};i.prototype.update=function(e,t){var a=0;if(!this.position){return}this.container.attr("visibility","visible");if(this.position==="top"||this.position==="bottom"){a=this.axisWidth*this.axisWidth/e;var i=-(t*this.axisWidth/e);this.scrollbarHandle.attr("width",a).attr("x",i)}else{a=this.axisHeight*this.axisHeight/e;var r=-(t*this.axisHeight/e);this.scrollbarHandle.attr("height",a).attr("y",r)}};i.prototype.hide=function(e){if(e){this.container.attr("visibility","hidden")}else{if(this.position==="top"||this.position==="bottom"){if(this.axisType==="value"){var t=this.scrollbarHandle.attr("x");if(t>=this.axisWidth){this.container.transition().duration(300).attr("visibility","hidden")}}else{var a=this.scrollbarHandle.attr("width");if(a>=this.axisWidth){this.container.transition().duration(300).attr("visibility","hidden")}}}else{if(this.axisType==="value"){var i=this.scrollbarHandle.attr("y");if(i<=0){this.container.transition().duration(300).attr("visibility","hidden")}}else{var r=this.scrollbarHandle.attr("height");if(r>=this.axisHeight){this.container.transition().duration(300).attr("visibility","hidden")}}}}};i.prototype.width=function(e){if(!e){return}this.axisWidth=e};i.prototype.height=function(e){if(!e){return}this.axisHeight=e};return a});define("sap/viz/modules/axis/regularAxis",["jquery","sap/viz/util/TextUtils","sap/viz/base/utils/TypeUtils","sap/viz/util/Objects","sap/viz/base/utils/Objects","sap/viz/modules/axis/valueAxisCore","sap/viz/modules/axis/categoryAxisCore","sap/viz/modules/axis/timeValueAxisCore","sap/viz/lang/langManager","sap/viz/util/NumberUtils","sap/viz/modules/dispatch","sap/viz/format/FormatManager","sap/viz/modules/threeD/matrix","sap/viz/modules/util/BoundUtil","sap/viz/base/UADetector","sap/viz/modules/util/ClippathUtil","sap/viz/modules/util/IndicatorUtil","sap/viz/elements/common/SVG"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g,v){var y=function(e,t){var p=null;var y;var b=null;var x=6;var A="v-clippath-rect";var M=null;var S=0;var z=0;var D=true;var E=true;var w=-1;var T=null;var C="viz-axis";var L="viz-axis-body";var I="viz-axis-title";var k="viz-axis-indicator";var O=false;var N={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisHiddenTitle:"v-hidden-title",axisLabel:"v-label"};var P=11;var R={};var F={};var B=true;var V=e.props(null);var H=V.maxSizeRatio;var U=true;var G=false;var Y=new h("initialized");var j=V.color;var W=null;var X=null;var K;if(t){K=t.effectManager}var q={text:null,isCustomized:false,items:[]};var Z=null;var J={realStyle:{},defaultStyle:{}};var Q=false;var $="#a6a6a6";var ee=true;var te=8,ae={x:0,y:0},ie=null,re=2,se=1,oe=1,ne="#707070",le="#bbbbbb",ue="#bebebe";var de=function(){if(t){J.realStyle.title=s.extend(true,{},t.styleManager.query(N.axisTitle));J.realStyle.hiddenTitle=s.extend(true,{},t.styleManager.query(N.axisHiddenTitle));J.realStyle.label=s.extend(true,{},t.styleManager.query(N.axisLabel));J.defaultStyle.title=s.extend(true,{},t.styleManager.queryDefault(N.axisTitle));J.defaultStyle.hiddenTitle=s.extend(true,{},t.styleManager.query(N.axisHiddenTitle));J.defaultStyle.label=s.extend(true,{},t.styleManager.queryDefault(N.axisLabel));J.realStyle.titleString=t.styleManager.query(N.axisTitle).toString();J.realStyle.labelString=t.styleManager.query(N.axisLabel).toString();J.defaultStyle.titleString=t.styleManager.queryDefault(N.axisTitle).toString();J.defaultStyle.labelString=t.styleManager.queryDefault(N.axisLabel).toString();if(V.title.applyAxislineColor){J.realStyle.title.fill=V.color;J.defaultStyle.title.fill=V.color;J.realStyle.hiddenTitle.fill=V.color;J.defaultStyle.hiddenTitle.fill=V.color}}};var he=c(),pe=null,ce=null,fe=null,me=null;var _e=function(){if(!U){return false}else{if(!ve()&&!ge()){return false}}return true};var ge=function(){return V.title.visible&&V.visible};var ve=function(e){if(!e){if(!V.hideTitleFirst){var t=0;if(m.isMobile()&&V.indicator.enable){t=12}if(T!==null&&T-t<=0){return false}}}if(!D||!E){return false}var a=W.range();var i=W.domain();var r=null;if(V.type==="category"){r=W.rangeBand()}var s=false;if(!V.isIndependentMode){if(F){s=true}}else{if(R){s=true}}return!(!V.visible||a[0]===0&&a[a.length-1]===0&&a.length>=2||a.length===1&&a[0]===0&&i.length===1&&i[0]===0&&V.type==="value"||(!r||!s)&&a.length===1&&a[0]===0&&i.length===1&&i[0]===0&&V.type==="category")};var ye=function(){var e="";q.items=[];if(V.title.text!==undefined&&V.title.text!==null){q.isCustomized=true;e=V.title.text;q.items.push({text:e})}else{if(V.type==="value"){if(q.text){e=q.text;q.items.push({text:e})}else{q.isCustomized=false;e=u.get("IDS_ISNOVALUE");q.items.push({text:e})}}else{q.isCustomized=false;var t=[];if(V.isIndependentMode){if(R){for(var a in R){if(R.hasOwnProperty(a)){t=R[a].values;break}}}}else{if(F){t=F.values}}for(var i=0;i<t.length;i++){if(t[i].type){if(t[i].type==="MND"&&i===0){var r=u.get("IDS_DEFAULTMND")+(t.length===1?"":" - ");e+=r;q.items.push({text:r})}else if(t[i].type==="MND"&&i===t.length-1){var r=" - "+u.get("IDS_DEFAULTMND");e+=r;q.items.push({text:r})}}else{var r;if(t[i].col.val){r=t[i].col.val}else{r=u.get("IDS_ISNOVALUE")}if(i!==t.length-1&&!t[i+1].type){r+=" / "}e+=r;q.items.push({text:r})}}}}q.text=e;return e};var be=function(){if(V.type==="value"||V.type==="timeValue"){var e=W.range();return Math.abs(e[0]-e[e.length-1])}else{return Math.abs(W.rangeExtent()[0]-W.rangeExtent()[1])}};var xe;var Ae=null;var Me,Se;var ze=function(e){var t=ze.getPreferredSize();Me=S<t.width?S:t.width;Se=z<t.height?z:t.height;f.drawBound(e,Me,Se,undefined,true);ae={x:0,y:0};var a=ze.startPadding(),i=ze.endPadding();var r;if(m.isMobile()&&fe===null){var s,o,n=0;s=Math.ceil(t.width);o=Math.ceil(t.height);n=V.gridline&&V.gridline.length?V.gridline.length:0;if(V.position==="bottom"){if(V.type==="value"||V.type==="timeValue"){r=_.drawClippath(e,s+a+i,o,a===0?-1:-a,x);if(d3.select("#"+r).select("."+A).empty()===true){d3.select("#"+r).append("rect").attr("class",A).attr("x",-1).attr("y",-n).attr("width",s).attr("height",n+x)}else{d3.select("#"+r).select("."+A).attr("x",-1).attr("y",-n).attr("width",s).attr("height",n+x)}}else{r=_.drawClippath(e,s+a+i,o+n,a===0?-1:-a,-n)}}else if(V.position==="top"){r=_.drawClippath(e,s+a+i,o+n,a===0?-1:-a,0)}else if(V.position==="left"){if(V.type==="value"){r=_.drawClippath(e,s-x,o+a+i,0,a===0?-1:-a);if(d3.select("#"+r).select("."+A).empty()===true){d3.select("#"+r).append("rect").attr("class",A).attr("x",s-x).attr("y",-1).attr("width",n+x).attr("height",o+1)}else{d3.select("#"+r).select("."+A).attr("x",s-x).attr("y",-1).attr("width",n+x).attr("height",o+1)}}else{r=_.drawClippath(e,s+n,o+a+i,0,a===0?-1:-a)}}else if(V.position==="right"){r=_.drawClippath(e,s,o+a+i,0,a===0?-1:-a)}e.attr("clip-path","url(#"+r+")")}M=e;if(V.indicator.enable&&m.isMobile()&&!Ae){Ae=M.append("g").attr("class",k)}else if(!V.indicator.enable&&Ae){Ae.remove()}we(M);if(y){ie=y.getPreferredSize()}else if(m.isMobile()&&r){d3.select("#"+r).select("."+A).remove()}if(V.indicator.enable&&m.isMobile()){if(!xe){xe=g.createIndicator({indicatorType:"AxisIndicator",container:Ae,axisType:V.type,position:V.position,axisWidth:t.width,axisHeight:t.height,indicatorOffset:te,scrollbarHeight:re,scrollbarBorderWidth:oe,scrollbarBorderColor:ne,scrollbarColor:le,indicatorLineColor:ue,indicatorLineWidth:se,classIndicatorLine:"v-indicator-line"})}else{xe.width(t.width);xe.height(t.height)}xe.draw();xe.update(be(),0);if(y){De(ie,t)}xe.hide(true)}B=true;return ze};function De(e,t){if(V.position==="bottom"){if(!V.title.visible){M.select("."+k).attr("transform","translate(0, "+(t.height-te)+")")}else if(ve()){M.select("."+k).attr("transform","translate(0, "+(e.height+te)+")")}else{M.select("."+k).attr("transform","translate(0, "+te+")")}}else if(V.position==="left"){var a=re+oe*2;if(ge()&&B){M.select("."+L).attr("transform","translate("+(X+P+a+te)+", 0)");M.select("."+k).attr("transform","translate("+(X+P)+", 0)")}else{M.select("."+L).attr("transform","translate("+(a+te)+", 0)");M.select("."+k).attr("transform","translate(0, 0)")}}}function Ee(e){return{x:e.substring(e.indexOf("(")+1,e.indexOf(",")),y:e.substring(e.indexOf(",")+1,e.indexOf(")"))}}ze.stretchFromPlot=function(e){var t=transform=null;if(e.offset){transform=e.offset}else{if(V.position==="top"||V.position==="bottom"){t=e.xTransform}else{t=e.yTransform}if(t){transform=Ee(t)}}if(transform){var a=M.select("."+L).node();if(!a){return}var i=v.getTransformToElement(a,a.parentNode);if(V.position==="top"||V.position==="bottom"){ae={x:transform.x,y:i.f};M.select("."+L).attr("transform","translate("+transform.x+", "+i.f+")");if(xe){xe.update(be(),transform.x)}}else if(V.position==="left"||V.position==="right"){ae={x:i.e,y:transform.y};M.select("."+L).attr("transform","translate("+i.e+", "+transform.y+")");if(xe){xe.update(be(),transform.y)}}}if(V.type==="value"||V.type==="timeValue"){var r,s,o,n,l,u,d,h;o=M.selectAll(".v-valueaxisline");h=7;if(o.empty()){o=M.selectAll(".v-fixed-valueaxisline")}r=M.select(".v-body");if(!o.empty()&&!r.empty()){l=r.node();n=v.getTransformToElement(l,l.parentNode);if(V.position==="bottom"){if(n){u=-n.e;d=0}s=_.drawClippath(r,Me,h,u,d)}else if(V.position==="top"){if(n){u=-n.e;d=ie.height-h}s=_.drawClippath(r,Me,h,u,d)}else if(V.position==="left"){if(n){u=ie.width-h;d=-n.f}s=_.drawClippath(r,h,Se,u,d)}else if(V.position==="right"){if(n){u=0;d=-n.f}s=_.drawClippath(r,h,Se,u,d)}o.attr("clip-path","url(#"+s+")")}}};var we=function(e){var t=e.select("."+C);var i=W.range();var r=W.domain();if(!_e()){t.remove()}else{var s=ze.getPreferredSize().spacings;var o=s[0];var n=0;for(var l=1;l<s.length;l++){n+=s[l]}if(!V.hideTitleFirst){B=true;if(o===0){B=false}else{if(w>=0&&w<o){B=false}}}else{if(w>=0&&w<d.preciseSimple(o+n)||o===0){B=false}}Ue();var u;var h;var p=He();u=p.core;h=p.coreScale;var c=w;if(!V.hideTitleFirst){c=T}else{if(B){c-=o}}y=u().properties(V).style(J).position(V.position).axScale(h).spaceLimit(c).matrix(he).labelAngle(pe).labelAlign(ce).angle(fe).tickAngle(me).otherAxisHidden(G);if(m.isMobile()&&V.indicator.enable){var f=12;if(!V.hideTitleFirst){y.spaceLimit(T-f)}else{y.spaceLimit(w-f)}}var _;if(t.empty()){t=e.append("g").attr("class",C+" "+N.axis);_=t.append("g").attr("class",L+" "+N.axisBody)}else{var g=t.select("."+L).remove();_=t.append("g").attr("class",L+" "+N.axisBody);_=t.select("."+L)}if(ve()){_.call(y)}var v=q.text;var b=P;t.select("."+I).remove();if(ge()){if(V.title.visible&&B){var x;var A=null;if(m.isMobile()&&Q){A=ie}else{A=ie=y.getPreferredSize()}var M=t.append("g").attr("class",I+" "+N.axisTitle).attr("text-anchor","middle").attr("fill",J.defaultStyle.title.fill).attr("font-size",J.defaultStyle.title["font-size"]).attr("font-weight",J.defaultStyle.title["font-weight"]).attr("font-family",J.defaultStyle.title["font-family"]).attr("text-rendering","geometricPrecision").append("text");Z=M;var S="auto";if(V.position==="bottom"){if(!ve()){A.height=0}var z=0;if(m.isMobile()&&V.indicator.enable){z=te+re+oe*2}S="hanging";M.attr("x",A.width/2).attr("y",A.height+b+z).attr("dominant-baseline",S);if(m.isIE()){S="auto";var D=J.realStyle.title["font-size"].toString();var E=D.indexOf("px");if(E>=0){D=D.substr(0,E)}M.attr("y",Number(M.attr("y"))+D/2);M.attr("dominant-baseline",S)}x=a.ellipsis(v,M.node(),A.width,J.realStyle.titleString);if(fe){var k=fe*Math.PI/180;var O=Math.cos(k);var R=45===fe?O:Math.sin(k);var F=me*Math.PI/180;var H=Math.cos(F);var U=Math.sin(F);var j=fe-90;if(j>90){j-=180}else if(j<-90)j+=180;var K=Ie(v,J.realStyle.title);var $=A.width/2*R;var ee=-A.width/2*O;$+=(A.height+b)*H;ee+=(A.height+b)*U;var ae;ae="rotate( "+j+" "+$+" "+ee+")";if(m.isIE()){var D=J.realStyle.title["font-size"].toString();var E=D.indexOf("px");if(E>=0){D=D.substr(0,E)}ae+="translate(0  "+D+")"}M.attr("x",$).attr("y",ee).attr("transform",ae)}}else if(V.position==="top"){if(!ve()){A.height=0}titleHieght=Ie(v,J.realStyle.title).height;var se=v!==undefined&&v!==null&&v!==""?titleHieght+b:0;_.attr("transform","translate(0, "+se+")");S="auto";M.attr("x",A.width/2).attr("y",titleHieght).attr("dx","0").attr("dy","0").attr("dominant-baseline",S);x=a.ellipsis(v,M.node(),A.width,J.realStyle.titleString)}else if(V.position==="left"){if(!ve()){A.width=0}X=titleWidth=Ie(v,J.realStyle.title).height;var se=v!==undefined&&v!==null&&v!==""?titleWidth+b:0;z=0;if(m.isMobile()&&V.indicator.enable){z=te+re+oe*2}_.attr("transform","translate("+(se+z)+", "+0+")");var ne=titleWidth;var le=A.height/2;var ue="-90";S="auto";M.attr("transform","rotate( "+ue+" "+ne+" "+le+" )").attr("x",ne).attr("y",le).attr("dominant-baseline",S);x=a.ellipsis(v,M.node(),A.height,J.realStyle.titleString)}else{if(!ve()){A.width=0}titleWidth=Ie(v,J.realStyle.title).height;ne=A.width+titleWidth/2+b;le=A.height/2;var ue="-90";S="hanging";M.attr("transform","rotate( "+ue+" "+ne+" "+le+" )").attr("x",ne).attr("y",le-titleWidth/2).attr("dominant-baseline",S);if(m.isIE()){var D=J.realStyle.title["font-size"].toString();var E=D.indexOf("px");if(E>=0){D=D.substr(0,E)}S="auto";le=Number(A.height/2)+D/2;M.attr("y",le);M.attr("dominant-baseline",S)}x=a.ellipsis(v,M.node(),A.height,J.realStyle.titleString)}if(!fe){M.text("");if(x!==v&&M.select("title").empty()){M.append("title").text(v)}var de;for(de=0;de<q.items.length;de++){var ye=M.append("tspan");ye.attr("class",N.axisTitle);ye.attr("dominant-baseline",S);if(q.items[de].isHidden&&!q.isCustomized){ye.attr("class",N.axisTitle+" "+N.axisHiddenTitle);ye.attr("fill",J.defaultStyle.hiddenTitle.fill)}if(x.length>q.items[de].text.length){ye.text(q.items[de].text);x=x.substring(q.items[de].text.length)}else{ye.text(x);break}}}}}}Y.initialized()};ze.redraw=function(e){Q=true;we(M);if(V.indicator.enable&&y){var t=y.getPreferredSize();var a=ze.getPreferredSize();De(t,a)}Q=false;B=true};ze.stretchEnd=function(e){if(xe){xe.hide(true)}};ze.hideIndicator=function(e){if(xe){xe.hide(true)}};ze.showIndicator=function(e){if(xe){if(V.position==="bottom"){xe.update(be(),ae.x)}else if(V.position==="left"){xe.update(be(),ae.y)}}};ze.matrix=function(e){if(!arguments.length){return he}he=e;return ze};ze.labelAngle=function(e){if(!arguments.length){return pe}pe=Te(e,360);return ze};ze.tickAngle=function(e){if(!arguments.length){return me}me=Te(e,360);return ze};ze.angle=function(e){if(!arguments.length){return fe}fe=Te(e,360);return ze};function Te(e,t){var a=e%t;if(0>a)a+=t;return a}ze.labelAlign=function(e){if(!arguments.length){return ce}ce=e;return ze};ze.parent=function(e){if(!arguments.length)return M;M=e;return ze};ze.width=function(e){if(arguments.length==0){return S}else{S=e;if(V.position=="bottom"||V.position=="top"){if(z){w=z}}else if(V.position=="left"||V.position=="right"){if(S){w=S}}return ze}};ze.height=function(e){if(arguments.length==0)return z;z=e;if(V.position=="bottom"||V.position=="top"){if(z){w=z}}else if(V.position=="left"||V.position=="right"){if(S){w=S}}return ze};ze.gridlineLength=function(e){if(arguments.length==0)return V.gridline.length;V.gridline.length=e;return ze};ze.startPadding=function(){var e=0;var t;if(V.type=="value"){t=o()}else if(V.type=="timeValue"){t=l()}if(t){e=t.properties(V).style(J).position(V.position).axScale(W).startPadding()}return e};ze.endPadding=function(){var e=0;var t;if(V.type=="value"){t=o()}else if(V.type=="timeValue"){t=l()}if(t){e=t.properties(V).style(J).position(V.position).axScale(W).endPadding()}return e};ze.mouseover=function(e){if(V.enableLabelSelection&&V.type!=="value"){y.mouseover(e)}};ze.mouseout=function(e){if(V.enableLabelSelection&&V.type!=="value"){y.mouseout(e)}};ze.cleanLabelAreas=function(){if(V.enableLabelSelection&&V.type!=="value"&&y&&y.cleanLabelAreas){y.cleanLabelAreas()}};ze.mouseup=function(e){if(V.enableLabelSelection&&V.type!=="value"){y.mouseup(e)}};ze.mousedown=function(e){if(V.enableLabelSelection&&V.type!=="value"){y.mousedown(e)}};ze.size=function(e){if(arguments.length==0)return{width:S,height:z};S=e.width;z=e.height;return ze};ze.independentData=function(e){if(V.isIndependentMode){if(arguments.length==0)return R;R=e}},ze.data=function(e){if(arguments.length==0)return R;if(!V.isIndependentMode){R=e;if(e.getAnalysisAxisDataByIdx){F=R.getAnalysisAxisDataByIdx(0)}}return ze};ze.title=function(e){if(arguments.length==0)return q.text;q.text=e;return ze};ze.properties=function(e){if(arguments.length==0){return V}var t=false,a=false;if(e.scale&&e.scale.fixedRange){t=isNaN(Number(e.scale.minValue));a=isNaN(Number(e.scale.maxValue))}s.extend(true,V,e);if(t){V.scale.minValue=NaN}if(a){V.scale.maxValue=NaN}if(e.color){V.customizedColor=e.color}if(e.gridline!==undefined){if(e.gridline.showFirstLine!==undefined){V.initializeFirstLine=true}if(e.gridline.showLastLine!==undefined){V.initializeLastLine=true}}if(e.label&&e.label.formatString&&i.isArray(e.label.formatString)){if(i.isArray(e.label.formatString[0])){V.label.formatString=e.label.formatString[0][0]}}V.maxSizeRatio=parseFloat(V.maxSizeRatio);if(isNaN(V.maxSizeRatio)||V.maxSizeRatio<0||V.maxSizeRatio>1){V.maxSizeRatio=H}if(V.hideTitleFirst===undefined){V.hideTitleFirst=true}if(V.hideTitleFirst){P=11}else{P=15}ee=true;return ze};ze.range=function(){var e=null,t=Number(V.scale.maxValue),a=Number(V.scale.minValue);if(V.type==="value"&&V.scale.fixedRange){if((isNaN(t)||isNaN(a)||t>a)&&ee){e={max:t,min:a,from:"axis"}}else{ee=false}}else if(V.type==="timeValue"&&V.scale.fixedTicks){if(Array.isArray(V.scale.fixedTicks)&&V.scale.fixedTicks.length>0){var r=V.scale.fixedTicks.slice(0);r=r.filter(function(e){return i.isNumber(e.value)});r.sort(function(e,t){return e.value-t.value});if(r.length<2){return null}e={max:r[r.length-1].value,min:r[0].value,ticks:r,from:"axis"}}}return e};ze.scale=function(e){if(arguments.length==0)return W;W=e;if(V.type==="value"){var t=W.domain();V.scale.maxValue=Math.max(t[0],t[1]);V.scale.minValue=Math.min(t[0],t[1])}return ze};ze.isDrawBody=function(e){if(arguments.length==0)return D;D=e;return ze};ze.setDisableGrayTitle=function(e){O=e};ze.color=function(e){if(arguments.length==0)return V.color;if(e!==undefined){V.isAxisColorFixed=true}if(V.customizedColor){e=V.customizedColor}if(!e){e=j}V=s.extend(true,V,{color:e});if(V.title.applyAxislineColor&&e){q.isCustomized=true;if(!J.realStyle.title){J.realStyle.title={}}if(!J.defaultStyle.title){J.defaultStyle.title={}}J.realStyle.title.fill=e;J.defaultStyle.title.fill=e}return ze};ze.drawable=function(e){if(arguments.length==0)return U;U=e;return ze};ze.otherAxisHidden=function(e){if(arguments.length==0)return G;G=e;return ze};var Ce=function(e,t){var a;for(a=0;a<e.length;a++){if(a>=t){e[a].isHidden=true}else{e[a].isHidden=false}}};ze.getPreferredSize=function(){T=null;E=true;de();var e=[0];var t=[0];if(W){e=W.range();t=W.domain()}if(!W||!_e()){return{width:0,height:0,manual:false}}else{var a=He();if(w>=0){T=w}var i=a.core().properties(V).style(J).position(V.position).axScale(a.coreScale);if(V.type=="category"){if(b&&typeof b.scaleAndDrawDestroy==="function"){b.scaleAndDrawDestroy()}b=i}var s=ye();var o;var n=0;var l=0;var u=0;var h=0;if(V.position=="bottom"||V.position=="top"){if(V.title.visible&&V.visible){if(s!==undefined&&s!==null&&s!==""){n=Ie(s,J.realStyle.title).height}else{n=0}u=n==0?0:P}h=n+u}else if(V.position=="left"||V.position=="right"){if(V.title.visible&&V.visible){if(s!==undefined&&s!==null&&s!==""){l=Ie(s,J.realStyle.title).height}else{l=0}u=l==0?0:P}h=l+u}if(!V.hideTitleFirst){if(w>=0){T-=h;T=d.precise(T)}i.spaceLimit(T)}else{i.spaceLimit(w)}if(m.isMobile()&&V.indicator.enable){var p=12;if(!V.hideTitleFirst){i.spaceLimit(T-p)}else{i.spaceLimit(w-p)}}var c=[];var f=i.getPreferredSize();var _=0;if(f.layerNumber){_=f.layerNumber}else if(ve()){if(!V.label.visible){_=0}else{_=1}}if(!O){Ce(q.items,_)}if(V.position=="bottom"||V.position=="top"){if(!ve(true)){f.height=0;f.spacings=[]}c=c.concat([h]);var g=te+re+oe*2;if(V.position=="bottom"&&m.isMobile()&&V.indicator.enable){c=c.concat([g])}else{c=c.concat([0])}c=c.concat(f.spacings);var v=0;for(var y=1;y<c.length;y++){v+=c[y]}if(V.indicator.enable&&m.isMobile()&&w===g){E=false}else{E=true}var x=h+v;var A=x;if(w>=0&&w<x){A=f.height}o={maxSizeConstant:V.maxSizeRatio,width:f.width,height:x,realHeight:A,spacings:c,manual:false,minTruncateSize:f.minTruncateSize}}else if(V.position=="left"||V.position=="right"){if(!ve(true)){f.width=0;f.spacings=[]}c=c.concat([h]);var g=te+re+oe*2;if(V.position=="left"&&m.isMobile()&&V.indicator.enable){c=c.concat([g])}else{c=c.concat([0])}c=c.concat(f.spacings);var v=0;for(var y=1;y<c.length;y++){v+=c[y]}if(V.indicator.enable&&m.isMobile()&&w===g){E=false}else{E=true}var M=v+h;var S=M;if(w>=0&&w<M){S=f.width}o={maxSizeConstant:V.maxSizeRatio,width:M,realWidth:S,height:f.height,spacings:c,manual:false,minTruncateSize:f.minTruncateSize}}if(V.type=="category"&&V.layoutInfo.width>0&&V.layoutInfo.height>0){o.width=V.layoutInfo.width;o.realWidth=V.layoutInfo.width;o.height=V.layoutInfo.height;o.realHeight=V.layoutInfo.height;o.manual=true}r.normalizeNumbersCeil(o);return o}};ze.dispatch=function(e){if(!arguments.length)return Y;Y=e;return ze};ze.getPropertyZone=function(){var e=[],t,a,i,r,s,o,n;if(V.position==="left"){t="yAxis"}else if(V.position==="right"){t="yAxis2"}else if(V.position==="top"){t="xAxis2"}else if(V.position==="bottom"){t="xAxis"}if(fe){n=true}else{n=false}if(ge()&&Z){a=Z.node().getBoundingClientRect();if(a.width>1.5&&a.height>1.5){r=[[]];r[0].push([a.left,a.top]);r[0].push([a.right,a.top]);r[0].push([a.right,a.bottom]);r[0].push([a.left,a.bottom]);e.push({name:t+" title",bound:r})}}if(ve()&&M){if(n){o=M.node().getBoundingClientRect()}else{o=M.select(".v-bound").node().getBoundingClientRect()}if(o.width>1.5&&o.height>1.5){i={left:o.left,right:o.right,top:o.top,bottom:o.bottom};if(e.length>0&&!n){i=Le(i,e[0].bound,V.position)}s=[[]];s[0].push([i.left,i.top]);s[0].push([i.right,i.top]);s[0].push([i.right,i.bottom]);s[0].push([i.left,i.bottom]);e.push({name:t,bound:s})}}return e};function Le(e,t,a){var i={left:e.left,right:e.right,top:e.top,bottom:e.bottom};if(a==="left"){i.left=t[0][1][0]+1}else if(a==="right"){i.right=t[0][0][0]-1}else if(a==="top"){i.top=t[0][3][1]+1}else if(a==="bottom"){i.bottom=t[0][0][1]-1}return i}ze.destroy=function(){var e=0;if(b&&typeof b.scaleAndDrawDestroy==="function"){b.scaleAndDrawDestroy()}b=null;if(t){t.destroy();t=null}if(y&&y.destroy){y.destroy()}if(he&&he.destroy){he.destroy()}y=null;he=null;F=null;R=null;if(W){W.domain([0,1]).range([0,1]);W=null}if(M){M.selectAll(".v-datapoint").remove();M.remove();for(e=0;e<M.length;e++){M[e]=null}M=null}xe=null;fe=null;ce=null;pe=null;me=null;A=null;Y=null;ue=null;ne=null;le=null;L=null;C=null;k=null;I=null;j=null;K=null;V=null;J=null;q=null;N=null;ie=null;ae=null};var Ie=function(e,t){return a.superFastMeasure(e,t["font-size"],t["font-weight"],t["font-family"])};function ke(e){if(e[0].type==="MND"||e[e.length-1].type==="MND"){return true}else{return false}}function Oe(e){if(e.length===1&&e[0].type==="MND"){return true}else{return false}}function Ne(e){if(e[0].type==="MND"){return true}else{return false}}function Pe(e){if(!ke(e)){return}if(Ne(e)){return e[0]}else{return e[e.length-1]}}function Re(e){if(!ke(e)||Oe(e)){return e}var t=[];var a,i,r;for(a=0;a<e.length;++a){t.push({col:e[a].col,rows:[]})}var o=Pe(e);var n=o.rows.length;var l;if(Ne(e)){l=e[1].rows.length;for(a=0;a<n;++a){for(i=0;i<l;++i){t[0].rows.push(e[0].rows[a])}}for(a=1;a<e.length;++a){for(i=0;i<n;++i){for(r=0;r<e[a].rows.length;r++){var u=s.extend(true,{},e[a].rows[r]);t[a].rows.push(u)}}}for(a=1;a<t.length;++a){for(i=0;i<t[a].rows.length;++i){var d=t[0].rows[i].ctx;var h=t[a].rows[i].ctx;h=s.extend(true,h,d);t[a].rows[i].ctx=h}}}else{l=e[0].rows.length;for(a=0;a<l;++a){var p;var c=e[e.length-1].rows.length;for(p=0;p<c;p++){t[t.length-1].rows.push(s.extend(true,{},e[e.length-1].rows[p]));if(e.length>=2){var d=e[e.length-2].rows[a].ctx;var h=s.extend(true,{},e[e.length-1].rows[p].ctx);h=s.extend(true,h,d);t[t.length-1].rows[a*c+p].ctx=h}}}for(a=0;a<e.length-1;++a){for(i=0;i<l;++i){for(r=0;r<n;++r){t[a].rows.push(e[a].rows[i])}}}}return t}function Fe(e){var t,a;var i=[];var r,s,o;var n,l;for(t=0;t<e.length;++t){r=[];o=0;l=0;n=0;var u=[];for(a=0;a<e[t].rows.length;++a){s={};if(t===e.length-1){s.value=e[t].rows[a];s.space=1}else{++o;++l;if(t>0&&l>=i[t-1][n].space){s.value=e[t].rows[a];s.space=o;o=0;l=0;++n}else{if(a+1<e[t].rows.length&&e[t].rows[a].val===e[t].rows[a+1].val){if(e[t].rows[a].ctx){u.push(e[t].rows[a].ctx)}if(e[t].rows[a].contexts){u=u.concat(e[t].rows[a].contexts)}continue}else{s.value=e[t].rows[a];s.space=o;o=0}}}if(e[t].rows[a].ctx){u.push(e[t].rows[a].ctx)}if(e[t].rows[a].contexts){u=u.concat(e[t].rows[a].contexts)}s.value.labelContexts=u;r.push(s);u=[]}i.push(r)}return i}function Be(e){var t=Re(e);var a=Fe(t);return a}function Ve(e){for(var t=0;t<e.length;++t){e[t].reverse()}}var He=function(){var e={};var t;var a;if(V.type=="category"){a=[];var i=[];if(V.isIndependentMode){for(dataObj in R){i=R[dataObj].values}}else{if(F){i=F.values}}var r=[];if(i&&i.length){r=Be(i)}var s=W.range();if(s[0]>s[s.length-1]){Ve(r)}var u=r.length===0?0:r[r.length-1].length;var d=W.rangeBand(),h=[];var p=false;if(i&&i.length>0&&i[0].rows.length===0){p=true;u=1;var c={value:{},space:1};var f=[];if(F.values){var m;for(m=0;m<F.values[0].rows.length;m++){f.push(F.values[0].rows[m].ctx)}}c.value={val:!F.values?null:F.values[0].col.val,labelContexts:f};r=[[c]]}var _;if(!W.noEqual){if(!Oe(i)&&!p){for(_=0;_<u;_++){h[_]=d}}else{var g=parseInt(s.length/u,10);for(_=0;_<u;_++){h[_]=d*g}}}else{for(_=0;_<u;_++){h[_]=Math.abs(s[_]-s[_+1])}}function v(e,t,a){var i=e;for(var r=0;r<a;r++){i+=h[t+r]}return i}var y={};var b=[];var x=[];var A=[];var M,S,z=0;var D;var E,w,T=r.length;for(M=0;M<T;++M){b=[];x=[];A=[];z=0;D=0;for(S=0;S<r[M].length;++S){z=0;b.push(r[M][S].value);z+=r[M][S].space;E=S>0?x[S-1][1]:0;w=v(E,D,z);if(T>1){A.push([D,D+z-1])}x.push([E,w]);D+=z}var y={domain:b,range:x};if(T>1){y.itemIndexRange=A}a.push(y)}t=n}else if(V.type=="value"){t=o;a=W}else if(V.type=="timeValue"){t=l;a=W}e.core=t;e.coreScale=a;e.coreScale.noEqual=W.noEqual;return e};function Ue(){if(!K)return;if(V.customizedColor){V.color=V.customizedColor}var e={drawingEffect:"normal",fillColor:V.color};V.color=K.register(e);e={drawingEffect:"normal",fillColor:V.gridline.color};V.gridline.color=K.register(e);e={drawingEffect:"normal",fillColor:J.defaultStyle.label.fill};J.defaultStyle.label.fill=K.register(e);e={drawingEffect:"normal",fillColor:J.defaultStyle.title.fill};J.defaultStyle.title.fill=K.register(e)}return ze};return y});define("sap/viz/modules/manifests/Axis",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/base/UADetector","sap/viz/modules/axis/regularAxis"],function e(t,a,i,r){var s={id:"sap.viz.modules.axis",type:a.Type.Supplementary,name:"axis",properties:{isIndependentMode:{name:"isIndependentMode",supportedValueType:"Boolean",defaultValue:false,description:"Set whether the axis works in independent mode. Currently, this property is used only for boxplot charts.",isExported:false},isPercentMode:{name:"isPercentMode",supportedValueType:"Boolean",defaultValue:false,description:"Show the label as a percentage. For example '0.1' would show as '10'.",isExported:false},isKeepFirstAndLastLabel:{name:"isKeepFirstAndLastLabel",supportedValueType:"Boolean",defaultValue:false,description:"Try to keep the first label and last label when the space is limited.",isExported:false},lineSize:{name:"lineSize",supportedValueType:"Int",defaultValue:"1",description:"Set the thickness of the axis line",isExported:true,example:"<a href='"+a.DocExample.SnippetUrl+"88' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},title:{name:"title",description:"Settings for the axis title",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set the visibility of the axis title"},text:{name:"text",supportedValueType:"String",defaultValue:null,description:"Set the text of the axis title"},applyAxislineColor:{name:"applyAxislineColor",supportedValueType:"Boolean",defaultValue:false,description:"Set the title color to match the color of the axis line",isExported:false}}},gridline:{name:"gridline",description:"Settings for the gridlines on the axis",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set the visibility of gridlines on the axis"},disable:{name:"disable",supportedValueType:"Boolean",defaultValue:false,description:"Disable gridline or not",isExported:false},showFirstLine:{name:"showFirstLine",supportedValueType:"Boolean",defaultValue:false,description:"Set whether the first gridline on the axis appears",isExported:false},showLastLine:{name:"showLastLine",supportedValueType:"Boolean",defaultValue:false,description:"Set whether the last gridline on the axis appears",isExported:false},type:{name:"type",supportedValueType:"String",supportedValues:["line","dotted","incised"],defaultValue:"line",description:"Set the line type of gridlines on the axis",isExported:true},color:{name:"color",supportedValueType:"String",defaultValue:"#d8d8d8",description:"Set the color of the gridlines on the axis",isExported:true},size:{name:"size",supportedValueType:"Int",defaultValue:"1",description:"Set the line size of gridlines on the axis",isExported:true}}},color:{name:"color",supportedValueType:"String",defaultValue:"#6c6c6c",description:"Set the color of the axis line",isExported:true},axisline:{name:"axisline",description:"Settings for the axis line",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set the visibility of the axis line"}}},type:{name:"type",supportedValueType:"String",supportedValues:["value","category","timeValue"],defaultValue:"value",description:"Set the axis type",isExported:false},visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set the visibility of the entire axis, including the axis line, gridlines, and labels"},label:{name:"label",description:"Settings for the labels on this axis",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set the visibility of the labels on this axis"},numberFormat:{name:"numberFormat",supportedValueType:"String",defaultValue:"",description:"Set the number format for the value axis",isExported:false},formatString:{name:"formatString",supportedValueType:"String | Two-Dimensions-Array",defaultValue:null,description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The letter "u" is used at the end of a format string to format values in SI units. If the letter "u" is added to a value between 1e12 and 1e-3 before SI units are applied, the value is formatted in exponential style. The remaining syntax matches Excel format strings. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'},unitFormatType:{name:"unitFormatType",supportedValueType:"String",supportedValues:["MetricUnits","FinancialUnits"],defaultValue:"FinancialUnits",description:"Set the unit format type. If set MetricUnits, unit K,M,G,T will be applied, eg, 5000 will display as 5K, 5000000 will display as 5M, 5000000000 will display as 5G and so on. If set FinancialUnits, unit K,M,B,T will be applied. 5000000000 will display as 5B."},hideSubLevels:{name:"hideSubLevels",supportedValueType:"Boolean",defaultValue:false,description:"Set the visibility of the sub levels of labels on this axis"}}},indicator:{name:"indicator",description:"Settings for the axis indicator",supportedValueType:"Object",supportedValues:{enable:{name:"enable",supportedValueType:"Boolean",defaultValue:false,description:"Set the visibility of the axis indicator",isExported:false}},isExported:false},position:{name:"position",supportedValueType:"String",supportedValues:["left","right","top","bottom"],defaultValue:"bottom",description:"Set the position of the axis",isExported:false},isTruncateAvailable:{name:"isTruncateAvailable",supportedValueType:"Boolean",defaultValue:true,description:"Set whether truncation logic is available for the category axis",isExported:false},forceLabelArea:{name:"forceLabelArea",supportedValueType:"Boolean",defaultValue:false,description:"Set whether the label area is limited to the text area",isExported:false},scale:{name:"scale",description:"Set the scale of the value axis. This property only works on value type axes.",supportedValueType:"Object",supportedValues:{fixedRange:{name:"fixedRange",supportedValueType:"Boolean",defaultValue:false,description:"Set whether the axis range is limited to the range between the minValue and maxValue"},minValue:{name:"minValue",supportedValueType:"Number",defaultValue:Number.POSITIVE_INFINITY,description:"Set the minValue of the value axis"},maxValue:{name:"maxValue",supportedValueType:"Number",defaultValue:Number.POSITIVE_INFINITY,description:"Set the maxValue of the value axis"},fixedTicks:{name:"fixedTicks",supportedValueType:"Array",description:'Set the specific ticks for value axis. The format should be [{value : "/value/", text : "/text/"}...]. '+"If its length is less than 2, this property will not take effect.",isExported:false}}},layoutInfo:{name:"layoutInfo",description:"Settings for the layout of the category axis. This property only works for category type axes.",supportedValueType:"Object",supportedValues:{width:{name:"width",supportedValueType:"Number",defaultValue:0,description:"Set the width of the xAxis",isExported:false},height:{name:"height",supportedValueType:"Number",defaultValue:0,description:"Set the height of the xAxis",isExported:false}},isExported:false},enableLabelSelection:{name:"enableLabelSelection",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the label selection effect is enabled. For mobile devices, the default value is 'false'.",isExported:false},axisTick:{name:"axisTick",description:"Settings for the ticks on the axis",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of the ticks on the axis. For mobile devices, the default value is 'false'."}},isExported:false},hideTitleFirst:{name:"hideTitleFirst",supportedValueType:"Boolean",defaultValue:false,description:"Hide axis title firstly if the space is limited.",isExported:false},maxSizeRatio:{name:"maxSizeRatio",supportedValueType:"PositiveFloat",defaultValue:1/4,description:"The ratio to limit axis' space in its container, which only accepts values between 0 and 1(0 and 1 included). All the invalid values would be replaced by default value.",isExported:true}},css:{".viz-axis-title.v-title":{description:"Define the style of the axis title",value:{fill:"#000000","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"14px","font-weight":"bold"}},".v-hidden-title":{description:"Define the style of the axis title for a hidden layer",value:{fill:"#a6a6a6"}},".viz-axis-label.v-label":{description:"Define the style of the axis label",value:{fill:"#333333","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"normal"}},".v-hovershadow":{description:"Define the color of the hover shadow",value:{fill:"#cccccc"}}},configure:null,fn:r};var o={viz:[],module:[s],feeds:[]};return o});define("sap/viz/modules/datalabel",["sap/viz/util/TextUtils","sap/viz/base/utils/TypeUtils","sap/viz/format/FormatManager","sap/viz/manifest","sap/viz/base/utils/Objects","sap/viz/modules/dispatch","sap/viz/base/UADetector","sap/viz/lang/langManager","sap/viz/elements/common/SVG"],function e(t,a,i,r,s,o,n,l,u){var d=function(e,r){var d="12px",h="#333333",p='"Open Sans" Arial, Helvetica, sans-serif',c="normal";var f=e.props(null);var m,_,g;var v,y;var b;var x;var A=false;var M=[];var S=new o("initialized");var z="horizontal",D,E,w,T,C,L,I,k,O,N,P,R,F,B,V,H,U,G,Y;var j=false;var W="#ffffff",X=false,K=false,q=2,Z=false,J="#ffffff";function Q(){}Q.removeLabel=function(){if(a.isExist(v.parent())){v.parent().selectAll("g.v-m-datalabel").remove()}};Q.showLabel=function(e){if(v===null){return}if(e&&e.eventSource==="pinch"){A=true}Q.removeLabel();if(w&&v.parent()){te();if(!V){y=v.parent().select(".v-bound")[0][0].getBoundingClientRect()}else{y=v.parent().node().getBoundingClientRect()}if(n.isMobile()&&A){var t=v.parent().select(".v-clippath").select("rect").node();if(t){y=t.getBoundingClientRect()}}ue(y);if(m.length===0){S.initialized();return}b="fill:"+h+"; font-family: "+p+"; font-weight: "+c+"; font-size: "+d+"; text-anchor:start";var i=v.parent().selectAll(".v-datashapesgroup");i.each(function(e,t){if(!_[t]){return}var i=d3.select(j?this.parentNode:this).selectAll("g.v-m-datalabel").data([_[t]]);i=i.enter().append("g").attr("class","v-m-datalabel").append("g").attr("class","v-datalabel");r.styleManager.query("v-datalabel").toAttrs(i);if(X){i.attr("fill",W)}else if(Z){i.attr("fill",J)}var s=v.parent().selectAll(".v-datapoint").data();i.each(function(e,t){var i=d3.select(this).selectAll("text").data(e);var r=i.enter().append("g").attr("transform",function(e){return e.transformString});r.each(function(e,t){if(a.isExist(s[t].decoras)){s[t].decoras.push(this)}});r=r.append("text");r.text(function(e){return e.value});r.attr("visibility","hidden");r.attr("x",function(e){return e.x}).attr("y",function(e){return e.y});if(z==="vertical"){r.attr("transform",function(e){return"rotate(270 "+e.centerX+","+e.centerY+")"})}})});var s=!T;ee(s)}S.initialized()};function $(e){var t=false;for(var a=0;a<M.length;a++){if(e===M[a]){t=true;break}}return t}function ee(e){var t=v.parent().selectAll(".v-datalabel text")[0];var a=[],i,r={};var s;for(s=0;s<t.length;s++){i={};var o=t[s].getBoundingClientRect();i.top=o.top;i.left=o.left;i.right=o.right;i.bottom=o.bottom;i.visible=true;i.needMove=false;i.x=0;i.y=0;a.push(i)}r.top=y.top;r.left=y.left;r.right=y.right;r.bottom=y.bottom;ie(g,a,r);if(!A){he(a,r)}if(e){for(s=0;s<a.length;s++){if(a[s].needMove){t[s].setAttribute("x",a[s].x);t[s].setAttribute("y",a[s].y)}t[s].setAttribute("visibility","visible")}}else{for(s=0;s<a.length;s++){if(a[s].visible){if(a[s].needMove){t[s].setAttribute("x",a[s].x);t[s].setAttribute("y",a[s].y)}t[s].setAttribute("visibility","visible")}else{t[s].parentNode.parentNode.removeChild(t[s].parentNode)}}}}function te(){var e=r.styleManager.query("v-datalabel");if(e){if(e["fill"]){h=e["fill"]}if(e["font-family"]){p=e["font-family"]}if(e["font-size"]){d=e["font-size"]}if(e["font-weight"]){c=e["font-weight"]}}}function ae(e,t){if(a.isExist(I)){var r=e,s,o,n;if(a.isArray(t.__data__.val)){n=V?0:1;if(t.__data__.ctx.length===1){n=0}s=H&&I.length>1?I[1]:I[0];if(a.isExist(s)&&s.length>0){o=t.__data__.ctx[n].path.mi>=s.length?s.length-1:t.__data__.ctx[n].path.mi;r=i.format(e,s[o])}}else{if(a.isArray(t.__data__.ctx)){s=I[t.__data__.ctx[0].path.mg]}else{s=I[t.__data__.ctx.path.mg]}if(a.isExist(s)){if(a.isArray(t.__data__.ctx)){o=t.__data__.ctx[0].path.mi>=s.length?s.length-1:t.__data__.ctx[0].path.mi}else{o=t.__data__.ctx.path.mi>=s.length?s.length-1:t.__data__.ctx.path.mi}r=i.format(e,s[o])}else{r=e}}return r}return e}var ie=function(e,t,i){var r=O,s=k,o=L,l=N,u=V,d=D,h=C;if(n.isMobile()){o=false}if(e!==null&&t!==null){for(var p=0;p<e.length;p++){if(p<t.length){if(a.isExist(e[p].metaInfo)){if(e[p].metaInfo.chart==="combination"&&e[p].metaInfo.element==="line"){o=false}}if(n.isMobile()){if(!A){if(pe(t[p],i)||se(r,d,e[p])){t[p].visible=false;M.push(p);continue}}else{if($(p)){t[p].visible=false;continue}}if(B){if(e[p].width>e[p].ownerWidth){t[p].visible=false}}}else{if(!l&&e[p].originalValue===0&&!u){t[p].visible=false}if(!r&&!s&&o){if(d==="horizontal"){if(l&&e[p].originalValue===0&&!u){var c=e[p].datapointRect;t[p].needMove=true;t[p].x=e[p].outsideX;t[p].y=e[p].outsideY;t[p].left=c.right;t[p].right=c.right+e[p].width;if(pe(t[p],i)){t[p].visible=false}}else if(h==="inside"){if(e[p].width>e[p].ownerWidth||pe(t[p],i)){t[p].needMove=true;t[p].x=e[p].outsideX;t[p].y=e[p].outsideY;var f=e[p].datapointRect;if(e[p].originalValue>0){t[p].left=f.left+e[p].ownerWidth;t[p].right=f.right+e[p].width}else{t[p].left=f.left-e[p].width;t[p].right=f.right-e[p].ownerWidth}}if(pe(t[p],i)){t[p].visible=false}}else if(h==="outside"){if(pe(t[p],i)){if(e[p].width<=e[p].ownerWidth){t[p].needMove=true;t[p].x=e[p].insideX;t[p].y=e[p].insideY;var m=e[p].datapointRect;if(e[p].originalValue>0){t[p].left=m.left+(e[p].ownerWidth-e[p].width)/2;t[p].right=m.right-(e[p].ownerWidth-e[p].width)/2}else{t[p].left=m.left+(e[p].ownerWidth-e[p].width)/2;t[p].right=m.right-(e[p].ownerWidth-e[p].width)/2}if(pe(t[p],i)){t[p].visible=false}}else{t[p].visible=false}}}}else if(d==="vertical"){if(l&&e[p].originalValue===0&&!u){t[p].needMove=true;t[p].x=e[p].outsideX;t[p].y=e[p].outsideY;var _=e[p].datapointRect;t[p].top=_.top-e[p].height;t[p].bottom=_.top;if(pe(t[p],i)){t[p].visible=false}}else if(h==="inside"){if(e[p].height>e[p].ownerHeight||pe(t[p],i)){t[p].needMove=true;t[p].x=e[p].outsideX;t[p].y=e[p].outsideY;var g=e[p].datapointRect;if(e[p].originalValue>=0){t[p].top=g.top-e[p].height;t[p].bottom=g.bottom-e[p].ownerHeight}else{t[p].top=g.top+e[p].ownerHeight;t[p].bottom=g.bottom+e[p].height}}if(B){if(e[p].width>e[p].ownerWidth){t[p].visible=false}}if(pe(t[p],i)){t[p].visible=false}}else if(h==="outside"){if(pe(t[p],i)){if(e[p].height<=e[p].ownerHeight){t[p].needMove=true;t[p].x=e[p].insideX;t[p].y=e[p].insideY;var v=e[p].datapointRect;if(e[p].originalValue>0){t[p].top=v.top+(e[p].ownerHeight-e[p].height)/2;t[p].bottom=v.bottom-(e[p].ownerHeight-e[p].height)/2}else{t[p].top=v.top+(e[p].ownerHeight-e[p].height)/2;t[p].bottom=v.bottom-(e[p].ownerHeight-e[p].height)/2}if(pe(t[p],i)){t[p].visible=false}}else{t[p].visible=false}}}}}else if(!r&&!s&&!o){if(d==="horizontal"){if(l&&e[p].originalValue===0&&!u&&e[p].width===0){var y=e[p].datapointRect;t[p].left=y.right;t[p].right=y.right+e[p].width}else if(!P&&e[p].width>e[p].ownerWidth){t[p].visible=false}}else if(d==="vertical"){if(l&&e[p].originalValue===0&&!u&&e[p].height===0){var b=e[p].datapointRect;t[p].top=b.top+e[p].height;t[p].bottom=b.top}else if(!P){if(X||Z){if(K||Z){if(e[p].height>e[p].ownerHeight/2){t[p].visible=false}}else{if(e[p].height>e[p].ownerHeight){t[p].visible=false}}if(e[p].width>e[p].ownerWidth){t[p].visible=false}}else if(e[p].height>e[p].ownerHeight){t[p].visible=false}}}if(l&&e[p].originalValue===0&&h==="inside"&&!u&&!X){t[p].needMove=true;t[p].x=e[p].outsideX;t[p].y=e[p].outsideY}else if(!l&&e[p].originalValue===0){t[p].visible=false}if(pe(t[p],i)){t[p].visible=false}}else if(r){if(d==="horizontal"){if(pe(t[p],i)||e[p].width>e[p].ownerWidth){t[p].visible=false}}else if(d==="vertical"){if(pe(t[p],i)||e[p].height>e[p].ownerHeight){t[p].visible=false}}if(!s&&e[p].originalValue===0){t[p].visible=false}}else if(s){if(pe(t[p],i)){t[p].visible=false}}}}}re()}};var re=function(){X=false;K=false;Z=false};var se=function(e,t,a){var i=false;if(e){if(t==="horizontal"&&a.width>a.ownerWidth){i=true}else if(t==="vertical"&&a.height>a.ownerHeight){i=true}}return i};var oe=function(e){D=a.isExist(e.orientation)?e.orientation:D;E=a.isExist(e.paintingMode)?e.paintingMode:E;w=a.isExist(e.visible)?e.visible:w;T=a.isExist(e.hideWhenOverlap)?e.hideWhenOverlap:true;C=a.isExist(e.position)?e.position:C;L=a.isExist(e.automaticInOutside)?e.automaticInOutside:L;I=a.isExist(e.formatString)?e.formatString:I;k=a.isExist(e.isPercentMode)?e.isPercentMode:k;O=a.isExist(e.isStackMode)?e.isStackMode:O;j=a.isExist(e.isDonut)?e.isDonut:j;N=a.isExist(e.showZero)?e.showZero:N;P=a.isExist(e.outsideVisible)?e.outsideVisible:P;R=a.isExist(e.outsidePosition)?e.outsidePosition:R;V=a.isExist(e.isGeoChart)?e.isGeoChart:V;H=a.isExist(e.isBubbleChart)?e.isBubbleChart:H;U=a.isExist(e.isMekko)?e.isMekko:false;G=a.isExist(e.isTreeMap)?e.isTreeMap:false;F=a.isExist(e.positionPreference)?e.positionPreference:F;Y=a.isExist(e.type)?e.type:Y;B=a.isExist(e.respectShapeWidth)?e.respectShapeWidth:B};var ne=function(e){var t;if(e.info){var a=e.info.customlabel;if(a){if(a.type==="url"){t=e.val}else if(a.type==="string"){t=a.val}}else{t=e.val}}else{t=e.val}return t};var le=function(e,t){var a=e.getBBox(),i=e.getBoundingClientRect(),r={x:a.x,y:a.y,width:a.width,height:a.height},s={left:i.left,right:i.right,top:i.top,bottom:i.bottom,width:i.width,height:i.height};if(s.bottom>t.top&&s.top<t.bottom&&s.left<t.right&&s.right>t.left){if(s.bottom>t.bottom){r.height-=s.bottom-t.bottom;s.height-=s.bottom-t.bottom;s.bottom=t.bottom}if(s.top<t.top){r.height-=t.top-s.top;r.y=t.top-s.top;s.height-=t.top-s.top;s.top=t.top}if(s.left<t.left){r.width-=t.left-s.left;r.x=t.left-s.left;s.width-=t.left-s.left;s.left=t.left}if(s.right>t.right){r.width-=s.right-t.right;s.width-=s.right-t.right;s.right=t.right}}return{bbox:r,clientRect:s}};var ue=function(e){x=v.parent()[0][0].ownerSVGElement;m=[],_=[],g=[];try{if(x!==null&&x.getBBox().width===0){return}}catch(e){return}var i=0,r=0,s,o,h;var f,y,b;var A=v.parent().selectAll(".v-datashapesgroup");if(A[0].length===0){A=v.parent()}var M=A.selectAll(".v-datapoint");if(E==="polarCoordinate"){for(i=0;i<A[0].length;i++){var S=A[0][i].getBBox();if(S.width===0||S.height===0){break}o=u.getTransformToElement(A[0][i],x);m=[];for(r=0;r<M[i].length;r++){s={};h=M[i][r];f=u.getTransformToElement(h,x);if(!a.isExist(f)){break}s.dataShape=h;var z="";b=(h.__data__.endAngle-h.__data__.startAngle)/(2*Math.PI);s.originalValue=b;b=ae(b,h);if(Y==="label and value"){var w=h.__data__.dimValueObjects;for(var T=0;T<w.length;T++){var L=ne(w[T]);z+=L===null?l.get("IDS_ISNOVALUE"):L;if(w[T].dataTransformInfo&&w[T].dataTransformInfo.autoBinning){break}if(T!==w.length-1){z+="/"}}}s.value=z+" ("+b+")";s.transformString="translate("+(f.e-o.e)+","+(f.f-o.f)+")";y=t.fastMeasure(s.value,d,c,p);var I=h.__data__.r;var N=(h.__data__.endAngle+h.__data__.startAngle)/2;var P=Math.sin(N);var B=Math.cos(N);var H,q;if(j){H=.65*I*P;q=.65*I*B}else{H=.5*I*P;q=.5*I*B}s.x=0+H*f.a-y.width/2;s.y=0-q*f.d+y.height/2;s.centerX=H;s.centerY=q;s.datapointRect=h.getBoundingClientRect();m.push(s);g.push(s)}_.push(m)}}else if(E==="rectCoordinate"){for(i=0;i<A[0].length;i++){var Q=A[0][i].getBBox();if(Q.width===0||Q.height===0){break}o=u.getTransformToElement(A[0][i],x);m=[];for(r=0;r<M[i].length;r++){s={};h=M[i][r];f=u.getTransformToElement(h,x);if(!a.isExist(f)){break}s.dataShape=h;var $=le(h,e);var ee=$.bbox;if(n.isMobile()){ee=h.getBBox()}var te=$.clientRect;var ie;if(a.isArray(h.__data__.val)){if(V){ie=h.__data__.val[0]}else{if(U){if(k){ie=h.__data__.value}else{ie=h.__data__.val[0]}}else if(G){ie=h.__data__.val[0]}else{ie=h.__data__.y}}}else{if(k&&Y==="value"){ie=h.__data__.value}else{ie=h.__data__.val}}if(Y!=="value"&&h.__data__.isNegative){ie="-"+ie}if(h.__data__.isOnlyOneCategory!==undefined){X=true;if(h.__data__.isOnlyOneCategory){K=true}}var re=0,se=0;if(h.__data__.isTreeMap!==undefined){Z=true;var oe=v.parent().selectAll("text.v-treemapdatalabel")[0][0];if(oe){var ue=oe.getBBox();re=ue.width;se=ue.height}}s.originalValue=ie;s.value=ae(ie,h);if(Y==="label and value"){s.value=h.__data__.label+" ("+(s.value===null?l.get("IDS_ISNOVALUE"):s.value)+")"}var de=ee.x*f.a,he=ee.y*f.d,pe=ee.width*f.a,ce=ee.height*f.d;s.transformString="translate("+(f.e-o.e)+","+(f.f-o.f)+")";var fe=0,me=0,_e=0,ge=0,ve=0,ye=0,be=0,xe=0,Ae=0,Me=0;if(X||Z){var Se=s.value;if(a.isNumber(Se)){Se=Se.toString()}var ze=null;if(X){ze=W}else if(Z){ze=J}s.value=t.ellipsis(Se,null,pe-3,"fill:"+ze+";font-family:"+p+";font-size:"+d)}y=t.fastMeasure(s.value,d,c,p);if(D==="horizontal"){s.centerX=de+pe/2;s.centerY=he+ce/2;if(F&&C==="outside"){if(R==="right"){s.centerX=s.centerX+pe/2+y.width/2}}else{if(C==="outside"){if(R==="left"||!a.isExist(h.__data__.isNegative)&&ie<0){s.centerX=s.centerX-(pe/2+y.width/2)}else if(R==="right"){s.centerX=s.centerX+pe/2+y.width/2}}}fe=de+pe/2;me=he+ce/2;if(!O){if(!(!a.isExist(h.__data__.isNegative)&&ie<0)){xe=s.centerX+pe/2+y.width/2;Me=he+ce/2}else{be=s.centerX-(pe/2+y.width/2);Ae=he+ce/2}}}else{s.centerX=de+pe/2;s.centerY=he+ce/2;if(h.__data__.isNegative){R="down"}if(X&&K){s.centerY+=y.height/2}else if(Z){s.centerY+=se/2+y.height/2}if(F&&C==="outside"){if(R==="up"){s.centerY=s.centerY-ce/2-y.height/2}}else{if(C==="outside"){if(R==="down"||!a.isExist(h.__data__.isNegative)&&ie<0){s.centerY=s.centerY+ce/2+y.height/2}else if(R==="up"){s.centerY=s.centerY-ce/2-y.height/2}}}me=he+ce/2;fe=de+pe/2;if(!O){if(!(!a.isExist(h.__data__.isNegative)&&ie<0)){ge=s.centerY-ce/2-y.height/2;_e=de+pe/2}else{ye=s.centerY+ce/2+y.height/2;ve=de+pe/2}}}if(V&&v.projection){var De=v.projection();var Ee=h.__data__.feature;var we=Ee.geometry;var Te=De(we.type==="Point"?we.coordinates:Ee.properties.centroid);s.centerX=Te[0]-(f.e-o.e);s.centerY=Te[1]-(f.f-o.f)}s.x=s.centerX-y.width/2;s.y=s.centerY-y.y/2;s.width=y.width;s.height=y.height;s.ownerWidth=pe;s.ownerHeight=ce;s.datapointRect=te;if(n.isMobile()){s.datapointRect=h.getBoundingClientRect()}s.insideX=fe-y.width/2;s.insideY=me-y.y/2;if(h.__data__.hasOwnProperty("metaInfo")){s.metaInfo=h.__data__.metaInfo}if(!O){if(D==="horizontal"){if(!(!a.isExist(h.__data__.isNegative)&&ie<0)){s.outsideX=xe-y.width/2;s.outsideY=Me-y.y/2}else{s.outsideX=be-y.width/2;s.outsideY=Ae-y.y/2}}else if(D==="vertical"){if(!(!a.isExist(h.__data__.isNegative)&&ie<0)){s.outsideX=_e-y.width/2;s.outsideY=ge-y.y/2}else{s.outsideX=ve-y.width/2;s.outsideY=ye-y.y/2}}}m.push(s);g.push(s)}_.push(m)}}};var de=function(e,t){var a=e.left,i=e.top,r=e.right,s=e.bottom;var o=t.left,n=t.top,l=t.right,u=t.bottom;if(!(a>=l||i>=u||r<=o||s<=n)){return true}return false};var he=function(e,t){if(e===null||t===null){return}for(var a=0;a<e.length;a++){var i=e[a];if(!i.visible){continue}for(var r=a+1;r<e.length;r++){var s=e[r];if(!s.visible){continue}if(de(i,s)){s.visible=false}}}};var pe=function(e,t){if(Math.floor(e.top)<Math.floor(t.top)||Math.floor(e.left)<Math.floor(t.left)||Math.floor(e.right)>Math.floor(t.right)||Math.floor(e.bottom)>Math.floor(t.bottom)){return true}return false};Q.dispatch=function(e){if(!arguments.length){return S}S=e;return Q};Q.plot=function(e){if(!arguments.length){return v}v=e};Q.parent=function(){};Q.properties=function(e){if(!arguments.length){return f}s.extend(true,f,e);oe(f);return Q};Q.destroy=function(){v=null;x=null;y=null;if(m){for(var e=0;e<m.length;e++){m[e].dataShape=null;if(g[e]){g[e].dataShape=null}}}m=null;_=null;g=null;if(r){r.destroy();r=null}};return Q};return d});define("sap/viz/modules/manifests/DataLabel",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/datalabel"],function e(t,a,i){var r={id:"sap.viz.modules.datalabel",name:"datalabel",type:a.Type.Supplementary,description:"Settings for the data labels that appear overtop of the data elements in the chart",properties:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set whether the data labels are visible"},hideWhenOverlap:{name:"hideWhenOverlap",supportedValueType:"Boolean",defaultValue:true,description:"Always show all data labels even they are overlapped"},isDonut:{name:"isDonut",supportedValueType:"Boolean",defaultValue:false,description:"Set whether the chart is a donut chart. Use only for donut charts.",isExported:false},type:{name:"type",supportedValueType:"String",defaultValue:"value",description:"Set the type of label",isExported:false},automaticInOutside:{name:"automaticInOutside",supportedValueType:"Boolean",defaultValue:true,description:"If set to 'true', the data labels will be automatically placed outside when the data label position property is inside, and vice versa",isExported:false},showZero:{name:"showZero",supportedValueType:"Boolean",defaultValue:true,description:"If set to 'true', the value zero is shown in the data labels",isExported:false},isGeoChart:{name:"isGeoChart",supportedValueType:"Boolean",defaultValue:false,description:"Set whether the chart is a geo chart",isExported:false},isBubbleChart:{name:"isBubbleChart",supportedValueType:"Boolean",defaultValue:false,description:"Set whether the chart is a bubble chart",isExported:false},isStackMode:{name:"isStackMode",supportedValueType:"Boolean",defaultValue:false,description:"Set whether the chart is a stack chart. Set for stack chart only.",isExported:false},isPercentMode:{name:"isPercentMode",supportedValueType:"Boolean",defaultValue:false,description:"Set whether the chart is a percent chart. Set for percent chart only.",isExported:false},positionPreference:{name:"positionPreference",supportedValueType:"Boolean",defaultValue:false,description:"If set to 'true', the data label position is defined by the property 'outsidePosition', regardless of whether the data label value is negative",isExported:false},outsideVisible:{name:"outsideVisible",supportedValueType:"Boolean",defaultValue:true,description:"If set to 'true', the data label is visible when it is outside",isExported:false},outsidePosition:{name:"outsidePosition",supportedValueType:"String",supportedValues:["up","down","left","right"],defaultValue:"up",description:"If set to 'true', the data label is positioned above the element when it is outside",isExported:false},paintingMode:{name:"paintingMode",supportedValueType:"String",supportedValues:["rectCoordinate","polarCoordinate"],defaultValue:"rectCoordinate",description:"Set painting mode of data labels",isExported:false},position:{name:"position",supportedValueType:"String",supportedValues:["inside","outside"],defaultValue:"inside",description:"Set position of data labels",isExported:false},orientation:{name:"orientation",supportedValueType:"String",supportedValues:["horizontal","vertical"],defaultValue:"vertical",description:"Set orientation of data labels",isExported:false},respectShapeWidth:{name:"respectShapeWidth",supportedValueType:"Boolean",defaultValue:false,description:"If set to 'true', the data label is automatically hidden when bubble width isn't enough to show the whole label in single bubble chart.",isExported:false},formatString:{name:"formatString",supportedValueType:"Two-Dimensions-Array",defaultValue:null,description:'Set the format strings for the data labels. For dual axis charts, the first array is applied to the primary axis and the second array is applied to the second axis. If you enter fewer format strings into an array than there are measures in the respective axis, then the last format string is applied to all remaining measures. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example: [["0.00%"],["0.00%"]].'}},css:{".v-datalabel":{description:"Define the style for the data label",value:{fill:"#333333","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"normal"}}},configure:null,fn:i};var s={viz:[],module:[r],feeds:[]};return s});define("sap/viz/manifests/xy/BaseVerticalChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/Title","sap/viz/modules/manifests/Legend","sap/viz/modules/manifests/XYContainer","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/chart/elements/manifests/Tooltip","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/Background","sap/viz/modules/manifests/DataLabel","sap/viz/modules/manifests/legend/Common","sap/viz/modules/manifests/layout/Dock","sap/viz/modules/manifests/layout/Stack"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c){var f={id:"riv/baseverticalchart",name:"IDS_BASEVERTICALCHART",isBuiltIn:true,abstract:true,modules:{root:{id:"sap.viz.modules.rootContainer",configure:{propertyCategory:"general",properties:{layout:{padding:24,vgap:8,hgap:8}}},modules:{layout:{id:"sap.viz.modules.layout.dock"},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousedown","mousemove","mouseover","mouseout","touchstart"],holdSelection:true},propertiesOverride:{pan:{isExported:true}}}},title:{id:"sap.viz.modules.title",configure:{propertyCategory:"title",properties:{layout:{position:"top",priority:0}}}},legends:{id:"sap.viz.modules.legend",configure:{propertyCategory:"legendGroup",properties:{layout:{position:"right",priority:1}}},modules:{layout:{id:"sap.viz.modules.layout.stack"},legend:{id:"sap.viz.modules.legend.common",data:{aa:[2]},configure:{propertyCategory:"legend",properties:{layout:{order:0}}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"verticalbar",orientation:"left"}}},main:{id:"sap.viz.modules.xycontainer",configure:{propertyCategory:"xyContainer",properties:{layout:{position:"center",priority:5}}},modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,orientation:"vertical",position:"inside",automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:"up"}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart",propertyCategory:"yAxis",properties:{type:"value",position:"left"},propertiesOverride:{label:{hideSubLevels:{isExported:false}}}}},xAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart",propertyCategory:"xAxis",properties:{type:"category",position:"bottom",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"vertical"}}},plot:{configure:{properties:{orientation:"vertical"},propertiesOverride:{primaryValuesColorPalette:{isExported:false},secondaryValuesColorPalette:{isExported:false}}}}}}}}},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"}],events:[]}};var m={viz:[f],module:[].concat(a.module,i.module,r.module,s.module,o.module,n.module,l.module,u.module,d.module,h.module,p.module,c.module),feeds:[].concat(a.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds,l.feeds,u.feeds,d.feeds,h.feeds,p.feeds,c.feeds)};return m});define("sap/viz/modules/controller/pinch",["sap/viz/mvc/PinchGestureDetector","sap/viz/mvc/GestureDetector","sap/viz/mvc/PanGestureDetector","sap/viz/modules/dispatch","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/Objects","sap/viz/base/utils/log/Analyzer","sap/viz/elements/common/SVG"],function e(t,a,i,r,s,o,n,l){return function(e,i){var u;var d=null;var h=null;var p;var c=i.eventManager;var f=r("clear","touchStart","touchEnd","pinchStart","pinchMove","pinchEnd");var m=e.props(null);var _=null;var g=function(){return g};g.module=function(e){if(!arguments.length){return d}d=e;return g};g.targetPlot=function(e){if(e){p=e}};var v=function(e){var t=[];for(var a=0;a<e.length;a++){t.push({x:e[a].clientX,y:e[a].clientY})}return t};var y=function(){if(p&&p.parent&&p.parent()){p.parent().node().parentNode.addEventListener("touchstart",function(e){var t=v(e.touches);if(t.length===2){if(M(t,_)){f.touchStart()}}});p.parent().node().parentNode.addEventListener("touchend",function(e){f.touchEnd()})}};g.registerEvent=function(){if(!h){h=d.modules()}var e=s.isExist(m.enable)?m.enable:"true";if(e){if(!u){u=new t;u.addGestureAction(E);u.enable(true);c.addGestureDetector(u);y()}}_=b()};var b=function(){var e={};e.width=p.width();e.height=p.height();var t=p.parent().select(".v-bound").node();e.boundingClientRect=t.getBoundingClientRect();return e};var x=function(e){var t=e.watchedComponent.container.getBoundingClientRect();var a=e.involvedTouchePoints();var i=[];if(s.isArray(a)){for(var r=0;r<a.length;r++){var o=a[r].x+t.left,n=a[r].y+t.top;i.push({x:o,y:n})}}return i};var A=function(e,t){var a=t.boundingClientRect;var i=a.top,r=a.left,s=a.right,o=a.bottom;if(e.x>=r&&e.y>=i&&e.x<=s&&e.y<=o){return true}else{return false}};var M=function(e,t){if(s.isArray(e)){for(var a=0;a<e.length;a++){var i=A(e[a],t);if(!i){return false}}return true}return false};var S=function(e,t){var a=l.getTransformToElement(t,t.ownerSVGElement);return{x:e.x-a.e,y:e.y-a.f}};var z=[],D;var E=function(e){var t=x(e);var i=e.globalLocOfGesture();var r=s.isExist(m.orientation)?m.orientation:"both";var o=Math.round(e.scale()*100)/100,l;if(h){if(e.state===a.TransitionState.Began){n.pnrProfiling("Interaction:Pinch");n.pnrProfiling("Interaction:Pinch_start");f.pinchStart(e._touchStartPoints);f.pinchMove(e.involvedTouchePoints());for(var u in h){if(h.hasOwnProperty(u)&&h[u].parent&&h[u].parent()){if(h[u].pinchBegan&&M(t,_)){h[u].pinchBegan({point:S(i,h[u].parent().node()),pinchProperties:{orientation:r}});z.push({module:h[u]})}}}n.pnrProfiling("Interaction:Pinch_start");D=o}else if(e.state===a.TransitionState.Changed){if(z.length>0){l=Math.round(o/D*100)/100;D=l;f.pinchMove(e.involvedTouchePoints());for(var d=0;d<z.length;d++){if(z[d].module.pinch&&M(t,_)){z[d].module.pinch({scale:l})}}}}else{if(z.length>0){f.pinchEnd(e.involvedTouchePoints());n.pnrProfiling("Interaction:Pinch_end");for(var p=0;p<z.length;p++){if(z[p].module.pinchEnd){z[p].module.pinchEnd()}}n.pnrProfiling("Interaction:Pinch_end")}n.pnrProfiling("Interaction:Pinch");z.length=0}}};g.properties=function(e){if(!arguments.length){return m}o.extend(true,m,e)};g.destroy=function(){};g.data=function(){};g.dispatch=function(e){if(!arguments.length){return f}f=e;return g};return g}});define("sap/viz/modules/manifests/controller/Pinch",["sap/viz/modules/manifests/Module","sap/viz/modules/controller/pinch","sap/viz/modules/manifests/controller/Base"],function e(t,a,i){var r={id:"sap.viz.modules.controller.pinch",name:"selection",base:"sap.viz.modules.controller.base",description:"Settings for the drag of the chart.",properties:{enable:{name:"enable",supportedValueType:"Boolean",defaultValue:true,description:"Enable/disable pinch.",isExported:false},orientation:{name:"orientation",supportedValueType:"String",supportedValues:["horizontal","vertical","both"],defaultValue:"both",description:"Set orientation of pinch.",isExported:false}},fn:a};var s={viz:[],module:[r].concat(i.module),feeds:[].concat(i.feeds)};return s});define("sap/viz/modules/controller/pan",["sap/viz/mvc/PinchGestureDetector","sap/viz/mvc/GestureDetector","sap/viz/mvc/PanGestureDetector","sap/viz/modules/dispatch","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/Objects","sap/viz/base/utils/log/Analyzer"],function e(t,a,i,r,s,o,n){return function(e,t){var r;var n=null;var l=null;var u;var d=t.eventManager;var h=e.props(null);var p;var c=[];var f=null;var m=null;var _=function(){return _};_.module=function(e){if(!arguments.length){return n}n=e;return _};_.targetPlot=function(e){if(e){u=e}};_.registerEvent=function(){if(!l){l=n.modules()}var e=s.isExist(h.enable)?h.enable:"true";if(e){if(!r){r=new i;r.addGestureAction(x);r.enable(true);d.addGestureDetector(r)}}};var g=function(){var e={};e.width=u.width();e.height=u.height();var t=u.parent().node();e.boundingClientRect=t.getBoundingClientRect();return e};var v=function(e){var t=e.gesture,a=[];if(!f){f=t.watchedComponent.container.getBoundingClientRect()}if(e.gestureType==="pan"){a.push({x:t._lastXY.x,y:t._lastXY.y})}var i=[];for(var r=0;r<a.length;r++){var s=a[r].x+f.left,o=a[r].y+f.top;i.push({x:s,y:o})}return i};var y=function(e,t){var a=t.boundingClientRect;var i=a.top,r=a.left,s=a.right,o=a.bottom;if(e.x>=r&&e.y>=i&&e.x<=s&&e.y<=o){return true}else{return false}};var b=function(e,t){if(s.isArray(e)){for(var a=0;a<e.length;a++){var i=y(e[a],t);if(!i){return false}}return true}return false};var x=function(e){var t=v({gesture:e,gestureType:"pan"});if(!m){m=g()}var i=e._lastXY,r;if(l){if(e.state===a.TransitionState.Began){for(var s in l){if(l.hasOwnProperty(s)&&l[s].parent&&l[s].parent()){if(l[s].panBegan&&b(t,m)){l[s].panBegan({point:e._lastXY});c.push({module:l[s]})}}}p=i}else if(e.state===a.TransitionState.Changed){if(c.length>0){for(var o=0;o<c.length;o++){if(c[o].module.pan&&b(t,m)){c[o].module.pan({point:e._lastXY})}}p=i}}else if(e.state===a.TransitionState.Ended){for(var n=0;n<c.length;n++){if(c[n].module.panEnd){c[n].module.panEnd({point:e._lastXY})}}c=[]}}};_.properties=function(e){if(!arguments.length){return h}o.extend(true,h,e)};_.destroy=function(){r=null;p=null;c=[];f=null;m=null};_.data=function(){};return _}});define("sap/viz/modules/manifests/controller/Pan",["sap/viz/modules/manifests/Module","sap/viz/modules/controller/pan","sap/viz/modules/manifests/controller/Base"],function e(t,a,i){var r={id:"sap.viz.modules.controller.pan",name:"selection",base:"sap.viz.modules.controller.base",description:"Settings for the drag of the chart.",properties:{enable:{name:"enable",supportedValueType:"Boolean",defaultValue:true,description:"Set whether panning is enabled.",isExported:false},orientation:{name:"orientation",supportedValueType:"String",supportedValues:["horizontal","vertical","both"],defaultValue:"both",description:"Set the orientation of the panning.",isExported:false}},fn:a};var s={viz:[],module:[r].concat(i.module),feeds:[].concat(i.feeds)};return s});define("sap/viz/manifests/xy/AreaChart",["sap/viz/manifests/Viz","sap/viz/base/UADetector","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/xy/Area","sap/viz/manifests/xy/BaseVerticalChart","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/modules/manifests/controller/Pinch","sap/viz/modules/manifests/controller/Pan"],function e(t,a,i,r,s,o,n,l){var u={id:"viz/area",name:"IDS_AREACHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/baseverticalchart",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"line",orientation:"left"}}},interaction:{configure:{properties:{holdSelection:false}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,outsidePosition:"down",showZero:false},propertiesOverride:{position:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart",propertyCategory:"yAxis",properties:{type:"value",indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the category axis of an XY chart",propertyCategory:"xAxis",properties:{type:"category",indicator:{enable:true},isKeepFirstAndLastLabel:true},propertiesOverride:{indicator:{isExported:false}}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",propertiesOverride:{bStacked:true,indicator:{isExported:false}}}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"getColorPalette"},{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]},categoryAxis:["xAxis"],valueAxis:["yAxis"]};if(a.isMobile()){var d=u.modules.root.modules;d.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};d.pan={id:"sap.viz.modules.controller.pan",configure:{clientID:"main",propertyCategory:"pan",properties:{}}};var h=u.dependencies.attributes;var p=u.dependencies.events;h.push({targetModule:"root.pan",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});p.push({targetModule:"root.pan",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pan"});h.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});p.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});p.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});p.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});p.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});p.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});p.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});p.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});p.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});p.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});p.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});p.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"})}var c={viz:[u].concat(s.viz),module:[].concat(s.module,r.module,i.module,o.module,n.module,l.module),feeds:[].concat(s.feeds,r.feeds,i.feeds,o.feeds,n.feeds)};return c});define("sap/viz/impls/AreaChart",["sap/viz/manifests/xy/AreaChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/modules/threeD/Vector3D",["sap/viz/modules/threeD/Vector","sap/viz/modules/threeD/Point"],function e(t,a){function i(){t.apply(this,arguments)}i.prototype=Object.create(t.prototype);i.prototype.transform=function(e){var t=new a(0,0,0).transform(e);var i=new a(this.value(0),this.value(1),this.value(2)).transform(e);this.value(0,i.x-t.x);this.value(1,i.y-t.y);this.value(2,i.z-t.z);return this};return i});define("sap/viz/modules/xyzcontainer",["sap/viz/base/utils/TypeUtils","sap/viz/base/utils/Objects","sap/viz/base/utils/FunctionUtils","sap/viz/manifest","sap/viz/data/handler/SingleChartDataHandler","sap/viz/modules/dispatch","sap/viz/modules/threeD/matrix","sap/viz/modules/threeD/Point","sap/viz/modules/threeD/Vector3D","sap/viz/modules/util/BoundUtil","sap/viz/util/ignite","sap/viz/modules/Constants","sap/viz/elements/common/SVG"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c){var f=function(e,r){var f=0,m=0,_={},g={},v={},y={},b={},x,A=null;var M=new o("initialized","showTooltip","hideTooltip"),S=0;var z=e.props(null);var D=20,E=50;var w=d3.scale.linear();var T=d3.scale.ordinal();var C=d3.scale.ordinal();var L=false;var I=function(e,t){var i={},r,s,o;if(t){if(e){r=e.propertyCategory;s=_;o={};o[r]=e.properties;a.extend(true,i,o,s)}else{i=_}}else{if(e){r=e.propertyCategory;s=_[r];o=e.properties;a.extend(true,i,o,s)}}return i};var k=function(e,t){var i=v.modules;var r,s,o;if(i[e]&&y[e]){s=i[e].configure;if(t){r=_}else{if(s){o=s.propertyCategory;r=a.extend(true,{},_[o])}else{r={}}}y[e].properties(r)}};function O(){if(t.isEmptyObject(v))i.error("Container configuration missing");S=0;P("xAxis");P("yAxis");P("zAxis");P("background");var e=v.modules.plot;if(!e)return;var a=y.plot=h(e.id,r,"plot");var o=new s(g);a.data(o.getDataAdapter());var n;if(e.configure){n=I(e.configure);a.properties(n)}if(a.dispatch){var l=a.dispatch();if(l.initialized){S++;l.on("initialized.xycontainer",Z)}if(l.showTooltip)l.on("showTooltip.xycontainer",J);if(l.hideTooltip)l.on("hideTooltip.xycontainer",Q)}var u=v.modules.dataLabel;if(t.isExist(u)&&t.isExist(a.dataLabel)){var d=y.dataLabel=h(u.id,r);a.dataLabel(d);d.plot(a);if(u.configure){n=I(u.configure);d.properties(n)}}if(y.xAxis&&!b.xAxis)b.xAxis=A.append("g").attr("class","v-m-xAxis");if(y.yAxis&&!b.yAxis)b.yAxis=A.append("g").attr("class","v-m-yAxis");if(y.zAxis&&!b.zAxis)b.zAxis=A.append("g").attr("class","v-m-zAxis");if(y.plot&&!b.plot)b.plot=A.append("g").attr("class","v-m-plot");if(y.background&&!b.background)b.background=A.insert("g",":first-child").attr("class","background")}function N(e){if(y[e]){var t=v.modules[e];var a=t.data;if(a){y[e].data(g.createDataAdapterForModule(a))}}}function P(e){if(!v.modules[e])return;var t=v.modules[e],a=y[e]=h(t.id,r,p.CSS.CLASS.MODULEPREFIX+e);N(e);var i=I(t.configure);a.properties(i);if(a.dispatch&&a.dispatch()["initialized"]){S++;a.dispatch().on("initialized.xycontainer",Z)}}var R=function(e,t,a){var i=[{x:0,y:0,z:0},{x:0,y:0,z:a},{x:e,y:0,z:0},{x:e,y:0,z:a},{x:0,y:t,z:0},{x:0,y:t,z:a},{x:e,y:t,z:0},{x:e,y:t,z:a}];return i.map(function(e){return new l(e.x,e.y,e.z)})};var F=function(e,t){var a=e[0];a.transform(t);var i=a.x,r=a.y,s=a.x,o=a.y;for(var n=1,l=e.length;n<l;n++){a=e[n];a.transform(t);i=Math.min(i,a.x);r=Math.min(r,a.y);s=Math.max(s,a.x);o=Math.max(o,a.y)}return{x:i,y:r,z:s,w:o}};function B(e){return e*Math.PI/180}var V=function(e,t,a,i,r,s,o,n,l){var u=Y("south",e,"xAxis",T,a,0,0,i,r,s,t.x0,t.x1,t.y0,t.z0,t.z1);var d=Math.abs(B(u));var h=Y("west",e,"yAxis",w,a,0,0,i,r,s,t.x0,t.x1,t.y0,t.z0,t.z1);var p=Math.abs(B(h));var c=Y("none",e,"zAxis",C,a,0,0,i,r,s,t.x0,t.x1,t.y0,t.z0,t.z1);var f=Math.abs(B(c));var m=0,_=0,g=0,v=0;m=n.width*Math.cos(p);if(c<=1&&u>0&&!(c==1&&u==91&&D>0)){m=m>o.height*Math.cos(d)?m:o.height*Math.cos(d);g=l.height*Math.cos(f);v=o.height*Math.sin(d)>l.height*Math.sin(f)?o.height*Math.sin(d):l.height*Math.sin(f)}else{m=m>l.height*Math.cos(f)?m:l.height*Math.cos(f);g=o.height*Math.cos(d);v=o.height*Math.sin(d)>l.height*Math.sin(f)?o.height*Math.sin(d):l.height*Math.sin(f)}if(Math.abs(D)===90){m=m>o.height*Math.cos(d)?m:o.height*Math.cos(d);g=l.height*Math.cos(f);_=o.height*Math.sin(d)>l.height*Math.sin(f)?o.height*Math.sin(d):l.height*Math.sin(f)}return{top:_,left:m,bottom:v,right:g}};var H=function(e,t,a,i,r){var s=a.z-a.x;var o=a.w-a.y;var n=e/s;var l=t/o;var u=Math.min(n,l);return{x:u,y:l,z:u}};var U=function(e){var t=new u(0,0,1);var a=false,i=false,r=false;var s=new l(0,0,0);var o=new l(1,0,0);var n=new l(0,-1,0);var d=new l(0,0,1);s.transform(e);o.transform(e);n.transform(e);d.transform(e);var h=new u(o.x-s.x,o.y-s.y,o.z-s.z),p=new u(n.x-s.x,n.y-s.y,n.z-s.z),c=new u(d.x-s.x,d.y-s.y,d.z-s.z);if(t.dotProduct(h)<0){a=true}if(t.dotProduct(p)<0){i=true}if(t.dotProduct(c)>0){r=true}return{isRenderRT:a,isRenderTP:i,isRenderFT:r,renderingOrderX:h,renderingOrderY:p,renderingOrderz:c}};function G(e,t,a,i,r,s){var o,n,l,u,d,h;l=a+r;if(e.isRenderFT){o=t;if(e.isRenderTP)d=0;else d=s}else{o=t+i;if(e.isRenderTP)d=s;else d=0}if(e.isRenderRT){h=0;if(e.isRenderTP)n=t+i;else n=t}else{h=s;if(e.isRenderTP)n=t;else n=t+i}return{x0:o,x1:n,y0:l,z0:d,z1:h}}function Y(e,t,a,i,r,s,o,n,d,h,p,c,f,m,_){var g,v,x,A;var M,S,z,D,E;switch(e){case"south":g=new l(s,f,m);E=0==m?-h:h;x=new l(s,f,m+E);v=new l(s+n,f,m);break;case"north":g=new l(s,d-f,h-m);E=0==m?-h:h;x=new l(s,f,h-m+E);v=new l(s+n,d-f,h-m);break;case"west":g=new l(p,o,_);x=new l(p-n,o,_);v=new l(p,o-d,_);break;case"east":g=new l(n-p,o+d,h-_);x=new l(n,o+d,h-_);v=new l(n-p,o,h-_);break;default:g=new l(c,f,0);E=s==c?-n:n;x=new l(c+E,f,0);v=new l(c,f,h);break}g.transform(r);x.transform(r);v.transform(r);if(e=="west"){z=0;D=0}else{A=new u(x.x-g.x,x.y-g.y,v.z-g.z);z=Math.atan2(A.values[0],A.values[1])*180/Math.PI+90;if(z>90)z-=180;else if(z<-90)z+=180;z=j(z);D=Math.atan2(A.values[1],A.values[0])*180/Math.PI}y[a].labelAngle(z).tickAngle(D);A=new u(v.x-g.x,v.y-g.y,v.z-g.z);b[a].attr("transform","translate("+g.x+" "+g.y+")");S=Math.atan2(A.values[1],A.values[0])*180/Math.PI+90;if(e==="none"&&S==0){S=-1}y[a].angle(S);y[a].labelAlign("start");M=(v.x-g.x)*(v.x-g.x)+(v.y-g.y)*(v.y-g.y);if(M<.01)M=0;if(e=="west"){y[a].height(Math.sqrt(M));y[a].width(Math.sqrt(M*100))}else{y[a].width(Math.sqrt(M))}if(i.rangeBands){var w=i.range();if(w[w.length-1]>w[0]){i.rangeBands([Math.sqrt(M),0])}else{i.rangeBands([0,Math.sqrt(M)])}}else{var w=i.range();if(w[w.length-1]>w[0]){i.range([Math.sqrt(M),0])}else{i.range([0,Math.sqrt(M)])}}return z}function j(e){var t=e%360;if(-271<t&&t<-270)return-271;else if(-270<=t&&t<-269)return-269;if(-181<t&&t<-180)return-181;else if(-180<=t&&t<-179)return-179;else if(-91<t&&t<-90)return-91;else if(-90<=t&&t<-89)return-89;else if(-1<t&&t<0)return-1;else if(0<=t&&t<1)return 1;else if(89<t&&t<90)return 89;else if(90<=t&&t<91)return 91;else if(179<t&&t<180)return 179;else if(180<=t&&t<181)return 181;else if(269<t&&t<270)return 269;else if(270<=t&&t<271)return 271;else if(359<t&&t<360)return 359;return Math.round(e)}function W(e){if(t.isEmptyObject(y)||!f||!m)return;f=f<0?0:f;m=m<0?0:m;y.plot.width(f).height(m);y.xAxis.drawable(true);y.yAxis.drawable(true);y.zAxis.drawable(true);var a=y.xAxis.getPreferredSize();var i=y.yAxis.getPreferredSize();var r=y.zAxis.getPreferredSize();var s=y.plot.width(),o=y.plot.height(),l=y.plot.depth();var u=n().rotateY(E).rotateX(D);var d=U(u);var h=G(d,0,0,s,o,l);var p=R(s,o,l);var _=F(p,u);var g=V(d,h,u,s,o,l,a,i,r);if(g.left>f/3||g.right>f/3||g.bottom>m/3){y.yAxis.drawable(false);y.zAxis.drawable(false);y.xAxis.drawable(false);a=y.xAxis.getPreferredSize();i=y.yAxis.getPreferredSize();r=y.zAxis.getPreferredSize();s=y.plot.width(),o=y.plot.height(),l=y.plot.depth();u=n().rotateY(E).rotateX(D);d=U(u);h=G(d,0,0,s,o,l);p=R(s,o,l);_=F(p,u);g=V(d,h,u,s,o,l,a,i,r)}var v=m-g.bottom-g.top;var x=f-g.left-g.right;var A=H(x,v,_,g);var M=u.unit().scale(A.x,A.y,A.z).clone();u.rotateY(E).rotateX(D);var S=0,z=0;var L=0;while(L<10){p=R(s,o,l);_=F(p,u);S=0-_.x+g.left+(x-_.z+_.x)/2;z=0-_.y+g.top+(v-_.w+_.y)/2;if(S>0&&z>0){break}A=H(x,v,_,g);u=M.clone();u.scale(A.x,A.y,A.z);M=u.clone();u.rotateY(E).rotateX(D);L++}y.plot.matrix(u);Y("south",d,"xAxis",T,u,0,0,s,o,l,h.x0,h.x1,h.y0,h.z0,h.z1);Y("west",d,"yAxis",w,u,0,0,s,o,l,h.x0,h.x1,h.y0,h.z0,h.z1);Y("none",d,"zAxis",C,u,0,0,s,o,l,h.x0,h.x1,h.y0,h.z0,h.z1);var I=y.yAxis.getPreferredSize();var k=b.yAxis.node(),O=c.getTransformToElement(k,k.parentNode);b.yAxis.attr("transform","translate("+(O.e-I.width)+","+O.f+")");p=R(s,o,l);_=F(p,u);k=b.yAxis.node(),O=c.getTransformToElement(k,k.parentNode);b.yAxis.attr("transform","translate("+(O.e+S)+","+(O.f+z)+")");k=b.xAxis.node(),O=c.getTransformToElement(k,k.parentNode);b.xAxis.attr("transform","translate("+(O.e+S)+","+(O.f+z)+")");k=b.zAxis.node(),O=c.getTransformToElement(k,k.parentNode);b.zAxis.attr("transform","translate("+(O.e+S)+","+(O.f+z)+")");k=b.plot.node();b.plot.attr("transform","translate("+S+","+z+")")}function X(e){W();e.each(function(a){A=e;d.drawBound(e,f,m,undefined,true);if(t.isEmptyObject(y))O();K()});return X}X.width=function(e,t){if(!arguments.length)return f;f=e;if(m){W()}return X};X.height=function(e,t){if(!arguments.length)return m;m=e;if(f){W()}return X};X.size=function(e){if(!arguments.length)return{width:f,height:m};m=e.height;f=e.width;W();return X};X.data=function(e){if(!arguments.length)return g;g=e;if(!t.isEmptyObject(y)){var a=new s(g);y.plot.data(a.getDataAdapter());N("xAxis");N("yAxis");N("zAxis")}return X};X.properties=function(e){if(!arguments.length)return z;_=e;if(!t.isEmptyObject(y)){k("xAxis");k("yAxis");k("zAxis");k("plot");k("datalabel");k("background")}a.extend(true,z,e.xyzcontainer);D=z&&z.xAngle?z.xAngle:D;E=z&&z.yAngle?z.yAngle:E;return X};X.config=function(e){if(!arguments.length)return v;v=e;return X};X.modules=function(e){if(!arguments.length){if(t.isEmptyObject(y)){O()}return y}y=e;return X};X.parent=function(e){if(!arguments.length)return A;A=e;return X};X.rotate=function(e){if(!arguments.length){return{xAngle:D,yAngle:E}}L=true;z.xAngle=D=e.xAngle;z.yAngle=E=e.yAngle;W();K();L=false;return X};X.dispatch=function(e){if(!arguments.length)return M;M=e;return X};X.infoForSizeLegend=function(){return{space:x,number:1,plotHeight:y.plot.height()}};X.yAxis=function(e){if(!arguments.length){return w}w=e.copy();w.tickHint=e.tickHint;w.tickNum=e.tickNum;return X};X.xAxis=function(e){if(!arguments.length){return T}T=e.copy();T.tickHint=e.tickHint;T.tickNum=e.tickNum;return X};X.zAxis=function(e){if(!arguments.length){return C}C=e.copy();return X};X.xAxisScaleChange=function(e,t){if(T.rangeBands){T.rangeBands(t)}else{T.range(t)}};X.zAxisScaleChange=function(e,t){C.rangeBands(t)};X.yAxisScaleChange=function(e,t){if(w.rangeBands){w.rangeBands(t)}else{w.range(t)}};X.getPropertyZone=function(e){var t=[];var a=b.plot.node().getBoundingClientRect();var i=[[]];i[0].push([a.left,a.top]);i[0].push([a.right,a.top]);i[0].push([a.right,a.bottom]);i[0].push([a.left,a.bottom]);t.push({name:"plot",bound:i});return t};X.destroy=function(){if(w){w.domain([0,1]).range([0,1])}if(T){T.domain([0,1]).range([0,1])}if(C){C.domain([0,1]).range([0,1])}w=null;T=null;C=null;for(var e in y){if(y.hasOwnProperty(e)){var t=y[e];if(t.dispatch){var a=t.dispatch();if(a.initialized){a.on("initialized.xyzcontainer",null)}if(a.showTooltip)a.on("showTooltip.xyzcontainer",null);if(a.hideTooltip)a.on("hideTooltip.xyzcontainer",null)}}}y=null;g=null;A=null;b=null;if(r){r.destroy();r=null}};function K(){for(var e in b){if(b.hasOwnProperty(e)){b[e].datum(y[e].data()).call(y[e],L)}}if(t.isExist(y.dataLabel)){y.dataLabel()}}var q=0;function Z(){if(S==++q&&!L){q=0;M.initialized()}}function J(e){M.showTooltip(e)}function Q(e){M.hideTooltip(e)}return X};return f});define("sap/viz/modules/manifests/XYZContainer",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/xyzcontainer"],function e(t,a,i){var r={id:"sap.viz.modules.xyzcontainer",type:a.Type.Container,name:"single container",properties:{xAngle:{name:"xAngle",supportedValueType:"Number",defaultValue:20,description:"Set the angle for the x axis. This value should be between '-90' and '90'."},yAngle:{name:"yAngle",supportedValueType:"Number",defaultValue:50,description:"Set the angle for the y axis. This value should be between '-180' and '180'."}},css:null,configure:null,events:{showTooltip:a.Event.TooltipShow.desc,hideTooltip:a.Event.TooltipHide.desc},fn:i};var s={viz:[],module:[r],feeds:[]};return s});define("sap/viz/modules/threeD/cube",["sap/viz/modules/threeD/Vector4D","sap/viz/modules/threeD/Vector3D","sap/viz/modules/threeD/matrix","sap/viz/modules/threeD/Point","sap/viz/util/NumberUtils"],function e(t,a,i,r,s){return function(){var e,o,n,l,u,d,h,p;var c,f;var m="v-datapoint-default";function _(_){var g=_.selectAll("g.v-cube").data(function(t,a){var i=d3.functor(e).apply(this,arguments);var r=d3.functor(o).apply(this,arguments);var s=d3.functor(n).apply(this,arguments);var c=d3.functor(l).apply(this,arguments);var f=d3.functor(u).apply(this,arguments);var m=d3.functor(d).apply(this,arguments);var _=d3.functor(h).apply(this,arguments);var g=d3.functor(p).apply(this,arguments);return[{wv:i,hv:r,dv:s,m:c,data:t,c:f,lightC:m,darkC:_,oc:g,ctx:t.data.ctx,val:t.data.val,info:t.data.info}]});g.exit().remove();g.enter().append("g").attr("class","v-cube v-datapoint v-morphable-datapoint "+m);var v=function(e,t,a){return[[0,0,0],[0,t,0],[0,t,a],[0,0,a],[e,0,0],[e,t,0],[e,t,a],[e,0,a]]};var y=g.selectAll('rect[class|="v-cube-surface"]').data(function(e){var t=e.wv;var r=e.hv;var o=e.dv;var n=e.c;var l=e.lightC;var u=e.darkC;var d=function(e){if(!f){return}var t={graphType:"cubeSide",drawingEffect:c,fillColor:n};n=f.register(t);t.fillColor=u;u=f.register(t);var a=[];e.forEach(function(e){a.push(e.type)});t.fillColor=l;t.graphType="cubeTop";if(a.indexOf("front")>-1&&a.indexOf("right")>-1&&a.indexOf("top")>-1){t.direction="LeftRight"}else if(a.indexOf("right")>-1&&a.indexOf("back")>-1&&a.indexOf("top")>-1){t.direction="BottomUp"}else if(a.indexOf("back")>-1&&a.indexOf("left")>-1&&a.indexOf("top")>-1){t.direction="RightLeft"}else if(a.indexOf("left")>-1&&a.indexOf("front")>-1&&a.indexOf("top")>-1){t.direction="TopDown"}else if(a.indexOf("front")>-1&&a.indexOf("right")>-1&&a.indexOf("bottom")>-1){t.direction="LeftRight"}else if(a.indexOf("right")>-1&&a.indexOf("back")>-1&&a.indexOf("bottom")>-1){t.direction="TopDown"}else if(a.indexOf("back")>-1&&a.indexOf("left")>-1&&a.indexOf("bottom")>-1){t.direction="RightLeft"}else if(a.indexOf("left")>-1&&a.indexOf("front")>-1&&a.indexOf("bottom")>-1){t.direction="BottomUp"}l=f.register(t)};var h=new Array({m:i().rotateX(90).translate(0,r,0).transform(e.m),type:"bottom"},{m:i().rotateY(180).translate(0,0,o).transform(e.m),type:"back"},{m:i().rotateY(90).transform(e.m),type:"left"},{type:"front",m:e.m},{m:i().rotateY(-90).translate(t,0,0).transform(e.m),type:"right"},{m:i().rotateX(-90).transform(e.m),type:"top"});h.forEach(function(e){e.normal=new a(0,0,-1).transform(e.m)});h=h.filter(function(e){return e.normal.value(2)<0});d(h);h.forEach(function(e){switch(e.type){case"bottom":e.x=0;e.y=0;e.w=t;e.h=o;break;case"back":e.x=-t;e.y=0;e.w=t;e.h=r;break;case"left":e.x=-o;e.y=0;e.w=o;e.h=r;break;case"front":e.x=0;e.y=0;e.w=t;e.h=r;break;case"right":e.x=0;e.y=0;e.w=o;e.h=r;break;case"top":e.x=0;e.y=-o;e.w=t;e.h=o;break}var a=e.normal.value(0);e.fill=s.precise(a)===0?l:a<0?n:u});return h});y.exit().remove();y.enter().append("rect").attr("class",function(e){return"v-cube-surface-"+e.type});y.attr("x",function(e){return e.x}).attr("y",function(e){return e.y}).attr("width",function(e){return e.w}).attr("height",function(e){return e.h}).attr("transform",function(e){if(e.m){return e.m.projection()}}).attr("fill",function(e){return e.fill});g.each(function(e){var a=0;if(e.m){var i=e.m.row(2);a=new t(0,e.hv,0,1).dotProduct(i)}d3.select(this.parentNode).datum().flbpz=a;var s=v(e.wv,e.hv,e.dv),o=[];s.forEach(function(t){o.push(new r(t[0],t[1],t[2]).transform(e.m))});o.sort(function(e,t){return t.x-e.x});o.splice(2);o.sort(function(e,t){return e.y-t.y});e.rtp=o[0]});_.sort(function(e,t){return d3.descending(e.flbpz,t.flbpz)})}_.width=function(){if(arguments.length===0){return e}e=arguments[0];return _};_.height=function(){if(arguments.length===0){return o}o=arguments[0];return _};_.depth=function(){if(arguments.length===0){return n}n=arguments[0];return _};_.matrix=function(){if(arguments.length===0){return l}l=arguments[0];return _};_.color=function(){if(arguments.length===0){return u}u=arguments[0];return _};_.colorlightC=function(){if(arguments.length===0){return d}d=arguments[0];return _};_.colordarkC=function(){if(arguments.length===0){return h}h=arguments[0];return _};_.originalcolor=function(){if(arguments.length===0){return p}p=arguments[0];return _};_.effectManager=function(){if(arguments.length===0){return f}f=arguments[0];return _};_.drawingEffect=function(){if(arguments.length===0){return c}c=arguments[0];return _};return _}});define("sap/viz/base/utils/CSSUtils",["sap/viz/base/UADetector"],function e(t){var a={setDOMStyle:function(e,a){if(!t.isIE()){e.style=a}else if(a.length>0){var i=a.split(";");for(var r=0;r<i.length;r++){if(i[r].length>0){var s=i[r].split(":");if(s.length>1){e.style[s[0].trim()]=s[1].trim()}}}}}};return a});define("sap/viz/modules/bar3d",["sap/viz/modules/util/MNDHandler","sap/viz/util/Scaler","sap/viz/base/utils/Objects","sap/viz/modules/threeD/cube","sap/viz/modules/threeD/matrix","sap/viz/lang/langManager","sap/viz/base/utils/ObjectUtils","sap/viz/modules/dispatch","sap/viz/base/utils/TypeUtils","sap/viz/modules/util/tooltipDataHandler","sap/viz/util/NumberUtils","sap/viz/base/utils/CSSUtils","sap/viz/util/DrawUtil"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c){var f=.5;return function(e,d){var m=0,g=0,v=0,y,b=e.props(null),x=s();var A,M=l("initialized","showTooltip","hideTooltip","valueScaleChange","primaryCategoryScaleChange","secondaryCategoryScaleChange");var S=null;var z=null;var D="normal";var E="v-datapoint-selected",w="v-datapoint-default",T="v-datapoint-hover";var C={normal:"#FFFFFF",deselected:"#FFFFFF"};var L={selected:1,hovered:2,deselected:"none",normal:"none"};var I={normal:"fill-opacity:1",selected:"fill-opacity:1",deselected:"fill-opacity:0.4"};var k={"sap.viz.modules.column3d.dimension":{key:"sap.viz.modules.column3d.dimension",values:[{col:{val:""},rows:[]}]}};var O={"sap.viz.modules.column3d.dimension":{key:"sap.viz.modules.column3d.dimension",values:[{col:{val:""},rows:[]}]}};var N=d3.scale.ordinal(),P=d3.scale.ordinal(),R=d3.scale.linear();var F=r();var B=d3.scale.ordinal();var V=d.effectManager;function H(e,t){e.setAttribute("class","v-cube v-datapoint v-morphable-datapoint "+U(t));if(t!=="hovered"){p.setDOMStyle(e,I[t])}e.setAttribute("stroke",C[t]);e.setAttribute("stroke-width",L[t])}function U(e){var t=null;switch(e){case"normal":t=w;break;case"selected":t=E;break;case"deselected":t=w;break;case"hovered":t=T;break}return t}function G(e,t){S=e;B.range(b.colorPalette);D=b.drawingEffect;var a=N.rangeBand();var i=P.rangeBand();var r=Y();var o=a/(1+2*f);var n=o;var l=o*f;var d=r?function(e){if(h.isNoValue(e.data.val)){return 0}if(e.data.val<0){return R(e.data.val)-R(0)}else{return R(0)-R(e.data.val)}}:function(e){if(h.isNoValue(e.data.val)){return 0}if(e.data.val<0){return R(0)-R(e.data.val)}else{return R(e.data.val)-R(0)}};var c=function(e){if(h.isNoValue(e.data.val)){return 0}else{return n}};F.width(r?o:d).height(r?d:o).depth(c).matrix(function(e){var t=e.aa1*a+l;var o=0;if(r){o=t}else{if(e.data.val<0){o=R(e.data.val)}else{o=R(0)}}var n=0;if(r){if(e.data.val<0){n=R(0)}else{n=R(e.data.val)}}else{n=g-t-2*l}var u=e.aa2*i+l;return s().translate(o,n,u).transform(x)}).color(function(e){return B(e.aa2)}).colorlightC(function(e){var t=B(e.aa2);var a=d3.rgb(t).hsl();var i=a.l;return d3.hsl(a.h,a.s,i*1.06).rgb().toString()}).colordarkC(function(e){var t=B(e.aa2);var a=d3.rgb(t).hsl();var i=a.l;return d3.hsl(a.h,a.s,i*.94).rgb().toString()}).originalcolor(function(e){return B(e.aa2)}).effectManager(V).drawingEffect(D);var m=e.select("g.v-datashapesgroup");if(!u.isExist(m[0][0])){m=e.append("g").attr("class","v-datashapesgroup")}var _=m.selectAll("g.v-datashape").data(A);_.enter().append("g").attr("class","v-datashape");_.exit().remove();F(m.selectAll("g.v-datashape"));e.selectAll(".v-datapoint").each(function(){this.setAttribute("class","v-cube v-datapoint v-morphable-datapoint "+w);p.setDOMStyle(this,I.normal);this.setAttribute("stroke",C.normal)});if(!t){M.initialized()}}G.afterUIComponentAppear=function(){M.initialized()};G.width=function(e){if(!arguments.length){return m}m=e;if(Y()){j();W()}else{X()}return G};G.depth=function(e){if(!arguments.length){return v}v=e;return G};G.height=function(e){if(!arguments.length){return g}g=e;if(Y()){X()}else{j();W()}return G};G.primaryCategoryScale=function(e){if(!arguments.length){return N}N=e;return G};G.secondaryCategoryScale=function(e){if(!arguments.length){return P}P=e;return G};G.valueScale=function(e){if(!arguments.length){return R}R=e;return G};G.valueScaleTitle=function(e){if(!arguments.length){var t=y.getMeasureValuesGroupDataByIdx(0),a=[];if(t){for(var i=0,r=t.values.length;i<r;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){a.push(t.values[i].col)}else{a.push(o.get("IDS_ISNOVALUE"))}}}return a.join(" & ")}return this};G.data=function(e){if(!arguments.length){return y}y=e;var a=t(y);ee(a,y);var i=a.MG1;var r;var s=i[0].length;var o=new Array(s);for(r=0;r<s;r++){o[r]=r}N.domain(o);var n=i.length;var l=new Array(n);for(r=0;r<n;r++){l[r]=r}P.domain(l);W();A=[];for(var r=0,u=i.length;r<u;r++){var d=i[r];for(var h=0,p=d.length;h<p;h++){A.push({data:d[h],aa2:r,aa1:h})}}var c=d3.extent(A,function(e){return e.data.val});var f=c[0],m=c[1];f=f===undefined?0:f;m=m===undefined?1:m;var _=f>=0?0:f;var g=m<=0?0:m;if(_===0&&g===0){g=1}R.domain([_,g]);return G};G.properties=function(e){if(!arguments.length){return b}i.extend(true,b,e);j();W();return G};G.colorPalette=function(e){if(!arguments.length){return b.colorPalette}b.colorPalette=e;return this};G.matrix=function(e){if(!arguments.length){return x}x=e;return this};G.secondaryCategoryData=function(e){if(!arguments.length){return k}k=e;return this};G.primaryCategoryData=function(e){if(!arguments.length){return O}O=e;return G};G.dispatch=function(e){if(!arguments.length){return M}M=e;return G};G.parent=function(){if(!arguments.length){return S}S=_;return G};G.highlight=function(e,t){if(!u.isArray(e)){e=[e]}for(var a=0;a<e.length;a++){var i=d3.select(e[a]);var r=c.getColorString(i.select("rect").node(),"fill");var s=c.colorLinerTransform(V,{factor:.7,constant:0},r);C["hovered"]=C["selected"]=c.rgb2Hex(s);if(t){H(e[a],"hovered")}else{H(e[a],"selected")}}};G.unhighlight=function(e,t,a){if(!u.isArray(e)){e=[e]}for(var i=0;i<e.length;i++){if(!t){if(a){H(e[i],"normal")}else{H(e[i],"deselected")}}else{var r=d3.select(e[i]);var s=c.getColorString(r.select("rect").node(),"fill");var o=c.colorLinerTransform(V,{factor:.7,constant:0},s);C["selected"]=c.rgb2Hex(o);H(e[i],"selected")}}};G.clear=function(e){if(e==null){S.selectAll(".v-datapoint").each(function(){H(this,"normal")})}else{S.selectAll(".v-datapoint").each(function(){H(this,"deselected")})}};G.destroy=function(e){if(S){S.selectAll(".v-datapoint").remove()}y=null;A=null;S=null;z=null;k["sap.viz.modules.column3d.dimension"].key=null;k["sap.viz.modules.column3d.dimension"].values[0].col=null;k["sap.viz.modules.column3d.dimension"].values[0].rows=null;k=null;O["sap.viz.modules.column3d.dimension"].key=null;O["sap.viz.modules.column3d.dimension"].values[0].col=null;O["sap.viz.modules.column3d.dimension"].values[0].rows=null;O=null;if(N){N.domain([0,1]).range([0,1])}if(P){P.domain([0,1]).range([0,1])}if(R){R.domain([0,1]).range([0,1])}N=null;P=null;R=null;F=null;if(B){B.domain([0,1]).range([0,1])}if(V&&V.destroy){V.destroy()}x.destroy();x=null;if(d){d.destroy();d=null}};function Y(){return b.direction==="vertical"}function j(){N.rangeBands(Y()?[0,m]:[g,0]);M.primaryCategoryScaleChange(N,Y()?[0,m]:[g,0])}function W(){v=N.rangeBand()*P.domain().length;P.rangeBands([0,v]);M.secondaryCategoryScaleChange(P,[0,v])}function X(){R.range(Y()?[g,0]:[0,m]);a.perfect(R);M.valueScaleChange(R,Y()?[g,0]:[0,m])}var K=function(e){var t=o.get("IDS_ISNOVALUE");if(e===null||e===undefined){return t}else{return e}};var q=function(e){for(var t=0;t<e.length;++t){e[t].val=K(e[t].val)}return e};var Z=function(e){var t={};switch(e.aa){case 0:t.dii_a1=e.dii;break;case 1:t.dii_a2=e.dii;break;case 2:t.dii_a3=e.dii;break}return t};var J=function(e,t){var a,i,r;var s=$(a,e,i);i=s.feedsLength;var o=$(a,t,r);r=o.feedsLength;k["sap.viz.modules.column3d.dimension"].values[0].type=undefined;O["sap.viz.modules.column3d.dimension"].values[0].type=undefined;k["sap.viz.modules.column3d.dimension"].values[0].rows=o.labels;k["sap.viz.modules.column3d.dimension"].values[0].col.val=o.title;if(o.MNDInfo.hasOnlyMND){k["sap.viz.modules.column3d.dimension"].values[0].type="MND"}O["sap.viz.modules.column3d.dimension"].values[0].rows=s.labels;O["sap.viz.modules.column3d.dimension"].values[0].col.val=s.title;if(s.MNDInfo.hasOnlyMND){O["sap.viz.modules.column3d.dimension"].values[0].type="MND"}};var Q=function(e,t){var a=e[0];var i=function(e){var i=a;a=[];for(var r=0;r<i.length;r++){for(var s=0;s<e.length;s++){var o=i[r].val===undefined?i[r].val:i[r].val,l=e[s].val===undefined?e[s].val:e[s].val;var u={path:{}};n.extend(u.path,i[r].ctx.path,e[s].ctx.path);a.push({val:o+t+l,ctx:u})}}};for(var r=1;r<e.length;r++){i(e[r])}return a};var $=function(e,t,a){var i=[],r=[],s=" / ",n=" - ";var l,u=false,d,h,p;if(t&&t.length>0){for(d=0,p=t.length;d<p;d++){if(t[d].type!=="MND"){if(e===undefined){e=K(t[d].col.val)}else{e=e+s+K(t[d].col.val)}r=t[d].rows;for(h=0;h<r.length;h++){if(i[h]===undefined){i[h]={};i[h].val=K(r[h].val);i[h].ctx={path:Z(r[h].ctx.path)}}else{i[h].val=i[h].val+s+K(r[h].val)}}}else{l=d}}a=i.length}if(l!==undefined){if(i.length>0){if(t[l].rows.length>1){if(l===0){e=o.get("IDS_DEFAULTMND")+n+e;i=Q([q(t[l].rows),i],n);a=a*t[l].rows.length}else if(l===t.length-1){e=e+n+o.get("IDS_DEFAULTMND");i=Q([i,q(t[l].rows)],n);a=a*t[l].rows.length}}}else{e=o.get("IDS_DEFAULTMND");r=t[l].rows;for(h=0;h<r.length;h++){r[h].val=K(r[h].val);i.push(r[h])}a=r.length;if(t.length===1){u=true}}}return{title:e,labels:i,feedsLength:a,MNDInfo:{MNDIndex:l,hasOnlyMND:u}}};function ee(){var e=null,t=null;var a=y.getAnalysisAxisDataByIdx(0);if(a){e=a.values}a=y.getAnalysisAxisDataByIdx(1);if(a){t=a.values}J(e,t)}return G}});define("sap/viz/modules/manifests/xy/BaseBar",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/manifests/xy/Base"],function e(t,a,i){var r={id:"sap.viz.modules.xy.bar.base",name:"bar",base:"sap.viz.modules.xy.base",abstract:true,properties:{tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the tooltip is enabled"}},isExported:false,description:"Settings for tooltip related properties"},isRoundCorner:{name:"isRoundCorner",supportedValueType:"Boolean",defaultValue:false,description:"Set whether bars have rounded corners",isExported:false},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the data loading animation is enabled"},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the data updating animation is enabled"},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the resizing animation is enabled"}},description:"Settings for animations in the plot area",example:"<a href='"+a.DocExample.SnippetUrl+"8535' target='_blank'>"+a.DocExample.TryThisValue+"</a>"}},css:{}};var s={viz:[],module:[r].concat(i.module),feeds:[].concat(i.feeds)};return s});define("sap/viz/modules/manifests/xyz/Bar3D",["sap/viz/modules/manifests/Module","sap/viz/modules/bar3d","sap/viz/modules/Constants","sap/viz/modules/manifests/xy/BaseBar"],function e(t,a,i,r){var s={id:"sap.viz.modules.bar3d",name:"3d bar",type:i.Type.Chart,fn:a,properties:{colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:i.COLOR.SAPColorSingleAxis,description:"Set the color palette.",example:"<a href='"+i.DocExample.SnippetUrl+"4449' target='_blank'>"+i.DocExample.TryThisValue+"</a>"},direction:{name:"direction",supportedValueType:"String",supportedValues:["vertical","horizontal"],defaultValue:"vertical",description:"Set the direction.",isExported:false},drawingEffect:{name:"drawingEffect",description:"Set the drawing effect for the 3D elements.",supportedValueType:"String",supportedValues:["normal","glossy"],defaultValue:"normal",isExported:true}},feeds:{id:"xy",configure:{secondaryValues:null}}};var o={viz:[],module:[s].concat(r.module),feeds:[].concat(r.feeds)};return o});define("sap/viz/chart/elements/utils/RotateHandler",[],function(){var e=function(){this._xAngle=undefined;this._yAngle=undefined;this._oldX=undefined;this._oldY=undefined;this._module=undefined};function t(){if(d3.event){return d3.event}else{return window.event}}var a=e.prototype;a.rotateStart=function(e,a){var i=a.rotate();this._xAngle=i.xAngle;this._yAngle=i.yAngle;this._module=a;var r=t();this._oldX=r.layerX;this._oldY=r.layerY};a.rotateMove=function(e){if(!this._module){return}var a=t(),i=a.layerX,r=a.layerY;this._yAngle+=(this._oldX-i)/2;if(this._yAngle>180){this._yAngle-=360}else if(this._yAngle<-180){this._yAngle+=360}this._xAngle+=(r-this._oldY)/2;if(this._xAngle>90){this._xAngle=90}else if(this._xAngle<-90){this._xAngle=-90}this._oldX=i;this._oldY=r;this._module.rotate({xAngle:this._xAngle,yAngle:this._yAngle});a.stopPropagation();a.preventDefault()};a.rotateEnd=function(e){if(!this._module){return}if(this._module.rotateEnd){this._module.rotateEnd()}};a.destroy=function(){this._module=null};return e});define("sap/viz/manifests/xyz/Base3DChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/layout/Stack","sap/viz/chart/elements/manifests/Tooltip","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/modules/manifests/Title","sap/viz/modules/manifests/Legend","sap/viz/modules/manifests/XYZContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/Background","sap/viz/modules/manifests/xyz/Bar3D","sap/viz/chart/elements/behaviors/Interaction","sap/viz/modules/manifests/layout/Dock","sap/viz/modules/manifests/legend/Common","sap/viz/chart/elements/utils/RotateHandler","sap/viz/chart/elements/behaviors/InteractionHelper","sap/viz/util/BoundingBox"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g){return function(e){var t=e==="vertical";var v,y;if(t){v="xAxis";y="yAxis"}else{v="yAxis";y="xAxis"}var b=new m;var x=function(e,t){var a=true;for(var i in e){if(e.hasOwnProperty(i)){if(e[i]!==t[i]){a=false;break}}}return a};var A;var M={id:"viz/3d_"+(t?"column":"bar"),name:"IDS_3D_"+(t?"COLUMN":"BAR"),isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",modules:{root:{id:"sap.viz.modules.rootContainer",configure:{propertyCategory:"general"},modules:{title:{id:"sap.viz.modules.title",configure:{propertyCategory:"title",properties:{layout:{position:"top",priority:1}}}},legends:{id:"sap.viz.modules.legend",configure:{propertyCategory:"legendGroup",properties:{layout:{position:"right",priority:1}}},modules:{layout:{id:"sap.viz.modules.layout.stack"},legend:{id:"sap.viz.modules.legend.common",data:{aa:[2]},configure:{propertyCategory:"legend",properties:{layout:{position:"top",priority:0}}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{orientation:"left"}}},layout:{id:"sap.viz.modules.layout.dock"},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{selectability:{mode:"inclusive",lassoWithCtrlKey:true},preserveSelectionWhenDragging:true,holdSelection:false,handlers:[{triggerKey:"pan_start_on_eventLayer",fn:function(e){var t=_.getBoundingBox(this._rootNode.select(".v-m-main > .v-bound").node());if(!g.contains(t,e.data.point)){return}A=[];for(var a=-1;++a<this._lastSelected.length;){A.push(this._lastSelected[a].__data__.ctx.path)}this.runDecoration("hideDetail","infoMode");this.runDecoration("hideDetail","actionMode");this.runDecoration("clearPlot");var i=this._selb_plots["main"];b.rotateStart(e,i)}},{triggerKey:"pan_move_on_eventLayer",fn:function(e){var t=_.getBoundingBox(this._rootNode.select(".v-m-main > .v-bound").node());if(!g.contains(t,e.data.point)){return}b.rotateMove(e)}},{triggerKey:"pan_end_on_eventLayer",fn:function(e){var t=_.getBoundingBox(this._rootNode.select(".v-m-main > .v-bound").node());if(!g.contains(t,e.data.point)){return}b.rotateEnd(e);if(A&&A.length){var a=_.findPlotNodeContainingNode(e.data.target);if(a){var i=a.querySelectorAll(".v-datapoint");var r=[],s=[];for(var o=-1;++o<i.length;){for(var n=-1;++n<A.length;){if(x(i[o].__data__.ctx.path,A[n])){r.push(i[o]);break}}if(n>=A.length){s.push(i[o])}}this._lastSelected=r;this.runDecoration("highlightBySelecting",this._lastSelected);this.runDecoration("unhighlight",s,false,false)}}}}]},propertiesOverride:{pan:{isExported:false}}}},main:{id:"sap.viz.modules.xyzcontainer",modules:{plot:{id:"sap.viz.modules.bar3d",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",properties:{direction:e}}},zAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the category axis of an XYZ chart",propertyCategory:"zAxis",properties:{type:"category",position:"bottom",forceVerticalFont:true,forceLabelArea:true,gridline:{visible:false},shapeRendering:false,isIndependentMode:true},propertiesOverride:{gridline:{isExported:false},axisline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:false}},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},maxSizeRatio:{isExported:false}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:e}}}},configure:{propertyCategory:"xyzcontainer",properties:{xAngle:20,yAngle:50,layout:{position:"center",priority:10}}}}}}},dependencies:{attributes:[{targetModule:"root.main",target:v,sourceModule:"root.main.plot",source:"primaryCategoryScale"},{targetModule:"root.main",target:y,sourceModule:"root.main.plot",source:"valueScale"},{targetModule:"root.main."+y,target:"scale",sourceModule:"root.main",source:y},{targetModule:"root.main."+v,target:"scale",sourceModule:"root.main",source:v},{targetModule:"root.main",target:"zAxis",sourceModule:"root.main.plot",source:"secondaryCategoryScale"},{targetModule:"root.main.zAxis",target:"scale",sourceModule:"root.main",source:"zAxis"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.main.zAxis",target:"independentData",sourceModule:"root.main.plot",source:"secondaryCategoryData"},{targetModule:"root.main."+v,target:"independentData",sourceModule:"root.main.plot",source:"primaryCategoryData"},{targetModule:"root.main."+y,target:"title",sourceModule:"root.main.plot",source:"valueScaleTitle"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main",listener:t?"xAxisScaleChange":"yAxisScaleChange",sourceModule:"root.main.plot",type:"primaryCategoryScaleChange.xyzcontainer"},{targetModule:"root.main",listener:t?"yAxisScaleChange":"xAxisScaleChange",sourceModule:"root.main.plot",type:"valueScaleChange.xyzcontainer"},{targetModule:"root.main",listener:"zAxisScaleChange",sourceModule:"root.main.plot",type:"secondaryCategoryScaleChange.xyzcontainer"}]}};var S=M.modules.root.modules.main.modules;S[v]={id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XYZ chart",propertyCategory:v,properties:{type:"category",isIndependentMode:true,position:t?"bottom":"left",forceVerticalFont:t?true:undefined,forceLabelArea:true,gridline:{visible:false,showFirstLine:false,showLastLine:false},shapeRendering:false},propertiesOverride:{gridline:{isExported:false},axisline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:false}},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},maxSizeRatio:{isExported:false}}}};S[y]={id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XYZ chart",propertyCategory:y,properties:{type:"value",position:t?"left":"bottom",forceVerticalFont:t?undefined:true,shapeRendering:false,gridline:{visible:false,showFirstLine:false,showLastLine:false}},propertiesOverride:{gridline:{isExported:false},label:{hideSubLevels:{isExported:false}},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},maxSizeRatio:{isExported:false}}}};var z={viz:[M],module:[].concat(a.module,i.module,r.module,s.module,o.module,n.module,l.module,u.module,d.module,h.module,p.module,c.module,f.module),feeds:[].concat(a.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds,l.feeds,u.feeds,d.feeds,h.feeds,p.feeds,c.feeds,f.feeds)};return z}});define("sap/viz/manifests/xyz/Bar3DChart",["sap/viz/manifests/xyz/Base3DChart"],function e(t){return t("horizontal")});define("sap/viz/impls/Bar3DChart",["sap/viz/manifests/xyz/Bar3DChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/xy/BaseHorizontalChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/Title","sap/viz/modules/manifests/Legend","sap/viz/modules/manifests/XYContainer","sap/viz/chart/elements/manifests/Tooltip","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/Background","sap/viz/modules/manifests/DataLabel","sap/viz/modules/manifests/layout/Dock","sap/viz/modules/manifests/layout/Stack","sap/viz/modules/manifests/legend/Common","sap/viz/chart/elements/manifests/controller/Interaction"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c){var f={id:"riv/basehorizontalchart",name:"IDS_BASEHORIZONTALCHART",isBuiltIn:true,abstract:true,modules:{root:{id:"sap.viz.modules.rootContainer",configure:{propertyCategory:"general"},modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousedown","mousemove","mouseover","mouseout","touchstart"],holdSelection:true},propertiesOverride:{pan:{isExported:true}}}},layout:{id:"sap.viz.modules.layout.dock"},title:{id:"sap.viz.modules.title",configure:{propertyCategory:"title",properties:{layout:{position:"top",priority:0}}}},legends:{id:"sap.viz.modules.legend",configure:{propertyCategory:"legendGroup",properties:{layout:{position:"right",priority:1}}},modules:{legend:{id:"sap.viz.modules.legend.common",data:{aa:[2]},configure:{propertyCategory:"legend",properties:{layout:{order:0}}}},layout:{id:"sap.viz.modules.layout.stack"}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"bar",orientation:"left"}}},main:{id:"sap.viz.modules.xycontainer",configure:{propertyCategory:"xyContainer",properties:{layout:{position:"center",priority:3}}},modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,orientation:"horizontal",position:"inside",automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:"right"}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart",propertyCategory:"xAxis",properties:{type:"value",position:"bottom"},propertiesOverride:{label:{hideSubLevels:{isExported:false}}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart",propertyCategory:"yAxis",properties:{type:"category",position:"left",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},axisline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"horizontal"}}},plot:{configure:{properties:{orientation:"horizontal"},propertiesOverride:{primaryValuesColorPalette:{isExported:false},secondaryValuesColorPalette:{isExported:false}}}}}}}}},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"}],events:[]}};var m={viz:[f],module:[].concat(a.module,i.module,r.module,s.module,c.module,o.module,n.module,l.module,u.module,d.module,h.module,p.module),feeds:[].concat(a.feeds,i.feeds,r.feeds,s.feeds,c.feeds,o.feeds,n.feeds,l.feeds,u.feeds,d.feeds,h.feeds,p.feeds)};return m});define("sap/viz/modules/BaseHorizontalBar",["sap/viz/modules/Constants","sap/viz/base/utils/oo","sap/viz/modules/BaseGesture","sap/viz/modules/dispatch","sap/viz/base/utils/ObjectUtils","sap/viz/base/utils/Objects","sap/viz/base/utils/TypeUtils","sap/viz/lang/langManager","sap/viz/modules/util/defaultSelectionUtil","sap/viz/modules/util/GestureUtil","sap/viz/modules/util/BoundUtil","sap/viz/util/DrawUtil","sap/viz/modules/util/selectionUtil"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c){var f=t.CSS.CLASS.DATAPOINTSELECTED,m=t.CSS.CLASS.DATAPOINT,_="."+m,g=t.CSS.CLASS.DATAPOINTHOVER;var v=function(e,t){v.superclass.constructor.apply(this,arguments);o.extend(true,this._props,e.props(null));this._shapePalette=["squareWithRadius"];this._colorPalette=[];this._seriesData=[];this._valueScales=[];this._sizeChange=false,this._dataStructureChange=false,this._dataValueChange=false,this._propertiesChange=false;this._lastHovered=null;this._defsEnter=null,this._roundCornerDefs=null,this._suffix=s.guid();this._effectManager=t.effectManager;this._styleManager=t.styleManager;this._rawData=t.rawData;this._enableDataLoadingAnimation=true,this._enableDataUpdatingAnimation=true,this._enableResizingAnimation=true,this._isOnlyInitAnimation=false;this._totalIntervalTime=1e3;this._enableRoundCorner=false,this._tooltipVisible=true;this._isDualAxis=false,this._hasMNDonCategoryAxis=false;this._axis1ColorPalette=null,this._axis2ColorPalette=null,this._drawingEffect="normal";this._MNDInnerOnColor=false;this._measureOnAxis1=0;this._measureOnAxis2=0;this._data1=null,this._data2=null;this._secondaryAxisBottomBoundary=0,this._secondaryAxisTopBoundary=0,this._primaryAxisBottomBoundary=0,this._primaryAxisTopBoundary=0;this._init_secondaryAxisBottomBoundary=0,this._init_secondaryAxisTopBoundary=0,this._init_primaryAxisBottomBoundary=0,this._init_primaryAxisTopBoundary=0;this._secondaryAxisManualRange=false,this._primaryAxisManualRange=false;this._hasDefaultSelection=false;this._isPinching=false;this._pinchEvent=null;this._raw_data=null};v.prototype.applyFormatConditions=function(e,t,a,i){var r=function(e,t){var a={drawingEffect:i._drawingEffect,fillColor:t.color,direction:"vertical"};var r=i._effectManager.register(a);var s;for(s=0;s<e.length;s++){e[s].setAttribute("fill",r)}};c.applyConditons(e,t,a,r)};v.prototype.dispatch=function(e){if(!arguments.length){return this._eDispatch}this._eDispatch=e;return this};v.prototype.setRawData=function(e){this._raw_data=e};v.prototype.data=function(e){if(!arguments.length){return this._data}this._data=e;if(this._data){this.parseData()}return this};v.prototype.width=function(e){if(!arguments.length){return this._width}this._sizeChange=this._width===e&&!this._sizeChange?false:true;this._width=e;if(n.isExist(this._width)&&n.isExist(this._height)&&n.isExist(this._seriesData)){this.makeScales()}return this};v.prototype.height=function(e){if(!arguments.length){return this._width}this._sizeChange=this._height===e&&!this._sizeChange?false:true;this._height=e;if(n.isExist(this._width)&&n.isExist(this._height)&&n.isExist(this._seriesData)){this.makeScales()}return this},v.prototype.size=function(e){if(!arguments.length){return{width:this._width,height:this._height}}this._sizeChange=this._height===e.height&&this._width===e.width&&!this._sizeChange?false:true;this._width=e.width;this._height=e.height;if(n.isExist(this._width)&&n.isExist(this._height)&&n.isExist(this._seriesData)){this.makeScales()}return this},v.prototype.properties=function(e){if(!arguments.length){return this._props}this._propertiesChange=true;o.extend(true,this._props,e);this.parseOptions();return this};v.prototype.render=function(){};v.prototype.clear=function(e){if(e===undefined||e===false){var t=this._d3root.selectAll(_);t.attr("fill-opacity",1).attr("stroke","none").classed(f,false).classed(g,false);if(this._hasDefaultSelection){u.clearSelectionInfo(this._d3root,false,t)}}else{this._d3root.selectAll(_).attr("fill-opacity",.4).attr("stroke","none").classed(f,false).classed(g,false)}};v.prototype.highlight=function(e,t){var a=this;if(!n.isArray(e)){e=[e]}if(!t){for(var i=0;i<e.length;i++){d3.select(e[i]).classed(f,true);d3.select(e[i]).classed(g,false)}}else{for(var r=0;r<e.length;r++){d3.select(e[r]).classed(f,false);d3.select(e[r]).classed(g,true)}}if(a._hasDefaultSelection){u.clearSelectionInfo(a._d3root,true,e)}if(!this._enableRoundCorner){p.highlightProperties.attributeOpacityName="fill-opacity";p.nodesHighlight(e,{factor:.7,constant:0},this._effectManager,t);p.resetHighlightProperties()}};v.prototype.unhighlight=function(e,t,a){if(!n.isArray(e)){e=[e]}if(t){for(var i=0;i<e.length;i++){d3.select(e[i]).classed(f,true);d3.select(e[i]).classed(g,false)}}else{for(var r=0;r<e.length;r++){d3.select(e[r]).classed(f,false);d3.select(e[r]).classed(g,false)}}if(this._hasDefaultSelection){u.clearSelectionInfo(this._d3root,false,e)}p.highlightProperties.attributeOpacityName="fill-opacity";p.nodesUnhighlight(e,t,a);p.resetHighlightProperties()};v.prototype.secondAxisTitle=function(e){if(!arguments.length){var t=this._data.getMeasureValuesGroupDataByIdx(1),a=[];if(t){for(var i=0,r=t.values.length;i<r;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){a.push(t.values[i].col)}else{a.push(l.get("IDS_ISNOVALUE"))}}}return a.join(" & ")}return this};v.prototype.primaryAxisTitle=function(e){if(!arguments.length){var t=this._data.getMeasureValuesGroupDataByIdx(0),a=[];if(t){for(var i=0,r=t.values.length;i<r;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){a.push(t.values[i].col)}else{a.push(l.get("IDS_ISNOVALUE"))}}}return a.join(" & ")}return this};v.prototype.shapePalette=function(e){if(!arguments.length){return this._shapePalette}this._shapePalette=e;return this};v.prototype.colorPalette=function(e){if(!arguments.length){return this._colorPalette}this._colorPalette=e;return this};v.prototype.secondScale=function(e){if(!arguments.length){return this._valueAxis2.scale}this._valueAxis2.scale.scale=e;this._valueScales[1]=e;return this};v.prototype.primaryScale=function(e){if(!arguments.length){return this._valueAxis1.scale}this._valueAxis1.scale=e;this._valueScales[0]=e;return this};v.prototype.categoryScale=function(e){if(!arguments.length){return this._categoryScale}this._categoryScale=e;return this};v.prototype.dataLabel=function(e){};v.prototype.secondAxisColor=function(){if(!this._hasMNDonCategoryAxis){return this._colorPalette[this._seriesData[0].length-1]}else{return undefined}};v.prototype.primaryAxisColor=function(){if(this._isDualAxis&&!this._hasMNDonCategoryAxis){return this._colorPalette[0]}else{return undefined}};v.prototype.parseOptions=function(){};v.prototype.parseData=function(){};v.prototype.makeScales=function(){};v.prototype.enableAnimation=function(){var e=false;if(!this._isOnlyInitAnimation){e=this._enableDataLoadingAnimation}else if(this._dataStructureChange||this._dataValueChange){e=this._enableDataUpdatingAnimation}else if(this._sizeChange){e=this._enableResizingAnimation}return e};v.prototype.globalDOMDestroy=function(e){var t=0,a=0;if(e){for(t=0;t<e.length;t++){if(e[t]){for(a=0;a<e[t].length;a++){if(e[t][a].remove){e[t][a].remove()}e[t][a]=null}e[t]=null}}e=null}};v.prototype.destroy=function(){if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1])}if(this._valueAxis2.scale){this._valueAxis2.scale.domain([0,1]).range([0,1])}if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1])}if(this._effectManager&&this._effectManager.destroy){this._effectManager.destroy()}if(this._styleManager&&this._styleManager.destroy){this._styleManager.destroy()}if(this._d3root){this.globalDOMDestroy(this._d3root);this._d3root=null}this._seriesData=null;this._data1=null;this._data2=null;this._defsEnter=null;this._roundCornerDefs=null;this._data=null;this._rawData=null;this._valueAxis1=null;this._valueAxis2=null;this._categoryScale=null;this._effectManager=null;this._styleManager=null;this._axis1ColorPalette=null;this._axis2ColorPalette=null;this._colorPalette=null;this._shapePalette=null;this._suffix=null;this._drawingEffect=null;this._eDispatch=null;this._props=null;this._valueScales=null;this._dimensionScale=null;this._pinchEvent=null;this._raw_data=null;this._panEvent=null};a.extend(v,i);return v});define("sap/viz/modules/util/imageUtil",[],function e(){var t=function(){};var a=function(e){var t=0;if(e>=1){t=1;for(;;){if(e/10<1){break}else{e/=10;t*=10}}}else if(e<1){t=.1;for(;;){if(e*10>=1){break}else{e*=10;t/=10}}}return t};var i=function(e,t,i){var r=1;var s=[];for(var o=0;o<e.length;o++){for(var n=0;n<e[o].length;n++){var l={};l.rectWidth=t(e[o][n].val);l.rectHeight=i;l.imageWidth=i;l.val=e[o][n].val;s.push(l)}}s.sort(function(e,t){return t.rectWidth-e.rectWidth});if(s.length!==0){var u=s[0].rectWidth/s[0].imageWidth;var d=s[0].val;var h=a(u/d);var p=[];p.push({base:1,gap:Math.abs(h*d-u)});p.push({base:2,gap:Math.abs(h*2*d-u)});p.push({base:5,gap:Math.abs(h*5*d-u)});p.push({base:10,gap:Math.abs(h*10*d-u)});var c=function(e,t){return e.gap-t.gap};p.sort(c);r=h*p[0].base}return r};var r=function(e){var t="";var a=this._props.imagePalette.length;if(a>0){t=this._props.imagePalette[e%a]}return t};t.imageFill=function(e,t,a){var s=this;var o=function(e,t,a){return"I-"+s._suffix+"-defID-"+a+t};var n=function(e,t,a){return"url(#"+o(e,t,a)+")"};var l=function(e){var t=s._valueScales[e.valueAxis];return t(e.val)};var u=function(e){return l(e)+2};var d=function(e){var t=e.val;if(e.val<0){t=-t}var i={number:0,interval:a};i.number=t*f;var r=Math.floor(i.number);var s=i.number-r;var o=l(e);var n=a;var u=n*s;var d;if(r===0){d=0}else{if(o>u){d=(o-u)/r}else{d=0}}var h;if(r<=1){h=o/2}else{if(o>n){h=(o-u)/r}else{h=o/(r+1)}}var p;if(r===0){p=0}else if(r===1){p=o-u}else if(o>n){p=(o-n)/(r-1)}else{p=o/(r+1)}if(d>=n){i.interval=d}else if(h<n&&u>n-h){i.interval=h}else{i.interval=p}return i};var h=[];var p=function(e,t,i){var o=function(e,a){return s._suffix+"-pathID-"+i+t+a};var n=function(e,t){return"url(#"+o(e,t)+")"};var u=function(e,t){return"L-"+o(e,t)};var h=function(e,t){return"url(#"+u(e,t)+")"};var p=d3.select(this);var c=l(e);var f=a;var m=d(e);var _=Math.floor(m.number);var g=m.number-_;p.selectAll("*").remove();var v=0;for(;v<_;v++){p.append("image").attr("xlink:xlink:href",r.call(s,t)).attr("width",f).attr("height",f).attr("x",v*m.interval)}if(g){var y=v*m.interval;var b=p.append("g").attr("transform","translate("+y+",0)");b.append("defs").append("pattern").attr("id",u).attr("patternUnits","userSpaceOnUse").attr("width",f+2).attr("height",f+2).append("image").attr("xlink:xlink:href",r.call(s,t)).attr("width",f).attr("height",f);b.append("rect").attr("width",f*g).attr("height",f).attr("fill",h)}};e.selectAll("defs").remove();var c=e.append("defs").append("pattern").attr("id",o).attr("patternUnits","userSpaceOnUse").attr("width",u).attr("height",a+2);var f=1;c.each(function(e){var t=s._valueScales[e.valueAxis];f=i(s._seriesData,t,a)});c.each(p);t.attr("fill",n);var m=false;if(m){t.attr("stroke","#555555");t.attr("stroke-width","1")}};return t});define("sap/viz/modules/util/VizBarSizeUtil",[],function e(){function t(e){if(e<2){return 1}return e}return{fixDecimal:t}});define("sap/viz/modules/bar",["sap/viz/modules/Constants","sap/viz/base/utils/oo","sap/viz/modules/BaseHorizontalBar","sap/viz/base/utils/TypeUtils","sap/viz/modules/util/MNDHandler","sap/viz/util/NumberUtils","sap/viz/util/Scaler","sap/viz/modules/util/BoundUtil","sap/viz/base/UADetector","sap/viz/modules/util/tooltipDataHandler","sap/viz/modules/util/defaultSelectionUtil","sap/viz/modules/util/imageUtil","sap/viz/modules/util/ClippathUtil","sap/viz/modules/util/VizBarSizeUtil"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f){var m=t.CSS.CLASS.DATAPOINTSELECTED,_=t.CSS.CLASS.DATAPOINT,g="."+_,v=t.CSS.CLASS.MORPHABLEDATAPOINT;var y="v-datashapesgroup";var b=function(){if(++this._bar_currentAnimationCount===this._bar_totalAnimationCount&&this._eDispatch){this._eDispatch.initialized()}};var x=function(e,t,a){this._primaryAxisTopBoundary=this._primaryAxisBottomBoundary=0;this._secondaryAxisTopBoundary=this._secondaryAxisBottomBoundary=0;var i=[];var r=0;if(e[0]&&e[0].length){r=e[0].length}else if(t[0]&&t[0].length){r=t[0].length}var s=[];var n=0,l=0;var u=0,d=0;for(u=0;u<e.length;u++){if(this._hasMNDonCategoryAxis){for(d=0;d<e[u].length;d++){if(a[d]===0){n=e[u][d].val;e[u][d].valueAxis=0;if(this._primaryAxisTopBoundary<n){this._primaryAxisTopBoundary=n}if(this._primaryAxisBottomBoundary>n){this._primaryAxisBottomBoundary=n}this._bar_indexforSecondaryAxis++}else{l=e[u][d].val;e[u][d].valueAxis=1;if(this._secondaryAxisTopBoundary<l){this._secondaryAxisTopBoundary=l}if(this._secondaryAxisBottomBoundary>l){this._secondaryAxisBottomBoundary=l}}}}else{n=d3.max(e[u],function(e){return e.val});l=d3.min(e[u],function(e){return e.val});if(this._primaryAxisTopBoundary<n){this._primaryAxisTopBoundary=n}if(this._primaryAxisBottomBoundary>l){this._primaryAxisBottomBoundary=l}}s.push(e[u])}if(t!==undefined){for(u=0;u<t.length;u++){n=d3.max(t[u],function(e){return e.val});l=d3.min(t[u],function(e){return e.val});if(this._secondaryAxisTopBoundary<n){this._secondaryAxisTopBoundary=n}if(this._secondaryAxisBottomBoundary>l){this._secondaryAxisBottomBoundary=l}s.push(t[u])}}this._init_primaryAxisTopBoundary=this._primaryAxisTopBoundary;this._init_primaryAxisBottomBoundary=this._primaryAxisBottomBoundary;this._init_secondaryAxisTopBoundary=this._secondaryAxisTopBoundary;this._init_secondaryAxisBottomBoundary=this._secondaryAxisBottomBoundary;for(d=0;d<r;d++){var h=[];for(u=0;u<s.length;u++){if(!this._hasMNDonCategoryAxis){if(u<e.length){s[u][d].valueAxis=0}else{s[u][d].valueAxis=1}}if(o.isNoValue(s[u][d].val)){s[u][d].val=" "}h.push(s[u][d])}if(this._MNDInnerOnColor){var p=[],c=0,f=0;var m=0;for(var _=0;_<e.length;_++){p.push(h[_]);c++;if(c===this._measureOnAxis1&&t!==undefined){f=0;for(;m<t.length;m++){if(f>=this._measureOnAxis2){c=0;break}p.push(h[e.length+m]);f++}}}i.push(p)}else{i.push(h)}}return i};var A=function(){return this._props.imageFill&&!this._isDualAxis};var M=function(e,t,a,i,r){var s="roundCorner-clip"+"-"+a+i+e._suffix;e._roundCornerDefs.append("clipPath").attr("id",s).attr("class","v-clippath").append("rect").attr("rx",r).attr("ry",r).attr("width",function(){var a=e._valueScales[t.valueAxis];if(t.val!==" "&&t.val!==0){var i=Math.abs(a(t.val)-a(0));return i+r}else{return 0}}).attr("height",e._bar_barHeight).attr("y",0).attr("x",function(){return t.val<0?0:-r});return"url(#"+s+")"};var S=function(e,t,a,i,r,s){var o=this.getAttribute("width"),n=this.getAttribute("height"),l=this.getAttribute("x"),u=this.getAttribute("y");var d="roundCorner-clip"+"-"+a+i+e._suffix;e._roundCornerDefs.append("clipPath").attr("id",d).attr("class","v-clippath").append("rect").attr("rx",r).attr("ry",r).attr("width",o+r).attr("height",e._bar_barHeight).attr("y",0).attr("x",l).transition().delay(function(t,a){return(a+e._bar_barNumber*i)*s}).attr("x",function(){if(t.val<0){return 0}else{return 0-r}}).attr("width",function(){if(e._valueScales&&t.val!==" "&&t.val!==0){var a=e._valueScales[t.valueAxis];var i=Math.abs(a(t.val)-a(0));return i+r}else{return 0}});return"url(#"+d+")"};var z=function(e,t,a,i,r,s){var o=parseFloat(this.getAttribute("width")),n=this.getAttribute("height"),l=this.getAttribute("x"),u=this.getAttribute("y");var d="roundCorner-clip"+"-"+a+i+e._suffix;e._roundCornerDefs.append("clipPath").attr("id",d).attr("class","v-clippath").append("rect").attr("rx",r).attr("ry",r).attr("x",function(){if(t.val<0){return 0}else{return 0-r}}).attr("width",o+r).attr("height",n).attr("y",u).transition().duration(e._totalIntervalTime).attr("width",function(){if(e._valueScales&&t.val!==" "&&t.val!==0){var a=e._valueScales[t.valueAxis];var i=Math.abs(a(t.val)-a(0));return i+r}else{return 0}}).attr("height",e._bar_barHeight).attr("y",0);return"url(#"+d+")"};var D=function(e,t,a,i,r){function s(){t.attr("clip-path",function(t,s,o){switch(e){case"none":return M.call(this,a,t,s,o,i);case"structureChange":return S.call(this,a,t,s,o,i,r);case"valueChange":return z.call(this,a,t,s,o,i,r);default:return z.call(this,a,t,s,o,i,r)}})}if(u.isSafari()&&u.os()==="Windows"||u.isMobile()){window.setTimeout(s,0)}else{s()}};var E=function(e,t,a,i,r,s,o){e.attr("height",f.fixDecimal(t._bar_barHeight)).attr("width",0).each(function(e,t){d3.select(this).classed("series-"+t,true)});if(t._enableRoundCorner){D.call(this,"structureChange",e,t,i,r)}var n=e.transition();n.delay(function(e,a,i){return(a+t._bar_barNumber*i)*r}).attr("x",0).attr("y",0).attr("width",function(e){if(t._valueScales&&e.val!==" "&&e.val!==0){var a=t._valueScales[e.valueAxis];var i=Math.abs(a(e.val)-a(0));return i}else{return 0}}).each("end",function(e,a,i){b.call(t)})};var w=function(e,t,a,i){e.each(function(e){var a;var i=t._valueScales[e.valueAxis];if(e.val!==" "&&e.val!==0){a=Math.abs(i(e.val)-i(0))}else{a=0}this.setAttribute("width",a);this.setAttribute("height",f.fixDecimal(t._bar_barHeight));this.setAttribute("x",0);this.setAttribute("y",0)});if(t._enableRoundCorner){D.call(this,"none",e,t,a,i)}};var T=function(e,t,a,i,r,s,o){if(!A.call(t)){if(t._enableRoundCorner){D.call(this,"valueChange",e,t,i,r)}var n=e.transition();n.duration(t._totalIntervalTime).attr("x",0).attr("y",0).attr("width",function(e,a){if(t._valueScales&&e.val!==" "&&e.val!==0){var i=t._valueScales[e.valueAxis];var r=Math.abs(i(e.val)-i(0));return r}else{return 0}}).attr("height",f.fixDecimal(t._bar_barHeight)).each("end",function(e,a){b.call(t)})}else{var l=500;w(e,t,i,r);var u=e.attr("opacity",.3);u=u.transition();u=u.delay(0).duration(l).attr("opacity",1).each("end",function(){b.call(t)})}};var C=function(e,t){C.superclass.constructor.apply(this,arguments);this._bar_indexforSecondaryAxis=0;this._bar_clipEdge=true;this._bar_barNumber=0,this._bar_barGroupNumber=0,this._bar_barHeight=0;this._bar_tooltipDataHandlerObj=null;this._bar_currentAnimationCount=0;this._bar_totalAnimationCount=0;this._bar_id=Math.floor(Math.random()*1e4);this._bar_gapObj=0;return this};C.prototype.draw=function(){var e=Math.log(this._bar_barHeight)/Math.log(2);if(e<0){this._enableRoundCorner=false}var t=this._datashapesgroup.selectAll("g.v-bar").data(this._seriesData),a=this._seriesData.length-1;var i=this,r=[];var s=i._totalIntervalTime/(i._bar_barNumber*i._bar_barGroupNumber);t.enter().append("g").attr("class","v-bar");var o=t.selectAll("g.v-datashape").data(function(e){return e});o.enter().append("g").attr("class","v-datashape").append("rect").classed(_,true).classed(v,true);o.attr("transform",function(e,t,a){var s,o=i._valueScales[e.valueAxis];if(e.val<0){s=o(e.val)}else{s=o(0)}var n=i._categoryScale(a)+i._bar_barHeight*t;n=n+i._bar_barHeight/8*t+i._bar_barHeight/2;r.push(n);return"translate("+s+","+n+")"});var n=o.select("rect."+_),l=i._seriesData[0].length-1;n.each(function(e,t){e.fillColor=i._colorPalette[t%i._colorPalette.length];var a={drawingEffect:i._drawingEffect,fillColor:e.fillColor,direction:"vertical"};var r=i._effectManager.register(a);this.setAttribute("class",_+" "+v);this.setAttribute("fill",r);if(i._bar_barHeight>1){this.setAttribute("shape-rendering","crispEdges")}this.setAttribute("fill-opacity",1);this.setAttribute("stroke","none")});if(i.enableAnimation()){E(n,i,r,e,s,l,a)}else{w(n,i,e,s)}if(A.call(i)){p.imageFill.call(i,o,n,i._bar_barHeight)}o.exit().remove();t.exit().remove()};C.prototype.refresh=function(){var e=Math.log(this._bar_barHeight)/Math.log(2);if(e<0){this._enableRoundCorner=false}var t=this._datashapesgroup.selectAll("g.v-bar").data(this._seriesData),a=this._seriesData.length-1;var i=this,r=[];var s=i._totalIntervalTime/(i._bar_barNumber*i._bar_barGroupNumber);var o=t.selectAll("g.v-datashape").data(function(e){return e});o.attr("transform",function(e,t,a){var s,o=i._valueScales[e.valueAxis];if(e.val<0){s=o(e.val)}else{s=o(0)}var n=i._categoryScale(a)+i._bar_barHeight*t;n=n+i._bar_barHeight/8*t+i._bar_barHeight/2;r.push(n);return"translate("+s+","+n+")"});var n=o.select("rect."+_),l=i._seriesData[0].length-1;if(i.enableAnimation()){T(n,i,r,e,s,l,a)}else{w(n,i,e,s)}if(A.call(i)){p.imageFill.call(i,o,n,i._bar_barHeight)}};C.prototype.render=function(e,t){l.drawBound(e,this._width,this._height,undefined,!this._props.isCombination);if(u.isMobile()&&this._props.drawClipPath!==false){var a=c.drawClippath(e,this._width,this._height);e.attr("clip-path","url(#"+a+")")}this._bar_tooltipDataHandlerObj=d();if(this._valueScales.length===0){return}this._eDispatch.startToInit();this._bar_barNumber=this._seriesData[0].length;this._bar_barGroupNumber=this._seriesData.length;this._bar_barHeight=8*this._categoryScale.rangeBand()/(9*this._bar_barNumber+7);this._bar_currentAnimationCount=0;this._bar_totalAnimationCount=this._bar_barGroupNumber*this._bar_barNumber;var i=this._d3root=e;var s=this;var o;if(this._valueScales[0]){o=Math.abs(this._valueScales[0].range()[0]-this._valueScales[0].range()[1])}else if(this._valueScales[1]){o=Math.abs(this._valueScales[1].range()[0]-this._valueScales[1].range()[1])}if(this._defsEnter===null){this._defsEnter=i.append("defs").append("clipPath").attr("id","clipPlot_"+this._bar_id).append("rect").attr("width",this._width).attr("height",this._height)}else{this._defsEnter.attr("width",this._width).attr("height",this._height)}if(this._roundCornerDefs===null){this._roundCornerDefs=i.append("defs")}else{if(this._dataStructureChange||this._sizeChange||this._dataValueChange||!this._enableRoundCorner){this._roundCornerDefs.selectAll(".v-clippath").remove()}}this._datashapesgroup=i.selectAll("g."+y);if(!r.isExist(this._datashapesgroup[0][0])){this._datashapesgroup=i.append("g");this._datashapesgroup.each(function(){this.setAttribute("class",y);if(!u.isMobile()){this.setAttribute("clip-path","url(#clipPlot_"+s._bar_id+")")}})}if(this._dataStructureChange||this._dataValueChange||this._propertiesChange){this.draw()}else if(this._sizeChange||this._isPinching){this.refresh()}if(u.isMobile()&&!t&&this._datashapesgroup){this._datashapesgroup.attr("transform",null)}if(!this.enableAnimation()){if(t&&t.isPinching){this._eDispatch.initialized({eventSource:"pinch"})}else{this._eDispatch.initialized()}}this._sizeChange=false,this._dataStructureChange=false,this._dataValueChange=false,this._propertiesChange=false;this._isOnlyInitAnimation=true;this._lastHovered=null;var n=this._fullData;if(!n){n=this._raw_data?this._raw_data:this._data}this.applyFormatConditions(this._props.formatRules,e,n,this);return this};C.prototype.secondDataRange=function(e){if(!arguments.length){return{min:this._secondaryAxisBottomBoundary,max:this._secondaryAxisTopBoundary}}var t,a;if(e!==null){if(!isNaN(e.max)){t=e.max}else{t=this._valueAxis2.scale.perfectDomainEnd}if(!isNaN(e.min)){a=e.min}else{a=this._valueAxis2.scale.perfectDomainBegin}if(t>a){this._secondaryAxisTopBoundary=t;this._secondaryAxisBottomBoundary=a;if(e.from==="axis"){this._secondaryAxisManualRange=true}if(r.isExist(this._width)&&r.isExist(this._height)){this.makeScales()}}}else{if(this._secondaryAxisManualRange===true){this._secondaryAxisTopBoundary=this._init_secondaryAxisTopBoundary;this._secondaryAxisBottomBoundary=this._init_secondaryAxisBottomBoundary;this._secondaryAxisManualRange=false;if(r.isExist(this._width)&&r.isExist(this._height)){this.makeScales()}}}return this};C.prototype.primaryDataRange=function(e){if(!arguments.length){return{min:this._primaryAxisBottomBoundary,max:this._primaryAxisTopBoundary}}var t,a;if(e!==null){if(!isNaN(e.max)){t=e.max}else{t=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(e.min)){a=e.min}else{a=this._valueAxis1.scale.perfectDomainBegin}if(t>a){this._primaryAxisTopBoundary=t;this._primaryAxisBottomBoundary=a;if(e.from==="axis"){this._primaryAxisManualRange=true}if(r.isExist(this._width)&&r.isExist(this._height)){this.makeScales()}}}else{if(this._primaryAxisManualRange===true){this._primaryAxisTopBoundary=this._init_primaryAxisTopBoundary;this._primaryAxisBottomBoundary=this._init_primaryAxisBottomBoundary;this._primaryAxisManualRange=false;if(r.isExist(this._width)&&r.isExist(this._height)){this.makeScales()}}}return this};C.prototype.imageInfo=function(){var e={imageMode:this._props.imageFill,imagePalette:this._props.imagePalette,radio:1};return e};C.prototype.makeCategoryScale=function(){var e=[];for(var t=0;t<this._seriesData.length;t++){e.push(t)}this._categoryScale.domain(e).rangeBands([0,this._height])},C.prototype.makeValueScales=function(){this._valueScales=[];if(this._primaryAxisBottomBoundary===0&&this._primaryAxisTopBoundary===0){this._valueAxis1.scale.domain([0,1]).range([0,this._width])}else{this._valueAxis1.scale.domain([this._primaryAxisBottomBoundary,this._primaryAxisTopBoundary]).range([0,this._width])}if(r.isExist(this._data2)||this._isDualAxis){if(this._secondaryAxisTopBoundary===0&&this._secondaryAxisBottomBoundary===0){this._valueAxis2.scale.domain(this._valueAxis1.scale.domain()).range(this._valueAxis1.scale.range())}else{this._valueAxis2.scale.domain([this._secondaryAxisBottomBoundary,this._secondaryAxisTopBoundary]).range([0,this._width]);if(this._primaryAxisBottomBoundary===0&&this._primaryAxisTopBoundary===0){this._valueAxis1.scale.domain(this._valueAxis2.scale.domain()).range(this._valueAxis2.scale.range())}}if(!this._secondaryAxisManualRange&&!this._primaryAxisManualRange){n.perfectDual(this._valueAxis1.scale,this._valueAxis2.scale)}else if(!this._secondaryAxisManualRange&&this._primaryAxisManualRange){n.perfect(this._valueAxis2.scale);n.getRoughTickNum(this._valueAxis1.scale)}else if(this._secondaryAxisManualRange&&!this._primaryAxisManualRange){n.perfect(this._valueAxis1.scale);n.getRoughTickNum(this._valueAxis2.scale)}else{n.getRoughTickNum(this._valueAxis1.scale);n.getRoughTickNum(this._valueAxis2.scale)}}else{if(!this._primaryAxisManualRange){n.perfect(this._valueAxis1.scale)}else{n.getRoughTickNum(this._valueAxis1.scale)}this._valueAxis2.scale.range([0,0])}var e=0;var t=0;if(this._bar_gapObj){if(this._bar_gapObj.startGap){e=this._bar_gapObj.startGap}if(this._bar_gapObj.endGap){t=this._bar_gapObj.endGap}}n.adjustGap(e,t,this._valueAxis1.scale);n.adjustGap(e,t,this._valueAxis2.scale);this._valueScales.push(this._valueAxis1.scale);this._valueScales.push(this._valueAxis2.scale)},C.prototype.makeScales=function(){this.makeCategoryScale();this.makeValueScales()},C.prototype.parseData=function(){var e=s(this._data);this._data1=e["MG1"];this._data2=e["MG2"];this._measureOnAxis1=e.MG1Number;this._measureOnAxis2=e.MG2Number||0;this._MNDInnerOnColor=e.MNDOnColor&&e.MNDInner;if(this._data1[0]&&this._data1[0][0].info&&this._data1[0][0].info.defaultSelection){this._hasDefaultSelection=true}else{this._hasDefaultSelection=false}if(r.isExist(e.color)){this._hasMNDonCategoryAxis=true;this._isDualAxis=true}else{this._hasMNDonCategoryAxis=false;if(r.isExist(this._data2)){this._isDualAxis=true}else{this._isDualAxis=false}}var t=x.call(this,this._data1,this._data2,e.color);if(this._seriesData.length!==t.length||t[0].length!==this._seriesData[0].length){this._dataStructureChange=true}else{this._dataValueChange=true}this._seriesData=t;if(r.isExist(this._width)&&r.isExist(this._height)){this.makeScales()}this.parseOptions();return this},C.prototype.parseOptions=function(){this._enableRoundCorner=this._props.isRoundCorner;this._enableDataLoadingAnimation=this._props.animation.dataLoading;this._enableDataUpdatingAnimation=this._props.animation.dataUpdating;this._enableResizingAnimation=this._props.animation.resizing;this._tooltipVisible=this._props.tooltip.enabled;if(this._isDualAxis&&!this._hasMNDonCategoryAxis){this._axis1ColorPalette=this._props.primaryValuesColorPalette;this._axis2ColorPalette=this._props.secondaryValuesColorPalette}else{this._axis2ColorPalette=this._props.colorPalette;this._axis1ColorPalette=this._props.colorPalette}this._drawingEffect=this._props.drawingEffect;var e=0;if(!this._hasMNDonCategoryAxis){this._bar_indexforSecondaryAxis=this._data1.length;e=this._seriesData[0].length}else{e=this._seriesData.length*this._seriesData[0].length}this._colorPalette=[];var t=0;if(this._MNDInnerOnColor){var a=0,i=0,r=0;for(t=0;t<this._bar_indexforSecondaryAxis;t++){this._colorPalette.push(this._axis1ColorPalette[t%this._axis1ColorPalette.length]);a++;if(a===this._measureOnAxis1){i=0;for(;r<=e-this._bar_indexforSecondaryAxis;r++){if(i>=this._measureOnAxis2){a=0;break}this._colorPalette.push(this._axis2ColorPalette[r%this._axis2ColorPalette.length]);i++}}}}else{for(t=0;t<e;t++){if(t<this._bar_indexforSecondaryAxis){this._colorPalette.push(this._axis1ColorPalette[t%this._axis1ColorPalette.length])}else if(this._isDualAxis&&!this._hasMNDonCategoryAxis){this._colorPalette.push(this._axis2ColorPalette[(t-this._bar_indexforSecondaryAxis)%this._axis2ColorPalette.length])}}}};C.prototype.setAxisGap=function(e){this._bar_gapObj=e};C.prototype.destroy=function(){var e=0;if(this._seriesData){for(e=0;e<this._seriesData.length;e++){this._seriesData[e]=null}this._seriesData=null}if(this._data1){for(e=0;e<this._data1.length;e++){this._data1[e]=null}this._data1=null}if(this._data2){for(e=0;e<this._data2.length;e++){this._data2[e]=null}this._data2=null}if(this._datashapesgroup){this.globalDOMDestroy(this._datashapesgroup);this._datashapesgroup=null}if(this._defsEnter){this.globalDOMDestroy(this._defsEnter);this._defsEnter=null}if(this._roundCornerDefs){this.globalDOMDestroy(this._roundCornerDefs);this._roundCornerDefs=null}this._axis1ColorPalette=null;this._axis2ColorPalette=null;this._bar_tooltipDataHandlerObj=null;C.superclass.destroy.apply(this,arguments)};a.extend(C,i);return C});define("sap/viz/modules/manifests/xy/Bar",["sap/viz/modules/manifests/Module","sap/viz/modules/bar","sap/viz/modules/manifests/xy/BaseBar","sap/viz/modules/Constants"],function e(t,a,i,r){var s={id:"sap.viz.modules.bar",name:"bar",base:"sap.viz.modules.xy.bar.base",properties:{imageFill:{name:"imageFill",supportedValueType:"Boolean",defaultValue:false,isExported:false,description:"Set where the image fill is enabled."},imagePalette:{name:"imagePalette",supportedValueType:"StringArray",defaultValue:["http://www.sap.com/global/ui/images/global/sap-logo.png"],isExported:false,description:"Set the images that fill the bars."},formatRules:{name:"formatRules",supportedValueType:"Array",isExported:true,description:'Sample value for formatRules:  [{condition: [{Key1:Value1, Key2:Value2}], color:"#00ff00"}, {condition: [{Key3:Value3}], color:"#00ffff"}].   Each rule has two properties: the "condition" and the "color".   Value1, Value2 and Value3 are values. <br />  The value of a dimension may be <br />  1, Single value (string), like "China" . <br />  2. Array (enumeration), like ["UK","USA"] . <br />  The value of a measure may be <br />  1, Single value (number), like 20 . <br />  2. Arry (enumeration), like [121,122] . <br />  3. Object (range), like {min:100, max 200} . Min and max are inclusive.   If users want to inlcude 200, but not 100 in the range, they may use {min:100.00001, max:200}.   If users want values larger than 100, they may write {min:100}. <br />   The color is applied if one or more conditions in the condition array is met.   If multiple rules could apply on the same data point, it is the last rule that takes effect.',example:"<a href='"+r.DocExample.SnippetUrl+"8751' target='_blank'>"+r.DocExample.TryThisValue+"</a>"}},fn:a};var o={viz:[],module:[s].concat(i.module),feeds:[].concat(i.feeds)};return o});define("sap/viz/manifests/xy/BarChart",["sap/viz/manifests/Viz","sap/viz/base/UADetector","sap/viz/manifests/xy/BaseHorizontalChart","sap/viz/modules/manifests/xy/Bar","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/modules/manifests/controller/Pinch"],function e(t,a,i,r,s,o){var n={id:"viz/bar",name:"IDS_BARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/basehorizontalchart",modules:{root:{id:"sap.viz.modules.rootContainer",modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousedown","mousemove","mouseover","mouseout","touchstart"],holdSelection:true}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,orientation:"horizontal",position:"inside",automaticInOutside:true,showZero:false,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:"right"},propertiesOverride:{position:{isExported:true}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart",propertyCategory:"xAxis",properties:{type:"value",position:"bottom",indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart",propertyCategory:"yAxis",properties:{type:"category",position:"left",indicator:{enable:true},gridline:{visible:false},isKeepFirstAndLastLabel:true},propertiesOverride:{indicator:{isExported:false},gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},plot:{id:"sap.viz.modules.bar",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.xAxis",source:"range"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]},categoryAxis:["yAxis"],valueAxis:["xAxis"]};if(a.isMobile()){var l=n.modules.root.modules;l.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var u=n.dependencies.attributes;var d=n.dependencies.events;u.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});d.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});d.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});d.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});d.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});d.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});d.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});d.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});d.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});d.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});d.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});d.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"})}var h={viz:[n].concat(i.viz),module:[].concat(i.module,r.module,s.module,o.module),feeds:[].concat(i.feeds,r.feeds,s.feeds,o.feeds)};return h});define("sap/viz/impls/BarChart",["sap/viz/manifests/xy/BarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/BaseChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/Title","sap/viz/modules/manifests/Legend","sap/viz/modules/manifests/DataLabel","sap/viz/modules/manifests/layout/Dock","sap/viz/modules/manifests/legend/Common","sap/viz/modules/manifests/layout/Stack"],function e(t,a,i,r,s,o,n,l){var u={id:"riv/base",name:"IDS_BASECHART",isBuiltIn:true,abstract:true,modules:{root:{id:"sap.viz.modules.rootContainer",configure:{propertyCategory:"general"},modules:{title:{id:"sap.viz.modules.title",configure:{propertyCategory:"title",properties:{layout:{position:"top",priority:0}}}},layout:{id:"sap.viz.modules.layout.dock"},legends:{id:"sap.viz.modules.legend",configure:{propertyCategory:"legendGroup",properties:{layout:{position:"right",priority:1,alignment:"right"}}},modules:{layout:{id:"sap.viz.modules.layout.stack"},legend:{id:"sap.viz.modules.legend.common",configure:{propertyCategory:"legend",properties:{layout:{order:0}}}}}}}}},dependencies:{}};var d={viz:[u],module:[].concat(a.module,i.module,r.module,s.module,o.module,n.module,l.module),feeds:[].concat(a.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds,l.feeds)};return d});define("sap/viz/manifests/BaseSingleChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/Background","sap/viz/modules/manifests/legend/Common"],function e(t,a,i,r,s,o){var n={id:"riv/base/single",name:"IDS_BASESINGLECHART",isBuiltIn:true,base:"riv/base",abstract:true,modules:{root:{configure:{propertyCategory:"general"},modules:{main:{id:"sap.viz.modules.xycontainer",configure:{propertyCategory:"xyContainer",properties:{layout:{position:"center",priority:10}}}}}}}};var l={viz:[n].concat(a.viz),module:[].concat(a.module,i.module,r.module,s.module,o.module),feeds:[].concat(a.feeds,i.feeds,r.feeds,s.feeds,o.feeds)};return l});define("sap/viz/manifests/scatter/BaseBubbleChart",["sap/viz/manifests/Viz","sap/viz/base/UADetector","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/BaseSingleChart","sap/viz/chart/elements/manifests/Tooltip","sap/viz/modules/manifests/Axis","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/modules/manifests/controller/Pinch"],function e(t,a,i,r,s,o,n,l){var u={id:"viz/scatter/single/base",name:"IDS_BASEBUBBLECHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",abstract:true,base:"riv/base/single",modules:{root:{modules:{legends:{configure:{properties:{layout:{position:"right",priority:1,alignment:"right"}}},modules:{legend:{data:{aa:[1,2]},configure:{properties:{type:"BubbleColorLegend",layout:{order:1}},propertiesOverride:{isHierarchical:{isExported:false}}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",propertiesOverride:{pan:{isExported:true}}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",orientation:"vertical",visible:false,position:"outside",outsideVisible:true,positionPreference:true}}},xAxis:{id:"sap.viz.modules.axis",data:{mg:[1]},configure:{description:"Settings for the x axis of a normal bubble or scatter plot",propertyCategory:"xAxis",properties:{type:"value",position:"bottom",gridline:{visible:false},indicator:{enable:true}},propertiesOverride:{label:{hideSubLevels:{isExported:false}}}}},yAxis:{id:"sap.viz.modules.axis",data:{mg:[2]},configure:{description:"Settings for the y axis of a normal bubble or scatter plot",propertyCategory:"yAxis",properties:{type:"value",position:"left",gridline:{visible:true},indicator:{enable:true}},propertiesOverride:{label:{hideSubLevels:{isExported:false}}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"vertical"}}}}}}}},dependencies:{attributes:[{targetModule:"root.main.plot",target:"valueAxis1DataRange",sourceModule:"root.main.xAxis",source:"range"},{targetModule:"root.main.plot",target:"valueAxis2DataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"valueAxis1Scale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"valueAxis2Scale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"valueAxis1Title"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"valueAxis2Title"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapes"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]}};if(a.isMobile()){var d=u.modules.root.modules;d.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var h=u.dependencies.attributes;var p=u.dependencies.events;h.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});p.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});p.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});p.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});p.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});p.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});p.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});p.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});p.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});p.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});p.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});p.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"})}var c={viz:[u].concat(r.viz),module:[].concat(r.module,i.module,s.module,o.module,n.module,l.module),feeds:[].concat(r.feeds,i.feeds,s.feeds,o.feeds,l.feeds)};return c});define("sap/viz/util/ShapeSeriesGenerator",[],function e(){var t={sapShapes:function(){return d3.scale.ordinal().range(["circle","diamond","triangleUp","triangleDown","triangleLeft","triangleRight","cross","intersection"])}};return t});define("sap/viz/modules/bubble",["sap/viz/base/utils/oo","sap/viz/modules/BaseGesture","sap/viz/util/ColorSeriesGenerator","sap/viz/util/ShapeSeriesGenerator","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/ObjectUtils","sap/viz/util/TextUtils","sap/viz/util/Scaler","sap/viz/util/NumberUtils","sap/viz/util/DrawUtil","sap/viz/modules/util/ClippathUtil","sap/viz/base/utils/Objects","sap/viz/lang/langManager","sap/viz/modules/util/BoundUtil","sap/viz/modules/util/dataUtil","sap/viz/modules/util/GestureUtil","sap/viz/modules/util/defaultSelectionUtil","sap/viz/modules/Constants","sap/viz/modules/util/selectionUtil","sap/viz/elements/common/SVG"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g,v,y,b){var x=function(e,t){this._ble_formerWidth=e;this._ble_formerHeight=t};var A=v.CSS.CLASS.DATAPOINTSELECTED,M=v.CSS.CLASS.DATAPOINTHOVER,S=v.CSS.CLASS.DATAPOINTDEFAULT,z=v.CSS.CLASS.DATAPOINT,D=v.CSS.CLASS.MORPHABLEDATAPOINT,E="v-m-tooltip",w="0.4",T="0.8",C=1/6,L={stroke:"#ffffff","stroke-width":1},I={stroke:"#ffffff","stroke-width":1},k={stroke:"#333333","stroke-width":1},O=1e3;var N=z+" "+D;var P="v-datashapesgroup";var R=function(e,t){R.superclass.constructor.apply(this,arguments);this._ble_padding=0;this._ble_data=null;this._ble_xManualRange=false;this._ble_yManualRange=false;this._ble_xScale=d3.scale.linear();this._ble_yScale=d3.scale.linear();this._ble_wScale=undefined;this._ble_hScale=undefined;this._ble_wMax=undefined;this._ble_wMin=undefined;this._ble_hMax=undefined;this._ble_hMin=undefined;this._ble_xMax=undefined;this._ble_xMin=undefined;this._ble_yMax=undefined;this._ble_yMin=undefined;this._ble_init_xMax=undefined;this._ble_init_xMin=undefined;this._ble_init_yMax=undefined;this._ble_init_yMin=undefined;this._ble_randomSuffix=o.guid();this._ble_distinctValuesObj=undefined;this._ble_color=i.sap32().range();this._ble_shape=r.sapShapes().range();this._ble_bFirstCreation=true;this._ble_drawingEffect="normal";this._ble_effectManager=t.effectManager;this._ble_styleManager=t.styleManager;this._ble_markerSize=10;this._ble_minMarkerSize=null;this._ble_animationComplete=false;this._ble_hasDefaultSelection=false;this._ble_formatString=undefined;this._ble_isDataSchemaChanged=false;this._ble_isSizeChanged=false;this._ble_isDatasetChanged=false;this._ble_formerWidth=undefined;this._ble_formerHeight=undefined;this._ble_timeBased=false;this._ble_xTicks=undefined;this._blefn_resetBoundaryValues();p.extend(true,this._props,e.props(null));this._ble_xGapObj=null;this._ble_yGapObj=null};t.extend(R,a);R.prototype.render=function(e,t){if(this._ble_formerWidth!==undefined&&this._ble_formerHeight!==undefined){if(!this._ble_isSizeChanged){this._ble_isSizeChanged=this._ble_formerWidth!==this._width||this._ble_formerHeight!==this._height}}x.call(this,this._width,this._height);f.drawBound(e,this._width,this._height,undefined,true);this._blefn_renderChart(e,t);this._ble_bFirstCreation=false;this._ble_isDataSchemaChanged=false,this._ble_isSizeChanged=false,this._ble_isDatasetChanged=false;return this};R.prototype.width=function(e){if(!arguments.length){return this._width}this._width=e;if(s.isExist(this._width)&&s.isExist(this._height)&&s.isExist(this._ble_data)){this._blefn_computeScales()}return this};R.prototype.height=function(e){if(!arguments.length){return this._height}this._height=e;if(s.isExist(this._width)&&s.isExist(this._height)&&s.isExist(this._ble_data)){this._blefn_computeScales()}return this};R.prototype.applyFormatConditions=function(e,t,a,i){var r=function(e,t){var a;for(a=0;a<e.length;a++){e[a].__data__.parameter.fillColor=t.color}};y.applyConditons(e,t,a,r)};R.prototype.size=function(e){if(!arguments.length){return{width:this._width,height:this._height}}this._width=e.width;this._height=e.height;if(s.isExist(this._width)&&s.isExist(this._height)&&s.isExist(this._ble_data)){this._blefn_computeScales()}return this};R.prototype.padding=function(e){if(!arguments.length){return this._ble_padding}this._ble_padding=e;if(s.isExist(this._width)&&s.isExist(this._height)&&s.isExist(this._ble_data)){this._blefn_computeScales()}return this};R.prototype.valueAxis1Scale=function(e){if(!arguments.length){return this._ble_xScale}this._ble_xScale=e;return this};R.prototype.valueAxis2Scale=function(e){if(!arguments.length){return this._ble_yScale}this._ble_yScale=e;return this};R.prototype.valueAxis1DataRange=function(e){if(!arguments.length){return{min:this._ble_xMin,max:this._ble_xMax}}var t,a;if(e!==null){if(!isNaN(e.max)){t=e.max}else{t=this._ble_xScale.perfectDomainEnd}if(!isNaN(e.min)){a=e.min}else{a=this._ble_xScale.perfectDomainBegin}if(t>a){this._ble_xMax=t;this._ble_xMin=a;if(e.from==="axis"){this._ble_xManualRange=true}if(e.ticks){this._ble_xTicks=e.ticks}if(s.isExist(this._width)&&s.isExist(this._height)){this._blefn_computeScales()}}}else{if(this._ble_xManualRange===true){this._ble_xMax=this._ble_init_xMax;this._ble_xMin=this._ble_init_xMin;this._ble_xManualRange=false;if(s.isExist(this._width)&&s.isExist(this._height)){this._blefn_computeScales()}}}return this};R.prototype.valueAxis2DataRange=function(e){if(!arguments.length){return{min:this._ble_yMin,max:this._ble_yMax}}var t,a;if(e!==null){if(!isNaN(e.max)){t=e.max}else{t=this._ble_yScale.perfectDomainEnd}if(!isNaN(e.min)){a=e.min}else{a=this._ble_yScale.perfectDomainBegin}if(t>a){this._ble_yMax=t;this._ble_yMin=a;if(e.from==="axis"){this._ble_yManualRange=true}if(s.isExist(this._width)&&s.isExist(this._height)){this._blefn_computeScales()}}}else{if(this._ble_yManualRange===true){this._ble_yMax=this._ble_init_yMax;this._ble_yMin=this._ble_init_yMin;this._ble_yManualRange=false;if(s.isExist(this._width)&&s.isExist(this._height)){this._blefn_computeScales()}}}return this};R.prototype.bubbleWidthDataRange=function(e){if(!arguments.length){return{distinctValuesObj:this._ble_distinctValuesObj,min:this._ble_wMin,max:this._ble_wMax}}this._ble_wMax=e.max;this._ble_wMin=e.min;this._ble_distinctValuesObj=e.distinctValuesObj;if(s.isExist(this._width)&&s.isExist(this._height)){this._blefn_computeScales()}return this};R.prototype.bubbleHeightDataRange=function(e){if(!arguments.length){return{min:this._ble_hMin,max:this._ble_hMax}}this._ble_hMax=e.max;this._ble_hMin=e.min;if(s.isExist(this._width)&&s.isExist(this._height)){this._blefn_computeScales()}return this};R.prototype.colorPalette=function(e){if(!arguments.length){return this._ble_color}this._ble_color=e;return this};R.prototype.shapes=function(e){if(!arguments.length){return this._ble_shape}this._ble_shape=e;return this};R.prototype.sizeLegend=function(){var e=this._ble_data.getMeasureValuesGroupDataByIdx(3);var t=s.isExist(e)&&e.values.length>0;var a=this._ble_data.getMeasureValuesGroupDataByIdx(2);var i;if(a&&a.values.length){i=a.values[0].col}return{bubbleScale:C,space:this._ble_padding,scale:this._ble_wScale,data:this._blefn_sizeData(),title:i,hasHeightFeed:t}};R.prototype.dispatch=function(e){if(!arguments.length){return this._eDispatch}this._eDispatch=e;return this};R.prototype.dataLabel=function(e){};R.prototype.data=function(e){if(!arguments.length){return this._ble_data}this._ble_isDatasetChanged=true;this._ble_isDataSchemaChanged=false;if(!m().hasSameSchema(this._ble_data,e)){this._ble_isDataSchemaChanged=true}this._ble_data=e;var t=this._ble_data.getMeasureValuesGroupDataByIdx(0).values[0].rows[0][0].info;if(t&&t.defaultSelection){this._ble_hasDefaultSelection=true}else{this._ble_hasDefaultSelection=false}if(this._ble_data){this._blefn_calculateBoundaryValues()}if(s.isExist(this._width)&&s.isExist(this._height)&&s.isExist(this._ble_data)){this._blefn_computeScales()}if(this._datashapesgroup){this._datashapesgroup.attr("transform",null)}return this};R.prototype.valueAxis1Title=function(e){if(!arguments.length){var t=this._ble_data.getMeasureValuesGroupDataByIdx(0),a=[];if(t){for(var i=0,r=t.values.length;i<r;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){a.push(t.values[i].col)}else{a.push(c.get("IDS_ISNOVALUE"))}}}return a.join(" & ")}return this};R.prototype.valueAxis2Title=function(e){if(!arguments.length){var t=this._ble_data.getMeasureValuesGroupDataByIdx(1),a=[];if(t){for(var i=0,r=t.values.length;i<r;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){a.push(t.values[i].col)}else{a.push(c.get("IDS_ISNOVALUE"))}}}return a.join(" & ")}return this};R.prototype.properties=function(e){if(!arguments.length){return this._props}p.extend(true,this._props,e);this._blefn_parseOptions();return this};R.prototype.highlight=function(e,t){if(!s.isArray(e)){e=[e]}for(var a=0,i=e.length;a<i;a++){d3.select(e[a]).classed(S,false);if(!t){d3.select(e[a]).classed(A,true);d3.select(e[a]).classed(M,false)}else{d3.select(e[a]).classed(M,true)}}d3.selectAll(e).attr("stroke-opacity",T);d.highlightProperties.selectedOpacity=T;d.nodesHighlight(e,{factor:.7,constant:0},this._ble_effectManager,t);d.resetHighlightProperties();if(this._ble_hasDefaultSelection){g.clearSelectionInfo(this._d3root,true,e)}};R.prototype.unhighlight=function(e,t,a){if(!s.isArray(e)){e=[e]}for(var i=0,r=e.length;i<r;i++){d3.select(e[i]).classed(M,false);if(!t){d3.select(e[i]).classed(S,true);if(d3.select(e[i]).classed(A)){d3.select(e[i]).classed(A,false)}}}d.highlightProperties.selectedOpacity=T;d.nodesUnhighlight(e,t,a);d.resetHighlightProperties();if(!t){d3.selectAll(e).attr("stroke",L["stroke"]).attr("stroke-width",L["stroke-width"]).attr("stroke-opacity",w)}if(a){d3.selectAll(e).attr("stroke-opacity",T)}if(this._ble_hasDefaultSelection){g.clearSelectionInfo(this._d3root,false,e)}};R.prototype.clear=function(e){if(!this._d3root){return}var t=this._d3root.selectAll("."+z);if(e===undefined||e===false){t.attr("fill-opacity",T).attr("stroke-opacity",T).attr("stroke",L.stroke).attr("stroke-width",L["stroke-width"]);if(this._ble_hasDefaultSelection){g.clearSelectionInfo(this._d3root,false,t)}}else{t.attr("fill-opacity",w).attr("stroke-opacity",w).attr("stroke",L.stroke).attr("stroke-width",L["stroke-width"])}};R.prototype.destroy=function(){if(this._d3root){this._d3root.selectAll("."+z).remove()}if(this._ble_xScale){this._ble_xScale.domain([0,1]).range([0,1])}if(this._ble_yScale){this._ble_yScale.domain([0,1]).range([0,1])}this._ble_xScale=null;this._ble_yScale=null;this._ble_wScale=undefined;this._ble_hScale=undefined;this._datashapesgroup=undefined;this._d3root=undefined;if(this._ble_effectManager&&this._ble_effectManager.destroy){this._ble_effectManager.destroy()}if(this._ble_styleManager&&this._ble_styleManager.destroy){this._ble_styleManager.destroy()}};R.prototype._blefn_isAnimationEnabled=function(){var e=false;if(this._ble_bFirstCreation){e=this._props.animation.dataLoading}else if(this._ble_isDatasetChanged){e=this._props.animation.dataUpdating}else if(this._ble_isSizeChanged){e=this._props.animation.resizing}return e};R.prototype._blefn_resetBoundaryValues=function(){this._ble_wMax=0;this._ble_wMin=Number.MAX_VALUE;this._ble_hMax=0;this._ble_hMin=Number.MAX_VALUE;this._ble_xMax=this._ble_timeBased?-Number.MAX_VALUE:0;this._ble_xMin=this._ble_timeBased?Number.MAX_VALUE:0;this._ble_yMax=0;this._ble_yMin=0};R.prototype._blefn_parseOptions=function(){this._ble_color=this._props.colorPalette;this._ble_shape=this._props.shapePalette;this._ble_drawingEffect=this._props.drawingEffect;this._ble_minMarkerSize=this._props.minMarkerSize>0?this._props.minMarkerSize:null;var e=this._props.markerSize;this._ble_markerSize=s.isExist(e)&&e<=32&&e>=4?e:this._ble_markerSize;if(this._props.xScaleType&&this._props.xScaleType==="log"){this._ble_xScale=d3.scale.log()}this._ble_timeBased=this._props.timeBased;if(this._ble_timeBased){this._blefn_calculateBoundaryValues()}};R.prototype._blefn_calculateBoundaryValues=function(){this._blefn_resetBoundaryValues();var e=this._ble_data.getMeasureValuesGroupDataByIdx(0);var t=this._ble_data.getMeasureValuesGroupDataByIdx(1);var a=this._ble_data.getMeasureValuesGroupDataByIdx(2);var i=this._ble_data.getMeasureValuesGroupDataByIdx(3);this._ble_distinctValuesObj={};for(var r=0;r<e.values[0].rows.length;r++){for(var o=0;o<e.values[0].rows[r].length;o++){var n=e.values[0].rows[r][o].val;var l=t.values[0].rows[r][o].val;if(u.isNoValue(n)||u.isNoValue(l)){continue}var d=a&&a.values.length&&s.isExist(a.values[0].rows[r][o].val)?Math.abs(a.values[0].rows[r][o].val):null;var h;if(i&&i.values.length){if(s.isExist(i.values[0].rows[r][o].val)){h=Math.abs(i.values[0].rows[r][o].val)}else{h=null}}else{h=d}if(!u.isNoValue(d)){this._ble_distinctValuesObj[d]=""}this._ble_xMax=n>this._ble_xMax?n:this._ble_xMax;this._ble_xMin=n<this._ble_xMin?n:this._ble_xMin;this._ble_yMax=l>this._ble_yMax?l:this._ble_yMax;this._ble_yMin=l<this._ble_yMin?l:this._ble_yMin;this._ble_wMax=d>this._ble_wMax?d:this._ble_wMax;this._ble_wMin=d<this._ble_wMin?d:this._ble_wMin;this._ble_hMax=h>this._ble_hMax?h:this._ble_hMax;this._ble_hMin=h<this._ble_hMin?h:this._ble_hMin}}this._ble_init_xMax=this._ble_xMax;this._ble_init_xMin=this._ble_xMin;this._ble_init_yMax=this._ble_yMax;this._ble_init_yMin=this._ble_yMin};R.prototype._blefn_computeXScale=function(){var e=this._ble_xMin;var t=this._ble_xMax;if(!this._ble_xManualRange&&this._props.maxPriValue>this._props.minPriValue){t=this._props.maxPriValue;e=this._props.minPriValue>0?0:this._props.minPriValue}if(t===0&&e===0&&!this._ble_timeBased||t===-Number.MAX_VALUE&&e===Number.MAX_VALUE&&this._ble_timeBased){this._ble_xScale.domain([0,1]).range([this._ble_padding,this._width-this._ble_padding])}else{if(this._ble_timeBased){if(this._ble_xManualRange){this._ble_xScale.domain([e,t]).range([this._ble_padding,this._width-this._ble_padding]);this._ble_xScale.userTicks=this._ble_xTicks}else{var a=e===t?1:parseInt((t-e)*C,10);this._ble_xScale.domain([e-a,t+a]).range([this._ble_padding,this._width-this._ble_padding])}}else if(this._ble_xManualRange){this._ble_xScale.domain([e,t]).range([this._ble_padding,this._width-this._ble_padding])}else{this._ble_xScale.domain([e>0?e/(1+C):e*(1+C),t>0?t*(1+C):t/(1+C)]).range([this._ble_padding,this._width-this._ble_padding])}}};R.prototype._blefn_computeYScale=function(){var e=this._ble_yMax;var t=this._ble_yMin;if(!this._ble_yManualRange&&this._props.maxSecValue>this._props.minSecValue){e=this._props.maxSecValue;t=this._props.minSecValue>0?0:this._props.minSecValue}if(t===0&&e===0){this._ble_yScale.domain([0,1]).range([this._height-this._ble_padding,this._ble_padding])}else{if(this._ble_yManualRange){this._ble_yScale.domain([t,e]).range([this._height-this._ble_padding,this._ble_padding])}else{this._ble_yScale.domain([t>0?t/(1+C):t*(1+C),e>0?e*(1+C):e/(1+C)]).range([this._height-this._ble_padding,this._ble_padding])}}};R.prototype._blefn_computeWScale=function(){var e=this;var t=this._ble_data.getMeasureValuesGroupDataByIdx(2);var a=this._ble_data.getMeasureValuesGroupDataByIdx(3);var i=this._ble_wMax;var r=this._ble_wMin;if(this._props.maxBubbleWidth!==0||this._props.minBubbleWidth!==0){i=this._props.maxBubbleWidth;r=this._props.minBubbleWidth}if(t&&t.values.length&&(i!==r||this._ble_minMarkerSize)){this._ble_wScale=this._blefn_bubbleSizeScale(i,r,true,a)}else{this._ble_wScale=function(t){return e._ble_markerSize}}};R.prototype._blefn_computeHScale=function(){var e=this;var t=this._ble_data.getMeasureValuesGroupDataByIdx(3);var a=this._ble_hMax;var i=this._ble_hMin;if(this._props.maxBubbleHeight!==0||this._props.minBubbleHeight!==0){a=this._props.maxBubbleHeight;i=this._props.minBubbleHeight}if(t&&t.values.length&&(a!==i||this._ble_minMarkerSize)){this._ble_hScale=this._blefn_bubbleSizeScale(a,i,false)}else{if(this._ble_wScale&&(a>i||this._ble_minMarkerSize||this._props.maxBubbleWidth!==0||this._props.minBubbleWidth!==0)){this._ble_hScale=this._ble_wScale}else{this._ble_hScale=function(t){return e._ble_markerSize}}}};var F=function(e,t){var a=0;var i=0;if(e){if(e.startGap){a=e.startGap}if(e.endGap){i=e.endGap}}l.adjustGap(a,i,t)};R.prototype._blefn_computeScales=function(){this._blefn_computeXScale();if(this._ble_timeBased){l.perfectTime(this._ble_xScale)}else if(!this._ble_xManualRange){l.perfect(this._ble_xScale)}else{l.getRoughTickNum(this._ble_xScale)}this._blefn_computeYScale();if(!this._ble_yManualRange){l.perfect(this._ble_yScale)}else{l.getRoughTickNum(this._ble_yScale)}F(this._ble_xGapObj,this._ble_xScale);F(this._ble_yGapObj,this._ble_yScale);this._blefn_computeWScale();this._blefn_computeHScale()};function B(e,t){var a=true;if(Array.isArray(e)&&Array.isArray(t)){if(e.length===t.length){for(var i=0;i<e.length&&a;++i){if(!e[i]&&!t[i]){continue}if(!e[i]||!t[i]){a=false}else{a=y.ctxEqual(e[i].path,t[i].path)}}}else{a=false}}else{a=y.ctxEqual(e,t)}return a}R.prototype._blefn_renderChart=function(e,t){var a=h.drawClippath(e,this._width,this._height);this._d3root=e;e.attr("clip-path","url(#"+a+")");this._eDispatch.startToInit();var i;var r=this._ble_data.getMeasureValuesGroupDataByIdx(0);var s=this._ble_data.getMeasureValuesGroupDataByIdx(1);var o=this._ble_data.getMeasureValuesGroupDataByIdx(2);var n=this._ble_data.getMeasureValuesGroupDataByIdx(3);var l=this._ble_data.getAnalysisAxisDataByIdx(0);var p=this._ble_data.getAnalysisAxisDataByIdx(1);var c=this;var f=this._blefn_isAnimationEnabled();if(!f){e.select("g.v-datashapesgroup").remove()}this._datashapesgroup=e.select("g.v-datashapesgroup");if(this._datashapesgroup.empty()){this._datashapesgroup=e.append("g").attr("class","v-datashapesgroup")}if(this._ble_isSizeChanged){this._datashapesgroup.attr("transform",null)}var m=this._datashapesgroup;var _=m.node();var g=0;var v={};function y(e,t,a){for(var i=0;i<r.values[0].rows[e].length;i++){var d=l&&l.values.length>0?l.values[0].rows[i].val:0;var h;if(v[d]){h=v[d]}else{h=this._ble_color[g%this._ble_color.length];v[d]=h;g++}var p=r.values[0].rows[e][i].val;var c=s.values[0].rows[e][i].val;var f=o&&o.values.length?o.values[0].rows[e][i].val:null;var m=n&&n.values.length?n.values[0].rows[e][i].val:null;var _={x:p,y:c,w:f,h:m,colorIndex:i,shapeIndex:e,colorValue:h,shapeValue:t,val:[p,c,f,m],ctx:[r.values[0].rows[e][i].ctx,s.values[0].rows[e][i].ctx,o&&o.values.length?o.values[0].rows[e][i].ctx:null,n&&n.values.length?n.values[0].rows[e][i].ctx:null],info:[r.values[0].rows[e][i].info,s.values[0].rows[e][i].info,o&&o.values.length?o.values[0].rows[e][i].info:null,n&&n.values.length?n.values[0].rows[e][i].info:null],timeMeasure:this._ble_timeBased?0:undefined};if(!u.isNoValue(p)&&!u.isNoValue(c)){if(this._props.showNegativeValues||!(f<0||m<0)){a.push(_)}}}}var b=[];var x;if(p&&p.values.length>0){i=0;for(var A=0,M={};i<p.values[0].rows.length;i++){var z=p.values[0].rows[i].val;if(M[z]){x=M[z]}else{x=this._ble_shape[A%this._ble_shape.length];M[z]=x;A++}y.call(this,i,x,b)}}else{y.call(this,0,this._ble_shape[0],b)}b.sort(function(e,t){var a=e.h===null?e.w:e.h;var i=t.h===null?t.w:t.h;return Math.abs(t.w*i)-Math.abs(e.w*a)});var D=0;this._ble_animationComplete=false;var E=b.length;function w(e,t){D++;if(D===E){c._ble_animationComplete=true;c._eDispatch.initialized()}}var C=m.selectAll(".v-datashape");var I=C.empty();function k(e,t,a){var i=e[0];var r=i.length;var s;for(var o=0;o<r;++o){var n=i[o];var l=n.firstChild.__data__;if(B(l.ctx,t.ctx)){l.bReserved=true;t.originalElement=d3.select(n);s=n;_.removeChild(s);break}}if(!s){s=document.createElementNS("http://www.w3.org/2000/svg","g");s.setAttribute("class","v-datashape")}var u=_.childNodes;if(a<u.length){_.insertBefore(s,u[a])}else{_.appendChild(s)}var d=d3.select(s);if(d.selectAll("path").empty()){d.append("path").attr("class",S+" "+N);d.attr("transform","translate(0,"+this._height+")")}t.originalElement=d}for(i=0;i<b.length;i++){k.call(this,C,b[i],i)}C.each(function(e,t){var a=this.firstChild.__data__;if(!a.bReserved){this.parentNode.removeChild(this)}else{delete a.bReserved}});var P=0;if(f){P=O}var R=!this._isPinching&&f&&!I;if(R){E=2*b.length}var F=[];for(i=0;i<b.length;i++){var V=b[i].x,H=b[i].y,U=b[i].w,G=n&&n.values.length?b[i].h:U,Y=b[i].colorValue;x=b[i].shapeValue;var j=this._ble_wScale(U)/2,W=this._ble_hScale(G)/2;var X,K;X=b[i].originalElement;if(!R){X.attr("transform","translate("+this._ble_xScale(V)+","+this._ble_yScale(H)+")")}else{X.transition().duration(P).attr("transform","translate("+this._ble_xScale(V)+","+this._ble_yScale(H)+")").each("end",w)}K=X.select(".v-datapoint");var q={drawingEffect:this._ble_drawingEffect,fillColor:Y,graphType:x,direction:"vertical",rx:j,ry:W,borderWidth:L["stroke-width"],borderColor:L["stroke"],strokeOpacity:T,node:K,visibility:"visible",animateTime:P,endFunc:w,className:S+" "+N};F[i]=d.createGraph(q);b[i].parameter=q;K.node().__data__=b[i]}var Z=this._fullData;if(!Z){Z=this._ble_data}this.applyFormatConditions(this._props.formatRules,m,Z,this);for(i=0;i<b.length;i++){d.updateGraph(b[i].parameter,this._ble_effectManager,undefined,F[i]).attr("fill-opacity",T).attr("opacity",null);delete b[i].originalElement;delete b[i].parameter}if(!f||b.length===0){this._ble_animationComplete=true;if(t&&t.isPinching){this._eDispatch.initialized({eventSource:"pinch"})}else{this._eDispatch.initialized()}}};R.prototype._blefn_bubbleSizeScale=function(e,t,a,i){var r=this;return function(s){var o;if(a){o=!i&&r._height<r._width?r._height:r._width}else{o=r._height}var n,l,d=(o-r._ble_padding)*C;if(r._ble_minMarkerSize){l=r._ble_minMarkerSize<d?r._ble_minMarkerSize:d}if(u.isNoValue(s)){return l?l:4}s=Math.abs(s);if(s>e){s=e}if(l){if(e>t){n=Math.pow((Math.abs(s)-t)/(e-t),.5)*(d-l)+l}else{n=l}}else{n=Math.pow(Math.abs(s)/e,.5)*d}return n>4?n:4}};R.prototype._blefn_sizeData=function(){var e=0;for(var t in this._ble_distinctValuesObj){if(this._ble_distinctValuesObj.hasOwnProperty(t)){e++}}var a=this._ble_wMax;var i=this._ble_wMin;if(this._props.maxBubbleWidth!==0||this._props.minBubbleWidth!==0){a=this._props.maxBubbleWidth;i=this._props.minBubbleWidth}if(e===0){return[]}else if(e===1){return[a]}else if(e===2){return[a,i]}else{return[a,(a+i)/2,i]}};R.prototype.setXAxisGap=function(e){this._ble_xGapObj=e};R.prototype.setYAxisGap=function(e){this._ble_yGapObj=e};R.prototype.getXAxisRange=function(){var e=this._ble_xScale.range();return Math.abs(e[0]-e[1])};R.prototype.getYAxisRange=function(){var e=this._ble_yScale.range();return Math.abs(e[0]-e[1])};R.prototype.pinch=function(e){var t=this._pinchEvent.pinchProperties;var a=_.convertToLayerPoint(this._pinchEvent.point,this._d3root,"."+P);var i=_.valueAxisZoomInfo(this._ble_xScale,e.scale,a,this._width);if(i){var r=this._datashapesgroup.node();var s=b.getTransformToElement(r,r.parentNode);var o=i.scale,n=i.offset;var l=this._ble_xScale.range();if(t.orientation==="horizontal"||t.orientation==="both"){this._ble_xScale.range([l[0]*o,l[l.length-1]*o]);n.x+=s.e}var u=this._ble_yScale.range();if(t.orientation==="vertical"||t.orientation==="both"){this._ble_yScale.range([u[0]*o,u[u.length-1]*o]);n.y+=s.f}if(t.orientation==="horizontal"){n.y=0}else if(t.orientation==="vertical"){n.x=0}this.render(this._d3root,{isPinching:this._isPinching});this._eDispatch.scale({scale:o});this.dragToOffset({offset:n});this._eDispatch.stretch({offset:n})}};R.prototype.getAxisList=function(){var e={xAxis:{},yAxis:{}};e.xAxis.axis=this._ble_xScale;e.xAxis.type="value";e.yAxis.axis=this._ble_yScale;e.yAxis.type="value";return e};R.prototype.blurOut=function(){};return R});define("sap/viz/feeds/Scatter",["sap/viz/feeds/Manifest","sap/viz/data/feed/Constants"],function e(t,a){var i={id:"scatter",feeds:[{id:"regionColor",name:"IDS_REGIONCOLOR",type:a.Type.Dimension,min:0,max:1,aaIndex:1,acceptMND:-1},{id:"regionShape",name:"IDS_REGIONSHAPE",type:a.Type.Dimension,min:0,max:1,aaIndex:2,acceptMND:-1},{id:"primaryValues",name:"IDS_PRIMARYVALUES",type:a.Type.Measure,min:1,max:1,mgIndex:1},{id:"secondaryValues",name:"IDS_SECONDARYVALUES",type:a.Type.Measure,min:1,max:1,mgIndex:2},{id:"bubbleWidth",name:"IDS_BUBBLEWIDTH",type:a.Type.Measure,min:0,max:1,mgIndex:3},{id:"bubbleHeight",name:"IDS_BUBBLEHEIGHT",type:a.Type.Measure,min:0,max:1,mgIndex:4}]};var r={viz:[],module:[],feeds:[i]};return r});define("sap/viz/modules/manifests/Bubble",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/bubble","sap/viz/feeds/Scatter"],function e(t,a,i,r){var s={id:"sap.viz.modules.bubble",type:a.Type.Chart,name:"bubble",data:"DATA STRUCTURE DOC",properties:{colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:a.COLOR.SAPColorSingleAxis,description:"Set the color of the bubbles",example:"<a href='"+a.DocExample.SnippetUrl+"4449' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},shapePalette:{name:"shapePalette",supportedValueType:"StringArray",defaultValue:["circle","square","diamond","triangleUp","triangleDown","triangleLeft","triangleRight","cross","intersection"],supportedValues:["circle","square","diamond","triangleUp","triangleDown","triangleLeft","triangleRight","cross","intersection"],description:"Set the shape of the bubbles"},minMarkerSize:{name:"minMarkerSize",supportedValueType:"PositiveInt",defaultValue:undefined,description:"Set the minimum size of the data points"},maxPriValue:{name:"maxPriValue",supportedValueType:"Number",defaultValue:0,description:"Set the max value of primary values",isExported:false},minPriValue:{name:"minPriValue",supportedValueType:"Number",defaultValue:0,description:"Set the minimum value of primary values",isExported:false},maxSecValue:{name:"maxSecValue",supportedValueType:"Number",defaultValue:0,description:"Set the max value of secondary values",isExported:false},minSecValue:{name:"minSecValue",supportedValueType:"Number",defaultValue:0,description:"Set the minimum value of secondary values",isExported:false},maxBubbleWidth:{name:"maxBubbleWidth",supportedValueType:"Number",defaultValue:0,description:"Set the max value of bubble width values",isExported:false},minBubbleWidth:{name:"minBubbleWidth",supportedValueType:"Number",defaultValue:0,description:"Set the minimum value of bubble width values",isExported:false},maxBubbleHeight:{name:"maxBubbleHeight",supportedValueType:"Number",defaultValue:0,description:"Set the max value of bubble height values",isExported:false},minBubbleHeight:{name:"minBubbleHeight",supportedValueType:"Number",defaultValue:0,description:"Set the minimum value of bubble height values",isExported:false},timeBased:{name:"timeBased",supportedValueType:"Boolean",defaultValue:false,description:"Set whether it is time based scatter/bubble",isExported:false},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the data loading animation is enabled"},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the data updating animation is enabled"},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the resizing animation is enabled"}},description:"Settings for animations in bubble and scatter charts",example:"<a href='"+a.DocExample.SnippetUrl+"8535' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},drawingEffect:{name:"drawingEffect",supportedValueType:"String",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set the drawing effect for the bubbles",isExported:true},formatRules:{name:"formatRules",supportedValueType:"Array",isExported:true,description:'Sample value for formatRules:  [{condition: [{Key1:Value1, Key2:Value2}], color:"#00ff00"}, {condition: [{Key3:Value3}], color:"#00ffff"}].   Each rule has two properties: the "condition" and the "color".   Value1, Value2 and Value3 are values. <br />  The value of a dimension may be <br />  1, Single value (string), like "China" . <br />  2. Array (enumeration), like ["UK","USA"] . <br />  The value of a measure may be <br />  1, Single value (number), like 20 . <br />  2. Arry (enumeration), like [121,122] . <br />  3. Object (range), like {min:100, max 200} . Min and max are inclusive.   If users want to inlcude 200, but not 100 in the range, they may use {min:100.00001, max:200}.   If users want values larger than 100, they may write {min:100}. <br />   The color is applied if one or more conditions in the condition array is met.   If multiple rules could apply on the same data point, it is the last rule that takes effect.',example:"<a href='"+a.DocExample.SnippetUrl+"8751' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},axisTooltip:{name:"axisTooltip",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"enabled/disabled tooltip."},formatString:{name:"formatString",supportedValueType:"StringArray",defaultValue:null,description:'Set format string for small tooltip.The first one is applied to xAxis and the second one is applied to yAxis.Any character in "MDYHSAmdyhsa#?%0@" is reserved as a token for format code.'}},description:"Set tooltip related properties.",isExported:false},hoverline:{name:"hoverline",supportedValueType:"Object",description:"Settings for hoverline properties.",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set to enabled/disabled hoverline or not."}},isExported:false},showNegativeValues:{name:"showNegativeValues",supportedValueType:"Boolean",defaultValue:true,description:"Show/hide the data of negetive value.",isExported:false}},css:{},events:{initialized:a.Event.Initialized.desc,selectData:a.Event.SelectData.desc,deselectData:a.Event.DeSelectData.desc,showTooltip:a.Event.TooltipShow.desc,hideTooltip:a.Event.TooltipHide.desc},feeds:{id:"scatter",configure:{bubbleWidth:{min:1}}},configure:null,fn:i};var o={viz:[],module:[s],feeds:[].concat(r.feeds)};return o});define("sap/viz/manifests/scatter/BubbleChart",["sap/viz/manifests/Viz","sap/viz/modules/Constants","sap/viz/base/UADetector","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/scatter/BaseBubbleChart","sap/viz/modules/manifests/Bubble"],function e(t,a,i,r,s,o){var n={id:"viz/bubble",name:"IDS_BUBBLECHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/scatter/single/base",modules:{root:{configure:{properties:{layout:{adjustPolicy:a.LAYOUT_ADJUST_POLICY.APPROXIMATE}}},modules:{legends:{modules:{sizeLegend:{id:"sap.viz.modules.legend.common",configure:{description:"Settings for the size legend.",propertyCategory:"sizeLegend",properties:{type:"SizeLegend",layout:{order:0}},propertiesOverride:{isHierarchical:{isExported:false},isScrollable:{isExported:false},formatString:{isExported:true}}}}}},tooltip:{configure:{properties:{chartType:"bubble"}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:true,position:"inside",respectShapeWidth:false,isBubbleChart:true},propertiesOverride:{respectShapeWidth:{isExported:true}}}},plot:{id:"sap.viz.modules.bubble",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",propertiesOverride:{showNegativeValues:{isExported:true}}}}}}}}},dataScale:{primaryValues:{maxValue:["plotArea.maxPriValue"],minValue:["plotArea.minPriValue"]},secondaryValues:{maxValue:["plotArea.maxSecValue"],minValue:["plotArea.minSecValue"]},bubbleWidth:{maxValue:["plotArea.maxBubbleWidth"],minValue:["plotArea.minBubbleWidth"]},bubbleHeight:{maxValue:["plotArea.maxBubbleHeight"],minValue:["plotArea.minBubbleHeight"]}},dependencies:{attributes:[undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,{targetModule:"root.legends.sizeLegend",target:"sizeLegendInfo",sourceModule:"root.main.plot",source:"sizeLegend"}],events:[{targetModule:"root",listener:"relayout",sourceModule:"root.legends",type:"relayout"},{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]},valueAxis:["xAxis","yAxis"]};if(i.isMobile()){var l=n.modules.root.modules;l.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var u=n.dependencies.attributes;var d=n.dependencies.events;u.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});d.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});d.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});d.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});d.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});d.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});d.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});d.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});d.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});d.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});d.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});d.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"})}var h={viz:[n].concat(s.viz),module:[].concat(s.module,r.module,o.module),feeds:[].concat(s.feeds,r.feeds,o.feeds)};return h});define("sap/viz/impls/BubbleChart",["sap/viz/manifests/scatter/BubbleChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/xyz/Column3DChart",["sap/viz/manifests/xyz/Base3DChart"],function e(t){return t("vertical")});define("sap/viz/impls/Column3DChart",["sap/viz/manifests/xyz/Column3DChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/modules/combination",["sap/viz/base/utils/oo","sap/viz/modules/BaseGesture","sap/viz/modules/dispatch","sap/viz/modules/manifests/Module","sap/viz/util/ColorSeriesGenerator","sap/viz/modules/util/MNDHandler","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/ObjectUtils","sap/viz/data/MultiAxesDataAdapter","sap/viz/modules/util/tooltipDataHandler","sap/viz/util/Scaler","sap/viz/util/NumberUtils","sap/viz/base/utils/Objects","sap/viz/lang/langManager","sap/viz/modules/util/BoundUtil","sap/viz/modules/util/dataUtil","sap/viz/modules/Constants"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g){var v="v-module";var y="v-modules";var b=g.CSS.CLASS.DATAPOINT;var x=["line","line","line"];var A={priorityMap:{bar:5,line:0},defaultShape:"line",MNDOnCategory:false,MNDInner:false};var M=function(e,t){this.mtype=e;this.that=t};M.prototype.initialized=function(){S.initialized(this.mtype,this.that)};M.prototype.startToInit=function(){if(this.that._eDispatch){this.that._eDispatch.startToInit()}};var S={initialized:function(e,t){var a;if(t._module){if(t._module[e]){t._module[e].isCompleteAnimation=true}for(a in t._module){if(!t._module[a].isCompleteAnimation){return true}}t.hasAnimationEnd=true}return true}};var z=function(e,t){z.superclass.constructor.apply(this,arguments);l.extend(true,this._props,A);this._setProperty(e.props(null));this._effectManager=t.effectManager;this._ctx=t;this._rawdata=undefined;this._randomSuffix=l.guid();this._clipRect=undefined;this._module=undefined;this._lastmodule=undefined;this._colorPalette=undefined;this._shapePalette=undefined;this._tooltipdata=undefined;this.isDataSchemaChanged=false;this.isDataLoading=true;this.isSizeChanged=false;this.isDatasetChanged=false;this._tooltipDataHandler=undefined;this.hasAnimationEnd=undefined;this._need_computeScales=false;this._need_prepareData=false};t.extend(z,a);z.prototype.render=function(e,t){m.drawBound(e,this._width,this._height,undefined,true);this._tooltipDataHandler=d();this._redraw(e,t);this.isDataSchemaChanged=false,this.isDataLoading=false,this.isSizeChanged=false,this.isDatasetChanged=false;return this};z.prototype.afterUIComponentAppear=function(){if(this._eDispatch){this._eDispatch.initialized()}};z.prototype.width=function(e){if(!arguments.length){return this._width}this._width=e;this.isSizeChanged=!this.isSizeChanged&&e===this._width?false:true;this._need_computeScales=true;return this};z.prototype.height=function(e){if(!arguments.length){return this._height}this._height=e;this.isSizeChanged=!this.isSizeChanged&&e===this._height?false:true;this._need_computeScales=true;return this};z.prototype.size=function(e){if(!arguments.length){return{width:this._width,height:this._height}}if(e.width!==this._width||e.height!==this._height){this._width=e.width;this._height=e.height;this._need_computeScales=true;this._computeScales()}return this};z.prototype.properties=function(e){if(!arguments.length){return this._getProperty()}this._setProperty(c.extend(true,this._getProperty(),e));return this};z.prototype.dataLabel=function(e){};z.prototype.data=function(e){if(!arguments.length){return this._rawdata}if(!e||this._rawdata===e){return}this._rawdata=e;this.isDatasetChanged=true;this.isDataSchemaChanged=false;if(!_().hasSameSchema(this._rawdata,e)){this.isDataSchemaChanged=true}this._need_prepareData=true;return this};z.prototype.primaryAxisTitle=function(e){if(!arguments.length){var t=this._rawdata.getMeasureValuesGroupDataByIdx(0),a=[];if(t){for(var i=0,r=t.values.length;i<r;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){a.push(t.values[i].col)}else{a.push(f.get("IDS_ISNOVALUE"))}}}return a.join(" & ")}return this};z.prototype.secondAxisTitle=function(e){if(!arguments.length){var t=this._rawdata.getMeasureValuesGroupDataByIdx(1),a=[];if(t){for(var i=0,r=t.values.length;i<r;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){a.push(t.values[i].col)}else{a.push(f.get("IDS_ISNOVALUE"))}}}return a.join(" & ")}return this};z.prototype.dispatch=function(e){if(!arguments.length){return this._eDispatch}this._eDispatch=e;return this};z.prototype.primaryScale=function(e){if(!arguments.length){this._computeScales();return this._valueAxis1.scale}this._valueAxis1.scale=e;this._need_computeScales=false;return this};z.prototype.secondaryScale=function(e){if(!arguments.length){this._computeScales();return this._valueAxis2.scale}this._valueAxis2.scale=e;this._need_computeScales=false;return this};z.prototype.categoryScale=function(e){if(!arguments.length){this._computeScales();return this._categoryScale}this._categoryScale=e;this._need_computeScales=false;return this};z.prototype.primaryDataRange=function(e){if(!arguments.length){this._computeScales();return{min:this._valueAxis1.bottomValue,max:this._valueAxis1.topValue}}var t,a;if(e!==null){if(!isNaN(e.max)){t=e.max}else{t=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(e.min)){a=e.min}else{a=this._valueAxis1.scale.perfectDomainBegin}if(t>a){this._valueAxis1.topValue=t;this._valueAxis1.bottomValue=a;if(e.from==="axis"){this._valueAxis1.manualRange=true}this._need_computeScales=true}}else{if(this._valueAxis1.manualRange===true){delete this._valueAxis1.topValue;delete this._valueAxis1.bottomValue;this._valueAxis1.manualRange=false;this._need_computeScales=true}}return this};z.prototype.secondDataRange=function(e){if(!arguments.length){this._computeScales();return{min:this._valueAxis2.bottomValue,max:this._valueAxis2.topValue}}var t,a;if(e!==null){if(!isNaN(e.max)){t=e.max}else{t=this._valueAxis2.scale.perfectDomainEnd}if(!isNaN(e.min)){a=e.min}else{a=this._valueAxis2.scale.perfectDomainBegin}if(t>a){this._valueAxis2.topValue=t;this._valueAxis2.bottomValue=a;if(e.from==="axis"){this._valueAxis2.manualRange=true}this._need_computeScales=true}}else{if(this._valueAxis2.manualRange===true){this._valueAxis2.topValue=this._valueAxis2.initTopValue;this._valueAxis2.bottomValue=this._valueAxis2.initBottomValue;this._valueAxis2.manualRange=false;this._need_computeScales=true}}return this};z.prototype.primaryAxisColor=function(){if(!this._props.MNDOnCategory){return this._props.primaryValuesColorPalette[0]}else{return null}};z.prototype.secondAxisColor=function(){if(!this._props.MNDOnCategory){return this._props.secondaryValuesColorPalette[0]}else{return null}};z.prototype.colorPalette=function(e){if(!arguments.length){return this._colorPalette}return this};z.prototype.shapePalette=function(e){if(!arguments.length){return this._shapePalette}return this};z.prototype.clear=function(e){for(var t in this._module){if(e===undefined||e===false){this._module[t].module.clear()}else{this._module[t].module.clear("grayall")}}};z.prototype.highlight=function(e,t){var a,i;var r;if(e instanceof Array){r=e}else{r=[];r.push(e)}if(r.length===0){return}for(a in this._module){if(this._module.hasOwnProperty(a)){this._module[a].highlightArray=[]}}for(a=0;a<r.length;a++){var s=r[a];for(i in this._module){if(this._module.hasOwnProperty(i)){var o=this._module[i].dataPointElements;if(this._isExist(o,s)){this._module[i].highlightArray.push(s);break}}}}for(a in this._module){if(this._module.hasOwnProperty(a)&&this._module[a].highlightArray.length!==0){this._module[a].module.highlight(this._module[a].highlightArray,t)}}};z.prototype.unhighlight=function(e,t,a){var i,r;var s;if(e instanceof Array){s=e}else{s=[];s.push(e)}for(i in this._module){if(this._module.hasOwnProperty(i)){this._module[i].unhighlightArray=[]}}for(i=0;i<s.length;i++){var o=s[i];for(r in this._module){if(this._module.hasOwnProperty(r)){var n=this._module[r].dataPointElements;if(this._isExist(n,o)){this._module[r].unhighlightArray.push(o);break}}}}for(i in this._module){if(this._module.hasOwnProperty(i)&&this._module[i].unhighlightArray.length!==0){this._module[i].module.unhighlight(this._module[i].unhighlightArray,t,a)}}};z.prototype.multiAxesDataAdapterToDestroy=function(e){var t=0;var a=0;var i=0;if(e){if(e._aa){for(t=0;t<e._aa.length;t++){if(e._aa[t]){if(e._aa[t].values){for(a=0;a<e._aa[t].values.length;a++){if(e._aa[t].values[a]){e._aa[t].values[a].rows=null;e._aa[t].values[a]=null}}e._aa[t].values=null}e._aa[t]=null}}e._aa=null}if(e._mg){for(t=0;t<e._mg.length;t++){if(e._mg[t]){if(e._mg[t].values){for(a=0;a<e._mg[t].values.length;a++){if(e._mg[t].values[a]){if(e._mg[t].values[a].rows){for(i=0;i<e._mg[t].values[a].rows.length;i++){e._mg[t].values[a].rows[i]=null}e._mg[t].values[a].rows=null}e._mg[t].values[a]=null}}e._mg[t].values=null}e._mg[t]=null}}e._mg=null}if(e._bindingInfo){e._bindingInfo=null}e=null}};z.prototype.globalDOMDestroy=function(e){var t=0,a=0;if(e){for(t=0;t<e.length;t++){if(e[t]){for(a=0;a<e[t].length;a++){if(e[t][a].remove){e[t][a].remove()}e[t][a]=null}e[t]=null}}e=null}};z.prototype.destroy=function(){var e=0;if(this._module){for(var t in this._module){if(this._module.hasOwnProperty(t)){if(this._module[t]){if(this._module[t].module&&this._module[t].module.destroy){this._module[t].module.destroy()}this._module[t].module=null;if(this._module[t].dataPointElements){for(e=0;e<this._module[t].dataPointElements.length;e++){if(this._module[t].dataPointElements[e].remove){this._module[t].dataPointElements[e].remove()}this._module[t].dataPointElements[e]=null}this._module[t].dataPointElements=null}if(this._module[t].data){this.multiAxesDataAdapterToDestroy(this._module[t].data)}if(this._module[t].d3root){this.globalDOMDestroy(this._module[t].d3root);this._module[t].d3root=null}if(this._module[t].props){this._module[t].props=null}if(this._module[t].colorPaletteY1){this._module[t].colorPaletteY1=null}this._module[t]=null}}}}if(this._tooltipdata){for(e=0;e<this._tooltipdata.length;e++){this._tooltipdata[e]=null}this._tooltipdata=null}if(this._valueAxis1){if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1])}if(this._valueAxis1.data){for(e=0;e<this._valueAxis1.data.length;e++){this._valueAxis1.data[e]=null}this._valueAxis1.data=null}this._valueAxis1.manualRange=null;this._valueAxis1.topValue=null;this._valueAxis1.bottomValue=null}if(this._valueAxis2){if(this._valueAxis2.scale){this._valueAxis2.scale.domain([0,1]).range([0,1])}if(this._valueAxis2.data){for(e=0;e<this._valueAxis2.data.length;e++){this._valueAxis2.data[e]=null}this._valueAxis2.data=null}this._valueAxis2.manualRange=null;this._valueAxis2.topValue=null;this._valueAxis2.bottomValue=null}if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1])}if(this._ctx){this._ctx.destroy();this._ctx=null}if(this._d3root){this._d3root.selectAll("."+b).remove()}if(this._datashapesgroup){this.globalDOMDestroy(this._datashapesgroup);this._datashapesgroup=null}if(this._clipRect){this.globalDOMDestroy(this._clipRect);this._clipRect=null}if(this._d3root){this.globalDOMDestroy(this._d3root);this._d3root=null}if(this._effectManager&&this._effectManager.destroy){this._effectManager.destroy()}this._effectManager=null;this._valueAxis1=null;this._valueAxis2=null;this._categoryScale=null;this._module=null;this._rawdata=null;this._props=null;this._tooltipDataHandler=null;this._eDispatch=null;this._colorPalette=null;this._shapePalette=null;this._randomSuffix=null};z.prototype._init_data=function(){if(this._module&&this._module.bar&&this._module.bar.module){this._lastmodule=this._module}this._module={};if(!this._valueAxis1.manualRange){this._valueAxis1.topValue=null;this._valueAxis1.bottomValue=null}if(!this._valueAxis2.manualRange){this._valueAxis2.topValue=null;this._valueAxis2.bottomValue=null}this._valueAxis1.scale=d3.scale.linear();this._valueAxis2.scale=d3.scale.linear()};z.prototype._prepareData=function(){var e,t,a,i;if(!this._need_prepareData){return}this._init_data();var r=o(this._rawdata);this._props.MNDInner=r.MNDInner;this._valueAxis1.data=r["MG1"];this._valueAxis2.data=r["MG2"];this._tooltipdata=d.dataTransform(r);if(r.color){var s=r["MG1"];var n=[];var l=[];for(e=0;e<s.length;e++){var h=[];var p=[];var c=s[e];for(t=0;t<c.length;t++){if(r.color[t]===0){h.push(c[t])}else if(r.color[t]===1){p.push(c[t])}}n.push(h);l.push(p)}this._valueAxis1.data=n;this._valueAxis2.data=l}if(r.hasMND&&!r.MNDOnColor){a=this._props.dataShape.primaryAxis[0];if(a===undefined||a===null){a=this._props.defaultShape}if(this._module[a]===undefined){this._module[a]={}}this._module[a].data=this._rawdata;this._props.MNDOnCategory=true}else{this._props.MNDOnCategory=false;var f=this._rawdata.getAnalysisAxisDataByIdx(0);var m=this._rawdata.getAnalysisAxisDataByIdx(1);var _=this._rawdata.getMeasureValuesGroupDataByIdx(0);var g=this._rawdata.getMeasureValuesGroupDataByIdx(1);for(e=0;e<_.values.length;e++){a=this._props.dataShape.primaryAxis[e];if(a===undefined||a===null){a=this._props.defaultShape}if(this._module[a]===undefined){this._module[a]={m1Num:0,m2Num:0}}i=this._module[a];i.m1Num++;if(i.data===undefined){i.data=new u;i.data.addAnalysisAxis(f);i.data.addAnalysisAxis(m);i.data.addMeasureValuesGroup({index:_.index,values:[]});if(g){i.data.addMeasureValuesGroup({index:g.index,values:[]})}}var v=i.data.getMeasureValuesGroupDataByIdx(0);v.values.push(_.values[e])}if(g){for(e=0;e<g.values.length;e++){a=this._props.dataShape.secondaryAxis!==x?this._props.dataShape.secondaryAxis[e]:this._props.dataShape.secondAxis[e];if(a===undefined||a===null){a=this._props.defaultShape}if(this._module[a]===undefined){this._module[a]={m1Num:0,m2Num:0}}i=this._module[a];i.m2Num++;if(i.data===undefined){i.data=new u;i.data.addAnalysisAxis(f);i.data.addAnalysisAxis(m);i.data.addMeasureValuesGroup({index:_.index,values:[]});if(g){i.data.addMeasureValuesGroup({index:g.index,values:[]})}}var y=i.data.getMeasureValuesGroupDataByIdx(1);y.values.push(g.values[e])}}}this._prepareColor();this._need_prepareData=false;this._need_computeScales=true};z.prototype._prepareColor=function(){var e,t,a,i,r;if(this._rawdata===undefined){return}var s=this._rawdata.getMeasureValuesGroupDataByIdx(0);var o=this._rawdata.getMeasureValuesGroupDataByIdx(1);var n;var l;if(o&&!this._props.MNDOnCategory){n=this._props.primaryValuesColorPalette}else{n=this._props.colorPalette}l=this._props.secondaryValuesColorPalette;this._colorPalette=[];this._shapePalette=[];for(e in this._module){if(this._module.hasOwnProperty(e)){this._module[e].colorPaletteY1=[];this._module[e].currentM1Index=-1;if(o){this._module[e].colorPaletteY2=[];this._module[e].currentM2Index=-1}}}if(this._props.MNDOnCategory){i=this._props.dataShape.primaryAxis[0];var u=s.values[0].rows.length;for(t=0;t<u;t++){this._module[i].colorPaletteY1.push(n[t%n.length]);this._shapePalette.push(this._getShape(i));this._colorPalette.push(n[t%n.length])}}else{var d=s.values.length;var h=0;if(o){h=o.values.length}var p=d+h;var c=s.values[0].rows.length;for(e=0;e<d;e++){i=this._props.dataShape.primaryAxis[e];if(i===undefined||i===null){i=this._props.defaultShape}r=this._module[i];r.currentM1Index++;for(t=0;t<c;t++){if(this._props.MNDInner){a=n[(e+t*d)%n.length];r.colorPaletteY1[r.currentM1Index+t*r.m1Num]=a;this._shapePalette[e+t*p]=this._getShape(i);this._colorPalette[e+t*p]=a}else{a=n[(e*c+t)%n.length];this._module[i].colorPaletteY1.push(a);this._shapePalette.push(this._getShape(i));this._colorPalette.push(a)}}}if(o){for(e=0;e<h;e++){i=this._props.dataShape.secondaryAxis!==this.defaultSecondaryAxis?this._props.dataShape.secondaryAxis[e]:this._props.dataShape.secondAxis[e];if(i===undefined||i===null){i=this._props.defaultShape}r=this._module[i];r.currentM2Index++;for(t=0;t<c;t++){if(this._props.MNDInner){a=l[(e+t*h)%l.length];r.colorPaletteY2[r.currentM2Index+t*r.m2Num]=a;this._shapePalette[d+e+t*p]=this._getShape(i);this._colorPalette[d+e+t*p]=a}else{a=l[(e*c+t)%l.length];this._module[i].colorPaletteY2.push(a);this._shapePalette.push(this._getShape(i));this._colorPalette.push(a)}}}}}};z.prototype._moduleSortHelp=function(e,t){return A.priorityMap[t]-A.priorityMap[e]};z.prototype._prepareModule=function(e){var t=[],a,i,r,s,o;var n=this;for(a in this._module){if(this._module.hasOwnProperty(a)){t.push(a)}}t.sort(this._moduleSortHelp);if(!this._clipRect){s="clip1_"+this._randomSuffix;this._clipRect=this._d3root.insert("svg:clipPath",":first-child").attr("class","v-clippath").attr("id",s).append("rect");this._d3root.attr("clip-path","url(#"+s+")")}if(this._clipRect){this._clipRect.attr("width",this._width).attr("height",this._height)}this._datashapesgroup=this._d3root.selectAll("."+y);if(this._datashapesgroup.empty()){this._datashapesgroup=this._d3root.append("svg:g").attr("class",y)}if(!e||!e.isPinching){this._datashapesgroup.attr("transform",undefined)}var u=this._datashapesgroup.selectAll("."+v).data(t);u.enter().append("svg:g").attr("class",v);u.exit().remove();u.each(function(e){n._module[e].d3root=d3.select(this)});for(a in this._module){if(this._module.hasOwnProperty(a)){if(!this._module[a].module){if(this._lastmodule&&this._lastmodule[a]&&this._lastmodule[a].module){this._module[a].module=this._lastmodule[a].module}else{this._module[a].module=this._getModule(a)}}var d=false;if(this.isDataLoading){d=this._props.animation.dataLoading}else if(this.isDatasetChanged){d=this._props.animation.dataUpdating}else if(this.isSizeChanged){d=this._props.animation.resizing}var h={colorPalette:this._module[a].colorPaletteY1,primaryValuesColorPalette:this._module[a].colorPaletteY1,tooltip:{enabled:false},animation:{dataLoading:d,dataUpdating:d},drawingEffect:this._props.drawingEffect,drawClipPath:false,formatRules:this._props.formatRules,orientation:this._props.orientation,isCombination:true};if(this._module[a].colorPaletteY2){h.secondaryValuesColorPalette=this._module[a].colorPaletteY2}switch(a){case"line":l.extend(h,this._props.line);break;case"bar":l.extend(h,this._props.bar);break;default:break}this._module[a].props=h;this._module[a].module.dispatch(new M(a,this))}}};z.prototype._redraw=function(e,t){var a,i,r,s;var o=this;this._d3root=e;this.hasAnimationEnd=false;this._prepareData();this._computeScales();this._prepareModule(t);if(this._module.hasOwnProperty("bar")){_().addMetaInfo2Data(this._module,"bar",{chart:"combination",element:"bar"})}if(this._module.hasOwnProperty("line")){_().addMetaInfo2Data(this._module,"line",{chart:"combination",element:"line"})}for(a in this._module){if(this._module.hasOwnProperty(a)){var n=this._module[a];i=d3.scale.linear();i.domain(this._valueAxis1.scale.domain()).range(this._valueAxis1.scale.range());var l=this._categoryScale.rangeExtent();r=d3.scale.ordinal();r.domain(this._categoryScale.domain()).rangeBands(l);n.module.width(null).height(null).data(null);n.module.width(this._width).height(this._height).data(n.data).properties(n.props).primaryScale(i).categoryScale(r);if(n.module.setRawData){n.module.setRawData(this._rawdata)}var u=this._rawdata.getMeasureValuesGroupDataByIdx(1);if(u){s=d3.scale.linear();s.domain(this._valueAxis2.scale.domain()).range(this._valueAxis2.scale.range());switch(a){case"bar":n.module.secondScale(s);break;case"line":n.module.secondaryScale(s);break;default:break}}n.d3root.call(n.module);n.dataPointElements=[];n.d3root.selectAll(".v-datapoint").each(function(){n.dataPointElements.push(this)})}}if(this.hasAnimationEnd){this._dispatch_initialized(this._eDispatch,t)}else{var d=20;var h=0;var p=5e3;var c=setInterval(function(){if(o.hasAnimationEnd||h>p){clearInterval(c);o._dispatch_initialized(o._eDispatch,t)}else{h+=d}},d)}};z.prototype._dispatch_initialized=function(e,t){if(e){if(t&&t.isPinching){e.initialized({eventSource:"pinch"})}else{e.initialized()}}};z.prototype._getCategoryIndex=function(e){var t;var a=this._categoryScale.domain().length;var i=e/this._categoryScale.rangeBand();i=Math.floor(i);if(i>a-1){i=a-1}if(i<0){i=0}return i};z.prototype._computeScales=function(){this._prepareData();if(!this._need_computeScales){return}var e=[];var t=0;var a,i;if(this._props.orientation==="vertical"){a=[0,this._width];i=[this._height,0]}else if(this._props.orientation==="horizontal"){i=[0,this._width];a=[0,this._height]}if(this._props.MNDOnCategory){if(this._valueAxis1.data&&this._valueAxis1.data.length>0){t+=this._valueAxis1.data[0].length}if(this._valueAxis2.data&&this._valueAxis2.data.length>0){t+=this._valueAxis2.data[0].length}}else{if(this._valueAxis1.data&&this._valueAxis1.data.length>0){t=this._valueAxis1.data[0].length}else{t=this._valueAxis2.data[0].length}}for(var r=0;r<t;r++){e.push(r)}this._categoryScale.domain(e).rangeBands(a);this._calculateScale(this._valueAxis1,this._valueAxis1.scale);this._calculateScale(this._valueAxis2,this._valueAxis2.scale);if(this._valueAxis1.data&&this._valueAxis1.data.length>0&&this._valueAxis2.data&&this._valueAxis2.data.length>0){if(this._valueAxis1.scale.domain().length===0&&this._valueAxis2.scale.domain().length===0){this._valueAxis1.scale.domain([0,1]).range(i);this._valueAxis2.scale.domain([0,1]).range(i)}else if(this._valueAxis1.scale.domain().length===0&&this._valueAxis2.scale.domain().length!==0){this._valueAxis1.scale.domain(this._valueAxis2.scale.domain()).range(this._valueAxis2.scale.range())}else if(this._valueAxis1.scale.domain().length!==0&&this._valueAxis2.scale.domain().length===0){this._valueAxis2.scale.domain(this._valueAxis1.scale.domain()).range(this._valueAxis1.scale.range())}if(!this._valueAxis1.manualRange&&!this._valueAxis2.manualRange){h.perfectDual(this._valueAxis1.scale,this._valueAxis2.scale)}else if(!this._valueAxis1.manualRange){h.perfect(this._valueAxis1.scale);h.getRoughTickNum(this._valueAxis2.scale)}else if(!this._valueAxis2.manualRange){h.perfect(this._valueAxis2.scale);h.getRoughTickNum(this._valueAxis1.scale)}else{h.getRoughTickNum(this._valueAxis1.scale);h.getRoughTickNum(this._valueAxis2.scale)}}else if(this._valueAxis1.data&&this._valueAxis1.data.length>0){if(this._valueAxis1.scale.domain().length===0){this._valueAxis1.scale.domain([0,1]).range(i)}if(!this._valueAxis1.manualRange){h.perfect(this._valueAxis1.scale)}else{h.getRoughTickNum(this._valueAxis1.scale)}}else if(this._valueAxis2.data&&this._valueAxis2.data.length>0){if(this._valueAxis2.scale.domain().length===0){this._valueAxis2.scale.domain([0,1]).range(i)}if(!this._valueAxis2.manualRange){h.perfect(this._valueAxis2.scale)}else{h.getRoughTickNum(this._valueAxis2.scale)}}this._need_computeScales=false};z.prototype._calculateScale=function(e,t){var a;if(this._props.orientation==="vertical"){a=[this._height,0]}else if(this._props.orientation==="horizontal"){a=[0,this._width]}if(e.data&&e.data.length>0){if(!e.topValue){var i=this._calculateMinMax(e);if(!i||i.min===0&&i.max===0){t.domain([]).range([])}else{t.domain([i.min,i.max]).range(a);e.initBottomValue=i.min;e.initTopValue=i.max}}else{t.domain([e.bottomValue,e.topValue]).range(a)}}else{t.domain([0,0]).range(0,0)}};z.prototype._getProperty=function(){var e={};e.orientation=this._props.orientation;e.tooltip={enabled:this._props.tooltip.enabled};e.primaryValuesColorPalette=this._props.primaryValuesColorPalette;e.secondaryValuesColorPalette=this._props.secondaryValuesColorPalette;e.colorPalette=this._props.colorPalette;e.drawingEffect=this._props.drawingEffect;e.formatRules=this._props.formatRules;e.animation={};l.extend(true,e.animation,this._props.animation);e.dataShape={};l.extend(true,e.dataShape,this._props.dataShape);e.bar={};l.extend(true,e.bar,this._props.bar);e.line={};l.extend(true,e.line,this._props.line);return e};z.prototype._setProperty=function(e){this._props.orientation=e.orientation;this._props.tooltip={enabled:e.tooltip.enabled};this._props.primaryValuesColorPalette=e.primaryValuesColorPalette;this._props.secondaryValuesColorPalette=e.secondaryValuesColorPalette;this._props.drawingEffect=e.drawingEffect;this._props.colorPalette=e.colorPalette;this._props.formatRules=e.formatRules;this._props.animation={};l.extend(true,this._props.animation,e.animation);this._props.dataShape={};l.extend(true,this._props.dataShape,e.dataShape);this._props.bar={};l.extend(true,this._props.bar,e.bar);this._props.line={};l.extend(true,this._props.line,e.line);return this._props};z.prototype._getModule=function(e){var t;if(this._props.orientation==="vertical"){switch(e){case"bar":t=r.get("sap.viz.modules.verticalbar");break;case"line":t=r.get("sap.viz.modules.line");break;default:break}}else if(this._props.orientation==="horizontal"){switch(e){case"bar":t=r.get("sap.viz.modules.bar");break;case"line":t=r.get("sap.viz.modules.horizontalline");break;default:break}}return t.execute(this._ctx)};z.prototype._getShape=function(e){var t;switch(e){case"line":t=this._props.line.marker.shape;break;case"bar":t="squareWithRadius";break;default:break}return t};z.prototype._isExist=function(e,t){for(var a=0;a<e.length;a++){if(e[a]===t){return true}}return false};z.prototype._calculateMinMax=function(e){if(!e.data||e.data.length===0){return null}var t={min:null,max:null};t.max=d3.max(e.data,function(e){return d3.max(e,function(e){return e.val===" "?null:e.val})});t.min=d3.min(e.data,function(e){return d3.min(e,function(e){return e.val===" "?null:e.val})});if(p.isNoValue(t.max)){return null}var a;if(this._props.orientation==="vertical"){a=this._height}else if(this._props.orientation==="horizontal"){a=this._width}if(t.min>=0){t.min=0;t.max+=t.max*5/a}else if(t.max<=0){t.max=0;t.min+=t.min*5/a}else{var i=(t.max-t.min)*5/a;t.min-=i;t.max+=i}return t};return z});define("sap/viz/modules/manifests/xy/Combination",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/base/UADetector","sap/viz/modules/combination","sap/viz/modules/manifests/xy/Base"],function e(t,a,i,r,s){var o={base:"sap.viz.modules.xy.base",id:"sap.viz.modules.combination",name:"combination",properties:{tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the tooltip is enabled"}},isExported:false,description:"Settings for the tooltip"},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the data loading animation is enabled"},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the data updating animation is enabled"},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the resizing animation is enabled"}},description:"Settings for animations in the plot area",example:"<a href='"+a.DocExample.SnippetUrl+"8535' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},dataShape:{name:"dataShape",supportedValueType:"Object",supportedValues:{primaryAxis:{name:"primaryAxis",supportedValueType:"StringArray",supportedValues:["bar","line"],defaultValue:["bar","line","line"],description:"Set the shape of data series on the primary axis"},secondaryAxis:{name:"secondaryAxis",supportedValueType:"StringArray",supportedValues:["line","line"],defaultValue:["line","line","line"],description:"Set the shape of data series on the secondary axis",isExported:true},secondAxis:{name:"secondAxis",supportedValueType:"StringArray",supportedValues:["line","line"],defaultValue:["line","line","line"],description:"Set the shape of data series on the secondary axis (Old version; still works)",isExported:false}},description:"Settings for the shape of data series"},bar:{name:"bar",supportedValueType:"Object",supportedValues:{isRoundCorner:{name:"isRoundCorner",supportedValueType:"Boolean",defaultValue:false,description:"Set whether the bars have rounded corners",isExported:false}},description:"Settings for bar properties"},line:{name:"line",supportedValueType:"Object",supportedValues:{width:{name:"width",supportedValueType:"PositiveInt",defaultValue:2,description:"Set the width of lines, ranging from '1' to '7'. If you enter a value outside the range, the line width will default to '2'."},marker:{name:"marker",description:"Settings for the visual markers for data points",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set the visibility of the data point markers"},shape:{name:"shape",supportedValueType:"StringArray",supportedValues:["circle","diamond","triangleUp","triangleDown","triangleLeft","triangleRight","cross","intersection"],defaultValue:"circle",description:"Set the shape of the data point markers"},size:{name:"size",supportedValueType:"PositiveInt",defaultValue:"6",min:"4",max:"32",description:"Set the size of the data point markers, ranging from '4' to '32'. If you enter a value outside the range, the size defaults to '6'."},number:{name:"number",isExported:i.isMobile()?true:false,supportedValueType:"Int",defaultValue:Number.POSITIVE_INFINITY,description:"Set the number to enable events for markers when they are invisible. "+"If the total amount of markers is bigger than this value, markers will remain hidden when selected or hovered over. "+"The default value is Number.POSITIVE_INFINITY, which is the largest possible value."}}}},description:"Settings for line properties"},formatRules:{name:"formatRules",supportedValueType:"Array",isExported:true,description:'Sample value for formatRules:  [{condition: [{Key1:Value1, Key2:Value2}], color:"#00ff00"}, {condition: [{Key3:Value3}], color:"#00ffff"}].   Each rule has two properties: the "condition" and the "color".   Value1, Value2 and Value3 are values. <br />  The value of a dimension may be <br />  1, Single value (string), like "China" . <br />  2. Array (enumeration), like ["UK","USA"] . <br />  The value of a measure may be <br />  1, Single value (number), like 20 . <br />  2. Arry (enumeration), like [121,122] . <br />  3. Object (range), like {min:100, max 200} . Min and max are inclusive.   If users want to inlcude 200, but not 100 in the range, they may use {min:100.00001, max:200}.   If users want values larger than 100, they may write {min:100}. <br />   The color is applied if one or more conditions in the condition array is met.   If multiple rules could apply on the same data point, it is the last rule that takes effect.',example:"<a href='"+a.DocExample.SnippetUrl+"8751' target='_blank'>"+a.DocExample.TryThisValue+"</a>"}},css:{},fn:r};var n={viz:[],module:[o].concat(s.module),feeds:[].concat(s.feeds)};return n});define("sap/viz/modules/BaseLine",["sap/viz/base/utils/oo","sap/viz/modules/BaseGesture","sap/viz/modules/util/dataUtil","sap/viz/modules/dispatch","sap/viz/modules/util/MNDHandler","sap/viz/base/utils/TypeUtils","sap/viz/util/Scaler","sap/viz/util/ColorSeriesGenerator","sap/viz/util/BoundingBox","sap/viz/util/NumberUtils","sap/viz/lang/langManager","sap/viz/util/DrawUtil","sap/viz/modules/util/tooltipDataHandler","sap/viz/modules/manifests/Module","sap/viz/base/utils/ObjectUtils","sap/viz/base/utils/Objects","sap/viz/base/UADetector","sap/viz/modules/util/BoundUtil","sap/viz/modules/util/defaultSelectionUtil","sap/viz/modules/Constants"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g,v,y,b){var x=b.CSS.CLASS.DATAPOINTSELECTED,A=b.CSS.CLASS.DATAPOINTHOVER,M=b.CSS.CLASS.DATAPOINTDEFAULT,S=b.CSS.CLASS.DATAPOINT,z=b.CSS.CLASS.MORPHABLEDATAPOINT,D=b.CSS.CLASS.MORPHABLELINE;var E="v-lines",w="."+E;var T="v-lightLine",C="."+T;var L=S+" "+z;var I=E+" "+D;var k=T+" "+D;var O=.4;var N="v-axis1";var P="v-axis2";var R=function(e,t){R.superclass.constructor.apply(this,arguments);this._line_data=null;_.extend(true,this._props,e.props(null));this._line_randomSuffix=m.guid();this._line_tooltipData=null;this._line_tooltipDataHandler=null;this._line_svgMarkersGroup=null;this._line_svgLinesGroup=null;this._line_svgLightLinesGroup=null;this._line_hasMND=undefined;this._line_bMNDOnColor=undefined;this._line_bMNDInner=undefined;this._line_effectManager=t.effectManager;this._line_styleManager=t.styleManager;_.extend(true,this._valueAxis1,{data:[],colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,initBottomValue:null,initTopValue:null,highLines:[]});_.extend(true,this._valueAxis2,{data:[],colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,initBottomValue:null,initTopValue:null,highLines:[]});this._line_colorPalette=[];this._line_hasDefaultSelection=false;this._line_isDataSchemaChanged=false;this._line_isDataLoading=true;this._line_isSizeChanged=false;this._line_isDatasetChanged=false;this._line_selectedMarkerNum=0;this._line_needRescale=false;this._line_clipRect=null;this._line_animation_clipPath=null;this._line_animation_clipRect=null;this._line_gapObj=null;this._line_threshold=false};t.extend(R,a);R.prototype.render=function(e,t){v.drawBound(e,this._width,this._height,undefined,!this._props.isCombination);this._line_tooltipDataHandler=c();this._linefn_renderChart(e,t);this._line_isDataSchemaChanged=false,this._line_isDataLoading=false,this._line_isSizeChanged=false,this._line_isDatasetChanged=false;return this};R.prototype.width=function(e){if(!arguments.length){return this._width}this._line_isSizeChanged=!this._line_isSizeChanged&&e===this._width?false:true;this._width=e;if(this._line_isSizeChanged){this._line_needRescale=true;if(o.isExist(this._width)&&o.isExist(this._height)&&o.isExist(this._line_data)){this._linefn_computeScales()}}return this};R.prototype.height=function(e){if(!arguments.length){return this._height}this._line_isSizeChanged=!this._line_isSizeChanged&&e===this._height?false:true;this._height=e;if(this._line_isSizeChanged){this._line_needRescale=true;if(o.isExist(this._width)&&o.isExist(this._height)&&o.isExist(this._line_data)){this._linefn_computeScales()}}return this};R.prototype.properties=function(e){if(!arguments.length){return this._props}_.extend(true,this._props,e);if(this._props.marker.size<4||this._props.marker.size>32){this._props.marker.size=6}if(this._props.width<1||this._props.width>7){this._props.width=2}if(o.isExist(this._width)&&o.isExist(this._height)&&o.isExist(this._line_data)){this._line_needRescale=true}this._linefn_createColorPalette();return this};R.prototype.primaryAxisColor=function(){if(this._valueAxis2.data&&this._valueAxis2.data.length>0){return this._line_effectManager.register({graphType:"line",fillColor:this._valueAxis1.colorPalette[0]})}else{return null}};R.prototype.secondAxisColor=function(){return this._line_effectManager.register({graphType:"line",fillColor:this._valueAxis2.colorPalette[0]})};R.prototype.dispatch=function(e){if(!arguments.length){return this._eDispatch}this._eDispatch=e;return this};R.prototype.data=function(e){if(!arguments.length){return this._line_data}this._line_isDatasetChanged=true;this._line_isDataSchemaChanged=false;if(!i().hasSameSchema(this._line_data,e)){this._line_isDataSchemaChanged=true}this._line_data=e;if(this._line_data){var t=s(this._line_data);this._valueAxis1.data=t["MG1"];this._valueAxis2.data=t["MG2"];this._linefn_resetDataRange();var a=this._valueAxis1.data.length===0?this._valueAxis2.data[0][0]:this._valueAxis1.data[0][0];if(a.info&&a.info.defaultSelection){this._line_hasDefaultSelection=true}else{this._line_hasDefaultSelection=false}this._line_hasMND=t["hasMND"];this._line_bMNDOnColor=t["MNDOnColor"];this._line_bMNDInner=t["MNDInner"];this._line_tooltipData=c.dataTransform(t);if(o.isExist(this._width)&&o.isExist(this._height)&&o.isExist(this._line_data)){this._line_needRescale=true;this.reScale()}this._linefn_createColorPalette()}return this};R.prototype.dataLabel=function(e){};R.prototype.primaryAxisTitle=function(e){if(!arguments.length){var t=this._line_data.getMeasureValuesGroupDataByIdx(0),a=[];if(t){for(var i=0,r=t.values.length;i<r;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){a.push(t.values[i].col)}else{a.push(h.get("IDS_ISNOVALUE"))}}}return a.join(" & ")}return this};R.prototype.secondAxisTitle=function(e){if(!arguments.length){var t=this._line_data.getMeasureValuesGroupDataByIdx(1),a=[];if(t){for(var i=0,r=t.values.length;i<r;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){a.push(t.values[i].col)}else{a.push(h.get("IDS_ISNOVALUE"))}}}return a.join(" & ")}return this};R.prototype.getColorPalette=function(){if(this._line_colorPalette.length===0){this._linefn_createColorPalette()}return this._line_colorPalette};R.prototype.shapePalette=function(){if(!arguments.length){return[this._props.marker.shape]}return this};R.prototype.primaryScale=function(e){if(!arguments.length){return this._valueAxis1.scale}this._valueAxis1.scale=e;this._line_needRescale=false;return this};R.prototype.secondaryScale=function(e){if(!arguments.length){return this._valueAxis2.scale}this._valueAxis2.scale=e;this._line_needRescale=false;return this};R.prototype.categoryScale=function(e){if(!arguments.length){return this._categoryScale}this._categoryScale=e;return this};R.prototype.primaryDataRange=function(e){if(!arguments.length){return{min:this._valueAxis1.bottomValue,max:this._valueAxis1.topValue}}var t,a;if(e!==null){if(!isNaN(e.max)){t=e.max}else{t=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(e.min)){a=e.min}else{a=this._valueAxis1.scale.perfectDomainBegin}if(t>a){this._valueAxis1.topValue=t;this._valueAxis1.bottomValue=a;if(e.from==="axis"){this._valueAxis1.manualRange=true}if(o.isExist(this._width)&&o.isExist(this._height)){this._linefn_calculateScale(this._valueAxis1)}}}else{if(this._valueAxis1.manualRange===true){delete this._valueAxis1.topValue;delete this._valueAxis1.bottomValue;this._valueAxis1.manualRange=false;if(o.isExist(this._width)&&o.isExist(this._height)){this._linefn_calculateScale(this._valueAxis1)}}}return this};R.prototype.secondDataRange=function(e){if(!arguments.length){return{min:this._valueAxis2.bottomValue,max:this._valueAxis2.topValue}}var t,a;if(e!==null){if(!isNaN(e.max)){t=e.max}else{t=this._valueAxis2.scale.perfectDomainEnd}if(!isNaN(e.min)){a=e.min}else{a=this._valueAxis2.scale.perfectDomainBegin}if(t>a){this._valueAxis2.topValue=t;this._valueAxis2.bottomValue=a;if(e.from==="axis"){this._valueAxis2.manualRange=true}if(o.isExist(this._width)&&o.isExist(this._height)){this._linefn_calculateScale(this._valueAxis2)}}}else{if(this._valueAxis2.manualRange===true){this._valueAxis2.topValue=this._valueAxis2.initTopValue;this._valueAxis2.bottomValue=this._valueAxis2.initBottomValue;this._valueAxis2.manualRange=false;if(o.isExist(this._width)&&o.isExist(this._height)){this._linefn_calculateScale(this._valueAxis2)}}}return this};R.prototype.reScale=function(){if(this._line_needRescale){this._linefn_computeScales()}};R.prototype.size=function(e){if(arguments.length===0){return{width:this._width,height:this._height}}var t=e.height!==this._height||e.width!==this._width;this._line_isSizeChanged=!this._line_isSizeChanged&&e.height===this._height&&e.width===this._width?false:true;this._width=e.width;this._height=e.height;if(this._line_isSizeChanged){this._line_needRescale=true}return this};R.prototype.clear=function(e){};R.prototype.highlight=function(e,t){if(!o.isArray(e)){e=[e]}var a;if(!t){for(a=0;a<e.length;a++){var i=e[a];if(!this._linefn_processOneAxisSelect(this._valueAxis1,i)){this._linefn_processOneAxisSelect(this._valueAxis2,i)}}}else{d3.selectAll(e).classed(x,false).classed(A,true);p.nodesHighlight(e,{factor:.7,constant:0},this._line_effectManager,t);if(!this._props.marker.visible){for(a=0;a<e.length;a++){e[a].setAttribute("fill-opacity",1);e[a].setAttribute("stroke-opacity",1)}}}if(!t&&this._props.marker.visible){this._line_svgMarkersGroup.selectAll("g."+N).selectAll("g.v-marker").selectAll("."+x).attr("fill-opacity",1).classed(M,false);this._line_svgMarkersGroup.selectAll("g."+P).selectAll("g.v-marker").selectAll("."+x).attr("fill-opacity",1).classed(M,false)}if(this._line_hasDefaultSelection){y.clearSelectionInfo(this._d3root,true,e)}};R.prototype.unhighlight=function(e,t,a){if(!o.isArray(e)){e=[e]}var i;if(!t&&!a){this._line_selectedMarkerNum-=e.length;for(i=0;i<e.length;i++){var r=e[i];if(!this._linefn_processOneAxisDeselect(this._valueAxis1,r,a)){this._linefn_processOneAxisDeselect(this._valueAxis2,r,a)}}}else{p.nodesUnhighlight(e,t,a);if(t){d3.selectAll(e).classed(x,true).classed(A,false)}else{d3.selectAll(e).classed(x,false).classed(A,false).classed(M,true);if(!this._props.marker.visible){for(i=0;i<e.length;i++){e[i].setAttribute("fill-opacity",0);e[i].setAttribute("stroke-opacity",0)}}}}if(this._line_hasDefaultSelection){y.clearSelectionInfo(this._d3root,false,e)}};R.prototype.globalDOMDestroy=function(e){var t=0;if(e){e.remove();for(t=0;t<e.length;t++){e[t]=null}e=null}};R.prototype.destroy=function(){var e=0;var t=0;if(this._line_tooltipData){for(e=0;e<this._line_tooltipData.length;e++){this._line_tooltipData[e]=null}this._line_tooltipData=null}if(this._valueAxis1){if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1])}if(this._valueAxis1.data){for(e=0;e<this._valueAxis1.data.length;e++){this._valueAxis1.data[e]=null}this._valueAxis1.data=null}if(this._valueAxis1.selectedMarkers){for(e=0;e<this._valueAxis1.selectedMarkers.length;e++){this._valueAxis1.selectedMarkers[e]=null}this._valueAxis1.selectedMarkers=null}if(this._valueAxis1.markers){for(e=0;e<this._valueAxis1.markers.length;e++){for(t=0;t<this._valueAxis1.markers[e].length;t++){if(this._valueAxis1.markers[e]&&this._valueAxis1.markers[e][t]&&this._valueAxis1.markers[e][t].remove){this._valueAxis1.markers[e][t].remove()}this._valueAxis1.markers[e][t]=null}this._valueAxis1.markers[e]=null}this._valueAxis1.markers=null}this._valueAxis1=null}if(this._valueAxis2){if(this._valueAxis2.scale){this._valueAxis2.scale.domain([0,1]).range([0,1])}if(this._valueAxis2.data){for(e=0;e<this._valueAxis2.data.length;e++){this._valueAxis2.data[e]=null}this._valueAxis2.data=null}if(this._valueAxis2.selectedMarkers){for(e=0;e<this._valueAxis2.selectedMarkers.length;e++){this._valueAxis2.selectedMarkers[e]=null}this._valueAxis2.selectedMarkers=null}if(this._valueAxis2.markers){for(e=0;e<this._valueAxis2.markers.length;e++){for(t=0;t<this._valueAxis2.markers[e].length;t++){if(this._valueAxis2.markers[e]&&this._valueAxis2.markers[e][t]&&this._valueAxis2.markers[e][t].remove){this._valueAxis2.markers[e][t].remove()}this._valueAxis2.markers[e][t]=null}this._valueAxis2.markers[e]=null}this._valueAxis2.markers=null}this._valueAxis2=null}if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1]);this._categoryScale=null}if(this._d3root){this._d3root.selectAll("."+S).remove()}if(this._line_svgLinesGroup){this.globalDOMDestroy(this._line_svgLinesGroup);this._line_svgLinesGroup=null}if(this._line_svgLightLinesGroup){this.globalDOMDestroy(this._line_svgLightLinesGroup);this._line_svgLightLinesGroup=null}if(this._line_svgMarkersGroup){this.globalDOMDestroy(this._line_svgMarkersGroup);this._line_svgMarkersGroup=null}if(this._datashapesgroup){this.globalDOMDestroy(this._datashapesgroup);this._datashapesgroup=null}if(this._line_clipRect){this.globalDOMDestroy(this._line_clipRect);this._line_clipRect=null}if(this._d3root){this.globalDOMDestroy(this._d3root);this._d3root=null}this._line_animation_clipPath=null;this._line_animation_clipRect=null;this._line_data=null;this._raw_data=null;if(this._line_effectManager&&this._line_effectManager.destroy){this._line_effectManager.destroy()}if(this._line_styleManager&&this._line_styleManager.destroy){this._line_styleManager.destroy()}this._eDispatch=null;this._line_colorPalette=null;this._line_randomSuffix=null;this._line_tooltipDataHandler=null;this._props=null;this._line_effectManager=null;this._line_styleManager=null};R.prototype._linefn_enableAnimation=function(){var e=false;if(this._line_isDataLoading){e=this._props.animation.dataLoading}else if(this._line_isDatasetChanged){e=this._props.animation.dataUpdating}else if(this._line_isSizeChanged){e=this._props.animation.resizing}return e};R.prototype.setRawData=function(e){this._raw_data=e};R.prototype._linefn_createColorPalette=function(){this._line_colorPalette=[];var e=0,t=0;if(this._valueAxis2.data&&this._valueAxis2.data.length>0){this._valueAxis1.colorPalette=this._props.primaryValuesColorPalette}else{this._valueAxis1.colorPalette=this._props.colorPalette}this._valueAxis2.colorPalette=this._props.secondaryValuesColorPalette;if(this._line_hasMND&&this._line_bMNDOnColor&&this._line_bMNDInner){var a=this._line_data.getMeasureValuesGroupDataByIdx(0);var i=this._line_data.getMeasureValuesGroupDataByIdx(1);var r=0,s=0,o=0,n=0;if(a&&a.values.length>0){r=a.values.length;n=a.values[0].rows.length}if(i&&i.values.length>0){s=i.values.length;n=i.values[0].rows.length}for(e=0;e<n;e++){for(t=0;t<r;t++){this._line_colorPalette.push(this._valueAxis1.colorPalette[(e*r+t)%this._valueAxis1.colorPalette.length])}for(t=0;t<s;t++){this._line_colorPalette.push(this._valueAxis2.colorPalette[(e*s+t)%this._valueAxis2.colorPalette.length])}}}else{for(e=0;e<this._valueAxis1.data.length;++e){this._line_colorPalette.push(this._valueAxis1.colorPalette[e%this._valueAxis1.colorPalette.length])}if(this._valueAxis2.data&&this._valueAxis2.data.length>0){for(e=0;e<this._valueAxis2.data.length;++e){this._line_colorPalette.push(this._valueAxis2.colorPalette[e%this._valueAxis2.colorPalette.length])}}}};R.prototype._linefn_resetDataRange=function(){this._valueAxis1.highLines=[];this._valueAxis2.highLines=[];if(!this._valueAxis1.manualRange){this._valueAxis1.topValue=null;this._valueAxis1.bottomValue=null}if(!this._valueAxis2.manualRange){this._valueAxis2.topValue=null;this._valueAxis2.bottomValue=null}this._valueAxis1.scale=d3.scale.linear();this._valueAxis2.scale=d3.scale.linear()};R.prototype._linefn_calculateScale=function(e){};R.prototype._linefn_computeScales=function(){};R.prototype._linefn_lightLine=function(e,t,a,i){};R.prototype._linefn_changeOneMarker=function(e,t,a,i,r){if(this._line_threshold){return}var s;var o;if(a===x){s=false;if(t>0&&i.selectedMarkers[e][t-1]){this._linefn_lightLine(e,t-1,"visible",i)}if(t<i.markers[0].length-1&&i.selectedMarkers[e][t+1]){this._linefn_lightLine(e,t,"visible",i)}i.selectedMarkers[e][t]=true;o=d3.select(i.markers[e][t]);o.attr("class",L+" "+a);p.nodesHighlight(o[0][0],{factor:.7,constant:0},this._line_effectManager,s);if(!this._props.marker.visible){o.attr("stroke-opacity",1)}}else{if(i.selectedMarkers[e][t]&&!r){if(t>0&&i.selectedMarkers[e][t-1]){this._linefn_lightLine(e,t-1,"hidden",i)}if(t<i.markers[0].length-1&&i.selectedMarkers[e][t+1]){this._linefn_lightLine(e,t,"hidden",i)}i.selectedMarkers[e][t]=false}o=d3.select(i.markers[e][t]);o.attr("class",L+" "+a);p.nodesUnhighlight(o[0][0],false,r);if(!this._props.marker.visible){o.attr("fill-opacity",0);o.attr("stroke-opacity",0)}}};R.prototype._linefn_processOneAxisSelect=function(e,t){var a,i;a=t.__data__.y;i=t.__data__.x;if(e.markers.length===0||!e.markers[a]||e.markers[a][i]!==t){return false}if(!e.selectedMarkers[a][i]){++this._line_selectedMarkerNum}this._linefn_changeOneMarker(a,i,x,e);return true};R.prototype._linefn_processOneAxisDeselect=function(e,t,a){var i,r;i=t.__data__.y;r=t.__data__.x;if(e.markers.length===0||!e.markers[i]||e.markers[i][r]!==t){return false}this._linefn_changeOneMarker(i,r,M,e,a);return true};R.prototype._linefn_processNullValue=function(e){var t={data:[],color:[]};var a=[],i,r;for(var s=0;s<e.length;++s){var o=0;for(var n=0;n<e[s].length;++n){if(d.isNoValue(e[s][n].val)){if(n>o){a=[];for(r=o;r<n;r++){i=e[s][r];i.x=r;i.y=s;a.push(i)}t.data.push(a);t.color.push(s)}o=n+1}}if(o<e[s].length){a=[];for(r=o;r<e[s].length;r++){i=e[s][r];i.x=r;i.y=s;a.push(i)}t.data.push(a);t.color.push(s)}}return t};R.prototype._linefn_processOneAxis=function(e,t){};R.prototype._linefn_processOneAxisDeselectAll=function(e,t){};R.prototype._linefn_getCurrentEvent=function(){if(d3.event){return d3.event}else{return window.event}};R.prototype._linefn_deselectedAllHandler=function(){};R.prototype._linefn_renderChart=function(e){};R.prototype._linefn_getCSSStyle=function(){if(!this._props.style){this._props.style={}}if(!this._props.style.marker){this._props.style.marker={}}this._props.style.marker.stroke="transparent"};R.prototype._linefn_lightAll=function(){this._line_svgLightLinesGroup.selectAll(C).attr("visibility","hidden");this._line_svgLinesGroup.attr("opacity",1);if(g.isIE()){this._line_svgLinesGroup.selectAll(w).attr("visibility","visible")}var e;if(this._props.marker.visible===true){e=1}else{e=0}if(g.isMobile()&&this._props&&this._props.marker&&!this._props.marker.visible&&this._line_effectManager!=="glossy"){e=1}this._line_svgMarkersGroup.selectAll("g."+N).selectAll("g.v-marker").selectAll("."+M).attr("fill-opacity",e).attr("class",L+" "+M);this._line_svgMarkersGroup.selectAll("g."+P).selectAll("g.v-marker").selectAll("."+M).attr("fill-opacity",e).attr("class",L+" "+M)};R.prototype._linefn_grayAll=function(){this._line_svgLightLinesGroup.selectAll(C).attr("visibility","hidden");this._line_svgLinesGroup.attr("opacity",O);if(g.isIE()){this._line_svgLinesGroup.selectAll(w).attr("visibility","visible")}var e;if(this._props.marker.visible===true){e=O}else{e=0}if(g.isMobile()&&this._props&&this._props.marker&&!this._props.marker.visible&&this._line_effectManager!=="glossy"){e=1}this._line_svgMarkersGroup.selectAll("g."+N).selectAll("g.v-marker").selectAll("."+M).attr("fill-opacity",e).attr("class",L+" "+M);this._line_svgMarkersGroup.selectAll("g."+P).selectAll("g.v-marker").selectAll("."+M).attr("fill-opacity",e).attr("class",L+" "+M)};R.prototype.setAxisGap=function(e){this._line_gapObj=e};return R});define("sap/viz/modules/line",["sap/viz/base/utils/oo","sap/viz/modules/BaseLine","sap/viz/modules/util/dataUtil","sap/viz/modules/dispatch","sap/viz/modules/util/MNDHandler","sap/viz/base/utils/TypeUtils","sap/viz/util/Scaler","sap/viz/util/ColorSeriesGenerator","sap/viz/util/BoundingBox","sap/viz/util/NumberUtils","sap/viz/lang/langManager","sap/viz/util/DrawUtil","sap/viz/modules/util/tooltipDataHandler","sap/viz/modules/manifests/Module","sap/viz/base/utils/ObjectUtils","sap/viz/base/utils/Objects","sap/viz/base/UADetector","sap/viz/modules/util/BoundUtil","sap/viz/modules/util/defaultSelectionUtil","sap/viz/modules/Constants","sap/viz/modules/util/selectionUtil"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g,v,y,b,x){var A=function(e){var t={min:null,max:null};if(!e.data||e.data.length===0){return null}t.max=Number(d3.max(e.data,function(e){return d3.max(e,function(e){return e.val})}));t.min=Number(d3.min(e.data,function(e){return d3.min(e,function(e){return e.val})}));if(d.isNoValue(t.max)){return null}var a;if(this._props.orientation==="vertical"){a=this._height}else if(this._props.orientation==="horizontal"){a=this._width}if(t.min>=0){t.min=0;t.max+=t.max*5/a}else if(t.max<=0){t.max=0;t.min+=t.min*5/a}else{var i=(t.max-t.min)*5/a;t.min-=i;t.max+=i}return t};var M=function(e){var t;var a=this._categoryScale.domain().length;var i=e/this._categoryScale.rangeBand();i=Math.max(0,Math.min(a-1,Math.floor(i)));return i};var S=function(e){var t;if(e&&e.length){if(e[0].length){t=e.length*e[0].length}}else{t=0}return t};var z=b.CSS.CLASS.DATAPOINTSELECTED,D=b.CSS.CLASS.DATAPOINTHOVER,E=b.CSS.CLASS.DATAPOINTDEFAULT,w=b.CSS.CLASS.DATAPOINT,T=b.CSS.CLASS.MORPHABLEDATAPOINT,C=b.CSS.CLASS.MORPHABLELINE;var L="v-lines",I="."+L;var k="v-lightLine",O="."+k;var N="v-datashapesgroup";var P=w+" "+T;var R=L+" "+C;var F=k+" "+C;var B=.4;var V="v-axis1";var H="v-axis2";var U=function(e,t){U.superclass.constructor.apply(this,arguments);this.resultCache=null;this.linesCache=null;this.groupsCache=null;this.seriesMarkersCache=null};t.extend(U,a);U.prototype.clear=function(e){this._linefn_deselectedAllHandler();if(e===null||e===undefined||e===false){this._linefn_lightAll();if(this._line_hasDefaultSelection){var t=[];t.push(this._line_svgMarkersGroup.selectAll("g."+V).selectAll("g.v-marker").selectAll("."+P));t.push(this._line_svgMarkersGroup.selectAll("g."+H).selectAll("g.v-marker").selectAll("."+P));y.clearSelectionInfo(this._d3root,false,t)}}else{this._linefn_grayAll()}};U.prototype._linefn_calculateScale=function(e){var t;if(this._props.orientation==="vertical"){t=[this._height,0]}else if(this._props.orientation==="horizontal"){t=[0,this._width]}if(e.data&&e.data.length>0){if(o.isNaN(e.topValue)){var a=A.call(this,e);if(!a||a.min===0&&a.max===0){e.scale.domain([]).range([]);e.bottomValue=null;e.topValue=null}else{e.scale.domain([a.min,a.max]).range(t);e.bottomValue=a.min;e.topValue=a.max;e.initBottomValue=a.min;e.initTopValue=a.max}}else{e.scale.domain([e.bottomValue,e.topValue]).range(t)}}else{e.scale.domain([0,0]).range([0,0])}return e.scale};U.prototype._linefn_computeScales=function(){this._line_needRescale=false;var e=[];var t=0;var a,i;if(this._props.orientation==="vertical"){a=[this._height,0];i=[0,this._width]}else if(this._props.orientation==="horizontal"){a=[0,this._width];i=[0,this._height]}if(this._valueAxis1.data.length!==0){t=this._valueAxis1.data[0].length}else{t=this._valueAxis2.data[0].length}for(var r=0;r<t;r++){e.push(r)}this._categoryScale.domain(e).rangeBands(i);this._linefn_calculateScale(this._valueAxis1);this._linefn_calculateScale(this._valueAxis2);if(this._valueAxis1.data&&this._valueAxis1.data.length>0&&this._valueAxis2.data&&this._valueAxis2.data.length>0){if(this._valueAxis1.scale.domain().length===0&&this._valueAxis2.scale.domain().length===0){this._valueAxis1.scale.domain([0,1]).range(a);this._valueAxis2.scale.domain([0,1]).range(a)}else if(this._valueAxis1.scale.domain().length===0&&this._valueAxis2.scale.domain().length!==0){this._valueAxis1.scale.domain(this._valueAxis2.scale.domain()).range(this._valueAxis2.scale.range())}else if(this._valueAxis1.scale.domain().length!==0&&this._valueAxis2.scale.domain().length===0){this._valueAxis2.scale.domain(this._valueAxis1.scale.domain()).range(this._valueAxis1.scale.range())}if(!this._valueAxis1.manualRange&&!this._valueAxis2.manualRange){n.perfectDual(this._valueAxis1.scale,this._valueAxis2.scale)}else if(!this._valueAxis1.manualRange){n.perfect(this._valueAxis1.scale);n.getRoughTickNum(this._valueAxis2.scale)}else if(!this._valueAxis2.manualRange){n.perfect(this._valueAxis2.scale);n.getRoughTickNum(this._valueAxis1.scale)}else{n.getRoughTickNum(this._valueAxis1.scale);n.getRoughTickNum(this._valueAxis2.scale)}}else if(this._valueAxis1.data&&this._valueAxis1.data.length>0){if(this._valueAxis1.scale.domain().length===0){this._valueAxis1.scale.domain([0,1]).range(a)}if(!this._valueAxis1.manualRange){n.perfect(this._valueAxis1.scale)}else{n.getRoughTickNum(this._valueAxis1.scale)}}else if(this._valueAxis2.data&&this._valueAxis2.data.length>0){if(this._valueAxis2.scale.domain().length===0){this._valueAxis2.scale.domain([0,1]).range(a)}if(!this._valueAxis2.manualRange){n.perfect(this._valueAxis2.scale)}else{n.getRoughTickNum(this._valueAxis2.scale)}}var s=0;var o=0;if(this._line_gapObj){if(this._line_gapObj.startGap){s=this._line_gapObj.startGap}if(this._line_gapObj.endGap){o=this._line_gapObj.endGap}}n.adjustGap(s,o,this._valueAxis1.scale);n.adjustGap(s,o,this._valueAxis2.scale)};U.prototype._linefn_lightLine=function(e,t,a,i){if(!i.highLines[e]){i.highLines[e]=[]}if(!i.highLines[e][t]&&a==="visible"){var r=this;var s=i.data[e][t].val;var o=i.data[e][t+1].val;i.highLines[e][t]=r._line_svgLightLinesGroup.append("svg:line");i.highLines[e][t].each(function(){if(r._props.orientation==="vertical"){this.setAttribute("x1",r._categoryScale(t)+r._categoryScale.rangeBand()/2);this.setAttribute("y1",i.scale(s));this.setAttribute("x2",r._categoryScale(t+1)+r._categoryScale.rangeBand()/2);this.setAttribute("y2",i.scale(o))}else if(r._props.orientation==="horizontal"){this.setAttribute("x1",i.scale(s));this.setAttribute("y1",r._categoryScale(t)+r._categoryScale.rangeBand()/2);this.setAttribute("x2",i.scale(o));this.setAttribute("y2",r._categoryScale(t+1)+r._categoryScale.rangeBand()/2)}this.setAttribute("class",F);this.setAttribute("stroke-width",r._props.width);this.setAttribute("stroke",i.colorPalette[e%i.colorPalette.length]);this.setAttribute("visibility",a)})}else if(i.highLines[e][t]){i.highLines[e][t].attr("visibility",a)}};U.prototype._linefn_processOneAxis=function(e,t){var a=this._line_svgLinesGroup.select("g."+t);if(a.empty()){a=this._line_svgLinesGroup.append("svg:g").attr("class",t)}var i=this._line_svgMarkersGroup.select("g."+t);if(i.empty()){i=this._line_svgMarkersGroup.append("svg:g").attr("class",t)}if(!e.data||e.data.length===0){a.remove();i.remove();return}e.selectedMarkers=new Array(e.data.length);e.markers=[];e.highLines=[];var r=this._linefn_processNullValue(e.data);if(this.resultCache){this.resultCacheToDestroy()}this.resultCache=r;var s=a.selectAll(I).data(r.data);if(!this.linesCache){this.linesCache={}}this.linesCache[t]=s;var o=this;s.enter().append("path");s.exit().remove();s.each(function(){this.setAttribute("class",R);this.setAttribute("stroke-width",o._props.width);this.setAttribute("stroke-linejoin","round")});var n;if(this._props.orientation==="vertical"){n=d3.svg.line().x(function(e,t){return o._categoryScale(e.x)+o._categoryScale.rangeBand()/2}).y(function(t){return d.isNoValue(e.scale(t.val))?null:e.scale(t.val)})}else if(this._props.orientation==="horizontal"){n=d3.svg.line().y(function(e,t){return o._categoryScale(e.x)+o._categoryScale.rangeBand()/2}).x(function(t){return d.isNoValue(e.scale(t.val))?null:e.scale(t.val)})}s.each(function(t,a){var i={graphType:"line",fillColor:e.colorPalette[r.color[a]%e.colorPalette.length]};var s=o._line_effectManager.register(i);this.setAttribute("d",n(t));this.setAttribute("stroke",s)});for(var l=0;l<e.data.length;++l){e.selectedMarkers[l]=[];for(var u=0;u<e.data[0].length;++u){e.selectedMarkers[l][u]=false}}if(this._line_threshold){if(i.selectAll("g.v-marker")[0].length){i.selectAll("g.v-marker").remove()}return}var h=i.selectAll("g.v-marker").data(e.data);if(!this.groupsCache){this.groupsCache={}}this.groupsCache[t]=h;h.enter().append("svg:g").attr("class","v-marker");h.exit().remove();var c="hidden",f=0,m=null;if(this._props&&this._props.marker&&this._props.marker.visible){c="visible";f=1}else{m=0}h.each(function(t,a){var i=d3.select(this).selectAll(".v-datashape").data(t);if(o.seriesMarkersCache){o.seriesMarkersCacheToDestroy()}o.seriesMarkersCache=i;var r=i.enter().append("g").attr("class","v-datashape").append("path");i.exit().remove();var s;if(o._props.drawingEffect!=="glossy"){s=o._line_effectManager.register({fillColor:e.colorPalette[a%e.colorPalette.length]})}var n=[];var l={drawingEffect:o._props.drawingEffect,graphType:o._props.marker.shape,fillId:s,fillColor:e.colorPalette[a%e.colorPalette.length],direction:o._props.orientation,rx:o._props.marker.size/2,ry:o._props.marker.size/2,borderWidth:2,borderColor:o._props.style.marker.stroke,node:null,visibility:c,strokeOpacity:m,className:P+" "+E};i.attr("transform",function(t,a){if(d.isNoValue(t.val)){d3.select(this).remove();n.push(null);return}n.push(d3.select(this).selectAll("path").node());l.node=d3.select(this).select("path");p.drawGraph(l,o._line_effectManager).attr("fill-opacity",f).attr("opacity",null);var i;if(o._props.orientation==="vertical"){i="translate("+(o._categoryScale(a)+o._categoryScale.rangeBand()/2)+","+e.scale(t.val)+")"}else if(o._props.orientation==="horizontal"){i="translate("+e.scale(t.val)+","+(o._categoryScale(a)+o._categoryScale.rangeBand()/2)+")"}return i});e.markers.push(n)})};U.prototype.applyFormatConditions=function(e,t,a,i){var r=function(e,t){var a={drawingEffect:i._props.drawingEffect,fillColor:t.color,direction:i._props.orientation,graphType:i._props.marker.shape};var r=i._line_effectManager.register(a);var s;for(s=0;s<e.length;s++){e[s].setAttribute("fill",r)}};x.applyConditons(e,t,a,r)};U.prototype._linefn_processOneAxisDeselectAll=function(e,t){if(!e.selectedMarkers||e.selectedMarkers.length===0){return}for(var a=0;a<e.selectedMarkers.length;++a){for(var i=0;i<e.selectedMarkers[0].length;++i){if(!e.selectedMarkers[a][i]){continue}p.nodesUnhighlight(e.markers[a][i],false,true);e.selectedMarkers[a][i]=false}}};U.prototype._linefn_deselectedAllHandler=function(){var e,t,a;var i=this._linefn_getCurrentEvent();if(this._props.orientation==="vertical"){e=(i?i.clientX:0)-this._datashapesgroup.node().getBoundingClientRect().left;a=M.call(this,e)}else if(this._props.orientation==="horizontal"){t=(i?i.clientY:0)-this._datashapesgroup.node().getBoundingClientRect().top;a=M.call(this,t)}this._line_selectedMarkerNum=0;this._linefn_processOneAxisDeselectAll(this._valueAxis1,a);this._linefn_processOneAxisDeselectAll(this._valueAxis2,a);if(this._props.marker.visible){this._line_svgMarkersGroup.selectAll("g."+V).selectAll("g.v-marker").selectAll("."+E).attr("fill-opacity",1);this._line_svgMarkersGroup.selectAll("g."+H).selectAll("g.v-marker").selectAll("."+E).attr("fill-opacity",1)}else{this._line_svgMarkersGroup.selectAll("g."+V).selectAll("g.v-marker").selectAll("."+E).attr("fill-opacity",0);this._line_svgMarkersGroup.selectAll("g."+H).selectAll("g.v-marker").selectAll("."+E).attr("fill-opacity",0)}};U.prototype._linefn_dispatch_initialized=function(e,t){if(e!==null&&e!==undefined){if(t&&t.isPinching){e.initialized({eventSource:"pinch"})}else{e.initialized()}}};U.prototype._linefn_renderChart=function(e,t){var a;var i=this;if(this._line_needRescale){this._linefn_computeScales()}this._d3root=e;this._linefn_getCSSStyle();this._eDispatch.startToInit();if(!this._line_clipRect&&this._props.drawClipPath!==false){a="clip1_"+this._line_randomSuffix;this._line_clipRect=this._d3root.insert("svg:clipPath",":first-child").attr("class","v-clippath").attr("id",a).append("rect");this._d3root.attr("clip-path","url(#"+a+")")}if(this._line_clipRect){this._line_clipRect.attr("width",this._width).attr("height",this._height)}if(!this._datashapesgroup){this._datashapesgroup=this._d3root.append("svg:g")}if(!t||!t.isPinching){this._datashapesgroup.attr("transform",undefined)}var r=this._categoryScale.rangeBand()*this._categoryScale.domain().length;var s={point:{}};var o;if(this._valueAxis1.scale){o=Math.abs(this._valueAxis1.scale.range()[0]-this._valueAxis1.scale.range()[1])}else if(this._valueAxis2.scale){o=Math.abs(this._valueAxis2.scale.range()[0]-this._valueAxis2.scale.range()[1])}if(!this._line_svgLinesGroup){this._line_svgLinesGroup=this._datashapesgroup.append("svg:g").attr("class","v-datalines");this._line_svgLightLinesGroup=this._datashapesgroup.append("svg:g").attr("class","v-lightLines");this._line_svgMarkersGroup=this._datashapesgroup.append("svg:g").attr("class","v-markers v-datashapesgroup")}if(this._props.showGroupDetail){var n=this._datashapesgroup.selectAll("g.v-grouptooltip");if(n.empty()){var l=document.createElementNS("http://www.w3.org/2000/svg","g");l.setAttribute("class","v-grouptooltip");this._datashapesgroup.node().insertBefore(l,this._datashapesgroup.node().childNodes[0]);n=this._datashapesgroup.select("g.v-grouptooltip")}n.selectAll("rect.v-grouptooltip-rect").remove();for(var u=0,d=this._categoryScale.domain().length;u<d;++u){var h=this._line_tooltipDataHandler.generateTooltipData(this._line_data,this._line_tooltipData,u,this._line_colorPalette,[this._props.marker.shape]);var p=c.formatTooltipData(h);s={point:{},hoverline:{},data:p};var f=n.append("svg:rect").attr("class","v-grouptooltip-rect");if(this._props.orientation==="vertical"){f.attr("x",""+this._categoryScale(u)).attr("y","0").attr("height",this._height).attr("width",""+this._categoryScale.rangeBand());s.point.x=this._categoryScale(u)+this._categoryScale.rangeBand()/2;s.point.y=this._height*.2;s.hoverline.startx=this._categoryScale(u)+this._categoryScale.rangeBand()/2;s.hoverline.starty=0;s.hoverline.endx=this._categoryScale(u)+this._categoryScale.rangeBand()/2;s.hoverline.endy=this._height;f.attr("fill","transparent")}else{f.attr("y",""+this._categoryScale(u)).attr("x","0").attr("width",this._width).attr("height",""+this._categoryScale.rangeBand());s.point.y=this._categoryScale(u)+this._categoryScale.rangeBand()/2;s.point.x=this._width*.8;f.attr("fill","transparent");s.hoverline.starty=this._categoryScale(u)+this._categoryScale.rangeBand()/2;s.hoverline.startx=0;s.hoverline.endy=this._categoryScale(u)+this._categoryScale.rangeBand()/2;s.hoverline.endx=this._width}f.node().__data__=s}}else{this._datashapesgroup.selectAll("g.v-grouptooltip").remove()}this._line_selectedMarkerNum=0;this._linefn_lightAll();this._line_svgMarkersGroup.attr("fill","none");this._line_svgLinesGroup.attr("fill","none");this._line_svgLightLinesGroup.attr("fill","none");this._line_svgLightLinesGroup.selectAll(O).remove();if(g.isMobile()&&this._props&&this._props.marker&&!this._props.marker.visible&&this._props.marker.number>=0){var m=S(this._valueAxis1.data)+S(this._valueAxis2.data);this._line_threshold=m>this._props.marker.number?true:false}this._linefn_processOneAxis(this._valueAxis1,V);this._linefn_processOneAxis(this._valueAxis2,H);var _=this._fullData;if(!_){_=this._raw_data?this._raw_data:this._line_data}this.applyFormatConditions(this._props.formatRules,this._line_svgMarkersGroup,_,this);if(this._linefn_enableAnimation()){if(!this._line_animation_clipRect){a="clip2_"+this._line_randomSuffix;this._line_animation_clipPath=this._datashapesgroup.insert("svg:clipPath",":first-child").attr("id",a);this._line_animation_clipRect=this._line_animation_clipPath.append("rect");this._datashapesgroup.attr("clip-path","url(#"+a+")")}if(this._line_animation_clipRect){if(this._props.orientation==="vertical"){this._line_animation_clipRect.attr("x",0).attr("y",0).attr("height",o).attr("width",0).transition().duration(1500).attr("width",function(){return r}).each("end",function(){if(i._line_animation_clipPath){i._line_animation_clipPath.remove()}if(i._datashapesgroup){i._datashapesgroup.attr("clip-path",undefined)}i._line_animation_clipRect=null;i._linefn_dispatch_initialized(i._eDispatch,t)})}else if(this._props.orientation==="horizontal"){this._line_animation_clipRect.attr("x",0).attr("y",r).attr("height",0).attr("width",o).transition().duration(1500).attr("height",function(){return r}).attr("y",0).each("end",function(){if(i._line_animation_clipPath){i._line_animation_clipPath.remove()}if(i._datashapesgroup){i._datashapesgroup.attr("clip-path",undefined)}i._line_animation_clipRect=null;i._linefn_dispatch_initialized(i._eDispatch,t)})}}}else{this._linefn_dispatch_initialized(this._eDispatch,t)}};U.prototype.resultCacheToDestroy=function(){var e=0;if(this.resultCache){if(this.resultCache.data){for(e=0;e<this.resultCache.data.length;e++){this.resultCache.data[e]=null}this.resultCache.data=null}if(this.resultCache.color){this.resultCache.color=null}this.resultCache=null}};U.prototype.linesCache__data__ToDestroy=function(){var e=0;var t=0;if(this.linesCache){for(var a in this.linesCache){if(this.linesCache.hasOwnProperty(a)){var i=this.linesCache[a];for(e=0;e<i.length;e++){for(t=0;t<i[e].length;t++){if(i[e][t]){i[e][t].__data__=null}}}}}}};U.prototype.groupsCache__data__ToDestroy=function(){var e=0;var t=0;if(this.groupsCache){for(var a in this.groupsCache){if(this.groupsCache.hasOwnProperty(a)){var i=this.groupsCache[a];for(e=0;e<i.length;e++){for(t=0;t<i[e].length;t++){if(i[e][t]){i[e][t].__data__=null}}}}}}};U.prototype.seriesMarkersCacheToDestroy=function(){var e=0;var t=0;if(this.seriesMarkersCache){for(e=0;e<this.seriesMarkersCache.length;e++){for(t=0;t<this.seriesMarkersCache[e].length;t++){this.seriesMarkersCache[e][t]=null}this.seriesMarkersCache[e]=null}this.seriesMarkersCache=null}};U.prototype.destroy=function(){var e=0;var t;this.resultCacheToDestroy();if(this.seriesMarkersCache){this.seriesMarkersCacheToDestroy()}if(this._line_svgMarkersGroup){this._line_svgMarkersGroup.selectAll(".v-datashape").remove()}if(this.groupsCache){this.groupsCache__data__ToDestroy();for(t in this.groupsCache){if(this.groupsCache.hasOwnProperty(t)){var a=this.groupsCache[t];a.remove();for(e=0;e<a.length;e++){a[e]=null}}}this.groupsCache=null}if(this.linesCache){this.linesCache__data__ToDestroy();for(t in this.linesCache){if(this.linesCache.hasOwnProperty(t)){var i=this.linesCache[t];i.remove();for(e=0;e<i.length;e++){i[e]=null}}}this.linesCache=null}U.superclass.destroy.apply(this,arguments)};return U});define("sap/viz/modules/manifests/xy/Line",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/base/UADetector","sap/viz/modules/line","sap/viz/modules/manifests/xy/Base"],function e(t,a,i,r,s){var o={id:"sap.viz.modules.line",name:"line",base:"sap.viz.modules.xy.base",properties:{tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the tooltip is enabled"}},isExported:false,description:"Settings for the tooltip"},width:{name:"width",supportedValueType:"PositiveInt",defaultValue:2,min:"1",max:"7",description:"Set the width of the lines, ranging from '1' to '7'. If you enter a value outside that range, the line width defaults to '2'."},showGroupDetail:{name:"showGroupDetail",supportedValueType:"Boolean",defaultValue:false,isExported:false,description:"mouse over show one catergory detail"},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the data loading animation is enabled"},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the data updating animation is enabled"},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the resizing animation is enabled"}},description:"Settings for animations.",example:"<a href='"+a.DocExample.SnippetUrl+"8535' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},marker:{name:"marker",description:"Settings for marker/data point graphics",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set the visibility of the markers"},shape:{name:"shape",supportedValueType:"String",supportedValues:["circle","diamond","triangleUp","triangleDown","triangleLeft","triangleRight","cross","intersection"],defaultValue:"circle",description:"Set the shape of the markers"},size:{name:"size",supportedValueType:"PositiveInt",defaultValue:"6",min:"4",max:"32",description:"Set the marker size for data points, ranging from '4' to '32'. If you enter a value outside that range, the marker size defaults to '6'."},number:{name:"number",isExported:i.isMobile()?true:false,supportedValueType:"Int",defaultValue:Number.POSITIVE_INFINITY,description:"Set the number to enable events for markers when they are invisible. "+"If the total amount of markers is bigger than this value, markers will remain hidden when selected or hovered over. "+"The default value is Number.POSITIVE_INFINITY, which is the largest possible value."}}},formatRules:{name:"formatRules",supportedValueType:"Array",isExported:true,description:'Sample value for formatRules:  [{condition: [{Key1:Value1, Key2:Value2}], color:"#00ff00"}, {condition: [{Key3:Value3}], color:"#00ffff"}].   Each rule has two properties: the "condition" and the "color".   Value1, Value2 and Value3 are values. <br />  The value of a dimension may be <br />  1, Single value (string), like "China" . <br />  2. Array (enumeration), like ["UK","USA"] . <br />  The value of a measure may be <br />  1, Single value (number), like 20 . <br />  2. Arry (enumeration), like [121,122] . <br />  3. Object (range), like {min:100, max 200} . Min and max are inclusive.   If users want to inlcude 200, but not 100 in the range, they may use {min:100.00001, max:200}.   If users want values larger than 100, they may write {min:100}. <br />   The color is applied if one or more conditions in the condition array is met.   If multiple rules could apply on the same data point, it is the last rule that takes effect.',example:"<a href='"+a.DocExample.SnippetUrl+"8751' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},hoverline:{name:"hoverline",supportedValueType:"Object",description:"Settings for the hoverline.",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set the visibility of the hoverline."}},isExported:false}},css:{},fn:r};var n={viz:[],module:[o].concat(s.module),feeds:[].concat(s.feeds)};return n});define("sap/viz/modules/BaseVerticalBar",["sap/viz/modules/Constants","sap/viz/base/utils/oo","sap/viz/modules/BaseGesture","sap/viz/base/utils/TypeUtils","sap/viz/modules/util/defaultSelectionUtil","sap/viz/util/DrawUtil","sap/viz/modules/util/selectionUtil"],function e(t,a,i,r,s,o,n){var l=t.CSS.CLASS.DATAPOINTSELECTED,u=t.CSS.CLASS.DATAPOINT,d=t.CSS.CLASS.MORPHABLEDATAPOINT,h=t.CSS.CLASS.DATAPOINTHOVER;var p=u+" "+d;var c="v-datashapesgroup";var f=function(e,t){f.superclass.constructor.apply(this,arguments);this._enableRoundCorner=false;this._hasDefaultSelection=false;this._effectManager=t.effectManager;this._d3root=null};f.prototype.applyFormatConditions=function(e,t,a,i){var r=function(e,t){var a={drawingEffect:i._vbar_drawingEffect,fillColor:t.color,direction:"horizontal"};var r=i._effectManager.register(a);var s;for(s=0;s<e.length;s++){e[s].setAttribute("fill",r)}};n.applyConditons(e,t,a,r)};f.prototype.highlight=function(e,t){if(!r.isArray(e)){e=[e]}if(!t){for(var a=0;a<e.length;a++){d3.select(e[a]).classed(l,true);d3.select(e[a]).classed(h,false)}}else{for(var i=0;i<e.length;i++){d3.select(e[i]).classed(l,false);d3.select(e[i]).classed(h,true)}}if(this._hasDefaultSelection){s.clearSelectionInfo(this._parent,true,e)}if(!this._enableRoundCorner){o.highlightProperties.attributeOpacityName="fill-opacity";o.nodesHighlight(e,{factor:.7,constant:0},this._effectManager,t);o.resetHighlightProperties()}};f.prototype.unhighlight=function(e,t,a){if(!r.isArray(e)){e=[e]}if(t){for(var i=0;i<e.length;i++){d3.select(e[i]).classed(l,true);d3.select(e[i]).classed(h,false)}}else{for(var n=0;n<e.length;n++){d3.select(e[n]).classed(l,false);d3.select(e[n]).classed(h,false)}}if(this._hasDefaultSelection){s.clearSelectionInfo(this._parent,false,e)}o.highlightProperties.attributeOpacityName="fill-opacity";o.nodesUnhighlight(e,t,a);o.resetHighlightProperties()};f.prototype.clear=function(e){if(e===null||e===undefined||e===false){var t=this._d3root.selectAll(".v-datapoint");t.attr("fill-opacity",1).attr("stroke","none").attr("class",p);if(this._hasDefaultSelection){s.clearSelectionInfo(this._d3root,false,t)}}else{this._d3root.selectAll(".v-datapoint").attr("fill-opacity",.4).attr("stroke","none").attr("class",p)}};f.prototype.setRawData=function(e){this._raw_data=e};a.extend(f,i);return f});define("sap/viz/modules/verticalbar",["sap/viz/base/utils/TypeUtils","sap/viz/modules/dispatch","sap/viz/modules/util/MNDHandler","sap/viz/modules/util/tooltipDataHandler","sap/viz/util/ColorSeriesGenerator","sap/viz/util/Scaler","sap/viz/base/utils/ObjectUtils","sap/viz/util/NumberUtils","sap/viz/base/utils/Objects","sap/viz/lang/langManager","sap/viz/modules/util/BoundUtil","sap/viz/modules/util/defaultSelectionUtil","sap/viz/base/UADetector","sap/viz/modules/Constants","sap/viz/modules/util/ClippathUtil","sap/viz/base/utils/oo","sap/viz/modules/BaseVerticalBar","sap/viz/modules/util/VizBarSizeUtil"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g,v){var y=f.CSS.CLASS.DATAPOINTSELECTED,b=f.CSS.CLASS.DATAPOINT,x=f.CSS.CLASS.MORPHABLEDATAPOINT;var A=b+" "+x;var M="v-datashapesgroup";var S=function(e,t){S.superclass.constructor.apply(this,arguments);this._vbar_gapObj=null;this._vbar_styleManager=t.styleManager;this._vbar_tooltipDataHandlerObj=null;this._vbar_data1=null;this._vbar_data2=null;this._vbar_data=null;this._vbar_seriesData=[];this._vbar_primaryAxisTopBoundary=0;this._vbar_primaryAxisBottomBoundary=0;this._vbar_init_primaryAxisTopBoundary=0;this._vbar_init_primaryAxisBottomBoundary=0;this._vbar_primaryAxisManualRange=false;this._vbar_secondaryAxisManualRange=false;this._vbar_secondaryAxisTopBoundary=0;this._vbar_secondaryAxisBottomBoundary=0;this._vbar_init_secondaryAxisTopBoundary=0;this._vbar_init_secondaryAxisBottomBoundary=0;this._vbar_hasMNDonCategoryAxis=false;this._vbar_id=Math.floor(Math.random()*1e4);this._vbar_x=0;this._vbar_y=0;this._vbar_isDualAxis=false;this._vbar_colorPalette=[];this._vbar_axis1ColorPalette=[];this._vbar_axis2ColorPalette=[];this._vbar_MNDInnerOnColor=false;this._vbar_measureOnAxis1=0;this._vbar_measureOnAxis2=0;this._vbar_shapePalette=["squareWithRadius"];this._vbar_valueScales=[];this._vbar_tooltipVisible=true;this._vbar_lastHovered=null;this._vbar_indexforSecondaryAxis=0;this._vbar_barNumber=0;this._vbar_barGroupNumber=0;this._vbar_barWidth=0;this._vbar_enableDataLoadingAnimation=true;this._vbar_enableDataUpdatingAnimation=true;this._vbar_enableResizingAnimation=true;this._vbar_totalIntervalTime=1e3;this._vbar_afterAttachToDOM=false;this._vbar_isOnlyInitAnimation=false;this._vbar_defsEnter=null;this._vbar_roundCornerDefs=null;this._vbar_suffix=n.guid();this._vbar_drawingEffect="normal";this._vbar_sizeChange=false;this._vbar_dataStructureChange=false;this._vbar_dataValueChange=false;u.extend(true,this._props,e.props(null));this._vbar_currentAnimationCount=0;this._vbar_totalAnimationCount=0;return this};_.extend(S,g);S.prototype.render=function(e,a){h.drawBound(e,this._width,this._height,undefined,!this._props.isCombination);if(c.isMobile()&&this._props.drawClipPath!==false){var i=m.drawClippath(e,this._width,this._height);e.attr("clip-path","url(#"+i+")")}this._vbar_tooltipDataHandlerObj=r();if(this._vbar_valueScales.length===0){return}this._eDispatch.startToInit();this._vbar_barNumber=this._vbar_seriesData[0].length;this._vbar_barGroupNumber=this._vbar_seriesData.length;this._vbar_barWidth=8*this._categoryScale.rangeBand()/(9*this._vbar_barNumber+7);this._vbar_currentAnimationCount=0;this._vbar_totalAnimationCount=this._vbar_barGroupNumber*this._vbar_barNumber;var s=this._d3root=e;var o;if(this._vbar_valueScales[0]){o=Math.abs(this._vbar_valueScales[0].range()[0]-this._vbar_valueScales[0].range()[1])}else if(this._vbar_valueScales[1]){o=Math.abs(this._vbar_valueScales[1].range()[0]-this._vbar_valueScales[1].range()[1])}if(!this._vbar_defsEnter){this._vbar_defsEnter=s.append("defs").append("clipPath").attr("id","clipPlot_"+this._vbar_id).append("rect").attr("width",this._width).attr("height",this._height)}else{this._vbar_defsEnter.attr("width",this._width).attr("height",this._height)}if(!this._vbar_roundCornerDefs){this._vbar_roundCornerDefs=s.append("defs")}else{if(this._vbar_dataStructureChange||this._vbar_sizeChange||this._vbar_dataValueChange||!this._enableRoundCorner){this._vbar_roundCornerDefs.selectAll(".v-clippath").remove()}}this._datashapesgroup=s.selectAll("g."+M);if(!t.isExist(this._datashapesgroup[0][0])){this._datashapesgroup=this._d3root.append("g").attr("class",M).attr("fill","none");if(!c.isMobile()){this._datashapesgroup.attr("clip-path","url(#clipPlot_"+this._vbar_id+")")}}if(this._vbar_dataStructureChange||this._vbar_dataValueChange||this._propsChange){this.draw()}else if(this._vbar_sizeChange||this._isPinching){this.refresh()}if(c.isMobile()&&!a&&this._datashapesgroup){this._datashapesgroup.attr("transform",null)}if(!this._vbarfn_enableAnimation()){if(a&&a.isPinching){this._eDispatch.initialized({eventSource:"pinch"})}else{this._eDispatch.initialized()}}this._vbar_sizeChange=false,this._vbar_dataStructureChange=false,this._vbar_dataValueChange=false,this._propsChange=false;this._vbar_isOnlyInitAnimation=true;this._vbar_lastHovered=null;var n=this._fullData;if(!n){n=this._raw_data?this._raw_data:this._vbar_data}this.applyFormatConditions(this._props.formatRules,e,n,this);return this};S.prototype.draw=function(){var e=Math.log(this._vbar_barWidth)/Math.log(2);if(e<0){this._enableRoundCorner=false}var t=this._datashapesgroup.selectAll("g.v-column").data(this._vbar_seriesData),a=this._vbar_seriesData.length-1;var i=this,r=[];var s=i._vbar_totalIntervalTime/(i._vbar_barNumber*i._vbar_barGroupNumber);t.enter().append("g").attr("class","v-column");var o=t.selectAll("g.v-datashape").data(function(e){return e});o.enter().append("g").attr("class","v-datashape").append("rect").classed(b,true).classed(A,true);o.attr("transform",function(e,t,a){var s;var o=i._vbar_valueScales[e.valueAxis];if(e.val>=0){s=o(e.val)}else{s=o(0)}var n=i._categoryScale(a)+i._vbar_barWidth*t;n=n+i._vbar_barWidth/8*t+i._vbar_barWidth/2;r.push(n);return"translate("+n+","+s+")"});var n=o.select("rect.v-datapoint"),l=i._vbar_seriesData[0].length-1;n.each(function(e,t){e.fillColor=i._vbar_colorPalette[t%i._vbar_colorPalette.length];var a={drawingEffect:i._vbar_drawingEffect,fillColor:e.fillColor,direction:"horizontal"};var r=i._effectManager.register(a);this.setAttribute("class",A);this.setAttribute("fill",r);if(i._vbar_barWidth>1){this.setAttribute("shape-rendering","crispEdges")}this.setAttribute("fill-opacity",1);this.setAttribute("stroke","none")});if(i._vbarfn_enableAnimation()){w(n,i,r,e,s,l,a)}else{C(n,i,e,s)}o.exit().remove();t.exit().remove()};S.prototype.refresh=function(){var e=Math.log(this._vbar_barWidth)/Math.log(2);if(e<0){this._enableRoundCorner=false}var t=this._datashapesgroup.selectAll("g.v-column").data(this._vbar_seriesData),a=this._vbar_seriesData.length-1;var i=this,r=[];var s=i._vbar_totalIntervalTime/(i._vbar_barNumber*i._vbar_barGroupNumber);var o=t.selectAll("g.v-datashape").data(function(e){return e});o.attr("transform",function(e,t,a){var s;var o=i._vbar_valueScales[e.valueAxis];if(e.val>=0){s=o(e.val)}else{s=o(0)}var n=i._categoryScale(a)+i._vbar_barWidth*t;n=n+i._vbar_barWidth/8*t+i._vbar_barWidth/2;r.push(n);return"translate("+n+","+s+")"});var n=o.select("rect.v-datapoint"),l=i._vbar_seriesData[0].length-1;if(i._vbarfn_enableAnimation()){T(n,i,r,e,s,l,a)}else{C(n,i,e,s)}};S.prototype.width=function(e){if(!arguments.length){return this._width}this._vbar_sizeChange=this._width===e&&!this._vbar_sizeChange?false:true;this._width=e;if(t.isExist(this._width)&&t.isExist(this._height)&&t.isExist(this._vbar_seriesData)){this._vbarfn_makeScales()}return this};S.prototype.height=function(e){if(!arguments.length){return this._height}this._vbar_sizeChange=this._height===e&&!this._vbar_sizeChange?false:true;this._height=e;if(t.isExist(this._width)&&t.isExist(this._height)&&t.isExist(this._vbar_seriesData)){this._vbarfn_makeScales()}return this};S.prototype.size=function(e){if(!arguments.length){return{width:this._width,height:this._height}}this._vbar_sizeChange=this._height===e.height&&this._width===e.width&&!this._vbar_sizeChange?false:true;this._width=e.width;this._height=e.height;if(t.isExist(this._width)&&t.isExist(this._height)&&t.isExist(this._vbar_seriesData)){this._vbarfn_makeScales()}return this};S.prototype.data=function(e){if(!arguments.length){return this._vbar_data}this._vbar_data=e;if(this._vbar_data){var a=i(this._vbar_data);this._vbar_data1=a["MG1"];this._vbar_data2=a["MG2"];this._vbar_measureOnAxis1=a.MG1Number;this._vbar_measureOnAxis2=a.MG2Number||0;this._vbar_MNDInnerOnColor=a.MNDOnColor&&a.MNDInner;if(this._vbar_data1[0]&&this._vbar_data1[0][0].info&&this._vbar_data1[0][0].info.defaultSelection){this._hasDefaultSelection=true}else{this._hasDefaultSelection=false}if(t.isExist(a.color)){this._vbar_hasMNDonCategoryAxis=true;this._vbar_isDualAxis=true}else{this._vbar_hasMNDonCategoryAxis=false;if(t.isExist(this._vbar_data2)){this._vbar_isDualAxis=true}else{this._vbar_isDualAxis=false}}var r=O.call(this,this._vbar_data1,this._vbar_data2,a.color);if(this._vbar_seriesData.length!==r.length||r[0].length!==this._vbar_seriesData[0].length){this._vbar_dataStructureChange=true}else{this._vbar_dataValueChange=true}this._vbar_seriesData=r;if(t.isExist(this._width)&&t.isExist(this._height)){this._vbarfn_makeScales()}this._vbarfn_parseOptions()}return this};S.prototype.properties=function(e){if(!arguments.length){return this._props}this._propsChange=true;u.extend(true,this._props,e);this._vbarfn_parseOptions();return this};S.prototype.primaryAxisTitle=function(e){if(!arguments.length){var t=this._vbar_data.getMeasureValuesGroupDataByIdx(0),a=[];if(t){for(var i=0,r=t.values.length;i<r;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){a.push(t.values[i].col)}else{a.push(d.get("IDS_ISNOVALUE"))}}}return a.join(" & ")}return this};S.prototype.secondAxisTitle=function(e){if(!arguments.length){var t=this._vbar_data.getMeasureValuesGroupDataByIdx(1),a=[];if(t){for(var i=0,r=t.values.length;i<r;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){a.push(t.values[i].col)}else{a.push(d.get("IDS_ISNOVALUE"))}}}return a.join(" & ")}return this};S.prototype.dispatch=function(e){if(!arguments.length){return this._eDispatch}this._eDispatch=e;return this};S.prototype.dataLabel=function(e){};S.prototype.colorPalette=function(e){if(!arguments.length){return this._vbar_colorPalette}this._vbar_colorPalette=e;return this};S.prototype.shapePalette=function(e){if(!arguments.length){return this._vbar_shapePalette}this._vbar_shapePalette=e;return this};S.prototype.getPreferredSize=function(){};S.prototype.categoryScale=function(e){if(!arguments.length){return this._categoryScale}this._categoryScale=e;return this};S.prototype.self=function(){return this};S.prototype.primaryScale=function(e){if(!arguments.length){return this._valueAxis1.scale}this._valueAxis1.scale=e;this._vbar_valueScales[0]=this._valueAxis1.scale;return this};S.prototype.secondScale=function(e){if(!arguments.length){return this._valueAxis2.scale}this._valueAxis2.scale=e;this._vbar_valueScales[1]=this._valueAxis2.scale;return this};S.prototype.primaryAxisColor=function(){if(this._vbar_isDualAxis&&!this._vbar_hasMNDonCategoryAxis){return this._vbar_colorPalette[0]}else{return undefined}};S.prototype.secondAxisColor=function(){if(!this._vbar_hasMNDonCategoryAxis){return this._vbar_colorPalette[this._vbar_seriesData[0].length-1]}else{return undefined}};S.prototype.primaryDataRange=function(e){if(!arguments.length){return{min:this._vbar_primaryAxisBottomBoundary,max:this._vbar_primaryAxisTopBoundary}}var a,i;if(e!==null){if(!isNaN(e.max)){a=e.max}else{a=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(e.min)){i=e.min}else{i=this._valueAxis1.scale.perfectDomainBegin}if(a>i){this._vbar_primaryAxisTopBoundary=a;this._vbar_primaryAxisBottomBoundary=i;if(e.from==="axis"){this._vbar_primaryAxisManualRange=true}if(t.isExist(this._width)&&t.isExist(this._height)&&t.isExist(this._vbar_seriesData)){this._vbarfn_makeScales()}}}else{if(this._vbar_primaryAxisManualRange===true){this._vbar_primaryAxisTopBoundary=this._vbar_init_primaryAxisTopBoundary;this._vbar_primaryAxisBottomBoundary=this._vbar_init_primaryAxisBottomBoundary;this._vbar_primaryAxisManualRange=false;if(t.isExist(this._width)&&t.isExist(this._height)&&t.isExist(this._vbar_seriesData)){this._vbarfn_makeScales()}}}return this};S.prototype.secondDataRange=function(e){if(!arguments.length){return{min:this._vbar_secondaryAxisBottomBoundary,max:this._vbar_secondaryAxisTopBoundary}}var a,i;if(e!==null){if(!isNaN(e.max)){a=e.max}else{a=this._valueAxis2.scale.perfectDomainEnd}if(!isNaN(e.min)){i=e.min}else{i=this._valueAxis2.scale.perfectDomainBegin}if(a>i){this._vbar_secondaryAxisTopBoundary=a;this._vbar_secondaryAxisBottomBoundary=i;if(e.from==="axis"){this._vbar_secondaryAxisManualRange=true}if(t.isExist(this._width)&&t.isExist(this._height)&&t.isExist(this._vbar_seriesData)){this._vbarfn_makeScales()}}}else{if(this._vbar_secondaryAxisManualRange===true){this._vbar_secondaryAxisTopBoundary=this._vbar_init_secondaryAxisTopBoundary;this._vbar_secondaryAxisBottomBoundary=this._vbar_init_secondaryAxisBottomBoundary;this._vbar_secondaryAxisManualRange=false;if(t.isExist(this._width)&&t.isExist(this._height)&&t.isExist(this._vbar_seriesData)){this._vbarfn_makeScales()}}}return this};S.prototype.afterUIComponentAppear=function(){this._eDispatch.initialized()};S.prototype.destroy=function(){if(this._datashapesgroup){this._datashapesgroup.remove()}if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1])}if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1])}if(this._valueAxis2.scale){this._valueAxis2.scale.domain([0,1]).range([0,1])}this._categoryScale=null;this._valueAxis1.scale=null;this._valueAxis2.scale=null;this._valueAxis1=null;this._valueAxis2=null;this._vbar_seriesData=null;this._vbar_colorPalette=null;this._d3root=null;this._vbar_data=null;this._vbar_data1=null;this._vbar_data2=null;this._vbar_defsEnter=null;this._vbar_roundCornerDefs=null};S.prototype._vbarfn_enableAnimation=function(){var e=false;if(!this._vbar_isOnlyInitAnimation){e=this._vbar_enableDataLoadingAnimation}else if(this._vbar_dataStructureChange||this._vbar_dataValueChange){e=this._vbar_enableDataUpdatingAnimation}else if(this._vbar_sizeChange){e=this._vbar_enableResizingAnimation}return e};S.prototype._vbarfn_parseOptions=function(){this._enableRoundCorner=this._props.isRoundCorner;this._vbar_enableDataLoadingAnimation=this._props.animation.dataLoading;this._vbar_enableDataUpdatingAnimation=this._props.animation.dataUpdating;this._vbar_enableResizingAnimation=this._props.animation.resizing;this._vbar_tooltipVisible=this._props.tooltip.enabled;this._vbar_drawingEffect=this._props.drawingEffect;if(this._vbar_isDualAxis&&!this._vbar_hasMNDonCategoryAxis){this._vbar_axis1ColorPalette=this._props.primaryValuesColorPalette;this._vbar_axis2ColorPalette=this._props.secondaryValuesColorPalette}else{this._vbar_axis2ColorPalette=this._props.colorPalette;this._vbar_axis1ColorPalette=this._props.colorPalette}var e=0;if(!this._vbar_hasMNDonCategoryAxis){this._vbar_indexforSecondaryAxis=this._vbar_data1.length;e=this._vbar_seriesData[0].length}else{e=this._vbar_seriesData.length*this._vbar_seriesData[0].length}this._vbar_colorPalette=[];var t;if(this._vbar_MNDInnerOnColor){var a=0,i=0,r=0;for(t=0;t<this._vbar_indexforSecondaryAxis;t++){this._vbar_colorPalette.push(this._vbar_axis1ColorPalette[t%this._vbar_axis1ColorPalette.length]);a++;if(a===this._vbar_measureOnAxis1){i=0;for(;r<=e-this._vbar_indexforSecondaryAxis;r++){if(i>=this._vbar_measureOnAxis2){a=0;break}this._vbar_colorPalette.push(this._vbar_axis2ColorPalette[r%this._vbar_axis2ColorPalette.length]);i++}}}}else{for(t=0;t<e;t++){if(t<this._vbar_indexforSecondaryAxis){this._vbar_colorPalette.push(this._vbar_axis1ColorPalette[t%this._vbar_axis1ColorPalette.length])}else if(this._vbar_isDualAxis&&!this._vbar_hasMNDonCategoryAxis){this._vbar_colorPalette.push(this._vbar_axis2ColorPalette[(t-this._vbar_indexforSecondaryAxis)%this._vbar_axis2ColorPalette.length])}}}};S.prototype.setAxisGap=function(e){this._vbar_gapObj=e};S.prototype._vbarfn_makeScales=function(){var e=[];for(var a=0;a<this._vbar_seriesData.length;a++){e.push(a)}this._vbar_valueScales=[];this._categoryScale.domain(e).rangeBands([0,this._width]);if(this._vbar_primaryAxisBottomBoundary===0&&this._vbar_primaryAxisTopBoundary===0){this._valueAxis1.scale.domain([0,1]).range([this._height,0])}else{this._valueAxis1.scale.domain([this._vbar_primaryAxisBottomBoundary,this._vbar_primaryAxisTopBoundary]).range([this._height,0])}if(t.isExist(this._vbar_data2)||this._vbar_isDualAxis){if(this._vbar_secondaryAxisTopBoundary===0&&this._vbar_secondaryAxisBottomBoundary===0){this._valueAxis2.scale.domain(this._valueAxis1.scale.domain()).range(this._valueAxis1.scale.range())}else{this._valueAxis2.scale.domain([this._vbar_secondaryAxisBottomBoundary,this._vbar_secondaryAxisTopBoundary]).range([this._height,0]);if(this._vbar_primaryAxisBottomBoundary===0&&this._vbar_primaryAxisTopBoundary===0){this._valueAxis1.scale.domain(this._valueAxis2.scale.domain()).range(this._valueAxis2.scale.range())}}if(!this._vbar_secondaryAxisManualRange&&!this._vbar_primaryAxisManualRange){o.perfectDual(this._valueAxis1.scale,this._valueAxis2.scale)}else if(!this._vbar_secondaryAxisManualRange&&this._vbar_primaryAxisManualRange){o.getRoughTickNum(this._valueAxis1.scale);o.perfect(this._valueAxis2.scale)}else if(this._vbar_secondaryAxisManualRange&&!this._vbar_primaryAxisManualRange){o.perfect(this._valueAxis1.scale);o.getRoughTickNum(this._valueAxis2.scale)}else{o.getRoughTickNum(this._valueAxis1.scale);o.getRoughTickNum(this._valueAxis2.scale)}}else{if(!this._vbar_primaryAxisManualRange){o.perfect(this._valueAxis1.scale)}else{o.getRoughTickNum(this._valueAxis1.scale)}this._valueAxis2.scale.range([0,0])}var i=0;var r=0;if(this._vbar_gapObj){if(this._vbar_gapObj.startGap){i=this._vbar_gapObj.startGap}if(this._vbar_gapObj.endGap){r=this._vbar_gapObj.endGap}}o.adjustGap(i,r,this._valueAxis1.scale);o.adjustGap(i,r,this._valueAxis2.scale);this._vbar_valueScales.push(this._valueAxis1.scale);this._vbar_valueScales.push(this._valueAxis2.scale)};S.prototype._vbarfn_x=function(e){if(!arguments.length){return this._vbar_x}this._vbar_x=e;return this};S.prototype._vbarfn_y=function(e){if(!arguments.length){return this._vbar_y}this._vbar_y=e;return this};var z=function(e,t,a,i,r){var s="roundCorner-clip"+"-"+a+i+e._vbar_suffix;e._vbar_roundCornerDefs.append("clipPath").attr("id",s).attr("class","v-clippath").append("rect").attr("rx",r).attr("ry",r).attr("width",e._vbar_barWidth).attr("height",function(){var a=e._vbar_valueScales[t.valueAxis];if(t.val!==" "&&t.val!==0){var i=Math.abs(a(t.val)-a(0));return i+r}else{return 0}}).attr("y",function(){var a=e._vbar_valueScales[t.valueAxis];if(t.val>=0){return 0}else{return 0-r}}).attr("x",0);return"url(#"+s+")"};var D=function(e,t,a,i,r,s){var o=this.getAttribute("width"),n=this.getAttribute("height"),l=this.getAttribute("x"),u=this.getAttribute("y");var d="roundCorner-clip"+"-"+a+i+e._vbar_suffix;e._vbar_roundCornerDefs.append("clipPath").attr("id",d).attr("class","v-clippath").append("rect").attr("rx",r).attr("ry",r).attr("x",0).attr("width",e._vbar_barWidth).attr("y",n).transition().delay(function(t,a){return(a+e._vbar_barNumber*i)*s}).attr("height",function(){if(e._vbar_valueScales&&t.val!==" "&&t.val!==0){var a=e._vbar_valueScales[t.valueAxis];var i=Math.abs(a(t.val)-a(0));return i+r}else{return 0}}).attr("y",function(){if(t.val>0){return 0}else{return 0-r}});return"url(#"+d+")"};var E=function(e,t,a,i,r,s){var o=this.getAttribute("width"),n=this.getAttribute("height"),l=this.getAttribute("x"),u=this.getAttribute("y");var d="roundCorner-clip"+"-"+a+i+e._vbar_suffix;e._vbar_roundCornerDefs.append("clipPath").attr("id",d).attr("class","v-clippath").append("rect").attr("rx",r).attr("ry",r).attr("width",o).attr("x",l).attr("height",n).attr("y",function(){if(t.val>0){return 0}else{return 0-r}}).transition().duration(e._vbar_totalIntervalTime).attr("width",e._vbar_barWidth).attr("height",function(){if(e._vbar_valueScales&&t.val!==" "&&t.val!==0){var a=e._vbar_valueScales[t.valueAxis];var i=Math.abs(a(t.val)-a(0));return i+r}else{return 0}});return"url(#"+d+")"};var w=function(e,t,a,i,r,s,o){e.attr("width",v.fixDecimal(t._vbar_barWidth)).attr("height",0).attr("y",function(e){var a=t._vbar_valueScales[e.valueAxis];if(e.val!==" "&&e.val!==0&&e.val>0){var i=Math.abs(a(e.val)-a(0));return i}else{return 0}});if(t._enableRoundCorner){L.call(this,"structureChange",e,t,i,r)}e.transition().delay(function(e,a,i){return(a+t._vbar_barNumber*i)*r}).attr("height",function(e){if(t._vbar_valueScales&&e.val!==" "&&e.val!==0){var a=t._vbar_valueScales[e.valueAxis];var i=Math.abs(a(e.val)-a(0));return i}else{return 0}}).attr("y",0).attr("x",0).each("end",function(e,a,i){I.call(t)})};var T=function(e,t,a,i,r,s,o){if(t._enableRoundCorner){L.call(this,"valueChange",e,t,i,r)}e.transition().duration(t._vbar_totalIntervalTime).attr("width",v.fixDecimal(t._vbar_barWidth)).attr("height",function(e){if(t._vbar_valueScales&&e.val!==" "&&e.val!==0){var a=t._vbar_valueScales[e.valueAxis];var i=Math.abs(a(e.val)-a(0));return i}else{return 0}}).attr("y",0).attr("x",0).each("end",function(e,a){I.call(t)})};var C=function(e,t,a,i){e.each(function(e){var a;var i=t._vbar_valueScales[e.valueAxis];if(e.val!==" "&&e.val!==0){a=Math.abs(i(e.val)-i(0));e.height=a}else{a=0}this.setAttribute("width",v.fixDecimal(t._vbar_barWidth));this.setAttribute("height",a);this.setAttribute("y",0);this.setAttribute("x",0)});if(t._enableRoundCorner){L.call(this,"none",e,t,a,i)}};var L=function(e,t,a,i,r){function s(){t.attr("clip-path",function(t,s,o){switch(e){case"none":return z.call(this,a,t,s,o,i);case"structureChange":return D.call(this,a,t,s,o,i,r);case"valueChange":return E.call(this,a,t,s,o,i,r);default:return E.call(this,a,t,s,o,i,r)}})}if(c.isSafari()&&c.os()==="Windows"||c.isMobile()){window.setTimeout(s,0)}else{s()}};var I=function(){if(++this._vbar_currentAnimationCount===this._vbar_totalAnimationCount){this._eDispatch.initialized();this._vbar_afterAttachToDOM=true}};var k=function(e,t){var a=d3.interpolate(this._height,t>=this._vbar_indexforSecondaryAxis?this._valueAxis2.scale(e.val):this._valueAxis1.scale(e.val));return function(e){return a(e)}};var O=function(e,t,a){this._vbar_primaryAxisTopBoundary=this._vbar_primaryAxisBottomBoundary=0;this._vbar_secondaryAxisTopBoundary=this._vbar_secondaryAxisBottomBoundary=0;var i=[];var r=0;if(e[0]&&e[0].length){r=e[0].length}else if(t[0]&&t[0].length){r=t[0].length}var s=[];var o=0;var n=0;var u,d;for(u=0;u<e.length;u++){if(this._vbar_hasMNDonCategoryAxis){for(d=0;d<e[u].length;d++){if(a[d]===0){o=e[u][d].val;e[u][d].valueAxis=0;if(this._vbar_primaryAxisTopBoundary<o){this._vbar_primaryAxisTopBoundary=o}if(this._vbar_primaryAxisBottomBoundary>o){this._vbar_primaryAxisBottomBoundary=o}this._vbar_indexforSecondaryAxis++}else{n=e[u][d].val;e[u][d].valueAxis=1;if(this._vbar_secondaryAxisTopBoundary<n){this._vbar_secondaryAxisTopBoundary=n}if(this._vbar_secondaryAxisBottomBoundary>n){this._vbar_secondaryAxisBottomBoundary=n}}}}else{o=d3.max(e[u],function(e){return e.val});n=d3.min(e[u],function(e){return e.val});if(this._vbar_primaryAxisTopBoundary<o){this._vbar_primaryAxisTopBoundary=o}if(this._vbar_primaryAxisBottomBoundary>n){this._vbar_primaryAxisBottomBoundary=n}}s.push(e[u])}if(t!==undefined){for(u=0;u<t.length;u++){o=d3.max(t[u],function(e){return e.val});n=d3.min(t[u],function(e){return e.val});if(this._vbar_secondaryAxisTopBoundary<o){this._vbar_secondaryAxisTopBoundary=o}if(this._vbar_secondaryAxisBottomBoundary>n){this._vbar_secondaryAxisBottomBoundary=n}s.push(t[u])}}this._vbar_init_primaryAxisTopBoundary=this._vbar_primaryAxisTopBoundary;this._vbar_init_primaryAxisBottomBoundary=this._vbar_primaryAxisBottomBoundary;this._vbar_init_secondaryAxisTopBoundary=this._vbar_secondaryAxisTopBoundary;this._vbar_init_secondaryAxisBottomBoundary=this._vbar_secondaryAxisBottomBoundary;for(d=0;d<r;d++){var h=[];for(u=0;u<s.length;u++){if(!this._vbar_hasMNDonCategoryAxis){if(u<e.length){s[u][d].valueAxis=0}else{s[u][d].valueAxis=1}}if(l.isNoValue(s[u][d].val)){s[u][d].val=" "}h.push(s[u][d])}if(this._vbar_MNDInnerOnColor){var p=[],c=0,f=0;var m=0;for(var _=0;_<e.length;_++){p.push(h[_]);c++;if(c===this._vbar_measureOnAxis1&&t!==undefined){f=0;for(;m<t.length;m++){if(f>=this._vbar_measureOnAxis2){c=0;break}p.push(h[e.length+m]);f++}}}i.push(p)}else{i.push(h)}}return i};return S});define("sap/viz/modules/manifests/xy/VerticalBar",["sap/viz/modules/manifests/Module","sap/viz/modules/verticalbar","sap/viz/modules/manifests/xy/BaseBar","sap/viz/modules/Constants"],function e(t,a,i,r){var s={id:"sap.viz.modules.verticalbar",name:"vertical bar",base:"sap.viz.modules.xy.bar.base",properties:{formatRules:{name:"formatRules",supportedValueType:"Array",isExported:true,description:'Sample value for formatRules:  [{condition: [{Key1:Value1, Key2:Value2}], color:"#00ff00"}, {condition: [{Key3:Value3}], color:"#00ffff"}].   Each rule has two properties: the "condition" and the "color".   Value1, Value2 and Value3 are values. <br />  The value of a dimension may be <br />  1, Single value (string), like "China" . <br />  2. Array (enumeration), like ["UK","USA"] . <br />  The value of a measure may be <br />  1, Single value (number), like 20 . <br />  2. Arry (enumeration), like [121,122] . <br />  3. Object (range), like {min:100, max 200} . Min and max are inclusive.   If users want to inlcude 200, but not 100 in the range, they may use {min:100.00001, max:200}.   If users want values larger than 100, they may write {min:100}. <br />   The color is applied if one or more conditions in the condition array is met.   If multiple rules could apply on the same data point, it is the last rule that takes effect.',example:"<a href='"+r.DocExample.SnippetUrl+"8751' target='_blank'>"+r.DocExample.TryThisValue+"</a>"}},fn:a};var o={viz:[],module:[s].concat(i.module),feeds:[].concat(i.feeds)};return o});define("sap/viz/manifests/xy/CombinationChart",["sap/viz/manifests/Viz","sap/viz/base/UADetector","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/Title","sap/viz/modules/manifests/Legend","sap/viz/modules/manifests/XYContainer","sap/viz/chart/elements/manifests/Tooltip","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/Combination","sap/viz/modules/manifests/xy/Line","sap/viz/modules/manifests/xy/VerticalBar","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/manifests/xy/BaseVerticalChart","sap/viz/modules/manifests/controller/Pinch"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f){var m={base:"riv/baseverticalchart",id:"viz/combination",name:"IDS_COMBINATIONCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"line",orientation:"left"}}},interaction:{configure:{properties:{holdSelection:false}}},main:{modules:{yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart",propertyCategory:"yAxis",properties:{type:"value",indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the category axis of an XY chart",propertyCategory:"xAxis",properties:{type:"category",indicator:{enable:true},isKeepFirstAndLastLabel:true},propertiesOverride:{indicator:{isExported:false}}}},plot:{id:"sap.viz.modules.combination",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",propertiesOverride:{dataShape:{secondaryAxis:{isExported:false},secondAxis:{isExported:false}}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"inside"}}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]},categoryAxis:["xAxis"],valueAxis:["yAxis"]};if(a.isMobile()){var _=m.modules.root.modules;_.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var g=m.dependencies.attributes;var v=m.dependencies.events;g.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});v.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});v.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});v.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});v.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});v.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});v.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});v.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});v.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});v.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});v.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});v.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"})}var y={viz:[m].concat(c.viz),module:[].concat(c.module,i.module,r.module,s.module,o.module,n.module,l.module,u.module,d.module,h.module,p.module,f.module),feeds:[].concat(c.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds,l.feeds,u.feeds,d.feeds,h.feeds,p.feeds,f.feeds)};return y});define("sap/viz/impls/CombinationChart",["sap/viz/manifests/xy/CombinationChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/modules/pie/sector",["sap/viz/modules/Constants","sap/viz/util/NumberUtils"],function e(t,a){var i=t.CSS.CLASS.DATAPOINT,r=t.CSS.CLASS.MORPHABLEDATAPOINT;var s=i+" "+r;var o=d3.layout.pie().sort(null).value(function(e){return e.v});function n(e,t,a,i,r,s,o,n,l){this.dimValueObjects=t;this.color=a;this.r=i;this._value=r;this.startAngle=s;this.endAngle=o;this.p=n;this.decoras=[];this.measureLabel=l;for(var u in e){if(e.hasOwnProperty(u)){this[u]=e[u]}}}n.prototype={midAngle:function(){return(this.endAngle+this.startAngle)/2},dimValues:function(){return this.dimValueObjects.map(function(e){var t;if(e.info){var a=e.info.customlabel;if(a){if(a.type==="url"){t=e.val}else if(a.type==="string"){t=a.val}}else{t=e.val}}else{t=e.val}return t})},value:function(e){var t=this._value;if(e){return d3.format(e)(t)}return t},proportion:function(e){var t=(this.endAngle-this.startAngle)/(2*Math.PI);if(e){return d3.format(e)(t)}return t}};function l(e,t){var i=e.measure.rows[0];var r=e.dimensions;var s=[];var l=i.map(function(e,t){s.push(t);return{v:e.val,i:t}}).filter(function(e){var t=e.v;return!a.isNoValue(t)&&t>0});var u=e.color.domain(s);var d=e.or;var h=o(l).map(function(a){var s=a.data.i;var o=u(s);if(e.p.info&&e.p.info.isInfoChart&&e.p.info.colorMapping&&e.p.info.colorMapping[s]){o=e.p.info.colorMapping[s]}var l=t.register({drawingEffect:e.drawingEffect,graphType:"sector",fillColor:o,direction:"vertical",radius:d});return new n(i[s],r.map(function(e){return e.rows[s]}),l,d,a.value,a.startAngle,a.endAngle,e.p,e.measure.col)});return h}var u=function(){function e(e,a,i){var r=u.all(e).data(function(e){return l(e,a)});r.exit().remove();var o=r.enter().append("svg:g").attr("class","v-datashape").append("svg:path");i.queryDefault("v-sector").toAttrs(o);r.attr("transform",null).select("g.v-datashape path").attr("fill",function(e){return e.color}).attr("d",d3.svg.arc().outerRadius(function(e){return e.r})).classed(s,true).classed(t.CSS.CLASS.DATAPOINTDEFAULT,true).classed("viz-pie-sector",true).classed("v-sector",true).attr("fill-opacity",null)}return e};u.all=function(e){return e.selectAll("g.v-datashape")};return u});define("sap/viz/modules/pie/selection",["sap/viz/modules/pie/sector","sap/viz/modules/Constants","sap/viz/base/UADetector"],function e(t,a,i){var r=a.CSS.CLASS.DATAPOINTSELECTED;var s;function o(e,t,a){e.classed(r,t).attr("fill-opacity",t?"1":null);var i=0,o=0;if(!a){e=e.transition().duration(200)}e.each(function(e){i=0,o=0;if(t){if(this.parentNode.parentNode.childNodes.length!==1){var a=e.midAngle();var r=e.r;var s;s=.08*r;i=s*Math.sin(a);o=-s*Math.cos(a)}}d3.select(this.parentNode).attr("transform","translate("+i+","+o+")")});e.each("start",function(e){if(this.parentNode){var t=d3.select(this.parentNode).attr("transform");e.decoras.forEach(function(e,a,i){s=d3.select(e);if(!s.attr("transform")){s.attr("transform","")}s.transition().attr("transform",t)},this)}})}function n(e){return e.classed(r)}return function(){return{allSelected:function(e){return e.selectAll("."+r)},select:function(e,t){o(e,t)},clear:function(e,t){if(i.isIE()){e.attr("visibility","hidden");e.attr("visibility","")}e.attr("fill-opacity",t?"0.4":null);e.selectAll(".v-datalabel").attr("fill-opacity",1)},selected:function(e){return e.classed(r)},clearAll:function(e){var t=this.allSelected(e);if(t.length===0){this.clear(e,false)}else{t.call(o,true)}}}}});define("sap/viz/modules/pie",["sap/viz/base/utils/oo","sap/viz/modules/Base","sap/viz/modules/pie/sector","sap/viz/modules/pie/selection","sap/viz/util/TextUtils","sap/viz/util/ColorSeriesGenerator","sap/viz/modules/dispatch","sap/viz/base/UADetector","sap/viz/base/utils/FunctionUtils","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/ObjectUtils","sap/viz/base/utils/Objects","sap/viz/format/FormatManager","sap/viz/lang/langManager","sap/viz/modules/util/BoundUtil","sap/viz/modules/util/dataUtil","sap/viz/modules/util/defaultSelectionUtil","sap/viz/modules/Constants","sap/viz/util/DrawUtil","sap/viz/modules/util/selectionUtil"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g,v,y,b){var x=2.414;var A=function(e){return x};var M=1.1;var S=600;var z=o.sap32();var D="v-pie";var E=D,w="v-datashapesgroup",T="v-donut-title",C="v-sectorgroup";var L=v.CSS.CLASS.DATAPOINTSELECTED,I=v.CSS.CLASS.DATAPOINTHOVER,k=v.CSS.CLASS.DATAPOINTDEFAULT,O=v.CSS.CLASS.DATAPOINT;var N=r();var P=i();var R=function(e){var t=e.selectAll("text."+T).data(function(e){if(e.p.isDonut){var t=e.measure.col;if(t===null){t=f.get("IDS_ISNOVALUE")}var a=e.measure.rows[0];if(a!==null){for(var i=0;i<a.length;i++){if(a[i].val>0){return[{width:e.ir,title:t}]}}}}return[]});t.exit().remove();t.enter().insert("svg:text","."+C).attr("class",T).attr("font-family","'Open Sans',Arial,Helvetica,sans-serif").attr("text-anchor","middle").attr("font-weight","bold").attr("font-size","16px").attr("fill","#333").attr("dominant-baseline","middle");t.each(function(e){s.ellipsisInCircle(e.title,this,e.width,0)})};var F=function(e,t){return e/2-t};var B=function(e,t){var a=Math.max(e/2/(1+1/x),t*x);return Math.min(a,e/2-t)};var V=function(e,t,a,i){if(a){return Math.min(t/2,e/2)}return Math.min(F(t,i),B(e,i))};var H=function(e){return e/A(e)};var U=d3.svg.arc();var G=function(e){var t=d3.interpolateNumber(e.startAngle,e.endAngle);return function(a){e.endAngle=t(a);return U(e)}};var Y=function(e,t){N.select(d.isArray(e)?d3.selectAll(e):d3.select(e),t)};var j=function(e,t){this._pie_id="v-pie-"+h.guid();this._pie_clipPathIdPrefix=this._pie_id+"-clipPath-";this._pie_width=null;this._pie_height=null;this._pie_data=null;this._pie_props=e.props(null);this._pie_colorPalette=undefined;this._pie_plotScale=this._pie_props.plotScale;this._pie_effectManager=t.effectManager;this._pie_styleManager=t.styleManager;this._pie_widthFunctor=undefined;this._pie_heightFunctor=undefined;this._pie_propsFunctor=u.noop;this._pie_parent=undefined;this._pie_sectorGroup=undefined;this._pie_wrapper=undefined;this._pie_tip=undefined;this._pie_isDataSchemaChanged=false;this._pie_isDataLoading=true;this._pie_isSizeChanged=false;this._pie_isDatasetChanged=false;this._pie_isPropertiesChanged=false;this._pie_hasDefaultSelection=false;this._pie_dispatch=n("selectData","deselectData","initialized","startToInit","showTooltip","hideTooltip");this._pie_lastSelectElData=null;this._pie_defaultSectorStyle=this._pie_styleManager.queryDefault("v-sector")};t.extend(j,a);j.prototype.supportExportToContentType=function(e){if(e==="svg"&&(!this._hasLegend()||this._positionOfLegend()==="right"||this._positionOfLegend()==="left")){return true}return false};j.prototype._positionOfLegend=function(){var e=d3.select("svg.v-m-root").node();var t=d3.select(e).select(".v-m-main .v-m-plot .v-pie").node();var a=d3.select(e).select(".v-m-legends").node();var i=t.getBoundingClientRect();var r=a.getBoundingClientRect();i.top=i.bottom-i.height;r.top=r.bottom-r.height;if(r.top>i.bottom){return"down"}else{if(r.left>i.right){return"right"}if(r.right>i.left){return"up"}else{return"left"}}};j.prototype._hasLegend=function(){if(!d3.select("svg.v-m-root").select(".v-m-legends .v-content").empty()){return true}return false};j.prototype.exportContent=function(e){var t='<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"/>';var a=t;var i=function(){if(!d3.select("svg.v-m-root").select(".v-m-title .v-title.viz-title-label").empty()){return true}return false};if(e&&e["type"]&&e["type"]==="svg"){var r=d3.select("svg.v-m-root").node().cloneNode(true);var s=d3.select(r).select(".v-m-main .v-m-plot .v-pie").node().cloneNode(true);var o=d3.select(r).select(".v-m-title").node().cloneNode(true);var n=d3.select(r).select(".v-m-legends").node().cloneNode(true);var l=d3.select(r).select("defs").node().cloneNode(true);var u=d3.select(r).select(".v-backgroundutil").node().cloneNode(true);var d=+d3.select(n).select(".v-m-legend .v-bound").attr("height");var p=+d3.select(n).select(".v-m-legend .v-bound").attr("width");var c=0;var f=24;var m=30;if(i()){c=+d3.select(o).select(".v-bound").attr("height");c=c+f}var _=this._pie_pieWrapperData(this._pie_data);var g;if(_.length){g=_[0].or*2}else{return a}var v=g*1.1;m=g*.1;var y=document.createElement("svg");d3.select(y).attr("class","*^^ToBeReplaced:svg'sClassAttribute%%*");y.appendChild(u);y.appendChild(l);d3.select(y).attr("xmlns","http://www.w3.org/2000/svg");if(e&&e.hideTitleLegend){d3.select(s).attr("transform","translate("+ +v/2+","+ +v/2+")");d3.select(y).attr("viewBox","0"+" "+"0"+" "+v+" "+v);d3.select(u).select(".v-background-body.viz-plot-background.v-morphable-background").attr("width",v);d3.select(u).select(".v-background-body.viz-plot-background.v-morphable-background").attr("height",v)}else{if(!this._hasLegend()){d3.select(s).attr("transform","translate("+ +v/2+","+(+v/2+c)+")");m=0}else{var b="";var x="";var A=g/d;if(g<d){v=v/A;b="scale("+1/A+")"}if(this._positionOfLegend()==="right"){b="translate("+ +v/2+","+(+v/2+c)+")"+b;x="translate("+(+v+m)+","+(+c+f)+")"}else if(this._positionOfLegend()==="left"){b="translate("+(+v/2+p+m)+","+(+v/2+c)+")"+b;x="translate("+"0"+","+(+c+f)+")"}d3.select(s).attr("transform",b);d3.select(n).attr("transform",x)}if(i()){d3.select(o).attr("transform","translate("+(p+v)/2+","+f+")");d3.select(o).select(".v-m-title .v-title.viz-title-label").attr("x",0);d3.select(o).select(".v-m-title .v-title.viz-title-label").attr("y",0);y.appendChild(o)}y.appendChild(n);d3.select(y).attr("viewBox","0"+" "+"0"+" "+(p+m+v)+" "+(v+c));d3.select(u).select(".v-background-body.viz-plot-background.v-morphable-background").attr("width",p+m+v);d3.select(u).select(".v-background-body.viz-plot-background.v-morphable-background").attr("height",v+c)}y.appendChild(s);d3.select(y).attr("width",e["width"]);d3.select(y).attr("height",e["height"]);d3.select(y).attr("preserveAspectRatio","xMidYMid meet");d3.select(y).attr("text-rendering","geometricPrecision");d3.select(y).append("style").text("^@@ToBeReplaced:svg'sCSS##$$^");try{a=(new XMLSerializer).serializeToString(y)}catch(e){}var M=d3.select(y)[0][0].getElementsByTagName("clipPath");var S;S=/viewbox/g;a=a.replace(S,"viewBox");S=/preserveaspectratio/g;a=a.replace(S,"preserveAspectRatio");for(var z=0;z<M.length;z++){S=new RegExp(M[z].id,"g");a=a.replace(S,"clipPath-"+h.guid())}var D=a.search(">")+1;var E=a.substr(0,D);S=/\w+:\w+:\w+/g;E=E.replace(S,function(e){var t=e.split(":");return t[1]+":"+t[2]});S=/\s\S*:NS\S*/g;E=E.replace(S,"");a=E+a.substr(D);S=/<feMerge>.*<\/feMerge>/g;a=a.replace(S,"")}return a};j.prototype.applyFormatConditions=function(e,t,a,i){var r=function(e,t){var a={drawingEffect:i._pie_props.drawingEffect,fillColor:t.color,direction:"vertical",graphType:"sector",radius:i._pie_wrapper.data()[0].or};var r=i._pie_effectManager.register(a);var s;for(s=0;s<e.length;s++){e[s].setAttribute("fill",r)}};b.applyConditons(e,t,a,r)};j.prototype.render=function(e){this._pie_parent=e;m.drawBound(this._pie_parent,this._pie_width,this._pie_height,undefined,true);this._pie_dispatch.startToInit();this._pie_wrapper=e.selectAll("g."+E).data(this._pie_pieWrapperData(this._pie_data));var t=this._pie_wrapper;this._pie_wrapper.exit().each(function(e){document.documentElement.removeEventListener("keydown",e.keydownListener);delete e.keydownListener}).remove();var a=t.enter().append("g").attr("class",E);var i=this;t.attr("transform",function(e){if(e.p.alignCenter){return null}return"translate("+e.w/2+","+(e.p.valign==="center"?e.h/2:e.or+e.padding)+")"+"scale("+i._pie_plotScale+")"});var r=t.selectAll(function(){var e=[];Array.prototype.forEach.call(this.childNodes,function(t){if(t.tagName==="clipPath"){e.push(t)}});return e}).data(function(e){var t=[];var a=e.p.isDonut;var r=e.animation=i._pie_enableAnimation(e.p);if(a||r){t.push({innerRadius:a?e.ir:0,outerRadius:e.or+e.padding,startAngle:0,endAngle:Math.PI*2,animation:r})}return t});r.exit().remove();r.enter().append("svg:clipPath").attr("id",function(){var e,t=0;while(true){e=i._pie_clipPathIdPrefix+t++;if(!document.getElementById(e)){break}}return e}).append("svg:path").attr("clip-rule","evenodd").attr("d",U);var s=a.append("g").attr("class",C+(this._pie_props.isGeoPie?"":" "+w));if(r.length>0&&r[0].length>0&&r[0][0]&&r[0][0].id){s.attr("clip-path","url(#"+r[0][0].id+")")}t.call(R);this._pie_sectorGroup=t.select("g."+C).call(P,this._pie_effectManager,this._pie_styleManager);var o=this._fullData;if(!o){o=this._pie_data}this.applyFormatConditions(this._pie_props.formatRules,this._pie_sectorGroup,o,this);var n=this._pie_tip;var l=N.allSelected(this._pie_sectorGroup);if(this._pie_isDataSchemaChanged||this._pie_isDatasetChanged||this._pie_isPropertiesChanged){N.select(l,false);this.clear(false);if(n){n.hide()}}N.clearAll(this._pie_sectorGroup);r.filter(function(e){return e.animation}).select(":first-Child").transition().duration(S).each("end",function(e){var t=this.parentNode;var a=t.parentNode;if(a){if(e.innerRadius===0){a.removeChild(t);a.querySelector("."+C).removeAttribute("clip-path")}var r=d3.select(a).datum();r.animationEnd=true;i._pie_fireInitializedEvent.call(i,r)}}).attrTween("d",G);r.filter(function(e){return!e.animation}).select(":first-Child").attr("d",U);t.each(function(e){e.domInitialized=true;i._pie_fireInitializedEvent.call(i,e)});this._pie_isDataSchemaChanged=false,this._pie_isDataLoading=false,this._pie_isSizeChanged=false,this._pie_isDatasetChanged=false,this._pie_isPropertiesChanged=false};j.prototype._pie_enableAnimation=function(e){var t=false;if(this._pie_isDataLoading){t=e.animation.dataLoading}else if(this._pie_isDatasetChanged){t=e.animation.dataUpdating}else if(this._pie_isSizeChanged){t=e.animation.resizing}return t};j.prototype._pie_pieWrapperData=function(e){var t=this._pie_propsFunctor.apply(this,arguments);var a=this._pie_width;var i=this._pie_height;var r=this._pie_calculatePadding(a,i);var s=V(a,i,t.maxRadius,r);var o=d3.functor(this._pie_colorPalette).apply(this,arguments);var n={padding:r,w:a,h:i,p:t,or:s,ir:H(s),color:o?d3.scale.ordinal().range(o):this._pie_defaultColorPalette.copy(),measure:e.getMeasureValuesGroupDataByIdx(0).values[0],dimensions:e.getAnalysisAxisDataByIdx(0).values};n.drawingEffect=n.p.drawingEffect;return[n]};j.prototype._pie_fireInitializedEvent=function(e){if(e.domInitialized&&(!e.animation||e.animationEnd)){this._pie_dispatch.initialized()}};j.prototype._pie_hoverSector=function(e,t){e.attr("fill-opacity",t?"1":N.selected(e)?"1":null)};j.prototype.afterUIComponentAppear=function(){this._pie_dispatch.initialized()};j.prototype.dataLabel=function(e){};j.prototype.parent=function(){return this._pie_parent};j.prototype.clear=function(e){N.clear(this._pie_sectorGroup,e);this._pie_defaultSectorStyle.toAttrs(this._pie_sectorGroup.selectAll("."+k));if(this._pie_hasDefaultSelection&&!e){g.clearSelectionInfo(this._pie_parent,false,this._pie_sectorGroup)}return this};j.prototype.highlight=function(e,t){var a=d.isArray(e)?d3.selectAll(e):d3.select(e);if(!d.isArray(e)){e=[e]}a.classed(k,false);if(t){a.classed(L,false).classed(I,true)}else{a.classed(L,true).classed(I,false)}for(var i=0;i<e.length;i++){var r=y.getColorString(e[i],"fill");var s=y.colorLinerTransform(this._pie_effectManager,{factor:.7,constant:0},r);e[i].setAttribute("stroke",y.rgb2Hex(s));if(t){e[i].setAttribute("stroke-width",2)}else{e[i].setAttribute("stroke-width",1);Y(e[i],true)}}if(this._pie_hasDefaultSelection){g.clearSelectionInfo(this._pie_parent,true,e)}return this};j.prototype.unhighlight=function(e,t,a){var i=d.isArray(e)?d3.selectAll(e):d3.select(e);if(!d.isArray(e)){e=[e]}for(var r=0;r<e.length;r++){if(t){i.classed(L,true).classed(I,false)}else{i.classed(k,true).classed(L,false).classed(I,false);e[r].setAttribute("stroke","none");Y(e[r],false)}e[r].setAttribute("stroke-width",1)}if(this._pie_hasDefaultSelection){g.clearSelectionInfo(this._pie_parent,false,e)}return this};j.prototype._pie_calculatePadding=function(e,t){var a;var i=Math.min(e,t);var r=(M-1)/M/2*t;if(i<r*2){if(i<r/4*2){if(i<r/8*2){a=0}else{a=r/8}}else{a=r/4}}else{a=r}return a};j.prototype.width=function(e){if(arguments.length===0){return this._pie_width}this._pie_isSizeChanged=!this._pie_isSizeChanged&&e===this._pie_width?false:true;this._pie_width=e;return this};j.prototype.height=function(e){if(arguments.length===0){return this._pie_height}this._pie_isSizeChanged=!this._pie_isSizeChanged&&e===this._pie_height?false:true;this._pie_height=e;return this};j.prototype.size=function(e){if(arguments.length===0){return{width:this.width(),height:this.height()}}this._pie_isSizeChanged=!this._pie_isSizeChanged&&e.width===this._pie_width&&e.height===this._pie_height?false:true;this._pie_width=e.width;this._pie_height=e.height;return this};j.prototype.data=function(e){if(arguments.length===0){return this._pie_data}this._pie_isDatasetChanged=true;this._pie_isDataSchemaChanged=false;if(!_().hasSameSchema(this._pie_data,e)){this._pie_isDataSchemaChanged=true}this._pie_data=e;var t=this._pie_data.getMeasureValuesGroupDataByIdx(0).values[0].rows[0][0].info;if(t&&t.defaultSelection){this._pie_hasDefaultSelection=true}else{this._pie_hasDefaultSelection=false}return this};j.prototype.dispatch=function(e){return this._pie_dispatch};j.prototype.properties=function(e){if(arguments.length===0){return this._pie_props}this._pie_isPropertiesChanged=true;p.extend(true,this._pie_props,e);this._pie_plotScale=this._pie_props.plotScale;this._pie_propsFunctor=d3.functor(this._pie_props);if(typeof props==="function"){this._pie_colorPalette=function(e,t){return this._pie_propsFunctor.apply(this,arguments).colorPalette}}else if(this._pie_props.colorPalette){this._pie_colorPalette=this._pie_props.colorPalette}return this};j.prototype.colorPalette=function(e){if(arguments.length===0){return this._pie_colorPalette||this._pie_defaultColorPalette.range()}this._pie_colorPalette=e;return this};j.prototype.destroy=function(){if(this._pie_parent){this._pie_parent.selectAll("."+O).remove();this._pie_parent=null}};j.prototype.getDataOfDataPoint=function(e){var t={context:{},dimension:[],measure:[]};var a=false;var i=e.__data__;var r=i.dimValueObjects;for(var s=0;s<r.length;s++){if(r[s].dataTransformInfo){t.dimension.push({key:r[s].val,value:""});a=true;break}}if(a){t.context=i.ctx;t.measure.push({key:i.measureLabel,value:i.val});return t}else{return null}};return j});define("sap/viz/feeds/Pie",["sap/viz/feeds/Manifest","sap/viz/data/feed/Constants"],function e(t,a){var i={id:"pie",feeds:[{id:"pieSectorColor",name:"IDS_PIESECTORCOLORNAME",type:a.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:-1},{id:"pieSectorSize",name:"IDS_PIESECTORSIZE",type:a.Type.Measure,min:1,max:1,mgIndex:1},{id:"pieDepthSize",name:"IDS_PIEDEPTHSIZE",type:a.Type.Measure,min:1,max:1,mgIndex:2}]};var r={viz:[],module:[],feeds:[i]};return r});define("sap/viz/modules/manifests/Pie",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/pie","sap/viz/feeds/Pie"],function e(t,a,i,r){var s={id:"sap.viz.modules.pie",type:a.Type.Chart,name:"pie",properties:{animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the data loading animation is enabled"},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the data updating animation is enabled"},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the resizing animation is enabled"}},description:"Settings for animations in the plot area",example:"<a href='"+a.DocExample.SnippetUrl+"8535' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:a.COLOR.SAPColorSingleAxis,description:"Set the color palette for the sectors of the pie chart",example:"<a href='"+a.DocExample.SnippetUrl+"4449' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},isDonut:{name:"isDonut",supportedValueType:"Boolean",defaultValue:false,description:"Set the chart to display as a donut or a pie. If this value is set to 'true', the chart displays as a donut. If this value is set to 'false', the chart displays as a pie."},isGeoPie:{name:"isGeoPie",supportedValueType:"Boolean",defaultValue:false,description:"Set whether the chart displays as a geo pie chart. If this value is set to 'true', the chart displays as a geo pie chart. If this value is set to 'false', the chart does not display as a geo pie chart.",isExported:false},valign:{name:"valign",supportedValueType:"String",supportedValues:["top","center"],defaultValue:"top",description:"Set the vertical aligment of the chart",isExported:false},tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set whether tooltip is enabled"},valueFormat:{name:"valueFormat",supportedValueType:"String",defaultValue:"n",description:"Set the number format of the measure value in tooltip",isExported:false},percentageFormat:{name:"percentageFormat",supportedValueType:"String",defaultValue:".0%",description:"Set the number format of the percentage label in tooltip",isExported:false},formatString:{name:"formatString",supportedValueType:"StringArray",defaultValue:null,description:'Set format string of tooltip. The first string is applied to value and the second is applied to percentage.Any character in "MDYHSAmdyhsa#?%0@" is reserved as a token for format code.'}},description:"Settings for tooltip related properties",isExported:false},drawingEffect:{name:"drawingEffect",supportedValueType:"String",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set the drawing effect of the pie",isExported:true},formatRules:{name:"formatRules",supportedValueType:"Array",isExported:true,description:'Rules to format data points, sample:  [{condition: [{Key1:"Value1", Key2:"Value2"}], color:"#00ff00"}, {condition: [{Key3:"Value3"}], color:"#00ffff"}].  Each rule has two properties: "condition" and "color". The relation among the condition object in "condition" array is "OR",  which means the data point that met any condition in the array will apply the "color".  If multiple rules could apply on the same data point, the last rule would take effect.',example:"<a href='"+a.DocExample.SnippetUrl+"8751' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},plotScale:{name:"plotScale",supportedValueType:"PositiveFloat",defaultValue:1,description:"Set the plot scale of the pie",isExported:false,isExperimental:true}},events:{initialized:a.Event.Initialized.desc,selectData:a.Event.SelectData.desc,deselectData:a.Event.DeSelectData.desc,showTooltip:a.Event.TooltipShow.desc,hideTooltip:a.Event.TooltipHide.desc},feeds:{id:"pie",configure:{pieDepthSize:null}},css:{".v-sector.viz-pie-sector":{description:"Define style for sector in pie",value:{stroke:"none"}}},fn:i};var o={viz:[],module:[s],feeds:[].concat(r.feeds)};return o});define("sap/viz/modules/datatransform",["sap/viz/base/utils/TypeUtils","sap/viz/manifest","sap/viz/base/utils/Objects","sap/viz/util/NumberUtils","sap/viz/lang/langManager"],function e(t,a,i,r,s){var o=function(e){var a=e.props(null);var o;var n={displayString:s.get("IDS_AUTOBINNINGOTHERS")},l={};var u,d,h,p,c,f,m,_;function g(){}g.data=function(e){if(!arguments.length){return o}o=e;return g};g.properties=function(e){if(!arguments.length){return a}i.extend(true,a,e);A();if(o){M(o)}return g};g.parent=function(){};function v(){u=0;d=Number.MAX_VALUE;h=0;p=Number.MAX_VALUE;c=0;f=0;m=0;_=0}function y(e){v();var a=e.getMeasureValuesGroupDataByIdx(0);var i=e.getMeasureValuesGroupDataByIdx(1);var s=e.getMeasureValuesGroupDataByIdx(2);var o=e.getMeasureValuesGroupDataByIdx(3);var n={};for(var l=0;l<a.values[0].rows.length;l++){for(var g=0;g<a.values[0].rows[l].length;g++){var y=a.values[0].rows[l][g].val;var b=i.values[0].rows[l][g].val;if(r.isNoValue(y)||r.isNoValue(b)){continue}var x=s&&s.values.length&&t.isExist(s.values[0].rows[l][g].val)?Math.abs(s.values[0].rows[l][g].val):null;var A;if(o&&o.values.length){if(t.isExist(o.values[0].rows[l][g].val)){A=Math.abs(o.values[0].rows[l][g].val)}else{A=null}}else{A=x}if(!r.isNoValue(x)){n[x]=""}c=y>c?y:c;f=y<f?y:f;m=b>m?b:m;_=b<_?b:_;u=x>u?x:u;d=x<d?x:d;h=A>h?A:h;p=A<p?A:p}}}function b(e,t){var a=false;for(var i=0;i<l.grid.column;i++){var r=0;if(a){break}r=i*l.grid.row;if(t.x>=e[r].xRange.x1&&t.x<e[r].xRange.x2||t.x===c){for(var s=0;s<l.grid.row;s++){if(t.y>=e[r+s].yRange.y1&&t.y<e[r+s].yRange.y2||t.y===m){e[r+s].indexArray.push(t.index);e[r+s].refArray.push(t.ref);a=true;break}}}}}function x(e){var t=e.getMeasureValuesGroupDataByIdx(0);var a=e.getMeasureValuesGroupDataByIdx(1);var i=t.values[0].rows.length*t.values[0].rows[0].length;if(l.sizeFactor>0&&l.sizeFactor<1&&l.numberPrecondition>0&&l.grid.row>0&&l.grid.column>0){if(i&&i>l.numberPrecondition){y(e);var r=[];var s=(c-f)/l.grid.column,o=(m-_)/l.grid.row,n=f,u=_;var d,h;for(d=0;d<l.grid.column;d++){var p={};p.x1=n;p.x2=n+s;for(h=0;h<l.grid.row;h++){var g={},v={};g.y1=u;g.y2=u+o;v.xRange=p;v.yRange=g;v.indexArray=[];v.refArray=[];r.push(v);u+=o}n+=s;u=_}for(d=0;d<t.values[0].rows.length;d++){for(h=0;h<t.values[0].rows[d].length;h++){var x={};x.x=t.values[0].rows[d][h].val;x.y=a.values[0].rows[d][h].val;x.index=h;x.ref={x:t.values[0].rows,y:a.values[0].rows,xIndex:d,yIndex:h};b(r,x)}}for(var A=0;A<r.length;A++){var M=r[A].refArray.length;if(M>0){var S=Math.round(M*l.sizeFactor);if((M&1)!==0){S++}for(;S<M;S++){var z=r[A].refArray[S].xIndex,D=r[A].refArray[S].yIndex;r[A].refArray[S].x[z][D].val=null;r[A].refArray[S].y[z][D].val=null}}}}}}function A(){if(a.autoBinning.enable){n.enable=a.autoBinning.enable;n.binNumber=a.autoBinning.binNumber}else if(a.dataSampling.enable){l.enable=a.dataSampling.enable;l.grid=a.dataSampling.grid;l.sizeFactor=a.dataSampling.sizeFactor;l.numberPrecondition=a.dataSampling.numberPrecondition}}function M(e){if(a&&o){if(n.enable){D(e)}if(l.enable){x(e)}}}function S(e,t){return t.val-e.val}function z(e){var t=e.getMeasureValuesGroupDataByIdx(0).values[0];for(var a=0;a<t.rows[0].length;a++){t.rows[0][a].index=a}t.rows[0].sort(S);var i=e.getAnalysisAxisDataByIdx(0).values;for(var r=0;r<i.length;r++){var s=[];for(var o=0;o<i[r].rows.length;o++){var n=t.rows[0][o].index;if(n!==o){s.push(i[r].rows[n])}else{s.push(i[r].rows[o])}}i[r].rows=s}}function D(e){var t=e.getMeasureValuesGroupDataByIdx(0).values[0];var i=a.autoBinning.binNumber;var r=t.rows[0].length;if(i>0&&i<r){var s=r;for(var o=0;o<t.rows[0].length;o++){t.rows[0][o].index=o;if(t.rows[0][o].val<0){s--}}if(s===0||s<=i){return}t.rows[0].sort(S);var l=e.getAnalysisAxisDataByIdx(0).values;for(var u=0;u<l.length;u++){var d=[];for(var h=0;h<l[u].rows.length;h++){var p=t.rows[0][h].index;if(p!==h){d.push(l[u].rows[p])}else{d.push(l[u].rows[h])}}l[u].rows=d}var c=0;var f;for(f=t.rows[0].length-1;f>=0;f--){if(t.rows[0][f].val<0){t.rows[0].pop();c++}}r=t.rows[0].length;for(var m=0;m<l.length;m++){var _=l[m].rows.length;for(var g=l[m].rows.length-1;g>_-c-1;g--){l[m].rows.pop()}}var v=i-1;for(var y=v+1;y<r;y++){t.rows[0][v].val+=t.rows[0][y].val}for(f=r-1;f>v;f--){t.rows[0].pop()}for(var b=0;b<l.length;b++){if(b===0){var x=r-i+1;l[b].rows[v].val=n.displayString;l[b].rows[v].dataTransformInfo={autoBinning:{othersNum:x}}}else{l[b].rows[v].val=""}for(var A=l[b].rows.length-1;A>v;A--){l[b].rows.pop()}}}}g.destroy=function(){o=null};return g};return o});define("sap/viz/modules/manifests/DataTransform",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/datatransform"],function e(t,a,i){var r={id:"sap.viz.modules.datatransform",type:a.Type.Controller,name:"dataTransform",renderto:a.RenderTo.NONE,properties:{autoBinning:{name:"autoBinning",supportedValueType:"Object",supportedValues:{enable:{name:"enable",supportedValueType:"Boolean",defaultValue:false,description:"Set whether data auto-binning is enabled."},binNumber:{name:"binNumber",supportedValueType:"PositiveInt",defaultValue:10,description:"Set the bin number."}},isExported:true,description:"Settings for the auto-binning algorithm"},dataSampling:{name:"dataSampling",supportedValueType:"Object",supportedValues:{enable:{name:"enable",supportedValueType:"Boolean",defaultValue:false,description:"Set whether data sampling is enabled."},sizeFactor:{name:"sizeFactor",supportedValueType:"PositiveInt",defaultValue:1,description:"Set the data point percentage in the original dataset"},numberPrecondition:{name:"numberPrecondition",supportedValueType:"PositiveInt",defaultValue:3e3,description:"If the data point is larger than this value, data sampling is triggered."},grid:{name:"grid",supportedValueType:"Object",supportedValues:{row:{name:"row",supportedValueType:"PositiveInt",defaultValue:3,description:"Set the number of rows in the grid."},column:{name:"column",supportedValueType:"PositiveInt",defaultValue:3,description:"Set the number of columns in the grid."}}}},isExported:true,description:"Settings for the data sampling algorithm"}},configure:null,fn:i};var s={viz:[],module:[r],feeds:[]};return s});define("sap/viz/manifests/pie/PieChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseSingleChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/Pie","sap/viz/modules/manifests/DataLabel","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/modules/manifests/DataTransform","sap/viz/chart/elements/manifests/Tooltip"],function e(t,a,i,r,s,o,n,l){var u={id:"viz/pie",name:"IDS_PIECHART",base:"riv/base/single",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",modules:{dataTransform:{id:"sap.viz.modules.datatransform",configure:{propertyCategory:"dataTransform",properties:{autoBinning:{enable:false},dataSampling:{enable:null}},propertiesOverride:{dataSampling:{isExported:false}}}},root:{configure:{propertyCategory:"general",propertiesOverride:{layout:{hideAxisTitleFirst:{isExported:false}}}},modules:{legends:{modules:{legend:{data:{aa:[1]}}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"],holdSelection:true,extensionPoints:{convertData:function(e,t){return e.getDataOfDataPoint(t)}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip"}},main:{modules:{plot:{id:"sap.viz.modules.pie",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"polarCoordinate",visible:false,type:"label and value",formatString:[["0.00%"],[]],automaticInOutside:false,outsideVisible:true},propertiesOverride:{position:{isExported:false}}}}}}}}},dependencies:{attributes:[{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]}};var d={viz:[u].concat(a.viz),module:[].concat(a.module,i.module,r.module,s.module,o.module,n.module,l.module),feeds:[].concat(a.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds)};return d});define("sap/viz/manifests/pie/DonutChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/pie/PieChart"],function e(t,a,i){var r={id:"viz/donut",name:"IDS_DONUTCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/pie",modules:{root:{modules:{main:{modules:{plot:{configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",properties:{isDonut:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isDonut:true}}}}}}}}};var s={viz:[r].concat(i.viz),module:[].concat(i.module,a.module),feeds:[].concat(i.feeds,a.feeds)};return s});define("sap/viz/impls/DonutChart",["sap/viz/manifests/pie/DonutChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/modules/piewithdepth",["sap/viz/modules/pie/sector","sap/viz/modules/pie/selection","sap/viz/util/TextUtils","sap/viz/util/ColorSeriesGenerator","sap/viz/modules/dispatch","sap/viz/base/UADetector","sap/viz/base/utils/FunctionUtils","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/ObjectUtils","sap/viz/base/utils/Objects","sap/viz/format/FormatManager","sap/viz/lang/langManager","sap/viz/modules/util/BoundUtil","sap/viz/modules/util/tooltipDataHandler","sap/viz/modules/Constants","sap/viz/util/DrawUtil","sap/viz/elements/common/SVG"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g){var v=function(e,t){var a=500,i=300,n=0;var u=null,h={};var v=Math.PI/4;var y=0,b=0,x=0,A=0,M=0,S=0,z=0;var D=0,E=0;var w=d3.scale.linear();var T=r.sap32().range();var C=false,L;var I="normal";var k=0;var O,N;var P=0;var R=s("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");var F=m.CSS.CLASS.DATAPOINTSELECTED,B=m.CSS.CLASS.DATAPOINTHOVER,V=m.CSS.CLASS.DATAPOINTDEFAULT,H="v-datashape "+m.CSS.CLASS.DATAPOINT+" "+m.CSS.CLASS.MORPHABLEDATAPOINT,U=1,G="0.4";var Y={stroke:"#ffffff","stroke-width":1};var j={"stroke-width":1};var W={"stroke-width":2};var X=t.effectManager;function K(e){c.drawBound(e,a,i);O=e;P=k*Math.PI/180;ee(e);return K}K.width=function(e){if(!arguments.length){return a}a=e;if(l.isExist(a)&&l.isExist(i)){$();w.domain([0,E]).range([0,M])}return K};K.height=function(e){if(!arguments.length){return i}i=e;if(l.isExist(a)&&l.isExist(i)){$();w.domain([0,E]).range([0,M])}return K};K.padding=function(e){if(!arguments.length){return n}n=e;if(l.isExist(a)&&l.isExist(i)){$();w.domain([0,E]).range([0,M])}return K};K.properties=function(e){if(!arguments.length){return h}d.extend(true,h,e);Q();return K};K.parent=function(){return O};K.dispatch=function(e){return R};K.afterUIComponentAppear=function(){R.initialized()};K.dataLabel=function(e){};K.setyAngle=function(e){k=e};K.data=function(e){if(!arguments.length){return u}u=e;if(l.isExist(a)&&l.isExist(i)&&l.isExist(u)){D=0;E=0;te();w.domain([0,E]).range([0,M])}return K};K.colorPalette=function(e){if(arguments.length===0){return T}T=e;return K};K.rotate=function(e){if(L==1)return K;if(arguments.length===0){return{xAngle:0,yAngle:P*180/Math.PI}}P=e.yAngle*Math.PI/180;ee(O,true);return K};K.rotateEnd=function(){O.selectAll(".v-datashapesgroup-deprecated").remove()};K.blurOut=function(){J()};K.highlight=function(e,t){if(!l.isArray(e)){e=[e]}var a;e=q(e);for(var i=0,r=e.length;i<r;i++){a=d3.select(e[i]);var s=_.getColorString(e[i].lastChild,"fill");var o=_.colorLinerTransform(X,{factor:.7,constant:0},s);j["stroke"]=W["stroke"]=_.rgb2Hex(o);if(!t){a.attr("class",F+" "+H).attr("stroke",j["stroke"]).attr("stroke-width",j["stroke-width"]);a.selectAll("*").attr("opacity",U)}else{a.attr("stroke",W["stroke"]).attr("stroke-width",W["stroke-width"]).attr("class",B+" "+H)}}};K.unhighlight=function(e,t,a){if(!l.isArray(e)){e=[e]}var i;e=q(e);for(var r=0,s=e.length;r<s;r++){i=d3.select(e[r]);var o=_.getColorString(e[r].lastChild,"fill");var n=_.colorLinerTransform(X,{factor:.7,constant:0},o);j["stroke"]=_.rgb2Hex(n);i.attr("class",V+" "+H).attr("stroke",Y["stroke"]).attr("stroke-width",Y["stroke-width"]);i.selectAll("*").attr("opacity",G);if(t){i.attr("class",F+" "+H).attr("stroke",j["stroke"]).attr("stroke-width",j["stroke-width"]);i.selectAll("*").attr("opacity",U)}else{i.attr("class",V+" "+H).attr("stroke",Y["stroke"]).attr("stroke-width",Y["stroke-width"]);if(a){i.selectAll("*").attr("opacity",U)}else{i.selectAll("*").attr("opacity",G)}}}};K.clear=function(e){var t=O.selectAll(".v-datapoint").attr("class",V+" "+H).each(function(t){d3.select(this).attr("stroke",Y["stroke"]).attr("stroke-width",Y["stroke-width"]);d3.select(this).selectAll("*").attr("opacity",e?G:U)})};K.destroy=function(){if(O){O.selectAll("."+m.CSS.CLASS.DATAPOINT).remove();O=null}};K.heightDataRange=function(e){if(!arguments.length){return{min:0,max:E}}E=e.max;if(l.isExist(a)&&l.isExist(i)){w.domain([0,E]).range([0,M])}return K};function q(e){var t,a,i=false;if(l.isArray(e)){a=e.concat();for(var r=0,s=e.length;r<s;r++){t=d3.select(e[r]);if(t.datum().part>=0){i=true;break}}}else{a=[].concat(e);t=d3.select(e);if(t.datum().part>=0){i=true}}if(i){O.selectAll(".v-datapoint").each(function(e){if(d3.select(this).datum().part>=0){a.push(d3.select(this).node())}})}return a}function Z(e,t){var r=u.getMeasureValuesGroupDataByIdx(0);var s=u.getMeasureValuesGroupDataByIdx(1);var o=u.getAnalysisAxisDataByIdx(0);var n={body:[],footer:[]};n.body.push({name:!l.isExist(r.values[0].col)?p.get("IDS_ISNOVALUE"):r.values[0].col,val:[{color:e.colorValue,shape:"circle",value:!l.isExist(e.val[0])?p.get("IDS_ISNOVALUE"):e.val[0]}]});n.body.push({name:!l.isExist(s.values[0].col)?p.get("IDS_ISNOVALUE"):s.values[0].col,val:[{color:e.colorValue,shape:"circle",value:!l.isExist(e.val[1])?p.get("IDS_ISNOVALUE"):e.val[1]}]});for(var d=0;d<o.values.length;d++){n.footer.push({label:o.values[d].col.val,value:o.values[d].rows[e.index].val})}n.point={x:t.x,y:t.y};n.plotArea={x:N.e,y:N.f,width:a,height:i};R.showTooltip(f.formatTooltipData(n))}function J(){R.hideTooltip()}function Q(){T=h.colorPalette;C=h.isDonut;I=h.drawingEffect}function $(){var e=Math.min(a,i);y=e/2;b=y*Math.cos(v);x=y/2.414;A=b/2.414;S=a/2;z=i/2+e/2-b;M=e-2*b}function ee(e,t){if(t&&o.isMobile()){e.select(".v-datashapesgroup").attr("class","v-datashapesgroup-deprecated").attr("visibility","hidden")}else{e.select(".v-datashapesgroup").remove()}var a=e.append("g").attr("class","v-datashapesgroup");var i=ae();ie(i,a);if(!t){R.initialized({name:"initialized"})}N=g.getTransformToElement(O[0][0],O[0][0].ownerSVGElement)}function te(){var e=u.getMeasureValuesGroupDataByIdx(0);var t=u.getMeasureValuesGroupDataByIdx(1);L=0;for(var a=0;a<e.values[0].rows[0].length;a++){var i=l.isNaN(e.values[0].rows[0][a].val)?0:Math.abs(e.values[0].rows[0][a].val);var r=l.isNaN(t.values[0].rows[0][a].val)?0:Math.abs(t.values[0].rows[0][a].val);D+=i;E=Math.max(E,r);if(i>0){L++}}}function ae(){var e=u.getMeasureValuesGroupDataByIdx(0);var t=u.getMeasureValuesGroupDataByIdx(1);var a=[];for(var i=0,r=P-Math.PI/2;i<e.values[0].rows[0].length;i++){if(l.isNaN(e.values[0].rows[0][i].val)||e.values[0].rows[0][i].val===0){continue}var s=l.isNaN(t.values[0].rows[0][i].val)?0:Math.abs(t.values[0].rows[0][i].val);var o={startAngle:r,endAngle:r+Math.abs(e.values[0].rows[0][i].val)/D*Math.PI*2,cy:z-w(s),colorValue:T[i%T.length],val:[e.values[0].rows[0][i].val,t.values[0].rows[0][i].val],ctx:[e.values[0].rows[0][i].ctx,t.values[0].rows[0][i].ctx],info:[e.values[0].rows[0][i].info,t.values[0].rows[0][i].info],index:i};o.topPoint1=[S+y*Math.cos(o.startAngle),o.cy+b*Math.sin(o.startAngle)];o.topPoint2=[S+y*Math.cos(o.endAngle),o.cy+b*Math.sin(o.endAngle)];o.bottomPoint1=[S+y*Math.cos(o.startAngle),z+b*Math.sin(o.startAngle)];o.bottomPoint2=[S+y*Math.cos(o.endAngle),z+b*Math.sin(o.endAngle)];if(C){o.topPoint4=[S+x*Math.cos(o.startAngle),o.cy+A*Math.sin(o.startAngle)];o.topPoint3=[S+x*Math.cos(o.endAngle),o.cy+A*Math.sin(o.endAngle)];o.bottomPoint4=[S+x*Math.cos(o.startAngle),z+A*Math.sin(o.startAngle)];o.bottomPoint3=[S+x*Math.cos(o.endAngle),z+A*Math.sin(o.endAngle)]}a.push(o);r=o.endAngle}return a}function ie(e,t){var a=oe(e);a.sort(function(e,t){if(l.isDefined(e.part)&&l.isDefined(t.part)){return e.part-t.part}var a=re(e.startAngle);var i=re(e.endAngle);var r=re(t.startAngle);var s=re(t.endAngle);if(a<Math.PI/2&&i>Math.PI/2){return 1}if(r<Math.PI/2&&s>Math.PI/2){return-1}if(i<a){return-1}if(s<r){return 1}return Math.max(e.bottomPoint1[1],e.bottomPoint2[1])-Math.max(t.bottomPoint1[1],t.bottomPoint2[1])});for(var i=0;i<a.length;i++){var r=t.append("g").attr("class",V+" "+H).attr("stroke",Y["stroke"]).attr("stroke-width",Y["stroke-width"]);r.datum(a[i]);ne(a[i],r)}}function re(e){if(e>=-Math.PI/2&&e<=Math.PI/2*3){return e}else if(e<-Math.PI/2){return re(2*Math.PI+e)}else if(e>Math.PI/2*3){return re(e-2*Math.PI)}}function se(e){var t=d3.rgb(e).hsl();return d3.hsl(t.h,t.s,t.l*.9).rgb().toString()}function oe(e){var t=e.filter(function(e,t,a){var i=re(e.startAngle);var r=re(e.endAngle);return(i<Math.PI/2||r>Math.PI/2)&&r<i});if(t.length>0){t[0].part=0;var a=re(t[0].startAngle);var i={startAngle:a<Math.PI/2?Math.PI:t[0].startAngle,endAngle:a<Math.PI/2?t[0].endAngle:0,cy:t[0].cy,colorValue:t[0].colorValue,val:t[0].val,ctx:t[0].ctx,index:t[0].index,part:a<Math.PI/2?1:2};var r={startAngle:a<Math.PI/2?t[0].startAngle:0,endAngle:a<Math.PI/2?Math.PI:t[0].endAngle,cy:t[0].cy,colorValue:t[0].colorValue,val:t[0].val,ctx:t[0].ctx,index:t[0].index,part:a<Math.PI/2?3:4};t=[i,r];for(var s=0;s<t.length;s++){t[s].topPoint1=[S+y*Math.cos(t[s].startAngle),t[s].cy+b*Math.sin(t[s].startAngle)];t[s].topPoint2=[S+y*Math.cos(t[s].endAngle),t[s].cy+b*Math.sin(t[s].endAngle)];t[s].bottomPoint1=[S+y*Math.cos(t[s].startAngle),z+b*Math.sin(t[s].startAngle)];t[s].bottomPoint2=[S+y*Math.cos(t[s].endAngle),z+b*Math.sin(t[s].endAngle)];if(C){t[s].topPoint4=[S+x*Math.cos(t[s].startAngle),t[s].cy+A*Math.sin(t[s].startAngle)];t[s].topPoint3=[S+x*Math.cos(t[s].endAngle),t[s].cy+A*Math.sin(t[s].endAngle)];t[s].bottomPoint4=[S+x*Math.cos(t[s].startAngle),z+A*Math.sin(t[s].startAngle)];t[s].bottomPoint3=[S+x*Math.cos(t[s].endAngle),z+A*Math.sin(t[s].endAngle)]}}return e.concat(t)}return e}function ne(e,t){if(C){if(l.isUndefined(e.part)){ye(e,t);fe(e,t);pe(e,t);ce(e,t);ve(e,t)}else if(e.part===0){ye(e,t);fe(e,t);me(e,t)}else if(e.part>0){he(e,t);ce(e,t);ve(e,t)}}else{if(l.isUndefined(e.part)){ge(e,t);fe(e,t);de(e,t);ce(e,t);_e(e,t)}else if(e.part===0){ge(e,t);fe(e,t)}else if(e.part>0){he(e,t);ce(e,t);_e(e,t)}}}function le(e){var t={drawingEffect:I,fillColor:e,graphType:"sectorSide"};return X.register(t)}function ue(e){var t={drawingEffect:I,fillColor:e,graphType:"3dSector"};return X.register(t)}function de(e,t){if(L==1){return}var a,i,r,s;if(e.bottomPoint1[1]>=e.bottomPoint2[1]){a=e.topPoint2;i=e.bottomPoint2;r=e.topPoint1;s=e.bottomPoint1}else{a=e.topPoint1;i=e.bottomPoint1;r=e.topPoint2;s=e.bottomPoint2}var o="M"+S+","+z+"L"+S+","+e.cy+"L"+a[0]+","+a[1]+"L"+i[0]+","+i[1]+"z";t.append("path").attr("d",o).attr("fill",le(se(e.colorValue)));o="M"+S+","+z+"L"+S+","+e.cy+"L"+r[0]+","+r[1]+"L"+s[0]+","+s[1]+"z";t.append("path").attr("d",o).attr("fill",le(se(e.colorValue)))}function he(e,t){var a,i,r,s;if(e.part===1||e.part===4){a=e.topPoint2;r=e.bottomPoint2;i=e.topPoint3;s=e.bottomPoint3}else if(e.part===2||e.part===3){a=e.topPoint1;r=e.bottomPoint1;i=e.topPoint4;s=e.bottomPoint4}var o;if(C){o="M"+a[0]+","+a[1]+"L"+i[0]+","+i[1]+"L"+s[0]+","+s[1]+"L"+r[0]+","+r[1]+"z"}else{o="M"+S+","+z+"L"+S+","+e.cy+"L"+a[0]+","+a[1]+"L"+r[0]+","+r[1]+"z"}t.append("path").attr("d",o).attr("fill",le(se(e.colorValue)))}function pe(e,t){if(L==1){me(e,t);return}var a,i,r,s,o,n,l,u;if(e.bottomPoint1[1]>=e.bottomPoint2[1]){a=e.topPoint2;i=e.topPoint3;r=e.topPoint1;s=e.topPoint4;o=e.bottomPoint2;n=e.bottomPoint3;l=e.bottomPoint1;u=e.bottomPoint4}else{a=e.topPoint1;i=e.topPoint4;r=e.topPoint2;s=e.topPoint3;o=e.bottomPoint1;n=e.bottomPoint4;l=e.bottomPoint2;u=e.bottomPoint3}var d="M"+a[0]+","+a[1]+"L"+i[0]+","+i[1]+"L"+n[0]+","+n[1]+"L"+o[0]+","+o[1]+"z";var h="M"+r[0]+","+r[1]+"L"+s[0]+","+s[1]+"L"+u[0]+","+u[1]+"L"+l[0]+","+l[1]+"z";var p=re(e.startAngle);var c=re(e.endAngle);if(p<=0&&(c>=Math.PI||c<p)||p>=Math.PI&&c>=Math.PI&&c<p){t.append("path").attr("d",d).attr("fill",le(se(e.colorValue)));t.append("path").attr("d",h).attr("fill",le(se(e.colorValue)));me(e,t)}else if(p>0&&p<Math.PI&&c>0&&c<p){me(e,t);t.append("path").attr("d",d).attr("fill",le(se(e.colorValue)));t.append("path").attr("d",h).attr("fill",le(se(e.colorValue)))}else{t.append("path").attr("d",d).attr("fill",le(se(e.colorValue)));me(e,t);t.append("path").attr("d",h).attr("fill",le(se(e.colorValue)))}}function ce(e,t){var a=re(e.startAngle);var i=re(e.endAngle);if(a>=0&&i>a&&i<=Math.PI){var r="M"+e.topPoint1[0]+","+e.topPoint1[1]+"A"+y+","+b+" 0 "+"0,1 "+e.topPoint2[0]+","+e.topPoint2[1]+"L"+e.bottomPoint2[0]+","+e.bottomPoint2[1]+"A"+y+","+b+" 0 "+"0,0 "+e.bottomPoint1[0]+","+e.bottomPoint1[1]+"z";t.append("path").attr("d",r).attr("fill",le(se(e.colorValue)))}else if((a<=0||a>=Math.PI)&&i<=Math.PI&&i>=0){var r="M"+(S+y)+","+e.cy+"A"+y+","+b+" 0 "+"0,1 "+e.topPoint2[0]+","+e.topPoint2[1]+"L"+e.bottomPoint2[0]+","+e.bottomPoint2[1]+"A"+y+","+b+" 0 "+"0,0 "+(S+y)+","+z+"z";t.append("path").attr("d",r).attr("fill",le(se(e.colorValue)))}else if(a>=0&&a<=Math.PI&&(i>=Math.PI||i<=0)){var r="M"+e.topPoint1[0]+","+e.topPoint1[1]+"A"+y+","+b+" 0 "+"0,1 "+(S-y)+","+e.cy+"L"+(S-y)+","+z+"A"+y+","+b+" 0 "+"0,0 "+e.bottomPoint1[0]+","+e.bottomPoint1[1]+"z";t.append("path").attr("d",r).attr("fill",le(se(e.colorValue)))}else if(a<=0&&(i>=Math.PI||i<a)||a>=Math.PI&&i>=Math.PI&&i<a){var r="M"+(S+y)+","+e.cy+"A"+y+","+b+" 0 "+"0,1 "+(S-y)+","+e.cy+"L"+(S-y)+","+z+"A"+y+","+b+" 0 "+"0,0 "+(S+y)+","+z+"z";t.append("path").attr("d",r).attr("fill",le(se(e.colorValue)))}else if(a>=0&&a<=Math.PI&&i>=0&&i<a){var s="M"+(S+y)+","+e.cy+"A"+y+","+b+" 0 "+"0,1 "+e.topPoint2[0]+","+e.topPoint2[1]+"L"+e.bottomPoint2[0]+","+e.bottomPoint2[1]+"A"+y+","+b+" 0 "+"0,0 "+(S+y)+","+z+"z";var o="M"+e.topPoint1[0]+","+e.topPoint1[1]+"A"+y+","+b+" 0 "+"0,1 "+(S-y)+","+e.cy+"L"+(S-y)+","+z+"A"+y+","+b+" 0 "+"0,0 "+e.bottomPoint1[0]+","+e.bottomPoint1[1]+"z";t.append("path").attr("d",s).attr("fill",le(se(e.colorValue)));t.append("path").attr("d",o).attr("fill",le(se(e.colorValue)))}}function fe(e,t){var a=re(e.startAngle);var i=re(e.endAngle);if(L===1){var r="M"+(S-y)+","+e.cy+"A"+y+","+b+" 0 "+"0,1 "+(S+y)+","+e.cy+"L"+(S+y)+","+z+"A"+y+","+b+" 0 "+"0,0 "+(S-y)+","+z+"z";t.append("path").attr("d",r).attr("fill",le(se(e.colorValue)));return}if(a<0&&i<0&&i>a||a>Math.PI&&(i>a||i<0)){var r="M"+e.topPoint1[0]+","+e.topPoint1[1]+"A"+y+","+b+" 0 "+"0,1 "+e.topPoint2[0]+","+e.topPoint2[1]+"L"+e.bottomPoint2[0]+","+e.bottomPoint2[1]+"A"+y+","+b+" 0 "+"0,0 "+e.bottomPoint1[0]+","+e.bottomPoint1[1]+"z";t.append("path").attr("d",r).attr("fill",le(se(e.colorValue)))}else if((a<0||a>Math.PI)&&i<Math.PI&&i>0){var r="M"+e.topPoint1[0]+","+e.topPoint1[1]+"A"+y+","+b+" 0 "+"0,1 "+(S+y)+","+e.cy+"L"+(S+y)+","+z+"A"+y+","+b+" 0 "+"0,0 "+e.bottomPoint1[0]+","+e.bottomPoint1[1]+"z";t.append("path").attr("d",r).attr("fill",le(se(e.colorValue)))}else if(a>0&&a<Math.PI&&(i>Math.PI||i<0)){var r="M"+(S-y)+","+e.cy+"A"+y+","+b+" 0 "+"0,1 "+e.topPoint2[0]+","+e.topPoint2[1]+"L"+e.bottomPoint2[0]+","+e.bottomPoint2[1]+"A"+y+","+b+" 0 "+"0,0 "+(S-y)+","+z+"z";t.append("path").attr("d",r).attr("fill",le(se(e.colorValue)))}else if(a<=0&&(i>=Math.PI||i<a)||a>=Math.PI&&i>=Math.PI&&i<a){var s="M"+e.topPoint1[0]+","+e.topPoint1[1]+"A"+y+","+b+" 0 "+"0,1 "+(S+y)+","+e.cy+"L"+(S+y)+","+z+"A"+y+","+b+" 0 "+"0,0 "+e.bottomPoint1[0]+","+e.bottomPoint1[1]+"z";var o="M"+(S-y)+","+e.cy+"A"+y+","+b+" 0 "+"0,1 "+e.topPoint2[0]+","+e.topPoint2[1]+"L"+e.bottomPoint2[0]+","+e.bottomPoint2[1]+"A"+y+","+b+" 0 "+"0,0 "+(S-y)+","+z+"z";t.append("path").attr("d",s).attr("fill",le(se(e.colorValue)));t.append("path").attr("d",o).attr("fill",le(se(e.colorValue)))}else if(a>0&&a<Math.PI&&i>0&&i<a){var r="M"+(S-y)+","+e.cy+"A"+y+","+b+" 0 "+"0,1 "+(S+y)+","+e.cy+"L"+(S+y)+","+z+"A"+y+","+b+" 0 "+"0,0 "+(S-y)+","+z+"z";t.append("path").attr("d",r).attr("fill",le(se(e.colorValue)))}}function me(e,t){var a=e.endAngle-e.startAngle>Math.PI?"1":"0";var i;if(L==1){i="M"+(S-x)+","+e.cy+"A"+x+","+A+" 0 1,1 "+(S+x)+","+e.cy+"L"+(S+x)+","+z+"A"+x+","+A+" 0 1,0 "+(S-x)+","+z}else{i="M"+e.topPoint4[0]+","+e.topPoint4[1]+"A"+x+","+A+" 0 "+a+",1 "+e.topPoint3[0]+","+e.topPoint3[1]+"L"+e.bottomPoint3[0]+","+e.bottomPoint3[1]+"A"+x+","+A+" 0 "+a+",0 "+e.bottomPoint4[0]+","+e.bottomPoint4[1]+"z"}t.append("path").attr("d",i).attr("fill",le(se(e.colorValue)))}function _e(e,t){if(L==1){t.append("ellipse").attr("cx",S).attr("cy",e.cy).attr("rx",y).attr("ry",b).attr("fill",ue(e.colorValue));return}var a;if(l.isUndefined(e.part)){a="M"+S+","+e.cy+"L"+e.topPoint1[0]+","+e.topPoint1[1]+"A"+y+","+b+" 0 "+(e.endAngle-e.startAngle>Math.PI?"1":"0")+",1 "+e.topPoint2[0]+","+e.topPoint2[1]+"z"}else if(e.part===1||e.part===4){a="M"+e.topPoint1[0]+","+e.topPoint1[1]+"A"+y+","+b+" 0 "+(e.endAngle-e.startAngle>Math.PI?"1":"0")+",1 "+e.topPoint2[0]+","+e.topPoint2[1]+"L"+S+","+e.cy}else if(e.part===2||e.part===3){a="M"+S+","+e.cy+"L"+e.topPoint1[0]+","+e.topPoint1[1]+"A"+y+","+b+" 0 "+(e.endAngle-e.startAngle>Math.PI?"1":"0")+",1 "+e.topPoint2[0]+","+e.topPoint2[1]}t.append("path").attr("d",a).attr("fill",ue(e.colorValue))}function ge(e,t){if(L==1){t.append("ellipse").attr("cx",S).attr("cy",z).attr("rx",y).attr("ry",b).attr("fill",le(e.colorValue)).attr("stroke",Y["stroke"]).attr("stroke-width",Y["stroke-width"]);return}var a="M"+S+","+z+"L"+e.bottomPoint1[0]+","+e.bottomPoint1[1]+"A"+y+","+b+" 0 "+(e.endAngle-e.startAngle>Math.PI?"1":"0")+",1 "+e.bottomPoint2[0]+","+e.bottomPoint2[1]+"z";t.append("path").attr("d",a).attr("fill",le(e.colorValue))}function ve(e,t){var a;if(L==1){a="M"+e.topPoint1[0]+","+e.topPoint1[1]+"A"+y+","+b+" 0 1,1 "+(e.topPoint2[0]-1)+","+e.topPoint2[1]+"M"+(e.topPoint3[0]-1)+","+e.topPoint3[1]+"A"+x+","+A+" 0 1,0 "+e.topPoint4[0]+","+e.topPoint4[1]}else if(l.isUndefined(e.part)){a="M"+e.topPoint1[0]+","+e.topPoint1[1]+"A"+y+","+b+" 0 "+(e.endAngle-e.startAngle>Math.PI?"1":"0")+",1 "+e.topPoint2[0]+","+e.topPoint2[1]+"L"+e.topPoint3[0]+","+e.topPoint3[1]+"A"+x+","+A+" 0 "+(e.endAngle-e.startAngle>Math.PI?"1":"0")+",0 "+e.topPoint4[0]+","+e.topPoint4[1]+"z"}else if(e.part===1||e.part===4){a="M"+e.topPoint1[0]+","+e.topPoint1[1]+"A"+y+","+b+" 0 "+(e.endAngle-e.startAngle>Math.PI?"1":"0")+",1 "+e.topPoint2[0]+","+e.topPoint2[1]+"L"+e.topPoint3[0]+","+e.topPoint3[1]+"A"+x+","+A+" 0 "+(e.endAngle-e.startAngle>Math.PI?"1":"0")+",0 "+e.topPoint4[0]+","+e.topPoint4[1]}else if(e.part===2||e.part===3){a="M"+e.topPoint2[0]+","+e.topPoint2[1]+"A"+y+","+b+" 0 "+(e.endAngle-e.startAngle>Math.PI?"1":"0")+",0 "+e.topPoint1[0]+","+e.topPoint1[1]+"L"+e.topPoint4[0]+","+e.topPoint4[1]+"A"+x+","+A+" 0 "+(e.endAngle-e.startAngle>Math.PI?"1":"0")+",1 "+e.topPoint3[0]+","+e.topPoint3[1]}t.append("path").attr("d",a).attr("fill",ue(e.colorValue))}function ye(e,t){var a;if(L==1){a="M"+e.bottomPoint1[0]+","+e.bottomPoint1[1]+"A"+y+","+b+" 0 1,1 "+(e.bottomPoint2[0]-1)+","+e.bottomPoint2[1]+"M"+(e.bottomPoint3[0]-1)+","+e.bottomPoint3[1]+"A"+x+","+A+" 0 1,0 "+e.bottomPoint4[0]+","+e.bottomPoint4[1]}else{a="M"+e.bottomPoint1[0]+","+e.bottomPoint1[1]+"A"+y+","+b+" 0 "+(e.endAngle-e.startAngle>Math.PI?"1":"0")+",1 "+e.bottomPoint2[0]+","+e.bottomPoint2[1]+"L"+e.bottomPoint3[0]+","+e.bottomPoint3[1]+"A"+x+","+A+" 0 "+(e.endAngle-e.startAngle>Math.PI?"1":"0")+",0 "+e.bottomPoint4[0]+","+e.bottomPoint4[1]+"z"}t.append("path").attr("d",a).attr("fill",ue(e.colorValue))}h=e.props(null);return K};return v});define("sap/viz/modules/manifests/PieWithDepth",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/piewithdepth"],function e(t,a,i){var r={id:"sap.viz.modules.piewithdepth",name:"piewithdepth",type:a.Type.Chart,properties:{colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:a.COLOR.SAPColorSingleAxis,description:"Set the color palette for sectors.",example:"<a href='"+a.DocExample.SnippetUrl+"4449' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},isDonut:{name:"isDonut",supportedValueType:"Boolean",defaultValue:false,description:"Set the chart to display as a donut or a pie. If this value is set to 'true', the chart displays as a donut. If this value is set to 'false', the chart displays as a pie."},drawingEffect:{name:"drawingEffect",description:"Set the drawing effect for the 3D elements.",supportedValueType:"String",supportedValues:["normal","glossy"],defaultValue:"normal",isExported:true}},events:{initialized:a.Event.Initialized.desc,selectData:a.Event.SelectData.desc,deselectData:a.Event.DeSelectData.desc},feeds:{id:"pie",configure:null},fn:i};var s={viz:[],module:[r],feeds:[]};return s});define("sap/viz/manifests/pie/PieWithDepthChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/pie/PieChart","sap/viz/modules/manifests/PieWithDepth","sap/viz/modules/manifests/DataLabel","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/chart/elements/utils/RotateHandler","sap/viz/chart/elements/behaviors/InteractionHelper","sap/viz/util/BoundingBox"],function e(t,a,i,r,s,o,n,l,u){var d=new n;var h=function(e,t){return d3.select(e).datum().index===d3.select(t).datum().index};var p;var c={id:"viz/pie_with_depth",name:"IDS_PIEWITHDEPTHCHART",base:"riv/base/single",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",modules:{root:{configure:{propertyCategory:"general",propertiesOverride:{layout:{hideAxisTitleFirst:{isExported:false}}}},modules:{legends:{modules:{legend:{data:{aa:[1]}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"pie_with_depth",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{selectability:{mode:"inclusive",lassoWithCtrlKey:true},preserveSelectionWhenDragging:true,dataPointsCacheable:false,holdSelection:false,extensionPoints:{isEqual:h},handlers:[{triggerKey:"pan_start_on_eventLayer",fn:function(e){var t=l.getBoundingBox(this._rootNode.select(".v-m-main > .v-bound").node());if(!u.contains(t,e.data.point)){return}p=[].concat(this._lastSelected);this.runDecoration("hideDetail","infoMode");this.runDecoration("hideDetail","actionMode");var a=this._selb_plots["main"];d.rotateStart(e,a)}},{triggerKey:"pan_move_on_eventLayer",fn:function(e){var t=l.getBoundingBox(this._rootNode.select(".v-m-main > .v-bound").node());if(!u.contains(t,e.data.point)){return}d.rotateMove(e)}},{triggerKey:"pan_end_on_eventLayer",fn:function(e){var t=l.getBoundingBox(this._rootNode.select(".v-m-main > .v-bound").node());if(!u.contains(t,e.data.point)){return}d.rotateEnd(e);if(p.length){var a=l.findPlotNodeContainingNode(e.data.target);if(a){var i=a.querySelectorAll(".v-datapoint");var r=[],s=[];for(var o=-1;++o<i.length;){for(var n=-1;++n<p.length;){if(h(i[o],p[n])){r.push(i[o]);break}}if(n>=p.length){s.push(i[o])}}this._lastSelected=r;this.runDecoration("highlightBySelecting",this._lastSelected);this.runDecoration("unhighlight",s,false,false)}}}}]}}},main:{id:"sap.viz.modules.xycontainer",configure:{propertyCategory:"xyContainer",properties:{yAngle:0},propertiesOverride:{yAngle:{isExported:true}}},modules:{plot:{id:"sap.viz.modules.piewithdepth",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"}]}};var f={viz:[c].concat(i.viz),module:[].concat(i.module,a.module,r.module,s.module,o.module),feeds:[].concat(i.feeds,a.feeds,r.feeds,s.feeds,o.feeds)};return f});define("sap/viz/manifests/pie/DonutWithDepthChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/pie/PieWithDepthChart"],function e(t,a,i){var r={id:"viz/donut_with_depth",name:"IDS_DONUTWITHDEPTHCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/pie_with_depth",modules:{root:{modules:{main:{modules:{plot:{configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",properties:{isDonut:true}}}}}}}}};var s={viz:[r].concat(i.viz),module:[].concat(i.module,a.module),feeds:[].concat(i.feeds,a.feeds)};return s});define("sap/viz/impls/DonutWithDepthChart",["sap/viz/manifests/pie/DonutWithDepthChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/xy/DualBarChart",["sap/viz/manifests/Viz","sap/viz/base/UADetector","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/xy/BarChart"],function e(t,a,i,r){var s={id:"viz/dual_bar",name:"IDS_DUALBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/bar",modules:{root:{modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the left or bottom side of an XY chart with two value axes",propertiesOverride:{indicator:{isExported:false},title:{applyAxislineColor:{isExported:true}}},properties:{type:"value",position:"bottom",indicator:{enable:true}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart",propertyCategory:"yAxis",properties:{type:"category",position:"left",indicator:{enable:true},gridline:{visible:false}},propertiesOverride:{indicator:{isExported:false},gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the right or top side of an XY chart with two value axes",propertyCategory:"xAxis2",properties:{type:"value",position:"top",gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}},label:{visible:{isExported:true},hideSubLevels:{isExported:false}}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.xAxis2",source:"range"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.plot",target:"secondDataRange",sourceModule:"root.main.xAxis",source:"range"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"secondScale"},{targetModule:"root.main.xAxis2",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.xAxis",target:"color",sourceModule:"root.main.plot",source:"secondAxisColor"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.xAxis2",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]},categoryAxis:["yAxis"],valueAxis:["xAxis2","xAxis"]};if(a.isMobile()){var o=s.modules.root.modules;o.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var n=s.dependencies.attributes;var l=s.dependencies.events;n.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});l.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});l.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});l.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});l.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});l.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});l.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});l.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});l.push({targetModule:"root.main.xAxis2",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis2"});l.push({targetModule:"root.main.xAxis2",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis2"});l.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});l.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});l.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});l.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"})}var u={viz:[s].concat(r.viz),module:[].concat(r.module,i.module),feeds:[].concat(r.feeds,i.feeds)};return u});define("sap/viz/impls/DualBarChart",["sap/viz/manifests/xy/DualBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/xy/DualCombinationChart",["sap/viz/manifests/Viz","sap/viz/base/UADetector","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/xy/CombinationChart","sap/viz/modules/manifests/xy/Combination"],function e(t,a,i,r,s){var o={id:"viz/dual_combination",name:"IDS_DUALCOMBINATIONCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/combination",modules:{root:{modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true},dataShape:{secondaryAxis:{isExported:true},secondAxis:{isExported:false}}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the category axis of an XY chart",propertyCategory:"xAxis",properties:{type:"category",indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the left or bottom side of an XY chart with two value axes",propertiesOverride:{title:{applyAxislineColor:{isExported:true}}},properties:{indicator:{enable:true}}}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the right or top side of an XY chart with two value axes",propertyCategory:"yAxis2",properties:{type:"value",position:"right",gridline:{visible:false}},propertiesOverride:{indicator:{enable:true},title:{applyAxislineColor:{isExported:true}},label:{hideSubLevels:{isExported:false}}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.plot",target:"secondDataRange",sourceModule:"root.main.yAxis2",source:"range"},{targetModule:"root.main.yAxis2",target:"scale",sourceModule:"root.main.plot",source:"secondaryScale"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.yAxis2",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.main.yAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.yAxis2",target:"color",sourceModule:"root.main.plot",source:"secondAxisColor"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]},categoryAxis:["xAxis"],valueAxis:["yAxis","yAxis2"]};if(a.isMobile()){var n=o.modules.root.modules;n.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var l=o.dependencies.attributes;var u=o.dependencies.events;l.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});u.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});u.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});u.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});u.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});u.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});u.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});u.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});u.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});u.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});u.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});u.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"});u.push({targetModule:"root.main.yAxis2",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis2"});u.push({targetModule:"root.main.yAxis2",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis2"})}var d={viz:[o].concat(r.viz),module:[].concat(r.module,i.module,s.module),feeds:[].concat(r.feeds,i.feeds,s.feeds)};return d});define("sap/viz/impls/DualCombinationChart",["sap/viz/manifests/xy/DualCombinationChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/modules/manifests/xy/HorizontalCombination",["sap/viz/modules/manifests/Module","sap/viz/modules/combination","sap/viz/modules/manifests/xy/Combination"],function e(t,a,i){var r={base:"sap.viz.modules.combination",id:"sap.viz.modules.horizontalcombination",name:"horizontalcombination",fn:a};var s={viz:[],module:[r].concat(i.module),feeds:[].concat(i.feeds)};return s});define("sap/viz/modules/manifests/xy/HorizontalLine",["sap/viz/modules/manifests/Module","sap/viz/modules/line","sap/viz/modules/manifests/xy/Line"],function e(t,a,i){var r={id:"sap.viz.modules.horizontalline",name:"horizontalline",base:"sap.viz.modules.line",fn:a};var s={viz:[],module:[r].concat(i.module),feeds:[].concat(i.feeds)};return s});define("sap/viz/manifests/xy/HorizontalCombinationChart",["sap/viz/manifests/Viz","sap/viz/base/UADetector","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/Title","sap/viz/modules/manifests/Legend","sap/viz/modules/manifests/XYContainer","sap/viz/chart/elements/manifests/Tooltip","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/HorizontalCombination","sap/viz/modules/manifests/xy/HorizontalLine","sap/viz/modules/manifests/xy/Bar","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/manifests/xy/BaseHorizontalChart","sap/viz/modules/manifests/controller/Pinch"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f){var m={base:"riv/basehorizontalchart",id:"viz/horizontal_combination",name:"IDS_HORIZONTALCOMBINATIONCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left"}}},interaction:{configure:{properties:{holdSelection:false}}},main:{modules:{yAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"yAxis",properties:{indicator:{enable:true},isKeepFirstAndLastLabel:true},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"xAxis",properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},plot:{id:"sap.viz.modules.horizontalcombination",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",propertiesOverride:{dataShape:{secondaryAxis:{isExported:false},secondAxis:{isExported:false}}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"inside"}}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.xAxis",source:"range"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]},categoryAxis:["yAxis"],valueAxis:["xAxis"]};if(a.isMobile()){var _=m.modules.root.modules;_.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var g=m.dependencies.attributes;var v=m.dependencies.events;g.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});v.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});v.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});v.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});v.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});v.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});v.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});v.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});v.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});v.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});v.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});v.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"})}var y={viz:[m].concat(c.viz),module:[].concat(c.module,i.module,r.module,s.module,o.module,n.module,l.module,u.module,d.module,h.module,p.module,f.module),feeds:[].concat(c.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds,l.feeds,u.feeds,d.feeds,h.feeds,p.feeds,f.feeds)};return y});define("sap/viz/manifests/xy/DualHorizontalCombinationChart",["sap/viz/manifests/Viz","sap/viz/base/UADetector","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/xy/HorizontalCombinationChart","sap/viz/modules/manifests/xy/HorizontalCombination","sap/viz/modules/manifests/controller/Pinch"],function e(t,a,i,r,s,o){var n={id:"viz/dual_horizontal_combination",name:"IDS_DUALHORIZONTALCOMBINATIONCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/horizontal_combination",modules:{root:{modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true},dataShape:{secondaryAxis:{isExported:true},secondAxis:{isExported:false}}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the left or bottom side of an XY chart with two value axes",propertiesOverride:{indicator:{isExported:false},title:{applyAxislineColor:{isExported:true}}},properties:{indicator:{enable:true}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart",propertyCategory:"yAxis",properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the right or top side of an XY chart with two value axes",propertyCategory:"xAxis2",properties:{type:"value",position:"top",gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}},label:{hideSubLevels:{isExported:false}}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.plot",target:"secondDataRange",sourceModule:"root.main.xAxis",source:"range"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"secondaryScale"},{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.xAxis2",source:"range"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis2",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.xAxis",target:"color",sourceModule:"root.main.plot",source:"secondAxisColor"},{targetModule:"root.main.xAxis2",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]},categoryAxis:["yAxis"],valueAxis:["xAxis2","xAxis"]};if(a.isMobile()){var l=n.modules.root.modules;l.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var u=n.dependencies.attributes;var d=n.dependencies.events;u.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});d.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});d.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});d.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});d.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});d.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});d.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});d.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});d.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});d.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});d.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});d.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"});d.push({targetModule:"root.main.xAxis2",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis2"});d.push({targetModule:"root.main.xAxis2",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis2"})}var h={viz:[n].concat(r.viz),module:[].concat(r.module,i.module,s.module,o.module),feeds:[].concat(r.feeds,i.feeds,s.feeds,o.feeds)};return h});define("sap/viz/impls/DualHorizontalCombinationChart",["sap/viz/manifests/xy/DualHorizontalCombinationChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/xy/HorizontalLineChart",["sap/viz/manifests/Viz","sap/viz/base/UADetector","sap/viz/modules/manifests/xy/HorizontalLine","sap/viz/manifests/xy/BaseHorizontalChart","sap/viz/modules/manifests/controller/Pinch"],function e(t,a,i,r,s){var o={id:"viz/horizontal_line",name:"IDS_HORIZONTALLINECHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/basehorizontalchart",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left"}}},interaction:{configure:{properties:{holdSelection:false}}},main:{modules:{yAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"yAxis",properties:{indicator:{enable:true},isKeepFirstAndLastLabel:true},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"xAxis",properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,positionPreference:true}}},plot:{id:"sap.viz.modules.horizontalline",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"getColorPalette"},{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.xAxis",source:"range"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]},categoryAxis:["yAxis"],valueAxis:["xAxis"]};if(a.isMobile()){var n=o.modules.root.modules;n.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var l=o.dependencies.attributes;var u=o.dependencies.events;l.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});u.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});u.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});u.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});u.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});u.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});u.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});u.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});u.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});u.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});u.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});u.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"})}var d={viz:[o].concat(r.viz),module:[].concat(r.module,i.module,s.module),feeds:[].concat(r.feeds,i.feeds,s.feeds)};return d});define("sap/viz/manifests/xy/DualHorizontalLineChart",["sap/viz/manifests/Viz","sap/viz/base/UADetector","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/xy/HorizontalLine","sap/viz/manifests/xy/HorizontalLineChart","sap/viz/modules/manifests/controller/Pinch"],function e(t,a,i,r,s,o){var n={id:"viz/dual_horizontal_line",name:"IDS_DUALHORIZONTALLINECHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/horizontal_line",modules:{root:{modules:{main:{id:"sap.viz.modules.xycontainer",modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"yAxis",properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the left or bottom side of an XY chart with two value axes",propertiesOverride:{indicator:{isExported:false},title:{applyAxislineColor:{isExported:true}}},properties:{indicator:{enable:true}}}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the right or top side of an XY chart with two value axes",propertiesOverride:{title:{applyAxislineColor:{isExported:true}},label:{hideSubLevels:{isExported:false}}},propertyCategory:"xAxis2",properties:{type:"value",position:"top",gridline:{visible:false}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{acceptMND:-1,max:1},regionColor:{acceptMND:0}},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"getColorPalette"},{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.xAxis2",source:"range"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.plot",target:"secondDataRange",sourceModule:"root.main.xAxis",source:"range"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"secondaryScale"},{targetModule:"root.main.xAxis2",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.main.xAxis2",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.xAxis",target:"color",sourceModule:"root.main.plot",source:"secondAxisColor"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]},categoryAxis:["yAxis"],valueAxis:["xAxis2","xAxis"]};if(a.isMobile()){var l=n.modules.root.modules;l.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var u=n.dependencies.attributes;var d=n.dependencies.events;u.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});d.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});d.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});d.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});d.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});d.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});d.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});d.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});d.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});d.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});d.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});d.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"});d.push({targetModule:"root.main.xAxis2",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis2"});d.push({targetModule:"root.main.xAxis2",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis2"})}var h={viz:[n].concat(s.viz),module:[].concat(s.module,i.module,r.module,o.module),feeds:[].concat(s.feeds,i.feeds,r.feeds,o.feeds)};return h});define("sap/viz/impls/DualHorizontalLineChart",["sap/viz/manifests/xy/DualHorizontalLineChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/xy/LineChart",["sap/viz/manifests/Viz","sap/viz/base/UADetector","sap/viz/manifests/xy/BaseVerticalChart","sap/viz/modules/manifests/xy/Line","sap/viz/modules/manifests/RootContainer","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/modules/manifests/controller/Pinch"],function e(t,a,i,r,s,o,n){var l={id:"viz/line",name:"IDS_LINECHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/baseverticalchart",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"line",orientation:"left"}}},interaction:{configure:{properties:{holdSelection:false}}},main:{modules:{yAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"yAxis",properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"xAxis",properties:{indicator:{enable:true},isKeepFirstAndLastLabel:true},propertiesOverride:{indicator:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,positionPreference:true}}},plot:{id:"sap.viz.modules.line",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"getColorPalette"},{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]},categoryAxis:["xAxis"],valueAxis:["yAxis"]};if(a.isMobile()){var u=l.modules.root.modules;u.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var d=l.dependencies.attributes;var h=l.dependencies.events;d.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});h.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});h.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});h.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});h.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});h.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});h.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});h.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});h.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});h.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});h.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});h.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"})}var p={viz:[l].concat(i.viz),module:[].concat(i.module,r.module,s.module,o.module,n.module),feeds:[].concat(i.feeds,r.feeds,s.feeds,o.feeds,n.feeds)};return p});define("sap/viz/manifests/xy/DualLineChart",["sap/viz/manifests/Viz","sap/viz/base/UADetector","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/xy/Line","sap/viz/manifests/xy/LineChart","sap/viz/chart/elements/manifests/controller/Interaction"],function e(t,a,i,r,s,o){var n={id:"viz/dual_line",name:"IDS_DIUALLINECHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/line",modules:{root:{modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"xAxis",properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the left or bottom side of an XY chart with two value axes",propertiesOverride:{indicator:{isExported:false},title:{applyAxislineColor:{isExported:true}}},properties:{indicator:{enable:true}}}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the right or top side of an XY chart with two value axes",propertyCategory:"yAxis2",properties:{type:"value",position:"right",gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}},label:{hideSubLevels:{isExported:false}}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{acceptMND:-1,max:1},regionColor:{acceptMND:0}},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"getColorPalette"},{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.plot",target:"secondDataRange",sourceModule:"root.main.yAxis2",source:"range"},{targetModule:"root.main.yAxis2",target:"scale",sourceModule:"root.main.plot",source:"secondaryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.yAxis2",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.main.yAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.yAxis2",target:"color",sourceModule:"root.main.plot",source:"secondAxisColor"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]},categoryAxis:["xAxis"],valueAxis:["yAxis","yAxis2"]};if(a.isMobile()){var l=n.modules.root.modules;l.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var u=n.dependencies.attributes;var d=n.dependencies.events;u.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});d.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});d.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});d.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});d.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});d.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});d.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});d.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});d.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});d.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});d.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});d.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"});d.push({targetModule:"root.main.yAxis2",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis2"});d.push({targetModule:"root.main.yAxis2",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis2"})}var h={viz:[n].concat(s.viz),module:[].concat(s.module,i.module,r.module,o.module),feeds:[].concat(s.feeds,i.feeds,r.feeds,o.feeds)};return h});define("sap/viz/impls/DualLineChart",["sap/viz/manifests/xy/DualLineChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/modules/stackedbar",["sap/viz/modules/Constants","sap/viz/base/utils/oo","sap/viz/modules/BaseHorizontalBar","sap/viz/modules/util/MNDHandler","sap/viz/base/utils/TypeUtils","sap/viz/util/NumberUtils","sap/viz/base/utils/ObjectUtils","sap/viz/util/Scaler","sap/viz/modules/util/BoundUtil","sap/viz/modules/util/tooltipDataHandler","sap/viz/base/UADetector","sap/viz/modules/util/ClippathUtil","sap/viz/modules/util/VizBarSizeUtil","sap/viz/elements/common/SVG"],function(e,t,a,i,r,s,o,n,l,u,d,h,p,c){var f=e.CSS.CLASS.DATAPOINT,m="."+f,_=e.CSS.CLASS.MORPHABLEDATAPOINT;var g=f+" "+_;var v="v-datashapesgroup";var y=function(e,t,a){var i=-1,o=-1;this._stkbar_positiveIndexes=[[],[]],this._stkbar_negativeIndexes=[[],[]];this._primaryAxisTopBoundary=this._primaryAxisBottomBoundary=0;this._secondaryAxisTopBoundary=this._secondaryAxisBottomBoundary=0;var n=[];this._stkbar_barGroupNumber=e[0].length;var l,u;for(var d=0;d<this._stkbar_barGroupNumber;d++){var h=[],p=[];var c=[];l=0,u=0;i=-1,o=-1;for(var f=0;f<e.length;f++){e[f][d].valueScale=0;if(s.isNoValue(e[f][d].val)){e[f][d].val=null;e[f][d].isNaN=true}else{if(e[f][d].val>=0){l+=e[f][d].val;i=f}else{u+=e[f][d].val;o=f}}h.push(e[f][d])}this._stkbar_positiveIndexes[0].push(i);this._stkbar_negativeIndexes[0].push(o);if(this._primaryAxisTopBoundary<l){this._primaryAxisTopBoundary=l}if(this._primaryAxisBottomBoundary>u){this._primaryAxisBottomBoundary=u}c.push(h);this._init_primaryAxisTopBoundary=this._primaryAxisTopBoundary;this._init_primaryAxisBottomBoundary=this._primaryAxisBottomBoundary;if(r.isExist(t)){l=0,u=0;i=-1,o=-1;for(f=0;f<t.length;f++){i=0,o=-1;t[f][d].valueScale=1;if(s.isNoValue(t[f][d].val)){t[f][d].val=null;t[f][d].isNaN=true}else{if(t[f][d].val>=0){l+=t[f][d].val;i=f}else{u+=t[f][d].val;o=f}}p.push(t[f][d])}this._stkbar_positiveIndexes[1].push(i);this._stkbar_negativeIndexes[1].push(o);if(this._secondaryAxisTopBoundary<l){this._secondaryAxisTopBoundary=l}if(this._secondaryAxisBottomBoundary>u){this._secondaryAxisBottomBoundary=u}c.push(p);this._init_secondaryAxisTopBoundary=this._secondaryAxisTopBoundary;this._init_secondaryAxisBottomBoundary=this._secondaryAxisBottomBoundary}n.push(c)}return n};function b(){for(var e=0,t=this._seriesData.length;e<t;e++){for(var a=0,i=this._seriesData[e],s=this._stkbar_tooltipData[e];a<i.length;a++){var o=0,n=0,l;for(l=0;l<i[a].length;l++){o+=Math.abs(i[a][l].val);if(!i[a][l].isNaN){n++}}if(o===0){for(l=0;l<i[a].length;l++){i[a][l].value=r.isExist(i[a][l].value)?i[a][l].value:i[a][l].val;i[a][l].val=i[a][l].isNaN?0:1/n;if(r.isExist(s[a])&&r.isExist(s[a][l])){s[a][l].val=s[a][l].isNaN?" ":1/n}}}else{for(l=0;l<i[a].length;l++){if(i[a][l].val<0){i[a][l].isNegative=true}i[a][l].value=r.isExist(i[a][l].value)?i[a][l].value:i[a][l].val;i[a][l].val=Math.abs(i[a][l].val/o);if(r.isExist(s[a])&&r.isExist(s[a][l])){s[a][l].val=s[a][l].isNaN?" ":s[a][l].val/o}}}}}}function x(){if(++this._stkbar_currentAnimationCount===this._stkbar_totalAnimationCount){this._eDispatch.initialized();this._stkbar_afterAttachToDOM=true}}var A=function(){A.superclass.constructor.apply(this,arguments);this._stkbar_mode="comparison";this._data1=[[]];this._data2=[[]];this._stkbar_tooltipData=null;this._stkbar_tooltipHandlerObj=null;this._stkbar_barNumber=0,this._stkbar_barHeight=0,this._stkbar_barNumberinGroup=0,this._stkbar_barGroupNumber=0,this._stkbar_currentAnimationCount=0;this._stkbar_totalAnimationCount=0;this._stkbar_afterAttachToDOM=false;this._stkbar_id=Math.floor(Math.random()*1e4);this._stkbar_positiveIndexes=[],this._stkbar_negativeIndexes=[];this._gapObj=null};A.prototype.refresh=function(){var e=Math.log(this._stkbar_barHeight)/Math.log(2);if(e<0){this._enableRoundCorner=false}var t=this._datashapesgroup.selectAll("g.v-stackedbar");var a=t.selectAll("g.v-axisGroup");var i=a.selectAll("g.v-datashape"),r=i.select("rect");var s,o,n,l=this;var u=0,d=0;var h,p,f,m;var _=this._isDualAxis===true?2:1;if(l.enableAnimation()){r.attr("x",function(e,t,a){f=c.getTransformToElement(this.parentNode,this.parentNode.parentNode).e;if(t===0){u=0;d=0}s=e.valueScale===0?l._valueAxis1.scale:l._valueAxis2.scale;m=e.valueScale===0?l._stkbar_barHeight/2:l._stkbar_barHeight*1.625;p=l._categoryScale(Math.floor(a/_))+m;if(e.val>=0){h=s(u);u+=e.val}else{d+=e.val;h=s(d)}this.parentNode.setAttribute("transform","translate("+h+","+p+")");return f-h}).attr("width",function(e){s=e.valueScale===0?l._valueAxis1.scale:l._valueAxis2.scale;o=parseFloat(this.width.baseVal.value);n=Math.abs(s(e.val)-s(0));return o>n?o:n});S.call(l,r,e)}else{i.attr("transform",function(e,t,a){if(t===0){u=0;d=0}s=e.valueScale===0?l._valueAxis1.scale:l._valueAxis2.scale;m=e.valueScale===0?l._stkbar_barHeight/2:l._stkbar_barHeight*1.625;p=l._categoryScale(Math.floor(a/_))+m;if(e.val>=0){h=s(u);u+=e.val}else{d+=e.val;h=s(d)}return"translate("+h+","+p+")"});z.call(l,r,e)}};A.prototype.draw=function(){var e=Math.log(this._stkbar_barHeight)/Math.log(2);if(e<0){this._enableRoundCorner=false}var t=8*this._categoryScale.rangeBand()/(9*this._stkbar_barNumberinGroup+7);var a=this,i=[];for(var r=0;r<this._seriesData.length;r++){i[r]=[];for(var s=0;s<this._seriesData[r].length;s++){i[r][s]=[];for(var o=0,n=this._seriesData[r][s].length;o<n;o++){i[r][s][o]=this._seriesData[r][s][n-o-1]}}}var l=this._datashapesgroup.selectAll("g.v-stackedbar").data(i);l.enter().append("g").classed("v-stackedbar",true);var u=l.selectAll("g.v-axisGroup").data(function(e){return e});u.enter().append("g").classed("v-axisGroup",true);var d=u.selectAll("g.v-datashape").data(function(e){return e});d.enter().append("g").classed("v-datashape",true).append("rect").classed(f,true).classed(_,true);d.exit().remove();u.exit().remove();var h,p;var c=0,v=0;var y=this._isDualAxis===true?2:1;var b,x;d.attr("transform",function(e,t,i){if(t===0){c=0;v=0}h=e.valueScale===0?a._valueAxis1.scale:a._valueAxis2.scale;p=e.valueScale===0?a._stkbar_barHeight/2:a._stkbar_barHeight*1.625;b=a._categoryScale(Math.floor(i/y))+p;if(e.val>=0){x=h(c);c+=e.val}else{v+=e.val;x=h(v)}return"translate("+x+","+b+")"});var A;var S=d.select("rect"+m);S.attr("fill",function(e,t,r){var s,o=r;for(var n=0;n<i.length;n++){if(o>=i[n].length){o-=i[n].length}else{s=n;break}}A=e.valueScale===0?a._axis1ColorPalette:a._axis2ColorPalette;e.fillColor=A[(i[s][o].length-t-1)%A.length];var l={drawingEffect:a._drawingEffect,fillColor:e.fillColor,direction:"vertical"};return a._effectManager.register(l)}).attr("class",g).attr("shape-rendering","crispEdges").attr("fill-opacity",1).attr("stroke","none");if(a.enableAnimation()){M.call(a,S,e,t)}else{z.call(a,S,e)}l.exit().remove()};A.prototype.render=function(e,t){l.drawBound(e,this._width,this._height,undefined,true);if(d.isMobile()&&this._props.drawClipPath!==false){var a=h.drawClippath(e,this._width,this._height);e.attr("clip-path","url(#"+a+")")}if(this._stkbar_mode==="percentage"){b.call(this)}this._stkbar_tooltipHandlerObj=u();if(!r.isExist(this._valueAxis1.scale)&&!r.isExist(this._valueAxis2.scale)){return}this._eDispatch.startToInit();this._stkbar_barNumber=r.isExist(this._data2)?2:1;this._stkbar_barHeight=8*this._categoryScale.rangeBand()/(9*this._stkbar_barNumber+7);this._stkbar_barNumberinGroup=this._seriesData[0][0].length+(r.isExist(this._seriesData[0][1])?this._seriesData[0][1].length:0);var i=8*this._categoryScale.rangeBand()/(9*this._stkbar_barNumberinGroup+7);this._stkbar_currentAnimationCount=0;this._stkbar_totalAnimationCount=this._stkbar_barNumberinGroup*this._seriesData.length;var s=this._d3root=e;if(this._defsEnter===null){this._defsEnter=s.append("defs").append("clipPath").attr("id","clipPlot_"+this._stkbar_id).append("rect").attr("width",this._width).attr("height",this._height)}else{this._defsEnter.attr("width",this._width).attr("height",this._height)}if(this._roundCornerDefs===null){this._roundCornerDefs=s.append("defs").attr("id","round-corner-clip"+this.suffix)}else{if(this._dataStructureChange||this._sizeChange||this._dataValueChange||!this._enableRoundCorner){this._roundCornerDefs.selectAll(".v-clippath").remove()}}this._datashapesgroup=s.selectAll("g."+v);if(!r.isExist(this._datashapesgroup[0][0])){this._datashapesgroup=s.append("g").attr("class",v);if(!d.isMobile()){this._datashapesgroup.attr("clip-path","url(#clipPlot_"+this._stkbar_id+")")}}if(this._dataStructureChange||this._dataValueChange||this._propertiesChange){this.draw()}else{this.refresh()}if(d.isMobile()&&!t&&this._d3root){this._d3root.select("."+v).attr("transform",null)}if(!this.enableAnimation()){if(t&&t.isPinching){this._eDispatch.initialized({eventSource:"pinch"})}else{this._eDispatch.initialized()}}this._sizeChange=false,this._dataValueChange=false,this._dataStructureChange=false,this._propertiesChange=false;this._isOnlyInitAnimation=true;this._lastHovered=null;var o=this._fullData;if(!o){o=this._data}this.applyFormatConditions(this._props.formatRules,e,o,this);return this};function M(e,t,a){var i=this;var r,s;e.attr("height",p.fixDecimal(a)).attr("y",function(e,t,r){if(e.valueScale===0){s=-i._stkbar_barHeight/2+a*(t*1.125+.5)}else{s=i._stkbar_barHeight/8+a*(t*1.125+.5)}return s}).attr("x",function(e,t,a){r=e.valueScale===0?i._valueAxis1.scale:i._valueAxis2.scale;return e.val>0?0:r(0)-r(e.val)}).attr("width",0);if(i._enableRoundCorner){D.call(i,"dataChange",e,t,a)}e.transition().duration(i._totalIntervalTime/2).attr("width",function(e,t,a){r=e.valueScale===0?i._valueAxis1.scale:i._valueAxis2.scale;return Math.abs(r(e.val)-r(0))}).attr("x",0).each("end",function(e,t){r=e.valueScale===0?i._valueAxis1.scale:i._valueAxis2.scale;this.setAttribute("x",0);this.setAttribute("width",Math.abs(r(e.val)-r(0)));d3.select(this).transition().duration(i._totalIntervalTime/2).attr("height",i._stkbar_barHeight).attr("y",0).each("end",function(){this.setAttribute("height",i._stkbar_barHeight);this.setAttribute("y",0);x.call(i)})})}function S(e,t){var a=this;var i;e.transition().duration(a._totalIntervalTime/2).attr("width",function(e){i=e.valueScale===0?a._valueAxis1.scale:a._valueAxis2.scale;return Math.abs(i(e.val)-i(0))}).attr("x",0).attr("y",0).attr("height",p.fixDecimal(a._stkbar_barHeight)).each("end",function(e){i=e.valueScale===0?a._valueAxis1.scale:a._valueAxis2.scale;this.setAttribute("x",0);this.setAttribute("height",a._stkbar_barHeight);this.setAttribute("y",0);this.setAttribute("width",Math.abs(i(e.val)-i(0)));x.call(a)});if(a._enableRoundCorner){D.call(a,"sizeChange",e,t)}}function z(e,t){var a=this;var i;e.attr("y",0).attr("x",0).attr("width",function(e,t){i=e.valueScale===0?a._valueAxis1.scale:a._valueAxis2.scale;return Math.abs(i(e.val)-i(0))}).attr("height",p.fixDecimal(a._stkbar_barHeight));if(a._enableRoundCorner){D.call(a,"none",e,t)}}function D(e,t,a,i){var r=this;var s=function(){switch(e){case"none":T.call(r,t,a);break;case"dataChange":E.call(r,t,a,i);break;case"sizeChange":w.call(r,t,a);break;default:w.call(r,t,a);break}};if(d.isSafari()&&d.os()==="Windows"||d.isMobile()){window.setTimeout(s,0)}else{s()}}function E(e,t,a){var i=this;var r,s=this._isDualAxis?2:1,o;e.attr("clip-path",function(e,r,n){o=Math.floor(n/s);if(r===i._stkbar_negativeIndexes[e.valueScale][o]||r===i._stkbar_positiveIndexes[e.valueScale][o]){var l="roundCorner-clip"+"-"+n+r+e.valueScale+i._suffix;var u=i._roundCornerDefs.append("clipPath").attr("id",l).attr("class","v-clippath").append("rect").attr("class","roundCorner-clip").attr("rx",t).attr("ry",t).attr("y",this.y.baseVal.value).attr("height",a).attr("width",0).attr("x",this.x.baseVal.value).transition().duration(i._totalIntervalTime/2).attr("x",function(){if(r===i._stkbar_negativeIndexes[e.valueScale][o]){return 0}else{return 0-t}}).attr("width",function(){var a=e.valueScale===0?i._valueAxis1.scale:i._valueAxis2.scale;return Math.abs(a(e.val)-a(0))+t}).transition().delay(i._totalIntervalTime/2).duration(i._totalIntervalTime/2).attr("height",i._stkbar_barHeight).attr("y",0);return"url(#"+l+")"}})}function w(e,t){var a=this;var i,r=this._isDualAxis?2:1,s;e.attr("clip-path",function(e,o,n){s=Math.floor(n/r);if(o===a._stkbar_negativeIndexes[e.valueScale][s]||o===a._stkbar_positiveIndexes[e.valueScale][s]){var l="roundCorner-clip"+"-"+n+o+e.valueScale+a._suffix;var u=parseFloat(this.x.baseVal.value);var d=a._roundCornerDefs.append("clipPath").attr("id",l).attr("class","v-clippath").append("rect").attr("class","v-roundCorner-clip").attr("rx",t).attr("ry",t).attr("y",this.y.baseVal.value).attr("height",this.height.baseVal.value).attr("width",this.width.baseVal.value+t).attr("x",function(){return u-(o===a._stkbar_negativeIndexes[e.valueScale][s]?0:t)}).transition().duration(a._totalIntervalTime/2).attr("x",function(){if(o===a._stkbar_negativeIndexes[e.valueScale][s]){return 0}else{return 0-t}}).attr("width",function(){i=e.valueScale===0?a._valueAxis1.scale:a._valueAxis2.scale;return Math.abs(i(e.val)-i(0))+t}).attr("height",a._stkbar_barHeight).attr("y",0);return"url(#"+l+")"}})}function T(e,t){var a=this;var i,r=this._isDualAxis?2:1,s;e.attr("clip-path",function(e,o,n){s=Math.floor(n/r);if(o===a._stkbar_negativeIndexes[e.valueScale][s]||o===a._stkbar_positiveIndexes[e.valueScale][s]){var l="roundCorner-clip"+"-"+n+o+e.valueScale+a._suffix;var u=a._roundCornerDefs.append("clipPath").attr("id",l).attr("class","v-clippath").append("rect").attr("class","v-roundCorner-clip").attr("rx",t).attr("ry",t).attr("y",this.y.baseVal.value).attr("height",a._stkbar_barHeight).attr("width",function(){i=e.valueScale===0?a._valueAxis1.scale:a._valueAxis2.scale;return Math.abs(i(e.val)-i(0))+t});if(o===a._stkbar_negativeIndexes[e.valueScale][s]){u.attr("x",0)}else{u.attr("x",0-t)}return"url(#"+l+")"}})}A.prototype.primaryDataRange=function(e){if(!arguments.length){var t,a;if(this._stkbar_mode==="percentage"){t=1;a=0}else{a=this._primaryAxisBottomBoundary;t=this._primaryAxisTopBoundary}return{min:a,max:t}}var i,s;if(e!==null){if(!isNaN(e.max)){i=e.max}else{i=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(e.min)){s=e.min}else{s=this._valueAxis1.scale.perfectDomainBegin}if(i>s){this._primaryAxisTopBoundary=i;this._primaryAxisBottomBoundary=s;if(e.from==="axis"){this._primaryAxisManualRange=true}if(r.isExist(this._width)&&r.isExist(this._height)){this.makeScales()}}}else{if(this._primaryAxisManualRange===true){this._primaryAxisTopBoundary=this._init_primaryAxisTopBoundary;this._primaryAxisBottomBoundary=this._init_primaryAxisBottomBoundary;this._primaryAxisManualRange=false;if(r.isExist(this._width)&&r.isExist(this._height)){this.makeScales()}}}return this};A.prototype.secondDataRange=function(e){if(!arguments.length){var t,a;if(this._stkbar_mode==="percentage"){t=1;a=0}else{a=this._secondaryAxisBottomBoundary;t=this._secondaryAxisTopBoundary}return{min:a,max:t}}var i,s;if(e!==null){if(!isNaN(e.max)){i=e.max}else{i=this._valueAxis2.scale.perfectDomainEnd}if(!isNaN(e.min)){s=e.min}else{s=this._valueAxis2.scale.perfectDomainBegin}if(i>s){this._secondaryAxisTopBoundary=i;this._secondaryAxisBottomBoundary=s;if(e.from==="axis"){this._secondaryAxisManualRange=true}if(r.isExist(this._width)&&r.isExist(this._height)){this.makeScales()}}}else{if(this._secondaryAxisManualRange===true){this._secondaryAxisTopBoundary=this._init_secondaryAxisTopBoundary;this._secondaryAxisBottomBoundary=this._init_secondaryAxisBottomBoundary;this._secondaryAxisManualRange=false;if(r.isExist(this._width)&&r.isExist(this._height)){this.makeScales()}}}return this};A.prototype.secondAxisColor=function(){if(r.isExist(this._seriesData[0][1])&&!this._hasMNDonCategoryAxis){return this._axis2ColorPalette[this._seriesData[0][1].length-1]}else{return undefined}};A.prototype.parseOptions=function(){this._enableRoundCorner=this._props.isRoundCorner;this._stkbar_mode=this._props.mode==="percentage"?"percentage":"comparison";this._enableDataLoadingAnimation=this._props.animation.dataLoading;this._enableDataUpdatingAnimation=this._props.animation.dataUpdating;this._enableResizingAnimation=this._props.animation.resizing;this._tooltipVisible=this._props.tooltip.enabled;if(this._isDualAxis&&!this._hasMNDonCategoryAxis){this._axis1ColorPalette=this._props.primaryValuesColorPalette;this._axis2ColorPalette=this._props.secondaryValuesColorPalette}else{this._axis2ColorPalette=this._props.colorPalette;this._axis1ColorPalette=this._props.colorPalette}this._drawingEffect=this._props.drawingEffect;var e=this._data1.length;this._colorPalette=[];var t,a;if(this._MNDInnerOnColor){var i=0,s=0;for(t=0;t<this._seriesData[0][0].length;t++){this._colorPalette.push(this._axis1ColorPalette[t%this._axis1ColorPalette.length]);i++;if(i===this._measureOnAxis1&&this._isDualAxis&&r.isExist(this._seriesData[0][1])){s=0;for(a=0;a<=this._seriesData[0][1].length;a++){if(s>=this._measureOnAxis2){i=0;break}this._colorPalette.push(this._axis2ColorPalette[a%this._axis2ColorPalette.length]);s++}}}}else{for(t=0;t<this._seriesData[0].length;t++){for(a=0;a<this._seriesData[0][0].length;a++){this._colorPalette.push(this._axis1ColorPalette[a%this._axis1ColorPalette.length])}if(this._isDualAxis&&r.isExist(this._seriesData[0][1])){for(a=0;a<this._seriesData[0][1].length;a++){this._colorPalette.push(this._axis2ColorPalette[a%this._axis2ColorPalette.length])}}}}};A.prototype.parseData=function(){var e=i(this._data);var t=e["MG1"];var a=e["MG2"];this._measureOnAxis1=e.MG1Number;this._measureOnAxis2=e.MG2Number||0;this._MNDInnerOnColor=e.MNDOnColor&&e.MNDInner;this._stkbar_tooltipData=[];var s;if(t[0]&&t[0][0].info&&t[0][0].info.defaultSelection){this._hasDefaultSelection=true}else{this._hasDefaultSelection=false}if(r.isExist(e.color)){this._hasMNDonCategoryAxis=true;this._isDualAxis=true;var n=[],l=[];var u=[],d=[];for(s=0;s<t.length;s++){n=[];l=[];for(var h=0;h<t[s].length;h++){if(e.color[h]===0){n.push(t[s][h]);l.push({val:null,hasMNDonCategoryAxis:true})}else{n.push({val:null,hasMNDonCategoryAxis:true});l.push(t[s][h])}}u.push(n);d.push(l)}t=u;a=d}else{this._hasMNDonCategoryAxis=false;if(r.isExist(a)){if(!this._dataStructureChange&&(this._data2.length!==a.length||this._data2[0].length!==a[0].length)){this._dataStructureChange=true}this._isDualAxis=true}else{this._isDualAxis=false}}if(this._data1.length!==t.length||this._data1[0].length!==t[0].length){this._dataStructureChange=true}var p=y.call(this,t,a,e.color);if(!this._dataStructureChange){this._dataValueChange=true}this._seriesData=p;this._data1=t;this._data2=a;if(this._hasMNDonCategoryAxis){for(s=0;s<this._seriesData.length;s++){var c=this._seriesData[s];if(c[0][0].hasMNDonCategoryAxis){this._stkbar_tooltipData.push(c[1])}else{this._stkbar_tooltipData.push(c[0])}}}else{this._stkbar_tooltipData=o.extend(true,{},this._seriesData)}if(r.isExist(this._width)&&r.isExist(this._height)){this.makeScales()}this.parseOptions();return this};A.prototype.setAxisGap=function(e){this._gapObj=e};A.prototype.makeScales=function(){var e=[];for(var t=0;t<this._seriesData.length;t++){e.push(t)}this._categoryScale.domain(e).rangeBands([0,this._height]);if(this._stkbar_mode==="percentage"){this._valueAxis1.scale.domain([0,1]).range([0,this._width]);this._valueAxis2.scale.domain([0,1]).range([0,this._width]);n.perfect(this._valueAxis1.scale);n.perfect(this._valueAxis2.scale)}else{if(this._primaryAxisBottomBoundary===0&&this._primaryAxisTopBoundary===0){this._valueAxis1.scale.domain([0,1]).range([0,this._width])}else{this._valueAxis1.scale.domain([this._primaryAxisBottomBoundary,this._primaryAxisTopBoundary]).range([0,this._width])}if(r.isExist(this._data2)||this._isDualAxis){if(this._secondaryAxisTopBoundary===0&&this._secondaryAxisBottomBoundary===0){this._valueAxis2.scale.domain(this._valueAxis1.scale.domain()).range(this._valueAxis1.scale.range())}else{this._valueAxis2.scale.domain([this._secondaryAxisBottomBoundary,this._secondaryAxisTopBoundary]).range([0,this._width]);if(this._primaryAxisBottomBoundary===0&&this._primaryAxisTopBoundary===0){this._valueAxis1.scale.domain(this._valueAxis2.scale.domain()).range(this._valueAxis2.scale.range())}}if(!this._primaryAxisManualRange&&!this._secondaryAxisManualRange){n.perfectDual(this._valueAxis1.scale,this._valueAxis2.scale)}else if(!this._primaryAxisManualRange&&this._secondaryAxisManualRange){n.perfect(this._valueAxis1.scale);n.getRoughTickNum(this._valueAxis2.scale)}else if(this._primaryAxisManualRange&&!this._secondaryAxisManualRange){n.perfect(this._valueAxis2.scale);n.getRoughTickNum(this._valueAxis1.scale)}else{n.getRoughTickNum(this._valueAxis1.scale);n.getRoughTickNum(this._valueAxis2.scale)}}else{if(!this._primaryAxisManualRange){n.perfect(this._valueAxis1.scale)}else{n.getRoughTickNum(this._valueAxis1.scale)}}}if(!r.isExist(this._data2)){this._valueAxis2.scale.range([0,0])}var a=0;var i=0;if(this._gapObj){if(this._gapObj.startGap){a=this._gapObj.startGap}if(this._gapObj.endGap){i=this._gapObj.endGap}}n.adjustGap(a,i,this._valueAxis1.scale);n.adjustGap(a,i,this._valueAxis2.scale)};A.prototype.destroy=function(){if(this._d3root){this._d3root.selectAll(m).remove()}};A.prototype.getDataOfDataPoint=function(e){var t={};if(e&&e.__data__){t=this._rawData.ctx2ArrayData(e.__data__.ctx);if(t){if(t.measure){for(var a in t.measure){if(e.__data__.val){t.measure[a].value=e.__data__.val;break}}}t.context=e.__data__.ctx}}return t};t.extend(A,a);return A});define("sap/viz/modules/manifests/xy/StackedBar",["sap/viz/modules/manifests/Module","sap/viz/modules/stackedbar","sap/viz/modules/manifests/xy/Bar"],function e(t,a,i){var r={id:"sap.viz.modules.stackedbar",name:"stacked bar",base:"sap.viz.modules.bar",properties:{mode:{name:"mode",supportedValueType:"String",supportedValues:["comparison","percentage"],defaultValue:"comparison",description:"Set the display mode for stacked bar charts",isExported:true,updatable:false}},fn:a};var s={viz:[],module:[r].concat(i.module),feeds:[].concat(i.feeds)};return s});define("sap/viz/manifests/xy/DualStackedBarChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/xy/StackedBar","sap/viz/manifests/xy/DualBarChart"],function e(t,a,i,r){var s={id:"viz/dual_stacked_bar",name:"IDS_DUALSTACKEDBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/dual_bar",modules:{root:{modules:{main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false,position:"inside"},propertiesOverride:{position:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"yAxis",properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"xAxis",properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},plot:{id:"sap.viz.modules.stackedbar",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}}}}}}}};var o={viz:[s].concat(r.viz),module:[].concat(r.module,a.module,i.module),feeds:[].concat(r.feeds,a.feeds,i.feeds)};return o});define("sap/viz/manifests/xy/DualPercentageStackedBarChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/xy/StackedBar","sap/viz/manifests/xy/DualStackedBarChart"],function e(t,a,i,r){var s={id:"viz/100_dual_stacked_bar",name:"IDS_DUALPERCENTAGESTACKEDBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/dual_stacked_bar",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousedown","mousemove","mouseover","mouseout","touchstart"],holdSelection:true,extensionPoints:{convertData:function(e,t){return e.getDataOfDataPoint(t)}}}}},main:{modules:{plot:{id:"sap.viz.modules.stackedbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,showZero:true,position:"inside"},propertiesOverride:{position:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"yAxis",properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart",propertyCategory:"xAxis",properties:{isPercentMode:true,indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart",propertyCategory:"xAxis2",properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"100_dual_stacked_bar",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}}}}}};var o={viz:[s].concat(r.viz),module:[].concat(r.module,a.module,i.module),feeds:[].concat(r.feeds,a.feeds,i.feeds)};return o});define("sap/viz/impls/DualPercentageStackedBarChart",["sap/viz/manifests/xy/DualPercentageStackedBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/modules/stackedverticalbar",["sap/viz/base/utils/oo","sap/viz/modules/BaseVerticalBar","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/ObjectUtils","sap/viz/modules/util/MNDHandler","sap/viz/modules/util/tooltipDataHandler","sap/viz/util/Scaler","sap/viz/util/NumberUtils","sap/viz/base/utils/Objects","sap/viz/lang/langManager","sap/viz/modules/util/BoundUtil","sap/viz/base/UADetector","sap/viz/modules/Constants","sap/viz/modules/util/ClippathUtil","sap/viz/modules/util/selectionUtil","sap/viz/modules/util/VizBarSizeUtil","sap/viz/elements/common/SVG"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g){var v=c.CSS.CLASS.DATAPOINTSELECTED,y=c.CSS.CLASS.DATAPOINT,b=c.CSS.CLASS.MORPHABLEDATAPOINT;var x=y+" "+b;var A="v-datashapesgroup";var M=function(e,t){M.superclass.constructor.apply(this,arguments);this._svb_data=undefined;this._svb_data1=[[]];this._svb_data2=[[]];this._svb_seriesData=[];this._svb_tooltipData=[];this._svb_primaryAxisTopBoundary=0;this._svb_primaryAxisBottomBoundary=0;this._svb_primaryAxisManualRange=false;this._svb_secondaryAxisManualRange=false;this._svb_secondaryAxisTopBoundary=0;this._svb_secondaryAxisBottomBoundary=0;this._svb_init_primaryAxisTopBoundary=0;this._svb_init_primaryAxisBottomBoundary=0;this._svb_init_secondaryAxisTopBoundary=0;this._svb_init_secondaryAxisBottomBoundary=0;this._svb_isDualAxis=false;this._svb_hasMNDonCategoryAxis=false;this._svb_colorPalette=[];this._svb_axis1ColorPalette=undefined;this._svb_axis2ColorPalette=undefined;this._svb_MNDInnerOnColor=false;this._svb_measureOnAxis1=0;this._svb_measureOnAxis2=0;this._svb_shapePalette=["squareWithRadius"];this._svb_styleManager=t.styleManager;this._svb_rawData=t.rawData;this._svb_valueScales=new Array(2);this._svb_lastSelected=[];this._svb_tooltipVisible=true;this._svb_lastHovered=null;this._svb_barNumber=undefined;this._svb_barGroupNumber=undefined;this._svb_barNumberinGroup=undefined;this._svb_yPositions=[];this._svb_positiveIndexes=[];this._svb_negativeIndexes=[];this._svb_barWidth=undefined;this._svb_defsEnter=undefined;this._svb_roundCornerDefs=undefined;this._svb_suffix=r.guid();this._svb_enableDataLoadingAnimation=true;this._svb_enableDataUpdatingAnimation=true;this._svb_enableResizingAnimation=true;this._svb_clipEdge=true;this._svb_isOnlyInitAnimation=false;this._svb_afterAttachToDOM=false;this._svb_totalIntervalTime=800;this._svb_mode="comparison";this._svb_drawingEffect="normal";this._svb_sizeChange=false;this._svb_dataStructureChange=false;this._svb_dataValueChange=false;this._propsChange=false;this._svb_totalAnimationCount=undefined;this._svb_currentAnimationCount=undefined;u.extend(true,this._props,e.props(null));this._svb_tooltipHandlerObj=null;this._svb_gapObj=null};t.extend(M,a);M.prototype.render=function(e,t){h.drawBound(e,this._width,this._height,undefined,true);if(p.isMobile()){var a=f.drawClippath(e,this._width,this._height);e.attr("clip-path","url(#"+a+")")}this.draw(e,t);if(p.isMobile()&&!t&&this._datashapesgroup){this._datashapesgroup.attr("transform",null)}this._svb_lastHovered=null;var i=this._fullData;if(!i){i=this._svb_data}this.applyFormatConditions(this._props.formatRules,e,i,this);return this};M.prototype.draw=function(e,t){var a=this;var r=[];for(var s=0;s<this._svb_seriesData.length;s++){r[s]=[];for(var n=0;n<this._svb_seriesData[s].length;n++){r[s][n]=[];for(var l=0,u=this._svb_seriesData[s][n].length;l<u;l++){r[s][n][l]=this._svb_seriesData[s][n][u-l-1]}}}this._svb_tooltipHandlerObj=o();if(this._svb_mode==="percentage"){this._svbfn_turnToPercentage()}if(!i.isExist(this._valueAxis1.scale)&&!i.isExist(this._valueAxis2.scale)){return}this._svb_currentAnimationCount=0;this._svb_totalAnimationCount=0;this._eDispatch.startToInit();e.each(function(){a._svb_barNumberinGroup=a._svb_seriesData[0][0].length+(i.isExist(a._svb_seriesData[0][1])?a._svb_seriesData[0][1].length:0);var e=8*a._categoryScale.rangeBand()/(9*a._svb_barNumberinGroup+7);a._svb_barNumber=i.isExist(a._svb_data2)?2:1;a._svb_barWidth=8*a._categoryScale.rangeBand()/(9*a._svb_barNumber+7);a._svb_totalAnimationCount=a._svb_seriesData.length*a._svb_barNumberinGroup;a._d3root=d3.select(this);var t=a._d3root;if(a._svb_defsEnter===undefined){a._svb_defsEnter=t.append("defs").append("clipPath").attr("id","clipPlot_"+a._svb_suffix).append("rect").attr("width",a._width).attr("height",a._height)}else{a._svb_defsEnter.attr("width",a._width).attr("height",a._height)}if(a._svb_roundCornerDefs===undefined){a._svb_roundCornerDefs=t.append("defs")}else{if(a._svb_dataStructureChange||a._svb_sizeChange||a._svb_dataValueChange||!a._enableRoundCorner||a._propsChange){a._svb_roundCornerDefs.selectAll(".v-clippath").remove()}}var s=Math.log(a._svb_barWidth)/Math.log(2);if(s<0){a._enableRoundCorner=false}var o,n=0,l=0,u=0,d=0;a._datashapesgroup=t.selectAll("g."+A);if(!i.isExist(a._datashapesgroup[0][0])){a._datashapesgroup=t.append("g").attr("class",A).attr("fill","none");if(!p.isMobile()){a._datashapesgroup.attr("clip-path","url(#clipPlot_"+a._svb_suffix+")")}}var h=a._datashapesgroup.selectAll("g.v-stackedcolumn").data(r);h.enter().append("g");h.attr("class","v-stackedcolumn").each(function(t,i){var o=d3.select(this).selectAll("g.v-axisGroup").data(t);o.enter().append("g");o.attr("class","v-axisGroup").each(function(t,o){var n=o===0?a._valueAxis1.scale:a._valueAxis2.scale;var l=o===0?a._svb_barWidth/2:a._svb_barWidth/2+a._svb_barWidth+a._svb_barWidth/8;var u=o===0?a._categoryScale(i):a._categoryScale(i)+a._svb_barWidth/2+a._svb_barWidth;var d=o===0?a._svb_axis1ColorPalette:a._svb_axis2ColorPalette;var h=0,c=0,f=0,m=0;var v=[],y=[];var b=d3.select(this).selectAll("g.v-datashape").data(t);var A=b.enter().append("g").attr("class","v-datashape").append("rect").attr("class",x);b.exit().remove();if(a._svb_afterAttachToDOM){b.each(function(){var e=g.getTransformToElement(this,this.parentNode);if(e!==null){v.push(e.f)}})}b.attr("transform",function(e,r){var s;if(e.val>=0){f+=t[r].val;h=n(f);s=h}else{c=n(m);m+=t[r].val;s=c}var o=a._categoryScale(i)+l;y.push(o);return"translate("+o+","+s+")"});var M=b.select("rect.v-datapoint");if(a._svb_dataStructureChange||a._svb_dataValueChange||a._propsChange){M.attr("fill",function(e,t){var s=r[i][o].length-1-t;e.fillColor=d[s%d.length];var n={drawingEffect:a._svb_drawingEffect,fillColor:e.fillColor,direction:"horizontal"};return a._effectManager.register(n)}).attr("class",x).attr("shape-rendering","crispEdges").attr("fill-opacity",1).attr("stroke","none")}var S;if(a._svbfn_enableAnimation()){if(a._svb_dataStructureChange||a._propsChange||a._svb_dataValueChange){M.attr("x",function(t,a){var i=u-y[a]+e*a;i=i+e/8*a+e/2;return i}).attr("width",_.fixDecimal(e)).attr("height",0).attr("y",function(e){if(e.val>0){return Math.abs(n(e.val)-n(0))}else{return 0}});if(a._enableRoundCorner){S=function(){M.attr("clip-path",function(t,r){if(r===a._svb_negativeIndexes[o][i]||r===a._svb_positiveIndexes[o][i]){var l="roundCorner-clip"+"-"+r+i+o+a._svb_suffix;var u=a._svb_roundCornerDefs.append("clipPath").attr("id",l).attr("class","v-clippath").append("rect").attr("class","v-roundCorner-clip").attr("rx",s).attr("ry",s).attr("y",Math.abs(n(t.val)-n(0))+s).attr("height",s).attr("width",_.fixDecimal(e)).attr("x",this.x.baseVal.value).transition().duration(a._svb_totalIntervalTime/2).attr("y",function(){if(r===a._svb_negativeIndexes[o][i]){return 0-s}else{return 0}}).attr("height",function(){return Math.abs(n(t.val)-n(0))+s}).transition().delay(a._svb_totalIntervalTime/2).duration(a._svb_totalIntervalTime/2).attr("x",0).attr("width",_.fixDecimal(a._svb_barWidth));return"url(#"+l+")"}})};if(p.isSafari()&&p.os()==="Windows"||p.isMobile()){window.setTimeout(S,0)}else{S()}}M.transition().duration(a._svb_totalIntervalTime/2).attr("height",function(e){return Math.abs(n(e.val)-n(0))}).attr("y",0).each("end",function(e,t){this.setAttribute("y",0);this.setAttribute("height",Math.abs(n(e.val)-n(0)));d3.select(this).transition().duration(a._svb_totalIntervalTime/2).attr("width",_.fixDecimal(a._svb_barWidth)).attr("x",0).each("end",function(){this.setAttribute("x",0);this.setAttribute("width",_.fixDecimal(a._svb_barWidth));a._svbfn_completeAnimation()})})}else if(a._svb_sizeChange){M.attr("y",function(e,t){var a=g.getTransformToElement(this.parentNode,this.parentNode.parentNode);if(a!==null){return v[t]-a.f}else{return v[t]}}).attr("height",function(e,t){var a=Math.abs(n(e.val)-n(0));if(parseFloat(this.height.baseVal.value)>a){return this.height.baseVal.value}else{return a}});var z=M.transition();z.duration(a._svb_totalIntervalTime/2).attr("width",_.fixDecimal(a._svb_barWidth)).attr("x",0).attr("height",function(e){return Math.abs(n(e.val)-n(0))}).attr("y",0).each("end",function(e,t){this.setAttribute("width",_.fixDecimal(a._svb_barWidth));this.setAttribute("x",0);this.setAttribute("height",Math.abs(n(e.val)-n(0)));this.setAttribute("y",0);a._svbfn_completeAnimation()});if(a._enableRoundCorner){S=function(){z.attr("clip-path",function(e,t){if(t===a._svb_negativeIndexes[o][i]||t===a._svb_positiveIndexes[o][i]){var r="roundCorner-clip"+"-"+t+i+o+a._svb_suffix;var l=parseFloat(this.y.baseVal.value);var u=a._svb_roundCornerDefs.append("clipPath").attr("id",r).attr("class","v-clippath").append("rect").attr("class","v-roundCorner-clip").attr("rx",s).attr("ry",s).attr("y",function(){return l-(t===a._svb_negativeIndexes[o][i]?s:0)}).attr("height",this.height.baseVal.value+s).attr("width",_.fixDecimal(this.width.baseVal.value)).attr("x",this.x.baseVal.value).transition().duration(a._svb_totalIntervalTime/2).attr("y",function(){if(t===a._svb_negativeIndexes[o][i]){return 0-s}else{return 0}}).attr("height",function(){return Math.abs(n(e.val)-n(0))+s}).attr("x",0).attr("width",_.fixDecimal(a._svb_barWidth));return"url(#"+r+")"}})};if(p.isSafari()&&p.os()==="Windows"||p.isMobile()){window.setTimeout(S,0)}else{S()}}}else if(a._enableRoundCorner){S=function(){M.attr("clip-path",function(e,t){if(t===a._svb_negativeIndexes[o][i]||t===a._svb_positiveIndexes[o][i]){var r="roundCorner-clip"+"-"+t+i+o+a._svb_suffix;var l=a._svb_roundCornerDefs.append("clipPath").attr("id",r).attr("class","v-clippath").append("rect").attr("class","v-roundCorner-clip").attr("rx",s).attr("ry",s).attr("y",function(){if(t===a._svb_negativeIndexes[o][i]){return 0-s}else{return 0}}).attr("height",function(){return Math.abs(n(e.val)-n(0))+s}).attr("x",0).attr("width",_.fixDecimal(a._svb_barWidth));return"url(#"+r+")"}a._svbfn_completeAnimation()})};if(p.isSafari()&&p.os()==="Windows"||p.isMobile()){window.setTimeout(S,0)}else{S()}}}else{M.attr("y",0).attr("x",0).attr("width",_.fixDecimal(a._svb_barWidth)).attr("height",function(e){return Math.abs(n(e.val)-n(0))});if(a._enableRoundCorner){S=function(){M.attr("clip-path",function(e,t){if(t===a._svb_negativeIndexes[o][i]||t===a._svb_positiveIndexes[o][i]){var r="roundCorner-clip"+"-"+t+i+o+a._svb_suffix;var l=a._svb_roundCornerDefs.append("clipPath").attr("id",r).attr("class","v-clippath").append("rect").attr("class","v-roundCorner-clip").attr("rx",s).attr("ry",s).attr("y",function(){if(t===a._svb_negativeIndexes[o][i]){return 0-s}else{return 0}}).attr("height",function(){return Math.abs(n(e.val)-n(0))+s}).attr("x",0).attr("width",_.fixDecimal(a._svb_barWidth));return"url(#"+r+")"}})};if(p.isSafari()&&p.os()==="Windows"||p.isMobile()){window.setTimeout(S,0)}else{S()}}}})});h.exit().remove()});if(!this._svbfn_enableAnimation()){if(t&&t.isPinching){this._eDispatch.initialized({eventSource:"pinch"})}else{this._eDispatch.initialized()}this._svb_afterAttachToDOM=true}this._svb_sizeChange=false,this._svb_dataValueChange=false,this._svb_dataStructureChange=false,this._propsChange=false;this._svb_isOnlyInitAnimation=true};M.prototype.width=function(e){if(!arguments.length){return this._width}this._svb_sizeChange=this._width===e&&!this._svb_sizeChange?false:true;this._width=e;if(i.isExist(this._width)&&i.isExist(this._height)&&i.isExist(this._svb_seriesData)){this._svbfn_makeScales()}return this};M.prototype.height=function(e){if(!arguments.length){return this._height}this._svb_sizeChange=this._height===e&&!this._svb_sizeChange?false:true;this._height=e;if(i.isExist(this._width)&&i.isExist(this._height)&&i.isExist(this._svb_seriesData)){this._svbfn_makeScales()}return this};M.prototype.data=function(e){if(!arguments.length){return this._svb_data}this._svb_data=e;var t=s(this._svb_data);var a=t["MG1"];var o=t["MG2"];this._svb_measureOnAxis1=t.MG1Number;this._svb_measureOnAxis2=t.MG2Number||0;this._svb_MNDInnerOnColor=t.MNDOnColor&&t.MNDInner;this._svb_tooltipData=[];var n=0;if(a[0]&&a[0][0].info&&a[0][0].info.defaultSelection){this._hasDefaultSelection=true}else{this._hasDefaultSelection=false}if(i.isExist(t.color)){this._svb_hasMNDonCategoryAxis=true;this._svb_isDualAxis=true;var l=[],u=[];var d=[],h=[];for(n=0;n<a.length;n++){l=[];u=[];for(var p=0;p<a[n].length;p++){if(t.color[p]===0){l.push(a[n][p]);u.push({val:null,hasMNDonCategoryAxis:true})}else{l.push({val:null,hasMNDonCategoryAxis:true});u.push(a[n][p])}}d.push(l);h.push(u)}a=d;o=h}else{this._svb_hasMNDonCategoryAxis=false;if(i.isExist(o)){if(!this._svb_dataStructureChange&&(this._svb_data2.length!==o.length||this._svb_data2[0].length!==o[0].length)){this._svb_dataStructureChange=true}this._svb_isDualAxis=true}else{this._svb_isDualAxis=false}}if(this._svb_data1.length!==a.length||this._svb_data1[0].length!==a[0].length){this._svb_dataStructureChange=true}var c=this._svbfn_dataHandler(a,o);this._svb_seriesData=c;this._svb_data1=a;this._svb_data2=o;if(!this._svb_dataStructureChange){this._svb_dataValueChange=true}if(this._svb_hasMNDonCategoryAxis){for(n=0;n<this._svb_seriesData.length;n++){var f=this._svb_seriesData[n];if(f[0][0].hasMNDonCategoryAxis){this._svb_tooltipData.push(f[1])}else{this._svb_tooltipData.push(f[0])}}}else{this._svb_tooltipData=r.extend(true,{},this._svb_seriesData)}if(i.isExist(this._width)&&i.isExist(this._height)){this._svbfn_makeScales()}this._svbfn_parseOptions();return this};M.prototype.properties=function(e){if(!arguments.length){return this._props}this._propsChange=true;this._props=u.extend(true,this._props,e);this._svbfn_parseOptions();return this};M.prototype.destroy=function(){if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1])}if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1])}if(this._valueAxis2.scale){this._valueAxis2.scale.domain([0,1]).range([0,1])}this._categoryScale=null;this._valueAxis1.scale=null;this._valueAxis2.scale=null;this._svb_seriesData=null;this._svb_tooltipData=null;if(this._effectManager&&this._effectManager.destroy){this._effectManager.destroy();this._effectManager=null}if(this._svb_styleManager&&this._svb_styleManager.destroy){this._svb_styleManager.destroy();this._svb_styleManager=null}if(this._d3root){this._d3root.selectAll("."+y).remove()}};M.prototype.colorPalette=function(e){if(!arguments.length){return this._svb_colorPalette}this._svb_colorPalette=e;return this};M.prototype.primaryDataRange=function(e){if(!arguments.length){var t,a;if(this._svb_mode==="percentage"){t=1;a=0}else{a=this._svb_primaryAxisBottomBoundary;t=this._svb_primaryAxisTopBoundary}return{min:a,max:t}}var r,s;if(e!==null){if(!isNaN(e.max)){r=e.max}else{r=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(e.min)){s=e.min}else{s=this._valueAxis1.scale.perfectDomainBegin}if(r>s){this._svb_primaryAxisTopBoundary=r;this._svb_primaryAxisBottomBoundary=s;if(e.from==="axis"){this._svb_primaryAxisManualRange=true}if(i.isExist(this._width)&&i.isExist(this._height)&&i.isExist(this._svb_seriesData)){this._svbfn_makeScales()}}}else{if(this._svb_primaryAxisManualRange===true){this._svb_primaryAxisTopBoundary=this._svb_init_primaryAxisTopBoundary;this._svb_primaryAxisBottomBoundary=this._svb_init_primaryAxisBottomBoundary;this._svb_primaryAxisManualRange=false;if(i.isExist(this._width)&&i.isExist(this._height)&&i.isExist(this._svb_seriesData)){this._svbfn_makeScales()}}}return this};M.prototype.secondDataRange=function(e){if(!arguments.length){var t,a;if(this._svb_mode==="percentage"){t=1;a=0}else{a=this._svb_secondaryAxisBottomBoundary;t=this._svb_secondaryAxisTopBoundary}return{min:a,max:t}}var r,s;if(e!==null){if(!isNaN(e.max)){r=e.max}else{r=this._valueAxis2.scale.perfectDomainEnd}if(!isNaN(e.min)){s=e.min}else{s=this._valueAxis2.scale.perfectDomainBegin}if(r>s){this._svb_secondaryAxisTopBoundary=r;this._svb_secondaryAxisBottomBoundary=s;if(e.from==="axis"){this._svb_secondaryAxisManualRange=true}if(i.isExist(this._width)&&i.isExist(this._height)&&i.isExist(this._svb_seriesData)){this._svbfn_makeScales()}}}else{if(this._svb_secondaryAxisManualRange===true){this._svb_secondaryAxisTopBoundary=this._svb_init_secondaryAxisTopBoundary;this._svb_secondaryAxisBottomBoundary=this._svb_init_secondaryAxisBottomBoundary;this._svb_secondaryAxisManualRange=false;if(i.isExist(this._width)&&i.isExist(this._height)&&i.isExist(this._svb_seriesData)){this._svbfn_makeScales()}}}return this};M.prototype.categoryScale=function(e){if(!arguments.length){return this._categoryScale}this._categoryScale=e;return this};M.prototype.primaryScale=function(e){if(!arguments.length){return this._valueAxis1.scale}this._valueAxis1.scale=e;this._svb_valueScales[0]=this._valueAxis1.scale;return this};M.prototype.secondScale=function(e){if(!arguments.length){return this._valueAxis2.scale}this._valueAxis2.scale=e;this._svb_valueScales[1]=this._valueAxis2.scale;return this};M.prototype.primaryAxisColor=function(){if(this._svb_isDualAxis&&!this._svb_hasMNDonCategoryAxis){return this._svb_colorPalette[0]}else{return undefined}};M.prototype.secondAxisColor=function(){if(i.isExist(this._svb_seriesData[0][1])&&!this._svb_hasMNDonCategoryAxis){return this._svb_axis2ColorPalette[this._svb_seriesData[0][1].length-1]}else{return undefined}};M.prototype.getPreferredSize=function(){};M.prototype.dataLabel=function(e){};M.prototype.dispatch=function(e){if(!arguments.length){return this._eDispatch}this._eDispatch=e;return this};M.prototype.primaryAxisTitle=function(e){if(!arguments.length){var t=this._svb_data.getMeasureValuesGroupDataByIdx(0),a=[];if(t){for(var i=0,r=t.values.length;i<r;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){a.push(t.values[i].col)}else{a.push(d.get("IDS_ISNOVALUE"))}}}return a.join(" & ")}return this};M.prototype.secondAxisTitle=function(e){if(!arguments.length){var t=this._svb_data.getMeasureValuesGroupDataByIdx(1),a=[];if(t){for(var i=0,r=t.values.length;i<r;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){a.push(t.values[i].col)}else{a.push(d.get("IDS_ISNOVALUE"))}}}return a.join(" & ")}return this};M.prototype.applyFormatConditions=function(e,t,a,i){var r=function(e,t){var a={drawingEffect:i._svb_drawingEffect,fillColor:t.color,direction:"horizontal"};var r=i._effectManager.register(a);var s;for(s=0;s<e.length;s++){e[s].setAttribute("fill",r)}};m.applyConditons(e,t,a,r)};M.prototype.getDataOfDataPoint=function(e){var t={};if(e&&e.__data__){t=this._svb_rawData.ctx2ArrayData(e.__data__.ctx);if(t.measure){for(var a in t.measure){if(e.__data__.val){t.measure[a].value=e.__data__.val;break}}}t.context=e.__data__.ctx}return t};M.prototype._svbfn_dataHandler=function(e,t,a){var r=-1,s=-1;this._svb_positiveIndexes=[[],[]],this._svb_negativeIndexes=[[],[]];this._svb_primaryAxisTopBoundary=this._svb_primaryAxisBottomBoundary=0;this._svb_secondaryAxisTopBoundary=this._svb_secondaryAxisBottomBoundary=0;var o=[];this._svb_barGroupNumber=e[0].length;var n,u;for(var d=0;d<this._svb_barGroupNumber;d++){var h=[],p=[];var c=[];n=0,u=0;r=-1,s=-1;for(var f=0;f<e.length;f++){if(l.isNoValue(e[f][d].val)){e[f][d].val=null;e[f][d].isNaN=true}else{if(e[f][d].val>=0){n+=e[f][d].val;r=f}else{u+=e[f][d].val;s=f}}h.push(e[f][d])}this._svb_positiveIndexes[0].push(r);this._svb_negativeIndexes[0].push(s);if(this._svb_primaryAxisTopBoundary<n){this._svb_primaryAxisTopBoundary=n}if(this._svb_primaryAxisBottomBoundary>u){this._svb_primaryAxisBottomBoundary=u}c.push(h);this._svb_init_primaryAxisTopBoundary=this._svb_primaryAxisTopBoundary;this._svb_init_primaryAxisBottomBoundary=this._svb_primaryAxisBottomBoundary;if(i.isExist(t)){n=0,u=0;r=-1,s=-1;for(f=0;f<t.length;f++){if(l.isNoValue(t[f][d].val)){t[f][d].val=null;t[f][d].isNaN=true}else{if(t[f][d].val>=0){n+=t[f][d].val;r=f}else{u+=t[f][d].val;s=f}}p.push(t[f][d])}this._svb_positiveIndexes[1].push(r);this._svb_negativeIndexes[1].push(s);if(this._svb_secondaryAxisTopBoundary<n){this._svb_secondaryAxisTopBoundary=n}if(this._svb_secondaryAxisBottomBoundary>u){this._svb_secondaryAxisBottomBoundary=u}c.push(p);this._svb_init_secondaryAxisTopBoundary=this._svb_secondaryAxisTopBoundary;this._svb_init_secondaryAxisBottomBoundary=this._svb_secondaryAxisBottomBoundary}o.push(c)}return o};M.prototype.setAxisGap=function(e){this._svb_gapObj=e};M.prototype._svbfn_makeScales=function(){var e=[];for(var t=0;t<this._svb_seriesData.length;t++){e.push(t)}this._categoryScale.domain(e).rangeBands([0,this._width]);if(this._svb_mode==="percentage"){this._valueAxis1.scale.domain([0,1]).range([this._height,0]);this._valueAxis2.scale.domain([0,1]).range([this._height,0]);n.perfect(this._valueAxis1.scale);n.perfect(this._valueAxis2.scale)}else{if(this._svb_primaryAxisBottomBoundary===0&&this._svb_primaryAxisTopBoundary===0){this._valueAxis1.scale.domain([0,1]).range([this._height,0])}else{this._valueAxis1.scale.domain([this._svb_primaryAxisBottomBoundary,this._svb_primaryAxisTopBoundary]).range([this._height,0])}if(i.isExist(this._svb_data2)||this._svb_isDualAxis){if(this._svb_secondaryAxisTopBoundary===0&&this._svb_secondaryAxisBottomBoundary===0){this._valueAxis2.scale.domain(this._valueAxis1.scale.domain()).range(this._valueAxis1.scale.range())}else{this._valueAxis2.scale.domain([this._svb_secondaryAxisBottomBoundary,this._svb_secondaryAxisTopBoundary]).range([this._height,0]);if(this._svb_primaryAxisBottomBoundary===0&&this._svb_primaryAxisTopBoundary===0){this._valueAxis1.scale.domain(this._valueAxis2.scale.domain()).range(this._valueAxis2.scale.range())}}if(!this._svb_primaryAxisManualRange&&!this._svb_secondaryAxisManualRange){n.perfectDual(this._valueAxis1.scale,this._valueAxis2.scale)}else if(!this._svb_primaryAxisManualRange&&this._svb_secondaryAxisManualRange){n.perfect(this._valueAxis1.scale);n.getRoughTickNum(this._valueAxis2.scale)}else if(this._svb_primaryAxisManualRange&&!this._svb_secondaryAxisManualRange){n.perfect(this._valueAxis2.scale);n.getRoughTickNum(this._valueAxis1.scale)}else{n.getRoughTickNum(this._valueAxis1.scale);n.getRoughTickNum(this._valueAxis2.scale)}}else{if(!this._svb_primaryAxisManualRange){n.perfect(this._valueAxis1.scale)}else{n.getRoughTickNum(this._valueAxis1.scale)}}}if(!i.isExist(this._svb_data2)){this._valueAxis2.scale.range([0,0])}var a=0;var r=0;if(this._svb_gapObj){if(this._svb_gapObj.startGap){a=this._svb_gapObj.startGap}if(this._svb_gapObj.endGap){r=this._svb_gapObj.endGap}}n.adjustGap(a,r,this._valueAxis1.scale);n.adjustGap(a,r,this._valueAxis2.scale)};M.prototype._svbfn_completeAnimation=function(){if(++this._svb_currentAnimationCount===this._svb_totalAnimationCount){this._eDispatch.initialized();this._svb_afterAttachToDOM=true}};M.prototype._svbfn_enableAnimation=function(){var e=false;if(!this._svb_isOnlyInitAnimation){e=this._svb_enableDataLoadingAnimation}else if(this._svb_dataStructureChange||this._svb_dataValueChange){e=this._svb_enableDataUpdatingAnimation}else if(this._svb_sizeChange){e=this._svb_enableResizingAnimation}return e};M.prototype._svbfn_turnToPercentage=function(){for(var e=0,t=this._svb_seriesData.length;e<t;e++){for(var a=0,r=this._svb_seriesData[e],s=this._svb_tooltipData[e];a<r.length;a++){var o=0,n=0,l;for(l=0;l<r[a].length;l++){o+=Math.abs(r[a][l].val);if(!r[a][l].isNaN){n++}}if(n>0){if(o===0){for(l=0;l<r[a].length;l++){r[a][l].value=i.isExist(r[a][l].value)?r[a][l].value:r[a][l].val;r[a][l].val=r[a][l].isNaN?0:1/n;if(i.isExist(s[a])&&i.isExist(s[a][l])){s[a][l].val=s[a][l].isNaN?" ":1/n}}}else{for(l=0;l<r[a].length;l++){if(r[a][l].val<0){r[a][l].isNegative=true}r[a][l].value=i.isExist(r[a][l].value)?r[a][l].value:r[a][l].val;r[a][l].val=Math.abs(r[a][l].val/o);if(i.isExist(s[a])&&i.isExist(s[a][l])){s[a][l].val=s[a][l].isNaN?" ":s[a][l].val/o}}}}}}};M.prototype._svbfn_parseOptions=function(){this._enableRoundCorner=this._props.isRoundCorner;this._svb_mode=this._props.mode==="percentage"?"percentage":"comparison";this._svb_enableDataLoadingAnimation=this._props.animation.dataLoading;this._svb_enableDataUpdatingAnimation=this._props.animation.dataUpdating;this._svb_enableResizingAnimation=this._props.animation.resizing;this._svb_tooltipVisible=this._props.tooltip.enabled;if(this._svb_isDualAxis&&!this._svb_hasMNDonCategoryAxis){this._svb_axis1ColorPalette=this._props.primaryValuesColorPalette;this._svb_axis2ColorPalette=this._props.secondaryValuesColorPalette}else{this._svb_axis2ColorPalette=this._props.colorPalette;this._svb_axis1ColorPalette=this._props.colorPalette}this._svb_drawingEffect=this._props.drawingEffect;this._svb_colorPalette=[];var e=0,t=0,a=0,r=0;if(this._svb_MNDInnerOnColor){for(r=0;r<this._svb_seriesData[0][0].length;r++){this._svb_colorPalette.push(this._svb_axis1ColorPalette[r%this._svb_axis1ColorPalette.length]);e++;if(e===this._svb_measureOnAxis1&&this._svb_isDualAxis&&i.isExist(this._svb_seriesData[0][1])){t=0;for(;a<=this._svb_seriesData[0][1].length;a++){if(t>=this._svb_measureOnAxis2){e=0;break}this._svb_colorPalette.push(this._svb_axis2ColorPalette[a%this._svb_axis2ColorPalette.length]);t++}}}}else{for(r=0;r<this._svb_seriesData[0].length;r++){for(a=0;a<this._svb_seriesData[0][0].length;a++){this._svb_colorPalette.push(this._svb_axis1ColorPalette[a%this._svb_axis1ColorPalette.length])}if(this._svb_isDualAxis&&i.isExist(this._svb_seriesData[0][1])){for(a=0;a<this._svb_seriesData[0][1].length;a++){this._svb_colorPalette.push(this._svb_axis2ColorPalette[a%this._svb_axis2ColorPalette.length])}}}}};return M});define("sap/viz/modules/manifests/xy/StackedVerticalBar",["sap/viz/modules/manifests/Module","sap/viz/modules/stackedverticalbar","sap/viz/modules/manifests/xy/VerticalBar"],function e(t,a,i){var r={id:"sap.viz.modules.stackedverticalbar",name:"stacked vertical bar",base:"sap.viz.modules.verticalbar",properties:{mode:{name:"mode",supportedValueType:"String",supportedValues:["comparison","percentage"],defaultValue:"comparison",description:"Set the display mode for stacked vertical bar charts",isExported:true,updatable:false}},fn:a};var s={viz:[],module:[r].concat(i.module),feeds:[].concat(i.feeds)};return s});define("sap/viz/manifests/xy/VerticalBarChart",["sap/viz/manifests/Viz","sap/viz/base/UADetector","sap/viz/modules/manifests/xy/VerticalBar","sap/viz/manifests/xy/BaseVerticalChart","sap/viz/modules/manifests/controller/Pinch","sap/viz/modules/manifests/controller/Pan"],function e(t,a,i,r,s,o){var n={id:"viz/column",name:"IDS_VERTICALBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/baseverticalchart",modules:{root:{id:"sap.viz.modules.rootContainer",modules:{main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,orientation:"vertical",position:"inside",automaticInOutside:true,showZero:false,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:"up"},propertiesOverride:{position:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"yAxis",properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"xAxis",properties:{indicator:{enable:true},isKeepFirstAndLastLabel:true},propertiesOverride:{indicator:{isExported:false}}}},plot:{id:"sap.viz.modules.verticalbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options",propertyCategory:"plotArea"}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]},categoryAxis:["xAxis"],valueAxis:["yAxis"]};if(a.isMobile()){var l=n.modules.root.modules;l.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var u=n.dependencies.attributes;var d=n.dependencies.events;u.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});d.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});d.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});d.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});d.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});d.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});d.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});d.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});d.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});d.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});d.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});d.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"})}var h={viz:[n].concat(r.viz),module:[].concat(r.module,i.module,s.module,o.module),feeds:[].concat(r.feeds,i.feeds,s.feeds)};return h});define("sap/viz/manifests/xy/StackedVerticalBarChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/xy/StackedVerticalBar","sap/viz/manifests/xy/VerticalBarChart"],function e(t,a,i,r){var s={id:"viz/stacked_column",name:"IDS_STACKEDVERTICALBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/column",feeds:{secondaryValues:null},modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.stackedverticalbar",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}},yAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"yAxis",properties:{indicator:{enable:true}}}},xAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"xAxis",properties:{indicator:{enable:true}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false,position:"inside"},propertiesOverride:{position:{isExported:false}}}}}}}}}};var o={viz:[s].concat(r.viz),module:[].concat(r.module,a.module,i.module),feeds:[].concat(r.feeds,a.feeds,i.feeds)};return o});define("sap/viz/manifests/xy/DualVerticalBarChart",["sap/viz/manifests/Viz","sap/viz/base/UADetector","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/xy/VerticalBarChart"],function e(t,a,i,r){var s={id:"viz/dual_column",name:"IDS_DUALVERTICALBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/column",modules:{root:{modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"xAxis",properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the left or bottom side of an XY chart with two value axes",propertiesOverride:{indicator:{isExported:false},title:{applyAxislineColor:{isExported:true}}},properties:{indicator:{enable:true}}}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the right or top side of an XY chart with two value axes",propertyCategory:"yAxis2",properties:{type:"value",position:"right",gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}},label:{hideSubLevels:{isExported:false}}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.plot",target:"secondDataRange",sourceModule:"root.main.yAxis2",source:"range"},{targetModule:"root.main.yAxis2",target:"scale",sourceModule:"root.main.plot",source:"secondScale"},{targetModule:"root.main.yAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.yAxis2",target:"color",sourceModule:"root.main.plot",source:"secondAxisColor"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.yAxis2",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]},categoryAxis:["xAxis"],valueAxis:["yAxis","yAxis2"]};if(a.isMobile()){var o=s.modules.root.modules;o.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var n=s.dependencies.attributes;var l=s.dependencies.events;n.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});l.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});l.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});l.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});l.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});l.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});l.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});l.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});l.push({targetModule:"root.main.yAxis2",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis2"});l.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});l.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});l.push({targetModule:"root.main.yAxis2",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis2"});l.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});l.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"})}var u={viz:[s].concat(r.viz),module:[].concat(r.module,i.module),feeds:[].concat(r.feeds,i.feeds)};return u});define("sap/viz/manifests/xy/DualStackedVerticalBarChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/xy/StackedVerticalBar","sap/viz/manifests/xy/StackedVerticalBarChart","sap/viz/manifests/xy/DualVerticalBarChart"],function e(t,a,i,r,s){var o={id:"viz/dual_stacked_column",name:"IDS_DUALSTACKEDVERTICALBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/dual_column",modules:{root:{modules:{main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false,position:"inside"},propertiesOverride:{position:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"yAxis",properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"xAxis",properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},plot:{id:"sap.viz.modules.stackedverticalbar",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}}}}}}}};var n={viz:[o].concat(r.viz,s.viz),module:[].concat(r.module,s.module,a.module,i.module),feeds:[].concat(r.feeds,s.feeds,a.feeds,i.feeds)};return n});define("sap/viz/manifests/xy/DualPercentageStackedVerticalBarChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/xy/StackedVerticalBar","sap/viz/manifests/xy/DualStackedVerticalBarChart"],function e(t,a,i,r){var s={id:"viz/100_dual_stacked_column",name:"IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/dual_stacked_column",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousedown","mousemove","mouseover","mouseout","touchstart"],holdSelection:true,extensionPoints:{convertData:function(e,t){return e.getDataOfDataPoint(t)}}}}},main:{modules:{plot:{id:"sap.viz.modules.stackedverticalbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,showZero:true,position:"inside"},propertiesOverride:{position:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"xAxis",properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart",propertyCategory:"yAxis",properties:{isPercentMode:true,indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart",propertyCategory:"yAxis2",properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"100_dual_stacked_column",orientation:"bottom",formatString:[["0.00%"],["0.00%"]]}}}}}}};var o={viz:[s].concat(r.viz),module:[].concat(r.module,a.module,i.module),feeds:[].concat(r.feeds,a.feeds,i.feeds)};return o});define("sap/viz/impls/DualPercentageStackedVerticalBarChart",["sap/viz/manifests/xy/DualPercentageStackedVerticalBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/DualStackedBarChart",["sap/viz/manifests/xy/DualStackedBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/DualStackedVerticalBarChart",["sap/viz/manifests/xy/DualStackedVerticalBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/DualVerticalBarChart",["sap/viz/manifests/xy/DualVerticalBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/util/RGBA",[],function e(){function t(e,t,a,i,r){this.r=e;this.g=t;this.b=a;this.a=i;this.signForOpacity=r}t.prototype.clone=function(){return new t(this.r,this.g,this.b,this.a,this.signForOpacity)};t.prototype.toHex=function(){return d3.rgb(this.r,this.g,this.b).toString()};t.prototype.toString=function(){if(this.a<=1&&this.signForOpacity===true){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"}else if(this.a<1){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"}else{return this.toHex()}};t.prototype.from=function(e,t){var a=d3.rgb(0,0,0),i=1,r;if(t){i=t;r=true}if(e!==undefined&&typeof e==="object"){if(e.rgb){a=e.rgb()}else{a=e}}else if(typeof e==="string"){e=e.toLowerCase();var s,o,n;if(e.indexOf("rgba")>=0){s=e.substring(e.indexOf("(")+1);o=s.lastIndexOf(",");n=s.indexOf(")");if(o>=0&&n>=0){var l="rgb("+s.substring(0,o)+")";i=parseFloat(s.substring(o+1,n));a=d3.rgb(l)}}else if(e.indexOf("hsla")>=0){s=e.substring(e.indexOf("(")+1);o=s.lastIndexOf(",");n=s.indexOf(")");if(o>=0&&n>=0){var u="hsl("+s.substring(0,o)+")";i=parseFloat(s.substring(o+1,n));a=d3.hsl(u).rgb()}}else if(e.indexOf("hsl")>=0){a=d3.hsl(e).rgb()}else if(e.indexOf("#")>=0){var d,h,p;if(e.length===4){d=e.charAt(1);d+=d;h=e.charAt(2);h+=h;p=e.charAt(3);p+=p}else if(e.length===7){d=e.substring(1,3);h=e.substring(3,5);p=e.substring(5,7)}d=parseInt(d,16);h=parseInt(h,16);p=parseInt(p,16);a=d3.rgb(d,h,p)}else{a=d3.rgb(e)}}this.r=a.r;this.g=a.g;this.b=a.b;this.a=i;this.signForOpacity=r;return this};t.prototype.toGray=function(){var e=this.r,t=this.g,a=this.b,i,r;if(e===t&&t===a){i=Math.round(e+(255-e)*.6)}else{i=Math.round((e*299+t*587+a*114+500)/1e3)}r=this.clone();r.r=i;r.g=i;r.b=i;return r};t.prototype.increaseBrightness=function(e){var t=this.r,a=this.g,i=this.b,r,s,o,n;if(!isNaN(e)){if(e>=0){r=Math.round(t+(255-t)*e/100);s=Math.round(a+(255-a)*e/100);o=Math.round(i+(255-i)*e/100)}else{r=Math.round(t*(100+e)/100);s=Math.round(a*(100+e)/100);o=Math.round(i*(100+e)/100)}n=this.clone();n.r=r;n.g=s;n.b=o}return n};return t});define("sap/viz/util/MeasureBasedColoring",["./RGBA","sap/viz/util/NumberUtils"],function e(t,a){var i={getColorScale:function(e,a,i,l){var u;if(e===undefined&&a===undefined||e===Number.MAX_VALUE&&a===-Number.MAX_VALUE){if(i){u=d3.scale.ordinal().domain([[]]).range([l.nullColor]);u.domainInfo=[{}]}}else{var d=null;var h=l.numberOfTicks;if(l.colorPalette&&l.colorPalette.length>=h){var p=l.colorPalette.slice(0,h);if(h===1){p.push(l.colorPalette[0])}if(e!==a){d=d3.scale.quantize().domain([e,a]).range(p);var c=d3.scale.linear().domain([e,a]).range(p).nice().domain();d.domain(c)}else{d=d3.scale.linear().domain([e,a]).range(p).nice()}}else{d=d3.scale.linear().domain([e,a]).range([l.startColor,l.endColor]).nice()}var f=[],m,_;if(r(l.legendValues,h)){f=l.legendValues.slice(0,h+1)}else{var g=d.domain();var v=o(g[0]),y=o(g[1]);var b=v>y?v:y;b++;var x=d.domain();x=s(x,b);e=x[0];a=x[1];if(e===a){h=1}var A=a-e,M,S=0,z;if(A/h>1){if(A%h===0){M=n(A/h,b+1);S=o(M);for(m=0;m<h+1;m++){f.push(e+n(m*M,S))}}else{M=Math.ceil(A/h);S=o(M);z=Math.floor(e/M)*M;if(z===0||z+M*h<a){z=e}for(m=0;m<h+1;m++){f.push(z+n(m*M,S))}}}else{z=e,M=n(A/h,b+1);S=o(M);for(m=0;m<h;m++){f.push(z+n(m*M,S))}f.push(n(a,S))}for(m=0,_=f.length;m<_;m++){f[m]=n(f[m],S)}while(e<f[0]){f[0]--}while(a>f[f.length-1]){f[f.length-1]++}}d.domain([0,h===1?1:h-1]);var D=[],E=[],w=[];for(m=0,_=f.length-1;m<_;m++){D.push([f[m],f[m+1]]);E.push(d(m));w.push({isLeftOpen:false,isRightOpen:true,isAscending:true})}w[_-1].isRightOpen=false;var T,C,L;if(e<D[0][0]){D.unshift([-Number.MAX_VALUE,D[0][0]]);T=new t;C=T.from(E[0]).increaseBrightness(10).toHex();E.unshift(C);w.unshift({isLeftOpen:false,isRightOpen:true,isAscending:true})}if(a>D[D.length-1][1]){D.push([D[D.length-1][1],Number.MAX_VALUE]);T=new t;L=T.from(E[E.length-1]).increaseBrightness(-10).toHex();E.push(L);w.push({isLeftOpen:true,isRightOpen:true,isAscending:true})}u=d3.scale.ordinal().domain(D).range(E);u.domainInfo=w;if(i){u.domain().push([]);u.range().push(l.nullColor);u.domainInfo.push({})}}return u},getScale:function(e,t,a,r,s){return i.getColorScale(e,t,false,{numberOfTicks:a,startColor:r,endColor:s})}};i.fillContexts2DomainInfo4MBC=function(e,t,i,r){if(e){var s=e.domain(),o;var n=e.domainInfo,l;var u,d,h,p,c,f;var m;for(var _=-1;++_<t.length;){f=i?i(t[_]):t[_].val;for(var g=-1;++g<s.length;){o=s[g];l=n[g];if(a.isNoValue(f)){u=o.length===0}else if(o.length>0){d=o[0];h=l.isLeftOpen;p=o[1];c=l.isRightOpen;u=(f<d||!h&&f===d)&&(f>p||!c&&f===p)||(f>d||!h&&f===d)&&(f<p||!c&&f===p)}if(u){l.dpPaths=l.dpPaths||[];m=r?r(t[_]):t[_].ctx.path;l.dpPaths.push(m);break}}}}};var r=function(e,t){var a;if(!e||!t){return false}if(e.length<t+1){return false}for(a=0;a<t+1;a++){if(isNaN(e[a])){return false}}for(a=0;a<t+1;a++){if(e[a]>=e[a+1]){return false}}return true};var s=function(e,t){for(var a=0,i=e.length;a<i;a++){e[a]=n(e[a],t)}return e};var o=function(e){var t=e.toString().split(".");return t.length>1?t[1].length:0};var n=function(e,t){return Math.round(Math.pow(10,t)*e)/Math.pow(10,t)};return i});define("sap/viz/modules/heatmap",["sap/viz/modules/dispatch","sap/viz/util/ColorSeriesGenerator","sap/viz/modules/util/tooltipDataHandler","sap/viz/util/NumberUtils","sap/viz/util/EffectManager","sap/viz/base/utils/TypeUtils","sap/viz/util/TextUtils","sap/viz/util/MeasureBasedColoring","sap/viz/lang/langManager","sap/viz/base/utils/ObjectUtils","sap/viz/base/utils/Objects","sap/viz/modules/util/BoundUtil","sap/viz/modules/util/defaultSelectionUtil","sap/viz/modules/Constants","sap/viz/util/DrawUtil","sap/viz/modules/util/selectionUtil","sap/viz/elements/common/SVG"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g){var v=function(e,a){var s=f.CSS.CLASS.DATAPOINT,v="."+s,y=f.CSS.CLASS.MORPHABLEDATAPOINT;var b=s+" "+y;var x=f.CSS.CLASS.DATAPOINTSELECTED,A=f.CSS.CLASS.DATAPOINTHOVER;var M=d.guid();var S=function(e,t){for(var a in t){if(typeof t[a]==="object"){if(e[a]){e[a]=S(e[a],t[a])}else{e[a]=t[a]}}else{e[a]=t[a]}}return e};var z=[];var D,E;var w={emptycolor:"#e0e0e0",animation:{dataLoading:true,dataUpdating:true,resizing:true},colornumber:5,discretecolor:false,guideline:{visible:false,color:"#ffff90"},drawemptycell:true,colorPalette:[],tooltip:{enabled:true}};w=S(w,e.props(null));var T=e.props(null);var C="'Open Sans', Arial, Helvetica, sans-serif";var L;var I;var k=true;var O="v-heatmap";var N="v-heatmapemptyvalue";var P=1;var R=d3.scale.ordinal();var F=d3.scale.ordinal();var B=new t("selectData","deselectData","initialized","showTooltip","hideTooltip","startToInit");var V=undefined;var H="#ffffff";var U;var G;var Y;var j;var W=null;var X=null;var K=false;var q=null;var Z=[];var J=a.effectManager;var Q=u.get("IDS_ISNOVALUE");var $=null;function ee(e){p.drawBound(e,D,E);B.startToInit();W=e;Z=[];var t=false;if(!G){t=true}if(t){var a=[];var i=Y.values[0].rows[0];for(var s=0;s<i.length;s++){Z.push(i[s])}for(var s=0;s<Z.length;s++){var o="";for(var l=0;l<U.values.length;l++){o+=U.values[l].rows[s].val;if(l!=U.values.length-1){o+=" / "}}a.push(o)}for(var s=0;s<Z.length;s++){Z[s].label=a[s];Z[s].isOnlyOneCategory=true}}else{var u=U.values[0].rows;var d=G.values[0].rows;var h=Y.values[0].rows;var c=u.length;var f=d.length;for(var s=0;s<f;s++){for(var l=0;l<c;l++){Z.push(h[s][l])}}for(var s=0;s<Z.length;s++){Z[s].isOnlyOneCategory=false}}V=pe();var m=V.domain();var _=V.domainInfo;for(var s=0;s<Z.length;s++){var g;if(r.isNoValue(Z[s].val)){Z[s].color=w.emptycolor}else{for(var l=0;l<m.length;l++){var v=m[l];var y=_[l];var b=false;if(l==m.length-1||m[l+1].length==0){g=v;break}if(Z[s].val>v[0]&&Z[s].val<v[1]){b=true}else if(!y.isLeftOpen&&Z[s].val===v[0]){b=true}else if(!y.isRightOpen&&Z[s].val===v[1]){b=true}if(b){g=v;break}}Z[s].color=V(g)}}if(t){var x=-Number.MAX_VALUE;var A;var M;var S;var z;var T;var C=[];var L;if(Z.length==1){A=E;M=D;z=1;S=1}else{for(S=1;S<=Z.length;S++){A=E/S;var z=Math.ceil(Z.length/S);M=D/z;T=z*S-Z.length;L=(A-M)*(A-M);if(L<1){L=1}var x;if(T==0&&L==0){x=1+1}else if(T==0&&L!=0){x=1+1/L}else if(T!=0&&L==0){x=1+1}else{x=1+1/L}C.push({iRow:S,iCol:z,rHeight:A,rWidth:M,varianceRec:L,emptyCellNum:T,score:x})}var I=0;var k=-1;for(var s=0;s<C.length;s++){if(C[s].score>I){I=C[s].score;k=s}}A=C[k].rHeight;M=C[k].rWidth;z=C[k].iCol;S=C[k].iRow}for(var s=0;s<Z.length;s++){Z[s].width=M;Z[s].height=A;Z[s].left=M*(s%z);Z[s].top=A*Math.floor(s/z);Z[s].textContent=n.ellipsis(Z[s].label,null,Z[s].width-5,"fill:#ffffff;font-family:'Open Sans', Arial, Helvetica, sans-serif;font-size:12px;")}}else{for(var s=0;s<Z.length;s++){Z[s].width=D/c;Z[s].height=E/f;Z[s].left=D/c*(s%c);Z[s].top=E-E/f-E/f*Math.floor(s/c)}}ae(e,t);return ee}var te=function(){var e=false;if(Z.length>0){var t=Z[0].width;var a=Z[0].height;var i=t;if(t>a){i=a}if(i<2){e=true}}return e};var ae=function(e,t){var a="resizing";if(k){if(e.select("."+O).empty()){a="dataLoading"}else{a="dataUpdating"}e.select("."+O).remove()}var i=e.selectAll("g.v-datashapesgroup");if(!o.isExist(i[0][0])){i=e.append("g").attr("class","v-datashapesgroup")}if(!t){P=0}else{if(w.border.visible&&!te()){P=1}else{P=0}}if(k){j=i.append("g").attr("class",O)}else{j=i.select("."+O)}if(!w.drawemptycell){if(k){j.append("rect").attr("x",0).attr("y",0).attr("width",D).attr("height",E).attr("fill",w.emptycolor).attr("class",N).attr("shape-rendering","crispEdges")}else{j.select("."+N).attr("x",0).attr("y",0).attr("width",D).attr("height",E).attr("fill",w.emptycolor).attr("class",N).attr("shape-rendering","crispEdges")}}var r=[];for(var s=0;s<Z.length;s++){if(!w.drawemptycell&&!Z[s].val){continue}else{Z[s].index=s;r.push(Z[s])}}var n=j.selectAll("rect").data(r,function(e){return e.index});var l=n.enter();var u=n.exit();var d=0;var h=true;if(w.border.visible&&!te()&&!t){d=.5;h=false}var p,c,f;if(k){$=l.append("g").attr("class","v-datashape");$.attr("transform",function(e){return"translate("+(e.left+P)+","+(e.top+P)+")"});p=$.append("rect").attr("id",function(e,t){return"HM"+e.index+M}).attr("class",b).attr("x",d).attr("y",d).attr("width",function(e){return e.width-2*P-2*d}).attr("height",function(e){return e.height-2*P-2*d}).attr("fill",function(e){c=e.color;f=_.getSemanticFormat(w.formatRules,L,e);if(f&&f.color){c=f.color}var t={drawingEffect:"normal",fillColor:c};return J.register(t)});if(h){p.attr("shape-rendering","crispEdges")}}else{var m=0;if(a==="resizing"&&w.animation.resizing){m=500}if($){if(m>0){$.transition().attr("transform",function(e){return"translate("+e.left+","+e.top+")"}).delay(0).duration(m)}else{$.attr("transform",function(e){return"translate("+e.left+","+e.top+")"})}}p=n;if(m>0){p=n.transition()}p=p.attr("x",d).attr("id",function(e,t){return"HM"+e.index+M}).attr("class",b).attr("y",d).attr("width",function(e){return e.width-2*P-2*d}).attr("height",function(e){return e.height-2*P-2*d}).attr("fill",function(e){c=e.color;f=_.getSemanticFormat(w.formatRules,L,e);if(f&&f.color){c=f.color}var t={drawingEffect:"normal",fillColor:c};return J.register(t)}).attr("stroke","none");if(h){p.attr("shape-rendering","crispEdges")}if(m>0){p.delay(0).duration(m).each("end",ie)}}if(t){if(!k){j.selectAll("text").remove();j.selectAll("rect").data(r,function(e){return e.index}).enter()}if($){$.append("text").attr("class","v-heatmapdatalabel").attr("x",function(e){return e.width/2}).attr("y",function(e){return e.height/2}).attr("text-anchor","middle").text(function(e){return e.textContent}).attr("fill","#ffffff").attr("font-size","12px").attr("font-family","'Open Sans', Arial, Helvetica, sans-serif").attr("pointer-events","none").each(function(e){if(e.textContent!==e.label&&e.textContent.length>0){this.appendChild(document.createElementNS(this.namespaceURI,"title")).textContent=e.label}})}}if(k){var g=0;if(a==="dataLoading"&&w.animation.dataLoading){g=1e3}else if(a==="dataUpdating"&&w.animation.dataUpdating){g=500}if(g>0){p.attr("fill-opacity",0);p.transition().delay(0).duration(g).attr("fill-opacity",1).each("end",ie)}else{p.attr("fill-opacity",1);ie()}}else{p.attr("fill-opacity",1);ie()}if(k){I=j.append("g").attr("class","v-element").attr("visibility","hidden");I.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");I.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");I.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");I.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c")}else{if(I){I.attr("visibility","hidden")}}k=false};var ie=function(e,t){if(t===Z.length-1||Z.length===0||e===undefined&&t===undefined){B.initialized()}};function re(){}function se(){}var oe=function(e){var t=Z[e];var a="";var i="";var s=false;if(!G){s=true}if(s){a=U.values[0].rows[e].val;if(G){i=G.values[0].rows[e].val}}else{var o=U.values[0].rows;var n=G.values[0].rows;var l=o.length;var u=n.length;a=U.values[0].rows[e%l].val;i=G.values[0].rows[Math.floor(e/l)].val}X.select("rect").attr("width",160).attr("height",78).attr("fill","rgb(255,255,255)");X.attr("transform","translate("+(t.left+t.width/2+5)+","+(t.top+t.height/2+5)+")");if(!r.isNoValue(t.val)){X.select(".valText").text(t.val);X.select(".valXValue").text(a);X.select(".valYValue").text(i);X.attr("visibility","visible");if(w.guideline.visible){q.select(".xGuidline").attr("x1",Z[e].left+Z[e].width/2).attr("x2",Z[e].left+Z[e].width/2);q.select(".yGuidline").attr("y1",Z[e].top+Z[e].height/2).attr("y2",Z[e].top+Z[e].height/2);q.attr("visibility","visible")}}};var ne=function(e){if(e===null||e===undefined){e=u.get("IDS_ISNOVALUE")}return e};var le=function(e){var t={body:[],footer:[]};var a=Z[e];var i={name:ne(Y.values[0].col),val:[{color:a.color,value:r.isNoValue(a.val)?Q:a.val}]};t.body.push(i);if(o.isExist(U)){for(var s=U.values,n=s.length,l=n-1;l>=0;l--){var u={};u.label=s[l].col;u.value=s[l].rows[e%s[l].rows.length];t.footer.push(u)}}if(o.isExist(G)){var d=Math.floor(e/U.values[0].rows.length);for(var s=G.values,n=s.length,l=n-1;l>=0;l--){var u={};u.label=s[l].col;u.value=s[l].rows[d%s[l].rows.length];t.footer.push(u)}}return t};var ue=function(){X.attr("visibility","hidden");q.attr("visibility","hidden")};var de=function(e){if(!r.isNoValue(e.datum().val)){I.attr("visibility","visible");var t=e.datum().left;var a=e.datum().left+e.datum().width-P;var i=e.datum().top;var s=e.datum().top+e.datum().height-P;I.select(".HLLeft").attr("x1",t).attr("y1",i).attr("x2",t).attr("y2",s);I.select(".HLRight").attr("x1",a).attr("y1",i).attr("x2",a).attr("y2",s);I.select(".HLTop").attr("x1",t).attr("y1",i).attr("x2",a).attr("y2",i);I.select(".HLBottom").attr("x1",t).attr("y1",s).attr("x2",a).attr("y2",s)}};var he=function(e){I.attr("visibility","hidden")};ee.mouseover=function(e){var t=d3.select(e);var a=t.attr("id");if(a&&w.tooltip.enabled){var r=a.toString().length-M.toString().length-2;var s=a.toString().substr(2,r);var o=g.getTransformToElement(W.node(),W.node().ownerSVGElement);var n=W.node().ownerSVGElement.parentNode.getBoundingClientRect();var l=e.getBoundingClientRect();var u=le(s);u.point={x:l.left-n.left+l.width/2,y:l.height>16?l.top-n.top+8:l.top-n.top+l.height/2};u.plotArea={x:o.e,y:o.f,width:D,height:E};B.showTooltip(i.formatTooltipData(u));de(t)}};ee.afterUIComponentAppear=function(){B.initialized()};ee.mouseout=function(e){if(w.tooltip.enabled){B.hideTooltip()}var t=d3.select(e);he(t)};ee.parent=function(){return W};ee.highlight=function(e,t){m.highlightProperties.hoverBorderColor="#999999";m.highlightProperties.selectedBorderColor="#000000";m.nodesHighlight(e,{factor:.7,constant:0},J,t);if(K){c.clearSelectionInfo(W,true,e)}if(!o.isArray(e)){e=[e]}if(t){d3.selectAll(e).classed(x,false);d3.selectAll(e).classed(A,true)}else{d3.selectAll(e).classed(x,true);d3.selectAll(e).classed(A,false)}m.resetHighlightProperties()};ee.unhighlight=function(e,t,a){m.highlightProperties.hoverBorderColor="#999999";m.highlightProperties.selectedBorderColor="#000000";m.nodesUnhighlight(e,t,a);if(K){c.clearSelectionInfo(W,false,e)}if(!o.isArray(e)){e=[e]}if(t){d3.selectAll(e).classed(x,true);d3.selectAll(e).classed(A,false)}else{d3.selectAll(e).classed(x,false);d3.selectAll(e).classed(A,false)}m.resetHighlightProperties()};ee.clear=function(e){if(e==null||e==false){var t=W.selectAll(v);t.attr("fill-opacity",1);if(K){c.clearSelectionInfo(W,false,t)}}else{W.selectAll(v).attr("fill-opacity",.4)}};ee.width=function(e){if(!arguments.length){return D}D=e;ce();return ee};ee.height=function(e){if(!arguments.length){return E}E=e;fe();return ee};ee.data=function(e){if(!arguments.length){return L}L=e;k=true;U=L.getAnalysisAxisDataByIdx(0);G=L.getAnalysisAxisDataByIdx(1);Y=L.getMeasureValuesGroupDataByIdx(0);if(Y.values[0].rows[0][0].info&&Y.values[0].rows[0][0].info.defaultSelection){K=true}else{K=false}return ee};ee.properties=function(e){if(!arguments.length){return T}h.extend(true,w,e);h.extend(true,T,e);k=true;return ee};ee.getDatapointsByRange=function(e){var t=W.selectAll(v)[0],a=[],i=e.ctx.ranges,s;for(var o=0,n=t.length;o<n;o++){s=t[o].__data__.val;if(e.val==="N/A"){if(r.isNoValue(s)){a.push(t[o])}}else{if(s<i.endValue&&s>i.startValue){a.push(t[o])}else{if(!i.isLeftOpen&&s===i.startValue){a.push(t[o])}else if(!i.isRightOpen&&s===i.endValue){a.push(t[o])}}}}return a};ee.mbcLegendInfo=function(){var e=pe();return{colorScale:e,title:Y.values[0].col}};ee.getPreferredSize=function(){};ee.categoryScaleX=function(){return R};ee.getDisableGrayTitle=function(){var e=false;if(!G){e=true}return e};ee.isDrawXaxisBody=function(){var e=false;if(!G){e=true}return!e};ee.categoryScaleY=function(){return F};ee.dataLabel=function(e){};var pe=function(){var e=d3.scale.ordinal();var t=[];var a=false;if(!G){a=true}if(a){var i=Y.values[0].rows[0];for(var s=0;s<i.length;s++){t.push(i[s])}}else{var o=U.values[0].rows;var n=G.values[0].rows;var i=Y.values[0].rows;var u=o.length;var d=n.length;for(var s=0;s<d;s++){for(var h=0;h<u;h++){t.push(i[s][h])}}}var p=-Number.MAX_VALUE;var c=Number.MAX_VALUE;for(var f=0;f<t.length;f++){if(!r.isNoValue(t[f].val)){if(p<t[f].val){p=t[f].val}if(c>t[f].val){c=t[f].val}}}var m=false;for(var s=0;s<t.length;s++){if(r.isNoValue(t[s].val)){m=true}}var _=w.colornumber;var g={numberOfTicks:_,startColor:w.startColor,endColor:w.endColor,nullColor:w.emptycolor,legendValues:w.legendValues};if(w.colorPalette){g.colorPalette=w.colorPalette}var v=l.getColorScale(c,p,m,g);l.fillContexts2DomainInfo4MBC(v,t);return v};var ce=function(){var e=false;if(!G){e=true}var t=U.values[0].rows;var a=[];for(var i=0;i<t.length;i++){a.push(i)}R=R.domain(a).rangeBands([0,D])};var fe=function(){var e=false;if(!G){e=true}if(e){F=F.domain([0,0]).rangeBands([0,0])}else{var t=G.values[0].rows;var a=[];for(var i=0;i<t.length;i++){a.push(i)}F=F.domain(a).rangeBands([E,0])}};ee.dispatch=function(e){if(!arguments.length)return B;B=e;return ee};var S=function(e,t){for(var a in t){if(typeof t[a]==="object"){if(e[a]){e[a]=S(e[a],t[a])}else{e[a]=t[a]}}else{e[a]=t[a]}}return e};ee.destroy=function(){if(W){W.selectAll("."+s).remove()}if(a){a.destroy();a=null}L=null;I=null;R.domain([0,1]).range([0,1]);R=null;F.domain([0,1]).range([0,1]);F=null;U=null;G=null;Y=null;Z=[];W=null;$=null};return ee};return v});define("sap/viz/feeds/HeatMap",["sap/viz/feeds/Manifest","sap/viz/data/feed/Constants"],function e(t,a){var i={id:"mainLabelAxis",name:"IDS_MAINLABELAXISNAME",type:a.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:-1};var r={id:"rectangleColor",name:"IDS_RECTANGLECOLOR",type:a.Type.Measure,min:1,max:1,mgIndex:1};var s={id:"secondaryLabelAxis",name:"IDS_SECONDARYAXISLABELNAME",type:a.Type.Dimension,min:0,max:1,aaIndex:2,acceptMND:-1};var o={id:"heatMap",feeds:[i,r,s]};var n={viz:[],module:[],feeds:[o]};return n});define("sap/viz/modules/manifests/HeatMap",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/heatmap","sap/viz/feeds/HeatMap"],function e(t,a,i,r){var s={id:"sap.viz.modules.heatmap",type:a.Type.Chart,name:"heatmap",properties:{border:{name:"border",description:"Settings for the border",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set the visibility of the zone edge"}}},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the data loading animation is enabled"},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the data updating animation is enabled"},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the resizing animation is enabled"}},description:"Settings for animations in the plot area",example:"<a href='"+a.DocExample.SnippetUrl+"8751' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},startColor:{name:"startColor",supportedValueType:"String",defaultValue:"#C2E3A9",description:"Set the starting color of the heat map"},endColor:{name:"endColor",supportedValueType:"String",defaultValue:"#73C03C",description:"Set the end color of the heat map"},colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:undefined,description:'Set the color palette for the various sectors. For example, ["#748CB2", "#9CC677", "#EACF5E", "#F9AD79", "#D16A7C"].'},legendValues:{name:"legendValues",supportedValueType:"IntArray",defaultValue:undefined,description:"Set the MBC legend values. For example, [10,11,12,13,14,15]. "+"The values in the array should be in ascending order. If the number of values in the array is smaller than the MBC legend segment number, "+"the MBC legend automatically calculates the values according to the data. If the number of values in the legendValues array is larger than MBC legend segment number, "+'then only the first "segment number + 1" values are used.'},formatRules:{name:"formatRules",supportedValueType:"Array",isExported:true,description:'Sample value for formatRules:  [{condition: [{Key1:Value1, Key2:Value2}], color:"#00ff00"}, {condition: [{Key3:Value3}], color:"#00ffff"}].   Each rule has two properties: the "condition" and the "color".   Value1, Value2 and Value3 are values. <br />  The value of a dimension may be <br />  1, Single value (string), like "China" . <br />  2. Array (enumeration), like ["UK","USA"] . <br />  The value of a measure may be <br />  1, Single value (number), like 20 . <br />  2. Arry (enumeration), like [121,122] . <br />  3. Object (range), like {min:100, max 200} . Min and max are inclusive.   If users want to inlcude 200, but not 100 in the range, they may use {min:100.00001, max:200}.   If users want values larger than 100, they may write {min:100}. <br />   The color is applied if one or more conditions in the condition array is met.   If multiple rules could apply on the same data point, it is the last rule that takes effect.',example:"<a href='"+a.DocExample.SnippetUrl+"8307' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},tooltip:{name:"tooltip",description:"Settings for tooltip",supportedValueType:"Object",supportedValues:{visible:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the tooltip is enabled"}},isExported:false}},events:{initialized:a.Event.Initialized.desc,selectData:a.Event.SelectData.desc,deselectData:a.Event.DeSelectData.desc,showTooltip:a.Event.TooltipShow.desc,hideTooltip:a.Event.TooltipHide.desc},feeds:{id:"heatMap"},css:{},configure:null,fn:i};var o={viz:[],module:[s],feeds:[].concat(r.feeds)};return o});define("sap/viz/manifests/HeatMapChart",["sap/viz/manifests/Viz","sap/viz/modules/Constants","sap/viz/manifests/BaseSingleChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/Axis","sap/viz/chart/elements/manifests/Tooltip","sap/viz/modules/manifests/HeatMap","sap/viz/modules/manifests/legend/Common","sap/viz/chart/elements/manifests/controller/Interaction"],function e(t,a,i,r,s,o,n,l,u){var d={id:"viz/heatmap",name:"IDS_HEATMAPCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/base/single",modules:{root:{configure:{properties:{layout:{adjustPolicy:a.LAYOUT_ADJUST_POLICY.RELAYOUT}}},modules:{legends:{id:"sap.viz.modules.legend",configure:{properties:{layout:{position:"right",priority:1}}},modules:{legend:{id:"sap.viz.modules.legend.common",configure:{description:"Settings for the measure-based coloring legend. The measure-based coloring legend is a bar containing various colors and a value scale indicating the relationship between the values and those colors. ",properties:{type:"MeasureBasedColoringLegend"},propertiesOverride:{isHierarchical:{isExported:false},isScrollable:{isExported:false},formatString:{isExported:true}}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"heatmap",orientation:"bottom"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,orientation:"vertical",position:"inside",automaticInOutside:false,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:false},propertiesOverride:{position:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the x axis of a normal heatmap",propertyCategory:"xAxis",properties:{type:"category",position:"bottom",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[2]},configure:{description:"Settings for the y axis of a normal heatmap",propertyCategory:"yAxis",properties:{type:"category",position:"left",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},plot:{id:"sap.viz.modules.heatmap",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScaleX"},{targetModule:"root.main.xAxis",target:"isDrawBody",sourceModule:"root.main.plot",source:"isDrawXaxisBody"},{targetModule:"root.main.xAxis",target:"setDisableGrayTitle",sourceModule:"root.main.plot",source:"getDisableGrayTitle"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScaleY"},{targetModule:"root.legends.legend",target:"mbcLegendInfo",sourceModule:"root.main.plot",source:"mbcLegendInfo"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]},categoryAxis:["xAxis","yAxis"]};var h={viz:[d].concat(i.viz),module:[].concat(i.module,r.module,s.module,o.module,n.module,l.module,u.module),feeds:[].concat(i.feeds,r.feeds,s.feeds,o.feeds,n.feeds,l.feeds)};return h});define("sap/viz/impls/HeatMapChart",["sap/viz/manifests/HeatMapChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/xy/HorizontalAreaChart",["sap/viz/manifests/Viz","sap/viz/base/UADetector","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/xy/Area","sap/viz/manifests/xy/BaseHorizontalChart","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/modules/manifests/controller/Pinch"],function e(t,a,i,r,s,o,n){var l={id:"viz/horizontal_area",name:"IDS_HORIZONTALAREACHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/basehorizontalchart",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left"}}},interaction:{configure:{properties:{holdSelection:false}}},main:{modules:{yAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"yAxis",properties:{indicator:{enable:true},isKeepFirstAndLastLabel:true},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"xAxis",properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,outsidePosition:"left",showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",propertiesOverride:{bStacked:true},properties:{orientation:"horizontal"}}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"getColorPalette"},{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.xAxis",source:"range"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]},categoryAxis:["yAxis"],valueAxis:["xAxis"]};if(a.isMobile()){var u=l.modules.root.modules;u.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var d=l.dependencies.attributes;var h=l.dependencies.events;d.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});h.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});h.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});h.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});h.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});h.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});h.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});h.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});h.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});h.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});h.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});h.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"})}var p={viz:[l].concat(s.viz),module:[].concat(s.module,i.module,r.module,o.module,n.module),feeds:[].concat(s.feeds,i.feeds,r.feeds,o.feeds,n.feeds)};return p});define("sap/viz/impls/HorizontalAreaChart",["sap/viz/manifests/xy/HorizontalAreaChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/modules/BaseBoxplot",["sap/viz/modules/Constants","sap/viz/base/utils/oo","sap/viz/modules/BaseGesture","sap/viz/base/utils/TypeUtils","sap/viz/modules/dispatch","sap/viz/modules/util/MNDHandler","sap/viz/util/ColorSeriesGenerator","sap/viz/util/Scaler","sap/viz/util/NumberUtils","sap/viz/lang/langManager","sap/viz/modules/util/tooltipDataHandler","sap/viz/base/utils/Objects","sap/viz/modules/util/BoundUtil","sap/viz/modules/util/defaultSelectionUtil","sap/viz/modules/util/GestureUtil","sap/viz/modules/util/ClippathUtil","sap/viz/base/UADetector","sap/viz/util/DrawUtil"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g,v){var y="v-datashapesgroup";var b="v-datapoint";var x=d.get("IDS_ISNOVALUE");var A=t.CSS.CLASS.DATAPOINTSELECTED;var M=t.CSS.CLASS.DATAPOINTHOVER;var S={Maximum:"Maximum",ThirdQuartile:"3Quartile",Median:"Median",FirstQuartile:"1Quartile",Minimum:"Minimum",Outlier:"Outlier"};var z=function(e,t){z.superclass.constructor.apply(this,arguments);this._box_dimensionGroup=[];this._box_dimensionDomain=[];this._box_seriesData=[];this._box_legendData=[];this._box_regionData=[];this._box_dimensionData=[];this._box_boxplotData=[];this._box_colorPalette=[];this._box_boxColorPalette=[];this._box_data=null;this._box_dimensions={"sap.viz.modules.verticalboxplot.dimension":{key:"sap.viz.modules.verticalboxplot.dimension",values:null}};this._box_lastHovered=null;this._box_tooltipVisible=true;this._box_hasDefaultSelection=false;this._box_scaleMinMax={min:0,max:0,initMin:0,initMax:0};this._box_scaleManualRange=false;this._box_effectManager=t.effectManager;this._box_drawingEffect="normal";p.extend(true,this._props,e.props(null));this._box_outlierLayout={radius:4,strokeWidth:1,color:"#000000"};this._box_lineLayout={strokeWidth:1};this._box_quartileLayout={width:"0",midLineColor:"#000000"};this._box_highlightLayout={selectedStrokeWidth:1,hoveredStrokedWidth:2,selectedOpacity:1,grayOpactiy:.4};this._box_lowOutLiersObj=[];this._box_highOutLiersObj=[];this._box_whiskersObj=[];this._box_lowWhiskerObj=[];this._box_highWhiskerObj=[];this._box_quartilesObj=[];this._box_outLiersObj=[];this._box_defsEnter=null,this._box_id=Math.floor(Math.random()*1e4);this._box_axisList={xAxis:{},yAxis:{}};this._box_decoration={}};a.extend(z,i);z.prototype.render=function(e,t){};z.prototype.width=function(e){if(!arguments.length){return this._width}this._width=e;if(r.isExist(this._width)&&r.isExist(this._height)&&r.isExist(this._box_seriesData)){this._boxfn_makeScales()}return this};z.prototype.height=function(e){if(!arguments.length){return this._height}this._height=e;if(r.isExist(this._width)&&r.isExist(this._height)&&r.isExist(this._box_seriesData)){this._boxfn_makeScales()}return this};z.prototype.parent=function(){return this._d3root};z.prototype.highlight=function(e,t){if(!(e instanceof Array)){e=[e]}for(var a=0;a<e.length;a++){this._boxfn_boxElementsHighlight(e[a],t)}if(this._box_hasDefaultSelection){f.clearSelectionInfo(this._d3root,true,e)}};z.prototype.unhighlight=function(e,t,a){if(!(e instanceof Array)){e=[e]}for(var i=0;i<e.length;i++){this._boxfn_boxElementsUnHighlight(e[i],t,a)}if(this._box_hasDefaultSelection){f.clearSelectionInfo(this._d3root,false,e)}};z.prototype.clear=function(e){if(e===null||e===undefined||e===false){this._d3root.selectAll(".v-quartile").attr("fill-opacity",1);this._d3root.selectAll(".v-lineverticallowwhisker").attr("stroke-opacity",1);this._d3root.selectAll(".v-lineverticalhighwhisker").attr("stroke-opacity",1);this._d3root.selectAll(".v-linehorizontallowwhisker").attr("stroke-opacity",1);this._d3root.selectAll(".v-linehorizontalhighwhisker").attr("stroke-opacity",1);this._d3root.selectAll(".v-outliers").attr("fill-opacity",1);this._d3root.selectAll(".v-boxplotmidline").attr("stroke-opacity",1);if(this._box_hasDefaultSelection){f.clearSelectionInfo(this._d3root,false,this._d3root.selectAll(".v-datapoint"))}}else{this._d3root.selectAll(".v-quartile").attr("fill-opacity",.4);this._d3root.selectAll(".v-lineverticallowwhisker").attr("stroke-opacity",.4);this._d3root.selectAll(".v-lineverticalhighwhisker").attr("stroke-opacity",.4);this._d3root.selectAll(".v-linehorizontallowwhisker").attr("stroke-opacity",.4);this._d3root.selectAll(".v-linehorizontalhighwhisker").attr("stroke-opacity",.4);this._d3root.selectAll(".v-outliers").attr("fill-opacity",.4);this._d3root.selectAll(".v-boxplotmidline").attr("stroke-opacity",.4)}this._d3root.selectAll(".v-recthighwhisker").attr("fill-opacity",0);this._d3root.selectAll(".v-rectlowwhisker").attr("fill-opacity",0)};z.prototype._boxfn_setClassName=function(e,t,a){if(e.length>0){for(var i=0;i<e.length;i++){d3.select(e[i]).classed(t,a)}}};z.prototype._boxfn_boxElementsHighlight=function(e,t){var a=this._boxfn_getBoxElements(e);var i=a.quartiles[0].concat(a.outliers[0]);var r=a.lowWhiskers[0].concat(a.highWhiskers[0]);var s=a.midLine[0];var o=a.connectLines[0];this._box_decoration={};if(a.quartiles[0][0]){var n=v.getColorString(a.quartiles[0][0],"fill");var l=v.colorLinerTransform(this._box_effectManager,{factor:.7,constant:0},n);var u=v.rgb2Hex(l);this._box_decoration["stroke"]=u}if(t){this._box_decoration["stroke-width"]=this._box_highlightLayout.hoveredStrokedWidth;this._boxfn_setClassName(i,M,true);this._boxfn_setClassName(i,A,false);this._boxfn_setClassName(r,M,true);this._boxfn_setClassName(r,A,false)}else{this._box_decoration["fill-opacity"]=this._box_highlightLayout.selectedOpacity;this._box_decoration["stroke-width"]=this._box_highlightLayout.selectedStrokeWidth;this._boxfn_setClassName(i,M,false);this._boxfn_setClassName(i,A,true);this._boxfn_setClassName(r,M,false);this._boxfn_setClassName(r,A,true)}for(var d=0;d<i.length;d++){v.nodeDecoration(i[d],this._box_decoration)}if(r.length>0){delete this._box_decoration["fill-opacity"];this._box_decoration["stroke-opacity"]=this._box_highlightLayout.selectedOpacity;for(var h=0;h<r.length;h++){v.nodeDecoration(r[h],this._box_decoration)}}if(s.length>0){this._box_decoration={};this._box_decoration["stroke-opacity"]=this._box_highlightLayout.selectedOpacity;for(var p=0;p<s.length;p++){v.nodeDecoration(s[p],this._box_decoration)}}if(o.length>0){this._box_decoration={};this._box_decoration["stroke-opacity"]=this._box_highlightLayout.selectedOpacity;for(var c=0;c<o.length;c++){v.nodeDecoration(o[c],this._box_decoration)}}};z.prototype._boxfn_boxElementsUnHighlight=function(e,t,a){var i=this._boxfn_getBoxElements(e);var r=i.quartiles[0];var s=i.lowWhiskers[0].concat(i.highWhiskers[0]);var o=i.outliers[0];var n=i.midLine[0];var l=i.connectLines[0];this._box_decoration={};if(!t&&i.quartiles[0][0]){var u=v.getColorString(i.quartiles[0][0],"fill");this._box_decoration["stroke"]=u}if(t){this._box_decoration["stroke-width"]=this._box_highlightLayout.selectedStrokeWidth;this._box_decoration["fill-opacity"]=this._box_highlightLayout.selectedOpacity;this._boxfn_setClassName(r,M,false);this._boxfn_setClassName(r,A,true);this._boxfn_setClassName(s,M,false);this._boxfn_setClassName(s,A,true);this._boxfn_setClassName(o,M,false);this._boxfn_setClassName(o,A,true)}else{this._boxfn_setClassName(r,M,false);this._boxfn_setClassName(r,A,false);this._boxfn_setClassName(s,M,false);this._boxfn_setClassName(s,A,false);this._boxfn_setClassName(o,M,false);this._boxfn_setClassName(o,A,false);if(!a){this._box_decoration["fill-opacity"]=this._box_highlightLayout.grayOpactiy}}if(r.length>0){if(!t){this._box_decoration["stroke-width"]=this._box_quartileLayout.width}for(var d=0;d<r.length;d++){v.nodeDecoration(r[d],this._box_decoration)}}if(s.length>0){delete this._box_decoration["fill-opacity"];if(!t){this._box_decoration["stroke-width"]=this._box_lineLayout.strokeWidth;this._box_decoration["stroke-opacity"]=this._box_highlightLayout.grayOpactiy}else{this._box_decoration["stroke-opacity"]=this._box_highlightLayout.selectedOpacity}for(var h=0;h<s.length;h++){v.nodeDecoration(s[h],this._box_decoration)}}if(o.length>0){if(!t){this._box_decoration["stroke-width"]=this._box_outlierLayout.strokeWidth}for(var p=0;p<o.length;p++){v.nodeDecoration(o[p],this._box_decoration)}}if(n.length>0){this._box_decoration={};if(t){this._box_decoration["stroke-opacity"]=this._box_highlightLayout.selectedOpacity}else if(!a){this._box_decoration["stroke-opacity"]=this._box_highlightLayout.grayOpactiy}for(var c=0;c<n.length;c++){v.nodeDecoration(n[c],this._box_decoration)}}if(l.length>0){this._box_decoration={};if(t){this._box_decoration["stroke-opacity"]=this._box_highlightLayout.selectedOpacity}else if(!a){this._box_decoration["stroke-opacity"]=this._box_highlightLayout.grayOpactiy}for(var f=0;f<l.length;f++){v.nodeDecoration(l[f],this._box_decoration)}}};z.prototype.getDataOfDataPoint=function(e){if(e){var t=-1;var a=e.parentNode.childNodes;for(var i=0;i<a.length;i++){if(e===a[i]){t=i;break}}return this._boxfn_getBoxData(t)}};z.prototype.data=function(e){if(!arguments.length){return this._box_data}this._boxfn_clearGlobalData();this._boxfn_parseOptions();this._box_data=e;var t=o(this._box_data);this._boxfn_dataTransform(this._box_data);var a=t["MG1"];if(a[0]&&a[0][0].info&&a[0][0].info.defaultSelection){this._box_hasDefaultSelection=true}else{this._box_hasDefaultSelection=false}var i=a.length;var s;var n=this._box_dimensionGroup[this._box_dimensionGroup.length-1].val;if(n.length!==0){for(var l=0,d=n.length;l<d;l++){var h=n[l].start,p=n[l].end;for(var c=0;c<i;c++){s=[];var f=h,m=p;for(;f<=m;f++){if(!u.isNoValue(a[c][f].val)){s.push(a[c][f])}}this._box_seriesData.push(s)}}}else{for(var _=0;_<i;_++){s=[];for(var g=0;g<a[_].length;g++){if(!u.isNoValue(a[_][g].val)){s.push(a[_][g])}}this._box_seriesData.push(s)}}this._boxfn_locateBoundary(this._box_seriesData);this._boxfn_generateDimensions();if(r.isExist(this._width)&&r.isExist(this._height)){this._boxfn_makeScales()}this._boxfn_generateTooltipData();this._boxfn_createColorPalette(this._box_regionData.length);if(this._d3root){this._d3root.select("."+y).attr("transform",null)}return this};z.prototype.dimensionData=function(e){if(!arguments.length){return this._box_dimensions}this._box_dimensions=e;return this};z.prototype.primaryAxisTitle=function(e){if(!arguments.length){var t=this._box_data.getMeasureValuesGroupDataByIdx(0),a=[];if(t){for(var i=0,r=t.values.length;i<r;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){a.push(t.values[i].col)}else{a.push(d.get("IDS_ISNOVALUE"))}}}return a.join(" & ")}return this};z.prototype.secondAxisTitle=function(e){if(!arguments.length){var t=this._box_data.getMeasureValuesGroupDataByIdx(1),a=[];if(t){for(var i=0,r=t.values.length;i<r;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){a.push(t.values[i].col)}else{a.push(d.get("IDS_ISNOVALUE"))}}}return a.join(" & ")}return this};z.prototype.properties=function(e){if(!arguments.length){return this._props}p.extend(true,this._props,e);this._boxfn_parseOptions();this._boxfn_createColorPalette(this._box_regionData.length);return this};z.prototype.categoryScale=function(e){};z.prototype.primaryScale=function(e){};z.prototype.primaryDataRange=function(e){};z.prototype.colorPalette=function(e){if(!arguments.length){return this._box_colorPalette}this._box_colorPalette=e;return this};z.prototype.dispatch=function(e){if(!arguments.length){return this._eDispatch}this._eDispatch=e;return this};z.prototype.destroy=function(){};z.prototype._boxfn_makeScales=function(){};z.prototype._boxfn_parseOptions=function(){this._box_tooltipVisible=this._props.tooltip.enabled;this._box_colorPalette=this._props.colorPalette;this._box_drawingEffect=this._props.drawingEffect};z.prototype._boxfn_clearBoxData=function(){this._box_lowOutLiersObj=[];this._box_highOutLiersObj=[];this._box_whiskersObj=[];this._box_lowWhiskerObj=[];this._box_highWhiskerObj=[];this._box_quartilesObj=[];this._box_outLiersObj=[]};z.prototype._boxfn_clearGlobalData=function(){this._box_dimensionGroup=[];this._box_dimensionDomain=[];this._box_seriesData=[];this._box_legendData=[];this._box_regionData=[];this._box_dimensionData=[];this._box_boxplotData=[]};z.prototype._boxfn_getBoxData=function(e){var t={dimension:{},measure:{},context:{}},a=0;var i="";if(this._box_regionData){a=e%this._box_regionData.length;t.context.type="Measure";t.context.path=this._box_regionData[a].name.ctx.path;i=this._box_regionData[a].name.val;if(this._box_boxplotData){if(this._box_boxplotData[e]){for(var r in this._box_boxplotData[e]){if(this._box_boxplotData[e].hasOwnProperty(r)){t.measure[r+" "+i]=this._box_boxplotData[e][r].val}}}}}if(this._box_dimensionData){a=Math.floor(e/this._box_regionData.length);for(var s=0;s<this._box_dimensionData.length;s++){if(this._box_dimensionData[s].rows.length>0){t.dimension[this._box_dimensionData[s].col.val]=this._box_dimensionData[s].rows[a].val}}}return t};z.prototype._boxfn_locateBoundary=function(e){if(r.isExist(e)){var t=e.length;var a=false;for(var i=0;i<t;i++){if(e[i].length>0){if(!a){this._box_scaleMinMax=this._boxfn_findMinMax(e[i]);a=true}else{var s=this._boxfn_findMinMax(e[i]);if(s){if(s.min<this._box_scaleMinMax.min){this._box_scaleMinMax.min=s.min}if(s.max>this._box_scaleMinMax.max){this._box_scaleMinMax.max=s.max}}}}}this._box_scaleMinMax.initMin=this._box_scaleMinMax.min;this._box_scaleMinMax.initMax=this._box_scaleMinMax.max}};z.prototype._boxfn_findMinMax=function(e){var t={min:0,max:0};if(r.isExist(e)){e.sort(function(e,t){return e.val-t.val});t={min:e[0].val,max:e[e.length-1].val}}return t};z.prototype._boxfn_even=function(e){return(e&1)===0};z.prototype._boxfn_median=function(e,t,a){var i=a-t+1;if(i<=0){return-1}var r;var s=e[t+Math.floor((i+1)/2)-1].ctx;var o=e[t+Math.floor((i+1)/2)-1].info;if(this._boxfn_even(i)){r=(e[t+Math.floor((i+1)/2)-1].val+e[t+Math.floor((i+1)/2)].val)/2}else{r=e[t+Math.floor((i+1)/2)-1].val}return{ctx:s,info:o,val:r}};z.prototype._boxfn_setDistribution=function(e){if(e&&e.length>0){var t=e.length;var a={};a[S.Maximum]=null;a[S.ThirdQuartile]=null;a[S.Median]=null;a[S.FirstQuartile]=null;a[S.Minimum]=null;var i=this._boxfn_median(e,0,t-1);a[S.Median]=i;var r=e[Math.floor(t/2)];e[Math.floor(t/2)]=i;var s=this._boxfn_median(e,0,Math.floor(t/2));e[Math.floor(t/2)]=r;r=e[Math.floor((t-1)/2)];e[Math.floor((t-1)/2)]=i;var o=this._boxfn_median(e,Math.floor((t-1)/2),t-1);e[Math.floor((t-1)/2)]=r;a[S.ThirdQuartile]=o;a[S.FirstQuartile]=s;var n=o.val-s.val;var l=s.val-1.5*n;var u=o.val+1.5*n;var d=0;while(e[d].val<l){d++}var h=e[d];a[S.Minimum]=h;if(h){if(s){if(s.val!==h.val){this._box_lowWhiskerObj.push({pair:[s,h],ctx:[h.ctx],val:[h.val],info:[h.info]})}}}var p;for(p=0;p<d;p++){this._box_outLiersObj.push(e[p])}var c=t-1;while(e[c].val>u){c--}var f=e[c];a[S.Maximum]=f;for(p=0;p<t-c-1;p++){this._box_outLiersObj.push(e[c+1+p])}for(var m=0;m<this._box_outLiersObj.length;m++){a[S.Outlier+(m+1)]=this._box_outLiersObj[m]}if(f){if(o){if(o.val!==f.val){this._box_highWhiskerObj.push({pair:[f,o],ctx:[f.ctx],val:[f.val],info:[f.info]})}}}if(s&&o&&i){if(s.val===o.val){this._box_quartilesObj.push({pair:[s,s],midLine:null,ctx:[s.ctx],val:[s.val],info:[s.info]})}else if(i.val===o.val){this._box_quartilesObj.push({pair:[o,s],midLine:null,ctx:[o.ctx],val:[o.val],info:[o.info,s.info]})}else if(i.val===s.val){this._box_quartilesObj.push({pair:[o,s],midLine:null,ctx:[s.ctx],val:[s.val],info:[o.info,s.info]})}else{this._box_quartilesObj.push({pair:[o,i],midLine:i,ctx:[o.ctx],val:[o.val],info:[o.info]});this._box_quartilesObj.push({pair:[i,s],midLine:i,ctx:[s.ctx],val:[s.val],info:[s.info]})}}this._box_boxplotData.push(a)}};z.prototype._boxfn_handleNull=function(e){if(e===null||e===undefined){return x}else{return e}};z.prototype._boxfn_caculateLeavesNum=function(e,t){var a=this._box_dimensionGroup.length,i=0,r=0,s=this._box_dimensionGroup[a-1].val;while(s[r].start!==e){r++}while(s[r].end!==t){i++;r++}i++;return i};z.prototype._boxfn_generateTooltipData=function(){if(this._box_dimensions){for(var e in this._box_dimensions){if(this._box_dimensions.hasOwnProperty(e)){this._box_dimensionData=this._box_dimensions[e].values}}}var t,a;if(this._box_legendData){var i=this._box_legendData.values;if(i.length>1){var r,s,o;if(i[0].type==="MND"){for(s=0;s<i[0].rows.length;s++){for(t=0;t<i[1].rows.length;t++){a={name:null,shape:null,color:null,label:null};a.name=i[0].rows[s];r=[];for(o=1;o<i.length;o++){r.push(i[o].rows[t])}a.label=r;this._box_regionData.push(a)}}}else if(i[i.length-1].type==="MND"){for(t=0;t<i[0].rows.length;t++){r=[];for(o=0;o<i.length-1;o++){r.push(i[o].rows[t])}for(s=0;s<i[i.length-1].rows.length;s++){a={name:null,shape:null,color:null,label:null};a.label=r;a.name=i[i.length-1].rows[s];this._box_regionData.push(a)}}}}else{for(t=0;t<i[0].rows.length;t++){a={name:null,shape:null,color:null,label:null};a.name=i[0].rows[t];this._box_regionData.push(a)}}}for(var n=0;n<this._box_regionData.length;n++){this._box_regionData[n].shape="squareWithRadius"}};z.prototype._boxfn_makeSubGroup=function(e,t,a,i,r){if(e&&t<=a&&a<e.length){var s=t,o=t,n=t;while(n<=a){var l=[];while(n+1<=a&&e[n+1].val===e[n].val){l.push(e[o].ctx);o++;n++}if(o<e.length){l.push(e[o].ctx)}e[s].contexts=l;i.push({val:e[s],parentGroupIndex:r,start:s,end:o});n++;s=o=n}}};z.prototype._boxfn_generateGroup=function(e){var t=[];if(e){var a=this._box_dimensionGroup.length;var i=a>0?this._box_dimensionGroup[a-1].val:null;if(i){for(var r=0,s=i.length;r<s;r++){var o=i[r];var n=o.start;var l=o.end;this._boxfn_makeSubGroup(e,n,l,t,r)}}else{this._boxfn_makeSubGroup(e,0,e.length-1,t,null)}}return t};z.prototype._boxfn_dataTransform=function(e){if(e){var t=e.getAnalysisAxisDataByIdx(0);this._box_legendData=e.getAnalysisAxisDataByIdx(1);if(t){var a=t.values.length;if(a===1){this._box_dimensionGroup.push({col:t.values[0].col.val,val:[]})}else{for(var i=0;i<a-1;i++){var r=t.values[i].rows;this._box_dimensionGroup.push({col:t.values[i].col.val,val:this._boxfn_generateGroup(r)})}}}}};z.prototype._boxfn_generateDimensions=function(){};z.prototype._boxfn_createColorPalette=function(e){this._box_boxColorPalette=[];if(this._box_colorPalette.length>0){for(var t=0;t<e;++t){this._box_boxColorPalette.push(this._box_colorPalette[t%this._box_colorPalette.length])}}};return z});define("sap/viz/modules/horizontalboxplot",["sap/viz/base/utils/oo","sap/viz/modules/BaseBoxplot","sap/viz/base/utils/TypeUtils","sap/viz/modules/dispatch","sap/viz/modules/util/MNDHandler","sap/viz/util/ColorSeriesGenerator","sap/viz/util/Scaler","sap/viz/util/NumberUtils","sap/viz/lang/langManager","sap/viz/modules/util/tooltipDataHandler","sap/viz/base/utils/Objects","sap/viz/modules/util/BoundUtil","sap/viz/modules/util/defaultSelectionUtil","sap/viz/modules/util/GestureUtil","sap/viz/modules/util/ClippathUtil","sap/viz/base/UADetector","sap/viz/util/DrawUtil","sap/viz/modules/util/selectionUtil"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g,v){var y="v-datashapesgroup";var b="v-datapoint";var x=u.get("IDS_ISNOVALUE");var A={Maximum:"Maximum",ThirdQuartile:"3Quartile",Median:"Median",FirstQuartile:"1Quartile",Minimum:"Minimum"};var M=function(e,t){M.superclass.constructor.apply(this,arguments);this._box_dimensions={"sap.viz.modules.horizontalboxplot.dimension":{key:"sap.viz.modules.horizontalboxplot.dimension",values:null}};this._dimensionScale=d3.scale.ordinal();this._box_boxHeight=undefined;this._box_axisList.xAxis.axis=this._valueAxis1.scale;this._box_axisList.xAxis.type="value";this._box_axisList.yAxis.axis=this._dimensionScale;this._box_axisList.yAxis.type="category"};t.extend(M,a);M.prototype.render=function(e,t){var a=this;e.each(function(){p.drawBound(e,a._width,a._height,undefined,true);if(_.isMobile()){var r=m.drawClippath(e,a._width,a._height);e.attr("clip-path","url(#"+r+")")}var s=1;a._box_boxHeight=8*a._categoryScale.rangeBand()/(9*s+7);a._d3root=d3.select(this);var o=a._d3root;if(a._box_defsEnter===null){a._box_defsEnter=o.append("defs").append("clipPath").attr("id","clipPlot_"+a._box_id).append("rect").attr("width",a._width).attr("height",a._height)}else{a._box_defsEnter.attr("width",a._width).attr("height",a._height)}var n=o.selectAll("g.v-datashapesgroup");if(!i.isExist(n[0][0])){if(_.isMobile()){a._datashapesgroup=n=o.append("g").attr("class","v-datashapesgroup").attr("fill","none")}else{n=o.append("g").attr("class","v-datashapesgroup").attr("clip-path","url(#clipPlot_"+a._box_id+")").attr("fill","none")}}var l=n.selectAll("g."+b);if(!l.empty()&&!a._isPinching){l.remove()}var u=null;l=n.selectAll("g."+b);if(l.empty()&&!a._isPinching){u=n.selectAll("g."+b).data(a._box_seriesData);u.enter().append("g").attr("class",b)}else{u=n.selectAll("."+b)}u.each(function(e,t){if(e.length===0){a._box_boxplotData.push({});return}e=e.sort(function(e,t){return e.val-t.val});var i=e.length,r=e[0],s=e[i-1];a._boxfn_setDistribution(e);var o=d3.select(this).selectAll("circle.v-outliers");if(o.empty()&&!a._isPinching){o=d3.select(this).selectAll("circle.v-outliers").data(a._box_outLiersObj);o.enter().append("circle")}o.attr("cy",function(e){var i=a._categoryScale(t)+a._box_boxHeight;return i}).attr("cx",function(e,t){var i=a._valueAxis1.scale(e.val);return i}).attr("r",a._box_outlierLayout.radius).attr("stroke",function(e){var i={drawingEffect:"normal",fillColor:a._box_boxColorPalette[t%a._box_boxColorPalette.length]};return a._box_effectManager.register(i)}).attr("stroke-width",a._box_outlierLayout.width).attr("fill","transparent").attr("class","v-morphable-datapoint v-outliers");if(!a._isPinching){o.exit().remove()}var n=d3.select(this).selectAll("rect.v-quartile");if(n.empty()&&!a._isPinching){n=d3.select(this).selectAll("rect.v-quartile").data(a._box_quartilesObj);n.enter().append("rect")}n.attr("y",function(e){var i=a._categoryScale(t)+a._box_boxHeight/2;return i}).attr("x",function(e,t){var i=a._valueAxis1.scale(e.pair[1].val);return i}).attr("height",a._box_boxHeight).attr("width",function(e,t){var i=0;var r=e.pair[0].val-e.pair[1].val;if(r===0){i=1}else{i=a._valueAxis1.scale(e.pair[0].val)-a._valueAxis1.scale(e.pair[1].val)}return i}).attr("shape-rendering","crispEdges").attr("fill",function(e){var i={drawingEffect:a._box_drawingEffect,fillColor:a._box_boxColorPalette[t%a._box_boxColorPalette.length],direction:"vertical"};return a._box_effectManager.register(i)}).attr("stroke-width",a._box_quartileLayout.width).attr("class","v-morphable-datapoint v-quartile");if(a._box_quartilesObj.length===2){var l=a._categoryScale(t)+a._box_boxHeight/2;var u=l+a._box_boxHeight;var d=a._valueAxis1.scale(a._box_quartilesObj[0].midLine.val);var h=d;var p=d3.select(this).selectAll(".v-boxplotmidline");if(p.empty()&&!a._isPinching){p=d3.select(this).append("line")}p.attr("x1",h).attr("y1",l).attr("x2",d).attr("y2",u).attr("stroke","#333333").attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-boxplotmidline")}if(!a._isPinching){n.exit().remove()}var c=0,f=0,m=0,_=0;var g=0,v=0,y=0,b=0;var x=d3.select(this).selectAll("rect.v-rectlowwhisker");if(x.empty()&&!a._isPinching){x=d3.select(this).selectAll("rect.v-rectlowwhisker").data(a._box_lowWhiskerObj);x.enter().append("rect")}x.attr("y",function(e){var i=a._categoryScale(t)+a._box_boxHeight/2;v=b=i+a._box_boxHeight/2;f=i;_=i+a._box_boxHeight;return i}).attr("x",function(e){var t=a._valueAxis1.scale(e.pair[1].val);g=t;c=m=t;return t}).attr("height",a._box_boxHeight).attr("width",function(e){var i=a._valueAxis1.scale(e.pair[0].val)-a._valueAxis1.scale(e.pair[1].val);y=a._valueAxis1.scale(e.pair[1].val)+i;var r=d3.select(this.parentNode).selectAll(".v-lineverticallowwhisker");if(r.empty()&&!a._isPinching){r=d3.select(this.parentNode).append("line")}r.attr("x1",c).attr("y1",f).attr("x2",m).attr("y2",_).attr("stroke",function(e){var i={drawingEffect:"normal",fillColor:a._box_boxColorPalette[t%a._box_boxColorPalette.length]};return a._box_effectManager.register(i)}).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-lineverticallowwhisker");r=d3.select(this.parentNode).selectAll(".v-linehorizontallowwhisker");if(r.empty()&&!a._isPinching){r=d3.select(this.parentNode).append("line")}r.attr("x1",g).attr("y1",v).attr("x2",y).attr("y2",b).attr("stroke","#808080").attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-linehorizontallowwhisker v-innerwhisker");return i}).attr("shape-rendering","crispEdges").attr("fill","transparent").attr("stroke-width","0").attr("class","v-morphable-datapoint v-rectlowwhisker");if(!a._isPinching){x.exit().remove()}c=0,f=0,m=0,_=0;g=0,v=0,y=0,b=0;x=d3.select(this).selectAll("rect.v-recthighwhisker");if(x.empty()&&!a._isPinching){x=d3.select(this).selectAll("rect.v-recthighwhisker").data(a._box_highWhiskerObj);x.enter().append("rect")}x.attr("y",function(e){var i=a._categoryScale(t)+a._box_boxHeight/2;v=b=i+a._box_boxHeight/2;f=i;_=i+a._box_boxHeight;return i}).attr("x",function(e,t){var i=a._valueAxis1.scale(e.pair[1].val);g=i;c=m=a._valueAxis1.scale(e.pair[0].val);return i}).attr("height",a._box_boxHeight).attr("width",function(e,i){var r=a._valueAxis1.scale(e.pair[0].val)-a._valueAxis1.scale(e.pair[1].val);y=a._valueAxis1.scale(e.pair[1].val)+r;var s=d3.select(this.parentNode).selectAll(".v-lineverticalhighwhisker");if(s.empty()&&!a._isPinching){s=d3.select(this.parentNode).append("line")}s.attr("x1",c).attr("y1",f).attr("x2",m).attr("y2",_).attr("stroke",function(e){var i={drawingEffect:"normal",fillColor:a._box_boxColorPalette[t%a._box_boxColorPalette.length]};return a._box_effectManager.register(i)}).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-lineverticalhighwhisker");s=d3.select(this.parentNode).selectAll(".v-linehorizontalhighwhisker");if(s.empty()&&!a._isPinching){s=d3.select(this.parentNode).append("line")}s.attr("x1",g).attr("y1",v).attr("x2",y).attr("y2",b).attr("stroke","#808080").attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-linehorizontalhighwhisker v-innerwhisker");return r}).attr("shape-rendering","crispEdges").attr("fill","transparent").attr("stroke-width","0").attr("class","v-morphable-datapoint v-recthighwhisker");if(!a._isPinching){x.exit().remove()}a._boxfn_clearBoxData()});if(_.isMobile()&&!t&&e){a._datashapesgroup.attr("transform",null)}if(t&&t.isPinching){a._eDispatch.initialized({eventSource:"pinch"})}else{a._eDispatch.initialized()}if(!a._isPinching){u.exit().remove()}var d=a._fullData;if(!d){d=a._box_data}a.applyFormatConditions(a._props.formatRules,o.selectAll("g.v-datashapesgroup"),d,a);a._box_lastHovered=null});return this};M.prototype.parent=function(){return this._d3root};M.prototype.categoryScale=function(e){if(!arguments.length){return this._dimensionScale}this._dimensionScale=e;return this};M.prototype.primaryScale=function(e){if(!arguments.length){return this._valueAxis1.scale}this._valueAxis1.scale=e;return this};M.prototype.primaryDataRange=function(e){if(!arguments.length){return{min:this._box_scaleMinMax.min,max:this._box_scaleMinMax.max}}var t,a;if(e!==null){if(!isNaN(e.max)){t=e.max}else{t=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(e.min)){a=e.min}else{a=this._valueAxis1.scale.perfectDomainBegin}if(t>a){this._box_scaleMinMax.max=t;this._box_scaleMinMax.min=a;if(e.from==="axis"){this._box_scaleManualRange=true}if(i.isExist(this._width)&&i.isExist(this._height)){this._boxfn_makeScales()}}}else{if(this._box_scaleManualRange===true){this._box_scaleMinMax.max=this._box_scaleMinMax.initMax;this._box_scaleMinMax.min=this._box_scaleMinMax.initMin;this._box_scaleManualRange=false;if(i.isExist(this._width)&&i.isExist(this._height)){this._boxfn_makeScales()}}}return this};M.prototype.destroy=function(){if(this._d3root){this._d3root.selectAll("."+b).remove()}if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1])}if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1])}if(this._dimensionScale){this._dimensionScale.domain([0,1]).range([0,1])}this._dimensionScale=null;this._categoryScale=null;this._valueAxis1.scale=null;this._box_defsEnter=null;this._d3root=null;this._box_lastHovered=null;this._box_dimensionGroup=null;this._box_dimensionDomain=null;this._box_seriesData=null;this._box_legendData=null;this._box_regionData=null;this._box_dimensionData=null;this._box_boxplotData=null;this._box_colorPalette=null;this._box_boxColorPalette=null;this._box_dimensions["sap.viz.modules.horizontalboxplot.dimension"].values=null;this._box_dimensions=null;this._box_data=null};M.prototype._boxfn_makeScales=function(){var e=[];for(var t=0;t<this._box_seriesData.length;t++){e.push(t)}this._categoryScale.domain(e).rangeBands([0,this._height]);this._dimensionScale.domain(this._box_dimensionDomain).rangeBands([0,this._height]);if(!this._box_scaleMinMax||this._box_scaleMinMax.min===0&&this._box_scaleMinMax.max===0){this._valueAxis1.scale.domain([0,1]).range([0,this._width])}else{this._valueAxis1.scale.domain([this._box_scaleMinMax.min,this._box_scaleMinMax.max]).range([0,this._width])}if(!this._box_scaleManualRange){n.perfect(this._valueAxis1.scale)}else{n.getRoughTickNum(this._valueAxis1.scale)}};M.prototype._boxfn_generateDimensions=function(){if(this._box_dimensionGroup){var e=this._box_dimensionGroup.length,t=null;t=this._box_dimensionGroup[e-1].val;if(t.length===0){this._box_dimensionDomain.push(0);this._box_dimensionDomain.push(1)}else{for(var a=0,i=t.length;a<i;a++){this._box_dimensionDomain.push(a)}}if(t.length===0){this._box_dimensions["sap.viz.modules.horizontalboxplot.dimension"].values=[{col:{val:this._box_dimensionGroup[e-1].col},rows:[]}]}else{var r=[];for(var s=0;s<e;s++){var o={col:{val:""},rows:[]};o.col.val=this._box_dimensionGroup[s].col;var n=this._box_dimensionGroup[s].val;for(var l=0,u=n.length;l<u;l++){var d=n[l].start,h=n[l].end,p=this._boxfn_caculateLeavesNum.call(this,d,h);for(var c=0;c<p;c++){o.rows.push({val:this._boxfn_handleNull(n[l].val.val),info:n[l].val.info,contexts:n[l].val.contexts})}}r.push(o)}this._box_dimensions["sap.viz.modules.horizontalboxplot.dimension"].values=r}}};M.prototype.applyFormatConditions=function(e,t,a,i){var r=function(e,t){var a;for(a=0;a<e.length;++a){var r=d3.select(e[a]).selectAll("circle.v-outliers");r.attr("stroke",function(e){var a={drawingEffect:"normal",fillColor:t.color};return i._box_effectManager.register(a)});var s=d3.select(e[a]).selectAll("rect.v-quartile");s.attr("fill",function(e){var a={drawingEffect:i._box_drawingEffect,fillColor:t.color,direction:"vertical"};return i._box_effectManager.register(a)});d3.select(e[a]).selectAll(".v-lineverticallowwhisker").attr("stroke",function(e){var a={drawingEffect:"normal",fillColor:t.color};return i._box_effectManager.register(a)});d3.select(e[a]).selectAll(".v-lineverticalhighwhisker").attr("stroke",function(e){var a={drawingEffect:"normal",fillColor:t.color};return i._box_effectManager.register(a)})}};v.applyConditons(e,t,a,r)};M.prototype._boxfn_getBoxElements=function(e){var t=d3.select(e);var a=t.selectAll(".v-quartile");var i=t.selectAll(".v-lineverticallowwhisker");var r=t.selectAll(".v-lineverticalhighwhisker");var s=t.selectAll(".v-outliers");var o=t.selectAll(".v-boxplotmidline");var n=t.selectAll(".v-innerwhisker");return{outliers:s,quartiles:a,lowWhiskers:i,highWhiskers:r,midLine:o,connectLines:n}};return M});define("sap/viz/modules/manifests/xy/HorizontalBoxplot",["sap/viz/modules/manifests/Module","sap/viz/modules/horizontalboxplot","sap/viz/modules/manifests/xy/Base"],function e(t,a,i){var r={id:"sap.viz.modules.horizontalboxplot",name:"horizontal boxplot",base:"sap.viz.modules.xy.base",properties:{primaryValuesColorPalette:{isExported:false},secondaryValuesColorPalette:{isExported:false},tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."}},feeds:{configure:{secondaryValues:null,axisLabels:{acceptMND:-1,min:1,max:1}}},css:{},fn:a};var s={viz:[],module:[r].concat(i.module),feeds:[].concat(i.feeds)};return s});define("sap/viz/manifests/xy/HorizontalBoxplotChart",["sap/viz/manifests/Viz","sap/viz/base/UADetector","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/xy/HorizontalBoxplot","sap/viz/manifests/xy/BaseHorizontalChart","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/modules/manifests/controller/Pinch"],function e(t,a,i,r,s,o,n){var l={id:"viz/horizontal_boxplot",name:"IDS_HORIZONTALBOXPLOTCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/basehorizontalchart",modules:{root:{modules:{tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"horizontalboxplot",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousedown","mousemove","mouseover","mouseout","touchstart"],holdSelection:false,extensionPoints:{convertData:function(e,t){return e.getDataOfDataPoint(t)},getBoundingBoxes:function(e){var t=e.childNodes;var a=[];Array.prototype.forEach.call(t,function(e){var t=e.getBoundingClientRect();var i={x:t.left,y:t.top,height:t.height,width:t.width,right:t.right,bottom:t.bottom};a.push(i)});return a}}}}},main:{modules:{dataLabel:null,xAxis:{id:"sap.viz.modules.axis",configure:{properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{properties:{isIndependentMode:true,indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},plot:{id:"sap.viz.modules.horizontalboxplot",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.xAxis",source:"range"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.yAxis",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]},categoryAxis:["yAxis"],valueAxis:["xAxis"]};if(a.isMobile()){var u=l.modules.root.modules;u.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var d=l.dependencies.attributes;var h=l.dependencies.events;d.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});h.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});h.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});h.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});h.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});h.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});h.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});h.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});h.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});h.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});h.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});h.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"})}var p={viz:[l].concat(s.viz),module:[].concat(s.module,i.module,r.module,o.module,n.module),feeds:[].concat(s.feeds,i.feeds,r.feeds,o.feeds,n.feeds)};return p});define("sap/viz/impls/HorizontalBoxplotChart",["sap/viz/manifests/xy/HorizontalBoxplotChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/HorizontalCombinationChart",["sap/viz/manifests/xy/HorizontalCombinationChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/HorizontalLineChart",["sap/viz/manifests/xy/HorizontalLineChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/modules/mekko",["sap/viz/base/utils/TypeUtils","sap/viz/modules/dispatch","sap/viz/modules/util/MNDHandler","sap/viz/modules/util/tooltipDataHandler","sap/viz/util/ColorSeriesGenerator","sap/viz/util/Scaler","sap/viz/base/utils/ObjectUtils","sap/viz/util/NumberUtils","sap/viz/base/utils/Objects","sap/viz/lang/langManager","sap/viz/modules/util/BoundUtil","sap/viz/modules/util/defaultSelectionUtil","sap/viz/base/UADetector","sap/viz/modules/Constants","sap/viz/base/utils/oo","sap/viz/modules/BaseGesture","sap/viz/util/DrawUtil","sap/viz/modules/util/selectionUtil","sap/viz/elements/common/SVG"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g,v,y){var b=function(e,t){this._mko_formerWidth=e;this._mko_formerHeight=t};var x=f.CSS.CLASS.DATAPOINTSELECTED;var A=f.CSS.CLASS.DATAPOINT;var M=f.CSS.CLASS.MORPHABLEDATAPOINT;var S=f.CSS.CLASS.DATAPOINTHOVER;var z=A+" "+M;var D="sap.viz.modules.mekko.dimension";var E=1e3;var w=E/2;var T=function(e,t){T.superclass.constructor.apply(this,arguments);this._mko_data=null;this._mko_data1=[[]];this._mko_data2=[[]];this._mko_seriesData=null;this._mko_tooltipData=[];this._mko_primaryAxisTopBoundary=0;this._mko_primaryAxisBottomBoundary=0;this._mko_primaryAxisManualRange=false;this._mko_secondaryAxisTopBoundary=0;this._mko_secondaryAxisBottomBoundary=0;this._mko_secondaryAxisManualRange=false;this._mko_init_primaryAxisTopBoundary=0;this._mko_init_primaryAxisBottomBoundary=0;this._mko_init_secondaryAxisTopBoundary=0;this._mko_init_secondaryAxisBottomBoundary=0;this._mko_formerWidth=null;this._mko_formerHeight=null;this._mko_colorPalette=[];this._mko_axis1ColorPalette=[];this._mko_shapePalette=["squareWithRadius"];u.extend(true,this._props,e.props(null));this._mko_style={};this._mko_effectManager=t.effectManager;this._mko_styleManager=t.styleManager;this._mko_rawData=t.rawData;this._categoryScale.noEqual=true;this._mko_lastHovered=null;this._mko_barNumber=1;this._mko_barGroupNumber=null;this._mko_barNumberinGroup=null;this._mko_barSize=null;this._mko_positiveIndexes=[];this._mko_negativeIndexes=[];this._mko_enableDataLoadingAnimation=true;this._mko_enableDataUpdatingAnimation=true;this._mko_enableResizingAnimation=true;this._mko_enableRoundCorner=false;this._mko_hasDefaultSelection=false;this._mko_isOnlyInitAnimation=false;this._mko_tooltipVisible=true;this._mko_clipRect=null;this._mko_roundCornerDefs=null;this._mko_suffix=n.guid();this._mko_mode="comparison";this._mko_drawingEffect="normal";this._mko_sizeChange=false;this._mko_dataStructureChange=false;this._mko_dataValueChange=false;this._mko_modeChange=false;this._mko_dimensionData={};this._mko_dimensionData[D]={key:D,values:[{col:{val:""},rows:[]}]};this._mko_rangeBounds=[];this._mko_rangeSum=[];this._mko_isHorizontal=true;this._mko_afterAttachToDOM=false};m.extend(T,_);T.prototype.render=function(e,a){var i=this._mko_suffix;function r(e,t,a){return"roundCorner-clip"+"-"+a+e+t+i}var s=this._width;var o=this._height;if(this._mko_formerWidth!==null&&this._mko_formerHeight!==null){if(!this._mko_sizeChange){this._mko_sizeChange=this._mko_formerWidth!==s||this._mko_formerHeight!==o}}b.call(this,s,o);h.drawBound(e,s,o,undefined,true);this._mkofn_recoveryValues();if(this._mko_mode==="percentage"){this._mkofn_turnToPercentage()}if(this._mko_mode==="comparison"){this._mkofn_turnToComparison()}if(!t.isExist(this._valueAxis1.scale)&&!t.isExist(this._valueAxis2.scale)){return}this._eDispatch.startToInit();var n=this;e.each(function(){var e=[];for(var i=0;i<n._mko_seriesData.length;i++){e[i]=[];for(var l=0;l<n._mko_seriesData[i].length;l++){e[i][l]=[];for(var u=0,d=n._mko_seriesData[i][l].length;u<d;u++){e[i][l][u]=n._mko_seriesData[i][l][d-u-1]}}}var h=n._mko_clipRect;var p=n._mko_roundCornerDefs;var c=n._mko_isHorizontal;var f=n._mkofn_enableAnimation();var m=n._mko_rangeBounds;var _=n._mko_colorPalette;var g=n._mko_barNumber=t.isExist(n._mko_data2)?2:1;var v=Math.abs(n._valueAxis1.scale.range()[0]-n._valueAxis1.scale.range()[1]);var b=n._mko_positiveIndexes;var x=n._mko_negativeIndexes;var A=e[0][0].length;if(t.isExist(e[0][1])){A+=e[0][1].length}this._mko_barNumberinGroup=A;var M=e.length;var S=n._d3root=d3.select(this);if(!h){var D="clipPlot_"+n._mko_suffix;h=n._mko_clipRect=S.insert("svg:clipPath",":first-child").attr("class","v-clippath").attr("id",D).append("rect");S.attr("clip-path","url(#"+D+")")}h.attr("width",s).attr("height",o);if(p===null){p=n._mko_roundCornerDefs=S.append("defs").attr("id","round-corner-clip"+n._mko_suffix)}else if(n._mko_dataStructureChange||n._mko_sizeChange||n._mko_dataValueChange||!n._mko_enableRoundCorner){p.selectAll(".v-clippath").remove()}n._datashapesgroup=S.selectAll("g.v-datashapesgroup");if(!t.isExist(n._datashapesgroup[0][0])){n._datashapesgroup=S.append("g").attr("class","v-datashapesgroup")}if(!a||!a.isPinching){n._datashapesgroup.attr("transform",undefined)}var E=n._datashapesgroup.selectAll("g.v-bar").data(e);E.enter().append("g");E.attr("class","v-bar").each(function(e,t){var a=d3.select(this).selectAll("g.v-axisGroup").data(e);a.enter().append("g");a.attr("class","v-axisGroup").each(function(e,a){var i=[],r=[];var s=d3.select(this).selectAll("g.v-datashape").data(e);s.enter().append("g").attr("class","v-datashape");s.each(function(e){var t=d3.select(this).selectAll("rect").data([e]);t.enter().append("rect");t.exit().remove()});s.exit().remove();n._mkofn_setTransformForShape(s,t)});a.exit().remove()});E.each(function(e,i){var s=m[i+1]-m[i];if(s>1){s=s-1}var o=8*s/(9*A+7);var l=Math.log(s)/Math.log(2);if(l<0){n._mko_enableRoundCorner=false}var u=n._mko_enableRoundCorner;var d=d3.select(this).selectAll("g.v-axisGroup");d.each(function(e,d){var h=function(){};var m=[],g=[];var v=d3.select(this).selectAll("g.v-datashape").data(e);if(f){v.each(function(){if(t.isExist(y.getTransformToElement(this,this.parentNode))){g.push(y.getTransformToElement(this,this.parentNode).e);m.push(y.getTransformToElement(this,this.parentNode).f)}else{g.push(0);m.push(0)}})}var M=d3.select(this).selectAll("rect");var S="height";var D="y";var E="width";var T="x";var C=function(e){return n._mkofn_getValueFromData(e)};var L=function(e){return e?-l:0};if(c){S="width";D="x";E="height";T="y";C=0;L=function(e){return e?0:-l}}M.attr("class",z).attr("fill-opacity",1).attr("stroke","none").attr("fill",function(e,t){var a=e.fillColor=_[M[0].length-1-t];return n._mkofn_getEffectColor(a)});if(f){if(n._mko_dataStructureChange){M.attr(D,C).attr(T,function(e,t){return o*t}).attr(S,0).attr(E,o).transition().duration(w).attr(D,0).attr(S,function(e,t){return n._mkofn_getValueFromData(e)}).transition().delay(w).duration(w).attr(T,0).attr(E,s).attr(S,function(e,t){return n._mkofn_getValueFromData(e)}).each("end",function(e,t){if(i===0&&t===A-1){n._mkofn_adjustValues();n._mkofn_initialized(a)}});if(u){h=function(){M.attr("clip-path",function(e,t){if(t===x[d][i]||t===b[d][i]){var a=r(i,d,t);var u=t===x[d][i];var h=L(u);var c=n._mkofn_getValueFromData(e)+l;p.append("clipPath").attr("id",a).attr("class","v-clippath").append("rect").attr("class","v-roundCorner-clip").attr("rx",l).attr("ry",l).attr("x",this.x.baseVal.value).attr("y",this.y.baseVal.value).attr(S,0).attr(E,o).transition().duration(w).attr(D,h).attr(S,c).transition().delay(w).duration(w).attr(T,0).attr(E,s);return"url(#"+a+")"}})}}}else{M.attr("x",function(e,t){return g[t]-y.getTransformToElement(this.parentNode,this.parentNode.parentNode).e}).attr("y",function(e,t){return m[t]-y.getTransformToElement(this.parentNode,this.parentNode.parentNode).f}).transition().duration(w).attr("x",0).attr("y",0).attr(E,s).attr(S,function(e,t){return n._mkofn_getValueFromData(e)}).each("end",function(e,t){if(i===0&&t===A-1){n._mkofn_adjustValues();n._mkofn_initialized(a)}});if(n._mko_sizeChange&&!n._mko_modeChange){M.attr(S,function(e){var t=n._mkofn_getValueFromData(e);var a=parseFloat(this[S].baseVal.value);return a>t?a:t})}if(u){h=function(){M.attr("clip-path",function(e,t){if(t===x[d][i]||t===b[d][i]){var a=r(i,d,t);var o=t===x[d][i];var u=L(o);var h=parseFloat(this[D].baseVal.value)+u;var c=n._mkofn_getValueFromData(e)+l;p.append("clipPath").attr("id",a).attr("class","v-clippath").append("rect").attr("class","v-roundCorner-clip").attr("rx",l).attr("ry",l).attr(D,h).attr(T,this[T].baseVal.value).attr(S,this[S].baseVal.value+l).attr(E,this[E].baseVal.value).transition().duration(w).attr(D,u).attr(T,0).attr(S,c).attr(E,s);return"url(#"+a+")"}})}}}}else{M.attr("x",0).attr("y",0).attr(E,s).attr(S,function(e,t){return n._mkofn_getValueFromData(e)});if(u){h=function(){M.attr("clip-path",function(e,t){if(t===x[d][i]||t===b[d][i]){var a=r(i,d,t);var o=t===x[d][i];var u=L(o);var h=n._mkofn_getValueFromData(e)+l;p.append("clipPath").attr("id",a).attr("class","v-clippath").append("rect").attr("class","v-roundCorner-clip").attr("rx",l).attr("ry",l).attr(D,u).attr(T,0).attr(S,h).attr(E,s);return"url(#"+a+")"}})}}}h()})});if(!f){n._mkofn_adjustValues();n._mkofn_initialized(a)}E.exit().remove()});this._mko_sizeChange=false,this._mko_dataValueChange=false,this._mko_dataStructureChange=false;this._mko_modeChange=false;this._mko_isOnlyInitAnimation=true;var l=this._fullData;if(!l){l=this._mko_data}this.applyFormatConditions(this._props.formatRules,e,l,this);return this};T.prototype.applyFormatConditions=function(e,t,a,i){var r=function(e,t){var a;if(i._mko_isHorizontal){a="vertical"}else{a="horizontal"}var r={drawingEffect:i._mko_drawingEffect,fillColor:t.color,direction:a};var s=i._mko_effectManager.register(r);var o;for(o=0;o<e.length;o++){e[o].setAttribute("fill",s)}};v.applyConditons(e,t,a,r)};T.prototype.highlight=function(e,a){if(!t.isArray(e)){e=[e]}if(!a){for(var i=0;i<e.length;i++){d3.select(e[i]).classed(x,true);d3.select(e[i]).classed(S,false)}}else{for(var r=0;r<e.length;r++){d3.select(e[r]).classed(x,false);d3.select(e[r]).classed(S,true)}}g.resetHighlightProperties();g.nodesHighlight(e,{factor:.7,constant:0},this._mko_effectManager,a);if(this._mko_hasDefaultSelection){p.clearSelectionInfo(this._d3root,true,e)}};T.prototype.unhighlight=function(e,a,i){if(!t.isArray(e)){e=[e]}if(!a){for(var r=0;r<e.length;r++){d3.select(e[r]).classed(x,false);d3.select(e[r]).classed(S,false)}}else{for(var s=0;s<e.length;s++){d3.select(e[s]).classed(x,true);d3.select(e[s]).classed(S,false)}}g.resetHighlightProperties();g.nodesUnhighlight(e,a,i);if(this._mko_hasDefaultSelection){p.clearSelectionInfo(this._d3root,false,e)}};T.prototype.clear=function(e){var t=this._d3root;var a=t.selectAll(".v-datapoint");if(e){a.attr("fill-opacity",.4).attr("stroke","none").attr("class",z)}else{a.attr("fill-opacity",1).attr("stroke","none").attr("class",z);if(this._mko_hasDefaultSelection){p.clearSelectionInfo(t,false,a)}}};T.prototype.afterUIComponentAppear=function(){this._eDispatch.initialized()};T.prototype.width=function(e){if(!arguments.length){return this._width}this._width=e;this._mkofn_makeScales();return this};T.prototype.height=function(e){if(!arguments.length){return this._height}this._height=e;this._mkofn_makeScales();return this};T.prototype.data=function(e){if(!arguments.length){return this._mko_data}this._mko_data=e;var t=n.extend(true,{},i(this._mko_data));var a=t["MG1"];var r=t["MG2"];this._mko_hasDefaultSelection=false;if(a[0]&&a[0][0].info&&a[0][0].info.defaultSelection){this._mko_hasDefaultSelection=true}if(r[0]&&r[0][0].info&&r[0][0].info.defaultSelection){this._mko_hasDefaultSelection=true}if(this._mko_data1.length!==a.length||this._mko_data1[0].length!==a[0].length){this._mko_dataStructureChange=true}else{this._mko_dataValueChange=true}var s=this._mkofn_dataHandler(a,r);this._mko_data1=a;this._mko_data2=r;this._mko_seriesData=s;this._mko_tooltipData=n.extend(true,{},s);this._mkofn_makeScales();this._mkofn_parseOptions();return this};T.prototype.properties=function(e){if(!arguments.length){return this._props}u.extend(true,this._props,e);this._mkofn_parseOptions();this._mkofn_makeScales();return this};T.prototype.colorPalette=function(e){if(!arguments.length){return this._mko_colorPalette}this._mko_colorPalette=e;return this};T.prototype.categoryScale=function(e){if(!arguments.length){return this._categoryScale}this._categoryScale=e;return this};T.prototype.dimensionData=function(e){if(!arguments.length){return this._mko_dimensionData}this._mko_dimensionData=e;return this};T.prototype.secondCategoryScale=function(e){if(!arguments.length){return this._categoryScale}this._categoryScale=e;return this};T.prototype.primaryDataRange=function(e){if(!arguments.length){var a,i;if(this._mko_mode==="percentage"){a=1;i=0}else{i=this._mko_primaryAxisBottomBoundary<0?this._mko_primaryAxisBottomBoundary:0;a=this._mko_primaryAxisTopBoundary}return{min:i,max:a}}var r=this._mko_isHorizontal;var s=this._valueAxis1.scale;var o,n;if(e!==null){if(!isNaN(e.max)){o=e.max}else{if(r){o=s.perfectDomainEnd}else{o=s.perfectDomainBegin}}if(!isNaN(e.min)){n=e.min}else{if(r){n=s.perfectDomainBegin}else{n=s.perfectDomainEnd}}if(o>n){this._mko_primaryAxisTopBoundary=o;this._mko_primaryAxisBottomBoundary=n;if(e.from==="axis"){this._mko_primaryAxisManualRange=true}if(t.isExist(this._width)&&t.isExist(this._height)){this._mkofn_makeScales()}}}else{if(this._mko_primaryAxisManualRange===true){this._mko_primaryAxisTopBoundary=this._mko_init_primaryAxisTopBoundary;this._mko_primaryAxisBottomBoundary=this._mko_init_primaryAxisBottomBoundary;this._mko_primaryAxisManualRange=false;if(t.isExist(this._width)&&t.isExist(this._height)){this._mkofn_makeScales()}}}return this};T.prototype.secondDataRange=function(e){if(!arguments.length){var a,i;if(this._mko_mode==="percentage"){a=1;i=0}else{i=this._mko_secondaryAxisBottomBoundary<0?this._mko_secondaryAxisBottomBoundary:0;a=this._mko_secondaryAxisTopBoundary}return{min:i,max:a}}var r=this._mko_isHorizontal;var s=this._valueAxis2.scale;var o,n;if(e!==null){if(!isNaN(e.max)){o=e.max}else{if(r){o=s.perfectDomainEnd}else{o=s.perfectDomainBegin}}if(!isNaN(e.min)){n=e.min}else{if(r){n=s.perfectDomainBegin}else{n=s.perfectDomainEnd}}if(o>n){this._mko_secondaryAxisTopBoundary=o;this._mko_secondaryAxisBottomBoundary=n;if(e.from==="axis"){this._mko_secondaryAxisManualRange=true}if(t.isExist(this._width)&&t.isExist(this._height)){this._mkofn_makeScales()}}}else{if(this._mko_secondaryAxisManualRange===true){this._mko_secondaryAxisTopBoundary=this._mko_init_secondaryAxisTopBoundary;this._mko_secondaryAxisBottomBoundary=this._mko_init_secondaryAxisBottomBoundary;this._mko_secondaryAxisManualRange=false;if(t.isExist(this._width)&&t.isExist(this._height)){this._mkofn_makeScales()}}}return this};T.prototype.primaryScale=function(e){if(!arguments.length){return this._valueAxis1.scale}this._valueAxis1.scale=e;return this};T.prototype.primaryAxisColor=function(){return undefined};T.prototype.dispatch=function(e){if(!arguments.length){return this._eDispatch}this._eDispatch=e;return this};T.prototype.getPreferredSize=function(){};T.prototype.dataLabel=function(e){};T.prototype.primaryAxisTitle=function(e){if(!arguments.length){var t=this._mko_data.getMeasureValuesGroupDataByIdx(0),a=[];if(t){for(var i=0,r=t.values.length;i<r;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){a.push(t.values[i].col)}else{a.push(d.get("IDS_ISNOVALUE"))}}}return a.join(" & ")}return this};T.prototype.secondAxisTitle=function(e){if(!arguments.length){var t=this._mko_data.getMeasureValuesGroupDataByIdx(1),a=[];if(t){for(var i=0,r=t.values.length;i<r;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){a.push(t.values[i].col)}else{a.push(d.get("IDS_ISNOVALUE"))}}}return a.join(" & ")}return this};T.prototype._pinch_modifyCategoryscale=function(e,t){for(var a=0;a<this._mko_rangeBounds.length;a++){this._mko_rangeBounds[a]=this._mko_rangeBounds[a]*e}this._categoryScale.range(this._mko_rangeBounds)};T.prototype.destroy=function(){var e=0;var t=0;var a=0;if(this._mko_dimensionData){if(this._mko_dimensionData[D]){if(this._mko_dimensionData[D].values){for(e=0;e<this._mko_dimensionData[D].values.length;e++){this._mko_dimensionData[D].values[e].rows=null;this._mko_dimensionData[D].values[e]=null}this._mko_dimensionData[D].values=null}this._mko_dimensionData[D]=null}this._mko_dimensionData=null}if(this._mko_seriesData){for(e=0;e<this._mko_seriesData.length;e++){for(t=0;t<this._mko_seriesData[e].length;t++){for(a=0;a<this._mko_seriesData[e][t].length;a++){this._mko_seriesData[e][t][a].ctx=null;this._mko_seriesData[e][t][a].val=null;this._mko_seriesData[e][t][a]=null}this._mko_seriesData[e][t]=null}this._mko_seriesData[e]=null}this._mko_seriesData=null}if(this._mko_tooltipData){this._mko_tooltipData=null}if(this._mko_data1){for(e=0;e<this._mko_data1.length;e++){this._mko_data1[e]=null}this._mko_data1=null}if(this._mko_data2){for(e=0;e<this._mko_data2.length;e++){this._mko_data2[e]=null}this._mko_data2=null}if(this._mko_negativeIndexes){for(e=0;e<this._mko_negativeIndexes.length;e++){this._mko_negativeIndexes[e]=null}this._mko_negativeIndexes=null}if(this._mko_positiveIndexes){for(e=0;e<this._mko_positiveIndexes.length;e++){this._mko_positiveIndexes[e]=null}this._mko_positiveIndexes=null}if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1]);this._categoryScale=null}if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1]);this._valueAxis1=null}if(this._valueAxis2.scale){this._valueAxis2.scale.domain([0,1]).range([0,1]);this._valueAxis2=null}if(this._mko_effectManager&&this._mko_effectManager.destroy){this._mko_effectManager.destroy()}this._mko_effectManager=null;if(this._mko_styleManager&&this._mko_styleManager.destroy){this._mko_styleManager.destroy()}this._mko_styleManager=null;this._mko_colorPalette=null;this._mko_axis1ColorPalette=null;this._mko_shapePalette=null;this._props=null;this._mko_style=null;this._mko_decorativeShape=null;this._mko_lastHovered=null;this._mko_data=null;this._mko_rawData=null;this._mko_rangeBounds=null;this._mko_rangeSum=null;this._mko_drawingEffect=null;this._mko_mode=null;this._mko_suffix=null;this._eDispatch=null;if(this._d3root){this._d3root.selectAll("."+A).remove();this._d3root=null}if(this._datashapesgroup){this._datashapesgroup.remove();this._datashapesgroup=null}if(this._mko_clipRect){this._mko_clipRect.remove();this._mko_clipRect=null}if(this._mko_roundCornerDefs){this._mko_roundCornerDefs.remove();this._mko_roundCornerDefs=null}};T.prototype._mkofn_setTransformForShape=function(e,t){var a=this._mko_isHorizontal;var i=this._mko_rangeBounds;var r=this._mko_barGroupNumber;var s=this._valueAxis1.scale;var o=this._categoryScale.rangeExtent();var n=Math.abs(o[0]-o[1]);var l=0,u=0;e.attr("transform",function(e,r){var o,n;if(a){n=i[t];if(e.val>=0){o=s(l);l+=e.val}else{u+=e.val;o=s(u)}}else{o=i[t];if(e.val>=0){l+=e.val;n=s(l)}else{n=s(u);u+=e.val}}return"translate("+o+","+n+")"})};T.prototype._mkofn_getValueFromData=function(e){if(this._valueAxis1&&this._valueAxis1.scale){var t=this._valueAxis1.scale;return Math.abs(t(e.val.length?e.val[0]:e.val)-t(0))}else{return 0}};T.prototype._mkofn_getEffectColor=function(e){var t={drawingEffect:this._mko_drawingEffect,fillColor:e,direction:this._mko_isHorizontal?"vertical":"horizontal"};return this._mko_effectManager.register(t)};T.prototype._mkofn_adjustScale=function(e){var t=this._width;var a=this._height;var i=this._mko_isHorizontal;var r,s=e.length;for(r=0;r<s;r++){if(!l.isNoValue(e[r])&&e[r]!==0){return}}var o=i?a/(s-1):t/(s-1);for(r=1;r<s;r++){e[r]=r*o}};T.prototype._mkofn_makeScales=function(){var e=this._width;var a=this._height;var i=this._mko_seriesData;if(t.isExist(e)&&t.isExist(a)&&t.isExist(i)){var r=this._mko_data2;var s=this._mko_isHorizontal;var n=this._categoryScale;var u=this._valueAxis1.scale;var h=this._mko_primaryAxisTopBoundary;var p=this._mko_primaryAxisBottomBoundary;var c=this._mko_primaryAxisManualRange;var f=this._mko_dimensionData[D].values[0];var m=this._mko_mode;var _=this._mko_rangeBounds=[];_[0]=0;var g=this._mko_rangeSum=[],v=[],y=0,b=0;var x,A,M;var S=f.rows=[];f.col.val=this._mko_data.getMeasureValuesGroupDataByIdx(1).values[0].col;for(x=0,M=r.length;x<M;x++){for(A=0;A<r[x].length;A++){if(t.isExist(g[A])){g[A]+=r[x][A].val}else{g[A]=r[x][A].val}}}for(x=0,M=g.length;x<M;x++){v.push(x);y+=g[x]>0?g[x]:-g[x]}for(x=0,M=g.length;x<M;x++){b+=Math.abs(g[x]);b=l.precise(b);_[x+1]=y===0?null:Math.abs(s?b/y*a:b/y*e);S.push({val:t.isExist(g[x])?g[x]:d.get("IDS_ISNOVALUE")})}this._mkofn_adjustScale(_);if(s){n.domain(v).range(_);if(m==="percentage"){u.domain([0,1]).range([0,e])}else{if(p===0&&h===0){u.domain([0,1]).range([0,e])}else{u.domain([p,h]).range([0,e])}}}else{n.domain(v).range(_);if(m==="percentage"){u.domain([1,0]).range([0,a])}else{if(p===0&&h===0){u.domain([1,0]).range([0,a])}else{u.domain([h,p]).range([0,a])}}}if(!c){o.perfect(u)}else{o.getRoughTickNum(u)}}};T.prototype._mkofn_turnToPercentage=function(){var e=this._mko_seriesData;var a=this._mko_tooltipData;for(var i=0,r=e.length;i<r;i++){for(var s=0,o=e[i],n=a[i];s<o.length;s++){var l=0,u=0,d;for(d=0;d<o[s].length;d++){l+=Math.abs(o[s][d].val);if(!o[s][d].isNaN){u++}}if(u>0){if(l===0){for(d=0;d<o[s].length;d++){o[s][d].value=t.isExist(o[s][d].value)?o[s][d].value:o[s][d].val;o[s][d].val=o[s][d].isNaN?0:1/u;if(t.isExist(n[s])&&t.isExist(n[s][d])){n[s][d].val=n[s][d].isNaN?" ":1/u}}}else{for(d=0;d<o[s].length;d++){if(o[s][d].val<0){o[s][d].isNegative=true}o[s][d].value=t.isExist(o[s][d].value)?o[s][d].value:o[s][d].val;o[s][d].val=Math.abs(o[s][d].val/l);if(t.isExist(n[s])&&t.isExist(n[s][d])){n[s][d].val=n[s][d].isNaN?" ":o[s][d].val}}}}}}};T.prototype._mkofn_turnToComparison=function(){var e=n.extend(true,{},i(this._mko_data));var t=e["MG1"];var a=e["MG2"];var r=this._mkofn_dataHandler(t,a);this._mko_seriesData=r;this._mko_data1=t;this._mko_data2=a;this._mko_tooltipData=n.extend(true,{},this._mko_seriesData)};T.prototype._mkofn_initialized=function(e){if(this._eDispatch){if(e&&e.isPinching){this._eDispatch.initialized({eventSource:"pinch"})}else{this._eDispatch.initialized()}}this._mko_afterAttachToDOM=true};T.prototype._mkofn_dataHandler=function(e,a){var i,r,s=-1,o=-1;var n=this._mko_positiveIndexes=[[],[]];var u=this._mko_negativeIndexes=[[],[]];this._mko_primaryAxisTopBoundary=this._mko_primaryAxisBottomBoundary=0;this._mko_secondaryAxisTopBoundary=this._mko_secondaryAxisBottomBoundary=0;var d=[];var h=this._mko_barGroupNumber=e[0].length;var p,c;for(r=0;r<h;r++){var f=[],m=[];var _=[];p=0,c=0;s=-1,o=-1;for(i=0;i<e.length;i++){if(l.isNoValue(e[i][r].val)){e[i][r].val=0;e[i][r].isNaN=true}else{if(e[i][r].val>=0){p+=e[i][r].val;s=i}else{c+=e[i][r].val;o=i}}f.push(e[i][r])}n[0].push(s);u[0].push(o);if(this._mko_primaryAxisTopBoundary<p){this._mko_primaryAxisTopBoundary=p}if(this._mko_primaryAxisBottomBoundary>c){this._mko_primaryAxisBottomBoundary=c}this._mko_init_primaryAxisTopBoundary=this._mko_primaryAxisTopBoundary;this._mko_init_primaryAxisBottomBoundary=this._mko_primaryAxisBottomBoundary;if(t.isExist(a)){p=0,c=0;s=-1,o=-1;for(i=0;i<a.length;i++){s=0,o=-1;if(l.isNoValue(a[i][r].val)){a[i][r].isNaN=true}else{if(a[i][r].val>=0){p+=a[i][r].val;s=i}else{c+=a[i][r].val;o=i}}m.push(a[i][r])}n[1].push(s);u[1].push(o);if(this._mko_secondaryAxisTopBoundary<p){this._mko_secondaryAxisTopBoundary=p}if(this._mko_secondaryAxisBottomBoundary>c){this._mko_secondaryAxisBottomBoundary=c}this._mko_init_secondaryAxisTopBoundary=this._mko_secondaryAxisTopBoundary;this._mko_init_secondaryAxisBottomBoundary=this._mko_secondaryAxisBottomBoundary}var g=[];var v;for(v=0;v<f.length;v++){var y={};var b=null;for(b in f[v]){if(f[v].hasOwnProperty(b)){y[b]=[];y[b].push(f[v][b]);y[b].push(m[v][b])}}y.isNaN=f[v].isNaN;y.val=f[v].val;y.val2=m[v].val;g.push(y)}_.push(g);d.push(_)}return d};T.prototype._mkofn_generateTooltipData=function(e){var a={body:[],footer:[]};var i=this._mko_data;var r=this._mko_tooltipData;var s=this._mko_shapePalette;var o=this._mko_colorPalette;var n=this._mko_rangeSum;var l=i.getMeasureValuesGroupDataByIdx(0).values;var u=i.getMeasureValuesGroupDataByIdx(1).values;var h=i.getAnalysisAxisDataByIdx(0).values;var p=i.getAnalysisAxisDataByIdx(1);var c=null;if(t.isExist(p)){c=p.values}var f=r[0][0].length;var m,_,g,v,y;var b={},x=[];for(m=0,v=l.length;m<v;m++){b={},x=[];b.name=l[m].col;b.val=x;for(_=0;_<f;_++){var A="";if(t.isExist(c)){for(g=0,y=c.length;g<y;g++){var M=c[g].rows[_].val;if(M===null||M===undefined){M=d.get("IDS_ISNOVALUE")}A+=g===0?M:" / "+M}}x.push({value:r[e][0][_].isNaN?d.get("IDS_ISNOVALUE"):r[e][0][_].val,label:A,shape:s[0],color:o[_]})}a.body.push(b)}b={},x=[];b.name=u[0].col;b.val=x;x.push({value:t.isExist(n[e])?n[e]:d.get("IDS_ISNOVALUE"),valueAxis:1});a.body.push(b);for(m=0,v=h.length;m<v;m++){var S={label:h[m].col.val};var z=h[m].rows[e].val;if(z===null||z===undefined){z=d.get("IDS_ISNOVALUE")}S.value=z;a.footer.push(S)}return a};T.prototype._mkofn_enableAnimation=function(){var e=false;if(!this._mko_isOnlyInitAnimation){e=this._mko_enableDataLoadingAnimation}else if(this._mko_dataStructureChange||this._mko_dataValueChange||this._mko_modeChange){e=this._mko_enableDataUpdatingAnimation}else if(this._mko_sizeChange){e=this._mko_enableResizingAnimation}return e};T.prototype._mkofn_parseOptions=function(){var e=this._props;if(this._mko_mode!==e.mode){this._mko_modeChange=true}this._mko_mode=e.mode==="percentage"?"percentage":"comparison";this._mko_isHorizontal=e.orientation==="horizontal"?true:false;this._mko_enableRoundCorner=e.isRoundCorner;this._mko_enableDataLoadingAnimation=e.animation.dataLoading;this._mko_enableDataUpdatingAnimation=e.animation.dataUpdating;this._mko_enableResizingAnimation=e.animation.resizing;this._mko_tooltipVisible=e.tooltip.enabled;this._mko_drawingEffect=e.drawingEffect;var t=this._mko_axis1ColorPalette=e.colorPalette;var a=t.length;this._mko_colorPalette=[];var i,r,s,o;var n=this._mko_seriesData;for(i=0,s=n[0].length;i<s;i++){for(r=0,o=n[0][0].length;r<o;r++){this._mko_colorPalette.push(t[r%a])}}};T.prototype._mkofn_recoveryValues=function(){var e,a,i,r;var s=this._mko_seriesData;if(t.isExist(s)){if(t.isArray(s[0][0][0].val)){for(e=0,i=s.length;e<i;e++){for(a=0,r=s[e][0].length;a<r;a++){if(t.isArray(s[e][0][a].val)){s[e][0][a].val=s[e][0][a].val[0]}}}}}};T.prototype._mkofn_adjustValues=function(){var e,a,i,r;var s=this._mko_seriesData;if(t.isExist(s)){for(e=0,i=s.length;e<i;e++){for(a=0,r=s[e][0].length;a<r;a++){var o=[];var n=s[e][0][a];var l=n.value;n.percentage=n.val;o.push(l===undefined?n.val:l);o.push(n.val2);n.val=o}}}};T.prototype.getDataOfDataPoint=function(e){var t={};if(e&&e.__data__){t=this._mko_rawData.ctx2ArrayData(e.__data__.ctx);if(t.measure){for(var a in t.measure){if(e.__data__.percentage){t.measure[a].value=e.__data__.percentage;break}}}t.context=e.__data__.ctx}return t};return T});define("sap/viz/modules/manifests/xy/Mekko",["sap/viz/modules/manifests/Module","sap/viz/modules/mekko","sap/viz/modules/manifests/xy/BaseBar","sap/viz/modules/Constants"],function e(t,a,i,r){var s={id:"sap.viz.modules.mekko",name:"mekko",base:"sap.viz.modules.xy.bar.base",properties:{mode:{name:"mode",supportedValueType:"String",supportedValues:["comparison","percentage"],defaultValue:"comparison",description:"Set the display mode for the mekko chart."},orientation:{name:"orientation",supportedValueType:"String",supportedValues:["vertical","horizontal"],defaultValue:"horizontal",description:"Set whether the mekko chart is vertical or horizontal."},formatRules:{name:"formatRules",supportedValueType:"Array",isExported:true,description:'Sample value for formatRules:  [{condition: [{Key1:Value1, Key2:Value2}], color:"#00ff00"}, {condition: [{Key3:Value3}], color:"#00ffff"}].   Each rule has two properties: the "condition" and the "color".   Value1, Value2 and Value3 are values. <br />  The value of a dimension may be <br />  1, Single value (string), like "China" . <br />  2. Array (enumeration), like ["UK","USA"] . <br />  The value of a measure may be <br />  1, Single value (number), like 20 . <br />  2. Arry (enumeration), like [121,122] . <br />  3. Object (range), like {min:100, max 200} . Min and max are inclusive.   If users want to inlcude 200, but not 100 in the range, they may use {min:100.00001, max:200}.   If users want values larger than 100, they may write {min:100}. <br />   The color is applied if one or more conditions in the condition array is met.   If multiple rules could apply on the same data point, it is the last rule that takes effect.',example:"<a href='"+r.DocExample.SnippetUrl+"8751' target='_blank'>"+r.DocExample.TryThisValue+"</a>"}},fn:a};var o={viz:[],module:[s].concat(i.module),feeds:[].concat(i.feeds)};return o});define("sap/viz/manifests/xy/HorizontalMekkoChart",["sap/viz/manifests/Viz","sap/viz/base/UADetector","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/xy/BarChart","sap/viz/modules/manifests/xy/Mekko"],function e(t,a,i,r,s){var o={id:"viz/horizontal_mekko",name:"IDS_HORIZONTALMEKKOCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/bar",modules:{root:{modules:{interaction:{configure:{properties:{holdSelection:false}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,isMekko:true,showZero:false,position:"inside"},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.mekko",configure:{propertyCategory:"plotArea",propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the left or bottom side of an XY chart with two value axes",propertiesOverride:{maxSizeRatio:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{properties:{type:"category",position:"left",label:{hideStrategy:"greedy"}},propertiesOverride:{maxSizeRatio:{isExported:false}}}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the right or top side of an XY chart with two value axes",propertyCategory:"yAxis2",properties:{isIndependentMode:true,type:"category",position:"right",isTruncateAvailable:false,gridline:{visible:false},label:{hideStrategy:"greedy"}},propertiesOverride:{gridline:{isExported:false},axisline:{isExported:false},label:{numberFormat:{isExported:false},hideSubLevels:{isExported:false}},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},maxSizeRatio:{isExported:false}}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"mekko",orientation:"left"}}}}}},feeds:{secondaryValues:{min:1,max:1},primaryValues:{min:1,max:1},regionColor:{min:0,max:1,acceptMND:-1},axisLabels:{min:1,max:1,acceptMND:-1}},dependencies:{attributes:[{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.xAxis",source:"range"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis2",target:"scale",sourceModule:"root.main.plot",source:"secondCategoryScale"},{targetModule:"root.main.xAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.yAxis2",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.main.yAxis2",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]}};if(a.isMobile()){var n=o.modules.root.modules;n.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var l=o.dependencies.attributes;var u=o.dependencies.events;l.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});u.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});u.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});u.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});u.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});u.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});u.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});u.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});u.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});u.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});u.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});u.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"});u.push({targetModule:"root.main.yAxis2",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis2"});u.push({targetModule:"root.main.yAxis2",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis2"})}var d={viz:[o].concat(r.viz),module:[].concat(r.module,i.module,s.module),feeds:[].concat(r.feeds,i.feeds,s.feeds)};return d});define("sap/viz/impls/HorizontalMekkoChart",["sap/viz/manifests/xy/HorizontalMekkoChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/modules/stackedwaterfall",["sap/viz/base/utils/oo","sap/viz/modules/BaseGesture","sap/viz/base/utils/TypeUtils","sap/viz/modules/dispatch","sap/viz/modules/util/MNDHandler","sap/viz/lang/langManager","sap/viz/util/NumberUtils","sap/viz/util/Scaler","sap/viz/util/ColorSeriesGenerator","sap/viz/base/utils/Objects","sap/viz/modules/util/tooltipDataHandler","sap/viz/modules/util/BoundUtil","sap/viz/base/utils/ObjectUtils","sap/viz/modules/util/defaultSelectionUtil","sap/viz/modules/Constants","sap/viz/modules/util/GestureUtil","sap/viz/modules/util/ClippathUtil","sap/viz/base/UADetector","sap/viz/util/DrawUtil","sap/viz/modules/util/selectionUtil"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g,v,y,b){var x=function(e,t){if(t&&t.isPinching){e.initialized({eventSource:"pinch"})}else{e.initialized()}};var A=m.CSS.CLASS.DATAPOINTSELECTED,M=m.CSS.CLASS.DATAPOINTHOVER,S="v-datapoint",z=m.CSS.CLASS.MORPHABLEDATAPOINT;var D=S+" "+z;var E="v-datashapesgroup";var w=o.get("IDS_ISNOVALUE");var T=1200;var C=function(e,t){C.superclass.constructor.apply(this,arguments);this._wtf_originData=null;this._wtf_chartData=null;this._wtf_tooltipData=null;this._wtf_primaryAxisMinValue=null;this._wtf_primaryAxisMaxValue=null;this._wtf_init_primaryAxisMinValue=null;this._wtf_Init_primaryAxisMaxValue=null;this._wtf_categoryLen=null;this._wtf_measureLength=null;this._wtf_primaryAxisManualRange=false;this._wtf_tooltipVisible=false;this._wtf_barInfo=null;this._wtf_isDataSchemaChanged=false;this._wtf_isDataLoading=true;this._wtf_isSizeChanged=false;this._wtf_isDatasetChanged=false;this._wtf_lastHovered=null;this._wtf_dimensionData=null;this._wtf_measureData=null;this._wtf_isShowTotal=null;this._wtf_isShowSubtotal=null;this._wtf_hasDefaultSelection=false;d.extend(true,this._props,e.props(null));this._wtf_isPropertyChanged=false;this._wtf_style={};this._wtf_tooltipDataHandler=null;this._wtf_effectManager=t.effectManager;this._wtf_styleManager=t.styleManager;this._wtf_drawingEffect="normal";this._wtf_colorPalette=u.sap32().range(),this._wtf_shapePalette=["squareWithRadius"],this._wtf_defsEnter=null;this._wtf_id=Math.floor(Math.random()*1e4)};t.extend(C,a);C.prototype.render=function(e,t){p.drawBound(e,this._width,this._height,undefined,true);if(v.isMobile()){var a=g.drawClippath(e,this._width,this._height);e.attr("clip-path","url(#"+a+")")}this._wtf_tooltipDataHandler=h();if(!i.isExist(this._valueAxis1.scale)){return}this._eDispatch.startToInit();var r=this;e.each(function(){r._wtf_barInfo=r._wtffn_getBarInfo();var e=r._wtf_barInfo.barSize;var a=0;var s=T/r._wtf_categoryLen;r._d3root=d3.select(this);var o=r._d3root;if(!i.isExist(r._wtf_defsEnter)){r._wtf_defsEnter=o.append("defs").append("clipPath").attr("id","clipPlot_"+r._wtf_id).append("rect").attr("width",r._width).attr("height",r._height)}else{r._wtf_defsEnter.attr("width",r._width).attr("height",r._height)}if(r._wtf_isDataSchemaChanged===true){r._d3root.selectAll("g.v-waterfallgroup").remove();r._d3root.selectAll("g.v-datashapesgroup").remove()}var n=r._d3root.selectAll("g.v-datashapesgroup");if(n.empty()){if(v.isMobile()){n=r._datashapesgroup=r._d3root.append("g").attr("class","v-datashapesgroup")}else{n=r._d3root.append("g").attr("class","v-datashapesgroup").attr("clip-path","url(#clipPlot_"+r._wtf_id+")")}}var l=n.selectAll("g.v-waterfallgroup").data(r._wtf_chartData);l.enter().append("g").attr("class","v-waterfallgroup");l.exit().remove();var u=false;if(r._wtf_isDataLoading){u=r._props.animation.dataLoading}else if(r._wtf_isDatasetChanged){u=r._props.animation.dataUpdating}else if(r._wtf_isSizeChanged){u=r._props.animation.resizing}var d=l.selectAll("g.v-datashape").data(function(e,t){return e.items});var h=d.enter().append("g").attr("class","v-datashape");h.append("rect").attr("class",D);if(!u){d.exit().remove();if(r._props.isHorizontal===false){l.attr("transform",function(e,t){if(r._categoryScale){var a=r._categoryScale(t)+r._wtf_barInfo.barGap;return"translate("+a+","+0+")"}else{return 0}});d.attr("transform",function(e){if(r._valueAxis1.scale){var t=e.val>0?r._valueAxis1.scale(a+e.after):r._valueAxis1.scale(a+e.before);return"translate("+0+","+t+")"}else{return 0}});if((!r._wtf_isSizeChanged||r._wtf_isPropertyChanged)&&!r._isPinching){d.select("rect").attr("class",D).attr("fill-opacity",1).attr("stroke","none")}d.select("rect").attr("fill",function(e){var t={drawingEffect:r._wtf_drawingEffect,fillColor:r._wtf_colorPalette[e.index%r._wtf_colorPalette.length],direction:"horizontal"};return r._wtf_effectManager.register(t)}).attr("width",e).attr("height",function(e){if(r._valueAxis1.scale){return Math.abs(r._valueAxis1.scale(e.after)-r._valueAxis1.scale(e.before))}else{return 0}})}else{l.attr("transform",function(e,t){if(r._categoryScale){var a=r._categoryScale(t)+r._wtf_barInfo.barGap;return"translate("+0+","+a+")"}else{return 0}});d.attr("transform",function(e,t){if(r._valueAxis1.scale){var i=e.val>0?r._valueAxis1.scale(a+e.before):r._valueAxis1.scale(a+e.after);return"translate("+i+","+0+")"}else{return 0}});if((!r._wtf_isSizeChanged||r._wtf_isPropertyChanged)&&!r._isPinching){d.select("rect").attr("class",D).attr("fill-opacity",1).attr("stroke","none")}d.select("rect").attr("fill",function(e,t){var a={drawingEffect:r._wtf_drawingEffect,fillColor:r._wtf_colorPalette[e.index%r._wtf_colorPalette.length],direction:"vertical"};return r._wtf_effectManager.register(a)}).attr("height",e).attr("width",function(e,t){if(r._valueAxis1.scale){return Math.abs(r._valueAxis1.scale(e.after)-r._valueAxis1.scale(e.before))}else{return 0}})}x(r._eDispatch,t)}else{d.exit().transition().duration(s).attr("height",0).attr("width",0).remove();var p,c,f;if(r._props.isHorizontal===false){h.selectAll("rect").attr("height",0);h.attr("transform",function(e){if(r._valueAxis1.scale){var t=r._valueAxis1.scale(a+e.before);return"translate("+0+","+t+")"}else{return 0}});l.attr("transform",function(e,t){if(r._categoryScale){var a=r._categoryScale(t)+r._wtf_barInfo.barGap;return"translate("+a+","+0+")"}else{return 0}});var m=0;for(c=0,f=d.length;c<f;c++){if(d[c].length===0){m++}if(m===d.length){x(r._eDispatch,t)}p=d3.selectAll(d[c]);p.transition().duration(s).delay(function(e,t){return c*s}).attr("transform",function(e){if(r._valueAxis1.scale){var t=e.val>0?r._valueAxis1.scale(a+e.after):r._valueAxis1.scale(a+e.before);return"translate("+0+","+t+")"}else{return 0}});if((!r._wtf_isSizeChanged||r._wtf_isPropertyChanged)&&!r._isPinching){p.select("rect").attr("class",D).attr("fill-opacity",1).attr("stroke","none")}p.select("rect").attr("fill",function(e){var t={drawingEffect:r._wtf_drawingEffect,fillColor:r._wtf_colorPalette[e.index%r._wtf_colorPalette.length],direction:"horizontal"};return r._wtf_effectManager.register(t)}).attr("width",e).transition().duration(s).delay(function(){return c*s}).attr("height",function(e){if(r._valueAxis1.scale){return Math.abs(r._valueAxis1.scale(e.after)-r._valueAxis1.scale(e.before))}else{return 0}}).each("end",function(e,a){if(e.isLastItem!==undefined&&e.isLastItem===true){x(r._eDispatch,t)}})}}else{h.selectAll("rect").attr("width",0);h.attr("transform",function(e){if(r._valueAxis1.scale){var t=r._valueAxis1.scale(a+e.before);return"translate("+t+","+0+")"}else{return 0}});l.attr("transform",function(e,t){if(r._categoryScale){var a=r._categoryScale(t)+r._wtf_barInfo.barGap;return"translate("+0+","+a+")"}else{return 0}});for(c=0,f=d.length;c<f;c++){p=d3.selectAll(d[c]);p.transition().duration(s).delay(function(){return c*s}).attr("transform",function(e){if(r._valueAxis1.scale){var t=e.val>0?r._valueAxis1.scale(a+e.before):r._valueAxis1.scale(a+e.after);return"translate("+t+","+0+")"}else{return 0}});if((!r._wtf_isSizeChanged||r._wtf_isPropertyChanged)&&!r._isPinching){p.select("rect").attr("class",D).attr("fill-opacity",1).attr("stroke","none")}p.select("rect").attr("fill",function(e){var t={drawingEffect:r._wtf_drawingEffect,fillColor:r._wtf_colorPalette[e.index%r._wtf_colorPalette.length],direction:"vertical"};return r._wtf_effectManager.register(t)}).attr("height",e).transition().duration(s).delay(function(){return c*s}).attr("width",function(e){if(r._valueAxis1.scale){return Math.abs(r._valueAxis1.scale(e.after)-r._valueAxis1.scale(e.before))}else{return 0}}).each("end",function(e,a){if(e.isLastItem!==undefined&&e.isLastItem===true){x(r._eDispatch,t)}})}}}if(v.isMobile()&&!t&&r._d3root){r._datashapesgroup.attr("transform",null)}r._wtf_isDataLoading=false;r._wtf_isSizeChanged=false;r._wtf_isDatasetChanged=false;r._wtf_lastHovered=null;r._wtf_isPropertyChanged=false});var s=this._fullData;if(!s){s=this._wtf_originData}this.applyFormatConditions(this._props.formatRules,e,s,this)};C.prototype.afterUIComponentAppear=function(){this._eDispatch.initialized()};C.prototype.highlight=function(e,t){y.resetHighlightProperties();y.nodesHighlight(e,{factor:.7,constant:0},this._wtf_effectManager,t);if(this._wtf_hasDefaultSelection){f.clearSelectionInfo(this._d3root,true,e)}if(!i.isArray(e)){e=[e]}if(t){d3.selectAll(e).classed(A,false);d3.selectAll(e).classed(M,true)}else{d3.selectAll(e).classed(A,true);d3.selectAll(e).classed(M,false)}};C.prototype.unhighlight=function(e,t,a){y.resetHighlightProperties();y.nodesUnhighlight(e,t,a);if(this._wtf_hasDefaultSelection){f.clearSelectionInfo(this._d3root,false,e)}if(!i.isArray(e)){e=[e]}if(t){d3.selectAll(e).classed(A,true);d3.selectAll(e).classed(M,false)}else{d3.selectAll(e).classed(A,false);d3.selectAll(e).classed(M,false)}};C.prototype.clear=function(e){if(e===null||e===false||e===undefined){var t=this._d3root.selectAll(".v-datapoint");t.attr("fill-opacity",1).attr("stroke","none").classed(A,false).classed(M,false);if(this._wtf_hasDefaultSelection){f.clearSelectionInfo(this._d3root,false,t)}}else{this._d3root.selectAll(".v-datapoint").attr("fill-opacity",.4).attr("stroke","none").classed(A,false).classed(M,false)}};C.prototype.parent=function(){return this._d3root};C.prototype.data=function(e){if(!arguments.length){return this._wtf_originData}this._wtf_originData=e;this._wtffn_parseOriginData(e);if(i.isExist(this._width)&&i.isExist(this._height)){this._wtffn_makeScale()}if(this._d3root){this._d3root.select("."+E).attr("transform",null)}return this};C.prototype.properties=function(e){if(!arguments.length){return this._props}this._wtf_isPropertyChanged=true;d.extend(true,this._props,e);this._wtf_colorPalette=this._props.colorPalette;this._wtf_drawingEffect=this._props.drawingEffect;this._wtf_tooltipVisible=this._props.tooltip.enabled;if(this._wtf_isShowTotal!==this._props.isShowTotal||this._wtf_isShowSubtotal!==this._props.subtotal.visible){this._wtf_isShowTotal=this._props.isShowTotal;this._wtf_isShowSubtotal=this._props.subtotal.visible;this._wtffn_parseOriginData(this._wtf_originData)}return this};C.prototype.width=function(e){if(!arguments.length){return this._width}this._wtf_isSizeChanged=!this._wtf_isSizeChanged&&e===this._width?false:true;this._width=e;if(i.isExist(this._wtf_originData)&&i.isExist(this._width)&&i.isExist(this._height)){this._wtffn_makeScale()}return this};C.prototype.height=function(e){if(!arguments.length){return this._height}this._wtf_isSizeChanged=!this._wtf_isSizeChanged&&e===this._height?false:true;this._height=e;if(i.isExist(this._wtf_originData)&&i.isExist(this._width)&&i.isExist(this._height)){this._wtffn_makeScale()}return this};C.prototype.primaryAxisTitle=function(e){if(!arguments.length){var t=this._wtf_originData.getMeasureValuesGroupDataByIdx(0),a=[];if(t){for(var i=0,r=t.values.length;i<r;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){a.push(t.values[i].col)}else{a.push(o.get("IDS_ISNOVALUE"))}}}return a.join(" & ")}return this};C.prototype.secondAxisTitle=function(e){if(!arguments.length){var t=this._wtf_originData.getMeasureValuesGroupDataByIdx(1),a=[];if(t){for(var i=0,r=t.values.length;i<r;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){a.push(t.values[i].col)}else{a.push(o.get("IDS_ISNOVALUE"))}}}return a.join(" & ")}return this};C.prototype.categoryScale=function(e){if(!arguments.length){return this._categoryScale}this._categoryScale=e;return this};C.prototype.primaryScale=function(e){if(!arguments.length){return this._valueAxis1.scale}this._valueAxis1.scale=e;return this};C.prototype.colorPalette=function(e){if(!arguments.length){return this._wtf_colorPalette}this._wtf_colorPalette=e;return this};C.prototype.dispatch=function(e){if(!arguments.length){return this._eDispatch}this._eDispatch=e;return this};C.prototype.dataLabel=function(e){return this};C.prototype.dimensionData=function(e){if(!arguments.length){return[this._wtf_dimensionData]}this._wtf_dimensionData=e};C.prototype.primaryDataRange=function(e){if(!arguments.length){return{min:this._wtf_primaryAxisMinValue,max:this._wtf_primaryAxisMaxValue}}var t,a;if(e!==null){if(!isNaN(e.max)){t=e.max}else{t=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(e.min)){a=e.min}else{a=this._valueAxis1.scale.perfectDomainBegin}if(t>a){this._wtf_primaryAxisMaxValue=t;this._wtf_primaryAxisMinValue=a;if(e.from==="axis"){this._wtf_primaryAxisManualRange=true}if(i.isExist(this._width)&&i.isExist(this._height)){this._wtffn_makeScale()}}}else{if(this._wtf_primaryAxisManualRange===true){this._wtf_primaryAxisMaxValue=this._wtf_init_primaryAxisMaxValue;this._wtf_primaryAxisMinValue=this._wtf_init_primaryAxisMinValue;this._wtf_primaryAxisManualRange=false;if(i.isExist(this._width)&&i.isExist(this._height)){this._wtffn_makeScale()}}}return this};C.prototype.destroy=function(){if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1])}if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1])}if(this._d3root){this._d3root.selectAll("."+S).remove()}this._categoryScale=null;this._wtf_dimensionData=null;this._wtf_tooltipData=null;this._wtf_defsEnter=null;this._wtf_chartData=null;this._wtf_primaryAxisManualRange=null;this._wtf_primaryAxisMaxValue=null;this._wtf_primaryAxisMinValue=null;this._valueAxis1.scale=null;this._d3root=null;if(this._wtf_effectManager&&this._wtf_effectManager.destroy){this._wtf_effectManager.destroy()}if(this._wtf_styleManager&&this._wtf_styleManager.destroy){this._wtf_styleManager.destroy()}};C.prototype._wtffn_getBarInfo=function(){var e=2*this._categoryScale.rangeBand()/3;var t=e/2;var a=this._props.barGap;var i=t,r=e;if(a!==undefined){var s=this._categoryScale.rangeBand()-a;if(!(a<5||s<0)){r=s;i=a}}return{barSize:r,barGap:i/2}};C.prototype._wtffn_makeScale=function(){var e=[];for(var t=0;t<this._wtf_categoryLen;t++){e.push(t)}if(this._props.isHorizontal===true){this._categoryScale.domain(e).rangeBands([0,this._height]);if(this._wtf_primaryAxisMinValue===0&&this._wtf_primaryAxisMaxValue===0){this._valueAxis1.scale.domain([0,1]).range([0,this._width])}else{this._valueAxis1.scale.domain([this._wtf_primaryAxisMinValue,this._wtf_primaryAxisMaxValue]).range([0,this._width])}}else{this._categoryScale.domain(e).rangeBands([0,this._width]);if(this._wtf_primaryAxisMinValue===0&&this._wtf_primaryAxisMaxValue===0){this._valueAxis1.scale.domain([0,1]).range([this._height,0])}else{this._valueAxis1.scale.domain([this._wtf_primaryAxisMinValue,this._wtf_primaryAxisMaxValue]).range([this._height,0])}}if(!this._wtf_primaryAxisManualRange){l.perfect(this._valueAxis1.scale)}else{l.getRoughTickNum(this._valueAxis1.scale)}};C.prototype._wtffn_parseOriginData=function(e){this._wtf_dimensionData={};this._wtf_measureData={};if(this._wtf_isShowTotal===true||this._props.subtotal.visible===true){c.extend(true,this._wtf_dimensionData,e.getAnalysisAxisDataByIdx(0));c.extend(true,this._wtf_measureData,e.getMeasureValuesGroupDataByIdx(0))}else{this._wtf_dimensionData=e.getAnalysisAxisDataByIdx(0);this._wtf_measureData=e.getMeasureValuesGroupDataByIdx(0)}var t=s(e);this._wtf_tooltipData=h.dataTransform(t);var a=t["MG1"],i=this._props.initialValue;this._wtf_isDataSchemaChanged=false;if(a[0]&&a[0][0].info&&a[0][0].info.defaultSelection){this._wtf_hasDefaultSelection=true}else{this._wtf_hasDefaultSelection=false}if(this._wtf_categoryLen===undefined&&this._wtf_measureLength===undefined){this._wtf_isDataLoading=true}else{this._wtf_isDatasetChanged=true}if(this._wtf_categoryLen!==undefined&&this._wtf_measureLength!==undefined&&(this._wtf_categoryLen!==a[0].length||this._wtf_measureLength!==a.length)){this._wtf_isDataSchemaChanged=true}var r,o,n,l=[],u=[],d=0,p={},f=[],m,_,g,v,y=0,b,x=0;var A,M=0,S=false;r=o=i;this._wtf_chartData=[],this._wtf_primaryAxisMinValue=this._wtf_primaryAxisMaxValue=this._props.initialValue;this._wtf_categoryLen=a[0].length;this._wtf_measureLength=a.length;var z,D,E,T;if(this._props.subtotal.visible===true){z=0;D=this._wtf_categoryLen;E=this._props.subtotal.subGroups}for(T=0;T<this._wtf_categoryLen;T++){r=o=i;f=[],d=M=0,_=false;if(n===undefined){n=i}for(var C=this._wtf_measureLength-1;C>=0;C--){m=this._wtffn_handleNullValue(a[C][T].val);A=a[C][T].info;if(A){_=A.valueinfo===undefined?false:A.valueinfo.isTotal;if(_&&C===this._wtf_measureLength-1){r=o=0;S=true}}if(m!==w){if(_){if(m>0){g=r;v=r+m;r=v}else{g=o;v=o+m;o=v}M=M+m}else{u[C]=u[C]?u[C]+m:m;d=d+m;if(m>0){g=r;v=r+m;r=v}else{g=o;v=o+m;o=v}l[C]=l[C]?l[C]+m:m}if(v>this._wtf_primaryAxisMaxValue){this._wtf_primaryAxisMaxValue=v}if(v<this._wtf_primaryAxisMinValue){this._wtf_primaryAxisMinValue=v}p={index:C,val:a[C][T].val,info:a[C][T].info,before:g,after:v,ctx:a[C][T].ctx};f.push(p)}}if(_){this._wtf_chartData.push({total:M,start:0,items:f})}else{this._wtf_chartData.push({total:d,start:i,items:f})}y=y+d;if(this._props.subtotal.visible===true){b=E[z];while(z<E.length&&(b<0||b>this._wtf_categoryLen-1)){z++;b=E[z]}if(T===b){if(this._props.subtotal.isSubgroupTotal){this._wtffn_addTotalItemToChartData(T+x+1,i,u,"Sub-Total-"+x)}else{this._wtffn_addTotalItemToChartData(T+x+1,0,l,"Sub-Total-"+x)}n=undefined;u=[];z++;x++;D++}}i=i+d}if(S){if(this._wtf_primaryAxisMinValue>0){this._wtf_primaryAxisMinValue=0}else if(this._wtf_primaryAxisMaxValue<0){this._wtf_primaryAxisMaxValue=0}}this._wtf_init_primaryAxisMinValue=this._wtf_primaryAxisMinValue;this._wtf_init_primaryAxisMaxValue=this._wtf_primaryAxisMaxValue;if(D!==undefined){this._wtf_categoryLen=D}if(this._wtf_isShowTotal){this._wtffn_addTotalItemToChartData(this._wtf_categoryLen,0,l,"Total");this._wtf_categoryLen++}if(this._wtf_categoryLen>0){for(T=this._wtf_categoryLen-1;T>=0;--T){var L=this._wtf_chartData[T].items;if(L.length>0){L[L.length-1].isLastItem=true;break}}}};C.prototype._wtffn_addTotalItemToChartData=function(e,t,a,i){var r,s,o,n,l,u=[],d=0,h;r=s=t;for(var p=0,c=a.length;p<c;p++){h=a[p];d=d+h;if(h>0){o=r;n=r+h;r=n}else{o=s;n=s+h;s=n}l={index:p,val:h,before:o,after:n,ctx:{path:{mg:h,mi:p}}};u.push(l);this._wtf_measureData.values[0].rows[p].splice(e,0,{val:a[p]})}this._wtf_chartData.push({total:d,start:t,items:u});this._wtf_dimensionData.values[0].rows.splice(e,0,{val:i});if(this._wtf_dimensionData.values.length>1){var f;for(p=1,f=this._wtf_dimensionData.values.length;p<f;p++){this._wtf_dimensionData.values[p].rows.splice(e,0,{val:""})}}};C.prototype._wtffn_handleNullValue=function(e){return e===null||e===undefined?w:e};C.prototype.applyFormatConditions=function(e,t,a,i){var r=function(e,t){var a={drawingEffect:i._props.drawingEffect,fillColor:t.color,direction:i._props.isHorizontal===false?"horizontal":"vertical"};var r=i._wtf_effectManager.register(a);var s;for(s=0;s<e.length;s++){e[s].setAttribute("fill",r)}};b.applyConditons(e,t,a,r)};return C});define("sap/viz/modules/manifests/xy/StackedWaterfall",["sap/viz/modules/manifests/Module","sap/viz/modules/stackedwaterfall","sap/viz/modules/manifests/xy/BaseBar","sap/viz/modules/Constants"],function e(t,a,i,r){var s={id:"sap.viz.modules.stackedwaterfall",name:"stackedwaterfall",base:"sap.viz.modules.xy.bar.base",properties:{isRoundCorner:{isExported:false},primaryValuesColorPalette:{isExported:false},secondaryValuesColorPalette:{isExported:false},isHorizontal:{name:"isHorizontal",supportedValueType:"Boolean",defaultValue:false,description:"Set the orientation of the stacked waterfall chart",isExported:false},isShowTotal:{name:"isShowTotal",supportedValueType:"Boolean",defaultValue:false,description:"Set whether the stacked waterfall total value is shown",isExported:false},subtotal:{name:"subtotal",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set the visibility of the subtotal"},isSubgroupTotal:{name:"isSubgroupTotal",supportedValueType:"Boolean",defaultValue:true,description:"Set isRuntimeTotal of the subtotal"},subGroups:{name:"subGroups",supportedValueType:"StringArray",defaultValue:[],description:"Set bar groups.",isExported:false}},isExported:false,description:"Settings for subtotal related properties"},barGap:{name:"barGap",supportedValueType:"PositiveInt",defaultValue:undefined,min:"5",description:"Set the distance between bars. The default value is the same as bar size.",isExported:true},initialValue:{name:"initialValue",supportedValueType:"PositiveInt",defaultValue:0,description:"Set the initial value of the waterfall",isExported:true},formatRules:{name:"formatRules",supportedValueType:"Array",isExported:true,description:'Sample value for formatRules:  [{condition: [{Key1:Value1, Key2:Value2}], color:"#00ff00"}, {condition: [{Key3:Value3}], color:"#00ffff"}].   Each rule has two properties: the "condition" and the "color".   Value1, Value2 and Value3 are values. <br />  The value of a dimension may be <br />  1, Single value (string), like "China" . <br />  2. Array (enumeration), like ["UK","USA"] . <br />  The value of a measure may be <br />  1, Single value (number), like 20 . <br />  2. Arry (enumeration), like [121,122] . <br />  3. Object (range), like {min:100, max 200} . Min and max are inclusive.   If users want to inlcude 200, but not 100 in the range, they may use {min:100.00001, max:200}.   If users want values larger than 100, they may write {min:100}. <br />   The color is applied if one or more conditions in the condition array is met.   If multiple rules could apply on the same data point, it is the last rule that takes effect.',example:"<a href='"+r.DocExample.SnippetUrl+"8751' target='_blank'>"+r.DocExample.TryThisValue+"</a>"}},fn:a,feeds:{configure:{secondaryValues:null,regionColor:{acceptMND:-1,min:1,max:1},axisLabels:{max:1,acceptMND:-1},primaryValues:{max:1}}}};var o={viz:[],module:[s].concat(i.module),feeds:[].concat(i.feeds)};return o});define("sap/viz/manifests/xy/StackedWaterfallChart",["sap/viz/manifests/Viz","sap/viz/data/feed/Constants","sap/viz/base/UADetector","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/xy/StackedWaterfall","sap/viz/manifests/xy/BaseVerticalChart","sap/viz/modules/manifests/controller/Pinch","sap/viz/chart/elements/manifests/controller/Interaction"],function e(t,a,i,r,s,o,n,l){var u={id:"viz/stacked_waterfall",name:"IDS_STACKEDWATERFALLCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/baseverticalchart",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}},main:{modules:{plot:{id:"sap.viz.modules.stackedwaterfall",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}},xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isIndependentMode:true,indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false},label:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"yAxis",properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}},feeds:{primaryValues:{max:a.Constraints.INF},regionColor:{acceptMND:1,max:2},axisLabels:{max:1,acceptMND:0,maxStackedDims:1}},dependencies:{attributes:[{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.xAxis",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]},categoryAxis:["xAxis"],valueAxis:["yAxis"]};if(i.isMobile()){var d=u.modules.root.modules;d.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var h=u.dependencies.attributes;var p=u.dependencies.events;h.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});p.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});p.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});p.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});p.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});p.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});p.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});p.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});p.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});p.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});p.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});p.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"})}var c={viz:[u].concat(o.viz),module:[].concat(o.module,r.module,s.module,n.module,l.module),feeds:[].concat(o.feeds,r.feeds,s.feeds,n.feeds,l.feeds)};return c});define("sap/viz/manifests/xy/HorizontalStackedWaterfallChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/StackedWaterfall","sap/viz/manifests/xy/StackedWaterfallChart","sap/viz/chart/elements/manifests/Tooltip","sap/viz/modules/manifests/Background"],function e(t,a,i,r,s,o,n){var l={id:"viz/horizontal_stacked_waterfall",name:"IDS_HORIZONTALSTACKEDWATERFALL",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/stacked_waterfall",modules:{root:{modules:{tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"bar"}}},main:{modules:{plot:{id:"sap.viz.modules.stackedwaterfall",configure:{propertyCategory:"plotArea",properties:{isHorizontal:true,orientation:"horizontal"}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart",propertyCategory:"xAxis",properties:{type:"value",position:"bottom",gridline:{visible:true}},propertiesOverride:{scale:{fixedRange:{isExported:true},minValue:{isExported:true},maxValue:{isExported:true},isExported:true},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:true},unitFormatType:{isExported:true},hideSubLevels:{isExported:false},isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart",propertyCategory:"yAxis",properties:{type:"category",position:"left",gridline:{visible:false},isIndependentMode:true},propertiesOverride:{gridline:{isExported:false},label:{isExported:true},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"horizontal"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false,orientation:"horizontal"},propertiesOverride:{position:{isExported:false}}}}}}}}},feeds:{axisLabels:{maxStackedDims:1}},dependencies:{attributes:[{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.xAxis",source:"range"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.yAxis",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"}]},categoryAxis:["yAxis"],valueAxis:["xAxis"]};var u={viz:[l].concat(s.viz),module:[].concat(s.module,a.module,i.module,r.module,o.module,n.module),feeds:[].concat(s.feeds,a.feeds,i.feeds,r.feeds,o.feeds,n.feeds)};return u});define("sap/viz/impls/HorizontalStackedWaterfallChart",["sap/viz/manifests/xy/HorizontalStackedWaterfallChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/xy/HorizontalWaterfallChart",["sap/viz/manifests/Viz","sap/viz/base/UADetector","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/xy/StackedWaterfall","sap/viz/modules/manifests/controller/Pinch","sap/viz/manifests/xy/BaseHorizontalChart"],function e(t,a,i,r,s,o){var n={id:"viz/horizontal_waterfall",name:"IDS_HORIZONTALWATERFALLCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/basehorizontalchart",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}},legends:null,main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,showZero:false,outsideVisible:false},propertiesOverride:{position:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"xAxis",properties:{indicator:{enable:true}}}},yAxis:{id:"sap.viz.modules.axis",configure:{properties:{isIndependentMode:true,indicator:{enable:true}}}},plot:{id:"sap.viz.modules.stackedwaterfall",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",properties:{isHorizontal:true},propertiesOverride:{isShowTotal:{isExported:false}}}}}}}}},feeds:{regionColor:null},dependencies:{attributes:[{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.xAxis",source:"range"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},null,{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.yAxis",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]},categoryAxis:["yAxis"],valueAxis:["xAxis"]};if(a.isMobile()){var l=n.modules.root.modules;l.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var u=n.dependencies.attributes;var d=n.dependencies.events;u.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});d.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});d.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});d.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});d.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});d.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});d.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});d.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});d.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});d.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});d.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});d.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"})}var h={viz:[n].concat(o.viz),module:[].concat(o.module,i.module,r.module,s.module),feeds:[].concat(o.feeds,i.feeds,r.feeds,s.feeds)};return h});define("sap/viz/impls/HorizontalWaterfallChart",["sap/viz/manifests/xy/HorizontalWaterfallChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/LineChart",["sap/viz/manifests/xy/LineChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/xy/MekkoChart",["sap/viz/manifests/Viz","sap/viz/base/UADetector","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/xy/VerticalBarChart","sap/viz/modules/manifests/xy/Mekko"],function e(t,a,i,r,s){var o={id:"viz/mekko",name:"IDS_MEKKOCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/column",modules:{root:{modules:{main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,isMekko:true,showZero:false,position:"inside"},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.mekko",configure:{propertyCategory:"plotArea",properties:{orientation:"vertical"},propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the left or bottom side of an XY chart with two value axes",properties:{position:"left"},propertiesOverride:{maxSizeRatio:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{properties:{type:"category",position:"bottom",label:{hideStrategy:"greedy"}},propertiesOverride:{maxSizeRatio:{isExported:false}}}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the right or top side of an XY chart with two value axes",propertyCategory:"xAxis2",properties:{isIndependentMode:true,type:"category",position:"top",isTruncateAvailable:false,gridline:{visible:false},label:{hideStrategy:"greedy"}},propertiesOverride:{gridline:{isExported:false},axisline:{isExported:false},label:{numberFormat:{isExported:false},hideSubLevels:{isExported:false}},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},maxSizeRatio:{isExported:false}}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"mekko",orientation:"bottom"}}},interaction:{configure:{properties:{holdSelection:false}}}}}},feeds:{secondaryValues:{min:1,max:1},primaryValues:{min:1,max:1},regionColor:{min:0,max:1,acceptMND:-1},axisLabels:{min:1,max:1,acceptMND:-1}},dependencies:{attributes:[{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main.plot",source:"secondCategoryScale"},{targetModule:"root.main.yAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.xAxis2",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.main.xAxis2",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]}};if(a.isMobile()){var n=o.modules.root.modules;n.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var l=o.dependencies.attributes;var u=o.dependencies.events;l.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});u.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});u.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});u.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});u.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});u.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});u.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});u.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});u.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});u.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});u.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});u.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"});u.push({targetModule:"root.main.xAxis2",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis2"});u.push({targetModule:"root.main.xAxis2",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis2"})}var d={viz:[o].concat(r.viz),module:[].concat(r.module,i.module,s.module),feeds:[].concat(r.feeds,i.feeds,s.feeds)};return d});define("sap/viz/impls/MekkoChart",["sap/viz/manifests/xy/MekkoChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/modules/util/DimensionalInfoHandler",["sap/viz/lang/langManager"],function e(t){return function(e,a){var i=a;var r=e;var s;var o;var n={values:[]};var l={values:[]};var u=[];var d;var h;var p=t.get("IDS_DEFAULTMND");var c=function(){};c.setData=function(e){i=e;return c};c.setProperties=function(e){r=e;return c};c.getColumnDimensionData=function(){return l};c.getRowDimensionData=function(){return n};c.getContexts=function(){return u};function f(){var e=0;if(s>0){d=1;h=i.values[0].rows.length;u.push([]);var t=l.values;t[0]={col:{val:p},rows:[]};for(e=0;e<i.values[0].rows.length;++e){t[0].rows.push({val:i.values[0].rows[e].val,info:i.values[0].rows[e].info});u[0].push(i.values[0].rows[e].ctx)}}else{d=i.values[0].rows.length;h=1;var a=n.values;a[0]={col:{val:p},rows:[]};for(e=0;e<i.values[0].rows.length;++e){a[0].rows.push({val:i.values[0].rows[e].val,info:i.values[0].rows[e].info});u.push([i.values[0].rows[e].ctx])}}}function m(){n.values=[];l.values=[];d=0;h=0;u=[]}function _(e,t,a,r){for(var s=a;s<a+r;++s){if(i.values[s].rows[e].val!==i.values[s].rows[t].val){return false}}return true}function g(e,t,a,r){var s=0;var o=e.length;var n=true;for(var l=0;n&&l<r;++l){var u=o;var d=s;n=false;for(var h=s;h<o;++h){if(i.values[a+l].rows[e[h]].val===i.values[a+l].rows[t].val){n=true;if(h<u){u=h}if(h>=d){d=h+1}}}if(n){s=u;o=d}}if(!n){if(o<e.length){e.splice(o,0,t)}else{e.push(t)}}}function v(e,t,a){var r=[];for(var s=t;s<t+a;++s){if(i.values[s].rows[e].val===null||i.values[s].rows[e].val===undefined){r.push({})}else{r.push(i.values[s].rows[e].val)}}return r}function y(e,t,a){var i={};for(var r=0;r<e.length;++r){i[v(e[r],t,a)]=r}return i}function b(e,t){var a=[];var r=[];r.push(0);var s;var o={};for(s=1;s<i.values[e].rows.length;++s){g(r,s,e,t)}var n=l.values;for(s=0;s<t;++s){o={};o.col=i.values[e+s].col;o.rows=[];o.rows[0]={val:i.values[e+s].rows[0].val,info:i.values[e+s].rows[0].info};n.push(o)}for(s=0;s<r.length;++s){for(var u=0;u<t;u++){n[u].rows[s]={val:i.values[e+u].rows[r[s]].val,info:i.values[e+u].rows[r[s]].info}}}var d=y(r,e,t);for(s=0;s<i.values[e].rows.length;++s){o=v(s,e,t);a[s]=d[o]}h=r.length;return a}function x(e){if(!e){return null}return{type:e.type,path:{aa:e.path.aa,di:e.path.di,dii:e.path.dii}}}function A(e){var t=[];for(var a=0;a<e.length;++a){t.push(x(e[a]))}return t}function M(e,t){for(var a=0;a<e.length;++a){if(!e[a]){continue}else if(!e[a].path){e[a].path={}}e[a].path.mg=t.path.mg;e[a].path.mi=t.path.mi}}function S(e){var t=u.length;for(var a=0;a<e;++a){for(var i=0;i<t;++i){u.push(A(u[i]))}}}function z(e,t,a,r){var s=e?i.values.length-1:0;var o=i.values[s].rows;var c={};c.col=i.values[s].col;c.col.val=p;c.rows=[];var f=t?n.values:l.values;var m=t?a:r;var _,g,v;var y;if(t&&a===0){f[0]={col:{val:p},rows:[]};M(u[0],o[0].ctx);f[0].rows.push({val:o[0].val});for(_=1;_<o.length;++_){f[0].rows.push({val:o[_].val});u.push(A(u[0]));M(u[_],o[_].ctx)}d=o.length;return}if(!t&&r===0){f[0]={col:{val:p},rows:[]};for(_=0;_<o.length;++_){f[0].rows.push({val:o[_].val})}for(_=0;_<u.length;++_){u[_][0].path.mg=o[0].ctx.path.mg;u[_][0].path.mi=o[0].ctx.path.mi;for(g=1;g<o.length;++g){u[_].push(x(u[_][0]));u[_][g].path.mg=o[g].ctx.path.mg;u[_][g].path.mi=o[g].ctx.path.mi}}return}var b=t?d:h;if(e){for(_=0;_<b;++_){for(g=0;g<f.length;++g){for(v=1;v<o.length;++v){y={val:f[g].rows[_*o.length+v-1].val,info:f[g].rows[_*o.length+v-1].info};f[g].rows.splice(_*o.length+v,0,y)}}}for(_=0;_<b;++_){for(g=0;g<o.length;++g){y={val:o[g].val};c.rows.push(y)}}f.push(c);if(t){d*=o.length;for(_=0;_<d;_+=o.length){M(u[_],o[0].ctx);for(g=1;g<o.length;++g){var z=A(u[_]);u.splice(_+g,0,z);M(u[_+g],o[g].ctx)}}}else{h*=o.length;for(_=0;_<u.length;++_){for(g=0;g<h;g+=o.length){if(u[_][g]){u[_][g].path.mg=o[0].ctx.path.mg;u[_][g].path.mi=o[0].ctx.path.mi}for(v=1;v<o.length;++v){u[_].splice(g+v,0,x(u[_][g]));if(u[_][g+v]){u[_][g+v].path.mg=o[v].ctx.path.mg;u[_][g+v].path.mi=o[v].ctx.path.mi}}}}}return}else{for(_=1;_<o.length;++_){for(g=0;g<m;++g){for(v=0;v<b;++v){y={val:f[g].rows[v].val,info:f[g].rows[v].info};f[g].rows.push(y)}}}for(g=0;g<o.length;++g){for(_=0;_<b;++_){y={val:o[g].val};c.rows.push(y)}}f.splice(0,0,c);if(t){d*=o.length;S(o.length-1);for(_=0;_<d;++_){var D=Math.floor(_*o.length/d);M(u[_],o[D].ctx)}}else{h*=o.length;for(_=0;_<u.length;++_){var E=[];M(u[_],o[0].ctx);for(g=1;g<o.length;++g){var w=A(_);M(w,o[0].ctx);E=E.concat(A(_))}u[_]=u[_].concat(E)}}}}function D(e,t,a){var r=n.values;var s=0;for(s=0;s<e;++s){var o={};o.col=i.values[t+s].col;o.rows=[];o.rows[0]={val:i.values[t+s].rows[0].val,info:i.values[t+s].rows[0].info};r.push(o)}for(s=1;s<i.values[t].rows.length;++s){if(_(s,s-1,t,e)){a[s]=d}else{++d;for(var l=0;l<e;l++){r[l].rows[d]={val:i.values[t+l].rows[s].val,info:i.values[t+l].rows[s].info}}a[s]=d}}++d}function E(){var e=0,t=i.values.length;var a=o,r=s;var n=false,l=true;var p;if(i.values[0].type==="MND"){++e;if(a>0){--a}else{--r;l=false}}if(i.values[t-1].type==="MND"){n=true;--t;if(r>0){--r;l=false}else{l=true;--a}}if(e<t){var c=[];if(r>0||a>0){c[0]=0;d=0;if(a>0){D(a,e,c)}else{d=1;for(p=1;p<i.values[e].rows.length;++p){c[p]=0}}var f=[];if(r>0){f=b(e+a,r)}else{h=1;for(p=0;p<i.values[e].rows.length;++p){f[p]=0}}u=new Array(d);for(p=0;p<d;++p){u[p]=[];for(var m=0;m<h;++m){u[p][m]=null}}for(p=0;p<i.values[e].rows.length;++p){u[c[p]][f[p]]=i.values[e+a+r-1].rows[p].ctx}}if(a<o||r<s){z(n,l,a,r)}}}c.process=function(){m();if(!i||!i.values||i.values.length===0){return}s=r&&r["numberOfDimensionsInColumn"]!==undefined?r["numberOfDimensionsInColumn"]:1;if(!s||s<0){s=0}if(s>i.values.length){s=i.values.length}o=i.values.length-s;if(o<0){o=0}if(i.values.length===1&&i.values[0].type==="MND"){f()}else{E()}};return c}});define("sap/viz/data/handler/MultiChartDataHandler",["sap/viz/base/utils/FunctionUtils","sap/viz/data/MultiAxesDataAdapter","sap/viz/data/handler/MeasureDataHandler","sap/viz/lang/langManager"],function e(t,a,i,r){function s(e){var t=e.slice(0);t.sort(function(e,t){return e.index-t.index});t.shift();return t}function o(e){if(e[0]===true){if(e[1]===true){return[1,2]}else{return[1]}}else if(e[1]===true){return[2]}else{return[1]}}function n(e){if(e[0]===true){if(e[1]===true){return[1]}else if(e[2]===true){if(e.length>3){return[1]}else{return[2]}}else if(e[3]===true){t.error(r.getLogMessage("IDS_ERROR_NOT_SUPPORTED"))}else{return[1]}}else if(e[1]===true){if(e[2]===true){return[1,2]}else if(e[3]===true){t.error(r.getLogMessage("IDS_ERROR_NOT_SUPPORTED"))}else{return[1]}}else if(e[2]===true){if(e[3]===true){t.error(r.getLogMessage("IDS_ERROR_NOT_SUPPORTED"))}else{if(e.length>3){return[1]}else{return[2]}}}else{for(var a=0;a<e.length;a++){if(e[a]===true){t.error(r.getLogMessage("IDS_ERROR_NOT_DETERMINE_AXIS_INDEX"))}}return[1]}t.error(r.getLogMessage("IDS_ERROR_NOT_DETERMINE_AXIS_INDEX"))}function l(e,t){this._dataAdapter=e;this._aa=this._dataAdapter.getAnalysisAxisDataByIdx();this._mg=this._dataAdapter.getMeasureValuesGroupDataByIdx();this._subAxes=s(this._aa);this._type=t;if(this._type===undefined){this._measureValueAxisIndex=n(this._dataAdapter.getBindingInfo());this._maxMeasureAxis=2}else if(this._type==="measures"){this._measureValueAxisIndex=o(this._dataAdapter.getBindingInfo());this._maxMeasureAxis=this._dataAdapter.getBindingInfo().length}}l.prototype.getSubDataAdapter=function(e){if(this._type===undefined){return this.getSubDataAdapterByContext(e)}else if(this._type==="measures"){return this.getSubDataAdapterByMeasures(e)}return null};l.prototype.getSubDataAdapterByContext=function(e){var t,r,s,o;if(e){if(e.path.mg!==undefined&&e.path.mi!==undefined){if(e.path.di!==undefined&&e.path.dii!==undefined){t=new a;for(s=0;s<this._subAxes.length;s++){r=this._subAxes[s];t.addAnalysisAxis({index:r.index-1,values:r.values})}o=this._mg[e.path.mg];t.addMeasureValuesGroup({index:0,values:i.makeMeasureValues(e,o,this._measureValueAxisIndex,this._maxMeasureAxis,true)});return t}else{t=new a;for(s=0;s<this._subAxes.length;s++){r=this._subAxes[s];t.addAnalysisAxis({index:r.index-1,values:r.values})}o=this._mg[e.path.mg];t.addMeasureValuesGroup({index:0,values:i.makeMeasureValues(null,{values:[o.values[e.path.mi]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});return t}}else{t=new a;for(s=0;s<this._subAxes.length;s++){r=this._subAxes[s];t.addAnalysisAxis({index:r.index-1,values:r.values})}for(s=0;s<this._mg.length;s++){o=this._mg[s];t.addMeasureValuesGroup({index:o.index,values:i.makeMeasureValues(e,o,this._measureValueAxisIndex,this._maxMeasureAxis,false)})}return t}}return null};l.prototype.getSubDataAdapterByMeasures=function(e){var t=new a;for(var r=0;r<this._aa.length;r++){t.addAnalysisAxis(this._aa[r])}var s=this._mg[0];t.addMeasureValuesGroup({index:0,values:i.makeMeasureValues(null,{values:[s.values[e.row]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});t.addMeasureValuesGroup({index:1,values:i.makeMeasureValues(null,{values:[s.values[e.col]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});return t};return l});define("sap/viz/modules/tablecontainer",["sap/viz/base/utils/TypeUtils","sap/viz/base/utils/Objects","sap/viz/base/utils/FunctionUtils","sap/viz/modules/layout","sap/viz/modules/util/DimensionalInfoHandler","sap/viz/data/handler/MultiChartDataHandler","sap/viz/modules/manifests/Module","sap/viz/data/MultiAxesDataAdapter","sap/viz/modules/dispatch","sap/viz/modules/util/BoundUtil","sap/viz/util/ignite","sap/viz/util/fn/createContext","sap/viz/modules/util/dataUtil"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c){var f=function(e,f){var m=0,_=0,g=0,v=0,y={},b=e.props(null),x={},A={},M=[],S=[],z=null,D={},E={},w={},T=null,C=3,L=2,I=d3.scale.ordinal(),k=d3.scale.ordinal(),O=new u("initialized","showTooltip","hideTooltip"),N=0,P=0,R,F;var B="multiLayout";var V=0;var H={dataLoading:true,dataUpdating:true,resizing:true};var U=true,G=false;var Y="plotArea";function j(e){var t={};var i=t[Y]={};var r=i.animation={};a.extend(r,H);if(!e&&G){r.dataLoading=H.dataUpdating}var s=E.plot;for(var o=0,n=s.length;o<n;o++){s[o].properties(t)}}function W(){for(var e in x){if(x.hasOwnProperty(e)){delete x[e]}}}function X(){if(t.isEmptyObject(D)){i.error("Container configuration missing")}K();N=0,P=0;Z(D,"xAxis",A.columnData);Z(D,"yAxis",A.rowData);Z(D,"xAxis2",A.columnData);Z(D,"yAxis2",A.rowData);Q();ee("plot");ee("xAxis2");ee("yAxis");te();ae();P=P+N}function K(){delete A.contexts;delete A.columnData;delete A.rowData;delete A.dataHandler;var e=s({numberOfDimensionsInColumn:b.numberOfDimensionsInColumn},z.getAnalysisAxisDataByIdx(0));e.process();var t=e.getRowDimensionData();var a=e.getColumnDimensionData();var i=e.getContexts();C=i.length;L=C>0?i[0].length:L;var r=new l;r.addAnalysisAxis({key:r.key,index:0,values:a.values});var n=new l;n.addAnalysisAxis({key:t.key,index:0,values:t.values});var u;var d;if(n.getAnalysisAxisDataByIdx){u=n.getAnalysisAxisDataByIdx(0)}if(r.getAnalysisAxisDataByIdx){d=r.getAnalysisAxisDataByIdx(0)}var h;var p;var c=0;var f=i.length;if(f>0){c=i[0].length}var m=function(e,t){var a;for(a=0;a<e.length;a++){e[a].rows[t].contexts=[]}};var _=function(e,t,a){var i;for(i=0;i<e.length;i++){e[i].rows[t].contexts.push(a)}};for(h=0;h<f;h++){m(u.values,h);for(p=0;p<c;p++){_(u.values,h,i[h][p])}}for(h=0;h<c;h++){if(d.values.length>0){m(d.values,h);for(p=0;p<f;p++){_(d.values,h,i[p][h])}}}A.contexts=i;A.columnData=r;A.rowData=n;A.dataHandler=new o(z)}function q(e,t){if(e==="xAxis"||e==="yAxis"||e==="xAxis2"||e==="yAxis2"){if(t.hideTitleFirst===undefined){if(y.general&&y.general.layout&&y.general.layout.hideAxisTitleFirst!==undefined&&y.general.layout.hideAxisTitleFirst!==null){t.hideTitleFirst=y.general.layout.hideAxisTitleFirst}else{t.hideTitleFirst=true}}}}function Z(e,t,i){if(!e.modules[t]){return}var r=e.modules[t],s=E[t]=h(r.id,f,"v-m-"+t);J(t,i);var o={},n,l;if(r.configure){n=y[r.configure.propertyCategory]||{};l=r.configure.properties||{};a.extend(true,o,l,n);q(t,o);s.properties(o)}if(s.dispatch&&s.dispatch()["initialized"]){P++;s.dispatch().on("initialized.tablecontainer",me)}w[t]=T.append("g").attr("class","v-m-"+t)}function J(e,t){if(E[e]){E[e].data(t)}}function Q(){var e=D.modules.plot;if(!e){return}ie();re();var t=A.contexts;var a=E.plot=[],i=0;for(var r=0;r<L;r++){for(var s=0;s<C;s++){var o=t[s][r];if(o){if(!R||!F){R=n.get(e.id);F=p(R,f,"v-m-plot")}var l=a[i]=h(R,F);l.config(e);if(l.dispatch){N++;var u=l.dispatch();if(u.initialized){u.on("initialized.tablecontainer",me)}if(u.showTooltip){u.on("showTooltip.tablecontainer",_e)}if(u.hideTooltip){u.on("hideTooltip.tablecontainer",ge)}}++i}}}}function $(){var e=E.plot;if(e){var t=D.modules.plot;if(!t){return}var i=null,r,s;var o=t.configure;if(o){s={};if(o.propertyCategory){s[o.propertyCategory]=o.properties}r=y;i={};a.extend(true,i,s,r)}else{i=y}for(var n=0,l=e.length;n<l;n++){if(i&&e[n]){e[n].properties(i)}}}}function ee(e){if(e==="plot"){$()}else{var t=E[e];if(t){var i=D.modules[e];if(!i){return}var r;var s=i.configure;if(s){r=a.extend(true,{},y[s.propertyCategory])}else{r=y}q(e,r);t.properties(r)}}}function te(){var e=A.dataHandler;var t=A.contexts;var a=E.plot,i=0;for(var r=0;r<L;r++){for(var s=0;s<C;s++){var o=t[s][r];if(o){var n=e.getSubDataAdapter(o);if(a[i]){a[i].data(n,z);if(a[i].setRawData){a[i].setRawData(z)}++i}}}}}function ae(){var e=D.modules.plot;if(!e){return}var t=E.plot;var a=w.plot=[];var i=A.contexts;if(w.plotRoot){w.plotRoot.remove()}var r=w.plotRoot=T.append("g").attr("class","v-m-plot");var s=0;for(var o=0;o<L;o++){for(var n=0;n<C;n++){var l=i[n][o];if(l){var u=t[s];a[s]=r.append("g").attr("class","v-m-plot"+s);u.parent(a[s]);if(u.modules){var d=u.modules();c().updateAxisFormatString(d,"xAxis",y,u);c().updateAxisFormatString(d,"yAxis",y,u);c().updateAxisFormatString(d,"xAxis2",y,u);c().updateAxisFormatString(d,"yAxis2",y,u);var p;for(var m in d){if(d.hasOwnProperty(m)){p="plot["+s+"]"+"."+m;M.push(p);E["plot["+s+"]"+"."+m]=d[m]}}if(e.modules.rotate){var _=h("sap.viz.modules.controller.rotate",f);E["plot["+s+"]"+"."+"rotate"]=_;E["plot["+s+"]"+"."+"rotate"]().module(u)}}++s}}}}function ie(){for(var e=0,t=S.length;e<t;e++){delete E[S[e]]}S=[]}function re(){for(var e=0,t=M.length;e<t;e++){delete E[M[e]]}M=[];if(F){F.styleManager.cleanChildren()}}function se(){var e=true;if(y.general&&y.general.layout&&y.general.layout.hideAxisTitleFirst!==undefined&&y.general.layout.hideAxisTitleFirst!==null){e=y.general.layout.hideAxisTitleFirst}return e}function oe(){if(t.isEmptyObject(E)||!m||!_){return}var e={};if(E.xAxis){E.xAxis.drawable(true);e.south={size:E.xAxis.getPreferredSize()}}if(E.yAxis){E.yAxis.drawable(true);e.west={size:E.yAxis.getPreferredSize()}}if(E.xAxis2){E.xAxis2.drawable(true);e.north={size:E.xAxis2.getPreferredSize()}}if(E.yAxis2){E.yAxis2.drawable(true);e.east={size:E.yAxis2.getPreferredSize()}}if(E.plot){e.center={}}var a=r({type:"border",bias:"none",size:{width:m,height:_},prefs:e,hideAxisTitleFirst:se()});g=a.center.bounds.width;v=a.center.bounds.height;I.rangeBands([0,g]);k.rangeBands([0,v]);if(a.north){var i=a.north.bounds.width,s=0;if(a.west){i-=a.west.bounds.width;s=a.north.bounds.x+a.west.bounds.width}if(a.east){i-=a.east.bounds.width}w.xAxis2.attr("transform","translate("+s+","+a.north.bounds.y+")");E.xAxis2.width(i).height(a.north.bounds.height);E.xAxis2.gridlineLength(a.center.bounds.height)}else if(E.xAxis2){E.xAxis2.drawable(false)}if(a.east){w.yAxis2.attr("transform","translate("+a.east.bounds.x+","+a.east.bounds.y+")");E.yAxis2.width(a.east.bounds.width).height(a.east.bounds.height);E.yAxis2.gridlineLength(a.center.bounds.width)}else if(E.yAxis2){E.yAxis2.drawable(false)}if(a.south){var o=a.south.bounds.width,n=0;if(a.west){o=a.south.bounds.width-a.west.bounds.width;n=a.south.bounds.x+a.west.bounds.width}if(a.east){o=a.south.bounds.width-a.east.bounds.width}w.xAxis.attr("transform","translate("+n+","+a.south.bounds.y+")");E.xAxis.width(o).height(a.south.bounds.height);E.xAxis.gridlineLength(a.center.bounds.height)}else if(E.xAxis){E.xAxis.drawable(false)}if(a.west){w.yAxis.attr("transform","translate("+a.west.bounds.x+","+a.west.bounds.y+")");E.yAxis.width(a.west.bounds.width).height(a.west.bounds.height);E.yAxis.gridlineLength(a.center.bounds.width)}else if(E.yAxis){E.yAxis.drawable(false)}if(a.center){w.plotRoot.attr("transform","translate("+a.center.bounds.x+","+a.center.bounds.y+")");var l=r({type:"table",bias:"none",size:{width:a.center.bounds.width,height:a.center.bounds.height},columns:L,rows:C,cellpadding:b.cellPadding,paddingThreshold:b.paddingThreshold,hideAxisTitleFirst:se()});var u=0;var d=A.contexts;for(var h=0;h<L;h++){for(var p=0;p<C;p++){var c=d[p][h];if(c){var f=E.plot[u];var y=l[h][p];var x=w.plot[u];f.width(y.bounds.width).height(y.bounds.height);x.attr("transform","translate("+y.bounds.x+","+y.bounds.y+")");++u}}}}}function ne(e){return function(t){if(!arguments.length){return x[e]}else{if(!x[e]){x[e]=t}else{var a=x[e];if(t.distinctValuesObj){for(var i in t.distinctValuesObj){if(t.distinctValuesObj.hasOwnProperty(i)){a.distinctValuesObj[i]=t.distinctValuesObj[i]}}}if(t.min<a.min){a.min=t.min}if(t.max>a.max){a.max=t.max}if(t.hasNoValue){a.hasNoValue=true}}}}}function le(e){for(var t=0,a=e.length;t<a;t++){pe[e[t]+"DataRange"]=ne(e[t])}}function ue(e){y=e;if(y[Y]){a.extend(H,y[Y].animation)}if(e[B]){if(e[B].mergeDataRange){b.mergeDataRange=e[B].mergeDataRange;le(b.mergeDataRange)}var t=b.numberOfDimensionsInColumn;a.extend(true,b,e[B]);if(E.plot&&t!==b.numberOfDimensionsInColumn){K();W();J("xAxis",A.columnData);J("yAxis",A.rowData);J("xAxis2",A.columnData);J("yAxis2",A.rowData);te()}}}function de(){var e=[];for(var t=0;t<L;t++){e.push(t)}var a=E.xAxis?E.xAxis:E.xAxis2;I.domain(e).rangeBands([0,g])}function he(){var e=[];for(var t=0;t<C;t++){e.push(t)}var a=E.yAxis?E.yAxis:E.yAxis2;k.domain(e).rangeBands([0,v])}function pe(e){oe();e.each(function(a){if(!U&&G){j()}V=0;T=e;d.drawBound(e,m,_);if(w.plotRoot){d.drawBound(w.plotRoot,g,v)}if(t.isEmptyObject(E)){X()}fe();if(!U&&G){j(true)}});U=false,G=false;return pe}pe.width=function(e){if(!arguments.length){return m}m=e;W();oe();return pe};pe.height=function(e){if(!arguments.length){return _}_=e;W();oe();return pe};pe.size=function(e){if(!arguments.length){return{width:m,height:_}}_=e.height;m=e.width;W();oe();return pe};pe.data=function(e){if(!arguments.length){return z}G=true;var a=false;if(!c().hasSameSchema(z,e)){a=true}z=e;W();if(!t.isEmptyObject(E)){K();if(a){P=P-N;J("xAxis",A.columnData);J("yAxis",A.rowData);J("xAxis2",A.columnData);J("yAxis2",A.rowData);N=0;Q();ee("plot");ee("xAxis2");ee("yAxis");te();ae();P=P+N}else{J("xAxis",A.columnData);J("yAxis",A.rowData);J("xAxis2",A.columnData);J("yAxis2",A.rowData);te()}}return pe};pe.properties=function(e){if(!arguments.length){return b}if(!t.isEmptyObject(e)){ue(e)}if(!t.isEmptyObject(E)){ee("plot");ee("xAxis2");ee("yAxis")}return pe};pe.config=function(e){if(!arguments.length){return D}D=e;return pe};pe.xCategoryScale=function(e){if(!arguments.length){de();return I}I=e;return pe};pe.yCategoryScale=function(e){if(!arguments.length){he();return k}k=e;return pe};pe.modules=function(e){if(!arguments.length){if(t.isEmptyObject(E)){X()}return E}E=e;return pe};pe.parent=function(e){if(!arguments.length){return T}T=e;return pe};pe.dispatch=function(e){if(!arguments.length){return O}O=e;return pe};pe.infoForSizeLegend=function(){var e;for(var t=-1,a=E.plot.length;++t<a;){e=E.plot[t];if(e){break}}return{space:e?m-g+e.infoForSizeLegend().space*L:0,number:L,plotHeight:e?e.height():0}};pe.plotRegion=function(){return{selection:w.plotRoot,width:g,height:v}};pe.getPropertyZone=function(){var e=[];var t=w["plotRoot"].select(".v-bound").node().getBoundingClientRect();var a=[[]];a[0].push([t.left,t.top]);a[0].push([t.right,t.top]);a[0].push([t.right,t.bottom]);a[0].push([t.left,t.bottom]);e.push({name:"mainPlot",bound:a});return e};pe.destroy=function(){if(I){I.domain([0,1]).range([0,1])}if(k){k.domain([0,1]).range([0,1])}I=null;k=null;E=null;z=null;if(f){f.destroy();f=null}};function ce(e){if(w[e]){T.select(".v-m-"+e).datum(E[e].data()).call(E[e])}}function fe(){ce("xAxis");ce("xAxis2");ce("yAxis");ce("yAxis2");if(w.plot){for(var e=0,t=w.plot.length;e<t;e++){if(w.plot[e]){w.plot[e].datum(E.plot[e].data()).call(E.plot[e])}}}}function me(){if(++V===P){V=0;O.initialized()}}function _e(e){O.showTooltip(e)}function ge(e){O.hideTooltip(e)}return pe};return f});define("sap/viz/modules/manifests/TableContainer",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/tablecontainer","sap/viz/data/feed/Constants"],function e(t,a,i,r){var s={id:"multiplier",name:"Chart Multiplier",type:r.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:0};var o={id:"sap.viz.modules.tablecontainer",type:a.Type.Container,name:"table container",description:"Settings for the subcharts layout of multiple charts.",properties:{mergeDataRange:{name:"mergeDataRange",supportedValueType:"String",supportedValues:["ANY DATA RANGE NAME"],defaultValue:null,description:"Set the mergeDataRange. Specify the names of the data ranges that you want to merge. A corresponding function will be generated in this module to do the real merge. For example, if 'primary' and 'secondary' are specified here, two functions will be generated: 'primaryDataRange' and 'secondaryDataRange'. Note that the names of the functions are the same as the names of the data ranges, but with 'DataRange' appended to the end. These generated functions support both getter and setter. You can pass any number of ranges {min:NUM, max:NUM} to the setter for the setter to merge. Then you can get the merged result from the getter.",isExported:false},numberOfDimensionsInColumn:{name:"numberOfDimensionsInColumn",supportedValueType:"PositiveInt",defaultValue:1,description:"Set the number of dimensions that are retrieved from the end of the dimension list in the multiplier, and are put in the column when making a layout of multiple charts."},cellPadding:{name:"cellPadding",supportedValueType:"PositiveInt",defaultValue:15,description:"Set the value for padding between the cells of sub plots. If the cellPadding value exceeds the containerSize * threshold, it defaults to '2'."},paddingThreshold:{name:"paddingThreshold",supportedValueType:"Number",defaultValue:.2,description:"Set the paddingThreshold. If the cellPadding value exceeds the containerSize * threshold, it defaults to '0'.",isExported:false}},events:{showTooltip:a.Event.TooltipShow.desc,hideTooltip:a.Event.TooltipHide.desc},css:null,feeds:[s],fn:i};var n={viz:[],module:[o],feeds:[]};return n});define("sap/viz/manifests/BaseMultipleChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/Background","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/chart/elements/manifests/Tooltip"],function e(t,a,i,r,s,o,n,l,u){var d={id:"riv/base/multiple",name:"IDS_BASEMULTIPLECHART",isBuiltIn:true,base:"riv/base",abstract:true,modules:{root:{id:"sap.viz.modules.rootContainer",configure:{propertyCategory:"general"},modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousedown","mousemove","mouseover","mouseout","touchstart"]},propertiesOverride:{pan:{isExported:false}}}},main:{id:"sap.viz.modules.tablecontainer",configure:{propertyCategory:"multiLayout",properties:{layout:{position:"center",priority:10}}},modules:{xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the column axis of multiple charts",propertyCategory:"columnAxis",properties:{title:{visible:false},gridline:{visible:true},color:"#d8d8d8",type:"category",position:"top"},propertiesOverride:{label:{isExported:true},axisline:{isExported:false},gridline:{isExported:false,color:{isExported:false},size:{isExported:false}},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},maxSizeRatio:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the row axis of multiple charts",propertyCategory:"rowAxis",properties:{type:"category",position:"left",title:{visible:false},color:"#d8d8d8",gridline:{visible:true}},propertiesOverride:{label:{isExported:true},axisline:{isExported:false},gridline:{isExported:false,color:{isExported:false},size:{isExported:false}},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},maxSizeRatio:{isExported:false}}}},plot:{id:"sap.viz.modules.xycontainer"}}}}}}};var h={viz:[d].concat(a.viz),module:[].concat(a.module,i.module,r.module,s.module,o.module,n.module,l.module,u.module),feeds:[].concat(a.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds)};return h});define("sap/viz/manifests/BaseMultipleXYChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/manifests/BaseMultipleChart","sap/viz/chart/elements/manifests/Tooltip"],function e(t,a,i,r,s,o,n,l){var u={id:"riv/base/multiple/xy",name:"IDS_BASEMULTIPLEXYCHART",isBuiltIn:true,base:"riv/base/multiple",abstract:true,modules:{root:{id:"sap.viz.modules.rootContainer",configure:{propertyCategory:"general"},modules:{tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip"}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:false},secondaryValuesColorPalette:{isExported:false}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"vertical"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,position:"inside",automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true}}}}}}}}}}};var d={viz:[u].concat(a.viz,n.viz),module:[].concat(a.module,n.module,i.module,r.module,s.module,o.module,l.module),feeds:[].concat(a.feeds,n.feeds,i.feeds,r.feeds,s.feeds,o.feeds,l.feeds)};return d});define("sap/viz/manifests/MultiAreaChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/Area","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/BaseMultipleXYChart","sap/viz/chart/elements/manifests/controller/Interaction"],function e(t,a,i,r,s,o,n,l,u,d){var h={id:"viz/multi_area",name:"IDS_MULTIAREACHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/base/multiple/xy",modules:{root:{modules:{legends:{modules:{legend:{data:{aa:[3]}}}},tooltip:{configure:{properties:{chartType:"line",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},main:{configure:{properties:{mergeDataRange:["primary"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart",propertyCategory:"xAxis",properties:{title:{visible:false},gridline:{visible:false},type:"category",position:"bottom",isKeepFirstAndLastLabel:true},propertiesOverride:{title:{visible:{isExported:true}},gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},maxSizeRatio:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart",propertyCategory:"yAxis",properties:{type:"value",position:"left"},propertiesOverride:{title:{visible:{isExported:true}},label:{hideSubLevels:{isExported:false}},maxSizeRatio:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",orientation:"vertical",automaticInOutside:false,outsidePosition:"down"},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1},regionColor:{max:1}},dependencies:{attributes:[{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main.plot.yAxis",source:"range"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"getColorPalette"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapePalette"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.main.plot.dataLabel",listener:"showLabel",sourceModule:"root.main.plot.plot",type:"initialized.datalabel"},{targetModule:"root.main.plot.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot.plot",type:"startToInit.datalabel"}]}};var p={viz:[h].concat(a.viz,l.viz,u.viz),module:[].concat(a.module,l.module,u.module,i.module,r.module,s.module,o.module,n.module,d.module),feeds:[].concat(a.feeds,l.feeds,u.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds,d.feeds)};return p});define("sap/viz/impls/MultiAreaChart",["sap/viz/manifests/MultiAreaChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/MultiBarChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/Bar","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/BaseMultipleXYChart","sap/viz/chart/elements/manifests/Tooltip"],function e(t,a,i,r,s,o,n,l,u,d,h){var p={id:"viz/multi_bar",name:"IDS_MULTIBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/base/multiple/xy",modules:{root:{modules:{legends:{modules:{legend:{data:{aa:[3]}}}},tooltip:{configure:{properties:{chartType:"bar",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousedown","mousemove","mouseover","mouseout","touchstart"],holdSelection:true}}},main:{configure:{properties:{mergeDataRange:["primary"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{background:{configure:{properties:{direction:"horizontal"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{orientation:"horizontal",outsidePosition:"right"}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart",propertyCategory:"xAxis",properties:{title:{visible:false},type:"value",position:"bottom"},propertiesOverride:{title:{visible:{isExported:true}},label:{hideSubLevels:{isExported:false}},maxSizeRatio:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart",propertyCategory:"yAxis",properties:{type:"category",position:"left",gridline:{visible:false},isKeepFirstAndLastLabel:true},propertiesOverride:{title:{visible:{isExported:true}},gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},maxSizeRatio:{isExported:false}}}},plot:{id:"sap.viz.modules.bar",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1},regionColor:{max:1}},dependencies:{attributes:[{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main.plot.xAxis",source:"range"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.main.plot.dataLabel",listener:"showLabel",sourceModule:"root.main.plot.plot",type:"initialized.datalabel"},{targetModule:"root.main.plot.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot.plot",type:"startToInit.datalabel"}]}};var c={viz:[p].concat(a.viz,u.viz,d.viz),module:[].concat(a.module,u.module,d.module,i.module,r.module,s.module,o.module,n.module,l.module,h.module),feeds:[].concat(a.feeds,u.feeds,d.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds,l.feeds)};return c});define("sap/viz/impls/MultiBarChart",["sap/viz/manifests/MultiBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/modules/manifests/Scatter",["sap/viz/modules/manifests/Module","sap/viz/modules/manifests/Bubble"],function e(t,a){var i={id:"sap.viz.modules.scatter",base:"sap.viz.modules.bubble",name:"scatter",properties:{markerSize:{name:"markerSize",supportedValueType:"PositiveInt",defaultValue:"10",description:"Set the marker size for data points. The available range is from '4' to '32'."},minMarkerSize:null,maxBubbleWidth:null,minBubbleWidth:null,maxBubbleHeight:null,minBubbleHeight:null},feeds:{configure:{bubbleWidth:null,bubbleHeight:null}}};var r={viz:[],module:[i].concat(a.module),feeds:[].concat(a.feeds)};return r});define("sap/viz/manifests/MultiScatterChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/Scatter","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/BaseMultipleXYChart"],function e(t,a,i,r,s,o,n,l,u){var d={id:"viz/multi_scatter",name:"IDS_MULTISCATTERCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/base/multiple/xy",modules:{root:{modules:{legends:{modules:{legend:{data:{aa:[2,3]},configure:{properties:{type:"BubbleColorLegend"},propertiesOverride:{isHierarchical:{isExported:false}}}}}},tooltip:{configure:{properties:{chartType:"scatter",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},main:{configure:{properties:{mergeDataRange:["valueAxis1","valueAxis2"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the x axis of a normal bubble or scatter plot",propertyCategory:"xAxis",properties:{title:{visible:false},type:"value",position:"bottom"},propertiesOverride:{title:{visible:{isExported:true}},label:{hideSubLevels:{isExported:false}},maxSizeRatio:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{automaticInOutside:false,orientation:"vertical",position:"outside",outsideVisible:true}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the y axis of a normal bubble or scatter plot",propertyCategory:"yAxis",properties:{title:{visible:false},type:"value",position:"left"},propertiesOverride:{title:{visible:{isExported:true}},label:{hideSubLevels:{isExported:false}},maxSizeRatio:{isExported:false}}}},plot:{id:"sap.viz.modules.scatter",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}}}}}}}}},feeds:{multiplier:{acceptMND:-1}},dependencies:{attributes:[{targetModule:"root.main.plot.plot",target:"valueAxis1DataRange",sourceModule:"root.main.plot.xAxis",source:"range"},{targetModule:"root.main.plot.plot",target:"valueAxis2DataRange",sourceModule:"root.main.plot.yAxis",source:"range"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"valueAxis1DataRange",sourceModule:"root.main.plot.plot",source:"valueAxis1DataRange"},{targetModule:"root.main.plot.plot",target:"valueAxis1DataRange",sourceModule:"root.main",source:"valueAxis1DataRange"},{targetModule:"root.main",target:"valueAxis2DataRange",sourceModule:"root.main.plot.plot",source:"valueAxis2DataRange"},{targetModule:"root.main.plot.plot",target:"valueAxis2DataRange",sourceModule:"root.main",source:"valueAxis2DataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"valueAxis1Scale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"valueAxis1Title"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"valueAxis2Scale"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"valueAxis2Title"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapes"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.main.plot.dataLabel",listener:"showLabel",sourceModule:"root.main.plot.plot",type:"initialized.datalabel"},{targetModule:"root.main.plot.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot.plot",type:"startToInit.datalabel"}]}};var h={viz:[d].concat(a.viz,l.viz,u.viz),module:[].concat(a.module,l.module,u.module,i.module,r.module,s.module,o.module,n.module),feeds:[].concat(a.feeds,l.feeds,u.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds)};return h});define("sap/viz/manifests/MultiBubbleChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/Scatter","sap/viz/manifests/MultiScatterChart"],function e(t,a,i,r,s,o,n,l){var u={id:"viz/multi_bubble",name:"IDS_MULTIBUBBLECHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/multi_scatter",modules:{root:{modules:{legends:{modules:{legend:{data:{aa:[2,3]},configure:{properties:{layout:{order:1}},propertiesOverride:{isHierarchical:{isExported:false}}}},sizeLegend:{id:"sap.viz.modules.legend.common",configure:{description:"Settings for the size legend.",propertyCategory:"sizeLegend",properties:{type:"SizeLegend",layout:{order:0}},propertiesOverride:{isHierarchical:{isExported:false},isScrollable:{isExported:false}}}}}},tooltip:{configure:{properties:{chartType:"bubble",orientation:"left"}}},main:{configure:{properties:{mergeDataRange:["valueAxis1","valueAxis2","bubbleWidth","bubbleHeight"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{automaticInOutside:true,position:"inside"}}},plot:{id:"sap.viz.modules.bubble",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",propertiesOverride:{showNegativeValues:{isExported:true}}}}}}}}}}},feeds:{multiplier:{acceptMND:-1},secondaryValues:{max:1}},dependencies:{attributes:[{targetModule:"root.main.plot.plot",target:"valueAxis1DataRange",sourceModule:"root.main.plot.xAxis",source:"range"},{targetModule:"root.main.plot.plot",target:"valueAxis2DataRange",sourceModule:"root.main.plot.yAxis",source:"range"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"valueAxis1DataRange",sourceModule:"root.main.plot.plot",source:"valueAxis1DataRange"},{targetModule:"root.main.plot.plot",target:"valueAxis1DataRange",sourceModule:"root.main",source:"valueAxis1DataRange"},{targetModule:"root.main",target:"valueAxis2DataRange",sourceModule:"root.main.plot.plot",source:"valueAxis2DataRange"},{targetModule:"root.main.plot.plot",target:"valueAxis2DataRange",sourceModule:"root.main",source:"valueAxis2DataRange"},{targetModule:"root.main",target:"bubbleWidthDataRange",sourceModule:"root.main.plot.plot",source:"bubbleWidthDataRange"},{targetModule:"root.main.plot.plot",target:"bubbleWidthDataRange",sourceModule:"root.main",source:"bubbleWidthDataRange"},{targetModule:"root.main",target:"bubbleHeightDataRange",sourceModule:"root.main.plot.plot",source:"bubbleHeightDataRange"},{targetModule:"root.main.plot.plot",target:"bubbleHeightDataRange",sourceModule:"root.main",source:"bubbleHeightDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"valueAxis1Scale"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"valueAxis2Scale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"valueAxis1Title"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"valueAxis2Title"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapes"},{targetModule:"root.legends.sizeLegend",target:"sizeLegendInfo",sourceModule:"root.main.plot.plot",source:"sizeLegend"}]}};var d={viz:[u].concat(a.viz,l.viz),module:[].concat(a.module,l.module,i.module,r.module,s.module,o.module,n.module),feeds:[].concat(a.feeds,l.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds)};return d});define("sap/viz/impls/MultiBubbleChart",["sap/viz/manifests/MultiBubbleChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/MultiPieChart",["sap/viz/manifests/Viz","sap/viz/data/feed/Constants","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/Pie","sap/viz/manifests/BaseMultipleChart","sap/viz/chart/elements/manifests/Tooltip"],function e(t,a,i,r,s,o,n,l,u,d,h){var p={id:"viz/multi_pie",name:"IDS_MULTIPIECHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/base/multiple",modules:{root:{modules:{legends:{modules:{legend:{data:{aa:[2]}}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"],holdSelection:true}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip"}},main:{configure:{properties:{cellPadding:5}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.pie",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",properties:{valign:"center"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"polarCoordinate",visible:false,formatString:[["0.00%"],[]],automaticInOutside:false,outsideVisible:true,type:"label and value"}}}}}}}}}},feeds:{multiplier:{acceptMND:0,max:2},pieSectorSize:{max:a.Constraints.INF}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.main.plot.dataLabel",listener:"showLabel",sourceModule:"root.main.plot.plot",type:"initialized.datalabel"},{targetModule:"root.main.plot.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main",type:"initialized.defaultSelection"}]}};var c={viz:[p].concat(s.viz,d.viz),module:[].concat(s.module,d.module,i.module,r.module,o.module,n.module,l.module,u.module,h.module),feeds:[].concat(s.feeds,d.feeds,r.feeds,o.feeds,n.feeds,l.feeds,u.feeds)};return c});define("sap/viz/manifests/MultiDonutChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/Pie","sap/viz/manifests/MultiPieChart"],function e(t,a,i,r,s,o,n,l){var u={id:"viz/multi_donut",name:"IDS_MULTIDONUTCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/multi_pie",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.pie",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",properties:{isDonut:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isDonut:true}}}}}}}}}}};var d={viz:[u].concat(a.viz,l.viz),module:[].concat(a.module,l.module,i.module,r.module,s.module,o.module,n.module),feeds:[].concat(a.feeds,l.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds)};return d});define("sap/viz/impls/MultiDonutChart",["sap/viz/manifests/MultiDonutChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/MultiPieWithDepthChart",["sap/viz/manifests/Viz","sap/viz/data/feed/Constants","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/PieWithDepth","sap/viz/manifests/BaseMultipleChart","sap/viz/modules/manifests/Pie"],function e(t,a,i,r,s,o,n,l,u,d){var h={id:"viz/multi_pie_with_depth",name:"IDS_MULTIPIEWITHDEPTHCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/base/multiple",modules:{root:{modules:{legends:{modules:{legend:{data:{aa:[2]}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{selectability:{mode:"inclusive"},preserveSelectionWhenDragging:true}}},main:{configure:{properties:{cellPadding:5,mergeDataRange:["height"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.piewithdepth",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",properties:{valign:"center"}}}}}}}}}},feeds:{multiplier:{acceptMND:-1,max:2}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"},{targetModule:"root.main",target:"heightDataRange",sourceModule:"root.main.plot.plot",source:"heightDataRange"},{targetModule:"root.main.plot.plot",target:"heightDataRange",sourceModule:"root.main",source:"heightDataRange"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main",type:"initialized.interaction"}]}};var p={viz:[h].concat(r.viz,u.viz),module:[].concat(d.module,r.module,u.module,i.module,s.module,o.module,n.module,l.module),feeds:[].concat(d.feeds,r.feeds,u.feeds,i.feeds,s.feeds,o.feeds,n.feeds,l.feeds)};return p});define("sap/viz/manifests/MultiDonutWithDepthChart",["sap/viz/manifests/Viz","sap/viz/data/feed/Constants","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/PieWithDepth","sap/viz/manifests/MultiPieWithDepthChart"],function e(t,a,i,r,s,o,n,l,u){var d={id:"viz/multi_donut_with_depth",name:"IDS_MULTIDONUTWITHDEPTHCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/multi_pie_with_depth",modules:{root:{modules:{main:{configure:{properties:{cellPadding:5}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.piewithdepth",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",properties:{valign:"center",isDonut:true}}}}}}}}}}};var h={viz:[d].concat(r.viz,u.viz),module:[].concat(r.module,u.module,i.module,s.module,o.module,n.module,l.module),feeds:[].concat(r.feeds,u.feeds,i.feeds,s.feeds,o.feeds,n.feeds,l.feeds)};return h});define("sap/viz/impls/MultiDonutWithDepthChart",["sap/viz/manifests/MultiDonutWithDepthChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/MultiDualBarChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/Bar","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/BaseMultipleXYChart","sap/viz/manifests/MultiBarChart"],function e(t,a,i,r,s,o,n,l,u,d){var h={id:"viz/multi_dual_bar",name:"IDS_MULTIDUALBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/multi_bar",modules:{root:{modules:{main:{configure:{properties:{mergeDataRange:["primary","second"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the left or bottom side of an XY chart with two value axes"}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the right or top side of an XY chart with two value axes",propertyCategory:"xAxis2",properties:{title:{visible:false},gridline:{visible:false},type:"value",position:"top"},propertiesOverride:{title:{visible:{isExported:true}},label:{hideSubLevels:{isExported:false}},maxSizeRatio:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1},regionColor:{max:1}},dependencies:{attributes:[{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main.plot.xAxis2",source:"range"},{targetModule:"root.main.plot.plot",target:"secondDataRange",sourceModule:"root.main.plot.xAxis",source:"range"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main",target:"secondDataRange",sourceModule:"root.main.plot.plot",source:"secondDataRange"},{targetModule:"root.main.plot.plot",target:"secondDataRange",sourceModule:"root.main",source:"secondDataRange"},{targetModule:"root.main.plot.xAxis2",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.xAxis2",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"secondScale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"secondAxisTitle"},{targetModule:"root.main.plot.xAxis2",target:"color",sourceModule:"root.main.plot.plot",source:"primaryAxisColor"},{targetModule:"root.main.plot.xAxis",target:"color",sourceModule:"root.main.plot.plot",source:"secondAxisColor"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"}]}};var p={viz:[h].concat(a.viz,l.viz,u.viz,d.viz),module:[].concat(a.module,l.module,u.module,d.module,i.module,r.module,s.module,o.module,n.module),feeds:[].concat(a.feeds,l.feeds,u.feeds,d.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds)};return p});define("sap/viz/impls/MultiDualBarChart",["sap/viz/manifests/MultiDualBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/MultiLineChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/Line","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/BaseMultipleXYChart","sap/viz/chart/elements/manifests/controller/Interaction"],function e(t,a,i,r,s,o,n,l,u){var d={id:"viz/multi_line",name:"IDS_MULTILINECHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/base/multiple/xy",modules:{root:{modules:{legends:{modules:{legend:{data:{aa:[3]}}}},tooltip:{configure:{properties:{chartType:"line",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},main:{configure:{properties:{mergeDataRange:["primary"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart",propertyCategory:"xAxis",properties:{isKeepFirstAndLastLabel:true,title:{visible:false},gridline:{visible:false},type:"category",position:"bottom"},propertiesOverride:{title:{visible:{isExported:true}},gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},maxSizeRatio:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart",propertyCategory:"yAxis",properties:{type:"value",position:"left"},propertiesOverride:{title:{visible:{isExported:true}},label:{hideSubLevels:{isExported:false}},maxSizeRatio:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,orientation:"vertical",outsidePosition:"up",positionPreference:true}}},plot:{id:"sap.viz.modules.line",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",properties:{orientation:"vertical"}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1},regionColor:{max:1}},dependencies:{attributes:[{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main.plot.yAxis",source:"range"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"getColorPalette"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapePalette"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.main.plot.dataLabel",listener:"showLabel",sourceModule:"root.main.plot.plot",type:"initialized.datalabel"},{targetModule:"root.main.plot.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot.plot",type:"startToInit.datalabel"}]}};var h={viz:[d].concat(a.viz,n.viz,l.viz),module:[].concat(a.module,n.module,l.module,i.module,r.module,s.module,o.module,u.module),feeds:[].concat(a.feeds,n.feeds,l.feeds,i.feeds,r.feeds,s.feeds,o.feeds,u.feeds)};return h});define("sap/viz/manifests/MultiHorizontalLineChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/HorizontalLine","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/MultiLineChart"],function e(t,a,i,r,s,o,n,l){var u={id:"viz/multi_horizontal_line",name:"IDS_MULTIHORIZONTALLINECHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/multi_line",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left"}}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{background:{configure:{properties:{direction:"horizontal"}}},xAxis:{id:"sap.viz.modules.axis",data:null,configure:{description:"Settings for the value axis of an XY chart",properties:{type:"value",gridline:{visible:true}},propertiesOverride:{gridline:{isExported:true},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:true},unitFormatType:{isExported:true},hideSubLevels:{isExported:false}},axisline:{isExported:true},scale:{fixedRange:{isExported:true},minValue:{isExported:true},maxValue:{isExported:true},isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart",properties:{isKeepFirstAndLastLabel:true,type:"category",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,orientation:"horizontal",outsidePosition:"right",positionPreference:true}}},plot:{id:"sap.viz.modules.horizontalline",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",properties:{orientation:"horizontal"}}}}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},regionColor:{max:1}},dependencies:{attributes:[{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main.plot.xAxis",source:"range"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"getColorPalette"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapePalette"}]}};var d={viz:[u].concat(a.viz,n.viz,l.viz),module:[].concat(a.module,n.module,l.module,i.module,r.module,s.module,o.module),feeds:[].concat(a.feeds,n.feeds,l.feeds,i.feeds,r.feeds,s.feeds,o.feeds)};return d});define("sap/viz/manifests/MultiDualHorizontalLineChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/Line","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/BaseMultipleXYChart","sap/viz/manifests/MultiHorizontalLineChart"],function e(t,a,i,r,s,o,n,l,u){var d={id:"viz/multi_dual_horizontal_line",name:"IDS_MULTIDUALHORIZONTALLINECHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/multi_horizontal_line",modules:{root:{modules:{main:{configure:{properties:{mergeDataRange:["primary","second"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{configure:{properties:{orientation:"horizontal"},propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the left or bottom side of an XY chart with two value axes"}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the right or top side of an XY chart with two value axes",propertyCategory:"xAxis2",properties:{title:{visible:false},gridline:{visible:false},type:"value",position:"top"},propertiesOverride:{title:{visible:{isExported:true}},label:{hideSubLevels:{isExported:false}},maxSizeRatio:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1,acceptMND:-1},regionColor:{acceptMND:1,max:1}},dependencies:{attributes:[{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main.plot.xAxis2",source:"range"},{targetModule:"root.main.plot.plot",target:"secondDataRange",sourceModule:"root.main.plot.xAxis",source:"range"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main",target:"secondDataRange",sourceModule:"root.main.plot.plot",source:"secondDataRange"},{targetModule:"root.main.plot.plot",target:"secondDataRange",sourceModule:"root.main",source:"secondDataRange"},{targetModule:"root.main.plot.xAxis2",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.xAxis2",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"secondaryScale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"secondAxisTitle"},{targetModule:"root.main.plot.xAxis2",target:"color",sourceModule:"root.main.plot.plot",source:"primaryAxisColor"},{targetModule:"root.main.plot.xAxis",target:"color",sourceModule:"root.main.plot.plot",source:"secondAxisColor"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"getColorPalette"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapePalette"}]}};var h={viz:[d].concat(a.viz,n.viz,l.viz,u.viz),module:[].concat(a.module,n.module,l.module,u.module,i.module,r.module,s.module,o.module),feeds:[].concat(a.feeds,n.feeds,l.feeds,u.feeds,i.feeds,r.feeds,s.feeds,o.feeds)};return h});define("sap/viz/impls/MultiDualHorizontalLineChart",["sap/viz/manifests/MultiDualHorizontalLineChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/MultiDualLineChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/Line","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/BaseMultipleXYChart","sap/viz/manifests/MultiLineChart","sap/viz/chart/elements/manifests/controller/Interaction"],function e(t,a,i,r,s,o,n,l,u,d,h){var p={id:"viz/multi_dual_line",name:"IDS_MULTIDUALLINECHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/multi_line",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},main:{configure:{properties:{mergeDataRange:["primary","second"]}},modules:{plot:{modules:{plot:{configure:{properties:{orientation:"vertical"},propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the left or bottom side of an XY chart with two value axes"}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the right or top side of an XY chart with two value axes",propertyCategory:"yAxis2",properties:{title:{visible:false},gridline:{visible:false},type:"value",position:"right"},propertiesOverride:{title:{visible:{isExported:true}},label:{hideSubLevels:{isExported:false}},maxSizeRatio:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1,acceptMND:-1},regionColor:{acceptMND:1,max:1}},dependencies:{attributes:[{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main.plot.yAxis",source:"range"},{targetModule:"root.main.plot.plot",target:"secondDataRange",sourceModule:"root.main.plot.yAxis2",source:"range"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main",target:"secondDataRange",sourceModule:"root.main.plot.plot",source:"secondDataRange"},{targetModule:"root.main.plot.plot",target:"secondDataRange",sourceModule:"root.main",source:"secondDataRange"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.yAxis2",target:"scale",sourceModule:"root.main.plot.plot",source:"secondaryScale"},{targetModule:"root.main.plot.yAxis2",target:"title",sourceModule:"root.main.plot.plot",source:"secondAxisTitle"},{targetModule:"root.main.plot.yAxis",target:"color",sourceModule:"root.main.plot.plot",source:"primaryAxisColor"},{targetModule:"root.main.plot.yAxis2",target:"color",sourceModule:"root.main.plot.plot",source:"secondAxisColor"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"getColorPalette"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapePalette"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main",type:"initialized.interaction"}]}};var c={viz:[p].concat(a.viz,l.viz,u.viz,d.viz),module:[].concat(a.module,l.module,u.module,d.module,i.module,r.module,s.module,o.module,n.module,h.module),feeds:[].concat(a.feeds,l.feeds,u.feeds,d.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds,h.feeds)};return c});define("sap/viz/impls/MultiDualLineChart",["sap/viz/manifests/MultiDualLineChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/MultiDualStackedBarChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/StackedBar","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/BaseMultipleXYChart","sap/viz/manifests/MultiDualBarChart"],function e(t,a,i,r,s,o,n,l,u,d){var h={id:"viz/multi_dual_stacked_bar",name:"IDS_MULTIDUALSTACKEDBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/multi_dual_bar",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.stackedbar",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}}}};var p={viz:[h].concat(a.viz,l.viz,u.viz,d.viz),module:[].concat(a.module,l.module,u.module,d.module,i.module,r.module,s.module,o.module,n.module),feeds:[].concat(a.feeds,l.feeds,u.feeds,d.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds)};return p});define("sap/viz/manifests/MultiDualPercentageStackedBarChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/StackedBar","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/BaseMultipleXYChart","sap/viz/manifests/MultiDualStackedBarChart"],function e(t,a,i,r,s,o,n,l,u,d){var h={id:"viz/multi_100_dual_stacked_bar",name:"IDS_MULTIDUALPERCENTAGESTACKEDBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/multi_dual_stacked_bar",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousedown","mousemove","mouseover","mouseout","touchstart"],holdSelection:true,extensionPoints:{convertData:function(e,t){return e.getDataOfDataPoint(t)}}}}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},xAxis2:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},plot:{id:"sap.viz.modules.stackedbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,type:"value",showZero:true}}}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{formatString:[["0.00%"],["0.00%"]]}}}}}}};var p={viz:[h].concat(a.viz,l.viz,u.viz,d.viz),module:[].concat(a.module,l.module,u.module,d.module,i.module,r.module,s.module,o.module,n.module),feeds:[].concat(a.feeds,l.feeds,u.feeds,d.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds)};return p});define("sap/viz/impls/MultiDualPercentageStackedBarChart",["sap/viz/manifests/MultiDualPercentageStackedBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/MultiVerticalBarChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/VerticalBar","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/BaseMultipleXYChart","sap/viz/manifests/MultiBarChart"],function e(t,a,i,r,s,o,n,l,u,d){var h={id:"viz/multi_column",name:"IDS_MULTIVERTICALBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/multi_bar",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"verticalbar",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{holdSelection:true}}},main:{modules:{plot:{modules:{background:{configure:{properties:{direction:"vertical"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{orientation:"vertical",outsidePosition:"up"}}},xAxis:{data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart",properties:{type:"category",gridline:{visible:false},isKeepFirstAndLastLabel:true},propertiesOverride:{gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},yAxis:{data:null,configure:{description:"Settings for the value axis of an XY chart",properties:{type:"value",gridline:{visible:true}},propertiesOverride:{gridline:{isExported:true},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:true},unitFormatType:{isExported:true},hideSubLevels:{isExported:false}},axisline:{isExported:true},scale:{fixedRange:{isExported:true},minValue:{isExported:true},maxValue:{isExported:true},isExported:true}}}},plot:{id:"sap.viz.modules.verticalbar",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}}}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},secondaryValues:null,regionColor:{max:1}},dependencies:{attributes:[{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main.plot.yAxis",source:"range"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"}]}};var p={viz:[h].concat(a.viz,l.viz,u.viz,d.viz),module:[].concat(a.module,l.module,u.module,d.module,i.module,r.module,s.module,o.module,n.module),feeds:[].concat(a.feeds,l.feeds,u.feeds,d.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds)};return p});define("sap/viz/manifests/MultiDualVerticalBarChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/VerticalBar","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/BaseMultipleXYChart","sap/viz/manifests/MultiVerticalBarChart"],function e(t,a,i,r,s,o,n,l,u,d){var h={id:"viz/multi_dual_column",name:"IDS_MULTIDUALVERTICALBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/multi_column",modules:{root:{modules:{main:{configure:{properties:{mergeDataRange:["primary","second"]}},modules:{plot:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the left or bottom side of an XY chart with two value axes"}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the right or top side of an XY chart with two value axes",propertyCategory:"yAxis2",properties:{title:{visible:false},gridline:{visible:false},type:"value",position:"right"},propertiesOverride:{title:{visible:{isExported:true}},label:{hideSubLevels:{isExported:false}},maxSizeRatio:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1},regionColor:{max:1}},dependencies:{attributes:[{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main.plot.yAxis",source:"range"},{targetModule:"root.main.plot.plot",target:"secondDataRange",sourceModule:"root.main.plot.yAxis2",source:"range"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main",target:"secondDataRange",sourceModule:"root.main.plot.plot",source:"secondDataRange"},{targetModule:"root.main.plot.plot",target:"secondDataRange",sourceModule:"root.main",source:"secondDataRange"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.yAxis2",target:"scale",sourceModule:"root.main.plot.plot",source:"secondScale"},{targetModule:"root.main.plot.yAxis2",target:"title",sourceModule:"root.main.plot.plot",source:"secondAxisTitle"},{targetModule:"root.main.plot.yAxis",target:"color",sourceModule:"root.main.plot.plot",source:"primaryAxisColor"},{targetModule:"root.main.plot.yAxis2",target:"color",sourceModule:"root.main.plot.plot",source:"secondAxisColor"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"}]}};var p={viz:[h].concat(a.viz,l.viz,u.viz,d.viz),module:[].concat(a.module,l.module,u.module,d.module,i.module,r.module,s.module,o.module,n.module),feeds:[].concat(a.feeds,l.feeds,u.feeds,d.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds)};return p});define("sap/viz/manifests/MultiDualStackedVerticalBarChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/StackedVerticalBar","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/BaseMultipleXYChart","sap/viz/manifests/MultiDualVerticalBarChart"],function e(t,a,i,r,s,o,n,l,u,d){var h={id:"viz/multi_dual_stacked_column",name:"IDS_MULTIDUALSTACKEDVERTICALBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/multi_dual_column",modules:{root:{modules:{main:{modules:{plot:{modules:{plot:{id:"sap.viz.modules.stackedverticalbar",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}}}};var p={viz:[h].concat(a.viz,l.viz,u.viz,d.viz),module:[].concat(a.module,l.module,u.module,d.module,i.module,r.module,s.module,o.module,n.module),feeds:[].concat(a.feeds,l.feeds,u.feeds,d.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds)};return p});define("sap/viz/manifests/MultiDualPercentageStackedVerticalBarChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/StackedVerticalBar","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/BaseMultipleXYChart","sap/viz/manifests/MultiDualStackedVerticalBarChart"],function e(t,a,i,r,s,o,n,l,u,d){var h={id:"viz/multi_100_dual_stacked_column",name:"IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/multi_dual_stacked_column",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousedown","mousemove","mouseover","mouseout","touchstart"],holdSelection:true,extensionPoints:{convertData:function(e,t){return e.getDataOfDataPoint(t)}}}}},main:{modules:{plot:{modules:{yAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},yAxis2:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},plot:{id:"sap.viz.modules.stackedverticalbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,type:"value",showZero:true}}}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{formatString:[["0.00%"],["0.00%"]]}}}}}}};var p={viz:[h].concat(a.viz,l.viz,u.viz,d.viz),module:[].concat(a.module,l.module,u.module,d.module,i.module,r.module,s.module,o.module,n.module),feeds:[].concat(a.feeds,l.feeds,u.feeds,d.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds)};return p});define("sap/viz/impls/MultiDualPercentageStackedVerticalBarChart",["sap/viz/manifests/MultiDualPercentageStackedVerticalBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/MultiDualStackedBarChart",["sap/viz/manifests/MultiDualStackedBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/MultiDualStackedVerticalBarChart",["sap/viz/manifests/MultiDualStackedVerticalBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/MultiDualVerticalBarChart",["sap/viz/manifests/MultiDualVerticalBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/MultiHorizontalAreaChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/Area","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/MultiAreaChart"],function e(t,a,i,r,s,o,n,l){var u={id:"viz/multi_horizontal_area",name:"IDS_MULTIHORIZONTALAREACHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/multi_area",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left"}}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{background:{configure:{properties:{direction:"horizontal"}}},xAxis:{id:"sap.viz.modules.axis",data:null,configure:{description:"Settings for the value axis of an XY chart",propertyCategory:"xAxis",properties:{gridline:{visible:true},type:"value",position:"bottom"},propertiesOverride:{title:{visible:{isExported:true}},gridline:{isExported:true},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:true},unitFormatType:{isExported:true},hideSubLevels:{isExported:false}},axisline:{isExported:true},scale:{fixedRange:{isExported:true},minValue:{isExported:true},maxValue:{isExported:true},isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the catetory axis of an XY chart",propertyCategory:"yAxis",properties:{gridline:{visible:false},type:"category",position:"left",isKeepFirstAndLastLabel:true},propertiesOverride:{title:{visible:{isExported:true}},gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",orientation:"horizontal",automaticInOutside:false,outsidePosition:"left"},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",properties:{orientation:"horizontal"}}}}}}}}}},dependencies:{attributes:[{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main.plot.xAxis",source:"range"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"getColorPalette"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapePalette"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main",type:"initialized.interaction"}]}};var d={viz:[u].concat(a.viz,n.viz,l.viz),module:[].concat(a.module,n.module,l.module,i.module,r.module,s.module,o.module),feeds:[].concat(a.feeds,n.feeds,l.feeds,i.feeds,r.feeds,s.feeds,o.feeds)};return d});define("sap/viz/impls/MultiHorizontalAreaChart",["sap/viz/manifests/MultiHorizontalAreaChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/MultiHorizontalLineChart",["sap/viz/manifests/MultiHorizontalLineChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/MultiLineChart",["sap/viz/manifests/MultiLineChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/MultiPercentageAreaChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/Area","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/BaseMultipleXYChart","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/manifests/MultiAreaChart"],function e(t,a,i,r,s,o,n,l,u,d,h){var p={id:"viz/multi_100_area",name:"IDS_MULTIPERCENTAGEAREACHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/multi_area",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousedown","mousemove","mouseover","mouseout","touchstart"],holdSelection:false,extensionPoints:{convertData:function(e,t){return e.getDataOfDataPoint(t)}}}}},tooltip:{configure:{properties:{chartType:"line",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{yAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}}}}}}}}}};var c={viz:[p].concat(a.viz,l.viz,u.viz,h.viz),module:[].concat(a.module,l.module,u.module,h.module,i.module,r.module,s.module,o.module,n.module,d.module),feeds:[].concat(a.feeds,l.feeds,u.feeds,h.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds,d.feeds)};return c});define("sap/viz/impls/MultiPercentageAreaChart",["sap/viz/manifests/MultiPercentageAreaChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/MultiPercentageHorizontalAreaChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/Area","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/MultiHorizontalAreaChart"],function e(t,a,i,r,s,o,n,l,u){var d={id:"viz/multi_100_horizontal_area",name:"IDS_MULTIPERCENTAGEHORIZONTALAREACHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/multi_horizontal_area",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousedown","mousemove","mouseover","mouseout","touchstart"],holdSelection:false,extensionPoints:{convertData:function(e,t){return e.getDataOfDataPoint(t)}}}}},tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",properties:{mode:"percentage"}}}}}}}}}}};var h={viz:[d].concat(a.viz,l.viz,u.viz),module:[].concat(a.module,l.module,u.module,i.module,r.module,s.module,o.module,n.module),feeds:[].concat(a.feeds,l.feeds,u.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds)};return h});define("sap/viz/impls/MultiPercentageHorizontalAreaChart",["sap/viz/manifests/MultiPercentageHorizontalAreaChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/MultiStackedBarChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/StackedBar","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/BaseMultipleXYChart","sap/viz/manifests/MultiBarChart"],function e(t,a,i,r,s,o,n,l,u,d){var h={id:"viz/multi_stacked_bar",name:"IDS_MULTISTACKEDBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/multi_bar",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.stackedbar",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},secondaryValues:null,regionColor:{max:1}},dependencies:{attributes:[{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main.plot.xAxis",source:"range"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"}]}};var p={viz:[h].concat(a.viz,l.viz,u.viz,d.viz),module:[].concat(a.module,l.module,u.module,d.module,i.module,r.module,s.module,o.module,n.module),feeds:[].concat(a.feeds,l.feeds,u.feeds,d.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds)};return p});define("sap/viz/manifests/MultiPercentageStackedBarChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/StackedBar","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/BaseMultipleXYChart","sap/viz/manifests/MultiStackedBarChart"],function e(t,a,i,r,s,o,n,l,u,d){var h={id:"viz/multi_100_stacked_bar",name:"IDS_MULTIPERCENTAGESTACKEDBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/multi_stacked_bar",feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousedown","mousemove","mouseover","mouseout","touchstart"],holdSelection:true,extensionPoints:{convertData:function(e,t){return e.getDataOfDataPoint(t)}}}}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},plot:{id:"sap.viz.modules.stackedbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,type:"value",showZero:true}}}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{formatString:[["0.00%"],["0.00%"]]}}}}}}};var p={viz:[h].concat(a.viz,l.viz,u.viz,d.viz),module:[].concat(a.module,l.module,u.module,d.module,i.module,r.module,s.module,o.module,n.module),feeds:[].concat(a.feeds,l.feeds,u.feeds,d.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds)};return p});define("sap/viz/impls/MultiPercentageStackedBarChart",["sap/viz/manifests/MultiPercentageStackedBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/MultiStackedVerticalBarChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/StackedVerticalBar","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/BaseMultipleXYChart","sap/viz/manifests/MultiVerticalBarChart"],function e(t,a,i,r,s,o,n,l,u,d){var h={id:"viz/multi_stacked_column",name:"IDS_MULTISTACKEDVERTICALBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/multi_column",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.stackedverticalbar",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},secondaryValues:null,regionColor:{max:1}},dependencies:{attributes:[{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main.plot.yAxis",source:"range"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"}]}};var p={viz:[h].concat(a.viz,l.viz,u.viz,d.viz),module:[].concat(a.module,l.module,u.module,d.module,i.module,r.module,s.module,o.module,n.module),feeds:[].concat(a.feeds,l.feeds,u.feeds,d.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds)};return p});define("sap/viz/manifests/MultiPercentageStackedVerticalBarChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/xy/StackedVerticalBar","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/BaseMultipleXYChart","sap/viz/manifests/MultiStackedVerticalBarChart"],function e(t,a,i,r,s,o,n,l,u,d){var h={id:"viz/multi_100_stacked_column",name:"IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/multi_stacked_column",feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousedown","mousemove","mouseover","mouseout","touchstart"],holdSelection:true,extensionPoints:{convertData:function(e,t){return e.getDataOfDataPoint(t)}}}}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{yAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},plot:{id:"sap.viz.modules.stackedverticalbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,showZero:true}}}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{formatString:[["0.00%"],["0.00%"]]}}}}}}};var p={viz:[h].concat(a.viz,l.viz,u.viz,d.viz),module:[].concat(a.module,l.module,u.module,d.module,i.module,r.module,s.module,o.module,n.module),feeds:[].concat(a.feeds,l.feeds,u.feeds,d.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds)};return p});define("sap/viz/impls/MultiPercentageStackedVerticalBarChart",["sap/viz/manifests/MultiPercentageStackedVerticalBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/MultiPieChart",["sap/viz/manifests/MultiPieChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/MultiPieWithDepthChart",["sap/viz/manifests/MultiPieWithDepthChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/modules/axis",["sap/viz/base/utils/oo","sap/viz/modules/Base","sap/viz/modules/dispatch","sap/viz/modules/axis/regularAxis"],function e(t,a,i,r){var s=function(e,t){s.superclass.constructor.apply(this,arguments);this._axis_regularAxisModule=r(e,t);s.prototype.initCustomFunList(s);s.prototype.initRegularAxis(this._axis_regularAxisModule,s)};s.prototype.initCustomFunList=function(){if(s.prototype._axis_customFunList){return}else{s.prototype._axis_customFunList=[];var e;for(e in this){if(this.hasOwnProperty(e)){if(typeof this[e]==="function"){s.prototype._axis_customFunList.push(e)}}}}};s.prototype.initRegularAxis=function(e,t){var a;for(a in e){if(e.hasOwnProperty(a)){if(typeof e[a]==="function"){if(s.prototype._axis_customFunList&&s.prototype._axis_customFunList.indexOf(a)<0){t.prototype[a]=e[a]}}}}};t.extend(s,a);s.prototype.render=function(e){return this._axis_regularAxisModule(e)};return s});define("sap/viz/modules/radar",["sap/viz/base/utils/oo","sap/viz/modules/Base","jquery","sap/viz/base/utils/TypeUtils","sap/viz/util/TextUtils","sap/viz/modules/dispatch","sap/viz/modules/axis","sap/viz/util/ColorSeriesGenerator","sap/viz/util/ShapeSeriesGenerator","sap/viz/util/Scaler","sap/viz/modules/manifests/Module","sap/viz/util/DrawUtil","sap/viz/lang/langManager","sap/viz/modules/util/tooltipDataHandler","sap/viz/base/utils/Objects","sap/viz/modules/util/BoundUtil","sap/viz/modules/util/defaultSelectionUtil","sap/viz/modules/Constants","sap/viz/modules/util/selectionUtil"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g,v,y){function b(e){e.attr("stroke",D.params.stroke.invisible);S(e,"straight")}function x(e){e.attr("stroke-width",this._rdr_properties.line.width);S(e,"straight")}function A(e){e.attr("stroke",D.params.stroke.heavy).attr("stroke-width",D.params.weight.hover).attr("opacity",D.params.opacity.natural);S(e,"highlight")}function M(e){e.attr("stroke-width",D.params.weight.hover).attr("opacity",D.params.opacity.natural);S(e,"highlight")}function S(e,t){var a=e.attr("class");var i=a.indexOf(C);if(i>=0){switch(t){case"hover":e.attr("class",a.substring(0,i)+k+" "+T);break;case"highlight":e.attr("class",a.substring(0,i)+k+" "+w);break;case"straight":e.attr("class",a.substring(0,i)+k);break}}}function z(e,t,a){if(t.length===a){D.highlight2.call(this,R.dot+e,true)}else{D.highlight.call(this,t)}}var D={};D.params={stroke:{invisible:"transparent",natural:"#ffffff",heavy:"#333333"},weight:{hover:"2px",selected:"1px",natural:"0px"},opacity:{natural:1,low:.4}};D.dim=function(){if(!arguments.length){this._rdr_radar.node.selectAll(R.dot+P.line.clazz).attr("opacity",D.params.opacity.low);this._rdr_radar.node.selectAll(R.dot+P.marker.clazz).attr("fill-opacity",D.params.opacity.low)}else if(arguments[0]instanceof Array){for(var e=0;e<arguments[0].length;e++){d3.select(arguments[0][e]).attr("opacity",D.params.opacity.low)}}else if(arguments[1]){this._rdr_radar.node.selectAll(arguments[0]).attr("opacity",D.params.opacity.low)}else{this._rdr_radar.node.select(arguments[0]).attr("opacity",D.params.opacity.low)}return D};D.bright=function(){if(!arguments.length){this._rdr_radar.node.selectAll(R.dot+P.line.clazz).attr("opacity",D.params.opacity.natural);this._rdr_radar.node.selectAll(R.dot+P.marker.clazz).attr("fill-opacity",D.params.opacity.natural)}else if(arguments[0]instanceof Array){for(var e=0;e<arguments[0].length;e++){d3.select(arguments[0][e]).attr("opacity",D.params.opacity.natural)}}else if(arguments[1]){this._rdr_radar.node.selectAll(arguments[0]).attr("opacity",D.params.opacity.natural)}else{this._rdr_radar.node.select(arguments[0]).attr("opacity",D.params.opacity.natural)}return D};D.straight=function(){var e=this;if(!arguments.length){this._rdr_radar.node.selectAll(R.dot+P.marker.clazz).each(function(){b.call(e,d3.select(this))})}else if(arguments[0]instanceof Array){for(var t=0;t<arguments[0].length;t++){b.call(this,d3.select(arguments[0][t]))}}else if(arguments[1]){this._rdr_radar.node.selectAll(arguments[0]).each(function(){b.call(e,d3.select(this))})}else{b.call(this,this._rdr_radar.node.select(arguments[0]))}return D};D.straight2=function(){var e=this;if(!arguments.length){this._rdr_radar.node.selectAll(R.dot+P.marker.clazz).each(function(){x.call(e,d3.select(this))})}else if(arguments[0]instanceof Array){for(var t=0;t<arguments[0].length;t++){x.call(this,d3.select(arguments[0][t]))}}else if(arguments[1]){this._rdr_radar.node.selectAll(arguments[0]).each(function(){x.call(e,d3.select(this))})}else{x.call(this,this._rdr_radar.node.select(arguments[0]))}return D};D.highlight=function(){if(!arguments.length){return}if(arguments[0]instanceof Array){for(var e=0;e<arguments[0].length;e++){A(d3.select(arguments[0][e]))}}else if(arguments[1]){this._rdr_radar.node.selectAll(arguments[0]).each(function(){A(d3.select(this))})}else{A(this._rdr_radar.node.select(arguments[0]))}return D};D.highlight2=function(){if(!arguments.length){return}if(arguments[0]instanceof Array){for(var e=0;e<arguments[0].length;e++){M(d3.select(arguments[0][e]))}}else if(arguments[1]){this._rdr_radar.node.selectAll(arguments[0]).each(function(){M(d3.select(this))})}else{M(this._rdr_radar.node.select(arguments[0]))}return D};var E=function(e,t){return s.fastMeasure(e,t["font-size"]||t.fontSize,t["font-weight"]||t.fontWeight,t["font-family"]||t.fontFamily)};var w="v-datapoint-selected",T="v-datapoint-hover",C="v-datapoint",L=v.CSS.CLASS.MORPHABLELINE,I=v.CSS.CLASS.MORPHABLEDATAPOINT;var k=C+" "+I;var O="#cccccc";var N="#808080";var P={spacing:{hgap:5,vgap:5},polaraxis:{clazz:"polar_axis",color:"#6c6c6c",weight:"1px",labels:{css:{key:"viz-polar-axis-label",def:null}},title:{css:{key:"viz-polar-axis-title",def:null}}},polargrid:{clazz:"polar_grid",color:"#d8d8d8",weight:"1px"},line:{clazz:"v-dataline",width:2},valueaxis:{clazz:"value_axis",title:{css:{key:"viz-axis-title",def:null}}},marker:{clazz:C,css:{key:"viz-radar-marker",def:null},stroke:"transparent"},labels:{color:"#333333",fontSize:"14px",fontWeight:"normal",fontFamily:"Arial"},tooltip:{radialOffset:1*10}};var R={dash:" - ",dot:".",slash:" / ",ellipsis:"...",series:"s",data:"d",measureIndex:" mi",and:" & "};var F={dataline:{weight:[1,7]},marker:{size:[4,32]}};var B=7;var V=function(e,t){V.superclass.constructor.apply(this,arguments);this._rdr_width=0;this._rdr_height=0;this._rdr_data={};this._rdr_properties=e.props(null);this._rdr_parent=undefined;this._rdr_radar={clazz:"v-spiderweb",node:null,color:l.sap32(),shape:u.sapShapes(),radiusLength:0,radians:[],series:[],categories:[],title:{node:null,name:"v-polar-axis-title",width:0,height:0,customization:false},labels:{},locked:false};this._rdr_valueaxis={clazz:"v-valueaxis",anchor:{x:0,y:0},ref:h.get("sap.viz.modules.axis").execute(t),node:null,width:0,height:0,customization:false,scale:{customization:false,minValue:undefined,maxValue:undefined}};this._rdr_yscale=undefined;this._rdr_colorPalette=[];this._rdr_shapePalette=[];this._rdr_container=null;this._rdr_selections={};this._rdr_effectManager=t.effectManager;this._rdr_styleManager=t.styleManager;this._rdr_hasDefaultSelection=false;this._rdr_eDispatch=o("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit")};t.extend(V,a);V.prototype.applyFormatConditions=function(e,t,a,i){var r=function(e,t){var a;for(a=0;a<e.length;a++){var r={drawingEffect:i._rdr_properties.drawingEffect,fillColor:t.color,direction:"vertical",graphType:d3.select(e[a]).data()[0].shape};var s=i._rdr_effectManager.register(r);e[a].setAttribute("fill",s)}};y.applyConditons(e,t,a,r)};V.prototype.render=function(e){_.drawBound(e,this._rdr_width,this._rdr_height,undefined,true);this._rdr_eDispatch.startToInit();var t=this;e.each(function(e){t._rdr_parent=d3.select(this);t._rdr_valueaxis.ref.drawable(true);t._rdr_valueaxis.node=null;t._rdr_radar.node=null;t._rdr_radar.radiusLength=0;t._rdr_container=t._rdr_parent;t._rdr_parent.select(R.dot.concat(t._rdr_valueaxis.clazz)).remove();t._rdr_parent.select(R.dot.concat(t._rdr_radar.clazz)).remove();t._rdr_parent.select(R.dot+t._rdr_radar.title.name).remove();t._rdr_valueaxis.node=t._rdr_parent.append("g").attr("class",t._rdr_valueaxis.clazz);t._rdr_radar.node=t._rdr_parent.append("g").attr("class",t._rdr_radar.clazz+" v-datashapesgroup");t._rdr_radar.title.node=t._rdr_parent.append("text").attr("class",t._rdr_radar.title.name);P.valueaxis.title.css.def=t._rdr_styleManager.query(P.valueaxis.title.css.key);P.polaraxis.labels.css.def=t._rdr_styleManager.query(P.polaraxis.labels.css.key);P.polaraxis.title.css.def=t._rdr_styleManager.query(P.polaraxis.title.css.key);var a,r,s,o,n,l,u={},h=t._rdr_radar.categories,c=t._rdr_radar.series,f=P.spacing.hgap,m=P.spacing.vgap,_=t._rdr_radar.radians=[];if(!t._rdr_radar.locked){t._rdrfn_rescale(t)}var g=[];for(n=0;n<h.length;n++){g.push(E(h[n].val,P.polaraxis.labels.css.def))}r=d3.max(g,function(e){return e.width});s=d3.max(g,function(e){return e.height});var v={label:{visible:true,formatString:t._rdr_properties.valueAxis.label.formatString},title:{visible:t._rdr_properties.valueAxis.title.visible,text:t._rdr_properties.valueAxis.title.text},scale:{fixedRange:t._rdr_properties.valueAxis.scale.fixedRange,minValue:t._rdr_properties.valueAxis.scale.minValue,maxValue:t._rdr_properties.valueAxis.scale.maxValue},type:"value",position:"left",gridline:{visible:true,showFirstLine:true,showLastLine:true,type:"dotted"}};t._rdr_yscale.domain([t._rdr_radar.min,t._rdr_radar.max]).range([200,0]);if(!t._rdr_radar.locked&&!t._rdr_radar.manualRange){d.perfect(t._rdr_yscale)}if(t._rdr_properties.valueAxis.gridline&&t._rdr_properties.valueAxis.gridline.color){v.gridline.color=t._rdr_properties.valueAxis.gridline.color}t._rdr_valueaxis.ref.scale(t._rdr_yscale).properties(v);var y=t._rdr_valueaxis.ref.getPreferredSize();t._rdr_valueaxis.width=t._rdr_properties.valueAxis.visible?y.width:0;t._rdr_valueaxis.height=t._rdr_properties.valueAxis.visible?y.height:0;if(t._rdr_valueaxis.width>.5*t._rdr_width){t._rdr_valueaxis.width=0}t._rdrfn_arrange({valueaxis:t._rdr_valueaxis.width,lblW:r,lblH:s,title:{width:E(t._rdr_properties.polarAxis.title.visible?t._rdr_properties.polarAxis.title.text:0,P.polaraxis.title.css.def).width,height:E(t._rdr_properties.polarAxis.title.visible?t._rdr_properties.polarAxis.title.text:0,P.polaraxis.title.css.def).height}});if(t._rdr_properties.polarAxis.title.visible&&t._rdr_radar.title.width&&t._rdr_radar.title.height){t._rdr_radar.title.node.text(t._rdr_properties.polarAxis.title.text).attr("text-anchor","middle").attr("alignment-baseline","middle");t._rdr_styleManager.queryDefault(t._rdr_radar.title.name).toAttrs(t._rdr_radar.title.node)}t._rdr_yscale.range([t._rdr_radar.radiusLength,0]);if(!v.scale.fixedRange){d.perfect(t._rdr_yscale)}t._rdr_valueaxis.ref.scale(t._rdr_yscale);if(t._rdr_properties.valueAxis.visible&&t._rdr_valueaxis.width){y=t._rdr_valueaxis.ref.getPreferredSize();t._rdr_valueaxis.width=y.width;t._rdrfn_arrange({valueaxis:t._rdr_valueaxis.width,lblW:r,lblH:s,title:{width:E(t._rdr_properties.polarAxis.title.visible?t._rdr_properties.polarAxis.title.text:0,P.polaraxis.title.css.def).width,height:E(t._rdr_properties.polarAxis.title.visible?t._rdr_properties.polarAxis.title.text:0,P.polaraxis.title.css.def).height}});if(t._rdr_valueaxis.width===0){t._rdr_valueaxis.ref.drawable(false)}t._rdr_yscale.range([t._rdr_radar.radiusLength,0]);if(!v.scale.fixedRange){d.perfect(t._rdr_yscale);var b=t._rdr_yscale.domain();t._rdr_radar.max=b[1]>=b[0]?b[1]:b[0];t._rdr_radar.min=b[1]>=b[0]?b[0]:b[1]}t._rdr_valueaxis.ref.scale(t._rdr_yscale);y=t._rdr_valueaxis.ref.getPreferredSize();t._rdr_valueaxis.ref.width(y.width);t._rdr_valueaxis.ref.height(y.height);t._rdr_valueaxis.node.call(t._rdr_valueaxis.ref)}var x=t._rdr_radar.node.append("g").attr("class","v-polaraxes-group").selectAll(P.polaraxis.clazz).data(h);x.enter().append("g").attr("transform",function(e,a){var i=a/h.length*360-90;if(i>-180&&i<180){_.push({axisIdx:a,radian:-1*i*Math.PI/180})}else{_.push({axisIdx:a,radian:(360-i)*Math.PI/180})}return"rotate("+i+") translate("+t._rdr_radar.radiusLength+")"});x.append("svg:line").attr("x2",-1*t._rdr_radar.radiusLength).attr("stroke",t._rdr_effectManager.register({drawingEffect:"normal",fillColor:P.polaraxis.color})).attr("stroke-width",P.polaraxis.weight).attr("fill","transparent");_.sort(function(e,t){return e.radian-t.radian});var A;if(t._rdr_radar.labels.width&&t._rdr_radar.labels.height){x.append("rect").attr("class","v-labelarea v-axis-item v-radar-axis-item").attr("width",function(e){return E(e.val,P.polaraxis.labels.css.def).width}).attr("height",function(e){return E(e.val,P.polaraxis.labels.css.def).height}).attr("x",function(e){return-E(e.val,P.polaraxis.labels.css.def).width/2}).attr("y",function(e){var t=E(e.val,P.polaraxis.labels.css.def);return t.y+(t.height+t.y)/2}).attr("transform",function(e,t){A=t/h.length*360-90;if(A%90===0){if(A===-90||A===270){return"rotate(90) translate(0,"+-1*(E(e.val,P.polaraxis.labels.css.def).height/2+m)+")"}else if(A===0){return"translate("+(E(e.val,P.polaraxis.labels.css.def).width/2+f)+")"}else if(A===180){return"rotate(180) translate("+-1*(E(e.val,P.polaraxis.labels.css.def).width/2+f)+")"}else{return"rotate(-90) translate(0,"+(E(e.val,P.polaraxis.labels.css.def).height/2+m)+")"}}if(A>-90&&A<0||A>0&&A<90){return"rotate("+-1*A+") translate("+(E(e.val,P.polaraxis.labels.css.def).width/2+f)+",0)"}return"rotate("+-1*A+") translate("+-1*(E(e.val,P.polaraxis.labels.css.def).width/2+f)+",0)"}).attr("opacity",function(e,t){return 0});x.selectAll("rect").each(function(e){if(e.ctx instanceof Array){this.labelContexts=e.ctx}else{this.labelContexts=[e.ctx]}});x.append("text").attr("class","v-polar-axis-label").text(function(e,t){return e.val}).attr("pointer-events","none").attr("text-anchor","middle").attr("alignment-baseline","middle").attr("transform",function(e,t){A=t/h.length*360-90;if(A%90===0){if(A===-90||A===270){return"rotate(90) translate(0,"+-1*(E(e.val,P.polaraxis.labels.css.def).height/2+m)+")"}else if(A===0){return"translate("+(E(e.val,P.polaraxis.labels.css.def).width/2+f)+")"}else if(A===180){return"rotate(180) translate("+-1*(E(e.val,P.polaraxis.labels.css.def).width/2+f)+")"}else{return"rotate(-90) translate(0,"+(E(e.val,P.polaraxis.labels.css.def).height/2+m)+")"}}if(A>-90&&A<0||A>0&&A<90){return"rotate("+-1*A+") translate("+(E(e.val,P.polaraxis.labels.css.def).width/2+f)+",0)"}return"rotate("+-1*A+") translate("+-1*(E(e.val,P.polaraxis.labels.css.def).width/2+f)+",0)"}).attr("font-family",t._rdr_styleManager.queryDefault("v-polar-axis-label")["font-family"]).attr("font-size",t._rdr_styleManager.queryDefault("v-polar-axis-label")["font-size"]).attr("fill",t._rdr_effectManager.register({drawingEffect:"normal",fillColor:t._rdr_styleManager.queryDefault("v-polar-axis-label").fill}))}var M;if(t._rdr_radar.min===0&&t._rdr_radar.max===0){M=t._rdr_radar.node.append("g").attr("class","v-phantom-marker-group").selectAll(".v-phantom-marker-series").data(t.vacants).enter().append("g");M.attr("class","v-phantom-marker-series").each(function(e,t){d3.select(this).selectAll(".v-phantom-marker").data(e).enter().append("path").attr("class",function(e,a){return R.series+t+" "+R.data+e.order+" "+R.measureIndex+e.ctx.path.mi}).attr("fill","none")});t._rdr_eDispatch.initialized();return}if(!t._rdr_radar.min&&!t._rdr_radar.max){t._rdr_eDispatch.initialized();return}t._rdr_yscale.domain([t._rdr_radar.max,t._rdr_radar.min]);if(!v.scale.fixedRange){d.perfect(t._rdr_yscale)}else{if(!t._rdr_yscale.tickNum){t._rdr_yscale.tickNum=B}}a=t._rdr_radar.categories.length;A=t._rdrfn_angles([],a,a);var S=d3.svg.line.radial().interpolate("linear").radius(t._rdr_yscale).angle(function(e,t){return A(t)});var z=t._rdr_yscale.ticks(t._rdr_yscale.tickNum),D=[],w=[];if(v.scale.fixedRange){if(z[z.length-1]!==t._rdr_radar.max){z.push(t._rdr_radar.max)}if(z[0]!==t._rdr_radar.min){z.unshift(t._rdr_radar.min)}}for(n=0;n<z.length;n++){w=[];for(l=0;l<h.length;l++){w.push(z[n])}D.push(w)}if(t._rdr_properties.polarGrid.visible){t._rdr_radar.node.append("g").attr("class","v-polargrid-group").selectAll("."+P.polargrid.clazz).data(D).enter().append("path").attr("class",P.polargrid.childClazz).attr("d",function(e){return S(e)+"Z"}).attr("fill","none").attr("stroke",t._rdr_effectManager.register({drawingEffect:"normal",fillColor:P.polargrid.color})).attr("stroke-width",P.polargrid.weight)}t._rdr_radar.node.append("g").attr("class","v-dataline-group").selectAll("."+P.line.clazz).data(c).enter().append("path").attr("class",function(e,t){return R.series.concat(t+" ").concat(P.line.clazz+" "+L)}).attr("d",function(e,i){if(!e.length){return}var r=[];A=t._rdrfn_angles([],a,a);for(var s=0;s<e.length;s++){if(e[s].val>t._rdr_radar.max){r.push(t._rdr_radar.max)}else if(e[s].val<t._rdr_radar.min){r.push(t._rdr_radar.min)}else{r.push(e[s].val)}}if(r.length!==t._rdr_radar.categories.length){A=t._rdrfn_angles(t.vacants[i],r.length,a)}return S(r)+"Z"}).attr("fill",function(e,a){if(!e.length){return}if(t._rdr_properties.surface.fill.visible){return t._rdr_effectManager.register({drawingEffect:"normal",fillColor:e[0].color})}}).attr("fill-opacity",function(e,a){if(t._rdr_properties.surface.fill.visible){return t._rdr_properties.surface.fill.transparency}return 0}).attr("stroke",function(e,a){if(!e.length){return}return t._rdr_effectManager.register({drawingEffect:"normal",fillColor:e[0].color})}).attr("stroke-width",t._rdr_properties.line.width>F.dataline.weight[1]||t._rdr_properties.line.width<F.dataline.weight[0]?P.line.width:t._rdr_properties.line.width);var T=t._rdr_radar.node.append("g").attr("class","v-marker-container").selectAll("."+P.marker.clazz).data(c).enter().append("g");T.attr("class","v-marker-group").each(function(e,r){var s=t.vacants[r],o=[];i.each(t._rdr_radar.categories,function(e,t){o.push(e/a*2*Math.PI-.5*Math.PI)});for(var n=s.length-1;n>=0;n--){o.splice(s[n].order,1)}d3.select(this).append("g").attr("class","v-marker-series").selectAll("."+P.marker.clazz).data(e).enter().append("g").attr("class","v-datashape").attr("transform",function(e,a){var i,r;if(e.val>t._rdr_radar.max){i=t._rdr_yscale(t._rdr_radar.max)*Math.cos(o[a]),r=t._rdr_yscale(t._rdr_radar.max)*Math.sin(o[a])}else if(e.val<t._rdr_radar.min){i=t._rdr_yscale(t._rdr_radar.min)*Math.cos(o[a]),r=t._rdr_yscale(t._rdr_radar.min)*Math.sin(o[a])}else{i=t._rdr_yscale(e.val)*Math.cos(o[a]),r=t._rdr_yscale(e.val)*Math.sin(o[a])}return"translate("+i+", "+r+") rotate(0)"}).append("path").attr("class",function(e,t){return R.series+r+" "+R.data+e.order+" "+R.measureIndex+e.ctx.path.mi+" "+P.marker.clazz+" "+I}).attr("d",function(e,t){return p.createMarkerData({type:e.shape,rx:P.marker.size/2,ry:P.marker.size/2,borderWidth:2})}).attr("fill",function(e){var a={drawingEffect:t._rdr_properties.drawingEffect,graphType:e.shape,fillColor:e.color,direction:"vertical"};return t._rdr_effectManager.register(a)})});M=t._rdr_radar.node.append("g").attr("class","v-phantom-marker-group").selectAll(".v-phantom-marker-series").data(t.vacants).enter().append("g");M.attr("class","v-phantom-marker-series").each(function(e,t){d3.select(this).selectAll(".v-phantom-marker").data(e).enter().append("path").attr("class",function(e,a){return R.series+t+" "+R.data+e.order+" "+R.measureIndex+e.ctx.path.mi}).attr("fill","none")});var C=t._fullData;if(!C){C=t._rdr_data}t.applyFormatConditions(t._rdr_properties.formatRules,T,C,t);t._rdr_eDispatch.initialized()})};V.prototype.mouseover=function(e){if(this._rdrfn_isLabelArea(e)){e.setAttribute("opacity",1);e.setAttribute("class","v-labelarea v-axis-item v-radar-axis-item v-hovershadow");e.setAttribute("fill",O)}};V.prototype.mousedown=function(e){if(this._rdrfn_isLabelArea(e)){e.setAttribute("opacity",1);e.setAttribute("class","v-labelarea v-axis-item v-radar-axis-item v-hovershadow-mousedown");e.setAttribute("fill",N)}};V.prototype.cleanLabelAreas=function(){if(this._rdr_parent){this._rdr_parent.selectAll(".v-labelarea").attr("class","v-labelarea v-axis-item v-radar-axis-item").attr("opacity",0)}};V.prototype.dataLabel=function(e){};V.prototype.data=function(e){if(!arguments.length){return this._rdr_data}this._rdr_data=e,this._rdr_radar.series=[],this._rdr_radar.categories=[],this._rdr_shapePalette=[],this._rdr_colorPalette=[],this.vacants=[];if(!this.caliberated){return this}var t=this._rdr_data.getAnalysisAxisDataByIdx(0).values,a=this._rdr_data.getMeasureValuesGroupDataByIdx(0).values,r=this._rdr_data.getAnalysisAxisDataByIdx(1),s=this._rdr_data.getAnalysisAxisDataByIdx(2),o=[],n,l,u,d=[],h={aa2:{fed:r!==null&&r.values.length?true:false,axesFed:false,hasMND:false},aa3:{fed:s!==null&&s.values.length?true:false,axesFed:false,hasMND:false}},p,f,m;this._rdr_radar.mndized=t[0].type&&t[0].type.toLowerCase()==="mnd"?true:false;if(a[0]&&a[0].rows&&a[0].rows[0]&&a[0].rows[0][0]&&a[0].rows[0][0].info&&a[0].rows[0][0].info.defaultSelection){this._rdr_hasDefaultSelection=true}else{this._rdr_hasDefaultSelection=false}for(p=0;p<t.length;p++){u=[];for(f=0;f<t[p].rows.length;f++){u.push(t[p].rows[f])}d.push(u)}n=d.length,l=d[0].length;if(n===1){for(p=0;p<l;p++){this._rdr_radar.categories.push(d[0][p].val===""||d[0][p].val===null?{val:c.get("IDS_ISNOVALUE"),ctx:[]}:{val:d[0][p].val,ctx:d[0][p].ctx})}}else{var _=[],g=[];for(p=0;p<l;p++){for(f=0;f<n;f++){_.push(d[f][p].val);g.push(d[f][p].ctx)}this._rdr_radar.categories.push({val:_.join(R.slash),ctx:g});_=[];g=[]}}l=a[0].rows[0].length;if(this._rdr_radar.mndized){if(!h.aa2.fed&&!h.aa3.fed){this._rdr_colorPalette.push(this._rdr_radar.color(0));this._rdr_shapePalette.push(this._rdr_radar.shape(0))}if(h.aa2.fed){for(p=0;p<r.values[0].rows.length;p++){this._rdr_colorPalette.push(this._rdr_radar.color(p))}if(!h.aa3.fed){this._rdr_shapePalette.push(this._rdr_radar.shape(0))}}if(h.aa3.fed){for(p=0;p<s.values[0].rows.length;p++){this._rdr_shapePalette.push(this._rdr_radar.shape(p))}if(!h.aa2.fed){this._rdr_colorPalette.push(this._rdr_radar.color(0))}}for(p=0;p<a.length;p++){for(f=0;f<a[p].rows.length;f++){for(m=0;m<l;m++){a[p].rows[f][m].color=this._rdr_colorPalette[m]||this._rdr_radar.color(0);if(h.aa2.fed){a[p].rows[f][m].shape=this._rdr_shapePalette[f]||this._rdr_radar.shape(0)}else{a[p].rows[f][m].shape=this._rdr_shapePalette[m]||this._rdr_radar.shape(0)}}}}var v,y=[],b=[],x=[];for(p=0;p<a[0].rows.length;p++){v=[];for(f=0;f<a.length;f++){v.push(a[f].rows[p])}y.push(v)}for(p=0;p<y.length;p++){for(m=0;m<l;m++){for(f=0;f<y[p].length;f++,x=[]){b.push(y[p][f][m])}o.push(b);b=[]}}var A=this;i.each(o,function(e,t){var a=t,i=[];for(var r=0;r<a.length;r++){a[r].order=r;if(a[r].val===null){i.push(a[r])}}for(r=a.length-1;r>=0;r--){if(a[r].val===null){a.splice(r,1)}}A.vacants.push(i)});if(!this._rdr_radar.title.customization){this._rdr_properties.polarAxis.title.text=c.get("IDS_DEFAULTMND")}}else{if(h.aa2.fed){for(p=0;p<r.values.length;p++){if(r.values[p].type&&r.values[p].type.toLowerCase()==="mnd"){h.aa2.hasMND=true}}if(h.aa2.hasMND){if(r.values.length>=2){h.aa2.axesFed=true}else{h.aa2.axesFed=false}}else{h.aa2.axesFed=true}}if(h.aa3.fed){for(p=0;p<s.values.length;p++){if(s.values[p].type&&s.values[p].type.toLowerCase()==="mnd"){h.aa3.hasMND=true}}if(h.aa3.hasMND){if(s.values.length>=2){h.aa3.axesFed=true}else{h.aa3.axesFed=false}}else{h.aa3.axesFed=true}}var M=0,S=0,z=h.aa2.hasMND&&!h.aa2.axesFed,D=h.aa3.hasMND&&!h.aa3.axesFed;var E=[];for(p=0;p<a.length;p++){if(z){this._rdr_colorPalette.push(this._rdr_radar.color(p))}if(D){this._rdr_shapePalette.push(this._rdr_radar.shape(p))}for(f=0;f<a[p].rows.length;f++,E=[]){for(m=0;m<a[p].rows[f].length;m++){if(a[p].rows[f][m].val===null){E.push(a[p].rows[f][m])}a[p].rows[f][m].order=m}o.push(a[p].rows[f].slice());this.vacants.push(E);if(h.aa2.fed){if(z){for(m=0;m<a[p].rows[f].length;m++){a[p].rows[f][m].color=this._rdr_radar.color(p)}}else if(h.aa2.hasMND&&h.aa2.axesFed){M++;this._rdr_colorPalette.push(this._rdr_radar.color(M));for(m=0;m<a[p].rows[f].length;m++){a[p].rows[f][m].color=this._rdr_radar.color(M)}}else{this._rdr_colorPalette.push(this._rdr_radar.color(f));for(m=0;m<a[p].rows[f].length;m++){a[p].rows[f][m].color=this._rdr_radar.color(f)}}}else{this._rdr_colorPalette.push(this._rdr_radar.color(0));for(m=0;m<a[p].rows[f].length;m++){a[p].rows[f][m].color=this._rdr_radar.color(0)}}if(h.aa3.fed){if(D){for(m=0;m<a[p].rows[f].length;m++){a[p].rows[f][m].shape=this._rdr_radar.shape(p)}}else if(h.aa3.hasMND&&h.aa3.axesFed){S++;this._rdr_shapePalette.push(this._rdr_radar.shape(S));for(m=0;m<a[p].rows[f].length;m++){a[p].rows[f][m].shape=this._rdr_radar.shape(S)}}else{if(h.aa2.fed){if(h.aa2.hasMND){this._rdr_shapePalette.push(this._rdr_radar.shape(f));for(m=0;m<a[p].rows[f].length;m++){a[p].rows[f][m].shape=this._rdr_radar.shape(f)}}else{for(m=0;m<a[p].rows[f].length;m++){this._rdr_shapePalette.push(this._rdr_radar.shape(m));a[p].rows[f][m].shape=this._rdr_radar.shape(m)}}}}}else{this._rdr_shapePalette.push(this._rdr_radar.shape(0));for(m=0;m<a[p].rows[f].length;m++){a[p].rows[f][m].shape=this._rdr_radar.shape(0)}}}}for(p=0;p<o.length;p++){for(f=o[p].length-1;f>=0;f--){for(var w=0;w<this.vacants[p].length;w++){if(this.vacants[p][w].order===f){o[p].splice(f,1)}}}}if(!this._rdr_radar.title.customization){this._rdr_properties.polarAxis.title.text=this._rdrfn_combine_dimension_titles(t)}}if(!this._rdr_valueaxis.customization){var T=[];for(p=0;p<a.length;p++){T.push(a[p].col===""||a[p].col===null?c.get("IDS_ISNOVALUE"):a[p].col)}this._rdr_properties.valueAxis.title.text=T.join(R.and)}this._rdr_radar.series=o;this._rdr_radar.feedings=h;return this};V.prototype.primaryDataRange=function(e){if(!arguments.length){this._rdrfn_rescale(this);return{min:this._rdr_radar.min,max:this._rdr_radar.max}}this._rdr_radar.min=e.min;this._rdr_radar.max=e.max;this._rdr_radar.locked=true;return this};V.prototype.colorPalette=function(e){if(!arguments.length){return this._rdr_colorPalette}this._rdr_colorPalette=e;return this};V.prototype.shapes=function(e){if(!arguments.length){return this._rdr_shapePalette}this._rdr_shapePalette=e;return this};V.prototype.dispatch=function(e){if(!arguments.length){return this._rdr_eDispatch}this._rdr_eDispatch=e;return this};V.prototype.properties=function(e){if(!arguments.length){return this._rdr_properties}var t=false,a=false;if(e.valueAxis&&e.valueAxis.scale&&e.valueAxis.scale.fixedRange){t=isNaN(Number(e.valueAxis.scale.minValue));a=isNaN(Number(e.valueAxis.scale.maxValue))}this._rdr_properties.polarAxis.title.text="Categories";this._rdr_properties.valueAxis.title.text="Value";m.extend(true,this._rdr_properties,e);if(t){this._rdr_properties.valueAxis.scale.minValue=NaN}if(a){this._rdr_properties.valueAxis.scale.maxValue=NaN}this._rdr_yscale=d3.scale.linear();if(this._rdr_properties.polarAxis.title.text!=="Categories"){this._rdr_radar.title.customization=true}else{this._rdr_radar.title.customization=false}if(this._rdr_properties.valueAxis.title.text!=="Value"){this._rdr_valueaxis.customization=true}else{this._rdr_valueaxis.customization=false}if(this._rdr_properties.colorPalette.length){this._rdr_radar.color.range(this._rdr_properties.colorPalette)}if(this._rdr_properties.shapePalette.length){this._rdr_radar.shape.range(this._rdr_properties.shapePalette)}P.marker.size=this._rdr_properties.marker.size;if(P.marker.size>F.marker.size[1]||P.marker.size<F.marker.size[0]){P.marker.size=6}P.polargrid.color=this._rdr_properties.polarGrid.color;this.caliberated=true;if(r.isExist(this._rdr_properties.valueAxis)&&r.isExist(this._rdr_properties.valueAxis.label)&&r.isExist(this._rdr_properties.valueAxis.label.formatString)&&r.isArray(this._rdr_properties.valueAxis.label.formatString)){var i=this._rdr_data.getMeasureValuesGroupDataByIdx(0);if(i.values&&r.isArray(i.values)&&r.isArray(i.values[0].rows)){var s=this._rdr_properties.valueAxis.label.formatString[i.values[0].rows[0][0].ctx.path.mg];var o=i.values[0].rows[0][0].ctx.path.mi>=s.length?s.length-1:i.values[0].rows[0][0].ctx.path.mi;this._rdr_properties.valueAxis.label.formatString=s[o]}}this.data(this._rdr_data);return this};V.prototype.afterUIComponentAppear=function(){this._rdr_eDispatch.initialized()};V.prototype.width=function(e){if(!arguments.length){return this._rdr_width}this._rdr_width=e;return this};V.prototype.height=function(e){if(!arguments.length){return this._rdr_height}this._rdr_height=e;return this};V.prototype.size=function(e){if(!arguments.length){return{width:this._rdr_width,height:this._rdr_height}}this._rdr_width=e.width;this._rdr_height=e.height;return this};V.prototype.parent=function(e){if(!arguments.length){return this._rdr_container}this._rdr_container=e;return this};V.prototype.clear=function(){if(!arguments[0]){D.straight.call(this).bright.call(this);this._rdr_selections={};if(this._rdr_hasDefaultSelection){var e=[];e.push(this._rdr_radar.node.selectAll(R.dot+P.line.clazz));e.push(this._rdr_radar.node.selectAll(R.dot+P.marker.clazz));g.clearSelectionInfo(this._rdr_container,false,e)}}else{D.dim.call(this)}};V.prototype.highlight=function(e,t){if(!this._rdr_radar.min&&!this._rdr_radar.max){return}var a=/[sS][0-9]+/,i;if(!r.isArray(e)){e=[e]}if(!t){for(var s=0,o=false;s<e.length;s++,o=false){i=e[s].className.baseVal.match(a)[0];if(this._rdr_selections[i]){for(var n=0;n<this._rdr_selections[i].length;n++){if(this._rdr_selections[i][n]===e[s]){o=true}}if(!o){this._rdr_selections[i].push(e[s])}}else{this._rdr_selections[i]=[];this._rdr_selections[i].push(e[s])}}var l,u;for(var d in this._rdr_selections){if(this._rdr_selections.hasOwnProperty(d)){u=d.substr(1);l=this._rdr_radar.series[u].length;z.call(this,d,this._rdr_selections[d],l)}}}else{S(d3.selectAll(e),"hover")}p.nodesHighlight(e,{factor:.7,constant:0},this._rdr_effectManager,t);if(this._rdr_hasDefaultSelection){g.clearSelectionInfo(this._rdr_container,true,e)}};V.prototype.unhighlight=function(e,t,a){if(!r.isArray(e)){e=[e]}var s=this;i.each(e,function(i,r){var o=r.className.baseVal.match(/[sS][0-9]+/)[0];if(!t&&!a){for(var n in s._rdr_selections){if(s._rdr_selections.hasOwnProperty(n)){for(var l=0;l<s._rdr_selections[n].length;l++){for(var u=0;u<e.length;u++){if(s._rdr_selections[n][l]===e[u]){s._rdr_selections[n].splice(l,1);break}}}}}D.straight2.call(s,R.dot+o).dim.call(s,R.dot+o)}else{if(!t){S(d3.select(this),"straight")}}p.nodesUnhighlight(e,t,a)});if(this._rdr_hasDefaultSelection){g.clearSelectionInfo(this._rdr_container,false,e)}};V.prototype.destroy=function(){this._rdr_data=null;if(this._rdr_parent){this._rdr_parent.selectAll("."+C).remove();this._rdr_parent=null}if(this._rdr_yscale){this._rdr_yscale.domain([0,1]).range([0,1])}this._rdr_yscale=undefined;this._rdr_container=null;this._rdr_selections={};if(this._rdr_effectManager){this._rdr_effectManager.destroy()}if(this._rdr_styleManager){this._rdr_styleManager.destroy()}};V.prototype._rdrfn_rescale=function(e){var t=e._rdr_radar.series;var a,i,s;var o=d3.merge(t);if(o&&o.length&&r.isArray(o[0])){o=d3.merge(o)}var n=d3.max(o,function(e){return e.val}),l=d3.min(o,function(e){return e.val}),u=d3.scale.linear();u.domain([l,n]).range([200,0]);d.perfect(u);a=u.domain();n=a[1]>=a[0]?a[1]:a[0];l=a[1]>=a[0]?a[0]:a[1];if(e._rdr_properties.valueAxis.scale.fixedRange===true){i=Number(e._rdr_properties.valueAxis.scale.maxValue);s=Number(e._rdr_properties.valueAxis.scale.minValue);if(isNaN(i)){i=n}if(isNaN(s)){s=l}if(i<=s){i=n;s=l}e._rdr_radar.manualRange=true}else{e._rdr_radar.manualRange=false;i=n;s=l}e._rdr_radar.max=i;e._rdr_radar.min=s;if(e._rdr_radar.min!==undefined&&e._rdr_radar.max!==undefined&&e._rdr_radar.min===e._rdr_radar.max){if(e._rdr_radar.min===0){e._rdr_radar.max=1}if(e._rdr_radar.min<0){e._rdr_radar.max=0}if(e._rdr_radar.min>0){e._rdr_radar.min=0}}if(!e._rdr_radar.min||e._rdr_radar.min==="NaN"){e._rdr_radar.min=0}if(!e._rdr_radar.max||e._rdr_radar.max==="NaN"){e._rdr_radar.max=1}};V.prototype._rdrfn_arrange=function(){var e=arguments[0],t=e.valueaxis,a=e.lblW,i=e.lblH,r=e.title,s={},o,n,l,u,d=P.spacing.hgap,h=P.spacing.vgap,p=-1,c=[];var f=this;(function e(){p++;if(i-1/3*f._rdr_height>0){i=0}if(r.height-1/3*this._rdr_height>0){r.height=0}if(r.width-2/3*this._rdr_width>0){r.width=0}if(f._rdr_width-f._rdr_height>=0){n=(f._rdr_height-2*(i+2*h)-(r.height!==0?r.height+2*h:0))/2;o=2*n+2*(a+2*d)+t;if(o>f._rdr_width){l=o-f._rdr_width;n=(f._rdr_height-l-2*(i+2*h)-(r.height!==0?r.height+2*h:0))/2}}else{n=(f._rdr_width-2*(a+2*d)-t)/2}c[p]=n;if(typeof c[p-2]!=="undefined"&&c[p-2]<=0){return 0}if(a>n||n<=0){a=0,i=0;r.width=0,r.height=0;n=e();if(t>n){t=0;n=e();if(f._rdr_width>=f._rdr_height){if(n<f._rdr_height/2){n=f._rdr_height/2,h=0}}else{if(n<f._rdr_width/2){n=f._rdr_width/2,d=0}}}}return n})();u={width:t+2*n+4*d+2*a,height:2*(i+n)+4*h+(r.height!==0?r.height+2*h:0)};this._rdr_radar.radiusLength=n;this._rdr_valueaxis.width=t;this._rdr_valueaxis.anchor.x=0;this._rdr_valueaxis.anchor.y=i+2*h;this._rdr_radar.title.width=r.width;this._rdr_radar.title.height=r.height;s.x=t+a+n+d*2;s.y=i+n+h*2;r.x=s.x;r.y=s.y+n+i+2*h+r.height/2;var m=0,_=0;if(t){this._rdr_valueaxis.ref.gridlineLength(s.x-t);if(this._rdr_width>this._rdr_height){m=this._rdr_width/2-u.width/2;this._rdr_valueaxis.anchor.x+=m;s.x+=m;r.x+=m}}else{if(this._rdr_width>this._rdr_height){m=this._rdr_width/2-s.x;s.x+=m;r.x+=m}}this._rdr_radar.title.node.attr("x",r.x);this._rdr_radar.title.node.attr("y",r.y);this._rdr_valueaxis.node.attr("transform","translate("+this._rdr_valueaxis.anchor.x+","+this._rdr_valueaxis.anchor.y+")");this._rdr_radar.node.attr("transform","translate("+s.x+","+s.y+")");this._rdr_radar.pole=s;this._rdr_radar.labels.width=a;this._rdr_radar.labels.height=i};V.prototype._rdrfn_angles=function(e,t,a){var i=[],r=[],s;if(!e.length){return d3.scale.linear().domain([0,a]).range([0,2*Math.PI])}for(s=0;s<a;s++){i.push(s);r.push(s/a*2*Math.PI)}for(s=e.length-1;s>=0;s--){r.splice(e[s].order,1)}return d3.scale.ordinal().domain(i).range(r)};V.prototype._rdrfn_combine_dimension_titles=function(e){var t="";for(var a=0;a<e.length;a++){t=t.concat(e[a].col.val===null?c.get("IDS_ISNOVALUE"):e[a].col.val+R.slash)}return t.lastIndexOf(R.slash)>0?t.substr(0,t.lastIndexOf(R.slash)):t};V.prototype._rdrfn_isLabelArea=function(e){var t=e.getAttribute("class"),a=false;if(t&&t.indexOf("v-labelarea")>=0){a=true}return a};return V});define("sap/viz/feeds/Radar",["sap/viz/feeds/Manifest","sap/viz/data/feed/Constants"],function e(t,a){var i={id:"regionColor",name:"IDS_REGIONCOLOR",type:a.Type.Dimension,min:0,max:2,aaIndex:2,acceptMND:2},r={id:"regionShape",name:"IDS_REGIONSHAPE",type:a.Type.Dimension,min:0,max:2,aaIndex:3,acceptMND:0},s={id:"radarAxes",name:"IDS_RADARAXES",type:a.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:1},o={id:"radarAxesValues",name:"IDS_RADARAXESVALUE",type:a.Type.Measure,min:1,max:a.Constraints.INF,mgIndex:1};var n={id:"radar",feeds:[i,r,s,o]};var l={viz:[],module:[],feeds:[n]};return l});define("sap/viz/modules/manifests/Radar",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/radar","sap/viz/feeds/Radar"],function e(t,a,i,r){var s={id:"sap.viz.modules.radar",type:a.Type.Chart,name:"radar",description:"Radar module properties",properties:{drawingEffect:{name:"drawingEffect",supportedValueType:"String",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set the drawing effect of the radar chart.",isExported:true},polarGrid:{name:"polarGrid",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set the visibility of the polar gridlines."},color:{name:"color",supportedValueType:"String",defaultValue:"#d8d8d8",description:"Set the color of the polar gridlines."}},description:"Settings for the polar gridlines."},valueAxis:{name:"valueAxis",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set the visibility of the value axis lines."},title:{name:"title",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set the visibility of the value axis title."},text:{name:"text",supportedValueType:"String",defaultValue:"Value",description:"Set the text of the value axis title."}},description:"Settings for the value axis title."},label:{name:"label",supportedValueType:"Object",supportedValues:{formatString:{name:"formatString",supportedValueType:"String | Two-Dimensions-Array",defaultValue:null,description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The letter "u" is used at the end of a format string to format values in SI units. If the letter "u" is added to a value between 1e12 and 1e-3 before SI units are applied, the value is formatted in exponential style. The remaining syntax matches Excel format strings. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}},description:"Settings for the axis labels."},scale:{name:"scale",description:"Settings for the scale of the value axis.",supportedValueType:"Object",supportedValues:{fixedRange:{name:"fixedRange",supportedValueType:"Boolean",defaultValue:false,description:"Set whether the fixed axis range is enabled according to the minValue and maxValue."},minValue:{name:"minValue",supportedValueType:"Number",defaultValue:0,description:"Set the minValue of the yAxis."},maxValue:{name:"maxValue",supportedValueType:"Number",defaultValue:0,description:"Set the maxValue of the yAxis."}}}},description:"Settings for value axis at the side bar."},polarAxis:{name:"polarAxis",supportedValueType:"Object",supportedValues:{title:{name:"title",description:"Settings for the polar axis title.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set the visibility of the category axis."},text:{name:"text",supportedValueType:"String",defaultValue:"Categories",description:"Set the text for the category axis."}}}},description:"Settings for the polar axes."},colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:a.COLOR.SAPColorSingleAxis,description:"Set marker color customizations.",example:"<a href='"+a.DocExample.SnippetUrl+"4449' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},shapePalette:{name:"shapePalette",supportedValueType:"StringArray",defaultValue:["circle","diamond","triangleUp","triangleDown","triangleLeft","triangleRight","cross","intersection"],supportedValues:["circle","diamond","triangleUp","triangleDown","triangleLeft","triangleRight","cross","intersection"],description:"Set marker shape customizations."},line:{name:"line",description:"Settings for line customizations.",supportedValueType:"Object",supportedValues:{width:{name:"width",supportedValueType:"PositiveInt",defaultValue:2,description:"Set the line weight. Possible values range from '1' to '7'."}}},surface:{name:"surface",supportedValueType:"Object",supportedValues:{fill:{name:"fill",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the fill effect for the polar area is enabled."},transparency:{name:"transparency",supportedValueType:"Double",defaultValue:.3,description:"Set the alpha value for the polar area fill color."}}}},description:"Settings for the chart's surface."},marker:{name:"marker",supportedValueType:"Object",supportedValues:{size:{name:"size",supportedValueType:"PositiveInt",defaultValue:6,min:4,max:32,description:"Set the size of the marker. Possible values range between '4' and '32'."}},description:"Settings for the marker."},tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",supportedValues:[true,false],defaultValue:true,description:"Set whether the tooltip is enabled."}},isExported:false,description:"Settings for the tooltip."},formatRules:{name:"formatRules",supportedValueType:"Array",isExported:true,description:'Rules to format data points, sample:[{condition: [{Key1:"Value1", Key2:"Value2"}], color:"#00ff00"}, {condition: [{Key3:"Value3"}], color:"#00ffff"}].Each rule has two properties: "condition" and "color". The relation among the condition object in "condition" array is "OR",which means the data point that met any condition in the array will apply the "color".If multiple rules could apply on the same data point, the last rule would take effect.',example:"<a href='"+a.DocExample.SnippetUrl+"8751' target='_blank'>"+a.DocExample.TryThisValue+"</a>"}},events:{initialized:a.Event.Initialized.desc,selectData:a.Event.SelectData.desc,deselectData:a.Event.DeSelectData.desc,showTooltip:a.Event.TooltipShow.desc,hideTooltip:a.Event.TooltipHide.desc},feeds:{id:"radar"},css:{".viz-axis-title.v-title":{description:"Font style for value axis title.",value:{fill:"#333333","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"14px","font-weight":"bold"}},".viz-axis-label.v-label":{description:"Define style for value axis label.",value:{fill:"#333333","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"normal"}},".viz-polar-axis-label.v-polar-axis-label":{description:"Font styles for polar axis labels.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif",fill:"#333333","font-size":"11px","font-weight":"bold"}},".viz-polar-axis-title.v-polar-axis-title":{description:"Font styles for polar axis title.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif",fill:"#333333","font-size":"14px","font-weight":"bold"}}},configure:null,fn:i};var o={viz:[],module:[s],feeds:[].concat(r.feeds)};return o});define("sap/viz/manifests/MultiRadarChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/TableContainer","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/Radar","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/manifests/BaseMultipleChart","sap/viz/manifests/BaseMultipleXYChart","sap/viz/chart/elements/manifests/Tooltip","sap/viz/modules/manifests/Background","sap/viz/chart/elements/behaviors/InteractionHelper"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c){var f={id:"viz/multi_radar",name:"IDS_MULTIRADARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/base/multiple/xy",modules:{root:{modules:{legends:{modules:{legend:{data:{aa:[3]}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{properties:{chartType:"radar",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}},main:{configure:{properties:{mergeDataRange:["primary"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{orientation:"vertical",position:"outside",automaticInOutside:false,outsidePosition:"up",positionPreference:true}}},plot:{id:"sap.viz.modules.radar",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",properties:{multichart:true}}},background:{configure:{propertyCategory:"background",properties:{visible:false}}}}}}}}}},feeds:{multiplier:{acceptMND:0,max:1},regionShape:{max:0},regionColor:{max:1}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapes"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.main.plot.dataLabel",listener:"showLabel",sourceModule:"root.main.plot.plot",type:"initialized.datalabel"},{targetModule:"root.main.plot.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot.plot",type:"startToInit.datalabel"}]}};var m={viz:[f].concat(a.viz,u.viz,d.viz),module:[].concat(a.module,u.module,d.module,i.module,r.module,s.module,o.module,n.module,l.module,h.module,p.module),feeds:[].concat(a.feeds,u.feeds,d.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds,l.feeds,h.feeds,p.feeds)};return m});define("sap/viz/impls/MultiRadarChart",["sap/viz/manifests/MultiRadarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/MultiScatterChart",["sap/viz/manifests/MultiScatterChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/MultiStackedBarChart",["sap/viz/manifests/MultiStackedBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/MultiStackedVerticalBarChart",["sap/viz/manifests/MultiStackedVerticalBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/MultiVerticalBarChart",["sap/viz/manifests/MultiVerticalBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/modules/network/graph",[],function(){function e(){this.nodes=[];this.links=[];this.nodesMap={};this.linksMap=[]}e.prototype.clear=function(){this.nodes=[];this.links=[];this.nodesMap={}};e.prototype.addNode=function(e){var t=e.key;var a;var i=this.hasNode(t);if(!this.isNoValue(t)&&!i){e.val=e.key;e.ctx=[e.ctx];e.info=[e.info];this.nodes.push(e);a=this.nodesMap[t]=this.nodes.length-1;this.linksMap[a]=[]}else if(i){var r=this.nodes[this.nodesMap[t]];r.ctx.push(e.ctx);r.info.push(e.info)}return this};e.prototype.addLink=function(e,t){var a=this.nodesMap;var i=a[e],r=a[t];if(!this.isNoValue(e)&&!this.isNoValue(t)&&e!==t&&!this.hasLink(i,r)){this.links.push({source:i,target:r});this.setLinksMap(i,r)}return this};e.prototype.getRelatedNodes=function(e){return this.linksMap[e]};e.prototype.hasNode=function(e){return this.nodesMap[e]!==undefined};e.prototype.hasLink=function(e,t){return this.linksMap[e].indexOf(t)>-1};e.prototype.setLinksMap=function(e,t){this.linksMap[e].push(t);this.linksMap[t].push(e)};e.prototype.isNoValue=function(e){return e===null||e===undefined};return e});define("sap/viz/modules/network/basicLayout",["sap/viz/util/NumberUtils","sap/viz/base/utils/TypeUtils"],function(e,t){var a=function(){this._width=0;this._height=0;this._radius=0;this._graph=null;this._maxCount=100;this._alpha=.1;this._linkDistance=20;this._linkStrength=1;this._charge=-30;this._distances=null;this._strengths=null;this._charges=null;this._gravity=.1;this._friction=.9;this._theta=.8;this._tickfn=null};a.prototype.width=function(e){if(!arguments.length){return this._width}this._width=e;return this};a.prototype.height=function(e){if(!arguments.length){return this._height}this._height=e;return this};a.prototype.radius=function(e){if(!arguments.length){return this._radius}this._radius=e;return this};a.prototype.graph=function(e){if(!arguments.length){return this._graph}this._graph=e;return this};a.prototype.maxCount=function(e){if(!arguments.length){return this._maxCount}this._maxCount=e;return this};a.prototype.tickfn=function(e){if(!arguments.length){return this._tickfn}this._tickfn=e;return this};a.prototype.alpha=function(e){if(!arguments.length){return this._alpha}var t=this._alpha;this._alpha=e;if(!t){d3.timer(this._tick())}return this};a.prototype.calculate=function(){this._setCoefficient();this._prepare();this._d3ForceDirectedPlacement()};a.prototype.resume=function(){this.alpha(.1)};a.prototype.stop=function(){this.alpha(0)};a.prototype.destroy=function(){this._graph.clear();this._graph=null;this._tickfn=null;this._distances=null;this._strengths=null;this._charges=null};a.prototype._tick=function(){var e=this;return function(){var a=e._alpha;if((a*=.99)<.005||!e._graph){e._alpha=0;return true}e._alpha=a;var i=e._graph.nodes,r=e._graph.links,s=e._charge,o=e._distances,n=e._strengths,l=e._charges,u=e._gravity,d=e._friction,h=i.length,p=r.length,c=e._width,f=e._height,m=e._radius,_,g,v,y,b,x,A,M,S;for(g=0;g<p;++g){v=r[g];y=v.source;b=v.target;M=b.x-y.x;S=b.y-y.y;x=M*M+S*S;if(x){x=a*n[g]*((x=Math.sqrt(x))-o[g])/x;M*=x;S*=x;b.x-=M*(A=y.weight/(b.weight+y.weight));b.y-=S*A;y.x+=M*(A=1-A);y.y+=S*A}}A=a*u;if(A){M=c/2;S=f/2;g=-1;if(A){while(++g<h){v=i[g];v.x+=(M-v.x)*A;v.y+=(S-v.y)*A}}}if(s){e._forceAccumulate(_=d3.geom.quadtree(i),a,l);g=-1;while(++g<h){if(!(v=i[g]).fixed){_.visit(e._repulse(v))}}}g=-1;while(++g<h){v=i[g];if(v.fixed){v.x=v.px;v.y=v.py}else{v.x-=(v.px-(v.px=v.x))*d;v.y-=(v.py-(v.py=v.y))*d}if(v.onDrag){v.x=v.eventX;v.y=v.eventY}v.x=Math.max(m,Math.min(c-m,v.x));v.y=Math.max(m,Math.min(f-m,v.y))}if(t.isFunction(e._tickfn)){e._tickfn()}}};a.prototype._setNodes=function(){var e=this._graph.nodes;for(var t=0,a=e.length;t<a;++t){e[t].x=this._xs[t];e[t].y=this._ys[t]}};a.prototype._jsHash=function(e){var t=1315423911;for(var a=0;a<e.length;a++){t^=(t<<5)+e.charCodeAt(a)+(t>>2)}return t};a.prototype._rsHash=function(e){var t=378551;var a=63689;var i=0;for(var r=0;r<e.length;r++){i=i*a+e.charCodeAt(r);a*=t;i=i%4294967295}return i&2147483647};a.prototype._randomStr=function(e,t){var a=0;switch(t){case"x":a=this._jsHash(e);break;case"y":a=this._rsHash(e);break}var i=107;return Math.abs(a%i/i)};a.prototype._setCoefficient=function(){var e=this._width,t=this._height,a=this._graph.nodes.length;var i=Math.sqrt(e*t/a);this._linkDistance=i;var r=-30*Math.min(e,t)/a;this._charge=r};a.prototype._prepare=function(){var e=this._graph.nodes,t=this._graph.links,a=this._linkDistance,i=this._linkStrength,r=this._charge,s,o=e.length,n=t.length,l=this._width,u=this._height,d;for(s=0;s<o;++s){(d=e[s]).index=s;d.weight=0}for(s=0;s<n;++s){d=t[s];if(typeof d.source==="number"){d.source=e[d.source]}if(typeof d.target==="number"){d.target=e[d.target]}++d.source.weight;++d.target.weight}for(s=0;s<o;++s){d=e[s];if(isNaN(d.x)){d.x=this._randomStr(d.key,"x")*l}if(isNaN(d.y)){d.y=this._randomStr(d.key,"y")*u}if(isNaN(d.px)){d.px=d.x}if(isNaN(d.py)){d.py=d.y}}this._distances=[];var h=this._distances;for(s=0;s<n;++s){h[s]=a}this._strengths=[];var p=this._strengths;for(s=0;s<n;++s){p[s]=i}this._charges=[];var c=this._charges;for(s=0;s<o;++s){c[s]=r}this._alpha=.1};a.prototype._d3ForceDirectedPlacement=function(){var e=this._alpha;var t=-1,a=this._maxCount;while((e*=.99)>.005&&++t<a){var i=this._graph.nodes,r=this._graph.links,s=this._charge,o=this._distances,n=this._strengths,l=this._charges,u=this._gravity,d=this._friction,h=i.length,p=r.length,c=this._width,f=this._height,m=this._radius,_,g,v,y,b,x,A,M,S;for(g=0;g<p;++g){v=r[g];y=v.source;b=v.target;M=b.x-y.x;S=b.y-y.y;x=M*M+S*S;if(x){x=e*n[g]*((x=Math.sqrt(x))-o[g])/x;M*=x;S*=x;b.x-=M*(A=y.weight/(b.weight+y.weight));b.y-=S*A;y.x+=M*(A=1-A);y.y+=S*A}}A=e*u;if(A){M=c/2;S=f/2;g=-1;if(A){while(++g<h){v=i[g];v.x+=(M-v.x)*A;v.y+=(S-v.y)*A}}}if(s){this._forceAccumulate(_=d3.geom.quadtree(i),e,l);g=-1;while(++g<h){if(!(v=i[g]).fixed){_.visit(this._repulse(v))}}}g=-1;while(++g<h){v=i[g];if(v.fixed){v.x=v.px;v.y=v.py}else{v.x-=(v.px-(v.px=v.x))*d;v.y-=(v.py-(v.py=v.y))*d}v.x=Math.max(m,Math.min(c-m,v.x));v.y=Math.max(m,Math.min(f-m,v.y))}}this._alpha=0};a.prototype._repulse=function(e){var t=this._theta;return function(a,i,r,s){if(a.point!==e){var o=a.cx-e.x,n=a.cy-e.y,l=1/Math.sqrt(o*o+n*n),u;if((s-i)*l<t){u=a.charge*l*l;e.px-=o*u;e.py-=n*u;return true}if(a.point&&isFinite(l)){u=a.pointCharge*l*l;e.px-=o*u;e.py-=n*u}}return!a.charge}};a.prototype._forceAccumulate=function(e,t,a){var i=0,r=0;e.charge=0;if(!e.leaf){var s=e.nodes,o=s.length,n=-1,l;while(++n<o){l=s[n];if(l===null||l===undefined){continue}this._forceAccumulate(l,t,a);e.charge+=l.charge;i+=l.charge*l.cx;r+=l.charge*l.cy}}if(e.point){if(!e.leaf){e.point.x+=this._randomStr(e.point.key,"y")-.5;e.point.y+=this._randomStr(e.point.key,"x")-.5}var u=t*a[e.point.index];e.charge+=e.pointCharge=u;i+=u*e.point.x;r+=u*e.point.y}e.cx=i/e.charge;e.cy=r/e.charge};return a});define("sap/viz/modules/network",["sap/viz/modules/Constants","sap/viz/base/utils/oo","sap/viz/modules/Base","sap/viz/modules/util/BoundUtil","sap/viz/base/utils/Objects","sap/viz/modules/dispatch","sap/viz/modules/network/graph","sap/viz/modules/network/basicLayout","sap/viz/util/ColorSeriesGenerator","sap/viz/base/utils/ObjectUtils","sap/viz/modules/util/ClippathUtil"],function(e,t,a,i,r,s,o,n,l,u,d){var h="v-network-node";var p="v-network-line";var c=e.CSS.CLASS.DATAPOINT;var f=e.CSS.CLASS.DATAPOINTDEFAULT;var m=e.CSS.CLASS.DATAPOINTSELECTED;var _={NORMAL:"basic",ENHANCED:"enhanced"};var g={MARKER_COLOR_DEFAULT:"#FFFFFF",MARKER_COLOR_SELECTED:l.sap32().range()[0],MARKER_COLOR_UNSELECTED:"#FFFFFF",MARKER_OUTLINE_COLOR_DEFAULT:"#000000",MARKER_OUTLINE_COLOR_SELECTED:"#000000",MARKER_OUTLINE_COLOR_UNSELECTED:"#D8D8D8",MARKER_OUTLINE_WIDTH_DEFAULT:1,MARKER_OUTLINE_WIDTH_SELECTED:2,MARKER_OUTLINE_WIDTH_UNSELECTED:1,MARKER_RADIUS:5,LABEL_COLOR_DEFAULT:"#000000",LABEL_COLOR_SELECTED:"#000000",LABEL_COLOR_UNSELECTED:"#D8D8D8",LABEL_FONT:"12px 'Open Sans', Arial, Helvetica, sans-serif",LABEL_OFFSET_X_DEFAULT:12,LABEL_OFFSET_X_SELECTED:13,LABEL_OFFSET_X_UNSELECTED:12,LABEL_OFFSET_Y:6,LINE_COLOR_DEFAULT:"#D8D8D8",LINE_COLOR_SELECTED:"#000000",LINE_COLOR_UNSELECTED:"#D8D8D8",LINE_WIDTH:"1px",OPACITY_DEFAULT:1,OPACITY_UNSELECTED:.4};var v={MARKER_COLOR_DEFAULT:"#D12318",MARKER_COLOR_SELECTED:"#D12318",MARKER_COLOR_UNSELECTED:"#EC9A99",MARKER_OUTLINE_COLOR_DEFAULT:"#FFFFFF",MARKER_OUTLINE_COLOR_SELECTED:"#000000",MARKER_OUTLINE_COLOR_UNSELECTED:"#FFFFFF",MARKER_OUTLINE_WIDTH_DEFAULT:2,MARKER_OUTLINE_WIDTH_SELECTED:2,MARKER_OUTLINE_WIDTH_UNSELECTED:2,MARKER_RADIUS:4,LABEL_COLOR_DEFAULT:"#000000",LABEL_COLOR_SELECTED:"#000000",LABEL_COLOR_UNSELECTED:"#999999",LABEL_FONT:"12px 'Open Sans', Arial, Helvetica, sans-serif",LABEL_OFFSET_X_DEFAULT:12,LABEL_OFFSET_X_SELECTED:12,LABEL_OFFSET_X_UNSELECTED:12,LABEL_OFFSET_Y:6,LINE_COLOR_DEFAULT:"#999999",LINE_COLOR_SELECTED:"#000000",LINE_COLOR_UNSELECTED:"#999999",LINE_WIDTH:"1px",OPACITY_DEFAULT:1,OPACITY_UNSELECTED:.4};var y=function(e,t){y.superclass.constructor.apply(this,arguments);this._ID=u.guid()+"-potShadow";this._ntk_width=0;this._ntk_height=0;this._ntk_properties=e.props(null);this._ntkfn_parseProperties();this._ntk_data=null;this._ntk_dispatch=new s("initialized");this._ntk_effectManager=t.effectManager;this._ntk_graph=new o;this._ntk_layout=new n;this._ntk_parent=null;this._ntk_nodesWrapper=null;this._ntk_linesWrapper=null;this._ntk_defs=null;this._ntk_isFirstCreation=true;this._ntk_isSizeChanged=false;this._ntk_isDatasetChanged=false;this._ntk_isDataSchemaChanged=false;this._ntk_isPropertiesChanged=false};t.extend(y,a);y.prototype.render=function(e){var t=this._ntk_width,a=this._ntk_height;i.drawBound(e,t,a,undefined,true);var r=d.drawClippath(e,t,a);e.attr("clip-path","url(#"+r+")");this._ntk_parent=e;this._ntkfn_renderChart();this._ntk_isFirstCreation=false;this._ntk_isSizeChanged=false;this._ntk_isDatasetChanged=false;this._ntk_isDataSchemaChanged=false;this._ntk_isPropertiesChanged=false;return this};y.prototype.properties=function(e){if(!arguments.length){return this._ntk_properties}this._ntk_isPropertiesChanged=true;r.extend(true,this._ntk_properties,e);this._ntkfn_parseProperties();return this};y.prototype.parent=function(e){if(!arguments.length){return this._ntk_parent}this._ntk_parent=e;return this};y.prototype.width=function(e){if(!arguments.length){return this._ntk_width}this._ntk_isSizeChanged=this._ntk_width===e&&!this._ntk_isSizeChanged?false:true;this._ntk_width=e;return this};y.prototype.height=function(e){if(!arguments.length){return this._ntk_height}this._ntk_isSizeChanged=this._ntk_height===e&&!this._ntk_isSizeChanged?false:true;this._ntk_height=e;return this};y.prototype.data=function(e){if(!arguments.length){return this._ntk_data}this._ntk_isDatasetChanged=true;this._ntk_data=e;this._ntkfn_parseData();return this};y.prototype.dispatch=function(e){if(!arguments.length){return this._ntk_dispatch}this._ntk_dispatch=e;return this};y.prototype.highlight=function(e,t){if(!t){this.clear(true);if(e instanceof Array){for(var a=0;a<e.length;a++){var i=this._ntk_styleDef;var r=d3.select(e[a]);r.select("circle").attr("fill",i.MARKER_COLOR_SELECTED).attr("stroke",i.MARKER_OUTLINE_COLOR_SELECTED).attr("stroke-width",i.MARKER_OUTLINE_WIDTH_SELECTED);r.select("text").attr("dx",i.LABEL_OFFSET_X_SELECTED).style("fill",i.LABEL_COLOR_SELECTED);r.classed(f,false);r.classed(m,true);var s=r.attr("class");var o=this._ntkfn_getIndexFromClass(s);this._ntk_parent.selectAll("."+p+".NODE_"+o).attr("stroke",i.LINE_COLOR_SELECTED);var n=this._ntk_graph.getRelatedNodes(o);for(var l=0,u=n.length;l<u;++l){var d=this._ntk_parent.selectAll("."+h+".NODE_"+n[l]);d.select("circle").attr("fill",i.MARKER_COLOR_DEFAULT).attr("stroke",i.MARKER_OUTLINE_COLOR_DEFAULT).attr("stroke-width",i.MARKER_OUTLINE_WIDTH_DEFAULT);d.select("text").attr("dx",i.LABEL_OFFSET_X_DEFAULT).style("fill",i.LABEL_COLOR_DEFAULT)}}}}};y.prototype.unhighlight=function(e,t,a){if(a){this.clear()}};y.prototype.clear=function(e){var t=this._ntk_styleDef;if(e){this._ntk_linesWrapper.attr("stroke",t.LINE_COLOR_UNSELECTED);this._ntk_nodesWrapper.select("circle").attr("fill",t.MARKER_COLOR_UNSELECTED).attr("stroke",t.MARKER_OUTLINE_COLOR_UNSELECTED).attr("stroke-width",t.MARKER_OUTLINE_WIDTH_UNSELECTED);this._ntk_nodesWrapper.select("text").attr("dx",t.LABEL_OFFSET_X_UNSELECTED).style("fill",t.LABEL_COLOR_UNSELECTED)}else{this._ntk_linesWrapper.attr("stroke",t.LINE_COLOR_DEFAULT);this._ntk_nodesWrapper.select("circle").attr("fill",t.MARKER_COLOR_DEFAULT).attr("stroke",t.MARKER_OUTLINE_COLOR_DEFAULT).attr("stroke-width",t.MARKER_OUTLINE_WIDTH_DEFAULT);this._ntk_nodesWrapper.select("text").attr("dx",t.LABEL_OFFSET_X_DEFAULT).style("fill",t.LABEL_COLOR_DEFAULT)}};y.prototype.destroy=function(){if(this._ntk_parent){this._ntk_parent.selectAll("."+c).remove()}this._ntk_parent=null;this._ntk_nodesWrapper=null;this._ntk_linesWrapper=null;this._ntk_graph.clear();this._ntk_graph=null;this._ntk_layout.destroy();this._ntk_layout=null;this._ntk_defs=null;if(this._ntk_effectManager&&this._ntk_effectManager.destroy){this._ntk_effectManager.destroy()}};y.prototype._ntkfn_renderChart=function(){var e=this._ntk_parent;var t=this;if(this._ntk_isFirstCreation||this._ntk_isDatasetChanged||this._ntk_isPropertiesChanged){e.selectAll("."+h).remove();e.selectAll("."+p).remove();if(this._ntk_isEnhancedStyle&&!this._ntk_defs){this._ntkfn_createGraphicFilter()}else if(!this._ntk_isEnhancedStyle&&this._ntk_defs){e.select("defs").remove();this._ntk_defs=null}if(this._ntk_isFirstCreation||this._ntk_isDatasetChanged){this._ntkfn_layout(50)}}else if(this._ntk_isSizeChanged){this._ntk_layout.stop();this._ntkfn_layout(10)}var a=this._ntk_styleDef;var i=this._ntk_linesWrapper=e.selectAll("."+p).data(this._ntk_graph.links);i.enter().append("line");i.exit().remove();i.each(function(e){var i=t._ntkfn_calculateLinePosition(e.source.x,e.source.y,e.target.x,e.target.y);if(t._ntk_isFirstCreation||t._ntk_isDatasetChanged||t._ntk_isPropertiesChanged){d3.select(this).attr("x1",i.x1).attr("y1",i.y1).attr("x2",i.x2).attr("y2",i.y2).attr("opacity",a.OPACITY_DEFAULT).attr("class",p+" NODE_"+e.source.index+" NODE_"+e.target.index).attr("stroke",t._ntkfn_getEffectColor(a.LINE_COLOR_DEFAULT)).attr("stroke-width",a.LINE_WIDTH_DEFAULT)}else if(t._ntk_isSizeChanged){d3.select(this).transition().duration(500).attr("x1",i.x1).attr("y1",i.y1).attr("x2",i.x2).attr("y2",i.y2)}});var r=this._ntk_nodesWrapper=e.selectAll("."+h).data(this._ntk_graph.nodes);r.enter().append("g");r.exit().remove();if(this._ntk_isRelayoutWhenDragging){this._ntk_layout.tickfn(function(){i.each(function(e){var a=t._ntkfn_calculateLinePosition(e.source.x,e.source.y,e.target.x,e.target.y);d3.select(this).attr("x1",a.x1).attr("y1",a.y1).attr("x2",a.x2).attr("y2",a.y2)});r.attr("transform",function(e){return"translate("+e.x+", "+e.y+")"})})}else{this._ntk_layout.tickfn(null)}r.each(function(e){var r=d3.select(this);var s,o;if(t._ntk_isRelayoutWhenDragging){s=function(e){if(d3.event.sourceEvent.which===3||d3.event.sourceEvent.buttons===2){return}e.x=d3.event.x;e.y=d3.event.y;e.eventX=d3.event.x;e.eventY=d3.event.y;e.onDrag=true;t._ntk_layout.resume()};o=function(e){if(d3.event.sourceEvent.which===3||d3.event.sourceEvent.buttons===2){return}e.onDrag=false}}else{s=function(e){if(d3.event.sourceEvent.which===3||d3.event.sourceEvent.buttons===2){return}var s=a.MARKER_RADIUS;e.x=Math.max(s,Math.min(t._ntk_width-s,d3.event.x));e.y=Math.max(s,Math.min(t._ntk_height-s,d3.event.y));i.each(function(e){var a=t._ntkfn_calculateLinePosition(e.source.x,e.source.y,e.target.x,e.target.y);d3.select(this).attr("x1",a.x1).attr("y1",a.y1).attr("x2",a.x2).attr("y2",a.y2)});r.attr("transform","translate("+e.x+", "+e.y+")")};o=function(e){if(d3.event.sourceEvent.which===3||d3.event.sourceEvent.buttons===2){return}e.x=e.originX;e.y=e.originY;i.each(function(e){var a=t._ntkfn_calculateLinePosition(e.source.x,e.source.y,e.target.x,e.target.y);d3.select(this).transition().duration(500).ease("elastic").attr("x1",a.x1).attr("y1",a.y1).attr("x2",a.x2).attr("y2",a.y2)});r.transition().duration(500).ease("elastic").attr("transform","translate("+e.x+", "+e.y+")")}}var n=d3.behavior.drag().origin(d3.functor(e)).on("drag",s).on("dragend",o);e.originX=e.x;e.originY=e.y;if(t._ntk_isFirstCreation||t._ntk_isDatasetChanged||t._ntk_isPropertiesChanged){r.attr("transform","translate("+e.x+", "+e.y+")").attr("class",h+" NODE_"+e.index+" "+c+" "+f);if(t._ntk_isDraggable){r.call(n)}var l=r.append("circle").attr("cx",0).attr("cy",0).attr("r",a.MARKER_RADIUS).attr("fill",t._ntkfn_getEffectColor(a.MARKER_COLOR_DEFAULT)).attr("stroke",a.MARKER_OUTLINE_COLOR_DEFAULT).attr("stroke-width",a.MARKER_OUTLINE_WIDTH_DEFAULT);if(t._ntk_isEnhancedStyle){l.attr("filter","url(#"+t._ID+")")}if(t._ntk_isLabelVisible){r.append("text").text(e.key).style("pointer-events","none").style("font",a.LABEL_FONT).attr("dy",a.LABEL_OFFSET_Y).attr("dx",a.LABEL_OFFSET_X_DEFAULT).style("fill",t._ntkfn_getEffectColor(a.LABEL_COLOR_DEFAULT))}}else if(t._ntk_isSizeChanged){r.transition().duration(500).attr("transform","translate("+e.x+", "+e.y+")")}});this._ntk_dispatch.initialized()};y.prototype._ntkfn_parseData=function(){var e=this._ntk_graph;var t=this._ntk_data.getAnalysisAxisDataByIdx(0);if(t){e.clear();var a=t.values[0];var i=t.values[1];var s=a.rows.length;for(var o=0;o<s;++o){var n=a.rows[o].val,l=i.rows[o].val;var u=r.extend(true,{},a.rows[o].ctx);var d=r.extend(true,{},a.rows[o].info);e.addNode({key:n,ctx:u,info:d});u=r.extend(true,{},i.rows[o].ctx);d=r.extend(true,{},i.rows[o].info);e.addNode({key:l,ctx:u,info:d});e.addLink(n,l)}}};y.prototype._ntkfn_parseProperties=function(){this._ntk_isLabelVisible=this._ntk_properties.label.visible;this._ntk_isEnhancedStyle=this._ntk_properties.style===_.ENHANCED;if(!this._ntk_isEnhancedStyle){this._ntk_properties.style=_.NORMAL}this._ntk_styleDef=this._ntk_isEnhancedStyle?v:g;this._ntk_isRelayoutWhenDragging=this._ntk_properties.relayoutWhenDragging;this._ntk_isDraggable=this._ntk_properties.draggable};y.prototype._ntkfn_layout=function(e){this._ntk_layout.graph(this._ntk_graph).width(this._ntk_width).height(this._ntk_height).radius(this._ntk_styleDef.MARKER_RADIUS).maxCount(e).calculate()};y.prototype._ntkfn_getIndexFromClass=function(e){var t=e.split(" ");for(var a=0,i=t.length;a<i;++a){if(t[a].indexOf("NODE")>-1){return parseInt(t[a].split("_")[1],10)}}};y.prototype._ntkfn_calculateLinePosition=function(e,t,a,i){var r=e-a,s=t-i;var o=Math.sqrt(r*r+s*s);var n=this._ntk_styleDef.MARKER_RADIUS;if(o>2*n){e-=n/o*r;t-=n/o*s;a+=n/o*r;i+=n/o*s}else{e=0;a=0;t=0;i=0}return{x1:e,y1:t,x2:a,y2:i}};y.prototype._ntkfn_createGraphicFilter=function(){var e=this._ntk_defs=this._ntk_parent.append("defs");var t=e.append("filter").attr("id",this._ID).attr("filterUnits","objectBoundingBox").attr("x","-6").attr("y","-6").attr("width","12").attr("height","12");t.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation","2").attr("result","offsetBlur");var a=t.append("feMerge");a.append("feMergeNode").attr("in","offsetBlur");a.append("feMergeNode").attr("in","SourceGraphic")};y.prototype._ntkfn_getEffectColor=function(e){if(!this._ntk_effectManager){return e}var t={fillColor:e};return this._ntk_effectManager.register(t)};return y});define("sap/viz/feeds/Network",["sap/viz/feeds/Manifest","sap/viz/data/feed/Constants"],function e(t,a){var i={id:"link",name:"IDS_NETLINK",type:a.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:-1,minStackedDims:2,maxStackedDims:2};var r={id:"network",feeds:[i]};var s={viz:[],module:[],feeds:[r]};return s});define("sap/viz/modules/manifests/Network",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/network","sap/viz/feeds/Network"],function e(t,a,i,r){var s={id:"sap.viz.modules.network",type:a.Type.Chart,name:"network",properties:{label:{name:"label",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set the visibility of the labels."}},description:"Setting for labels in the network chart."},style:{name:"style",supportedValueType:"String",supportedValues:["basic","enhanced"],defaultValue:"enhanced",description:"~",isExported:false},relayoutWhenDragging:{name:"relayoutWhenDragging",supportedValueType:"Boolean",defaultValue:true,description:"Set whether labels are shown."},draggable:{name:"draggable",supportedValueType:"Boolean",defaultValue:true,description:"Set whether labels are draggable.",isExported:false}},events:{initialized:a.Event.Initialized.desc,selectData:a.Event.SelectData.desc,deselectData:a.Event.DeSelectData.desc},feeds:{id:"network"},css:{},configure:null,fn:i};var o={viz:[],module:[s],feeds:[].concat(r.feeds)};return o});define("sap/viz/manifests/NetworkChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/Network","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/modules/manifests/Title","sap/viz/modules/manifests/layout/Dock","sap/viz/modules/manifests/XYContainer","sap/viz/modules/manifests/Background"],function e(t,a,i,r,s,o,n,l){var u={id:"viz/network",name:"IDS_NETWORKCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",modules:{root:{id:"sap.viz.modules.rootContainer",configure:{propertyCategory:"general",propertiesOverride:{layout:{hideAxisTitleFirst:{isExported:false}}}},modules:{title:{id:"sap.viz.modules.title",configure:{propertyCategory:"title",properties:{layout:{position:"top",priority:0}}}},layout:{id:"sap.viz.modules.layout.dock"},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"],selectability:{mode:"single",plotLassoSelection:false}},propertiesOverride:{selectability:{isExported:false}}}},main:{id:"sap.viz.modules.xycontainer",configure:{propertyCategory:"xyContainer",properties:{layout:{position:"center",priority:10}}},modules:{plot:{id:"sap.viz.modules.network",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"}]}};var d={viz:[u],module:[].concat(a.module,i.module,r.module,s.module,o.module,n.module,l.module),feeds:[].concat(a.feeds,i.feeds,s.feeds,o.feeds,n.feeds,l.feeds)};return d});define("sap/viz/impls/NetworkChart",["sap/viz/manifests/NetworkChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/xy/PercentageAreaChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/xy/AreaChart"],function e(t,a,i){var r={id:"viz/100_area",name:"IDS_PERCENTAGEAREACHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/area",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousedown","mousemove","mouseover","mouseout","touchstart"],holdSelection:false,extensionPoints:{convertData:function(e,t){return e.getDataOfDataPoint(t)}}}}},main:{modules:{plot:{configure:{properties:{mode:"percentage"}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart",propertyCategory:"yAxis",properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"line",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}}}}}};var s={viz:[r].concat(i.viz),module:[].concat(i.module,a.module),feeds:[].concat(i.feeds,a.feeds)};return s});define("sap/viz/impls/PercentageAreaChart",["sap/viz/manifests/xy/PercentageAreaChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/xy/PercentageHorizontalAreaChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/xy/HorizontalAreaChart"],function e(t,a,i){var r={id:"viz/100_horizontal_area",name:"IDS_PERCENTAGEHORIZONTALAREACHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/horizontal_area",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousedown","mousemove","mouseover","mouseout","touchstart"],holdSelection:false,extensionPoints:{convertData:function(e,t){return e.getDataOfDataPoint(t)}}}}},main:{modules:{plot:{configure:{properties:{mode:"percentage"}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart",propertyCategory:"xAxis",properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"horizontalline",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}}}}}};var s={viz:[r].concat(i.viz),module:[].concat(i.module,a.module),feeds:[].concat(i.feeds,a.feeds)};return s});define("sap/viz/impls/PercentageHorizontalAreaChart",["sap/viz/manifests/xy/PercentageHorizontalAreaChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/xy/PercentageHorizontalMekkoChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/xy/HorizontalMekkoChart"],function e(t,a,i){var r={id:"viz/100_horizontal_mekko",name:"IDS_PERCENTAGEHORIZONTALMEKKOCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/horizontal_mekko",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousedown","mousemove","mouseover","mouseout","touchstart"],holdSelection:false,extensionPoints:{convertData:function(e,t){return e.getDataOfDataPoint(t)}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"mekko",formatString:[["0.00%"],[""]]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.mekko",configure:{propertyCategory:"plotArea",properties:{mode:"percentage"},propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart",propertyCategory:"xAxis",properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}}}}}}}};var s={viz:[r].concat(i.viz),module:[].concat(i.module,a.module),feeds:[].concat(i.feeds,a.feeds)};return s});define("sap/viz/impls/PercentageHorizontalMekkoChart",["sap/viz/manifests/xy/PercentageHorizontalMekkoChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/xy/PercentageMekkoChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/xy/MekkoChart"],function e(t,a,i){var r={id:"viz/100_mekko",name:"IDS_PERCENTAGEMEKKOCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/mekko",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousedown","mousemove","mouseover","mouseout","touchstart"],holdSelection:false,extensionPoints:{convertData:function(e,t){return e.getDataOfDataPoint(t)}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{formatString:[["0.00%"],[""]]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.mekko",configure:{propertyCategory:"plotArea",properties:{mode:"percentage"},propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart",propertyCategory:"yAxis",properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}}}}}}}};var s={viz:[r].concat(i.viz),module:[].concat(i.module,a.module),feeds:[].concat(i.feeds,a.feeds)};return s});define("sap/viz/impls/PercentageMekkoChart",["sap/viz/manifests/xy/PercentageMekkoChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/xy/StackedBarChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/xy/StackedBar","sap/viz/manifests/xy/BarChart"],function e(t,a,i,r){var s={id:"viz/stacked_bar",name:"IDS_STACKEDBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/bar",feeds:{secondaryValues:null},modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.stackedbar",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false,position:"inside"},propertiesOverride:{position:{isExported:false}}}}}}}}}};var o={viz:[s].concat(r.viz),module:[].concat(r.module,a.module,i.module),feeds:[].concat(r.feeds,a.feeds,i.feeds)};return o});define("sap/viz/manifests/xy/PercentageStackedBarChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/xy/StackedBar","sap/viz/manifests/xy/StackedBarChart"],function e(t,a,i,r){var s={id:"viz/100_stacked_bar",name:"IDS_PERCENTAGESTACKEDBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/stacked_bar",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousedown","mousemove","mouseover","mouseout","touchstart"],holdSelection:true,extensionPoints:{convertData:function(e,t){return e.getDataOfDataPoint(t)}}}}},main:{modules:{plot:{id:"sap.viz.modules.stackedbar",configure:{properties:{mode:"percentage"}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart",propertyCategory:"xAxis",properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{type:"value",isPercentMode:true,showZero:true}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"100_stacked_bar",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}}}}}};var o={viz:[s].concat(r.viz),module:[].concat(r.module,a.module,i.module),feeds:[].concat(r.feeds,a.feeds,i.feeds)};return o});define("sap/viz/impls/PercentageStackedBarChart",["sap/viz/manifests/xy/PercentageStackedBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/xy/PercentageStackedVerticalBarChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/xy/StackedVerticalBar","sap/viz/manifests/xy/StackedVerticalBarChart"],function e(t,a,i){var r={id:"viz/100_stacked_column",name:"IDS_PERCENTAGESTACKEDVERTICALBARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/stacked_column",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousedown","mousemove","mouseover","mouseout","touchstart"],holdSelection:true,extensionPoints:{convertData:function(e,t){return e.getDataOfDataPoint(t)}}}}},main:{modules:{plot:{id:"sap.viz.modules.stackedverticalbar",configure:{properties:{mode:"percentage"}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart",propertyCategory:"yAxis",properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{type:"value",isPercentMode:true,showZero:true}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"100_stacked_column",orientation:"bottom",formatString:[["0.00%"],["0.00%"]]}}}}}}};var s={viz:[r].concat(i.viz),module:[].concat(i.module,a.module),feeds:[].concat(i.feeds,a.feeds)};return s});define("sap/viz/impls/PercentageStackedVerticalBarChart",["sap/viz/manifests/xy/PercentageStackedVerticalBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/PieChart",["sap/viz/manifests/pie/PieChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/PieWithDepthChart",["sap/viz/manifests/pie/PieWithDepthChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/RadarChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseSingleChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/Radar","sap/viz/chart/elements/manifests/Tooltip","sap/viz/modules/manifests/Background","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/modules/manifests/Axis"],function e(t,a,i,r,s,o,n,l){var u={id:"viz/radar",name:"IDS_RADARCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/base/single",modules:{root:{configure:{propertyCategory:"general",propertiesOverride:{layout:{hideAxisTitleFirst:{isExported:false}}}},modules:{legends:{modules:{legend:{id:"sap.viz.modules.legend.common",data:{aa:[2,3]}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"radar",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mousemove","mouseup","touchstart"]}}},main:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.radar",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,orientation:"vertical",position:"outside",automaticInOutside:false,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:"up",positionPreference:true}}}}}}}},dependencies:{attributes:[{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapes"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]}};var d={viz:[u].concat(a.viz),module:[].concat(a.module,i.module,r.module,s.module,o.module,n.module,l.module),feeds:[].concat(a.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds,l.feeds)};return d});define("sap/viz/impls/RadarChart",["sap/viz/manifests/RadarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/scatter/ScatterChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/scatter/BaseBubbleChart","sap/viz/modules/manifests/Scatter","sap/viz/modules/manifests/DataTransform"],function e(t,a,i,r,s){var o={id:"viz/scatter",name:"IDS_SCATTERCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"viz/scatter/single/base",modules:{dataTransform:{id:"sap.viz.modules.datatransform",configure:{propertyCategory:"dataTransform",properties:{dataSampling:{enable:false,sizeFactor:.5},autoBinning:{enable:null}},propertiesOverride:{autoBinning:{isExported:false}}}},root:{modules:{tooltip:{configure:{properties:{chartType:"scatter"}}},main:{modules:{plot:{id:"sap.viz.modules.scatter",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{isBubbleChart:true,automaticInOutside:false}}}}}}}},dataScale:{primaryValues:{maxValue:["plotArea.maxPriValue"],minValue:["plotArea.minPriValue"]},secondaryValues:{maxValue:["plotArea.maxSecValue"],minValue:["plotArea.minSecValue"]}},valueAxis:["xAxis","yAxis"]};var n={viz:[o].concat(i.viz),module:[].concat(i.module,a.module,r.module,s.module),feeds:[].concat(i.feeds,a.feeds,r.feeds,s.feeds)};return n});define("sap/viz/impls/ScatterChart",["sap/viz/manifests/scatter/ScatterChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/modules/scattermatrixcontainer",["jquery","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/ObjectUtils","sap/viz/base/utils/FunctionUtils","sap/viz/modules/layout","sap/viz/data/handler/MultiChartDataHandler","sap/viz/modules/manifests/Module","sap/viz/util/TextUtils","sap/viz/modules/dispatch","sap/viz/lang/langManager","sap/viz/modules/util/BoundUtil","sap/viz/util/ignite","sap/viz/util/fn/createContext","sap/viz/modules/util/dataUtil","sap/viz/base/UADetector"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m){return function(e,s){var _="v-subtitle";var g=0,v=0,y=0,b=0,x={},A={},M={},S={},z={},D=null,E=null,w=[];var T=true;var C=false;var L=new u("initialized","showTooltip","hideTooltip"),I=0;var k={};var O;var N=e.props(null);var P=0;var R,F;var B=function(e){if(e===null||e===undefined){return d.get("IDS_ISNOVALUE")}else{return e}};var V={dataLoading:true,dataUpdating:true,resizing:true};var H=true,U=false;var G="plotArea";function Y(e){var t={};var a=t[G]={};var r=a.animation={};i.extend(r,V);if(!e&&U){r.dataLoading=V.dataUpdating}var s=S.plot;for(var o=0,n=s.length;o<n;o++){s[o].properties(t)}}function j(){var e=s.styleManager.query(_);if(e){if(e["fill"]){k.fill=e["fill"]}if(e["font-family"]){k.family=e["font-family"]}if(e["font-size"]){k.size=e["font-size"]}if(e["font-weight"]){k.weight=e["font-weight"]}}O=s.styleManager.queryDefault(_)}function W(){var e=M.modules.plot;if(!e)return;delete S.plot;S.plot=[];if(F){F.styleManager.cleanChildren()}var t=A.getMeasureValuesGroupDataByIdx()[0].values.length;for(var a=0;a<t;a++){for(var i=0;i<t;i++){var r=i*t+a;if(!R||!F){R=n.get(e.id);F=c(R,s,"v-m-plot")}var o=S.plot[r]=p(R,F);o.config(e);I++;if(o.dispatch){var l=o.dispatch();if(l.initialized)l.on("initialized.scattermatrixcontainer",ae);if(l.showTooltip)l.on("showTooltip.scattermatrixcontainer",ie);if(l.hideTooltip)l.on("hideTooltip.scattermatrixcontainer",re)}}}}function X(){if(a.isExist(x.multiLayout)&&a.isExist(x.multiLayout.plotTitle)&&a.isExist(x.multiLayout.plotTitle.visible)){T=x.multiLayout.plotTitle.visible;N.plotTitle.visible=x.multiLayout.plotTitle.visible}var e=S.plot;if(e){var t=M.modules.plot;if(!t)return;var r;if(t.configure){if(t.configure.propertyCategory){r=i.extend(true,{},x[t.configure.propertyCategory])}}else{r=x}for(var s=0,o=e.length;s<o;s++){if(r){e[s].properties(r)}}}j()}function K(){if(w){for(var e=0;e<w.length;++e){var t=w[e].shape;if(t){t.remove()}}}w=[];E=new o(A,"measures");var a=A.getMeasureValuesGroupDataByIdx()[0].values.length;for(var i=0;i<a;i++){for(var r=0;r<a;r++){var s=E.getSubDataAdapterByMeasures({row:r,col:i});var n=S.plot[r*a+i];n.data(s,A);var l=w[r*a+i];if(!l)l=w[r*a+i]={};l.empty=i==r;l.label=i==r?B(s.getMeasureValuesGroupDataByIdx(0).values[0].col):B(s.getMeasureValuesGroupDataByIdx(0).values[0].col)+" - "+B(s.getMeasureValuesGroupDataByIdx(1).values[0].col)}}}function q(){delete z.plot;D.select(".v-m-plot").remove();if(S.plot&&!z.plot){var e=z.plot=[];var t=z.plotRoot=D.append("g").attr("class","v-m-plot");for(var i=0,r=S.plot.length;i<r;i++){e[i]=t.append("g").attr("class","v-m-plot"+i);var s=S.plot[i];var o=s.parent(e[i]).modules();s.retry();var n=null,l={label:{}},u={label:{}};var d=null;if(x.hasOwnProperty("xAxis")&&o.hasOwnProperty("xAxis")){d=s.data();var h=d.getMeasureValuesGroupDataByIdx()[0].values;if(a.isArray(h)){if(a.isExist(h[0].rows[0][0].ctx.path)&&a.isExist(x["xAxis"].label)&&a.isExist(x["xAxis"].label.formatString)){if(a.isArray(x["xAxis"].label.formatString)){n=x["xAxis"].label.formatString[0][h[0].rows[0][0].ctx.path.mi]}else if(a.isString(x["xAxis"].label.formatString)){n=x["xAxis"].label.formatString}if(n){l.label.formatString=n;o["xAxis"].properties(l)}}}}if(x.hasOwnProperty("yAxis")&&o.hasOwnProperty("yAxis")){if(!d){d=s.data()}var p=d.getMeasureValuesGroupDataByIdx()[1].values;if(a.isArray(p)){if(a.isExist(p[0].rows[0][0].ctx.path)&&a.isExist(x["yAxis"].label)&&a.isExist(x["yAxis"].label.formatString)){if(a.isArray(x["yAxis"].label.formatString)){n=x["yAxis"].label.formatString[0][p[0].rows[0][0].ctx.path.mi]}else if(a.isString(x["yAxis"].label.formatString)){n=x["yAxis"].label.formatString}if(n){u.label.formatString=n;o["yAxis"].properties(u)}}}}for(var c in o)if(o.hasOwnProperty(c))S["plot["+i+"]"+"."+c]=o[c]}}}function Z(){if(a.isEmptyObject(M))r.error("Container configuration missing");I=0;W();X();K();q()}function J(){if(a.isEmptyObject(S)||!g||!v)return;j();var e=A.getMeasureValuesGroupDataByIdx()[0].values.length;y=g/e;b=v/e;var t=te();var i=t.height;if(!T||t.width>y||t.height>b/3){i=0;C=true}for(var r=0;r<e;r++){for(var s=0;s<e;s++){var o=S.plot[s*e+r];var n=z.plot[s*e+r];o.width(y).height(b-i);n.attr("transform","translate("+y*r+","+b*s+")")}}}function Q(e){e.each(function(t){if(!H&&U){Y()}P=0;D=e;h.drawBound(e,g,v);if(a.isEmptyObject(S)){Z()}J();$();if(!H&&U){Y(true)}});H=false,U=false;return Q}Q.width=function(e){if(!arguments.length)return g;if(g!==e){g=e;J()}return Q};Q.height=function(e){if(!arguments.length)return v;if(v!==e){v=e;J()}return Q};Q.size=function(e){if(!arguments.length)return{width:g,height:v};if(v!==e.height||g!==e.width){v=e.height;g=e.width;J()}return Q};Q.data=function(e){if(!arguments.length)return A;U=true;var t=false;if(!f().hasSameSchema(A,e)){t=true}A=e;if(!a.isEmptyObject(S)){if(t){I=0;W();X();K();q()}else{K()}}return Q};Q.properties=function(e){if(!arguments.length)return N;x=t.extend(true,{},x,e);i.extend(true,N,x["multiLayout"]);if(x[G]){i.extend(V,x[G].animation)}if(!a.isEmptyObject(S)){X();K();q()}return Q};Q.config=function(e){if(!arguments.length)return M;M=e;return Q};Q.modules=function(e){if(!arguments.length){if(a.isEmptyObject(S)){Z()}return S}S=e;return Q};Q.parent=function(e){if(!arguments.length)return D;D=e;return Q};Q.getPropertyZone=function(e){var t=D.selectAll(".v-subtitle");var a=[];var i=[];t.each(function(){var e=[];var t=this.getBoundingClientRect();e.push([t.left,t.top]);e.push([t.right,t.top]);e.push([t.right,t.bottom]);e.push([t.left,t.bottom]);i.push(e)});if(i.length>0){a.push({name:"subtitle",bound:i})}return a};Q.dispatch=function(e){if(!arguments.length){return L}L=e;return Q};function $(){if(z.plot){for(var e=0,t=z.plot.length;e<t;e++){if(w[e].empty){ee(z.plot[e],w[e],b/2);ae()}else{S.plot[e].width(y);z.plot[e].datum(S.plot[e].data()).call(S.plot[e]);ee(z.plot[e],w[e],b)}}}C=false}function ee(e,t,a){if(t.shape){t.shape.remove()}if(C){return}var i=l.fastMeasure(t.label,k.size,k.weight,k.family);t.shape=e.append("text").attr("class",_+" "+"viz-matrix-sub-title").attr("text-anchor","middle").attr("x",y/2).attr("y",m.isIE()?a:a-i.height/2).attr("dominant-baseline","middle").style("cursor","default");O.toAttrs(t.shape);l.ellipsis(t.label,t.shape.node(),y-5,"font:"+k.weight+" "+k.size+" "+k.family)}function te(){var e=0,t=0;for(var a=0,i=w.length;a<i;a++){var r=l.fastMeasure(w[a].label,k.size,k.weight,k.family);t=r.height>t?r.height:t;e=r.width>e?r.width:e}return{width:e,height:t}}function ae(){if(++P==I){P=0;L.initialized()}}function ie(e){L.showTooltip(e)}function re(e){L.hideTooltip(e)}return Q}});define("sap/viz/feeds/ScatterMatrix",["sap/viz/feeds/Manifest","sap/viz/data/feed/Constants"],function e(t,a){var i={id:"scattermatrix",feeds:[{id:"regionColor",name:"IDS_REGIONCOLOR",type:a.Type.Dimension,min:0,max:1,aaIndex:1,acceptMND:-1},{id:"regionShape",name:"IDS_REGIONSHAPE",type:a.Type.Dimension,min:0,max:1,aaIndex:2,acceptMND:-1},{id:"primaryValues",name:"IDS_PRIMARYVALUES",type:a.Type.Measure,min:2,max:a.Constraints.INF,mgIndex:1}]};var r={viz:[],module:[],feeds:[i]};return r});define("sap/viz/modules/manifests/ScatterMatrixContainer",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/scattermatrixcontainer","sap/viz/feeds/ScatterMatrix"],function e(t,a,i,r){var s={id:"sap.viz.modules.scattermatrixcontainer",type:a.Type.Container,name:"Scatter Matrix Container",description:"Settings for the layout of subcharts for scatter matrix charts.",properties:{plotTitle:{name:"plotTitle",description:"Settings for the plot title.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set the visibility of the sub plot title."}}}},css:{".viz-matrix-sub-title.v-subtitle":{description:"Define style for the sub plot title.",value:{fill:"#000000","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"bold"}}},feeds:{id:"scattermatrix"},events:{showTooltip:a.Event.TooltipShow.desc,hideTooltip:a.Event.TooltipHide.desc},fn:i};var o={viz:[],module:[s],feeds:[].concat(r.feeds)};return o});define("sap/viz/modules/manifests/ScatterInMatrix",["sap/viz/modules/manifests/Module","sap/viz/modules/manifests/Scatter"],function e(t,a){var i={id:"sap.viz.modules.scatterInMatrix",base:"sap.viz.modules.scatter",name:"scatterInMatrix",feeds:null};var r={viz:[],module:[i].concat(a.module),feeds:[].concat(a.feeds)};return r});define("sap/viz/manifests/ScatterMatrixChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/Title","sap/viz/modules/manifests/ScatterMatrixContainer","sap/viz/modules/manifests/Legend","sap/viz/modules/manifests/XYContainer","sap/viz/chart/elements/manifests/Tooltip","sap/viz/modules/manifests/Axis","sap/viz/modules/manifests/ScatterInMatrix","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/modules/manifests/Background"],function e(t,a,i,r,s,o,n,l,u,d,h,p){var c={id:"viz/scatter_matrix",name:"IDS_SCATTERMATRIXCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/base",modules:{root:{modules:{legends:{modules:{legend:{data:{aa:[1,2]},configure:{properties:{type:"BubbleColorLegend"},propertiesOverride:{isHierarchical:{isExported:false}}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"scattermatrix",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},main:{id:"sap.viz.modules.scattermatrixcontainer",configure:{propertyCategory:"multiLayout",properties:{layout:{position:"center",priority:10}}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",data:{mg:[1]},configure:{description:"Settings for the x axis of a normal bubble or scatter plot",propertyCategory:"xAxis",properties:{type:"value",position:"bottom",gridline:{visible:false}},propertiesOverride:{label:{hideSubLevels:{isExported:false}},maxSizeRatio:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",data:{mg:[2]},configure:{description:"Settings for the y axis of a normal bubble or scatter plot",propertyCategory:"yAxis",properties:{type:"value",position:"left",gridline:{visible:false}},propertiesOverride:{label:{hideSubLevels:{isExported:false}},maxSizeRatio:{isExported:false}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"vertical"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,position:"outside",automaticInOutside:false}}},plot:{id:"sap.viz.modules.scatterInMatrix",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}}}}}}}}},dependencies:{attributes:[{targetModule:"root.main.plot.plot",target:"valueAxis1DataRange",sourceModule:"root.main.plot.xAxis",source:"range"},{targetModule:"root.main.plot.plot",target:"valueAxis2DataRange",sourceModule:"root.main.plot.yAxis",source:"range"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"valueAxis2Scale"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"valueAxis1Scale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"valueAxis1Title"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"valueAxis2Title"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapes"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.main.plot.dataLabel",listener:"showLabel",sourceModule:"root.main.plot.plot",type:"initialized.datalabel"},{targetModule:"root.main.plot.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main",type:"initialized.defaultSelection"}]}};var f={viz:[c].concat(a.viz),module:[].concat(a.module,i.module,r.module,s.module,o.module,n.module,l.module,u.module,d.module,h.module,p.module),feeds:[].concat(a.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds,l.feeds,u.feeds,d.feeds,h.feeds,p.feeds)};return f});define("sap/viz/impls/ScatterMatrixChart",["sap/viz/manifests/ScatterMatrixChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/SimpleChart",["sap/viz/manifests/Viz","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/Title","sap/viz/modules/manifests/DataLabel","sap/viz/modules/manifests/layout/Dock","sap/viz/modules/manifests/layout/Stack","sap/viz/modules/manifests/XYContainer"],function e(t,a,i,r,s,o,n){var l={id:"riv/simple",name:"IDS_SIMPLECHART",isBuiltIn:true,abstract:true,modules:{root:{id:"sap.viz.modules.rootContainer",configure:{propertyCategory:"general"},modules:{title:{id:"sap.viz.modules.title",configure:{propertyCategory:"title",properties:{layout:{position:"top",priority:0}}}},main:{id:"sap.viz.modules.xycontainer",configure:{propertyCategory:"xyContainer",properties:{layout:{position:"center",priority:10}}}},layout:{id:"sap.viz.modules.layout.dock"}}}},dependencies:{}};var u={viz:[l],module:[].concat(a.module,i.module,r.module,s.module,o.module,n.module),feeds:[].concat(a.feeds,i.feeds,r.feeds,s.feeds,o.feeds,n.feeds)};return u});define("sap/viz/impls/SimpleChart",["sap/viz/manifests/SimpleChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/StackedBarChart",["sap/viz/manifests/xy/StackedBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/StackedVerticalBarChart",["sap/viz/manifests/xy/StackedVerticalBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/StackedWaterfallChart",["sap/viz/manifests/xy/StackedWaterfallChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/modules/tagcloud/rowLayout",["sap/viz/util/TextUtils","sap/viz/util/NumberUtils"],function e(t,a){var i=function(){var e=300,i=300,r=[],s="";var o="Mixed";var n=10;var l=function(){};l.numOfTruncation=function(e){if(!arguments.length){return n}n=e;return l};l.textDirection=function(e){if(!arguments.length){return o}o=e;return l};l.width=function(t){if(!arguments.length){return e}e=t;return l};l.height=function(e){if(!arguments.length){return i}i=e;return l};l.data=function(e){if(!arguments.length){return r}r=e;return l};l.font=function(e){if(!arguments.length){return s}s=e;return l};l.layout=function(){u();return l};var u=function(){var o=r;var l,u,h,p;var c=0;var f=0,m=0,_=0;for(h=0,p=o.length;h<p;h++){var g=false;l=o[h];l.word.val=l.originalWord;l.x=undefined;l.y=undefined;var v=t.fastMeasure("MMM...",l.fontSize+"px","normal",s).width;if(m<=i){u=t.fastMeasure(o[h].word.val+"i",o[h].fontSize+"px","normal",s);l.width=u.width;l.height=u.height}else{l.width=0;l.height=0;continue}if(l.height>i||a.isNoValue(o[h].fontSize)){continue}if(h>=n&&l.width>e){continue}if(h<n&&v>e){continue}if(c+l.width>e){if(l.width<=e){c=0;d(_,h,m+f);_=h;m=m+f;f=o[h].height}else{if(v<=e-c){l.width=e-c}else{c=0;d(_,h,m+f);_=h;m=m+f;f=o[h].height;l.width=e}g=true}}if(l.height>f){f=l.height}l.x=c;l.y=m;c=c+l.width;if(g){l.word.val=t.ellipsis(l.originalWord,null,l.width,"font-weight:"+"normal"+";font-family:"+s+";font-size:"+l.fontSize+"px")}l.rotate=undefined}d(_,h,m+f)};var d=function(e,t,a){var i;for(var s=e;s<t;s++){i=r[s];if(i.y!==undefined){i.y=a}}};return l};return i});define("sap/viz/modules/tagcloud/columnLayout",["sap/viz/util/TextUtils","sap/viz/util/NumberUtils"],function e(t,a){var i=function(){var e=300,i=300,r=[],s="";var o="Mixed";var n=10;var l=function(){};l.numOfTruncation=function(e){if(!arguments.length){return n}n=e;return l};l.textDirection=function(e){if(!arguments.length){return o}o=e;return l};l.width=function(t){if(!arguments.length){return e}e=t;return l};l.height=function(e){if(!arguments.length){return i}i=e;return l};l.data=function(e){if(!arguments.length){return r}r=e;return l};l.font=function(e){if(!arguments.length){return s}s=e;return l};l.layout=function(){u();return l};var u=function(){var o=r;var l,u;var d=0,h=0;for(var p=0,c=o.length;p<c;p++){l=o[p];l.word.val=l.originalWord;l.x=undefined;l.y=undefined;var f=t.fastMeasure("MMM...",l.fontSize+"px","normal",s).width;if(h<=i){u=t.fastMeasure(o[p].word.val+"i",o[p].fontSize+"px","normal",s);l.width=u.width;l.height=u.height}else{l.width=0;l.height=0;continue}if(l.height>i||a.isNoValue(o[p].fontSize)){continue}if(p>=n&&l.width>e){continue}if(p<n&&f>e){continue}h=h+l.height;l.x=d;l.y=h;if(l.width>e){l.word.val=t.ellipsis(l.originalWord,null,e,"font-weight:"+"normal"+";font-family:"+s+";font-size:"+l.fontSize+"px")}l.rotate=undefined}};return l};return i});define("sap/viz/modules/tagcloud/wordleLayout",["sap/viz/util/TextUtils","sap/viz/util/NumberUtils"],function e(t,a){var i=function(){var e=20;var i=300,r=300,s=[],o="";var n="Mixed";var l,u,d,h;var p=10;var c=false;var f=false;var m=null,_=null,g=null,v=null;var y=null,b=null,x=false;var A=null;var M=function(){};M.numOfTruncation=function(e){if(!arguments.length){return p}p=e;return M};M.textDirection=function(e){if(!arguments.length){return n}n=e;return M};M.width=function(e){if(!arguments.length){return i}i=e;return M};M.height=function(e){if(!arguments.length){return r}r=e;return M};M.data=function(e){if(!arguments.length){return s}s=e;return M};M.font=function(e){if(!arguments.length){return o}o=e;return M};M.layout=function(){var e=false,t=0;l=[];u=[];d=[];h=[];while(!e){e=S(++t)}return M};var S=function(l){var u=s,d,h,M,S,D;for(var T=0,C=u.length;T<C;T++){if(T>=p){c=true}f=false;m=null;_=null;g=null;v=null;y=null;b=null;x=false;M=u[T];M.word.val=M.originalWord;if(a.isNoValue(M.fontSize)){continue}d=t.fastMeasure(M.word.val+"i",M.fontSize+"px","normal",o);M.width=d.width;M.height=d.height;M.x=undefined;M.y=undefined;M.rect=new w(M.width,M.height);if(!c){A=t.fastMeasure("MMM...",M.fontSize+"px","normal",o).width}else{A=null}if(!S){var L;switch(n){case"Mixed":if(M.fontSize<=e){if(i>=r){if(M.rect.w<=i&&M.rect.h<=r){L=false}else{if(M.rect.h<=i&&M.rect.w<=r){L=true}else{if(!c){if(M.rect.w>i&&i>=A&&M.rect.h<=r){L=false;f=true}else{if(M.rect.w>r&&r>=A&&M.rect.h<=i){L=true;f=true}}}}}}else{if(M.rect.h<=i&&M.rect.w<=r){L=true}else{if(M.rect.w<=i&&M.rect.h<=r){L=false}else{if(!c){if(M.rect.w>r&&r>=A&&M.rect.h<=i){L=true;f=true}else{if(M.rect.w>i&&i>=A&&M.rect.h<=r){L=false;f=true}}}}}}}else{if(i>=r){L=false;if(M.width>i){f=true}}else{L=true;if(M.width>r){f=true}}}break;case"Vertical":if(M.fontSize<=e){if(M.rect.h<=i&&M.rect.w<=r){L=true}else{if(!c){if(M.rect.w>r&&r>=A&&M.rect.h<=i){L=true;f=true}}}}else{L=true;if(M.width>r){f=true}}break;case"Horizontal":if(M.fontSize<=e){if(M.rect.w<=i&&M.rect.h<=r){L=false}else{if(!c){if(M.rect.w>i&&i>=A&&M.rect.h<=r){L=false;f=true}}}}else{L=false;if(M.width>i){f=true}}break}if(L!==undefined){S=M;if(!f){if(L){M.rect.rotate()}}else{if(L){M.rect.rotate();M.rect.h=r}else{M.rect.w=i}}M.rect.position(i/2,r/2);D=true}}else{if(D===false&&h){if(M.width>=h.width&&M.height>=h.height){continue}}var I=[];I.push(S);while(I.length!==0){var k=I.shift();if(k.child){k.child.forEach(function(e){if(e){I.push(e)}})}D=z(M,k,S);if(D){break}}if(!D){if(f){if(!x){if(b===0||b===2){M.rect.w=2*(i-m>m?m:i-m);M.rect.h=v;M.rect.position(m,_)}else if(b===1){M.rect.w=i-(m-g/2);M.rect.h=v;M.rect.position(m-g/2+(i-(m-g/2))/2,_)}else if(b===3){M.rect.w=m+g/2;M.rect.h=v;M.rect.position((m+g/2)/2,_)}E(M.rect,S);y.child[b]=M;M.grandParent=b>=2?b-2:b+2;M.rect.rotated=false;D=true}else{if(b===1||b===3){M.rect.w=g;M.rect.h=2*(r-_>_?_:r-_);M.rect.position(m,_)}else if(b===2){M.rect.w=g;M.rect.h=r-(_-v/2);M.rect.position(m,_-v/2+(r-(_-v/2))/2)}else if(b===0){M.rect.w=g;M.rect.h=_+v/2;M.rect.position(m,(_+v/2)/2)}E(M.rect,S);y.child[b]=M;M.grandParent=b>=2?b-2:b+2;M.rect.rotated=true;D=true}}}else{f=false;m=null;_=null;g=null;v=null;y=null;b=null;x=false}}h=d;if(D){M.x=M.rect.x;M.y=M.rect.y;var O=-d.y-d.height/2,N=M.rect.rotated;if(!f){if(N){M.x-=O;M.rotate=90}else{M.y+=O;M.rotate=0}}else{if(N){M.x-=O;M.rotate=90;M.word.val=t.ellipsis(M.originalWord,null,M.rect.h,"font-weight:"+"normal"+";font-family:"+o+";font-size:"+M.fontSize+"px")}else{M.y+=O;M.rotate=0;M.word.val=t.ellipsis(M.originalWord,null,M.rect.w,"font-weight:"+"normal"+";font-family:"+o+";font-size:"+M.fontSize+"px")}}}}u.forEach(function(e){delete e.child;delete e.rect;delete e.grandParent});return true};function z(e,t,a){var s=e.rect;var o=t.child;var l=t.grandParent;if(!o){o=[];t.child=o}var u,d;var h,p;var M,S;switch(n){case"Mixed":for(p=0;p<2;p++){if(p===1){s.rotate()}for(h=0;h<4;h++){if(o[h]){continue}if(l===h){continue}if(p===0){s.w=e.width;s.h=e.height}else{s.w=e.height;s.h=e.width}switch(h){case 0:u=t.rect.x;d=t.rect.y0-s.h/2;break;case 1:d=t.rect.y;u=t.rect.x1+s.w/2;break;case 2:u=t.rect.x;d=t.rect.y1+s.h/2;break;case 3:d=t.rect.y;u=t.rect.x0-s.w/2;break}if(!f&&!c){m=u;_=d;g=s.w;v=s.h;y=t;b=h;if(p===1){x=true}else{x=false}}s.position(u,d);if(s.x0>=0&&s.y0>=0&&s.x1<=i&&s.y1<=r){if(D(s,a)){E(s,a);o[h]=e;e.grandParent=h>=2?h-2:h+2;return true}}else{if(!f&&!c){if(!x){if(_-v/2>=0&&_+v/2<=r){if(b===0||b===2){M=2*(i-m>m?m:i-m);if(M>=A){s.w=M;s.h=v;s.position(m,_);if(D(s,a)){f=true}else{f=false}}}else if(b===1){if(i-(m-g/2)>=A){s.w=i-(m-g/2);s.h=v;s.position(m-g/2+(i-(m-g/2))/2,_);if(D(s,a)){f=true}else{f=false}}}else if(b===3){if(m+g/2>=A){s.w=m+g/2;s.h=v;s.position((m+g/2)/2,_);if(D(s,a)){f=true}else{f=false}}}}}else{if(m-g/2>=0&&m+g/2<=i){if(b===1||b===3){S=2*(r-_>_?_:r-_);if(S>=A){s.w=g;s.h=S;s.position(m,_);if(D(s,a)){f=true}else{f=false}}}else if(b===2){if(r-(_-v/2)>=A){s.w=g;s.h=r-(_-v/2);s.position(m,_-v/2+(r-(_-v/2))/2);if(D(s,a)){f=true}else{f=false}}}else if(b===0){if(_+v/2>=A){s.w=g;s.h=_+v/2;s.position(m,(_+v/2)/2);if(D(s,a)){f=true}else{f=false}}}}}}}}}break;case"Vertical":s.rotate();for(h=0;h<4;h++){if(o[h]){continue}if(l===h){continue}s.w=e.height;s.h=e.width;switch(h){case 0:u=t.rect.x;d=t.rect.y0-s.h/2;break;case 1:d=t.rect.y;u=t.rect.x1+s.w/2;break;case 2:u=t.rect.x;d=t.rect.y1+s.h/2;break;case 3:d=t.rect.y;u=t.rect.x0-s.w/2;break}if(!f&&!c){m=u;_=d;g=s.w;v=s.h;y=t;b=h;x=true}s.position(u,d);if(s.x0>=0&&s.y0>=0&&s.x1<=i&&s.y1<=r){if(D(s,a)){E(s,a);o[h]=e;e.grandParent=h>=2?h-2:h+2;return true}}else{if(!f&&!c){if(m-g/2>=0&&m+g/2<=i){if(b===1||b===3){S=2*(r-_>_?_:r-_);if(S>=A){s.w=g;s.h=S;s.position(m,_);if(D(s,a)){f=true}else{f=false}}}else if(b===2){if(r-(_-v/2)>=A){s.w=g;s.h=r-(_-v/2);s.position(m,_-v/2+(r-(_-v/2))/2);if(D(s,a)){f=true}else{f=false}}}else if(b===0){if(_+v/2>=A){s.w=g;s.h=_+v/2;s.position(m,(_+v/2)/2);if(D(s,a)){f=true}else{f=false}}}}}}}break;case"Horizontal":for(h=0;h<4;h++){if(o[h]){continue}if(l===h){continue}s.w=e.width;s.h=e.height;switch(h){case 0:u=t.rect.x;d=t.rect.y0-s.h/2;break;case 1:d=t.rect.y;u=t.rect.x1+s.w/2;break;case 2:u=t.rect.x;d=t.rect.y1+s.h/2;break;case 3:d=t.rect.y;u=t.rect.x0-s.w/2;break}if(!f&&!c){m=u;_=d;g=s.w;v=s.h;y=t;b=h;x=false}s.position(u,d);if(s.x0>=0&&s.y0>=0&&s.x1<=i&&s.y1<=r){if(D(s,a)){E(s,a);o[h]=e;e.grandParent=h>=2?h-2:h+2;return true}}else{if(!f&&!c){if(_-v/2>=0&&_+v/2<=r){if(b===0||b===2){M=2*(i-m>m?m:i-m);if(M>=A){s.w=M;s.h=v;s.position(m,_);if(D(s,a)){f=true}else{f=false}}}else if(b===1){if(i-(m-g/2)>=A){s.w=i-(m-g/2);s.h=v;s.position(m-g/2+(i-(m-g/2))/2,_);if(D(s,a)){f=true}else{f=false}}}else if(b===3){if(m+g/2>=A){s.w=m+g/2;s.h=v;s.position((m+g/2)/2,_);if(D(s,a)){f=true}else{f=false}}}}}}}break}if(n==="Mixed"||n==="Vertical"){s.rotate()}return false}function D(e,t){var a=e.northEast(t.rect);var i=e.southEast(t.rect);var r=e.southWest(t.rect);var s=e.northWest(t.rect);if(l.length===0){l.push(t.rect)}if(u.length===0){u.push(t.rect)}if(d.length===0){d.push(t.rect)}if(h.length===0){h.push(t.rect)}var o;if(a){for(o=0;o<l.length;o++){if(!e.notInterects(l[o])){return false}}}if(i){for(o=0;o<u.length;o++){if(!e.notInterects(u[o])){return false}}}if(r){for(o=0;o<d.length;o++){if(!e.notInterects(d[o])){return false}}}if(s){for(o=0;o<h.length;o++){if(!e.notInterects(h[o])){return false}}}return true}function E(e,t){var a=e.northEast(t.rect);var i=e.southEast(t.rect);var r=e.southWest(t.rect);var s=e.northWest(t.rect);if(a){l.push(e)}if(i){u.push(e)}if(r){d.push(e)}if(s){h.push(e)}}function w(e,t){this.w=e;this.h=t;this.rotated=false}w.prototype={position:function(e,t){this.x=e;this.y=t;var a=this.w/2,i=this.h/2;this.x0=e-a;this.x1=e+a;this.y0=t-i;this.y1=t+i},notInterects:function(e){return this.x1<=e.x0||this.x0>=e.x1||this.y1<=e.y0||this.y0>=e.y1},northEast:function(e){return this.x1>=e.x0&&this.y0<=e.y0},southEast:function(e){return this.y1>=e.y0&&this.x1>=e.x1},southWest:function(e){return this.y1>=e.y1&&this.x0<=e.x1},northWest:function(e){return this.y0<=e.y1&&this.x0<=e.x0},rotate:function(){this.rotated=!this.rotated;var e=this.h;this.h=this.w;this.w=e}};return M};return i});define("sap/viz/modules/tagcloud",["sap/viz/base/utils/oo","sap/viz/modules/Base","sap/viz/base/utils/TypeUtils","sap/viz/modules/dispatch","sap/viz/util/ColorSeriesGenerator","sap/viz/lang/langManager","sap/viz/modules/tagcloud/rowLayout","sap/viz/modules/tagcloud/columnLayout","sap/viz/modules/tagcloud/wordleLayout","sap/viz/util/MeasureBasedColoring","sap/viz/util/NumberUtils","sap/viz/base/utils/ObjectUtils","sap/viz/modules/util/tooltipDataHandler","sap/viz/base/utils/Objects","sap/viz/modules/util/BoundUtil","sap/viz/modules/util/defaultSelectionUtil","sap/viz/modules/Constants","sap/viz/util/TextUtils","sap/viz/base/UADetector"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g,v,y){var b="v-datapoint",x=g.CSS.CLASS.MORPHABLEDATAPOINT;var A=b+" "+x;var M="v-hovershadow";var S={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",color:"#555555",hoverTextColor:"#FFFFFF",selectedTextColor:"#FFFFFF"};var z=o.get("IDS_ISNOVALUE");var D=10;var E=16;var w=14;var T=1.5;var C=function(e,t){C.superclass.constructor.apply(this,arguments);this._tag_realMinFontSize=20;this._tag_maxRatioToEdge=.8;this._tag_minFontSize=-1;this._tag_maxFontSize=-1;this._tag_width=400;this._tag_height=200;this._tag_wrap=null;this._tag_wrapRect=null;this._tag_chartData={};this._tag_tagArr=[];this._tag_maxfont=-1;this._tag_minfont=-1;this._tag_fontColorScale=undefined;this._tag_selectionList=[];this._tag_effectManager=t.effectManager;this._tag_randomSuffix=p.guid();this._tag_minFontFamily=Number.MAX_VALUE;this._tag_maxFontFamily=Number.MIN_VALUE;this._tag_hasNullValue=false;this._tag_tooltipVisible=true;this._tag_style={};this._tag_opacity=1;this._tag_options=e.props(null);this._tag_textDirection=this._tag_options.layout.textDirection;this._tag_layoutMode=this._tag_options.layout.mode;this._tag_numOfTruncation=this._tag_options.numOfTruncation;this._tag_eDispatch=new r("initialized","showTooltip","hideTooltip");this._tag_isDataSchemaChanged=false;this._tag_isDataLoading=true;this._tag_isSizeChanged=false;this._tag_isDatasetChanged=false;this._tag_hasDefaultSelection=false;this._tagfn_getCSSStyle(t)};t.extend(C,a);C.prototype.render=function(e){var t=this;e.each(function(){m.drawBound(e,t._tag_width,t._tag_height,undefined,true);t._tagfn_calculateTagPosition();var a=t._tagfn_filterData();t._tag_wrap=d3.select(this);t._tag_wrapRect=t._tag_wrap.node().getBoundingClientRect();if(t._tag_isDatasetChanged&&!t._tag_wrap.selectAll("g.v-datashape").empty()||t._tag_isSizeChanged){t._tag_wrap.selectAll("g.v-datashape").remove()}else if(!t._tag_wrap.selectAll("g.v-datashape").empty()){t._tag_wrap.selectAll("g.v-datashape").select("rect").remove()}t._tag_wrap.attr("style","cursor:default");var i=t._tag_wrap.selectAll("g.v-datashape").data(a,function(e,t){return(e.word?e.word.val:"")+" "+(e.wordFontFamily?e.wordFontFamily.val:"")+" "+(e.wordSize?e.wordSize.val:"")+t});i.selectAll("text").data(function(e,t){return e}).text(function(e,t){return e.word.val});var r=i.enter().append("g").attr("class","v-datashape").attr("transform","").append("text").text(function(e,t){return e.word.val}).attr("id",function(e,a){return"TAG_ID_"+a+t._tag_randomSuffix}).attr("class",A).attr("visibility",function(e,t){var a="visible";if(h.isNoValue(e.fontSize)||e.x===undefined||e.y===undefined){a="hidden"}return a}).attr("font-size",function(e,t){return e.fontSize}).attr("font-family",S.fontfamily);i.exit().attr("transform","translate(-1000, -1000)");i.selectAll(".v-datapoint").attr("fill",function(e,a){var i;if(t._tag_fontColorScale&&e.wordFontFamily!==null&&e.wordFontFamily.val!==null){var r,s,o=t._tag_fontColorScale.domain();var n=t._tag_fontColorScale.domainInfo;for(r=0,s=o.length-1;r<s;r++){if(e.wordFontFamily.val!==null){if(e.wordFontFamily.val>o[r][0]&&e.wordFontFamily.val<o[r][1]){break}else if(!n[r].isLeftOpen&&e.wordFontFamily.val===o[r][0]){break}else if(!n[r].isRightOpen&&e.wordFontFamily.val===o[r][1]){break}}}i=t._tag_fontColorScale(o[r])}else{i=S.color}var l={fillColor:i,drawingEffect:"normal"};var u=t._tag_effectManager.register(l);e.originalColor=u;return u}).attr("text-anchor",function(){if(t._tag_layoutMode==="Wordle"){return"middle"}else{return"start"}});i.selectAll("text").attr("fill-opacity",t._tag_opacity);if(t._tagfn_enableAnimation()){var s=false;if(y.isFirefox()){i=i.select("text");s=true}i.transition().attr("transform",function(e,a){var i="";if(e.x!==undefined&&e.y!==undefined&&e.y<t._tag_height&&e.x<t._tag_width){i="translate("+[e.x,e.y]+")"}else{i="translate(-1000, -1000)"}if(e.rotate){i=i+" rotate("+e.rotate+")"}return i}).duration(800).delay(100).each("end",function(e,i){var r="";if(e.x!==undefined&&e.y!==undefined&&e.y<t._tag_height&&e.x<t._tag_width){r="translate("+[e.x,e.y]+")"}else{r="translate(-1000, -1000)"}if(e.rotate){r=r+" rotate("+e.rotate+")"}if(s){this.parentNode.setAttribute("transform",r);this.removeAttribute("transform")}else{this.setAttribute("transform",r)}if(i===a.length-1&&t._tag_eDispatch){t._tag_eDispatch.initialized()}})}else{i.attr("transform",function(e,t){var a="";if(e.x!==undefined&&e.y!==undefined){a="translate("+[e.x,e.y]+")"}else{a="translate(-1000, -1000)"}if(e.rotate){a=a+" rotate("+e.rotate+")"}return a});setTimeout(t._tag_eDispatch.initialized,0)}t._tag_isDataSchemaChanged=false,t._tag_isDataLoading=false,t._tag_isSizeChanged=false,t._tag_isDatasetChanged=false})};C.prototype._tagfn_changeExtremeFont=function(){if(this._tag_tagArr.length===0){return}if(this._tag_tagArr.length<D){D=this._tag_tagArr.length}var e=0;for(var t=0;t<D;t++){e+=this._tag_tagArr[t].originalWord.length}var a=this._tag_tagArr[0].wordSize.val;var i=this._tag_tagArr[this._tag_tagArr.length-1].wordSize.val;var r=this._tag_tagArr[Math.ceil((this._tag_tagArr.length-1)/2)].wordSize.val;var s;if(a===i){s=.5}else{if(r===i){s=1}else{s=(a-i)/2/(r-i);if(s>1){s=1}}}this._tag_maxfont=T*s*Math.sqrt(this._tag_width*this._tag_height/(e/D*this._tag_tagArr.length));var o=this._tag_width<this._tag_height?this._tag_width:this._tag_height;if(o<200){this._tag_realMinFontSize=o/10}if(this._tag_maxfont<=this._tag_realMinFontSize){this._tag_maxfont=this._tag_realMinFontSize}else{if(this._tag_tagArr.length===1){this._tag_maxRatioToEdge=.8}else if(this._tag_tagArr.length===2){this._tag_maxRatioToEdge=.58}else if(this._tag_tagArr.length>2&&this._tag_tagArr.length<=7){this._tag_maxRatioToEdge=.28}else{this._tag_maxRatioToEdge=.16}if(this._tag_maxfont>o*this._tag_maxRatioToEdge){this._tag_maxfont=o*this._tag_maxRatioToEdge}if(this._tag_maxfont<=this._tag_realMinFontSize){this._tag_maxfont=this._tag_realMinFontSize}else{var n;if(this._tag_layoutMode==="Wordle"&&this._tag_textDirection==="Mixed"){n=this._tag_width>this._tag_height?this._tag_width:this._tag_height}else if(this._tag_layoutMode==="Wordle"&&this._tag_textDirection==="Vertical"){n=this._tag_height}else{n=this._tag_width}var l;if(this._tag_numOfTruncation===0){l=this._tag_tagArr[0].originalWord+"i"}else{if(this._tag_tagArr[0].originalWord.length<=E){l=this._tag_tagArr[0].originalWord+"i"}else{l=this._tag_tagArr[0].originalWord.substring(0,w)+"..."}}var u=v.fastMeasure(l,this._tag_maxfont+"px","normal",S.fontfamily).width;if(u>n){this._tag_maxfont=this._tagfn_recalculateExtremeFont(Math.ceil(this._tag_maxfont),n,l)}}}this._tag_minfont=this._tag_maxfont/4};C.prototype._tagfn_recalculateExtremeFont=function(e,t,a){return this._tagfn_binarySearchExtremeFont(this._tag_realMinFontSize,e,t,a)};C.prototype._tagfn_binarySearchExtremeFont=function(e,t,a,i){if(e>=t){return e}else{var r=Math.floor((e+t)/2);var s=v.fastMeasure(i,r+"px","normal",S.fontfamily).width;if(s<=a){var o=r+1;var n=v.fastMeasure(i,o+"px","normal",S.fontfamily).width;if(n>a){return r}else{return this._tagfn_binarySearchExtremeFont(o,t,a,i)}}else{return this._tagfn_binarySearchExtremeFont(e,r-1,a,i)}}};C.prototype.width=function(e){if(!arguments.length){return this._tag_width}if(!this._tag_isSizeChanged&&e===this._tag_width){this._tag_isSizeChanged=false}else{this._tag_isSizeChanged=true;this._tag_width=e;this._tagfn_changeExtremeFont()}this._tagfn_calculateFontSize(this._tag_minFontSize,this._tag_maxFontSize);return this};C.prototype.height=function(e){if(!arguments.length){return this._tag_height}if(!this._tag_isSizeChanged&&e===this._tag_height){this._tag_isSizeChanged=false}else{this._tag_isSizeChanged=true;this._tag_height=e;this._tagfn_changeExtremeFont()}this._tagfn_calculateFontSize(this._tag_minFontSize,this._tag_maxFontSize);return this};C.prototype.data=function(e){if(!arguments.length){return this._tag_chartData}var t={};t.words=e.getAnalysisAxisDataByIdx(0).values[0];var a=e.getMeasureValuesGroupDataByIdx(0);if(a&&e.getMeasureValuesGroupDataByIdx(0).values.length>0){t.wordsSize=e.getMeasureValuesGroupDataByIdx(0).values[0]}else{t.wordsSize=undefined}if(a.values[0]&&a.values[0].rows[0][0].info&&a.values[0].rows[0][0].info.defaultSelection){this._tag_hasDefaultSelection=true}else{this._tag_hasDefaultSelection=false}var i=e.getMeasureValuesGroupDataByIdx(1);if(i&&i.values.length>0){t.wordsFontFamily=e.getMeasureValuesGroupDataByIdx(1).values[0]}else{t.wordsFontFamily=undefined;this._tag_fontColorScale=undefined}this._tagfn_parseData(t);this._tag_isDatasetChanged=true;this._tag_isDataSchemaChanged=this._tagfn_isDatasetChanged(t);this._tag_chartData=t;return this};C.prototype.properties=function(e){if(!arguments.length){return this._tag_options}f.extend(true,this._tag_options,e);this._tagfn_parseOption();return this};C.prototype.dispatch=function(e){if(!arguments.length){return this._tag_eDispatch}this._tag_eDispatch=e;return this};C.prototype.mbcLegendInfo=function(){var e=this._tag_chartData.wordsFontFamily?this._tag_chartData.wordsFontFamily.col:"";return{colorScale:this._tag_fontColorScale,title:e}};C.prototype.parent=function(){return this._tag_wrap};C.prototype.highlight=function(e,t){if(!i.isArray(e)){e=[e]}for(var a=0,r=e.length;a<r;a++){e[a].setAttribute("fill-opacity",1);if(t){e[a].setAttribute("fill",S.hoverTextColor)}else{e[a].setAttribute("fill",S.selectedTextColor)}if(e[a].parentNode){var s=e[a].parentNode;var o=e[a].getBBox();if(d3.select(s).select("rect")[0][0]===null){d3.select(s).insert("rect","text").attr("class",M).attr("width",o.width).attr("height",o.height).attr("x",o.x).attr("y",o.y).style("visibility","visible").attr("fill",this._tag_style.hoverline.fill)}else{d3.select(s).select("rect").style("visibility","visible")}}}if(this._tag_hasDefaultSelection){_.clearSelectionInfo(this._tag_wrap,true,e)}};C.prototype.unhighlight=function(e,t,a){if(!i.isArray(e)){e=[e]}if(!t&&!a){for(var r=0;r<e.length;r++){e[r].setAttribute("fill",d3.select(e[r]).data()[0]["originalColor"]);e[r].setAttribute("fill-opacity",.4);d3.select(e[r].parentNode).select("rect").style("visibility","hidden")}}else{if(!t){for(var s=0;s<e.length;s++){e[s].setAttribute("fill",d3.select(e[s]).data()[0]["originalColor"]);if(a){e[s].setAttribute("fill-opacity",1);d3.select(e[s].parentNode).select("rect").style("visibility","hidden")}else{e[s].setAttribute("fill-opacity",.4)}}}}if(this._tag_hasDefaultSelection){_.clearSelectionInfo(this._tag_wrap,false,e)}};C.prototype.clear=function(e){if(e===null||e===false||e===undefined){var t=this._tag_wrap.selectAll(".v-datapoint");t.attr("fill-opacity",1);this._tag_opacity=1;if(this._tag_hasDefaultSelection){_.clearSelectionInfo(this._tag_wrap,false,t)}}else{this._tag_wrap.selectAll(".v-datapoint").attr("fill-opacity",.4)}};C.prototype.getDatapointsByRange=function(e){var t=this._tag_wrap.selectAll(".v-datapoint")[0],a=[],i=e.ctx.ranges,r;for(var s=0,o=t.length;s<o;s++){r=t[s].__data__.wordFontFamily.val;if(e.val==="N/A"){if(h.isNoValue(r)){a.push(t[s])}}else{if(r<i.endValue&&r>i.startValue){a.push(t[s])}else{if(!i.isLeftOpen&&r===i.startValue){a.push(t[s])}else if(!i.isRightOpen&&r===i.endValue){a.push(t[s])}}}}return a};C.prototype._tagfn_enableAnimation=function(){var e=false;if(this._tag_isDataLoading){e=this._tag_options.animation.dataLoading}else if(this._tag_isDatasetChanged){e=this._tag_options.animation.dataUpdating}else if(this._tag_isSizeChanged){e=this._tag_options.animation.resizing}return e};C.prototype._tagfn_isDatasetChanged=function(e){var t=this._tag_chartData,a=false;if(t.words&&e.words){if(t.words.rows.length!==e.words.rows.length){a=true}else if(t.wordsFontFamily&&!e.wordsFontFamily||!t.wordsFontFamily&&e.wordsFontFamily){a=true}else{var i=t.words.rows,r=e.words.rows;for(var s=0,o=i.length;s<o;s++){if(i[s].val!==r[s].val){a=true;break}}}}return a};C.prototype._tagfn_parseOption=function(){if(this._tag_options.layout instanceof Object){this._tag_layoutMode=this._tag_options.layout.mode}else{this._tag_layoutMode=this._tag_options.layout}if(this._tag_layoutMode!=="Row"&&this._tag_layoutMode!=="Column"&&this._tag_layoutMode!=="Wordle"){this._tag_layoutMode="Wordle"}this._tag_textDirection=this._tag_options.layout.textDirection;if(this._tag_textDirection!=="Mixed"&&this._tag_textDirection!=="Vertical"&&this._tag_textDirection!=="Horizontal"){this._tag_textDirection="Mixed"}this._tag_tooltipVisible=this._tag_options.tooltip.enabled;if(this._tag_fontColorScale){this._tagfn_calculateFontFamily(this._tag_minFontFamily,this._tag_maxFontFamily,this._tag_hasNullValue)}this._tag_numOfTruncation=this._tag_options.numOfTruncation;if(!this._tagfn_isUnsignedInteger(this._tag_numOfTruncation)){this._tag_numOfTruncation=10}};C.prototype._tagfn_sortData=function(){this._tag_tagArr.sort(function(e,t){if(e.wordSize&&t.wordSize){if(t.wordSize.val===e.wordSize.val){return e.order-t.order}return t.wordSize.val-e.wordSize.val}})};C.prototype._tagfn_isUnsignedInteger=function(e){var t=/^\d+$/;return t.test(e)};C.prototype._tagfn_filterData=function(){var e=[],t;for(var a=0,i=this._tag_tagArr.length;a<i;a++){t=this._tag_tagArr[a];if(!(h.isNoValue(t.fontSize)||t.x===undefined||t.y===undefined||t.y>this._tag_height||t.x>this._tag_width)){e.push(t)}}return e};C.prototype._tagfn_parseData=function(e){this._tag_tagArr=[];var t,a,i,r;this._tag_minFontFamily=undefined,this._tag_maxFontFamily=undefined,this._tag_hasNullValue=false;for(var s=0,o=e.words.rows.length;s<o;s++){if(e.words&&e.words.rows[s].val&&e.wordsSize&&e.wordsSize.rows[0][s]&&!h.isNoValue(e.wordsSize.rows[0][s].val)){r={};r.word=e.words.rows[s];r.wordSize=e.wordsSize?e.wordsSize.rows[0][s]:undefined;r.wordFontFamily=e.wordsFontFamily?e.wordsFontFamily.rows[0][s]:undefined;r.originalWord=r.word.val;r.order=s;r.val=[];r.ctx=[];r.info=[];if(r.wordSize){r.val.push(e.wordsSize.rows[0][s].val);r.ctx.push(e.wordsSize.rows[0][s].ctx);r.info.push(e.wordsSize.rows[0][s].info);if(r.wordSize.val!==null){if(t===undefined||r.wordSize.val<t){t=r.wordSize.val}if(a===undefined||r.wordSize.val>a){a=r.wordSize.val}}}if(r.wordFontFamily){r.val.push(r.wordFontFamily.val);r.ctx.push(r.wordFontFamily.ctx);r.info.push(r.wordFontFamily.info);i=r.wordFontFamily.val;if(i===null){this._tag_hasNullValue=true}else{if(this._tag_minFontFamily===undefined||i<this._tag_minFontFamily){this._tag_minFontFamily=r.wordFontFamily.val}if(this._tag_maxFontFamily===undefined||i>this._tag_maxFontFamily){this._tag_maxFontFamily=r.wordFontFamily.val}}}this._tag_tagArr.push(r)}}this._tag_minFontSize=t;this._tag_maxFontSize=a;if(e.wordsFontFamily){this._tagfn_calculateFontFamily(this._tag_minFontFamily,this._tag_maxFontFamily,this._tag_hasNullValue)}else{this._tag_fontColorScale=undefined}this._tagfn_sortData()};C.prototype._tagfn_calculateFontSize=function(e,t){var a=this._tag_tagArr.length;var i,r,s;if(e===0){e=1;t+=1}if(a>1){r=(this._tag_maxfont-this._tag_minfont*(t/e))/(1-t/e);i=(this._tag_minfont-r)/e}else{r=0;i=this._tag_maxfont/(e<0?-e:e)}for(var o=0,n=this._tag_tagArr.length;o<n;o++){if(this._tag_tagArr[o].wordSize&&e!==t){s=Math.round(i*this._tag_tagArr[o].wordSize.val+r)}else{s=this._tag_maxfont}this._tag_tagArr[o].fontSize=this._tag_tagArr[o].wordSize.val===null?null:s}};C.prototype._tagfn_calculateFontFamily=function(e,t,a){var i={numberOfTicks:5,startColor:this._tag_options.startColor,endColor:this._tag_options.endColor,nullColor:S.color,legendValues:this._tag_options.legendValues};if(this._tag_options.colorPalette){i.colorPalette=this._tag_options.colorPalette}this._tag_fontColorScale=d.getColorScale(e,t,a,i);d.fillContexts2DomainInfo4MBC(this._tag_fontColorScale,this._tag_tagArr,function(e){return e.wordFontFamily.val},function(e){return e.wordFontFamily.ctx.path})};C.prototype._tagfn_calculateTagPosition=function(){var e;if(this._tag_layoutMode==="Column"){e=l()}else if(this._tag_layoutMode==="Row"){e=n()}else if(this._tag_layoutMode==="Wordle"){e=u()}if(e!==undefined){var t=(new Date).valueOf();e.width(this._tag_width).height(this._tag_height).data(this._tag_tagArr).font(S.fontfamily).textDirection(this._tag_textDirection).numOfTruncation(this._tag_numOfTruncation).layout();var a=(new Date).valueOf()}};C.prototype._tagfn_handleNullValue=function(e){return e===null||e===undefined?z:e};C.prototype._tagfn_getCSSStyle=function(e){this._tag_style.hoverline=e.styleManager.queryDefault(M)};C.prototype.destroy=function(){var e=0,t=0;if(this._tag_fontColorScale){if(this._tag_fontColorScale.domainInfo){for(e=0;e<this._tag_fontColorScale.domainInfo.length;e++){if(this._tag_fontColorScale.domainInfo[e]){if(this._tag_fontColorScale.domainInfo[e].dpPaths){this._tag_fontColorScale.domainInfo[e].dpPaths=null}this._tag_fontColorScale.domainInfo[e]=null}}this._tag_fontColorScale.domainInfo=null}this._tag_fontColorScale=null}if(this._tag_chartData){if(this._tag_chartData.wordsSize){if(this._tag_chartData.wordsSize.rows){for(e=0;e<this._tag_chartData.wordsSize.rows.length;e++){this._tag_chartData.wordsSize.rows[e]=null}this._tag_chartData.wordsSize.rows=null}this._tag_chartData.wordsSize=null}this._tag_chartData.words=null;this._tag_chartData=null}if(this._tag_tagArr){for(e=0;e<this._tag_tagArr.length;e++){this._tag_tagArr[e].val=null;this._tag_tagArr[e].ctx=null;this._tag_tagArr[e].info=null;this._tag_tagArr[e]=null}this._tag_tagArr=null}if(this._tag_wrap){for(e=0;e<this._tag_wrap.length;e++){if(this._tag_wrap[e]){for(t=0;t<this._tag_wrap[e].length;t++){if(this._tag_wrap[e][t].remove){this._tag_wrap[e][t].remove()}this._tag_wrap[e][t]=null}this._tag_wrap[e]=null}}this._tag_wrap=null}this._tag_wrapRect=null;this._tag_selectionList=null;this._tag_effectManager=null;this._tag_randomSuffix=null;this._tag_style=null;this._tag_options=null;this._tag_eDispatch=null;this._tag_layoutMode=null;this._tag_textDirection=null};return C});define("sap/viz/feeds/TagCloud",["sap/viz/feeds/Manifest","sap/viz/data/feed/Constants"],function e(t,a){var i={id:"tagCloud",feeds:[{id:"tagName",name:"IDS_TAGNAME",type:a.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:-1,maxStackedDims:1},{id:"tagWeight",name:"IDS_TAGWEIGHT",type:a.Type.Measure,min:1,max:1,mgIndex:1},{id:"tagFamily",name:"IDS_TAGFAMILY",type:a.Type.Measure,min:0,max:1,mgIndex:2}]};var r={viz:[],module:[],feeds:[i]};return r});define("sap/viz/modules/manifests/TagCloud",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/tagcloud","sap/viz/feeds/TagCloud"],function e(t,a,i,r){var s={id:"sap.viz.modules.tagcloud",type:a.Type.Chart,name:"tagcloud",properties:{layout:{name:"layout",supportedValueType:"Object",supportedValues:{mode:{name:"mode",supportedValueType:"String",supportedValues:["Row","Column","Wordle"],defaultValue:"Wordle",description:"Set the layout mode of the tag cloud"},textDirection:{name:"textDirection",supportedValueType:"String",supportedValues:["Mixed","Vertical","Horizontal"],defaultValue:"Mixed",description:"Set the direction of text in the tag cloud. This property only takes effect if layout mode is set to 'Wordle'."}},description:"Settings for layout of the tag cloud"},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the data loading animation is enabled"},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the data updating animation is enabled"},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the resizing animation is enabled"}},description:"Settings for animations in the plot area",example:"<a href='"+a.DocExample.SnippetUrl+"8535' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},startColor:{name:"startColor",supportedValueType:"String",defaultValue:"#C2E3A9",description:"Set the starting color of the tag cloud"},endColor:{name:"endColor",supportedValueType:"String",defaultValue:"#73C03C",description:"Set the end color of the tag cloud"},colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:undefined,description:'Set the color palette for the various sectors. For example, ["#748CB2", "#9CC677", "#EACF5E", "#F9AD79", "#D16A7C"].'},legendValues:{name:"legendValues",supportedValueType:"IntArray",defaultValue:undefined,description:"Set the MBC legend values. For example, [10,11,12,13,14,15]. "+"The values in the legendValues array should be in ascending order. If the number of values in the array is smaller than the MBC legend segment number, "+"the MBC legend automatically calculates the values according to the data. If the number of values in the legendValues array is larger than the MBC legend segment number, "+'only the first "segment number + 1" values are used.'},tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the tooltip is enabled"}},isExported:false,description:"Settings for the tooltip"},numOfTruncation:{name:"numOfTruncation",supportedValueType:"PositiveInt",defaultValue:10,isExported:false,description:"Set the number of words which can be truncated"}},events:{initialized:a.Event.Initialized.desc,selectData:a.Event.SelectData.desc,deselectData:a.Event.DeSelectData.desc,showTooltip:a.Event.TooltipShow.desc,hideTooltip:a.Event.TooltipHide.desc},feeds:{id:"tagCloud"},css:{".v-hovershadow":{description:"Define the style for hover shadow color",value:{fill:"#999999"}}},configure:null,fn:i};var o={viz:[],module:[s],feeds:[].concat(r.feeds)};return o});define("sap/viz/manifests/TagCloudChart",["sap/viz/manifests/Viz","sap/viz/modules/Constants","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/BaseSingleChart","sap/viz/chart/elements/manifests/Tooltip","sap/viz/modules/manifests/TagCloud","sap/viz/chart/elements/manifests/controller/Interaction"],function e(t,a,i,r,s,o,n){var l={id:"viz/tagcloud",name:"IDS_TAGCLOUDCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/base/single",modules:{root:{configure:{properties:{layout:{adjustPolicy:a.LAYOUT_ADJUST_POLICY.RELAYOUT}},propertiesOverride:{layout:{hideAxisTitleFirst:{isExported:false}}}},modules:{legends:{modules:{layout:{id:"sap.viz.modules.layout.stack"},legend:{feeds:[],configure:{description:"Settings for the measure-based coloring legend. The measure-based coloring legend is a bar containing various colors and a value scale indicating the relationship between the values and those colors. ",properties:{type:"MeasureBasedColoringLegend",layout:{position:"right",priotity:1}},propertiesOverride:{isHierarchical:{isExported:false},isScrollable:{isExported:false},formatString:{isExported:true}}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"tagcloud",orientation:"bottom"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"]}}},main:{modules:{dataLabel:null,plot:{id:"sap.viz.modules.tagcloud",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[{targetModule:"root.legends.legend",target:"mbcLegendInfo",sourceModule:"root.main.plot",source:"mbcLegendInfo"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]}};var u={viz:[l].concat(r.viz),module:[].concat(r.module,i.module,s.module,o.module,n.module),feeds:[].concat(r.feeds,i.feeds,s.feeds,o.feeds)};return u});define("sap/viz/impls/TagCloudChart",["sap/viz/manifests/TagCloudChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/modules/tree/treeData",[],function e(){var t={collapseOrExtend:function(e,t,a){var i=false;if(e.children&&e.children.length>0&&!a){e.collapsedChildren=e.children;e.children=[];i=true}else if(e.collapsedChildren&&e.collapsedChildren.length>0&&!t){e.children=e.collapsedChildren;e.collapsedChildren=[];i=true}return i},initTreeData:function(e,a){var i=function(e){var a;if(e.children&&e.children.length>0){for(a=0;a<e.children.length;a++){i(e.children[a])}}else if(e.collapsedChildren&&e.collapsedChildren.length>0){for(a=0;a<e.collapsedChildren.length;a++){i(e.collapsedChildren[a])}}t.collapseOrExtend(e,true,undefined)};var r=function(e){if(e.depth<a-1){if(e.collapsedChildren&&e.collapsedChildren.length>0){var i;for(i=0;i<e.collapsedChildren.length;i++){r(e.collapsedChildren[i])}}t.collapseOrExtend(e,undefined,true)}};i(e);r(e)},treeBuilder:function(e){var t=function(e){var t=[];var a=e[0].values;var i;for(i=0;i<a[0].rows.length;i++){var r={};r.source=a[0].rows[i].val;r.target=a[1].rows[i].val;if(r.source&&r.target){t.push(r)}}return t};var a=function(e,t,a){a={};var i=[];var r;for(r=0;r<t.length;r++){if(i.indexOf(t[r].source)<0){i.push(t[r].source)}}for(r=0;r<t.length;r++){var s=i.indexOf(t[r].target);if(s>=0){i.splice(s,1)}}if(i.length>0){e.name=i[0];e.children=[];a[e.name]=e}return a};var i=function(e,t){var a=null;if(e[t]){a=e[t]}return a};var r=function(e,t){if(t.length===0){return}var a;var s=false;for(a=0;a<t.length;a++){var n=i(o,t[a].source);if(n){var l={};l.name=t[a].target;l.children=[];n.children.push(l);o[l.name]=l;s=true;t.splice(a,1);break}}if(s){r(e,t)}};var s=function(e,t,a,i){if(e.name){e.depth=i;e.id=t+"-"+a;if(e.children&&e.children.length>0){var r;for(r=0;r<e.children.length;r++){s(e.children[r],e.id,r,i+1)}}}};var o={};var n=e.getAnalysisAxisDataByIdx();var l=t(n);var u={};o=a(u,l,o);r(u,l,o);s(u,0,0,0);return u}};return t});define("sap/viz/modules/tree/treeLayout",[],function e(){var t={reLayout:function(e,t,a,i){var r=function(e,t,a,r){var s=function(e,t){return e.parent===t.parent?1:2};var o=function(e,t){function a(e,i){var r=e.children;var s;if(r&&(s=r.length)){var o,n=null,l=-1;while(++l<s){o=r[l];a(o,n);n=o}}t(e,i)}a(e,null)};var n=function(e){var t=e.children;return t&&t.length?t[0]:e._tree.thread};var l=function(e,t,a){e=e._tree;t=t._tree;var i=a/(t.number-e.number);e.change+=i;t.change-=i;t.shift+=a;t.prelim+=a;t.mod+=a};var u=function(e){var t=e.children,a;return t&&(a=t.length)?t[a-1]:e._tree.thread};var d=function(e,t){var a=e.children;var i;if(a&&(i=a.length)){var r,s=-1;while(++s<i){if(t(r=d(a[s],t),e)>0){e=r}}}return e};var h=function(e){var t=0,a=0,i=e.children,r=i.length,s;while(--r>=0){s=i[r]._tree;s.prelim+=t;s.mod+=t;t+=s.shift+(a+=s.change)}};var p=function(){var e=[1,1];var t=function(t,a){var p=t;function c(e,t){var a=e.children,i=e._tree;var r;if(a&&(r=a.length)){var o=a[0],n,l=o,u,d=-1;while(++d<r){u=a[d];c(u,n);l=m(u,n,l);n=u}h(e);var p=.5*(o._tree.prelim+u._tree.prelim);if(t){i.prelim=t._tree.prelim+s(e,t);i.mod=i.prelim-p}else{i.prelim=p}}else{if(t){i.prelim=t._tree.prelim+s(e,t)}}}function f(e,t){e.x=e._tree.prelim+t;var a=e.children;var i;if(a&&(i=a.length)){var r=-1;t+=e._tree.mod;while(++r<i){f(a[r],t)}}}function m(e,t,a){if(t){var i=e,r=e,o=t,d=e.parent.children[0],h=i._tree.mod,p=r._tree.mod,c=o._tree.mod,f=d._tree.mod,m;o=u(o);i=n(i);while(o&&i){d=n(d);r=u(r);r._tree.ancestor=e;m=o._tree.prelim+c-i._tree.prelim-h+s(o,i);if(m>0){var _;if(o._tree.ancestor.parent===e.parent){_=o._tree.ancestor}else{_=a}l(_,e,m);h+=m;p+=m}c+=o._tree.mod;h+=i._tree.mod;f+=d._tree.mod;p+=r._tree.mod;o=u(o);i=n(i)}if(o&&!u(r)){r._tree.thread=o;r._tree.mod+=c-p}if(i&&!n(d)){d._tree.thread=i;d._tree.mod+=h-f;a=e}}return a}var _=function(e,t){e._tree={ancestor:e,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}};o(p,_);c(p);f(p,-p._tree.prelim);var g=function(e,t){return e.x-t.x};var v=function(e,t){return t.x-e.x};var y=function(e,t){return e.depth-t.depth};var b=d(p,v),x=d(p,g),A=d(p,y),M=b.x-s(b,x)/2,S=x.x+s(x,b)/2,z=A.depth||1;var D=function(t){if(i.orientation==="top"){t.x=(t.x-M)/(S-M)*e[0];t.y=t.depth/z*e[1]}else if(i.orientation==="left"){var a=A.depth+1;t.y=(t.x-M)/(S-M)*e[1];t.x=t.depth/a*e[0];t.y+=r;t.x+=r;t.levelDistance=1/a*e[0]}delete t._tree};o(p,D);return p};t.size=function(a){if(!arguments.length){return e}e=a;return t};return t};var c=p().size([t,a]);var f=c(e);return f};var s=function(e,t,a){if(t){e.parent=t}if(n<e.depth){n=e.depth}if(e.children&&e.children.length>0){var i;for(i=0;i<e.children.length;i++){s(e.children[i],e,a+1)}}};var o=function(e,t){e.maxVisibleDepth=t;if(e.children&&e.children.length>0){var a;for(a=0;a<e.children.length;a++){o(e.children[a],t)}}};var n=0;s(e,null,0);o(e,n);var l;var u=i.pointRadius+i.pointBorderWidth;var d=t;var h=a-2*u;l=r(e,d,h,u);return l}};return t});define("sap/viz/modules/tree/treeRender",["sap/viz/util/TextUtils"],function e(t){var a={reRender:function(e,a,i,r,s){var o=r.idTreeDOMMap;var n=this;var l=false;var u=30;function d(e){if(!s){return e}var t={fillColor:e};return s.register(t)}var h=function(e,a,i,r){return t.superFastMeasure(e,a,i,r)};var p=function(e){var t;t=e.levelDistance-2*i.pointRadius-2*i.labelOffset;return t};var c=function(e,t){var a=function(e,r){if(!r){var s;if(l){s=0}else{var o=i.labelRealStyle["font-size"]+"px";var n=i.labelRealStyle["font-weight"];var d=i.labelRealStyle["font-family"];s=h(e.name,o,n,d).width}if(!l){var c=p(e);if(c<u&&s>c){l=true}else{var f=v(e.name,c);if(e.name.length>0&&f.length===0){l=true}}}}if(r){e.drawState="delete"}else{if(t[e.id]){if(e.parent&&e.parent.collapsedChildren&&e.parent.collapsedChildren.length>0){e.drawState="delete"}else{e.drawState="update"}}else{e.drawState="new"}}var m;if(e.collapsedChildren&&e.collapsedChildren.length>0){for(m=0;m<e.collapsedChildren.length;m++){a(e.collapsedChildren[m],true)}}if(e.children&&e.children.length>0){for(m=0;m<e.children.length;m++){a(e.children[m],r)}}};a(e)};var f=function(e,t,a,i){var r;var s=e;if(t.children&&t.children.length>0){for(r=0;r<t.children.length;r++){f(s,t.children[r],a+1,i)}}if(t.collapsedChildren&&t.collapsedChildren.length>0){for(r=0;r<t.collapsedChildren.length;r++){f(s,t.collapsedChildren[r],a+1,i)}}b(t,s,i)};var m=function(){var e=r.context;var t=this.__data__;r.collapseOrExtend.call(e,t,a)};var _=function(e){var t=e;if(e.parent){if(e.parent.drawState==="update"){t=e.parent}else{t=_(e.parent)}}return t};var g=function(e,t){var a=i.pointRadius*2/7;var r=i.pointRadius*4/7;var s=e.select(".v-line1");var o=e.select(".v-line2");if(t.children&&t.children.length>0||t.collapsedChildren&&t.collapsedChildren.length>0){if(s.empty()){s=e.append("line").attr("class","v-line1")}s.attr("stroke",d(i.pointBorderColor)).attr("stroke-width",a).attr("x1",-r).attr("x2",r).attr("y1",0).attr("y2",0);if(t.collapsedChildren&&t.collapsedChildren.length>0){if(o.empty()){o=e.append("line").attr("class","v-line2")}o.attr("stroke",d(i.pointBorderColor)).attr("stroke-width",a).attr("display",null).attr("x1",0).attr("x2",0).attr("y1",-r).attr("y2",r)}else{o.attr("display","none")}}};var v=function(e,a){var r="font-weight:"+i.labelRealStyle["font-weight"]+"; font-family: "+i.labelRealStyle["font-family"]+"; font-size: "+i.labelRealStyle["font-size"]+"px"+";";return t.ellipsis(e,undefined,a,r)};var y=function(e){var t=null;if(!l){var a=p(e);t=v(e.name,a)}return t};var b=function(e,t,a){var r;var s;var o;var n;var l;var u;var h;var p=500;if(e.drawState==="delete"){if(a[e.id]){var c=function(){a[e.id].attr("transform","");var t=a[e.id].node();if(t){t.parentNode.removeChild(t)}delete a[e.id]};r=a[e.id].attr("transform","");u=_(e);r.transition().duration(p).attr("transform","translate("+u.x+", "+u.y+") scale(0)").each("end",c)}}else{var f=false;if(e.drawState==="new"){f=true}if(f){r=t.append("g").attr("class","v-nodeLevel"+e.depth)}else{r=a[e.id]}r.data([e]);if(e.parent){if(i.lineShape==="line"){if(f){h=r.append("line").attr("class","v-link")}else{h=r.select(".v-link");h=h.transition().duration(p)}h.attr("stroke",d(i.lineColor)).attr("stroke-width",1).attr("x1",e.x).attr("y1",e.y).attr("x2",e.parent.x).attr("y2",e.parent.y)}else if(i.lineShape==="curve"){var v=d3.svg.diagonal();var b;if(i.orientation==="left"){v.projection(function(e){return[e.y,e.x]});b=v({source:{x:e.parent.y,y:e.parent.x},target:{x:e.y,y:e.x}})}else if(i.orientation==="top"){b=v({source:{x:e.parent.x,y:e.parent.y},target:{x:e.x,y:e.y}})}if(f){h=r.append("path").attr("class","v-link")}else{h=r.select(".v-link");h=h.transition().duration(p)}h.attr("fill","none").attr("stroke",d(i.lineColor)).attr("stroke-width",1).attr("d",b)}}if(f){s=r.append("g").attr("class","v-point");if(i.clickAble){s.on("click",m)}if(e.children&&e.children.length>0||e.collapsedChildren&&e.collapsedChildren.length>0){if(i.clickAble){s.attr("cursor","pointer")}}s.append("circle").attr("class","v-pointItem").attr("fill",d(i.pointColor)).attr("stroke-width",i.pointBorderWidth).attr("stroke",d(i.pointBorderColor)).attr("r",i.pointRadius);g(s,e)}else{s=r.select(".v-point");s.select(".v-pointItem").attr("fill",d(i.pointColor)).attr("stroke-width",i.pointBorderWidth).attr("stroke",d(i.pointBorderColor)).attr("r",i.pointRadius);g(s,e);s=s.transition().duration(p)}s.attr("transform","translate("+e.x+", "+e.y+")");if(i.label.visible){var x=y(e);if(x!==null){n=e.x+i.pointRadius+i.pointBorderWidth+i.labelOffset;l=e.y+i.labelRealStyle["font-size"]/2.6;if(f){o=r.append("text").attr("class","v-text")}else{o=r.select(".v-text");if(o.empty()){o=r.append("text").attr("class","v-text");o.text(x).attr("fill",i.labelDefaultStyle.fill).attr("font-weight",i.labelDefaultStyle["font-weight"]).attr("font-size",i.labelDefaultStyle["font-size"]+"px").attr("font-family",i.labelDefaultStyle["font-family"]).attr("x",n).attr("y",l).attr("opacity",0)}o=o.transition().duration(p)}o.text(x).attr("fill",i.labelDefaultStyle.fill).attr("font-weight",i.labelDefaultStyle["font-weight"]).attr("font-size",i.labelDefaultStyle["font-size"]+"px").attr("font-family",i.labelDefaultStyle["font-family"]).attr("x",n).attr("y",l).attr("pointer-events","none").attr("opacity",1)}else{var A=function(){if(this){d3.select(this).remove()}};if(!f){o=r.select(".v-text").attr("opacity",1);o=o.transition().duration(p);o.attr("opacity",0).each("end",A)}}}if(f){var M=function(){r.attr("transform","")};u=_(e);if(a[u.id]){var S=a[u.id].select(".v-point").attr("transform");r.attr("transform",S+" scale(0)");r.transition().duration(p).attr("transform","translate(0,0) scale(1)").each("end",M)}}if(!f){var z=r.node();z.parentNode.appendChild(z)}if(f){a[e.id]=r}}};var x;if(Object.keys(o).length<=0){x=e.append("g").attr("class","v-tree")}else{x=e.select(".v-tree")}c(a,o);f(x,a,0,o)},removeTreeDOM:function(e){if(e._rdr_treeAllData){var t=e._rdr_treeAllData.id;if(e._rdr_UICallbackFuns.idTreeDOMMap[t]){var a=e._rdr_UICallbackFuns.idTreeDOMMap[t].node();var i=a.parentNode;i.parentNode.removeChild(i)}}e._rdr_UICallbackFuns.idTreeDOMMap=[]}};return a});define("sap/viz/modules/tree",["sap/viz/base/utils/oo","sap/viz/modules/Base","sap/viz/modules/dispatch","sap/viz/base/utils/Objects","sap/viz/modules/tree/treeData","sap/viz/modules/tree/treeLayout","sap/viz/modules/tree/treeRender","sap/viz/modules/Constants","sap/viz/modules/util/BoundUtil"],function e(t,a,i,r,s,o,n,l,u){var d=function(e,t){d.superclass.constructor.apply(this,arguments);var a={label:"v-text"};this._rdr_selection=null;this._rdr_data=null;this._rdr_propsOutput=null;this._rdr_width=0;this._rdr_height=0;this._rdr_dispatch=new i("initialized","startToInit","contextualData");this._rdr_defaultProps=e.props(null);this._rdr_effectManager=t.effectManager;this._rdr_propsInternal={orientation:"left",lineShape:"curve",showLevels:3,lineColor:"#bfbfbf",pointColor:"#297cbe",pointRadius:7,pointBorderWidth:1,pointBorderColor:"#ffffff",labelDefaultStyle:{fill:"#333333","font-size":12,"font-weight":"normal","font-family":"Arial, Helvetica, sans-serif, 'Open Sans'"},labelRealStyle:{},labelOffset:6};r.extend(true,this._rdr_propsInternal,this._rdr_defaultProps);this._rdr_propsInternal.labelRealStyle=r.extend(true,this._rdr_propsInternal.labelRealStyle,this._rdr_propsInternal.labelDefaultStyle);this._rdr_propsInternal.labelDefaultStyle=r.extend(true,this._rdr_propsInternal.labelDefaultStyle,t.styleManager.queryDefault(a.label));this._rdr_propsInternal.labelRealStyle=r.extend(true,this._rdr_propsInternal.labelRealStyle,t.styleManager.query(a.label));this._rdr_UICallbackFuns={};this._rdr_UICallbackFuns.context=this;this._rdr_UICallbackFuns.idTreeDOMMap=[];this._rdr_UICallbackFuns.collapseOrExtend=d.prototype.collapseOrExtend;this._rdr_treeAllData=null};t.extend(d,a);d.prototype.collapseOrExtend=function(e,t){var a=s.collapseOrExtend(e);if(a){var i;i=o.reLayout(t,this._rdr_width,this._rdr_height,this._rdr_propsInternal);n.reRender(this._rdr_selection,i,this._rdr_propsInternal,this._rdr_UICallbackFuns,this._rdr_effectManager)}};d.prototype.render=function(e){var t=this._rdr_width,a=this._rdr_height;u.drawBound(e,t,a,undefined,true);this._rdr_selection=e;this._rdr_dispatch.startToInit();var i=this._rdr_UICallbackFuns.idTreeDOMMap;if(Object.keys(i).length<=0){if(!this._rdr_treeAllData){this._rdr_treeAllData=s.treeBuilder(this._rdr_data)}s.initTreeData(this._rdr_treeAllData,this._rdr_propsInternal.showLevels)}var r;r=o.reLayout(this._rdr_treeAllData,this._rdr_width,this._rdr_height,this._rdr_propsInternal);if(r.children){n.reRender(this._rdr_selection,r,this._rdr_propsInternal,this._rdr_UICallbackFuns,this._rdr_effectManager)}var d=this._rdr_selection.select(".v-bound");var h=this._rdr_dispatch;d.on("contextmenu",function(e){var t=d3.event;setTimeout(function(){h.contextualData({name:l.Event.contextualData.name,type:"plot",data:[],point:{x:t.pageX,y:t.pageY}})},1)});this._rdr_dispatch.initialized();return this};d.prototype.parent=function(){return this._rdr_selection};d.prototype.data=function(e){if(!arguments.length){return this._rdr_data}this._rdr_data=e;this._rdr_treeAllData=null;n.removeTreeDOM(this);return this};d.prototype.properties=function(e){if(!arguments.length){return this._rdr_propsOutput}this._rdr_propsOutput=e;var t=parseFloat(this._rdr_propsOutput.pointRadius);this._rdr_propsOutput.pointRadius=t;if(!t||t<=0){this._rdr_propsOutput.pointRadius=this._rdr_defaultProps.pointRadius}var a=Math.round(parseFloat(this._rdr_propsOutput.showLevels));this._rdr_propsOutput.showLevels=a;if(!a||a<1){this._rdr_propsOutput.showLevels=this._rdr_defaultProps.showLevels}r.extend(true,this._rdr_propsInternal,this._rdr_propsOutput);n.removeTreeDOM(this);return this};d.prototype.width=function(e){if(!arguments.length){return this._rdr_width}this._rdr_width=e;return this};d.prototype.height=function(e){if(!arguments.length){return this._rdr_height}this._rdr_height=e;return this};d.prototype.dispatch=function(e){if(!arguments.length){return this._rdr_dispatch}this._rdr_dispatch=e;return this};d.prototype.destroy=function(){this._rdr_selection.selectAll(".v-point").on("click",null);this._rdr_selection.selectAll(".v-datapoint").remove();this._rdr_UICallbackFuns.idTreeDOMMap=[]};return d});define("sap/viz/feeds/Tree",["sap/viz/feeds/Manifest","sap/viz/data/feed/Constants"],function e(t,a){var i={id:"treeNode",name:"IDS_TREENODE",type:a.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:-1,minStackedDims:2,maxStackedDims:2,description:"The first dimension is for parent node and the second dimension is for child node. If there is undefined or null, it will ignore this pair of values."};var r={id:"tree",feeds:[i]};var s={viz:[],module:[],feeds:[r]};return s});define("sap/viz/modules/manifests/Tree",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/tree","sap/viz/feeds/Tree"],function e(t,a,i,r){var s={id:"sap.viz.modules.tree",type:a.Type.Chart,name:"tree",properties:{lineShape:{name:"lineShape",supportedValueType:"String",supportedValues:["line","curve"],defaultValue:"curve",description:"Set line type.",isExported:true},pointRadius:{name:"pointRadius",supportedValueType:"Number",defaultValue:7,description:"Set point radius.",isExported:false},clickAble:{name:"clickAble",supportedValueType:"Boolean",defaultValue:true,description:"Set clickAble.",isExported:false},showLevels:{name:"showLevels",supportedValueType:"Number",defaultValue:3,description:"Set initial levels.",isExported:true},label:{name:"label",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set the visibility of label"}},description:"tree chart label",isExported:false}},events:{initialized:a.Event.Initialized.desc},feeds:{id:"tree"},css:{".v-text":{description:"Define style for the label text.",value:{fill:"#333333"}},".v-link":{description:"Define style for the link line.",value:{stroke:"#bfbfbf"}},".v-pointItem":{description:"Define style for the point item.",value:{fill:"#297cbe"}}},configure:null,fn:i};var o={viz:[],module:[s],feeds:[].concat(r.feeds)};return o});define("sap/viz/manifests/TreeChart",["sap/viz/manifests/Viz","sap/viz/modules/Constants","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/SimpleChart","sap/viz/chart/elements/manifests/Tooltip","sap/viz/modules/manifests/Tree","sap/viz/modules/manifests/Background"],function e(t,a,i,r,s,o,n){var l={id:"viz/tree",name:"IDS_TREECHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/simple",modules:{root:{configure:{properties:{layout:{adjustPolicy:a.LAYOUT_ADJUST_POLICY.RELAYOUT}},propertiesOverride:{layout:{hideAxisTitleFirst:{isExported:false}}}},modules:{main:{modules:{plot:{id:"sap.viz.modules.tree",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[],events:[]}};var u={viz:[l].concat(r.viz),module:[].concat(r.module,i.module,s.module,o.module,n.module),feeds:[].concat(r.feeds,i.feeds,s.feeds,o.feeds,n.feeds)};return u});define("sap/viz/impls/TreeChart",["sap/viz/manifests/TreeChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/modules/treemap",["sap/viz/modules/Constants","sap/viz/modules/dispatch","sap/viz/util/ColorSeriesGenerator","sap/viz/modules/util/tooltipDataHandler","sap/viz/util/NumberUtils","sap/viz/base/utils/TypeUtils","sap/viz/util/TextUtils","sap/viz/util/MeasureBasedColoring","sap/viz/lang/langManager","sap/viz/base/utils/ObjectUtils","sap/viz/base/utils/Objects","sap/viz/modules/util/BoundUtil","sap/viz/modules/util/defaultSelectionUtil","sap/viz/util/DrawUtil","sap/viz/modules/util/selectionUtil"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m){var _=t.CSS.CLASS.DATAPOINTSELECTED,g=t.CSS.CLASS.DATAPOINTHOVER;var v={};v.fontSize="12px";v.fontWeight="normal";v.fontFamily="'Open Sans', Arial, Helvetica, sans-serif";v.fill="#ffffff";var y=function(e,t){var r=d.guid();var y=function(e,t){for(var a in t){if(typeof t[a]==="object"){if(e[a]){e[a]=y(e[a],t[a])}else{e[a]=t[a]}}else{e[a]=t[a]}}return e};var b="#cccccc";var x="#808080";var A=[];var M,S;var z={emptycolor:"#e0e0e0",animation:{dataLoading:true,dataUpdating:true,resizing:true},colornumber:5,discretecolor:false,colorPalette:[],tooltip:{enabled:true}};z=y(z,e.props(null));var D=e.props(null);var E="'Open Sans', Arial, Helvetica, sans-serif";var w;var T;var C=true;var L="dataLoading";var I="v-treemap";var k="v-treemapitem";var O;var N=d3.scale.ordinal();var P=d3.scale.ordinal();var R=new a("selectData","deselectData","initialized","showTooltip","hideTooltip","startToInit");var F="#ffffff";var B;var V;var H;var U;var G=null;var Y=null;var j=null;var W=t.effectManager;var X=6;var K=null;var q=false;var Z=u.get("IDS_ISNOVALUE");var J=function(e,t){return n.fastMeasure(e,t["font-size"],t["font-weight"],t["font-family"])};var Q=function(e){if(e===null||e===undefined){e=u.get("IDS_ISNOVALUE")}return e};var $=function(e){var t={body:[],footer:[]};var a=U[e];var i={name:Q(a.weight.col),val:[{value:s.isNoValue(a.weight.row.val)?Z:a.weight.row.val}]};t.body.push(i);if(H){var r={name:Q(a.color.col),val:[{value:s.isNoValue(a.color.row.val)?Z:a.color.row.val}]};t.body.push(r)}if(o.isExist(B)){for(var n=B.values,l=n.length,u=l-1;u>=0;u--){var d={};d.label=n[u].col;d.value=n[u].rows[e%n[u].rows.length];t.footer.push(d)}}return t};var ee=function(e){if(!s.isNoValue(e.datum().val)){T.attr("visibility","visible");var t=e.datum().left+O;var a=e.datum().left+e.datum().width-O;var i=e.datum().top+O;var r=e.datum().top+e.datum().height-O;T.select(".HLLeft").attr("x1",t).attr("y1",i).attr("x2",t).attr("y2",r);T.select(".HLRight").attr("x1",a).attr("y1",i).attr("x2",a).attr("y2",r);T.select(".HLTop").attr("x1",t).attr("y1",i).attr("x2",a).attr("y2",i);T.select(".HLBottom").attr("x1",t).attr("y1",r).attr("x2",a).attr("y2",r)}};var te=function(e){T.attr("visibility","hidden")};var ae=function(e,t){if(e&&e.level===0&&e.index===0||U&&U.length===0||e===undefined&&t===undefined){R.initialized()}};var ie=function(e,t,a,i){if(t.length<=0){return}var s=t[0].children.length===0;if(a){e=e.append("g").attr("class",I+"level"+t[0].level)}else{e=e.select("."+I+"level"+t[0].level)}var o=[];for(var l=0;l<t.length;l++){if(t[l].level===i){o.push(t[l])}}var u=e.attr("class");var d=e.selectAll("."+u+" > ."+k);d=d.data(o,function(e){return e.index});var h=d.enter();var p=d.exit();var c;var f=function(e){var t={};t["font-size"]=v.fontSize;t["font-weight"]=v.fontWeight;t["font-family"]=v.fontFamily;var a=J(e.label,t).height;var i=0;if(a>e.height){i=-1}else{i=e.width-6}return i};var _=function(e){return s?e.width/2:e.left+e.width/2};var g=function(e){var t={};t["font-size"]=v.fontSize;t["font-weight"]=v.fontWeight;t["font-family"]=v.fontFamily;var a;if(e.labelHeight!==undefined){a=e.labelHeight}else{a=J(e.label,t).height}if(e.children.length===0){return s?e.height/2+a/2-a/10:e.top+e.height/2+a/2-a/10}else{return e.top+a-a/10}};var y=function(e){var t="font-size:"+v.fontSize;t+="font-weight:"+v.fontWeight;t+="font-family:"+v.fontFamily;var a="";if(e.showLabel){if(!e.label){e.label=""}a=n.ellipsis(e.label,this,f(e),t);if(!s&&a!==e.label){var i=d3.select(this.parentNode).select(".v-labelarea");if(i.select("title").empty()){i.append("title").text(e.label)}}}return a};var b=function(e){return"middle"};var x=function(e){var t;if(e.children.length===0){t="white"}else{if(e.level===e.levelNum-1){t="white"}else if(e.levelNum-e.level===6){t="white"}else if(e.levelNum-e.level===5){t="white"}else if(e.levelNum-e.level===4){t="white"}else if(e.levelNum-e.level===3){t="#595959"}else{t="#464646"}}return t};var A=function(e){var t=e.attr("x",function(e){return e.left+O}).attr("class","v-labelarea v-axis-item").attr("y",function(e){return e.top+O}).attr("width",function(e){return e.width-2*O>0?e.width-2*O:0}).attr("height",function(e){return e.showLabel?e.labelHeight:0}).attr("opacity",0).attr("shape-rendering","crispEdges");t.each(function(e){this.labelContexts=e.ctx});return t};var M=function(e){var t=e.attr("x",function(e){return s?0:e.left+O}).attr("class",function(e){return s?"v-item v-datapoint v-morphable-datapoint":"v-item"}).attr("y",function(e){return s?0:e.top+O}).attr("width",function(e){return e.width-2*O>0?e.width-2*O:0}).attr("height",function(e){return e.height-2*O>0?e.height-2*O:0}).attr("fill",function(e){var t=e.color;if(s){var a=m.getSemanticFormat(z.formatRules,w,e);if(a&&a.color){t=a.color}}var i={drawingEffect:"normal",fillColor:t};return W.register(i)}).attr("shape-rendering","crispEdges").attr("stroke","none").attr("fill-opacity",1);return t};var S=function(e){var t=null;if(s){t=e.attr("x",_).attr("y",g).attr("class","v-treemapdatalabel").attr("text-anchor",b).attr("fill",x).attr("font-size",v.fontSize).attr("font-family",v.fontFamily).attr("pointer-events","none")}else{t=e.attr("x",_).attr("y",g).attr("text-anchor",b).attr("fill",x).attr("font-size",v.fontSize).attr("font-family",v.fontFamily).attr("pointer-events","none")}t.text(y);return t};var D,E;if(a){var T=k;if(s){T+=" v-datashape"}c=h.append("g").attr("class",T);if(s){c.attr("transform",function(e){return"translate("+(e.left+O)+","+(e.top+O)+")"})}var C=c.append("rect");M(C);if(s){C.attr("id",function(e,t){return"HM"+e.index+r})}else{D=c.append("rect");A(D)}E=c.append("text");S(E)}else{c=d;var N=d.select(".v-item");D=d.select(".v-labelarea");E=d.select("text");var P=0;if(L==="resizing"&&z.animation.resizing){P=500}if(P>0){N=N.transition();E=E.transition()}if(s){if(P>0){c=c.transition();c=c.attr("transform",function(e){var t="translate("+(e.left+O)+","+(e.top+O)+")";return t});c=c.delay(0).duration(P)}else{c.attr("transform",function(e){var t="translate("+(e.left+O)+","+(e.top+O)+")";return t})}}N=M(N);if(!s){A(D)}E=S(E);if(P>0){N.delay(0).duration(P).each("end",ae);E.delay(0).duration(P)}else{ae()}}var R=function(e,t,r){var s=d3.select(e);var o=s.datum().children;ie(s,s.datum().children,a,i+1)};c.each(function(e,t){R(this,e,t)});c=e.selectAll("."+k);if(a){var F=0;if(L==="dataLoading"&&z.animation.dataLoading){F=1e3}else if(L==="dataUpdating"&&z.animation.dataUpdating){F=500}if(F>0){c.attr("fill-opacity",0);c.transition().delay(0).duration(F).attr("fill-opacity",1).each("end",ae)}else{c.attr("fill-opacity",1).each(ae)}}else{c.attr("fill-opacity",1);ae()}return c};var re=function(e,t){L="resizing";if(C){if(e.selectAll("*").empty()){L="dataLoading"}else{L="dataUpdating"}e.selectAll("*").remove()}p.drawBound(e,M,S,undefined,true);var a=e;var i=e.selectAll("g.v-datashapesgroup");if(!o.isExist(i[0][0])){i=e.append("g").attr("class","v-datashapesgroup")}ie(i,t,C,0);if(C){T=e.append("g").attr("class","v-element").attr("visibility","hidden");T.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");T.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");T.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");T.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c")}else{if(T){T.attr("visibility","hidden")}}C=false};var se=function(){var e,t;var a;var i=[];var r;if(H){var o=H.values[0].rows[0];for(r=0;r<o.length;r++){i.push(o[r])}e=-Number.MAX_VALUE;t=Number.MAX_VALUE;for(var n=0;n<i.length;n++){if(!s.isNoValue(i[n].val)){if(e<i[n].val){e=i[n].val}if(t>i[n].val){t=i[n].val}}}a=false;for(r=0;r<i.length;r++){if(s.isNoValue(i[r].val)){a=true}}}var u=z.colornumber;var d={numberOfTicks:u,startColor:z.startColor,endColor:z.endColor,nullColor:z.emptycolor,legendValues:z.legendValues};if(z.colorPalette){d.colorPalette=z.colorPalette}var h=l.getColorScale(t,e,a,d);l.fillContexts2DomainInfo4MBC(h,i);return h};var oe=function(e){var t;for(t=0;t<e.length;t++){var a=[];a.push(e[t].val);a.push(e[t].colorVal);e[t].val=a;if(e[t].children.length>0){oe(e[t].children)}}};var ne=function(e){var t=function(e,a,i){var r=0;var o;for(o=0;o<e.length;o++){r+=e[o].val}var n=function(e,t){var a=0;if(t.val!==e.val){a=e.val-t.val}return a};var l;for(var u=0;u<e.length-1;u++){for(o=e.length-1;o>u;o--){if(n(e[o],e[o-1])>0){l=e[o-1];e[o-1]=e[o];e[o]=l}}}var d={left:0,top:0,width:0,height:0,weight:0,items:[],worstRadio:0};var h={left:0,top:0,width:0,height:0,weight:0,vertical:false};for(o=0;o<e.length;o++){s(e,o,r,d,h,a)}var p;for(p=0;p<e.length;p++){if(!e[p].left){e[p].left=0}if(!e[p].top){e[p].top=0}if(!e[p].width||e[p].width<0){e[p].width=0}if(!e[p].height||e[p].height<0){e[p].height=0}var c,f="",m;if(e[p].label){c=e[p].label.toString();if(c.length>0){m=c[0];f=m.concat("...")}}var _={};_["font-size"]=v.fontSize;_["font-weight"]=v.fontWeight;_["font-family"]=v.fontFamily;e[p].labelHeight=J(f,_).height;e[p].labelWidth=J(f,_).width;e[p].needMoreHeightToShowLabel=false;if(e[p].labelHeight<e[p].height&&e[p].labelWidth<e[p].width){e[p].showLabel=true}else{e[p].showLabel=false;if(e[p].labelHeight>=e[p].height&&e[p].val>0){e[p].needMoreHeightToShowLabel=true}}}var g=true;for(p=0;p<e.length;p++){if(e[p].level===e[p].levelNum-1){if(!e[p].needMoreHeightToShowLabel){g=false;break}}else{g=false}}var y=function(t){if(e[t].level!==e[t].levelNum-1){e[t].showLabel=false}A.top=e[t].top+O*2;A.left=e[t].left+O*2;A.width=e[t].width-O*2-O;A.height=e[t].height-O*2-O};if(!g){for(o=0;o<e.length;o++){if(e[o].children.length>0){var b=true;if(!i){b=false}var x=e[o].labelHeight;var A={};A.top=e[o].top+O*2+x;A.left=e[o].left+O*2;A.width=e[o].width-O*2-O;A.height=e[o].height-O*2-O-x;if(!b){y(o)}g=t(e[o].children,A,b);if((g||!e[o].showLabel)&&b){y(o);g=t(e[o].children,A,false)}}}}return g};var a=function(e){var t;if(e.height>e.width){t=e.height/e.width}else{t=e.width/e.height}t=Math.floor(t*1e3);return t};var i=function(e,t,i,r,s){var o=0;var n={};if(i){if(s.vertical){n.width=s.width*(t/(r.weight+t));n.height=s.height*((r.weight+t)/s.weight)}else{n.height=s.height*(t/(r.weight+t));n.width=s.width*((r.weight+t)/s.weight)}o=a(n);for(var l=0;l<r.items.length;l++){var u=r.items[l];var d={};if(s.vertical){d.width=r.width*(e[u].val/(r.weight+t));d.height=s.height*((r.weight+t)/s.weight)}else{d.height=r.height*(e[u].val/(r.weight+t));d.width=s.width*((r.weight+t)/s.weight)}var h=a(d);if(o<h){o=h}}}else{o=r.worstRadio}return o};var r=function(e,t){var a={};a.weight=t.weight-e.weight;if(t.width===e.width){a.left=t.left;a.top=e.top+e.height;a.width=t.width;a.height=t.height-e.height}else{a.left=e.left+e.width;a.top=t.top;a.width=t.width-e.width;a.height=t.height}return a};var s=function(e,t,s,o,n,l){if(t===0){e[t].left=l.left;e[t].top=l.top;if(l.width>l.height){e[t].height=l.height;e[t].width=l.width*(e[t].val/s);n.vertical=false}else{e[t].width=l.width;e[t].height=l.height*(e[t].val/s);n.vertical=true}o.left=l.left;o.top=l.top;o.width=e[t].width;o.height=e[t].height;o.weight=e[t].val;o.items.push(t);o.worstRadio=a(o);n.left=l.left;n.top=l.top;n.width=l.width;n.height=l.height;n.weight=s}else if(t===e.length-1){var u=r(o,n);e[t].left=u.left;e[t].top=u.top;e[t].width=u.width;e[t].height=u.height}else{var d=i(e,e[t].val,true,o,n);var h=i(e,e[t].val,false,o,n);if(d<h){o.worstRadio=d;o.items.push(t);o.weight+=e[t].val;if(n.vertical){o.height=n.height*(o.weight/n.weight)}else{o.width=n.width*(o.weight/n.weight)}for(var p=0;p<o.items.length;p++){var c=o.items[p];if(n.vertical){e[c].width=o.width*(e[c].val/o.weight);e[c].height=n.height*(o.weight/n.weight);e[c].top=o.top;if(p===0){e[c].left=o.left}else{e[c].left=e[c-1].left+e[c-1].width}}else{e[c].height=o.height*(e[c].val/o.weight);e[c].width=n.width*(o.weight/n.weight);e[c].left=o.left;if(p===0){e[c].top=o.top}else{e[c].top=e[c-1].top+e[c-1].height}}}}else{var f=r(o,n);n.left=f.left;n.top=f.top;n.width=f.width;n.height=f.height;n.weight=f.weight;if(n.width>n.height){n.vertical=false}else{n.vertical=true}o.left=n.left;o.top=n.top;o.weight=e[t].val;if(n.vertical){o.width=n.width;o.height=n.height*(e[t].val/n.weight)}else{o.height=n.height;o.width=n.width*(e[t].val/n.weight)}o.worstRadio=a(o);o.items=[];o.items.push(t);e[t].width=o.width;e[t].height=o.height;e[t].top=o.top;e[t].left=o.left}}};var o={};o.top=0;o.left=0;o.width=M;o.height=S;var n=t(e,o,true);if(n){t(e,o,false)}};var le=function(e){var t=false;if(e){var a=e.getAttribute("class");if(a&&a.indexOf("v-labelarea")>=0){t=true}}return t};var ue=function(e,t,a,i,r){if(t>=a){return[]}var s=[];var o;var n=i;var l=n+1;for(var u=i;u<r;u++){var d={};var h=e[u].dimensions[t].row.val;if(h!==o||t===a-1){var p=de(u,t,a,d);d.label=e[u].dimensions[t].row.val;d.level=t;d.levelNum=a;d.isTreeMap=true;if(t===a-1){var c=[];var f=[];c.push(e[u].weight.row.ctx);f.push(e[u].weight.row.info);if(e[u].color){c.push(e[u].color.row.ctx);f.push(e[u].color.row.info)}d.ctx=c;d.info=f}else{d.ctx=[]}d.index=u;var m=null;if(e[u].color){m=e[u].color.row.val}var _=0;if(e[u].weight.row.val>=0){_=e[u].weight.row.val}d.val=_;d.colorVal=m;if(s.length>0){s[s.length-1].children=ue(e,t+1,a,n,l);n=u;l=n+1}s.push(d)}else{if(e[u].weight.row.val>=0){s[s.length-1].val+=e[u].weight.row.val}l++}o=h;if(u===r-1){if(s.length>0){s[s.length-1].children=ue(e,t+1,a,n,l)}}}var g;var v;for(g=0;g<s.length;g++){for(v=0;v<s[g].children.length;v++){s[g].ctx=s[g].ctx.concat(s[g].children[v].ctx)}}return s};var de=function(e,t,a,r){if(t!==a-1){var o=a-1-t;if(o===1){r.color="#f9f9f9"}else if(o===2){r.color="#e3e3e3"}else if(o===3){r.color="#bfbfbf"}else if(o===4){r.color="#989898"}else if(o===5){r.color="#717171"}r.colorValue=Number.MAX_VALUE}else{if(U[e].color){r.colorValue=U[e].color.row.val;if(K){var n=K.domain();var l=K.domainInfo;if(s.isNoValue(r.colorValue)){r.color=z.emptycolor}else{var u;for(var d=0;d<n.length;d++){var h=n[d];var p=l[d];var c=false;if(d===n.length-1||n[d+1].length===0){u=h;break}if(r.colorValue>h[0]&&r.colorValue<h[1]){c=true}else if(!p.isLeftOpen&&r.colorValue===h[0]){c=true}else if(!p.isRightOpen&&r.colorValue===h[1]){c=true}if(c){u=h;break}if(r.colorValue>=h[0]&&r.colorValue<h[1]){u=h;break}}r.color=K(u)}}else{r.color=z.emptycolor}}else{r.colorValue=Number.MAX_VALUE;var f=i.sap32().range();r.color=f[0]}}};function he(e){G=e;R.startToInit();if(z.border&&z.border.visible){O=1}else{O=0}K=se();var t=U[0].dimensions.length;var a=ue(U,0,t,0,U.length);ne(a);oe(a);re(e,a);return he}he.dataLabel=function(e){};he.afterUIComponentAppear=function(){R.initialized()};he.mouseover=function(e){if(le(e)){G.selectAll(".v-axis-item").attr("opacity",0);e.setAttribute("opacity",1);e.setAttribute("class","v-labelarea v-axis-item v-hovershadow");e.setAttribute("fill",b)}};he.mouseout=function(e){if(le(e)){e.setAttribute("class","v-labelarea v-axis-item");e.setAttribute("opacity",0)}if(z.tooltip.enabled){R.hideTooltip()}te(e)};he.cleanLabelAreas=function(){if(G){G.selectAll(".v-labelarea").attr("class","v-labelarea v-axis-item").attr("opacity",0)}};he.mouseup=function(e){if(le(e)){e.setAttribute("opacity",1);e.setAttribute("class","v-labelarea v-axis-item v-hovershadow");e.setAttribute("fill",b)}};he.mousedown=function(e){e.setAttribute("opacity",1);e.setAttribute("class","v-labelarea v-axis-item v-hovershadow-mousedown");e.setAttribute("fill",x)};he.parent=function(){return G};he.highlight=function(e,t){f.highlightProperties.hoverBorderColor="#999999";f.highlightProperties.selectedBorderColor="#000000";f.nodesHighlight(e,{factor:.7,constant:0},W,t);f.resetHighlightProperties();if(q){c.clearSelectionInfo(G,true,e)}if(!o.isArray(e)){e=[e]}if(t){d3.selectAll(e).classed(_,false);d3.selectAll(e).classed(g,true)}else{d3.selectAll(e).classed(_,true);d3.selectAll(e).classed(g,false)}};he.unhighlight=function(e,t,a){f.highlightProperties.hoverBorderColor="#999999";f.highlightProperties.selectedBorderColor="#000000";f.nodesUnhighlight(e,t,a);f.resetHighlightProperties();if(q){c.clearSelectionInfo(G,false,e)}if(!o.isArray(e)){e=[e]}if(t){d3.selectAll(e).classed(_,true);d3.selectAll(e).classed(g,false)}else{d3.selectAll(e).classed(_,false);d3.selectAll(e).classed(g,false)}};he.clear=function(e){if(!e){var t=G.selectAll(".v-datapoint");t.attr("fill-opacity",1);if(q){c.clearSelectionInfo(G,false,t)}}else{G.selectAll(".v-datapoint").attr("fill-opacity",.4)}G.selectAll(".v-datapoint").classed(_,false).classed(g,false)};he.width=function(e){if(!arguments.length){return M}M=e;return he};he.height=function(e){if(!arguments.length){return S}S=e;return he};he.data=function(e){if(!arguments.length){return w}w=e;C=true;B=w.getAnalysisAxisDataByIdx(0);V=w.getMeasureValuesGroupDataByIdx(0);H=w.getMeasureValuesGroupDataByIdx(1);q=false;if(V.values[0].rows[0][0].info&&V.values[0].rows[0][0].info.defaultSelection){q=true}if(H){if(H.values[0].rows[0][0].info&&H.values[0].rows[0][0].info.defaultSelection){q=true}}var t=w.getAnalysisAxisDataByIdx(0);var a=w.getMeasureValuesGroupDataByIdx(0);var i=w.getMeasureValuesGroupDataByIdx(1);U=[];var r=a.values[0].rows[0];var s,o;for(s=0;s<r.length;s++){o={};var n={};n.col=a.values[0].col;n.row=r[s];o.weight=n;U.push(o)}if(i){r=i.values[0].rows[0];for(s=0;s<U.length;s++){o=U[s];var l={};l.col=i.values[0].col;l.row=r[s];o.color=l}}r=t.values;for(s=0;s<U.length;s++){o=U[s];var u=[];var d=r.length;if(d>X){d=X}for(var h=0;h<d;h++){var p={};p.col=t.values[h].col;p.row=t.values[h].rows[s];u.push(p)}o.dimensions=u}return he};he.properties=function(e){if(!arguments.length){return D}h.extend(true,z,e);h.extend(true,D,e);C=true;return he};he.getDatapointsByRange=function(e){var t=G.selectAll(".v-datapoint")[0],a=[],i=e.ctx.ranges,r;for(var o=0,n=t.length;o<n;o++){r=t[o].__data__.colorValue;if(e.val==="N/A"){if(s.isNoValue(r)){a.push(t[o])}}else{if(r<i.endValue&&r>i.startValue){a.push(t[o])}else{if(!i.isLeftOpen&&r===i.startValue){a.push(t[o])}else if(!i.isRightOpen&&r===i.endValue){a.push(t[o])}}}}return a};he.mbcLegendInfo=function(){var e=se();var t="";if(H){t=H.values[0].col}return{colorScale:e,title:t}};he.getPreferredSize=function(){};he.dispatch=function(e){if(!arguments.length){return R}R=e;return he};he.destroy=function(){if(N){N.domain([0,1]).range([0,1])}if(P){P.domain([0,1]).range([0,1])}if(G){G.selectAll(".v-datapoint").remove()}P=null;N=null;B=null;V=null;H=null;U=null;G=null;Y=null;j=null;K=null;A=null;T=null;if(t){t.destroy();t=null}};return he};return y});define("sap/viz/feeds/TreeMap",["sap/viz/feeds/Manifest","sap/viz/data/feed/Constants"],function e(t,a){var i={id:"rectangleTitle",name:"IDS_RECTANGLETITLE",type:a.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:-1,maxStackedDims:6};var r={id:"rectangleWeight",name:"IDS_RECTANGLEWEIGHT",type:a.Type.Measure,min:1,max:1,mgIndex:1};var s={id:"rectangleColor",name:"IDS_RECTANGLECOLOR",type:a.Type.Measure,min:0,max:1,mgIndex:2};var o={id:"treeMap",feeds:[i,s,r]};var n={viz:[],module:[],feeds:[o]};return n});define("sap/viz/modules/manifests/TreeMap",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/treemap","sap/viz/feeds/TreeMap"],function e(t,a,i,r){var s={id:"sap.viz.modules.treemap",type:a.Type.Chart,name:"treemap",properties:{border:{name:"border",description:"Settings for the border",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set the visibility of the zone edge"}}},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the data loading animation is enabled"},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the data updating animation is enabled"},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the resizing animation is enabled"}},description:"Settings for animations in the plot area",example:"<a href='"+a.DocExample.SnippetUrl+"8535' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},startColor:{name:"startColor",supportedValueType:"String",defaultValue:"#C2E3A9",description:"Set the starting color of the tree map"},endColor:{name:"endColor",supportedValueType:"String",defaultValue:"#73C03C",description:"Set the end color of the tree map"},colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:undefined,description:'Set the color palette for the various sectors. For example, ["#748CB2", "#9CC677", "#EACF5E", "#F9AD79", "#D16A7C"].'},legendValues:{name:"legendValues",supportedValueType:"IntArray",defaultValue:undefined,description:"Set the MBC legend values. For example, [10,11,12,13,14,15]. "+"The values in the array should be in ascending order. If the number of values in the array is smaller than the MBC legend segment number, "+"the MBC legend automatically calculates the values according to the data. If the number of values in the legendValues array is larger than MBC legend segment number, "+'then only the first "segment number + 1" values are used.'},formatRules:{name:"formatRules",supportedValueType:"Array",isExported:true,description:'Sample value for formatRules:  [{condition: [{Key1:Value1, Key2:Value2}], color:"#00ff00"}, {condition: [{Key3:Value3}], color:"#00ffff"}].   Each rule has two properties: the "condition" and the "color".   Value1, Value2 and Value3 are values. <br />  The value of a dimension may be <br />  1, Single value (string), like "China" . <br />  2. Array (enumeration), like ["UK","USA"] . <br />  The value of a measure may be <br />  1, Single value (number), like 20 . <br />  2. Arry (enumeration), like [121,122] . <br />  3. Object (range), like {min:100, max 200} . Min and max are inclusive.   If users want to inlcude 200, but not 100 in the range, they may use {min:100.00001, max:200}.   If users want values larger than 100, they may write {min:100}. <br />   The color is applied if one or more conditions in the condition array is met.   If multiple rules could apply on the same data point, it is the last rule that takes effect.',example:"<a href='"+a.DocExample.SnippetUrl+"8751' target='_blank'>"+a.DocExample.TryThisValue+"</a>"},tooltip:{name:"tooltip",description:"Settings for tooltip",supportedValueType:"Object",supportedValues:{visible:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the tooltip is enabled"}},isExported:false}},events:{initialized:a.Event.Initialized.desc,selectData:a.Event.SelectData.desc,deselectData:a.Event.DeSelectData.desc,showTooltip:a.Event.TooltipShow.desc,hideTooltip:a.Event.TooltipHide.desc},feeds:{id:"treeMap"},css:{},configure:null,fn:i};var o={viz:[],module:[s],feeds:[].concat(r.feeds)};return o});define("sap/viz/manifests/TreeMapChart",["sap/viz/manifests/Viz","sap/viz/modules/Constants","sap/viz/modules/manifests/RootContainer","sap/viz/manifests/BaseSingleChart","sap/viz/chart/elements/manifests/Tooltip","sap/viz/modules/manifests/TreeMap","sap/viz/chart/elements/manifests/controller/Interaction"],function e(t,a,i,r,s,o,n){var l={id:"viz/treemap",name:"IDS_TREEMAPCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/base/single",modules:{root:{configure:{properties:{layout:{adjustPolicy:a.LAYOUT_ADJUST_POLICY.RELAYOUT}},propertiesOverride:{layout:{hideAxisTitleFirst:{isExported:false}}}},modules:{legends:{modules:{legend:{id:"sap.viz.modules.legend.common",configure:{description:"Settings for the measure-based coloring legend. The measure-based coloring legend is a bar containing various colors and a value scale indicating the relationship between the values and those colors. ",properties:{type:"MeasureBasedColoringLegend"},propertiesOverride:{isHierarchical:{isExported:false},isScrollable:{isExported:false},formatString:{isExported:true}}}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"treemap",orientation:"bottom"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"],handlers:[{triggerKey:"hover_on_axis_label",fn:function(e,t,a){a["main.plot"].mouseover(e.data.currentTarget)}},{triggerKey:"hover_on_non_axis_label",fn:function(e,t,a){a["main.plot"].cleanLabelAreas()}}],decorations:[{name:"focusAxisLabel",fn:function(e,t){if(t){t["main.plot"].mousedown(e)}}},{name:"defocusAxisLabel",fn:function(e,t){if(t){t["main.plot"].mouseup(e)}}},{name:"unhoverOnAxisLabel",fn:function(e,t){if(t){t["main.plot"].cleanLabelAreas()}}}]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,orientation:"vertical",position:"inside",automaticInOutside:false,showZero:true,isStackMode:false,isPercentMode:false,isTreeMap:true,outsideVisible:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.treemap",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[{targetModule:"root.legends.legend",target:"mbcLegendInfo",sourceModule:"root.main.plot",source:"mbcLegendInfo"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]}};var u={viz:[l].concat(r.viz),module:[].concat(r.module,i.module,s.module,o.module,n.module),feeds:[].concat(r.feeds,i.feeds,s.feeds,o.feeds)};return u});define("sap/viz/impls/TreeMapChart",["sap/viz/manifests/TreeMapChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/impls/VerticalBarChart",["sap/viz/manifests/xy/VerticalBarChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/modules/verticalboxplot",["sap/viz/base/utils/oo","sap/viz/modules/BaseBoxplot","sap/viz/base/utils/TypeUtils","sap/viz/modules/dispatch","sap/viz/modules/util/MNDHandler","sap/viz/util/ColorSeriesGenerator","sap/viz/util/Scaler","sap/viz/util/NumberUtils","sap/viz/lang/langManager","sap/viz/modules/util/tooltipDataHandler","sap/viz/base/utils/Objects","sap/viz/modules/util/BoundUtil","sap/viz/modules/util/defaultSelectionUtil","sap/viz/modules/util/GestureUtil","sap/viz/modules/util/ClippathUtil","sap/viz/base/UADetector","sap/viz/util/DrawUtil","sap/viz/modules/util/selectionUtil"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g,v){var y="v-datashapesgroup";var b="v-datapoint";var x=u.get("IDS_ISNOVALUE");var A={Maximum:"Maximum",ThirdQuartile:"3Quartile",Median:"Median",FirstQuartile:"1Quartile",Minimum:"Minimum"};var M=function(e,t){M.superclass.constructor.apply(this,arguments);this._box_dimensions={"sap.viz.modules.verticalboxplot.dimension":{key:"sap.viz.modules.verticalboxplot.dimension",values:null}};this._dimensionScale=d3.scale.ordinal();this._box_boxWidth=undefined;this._box_axisList.xAxis.axis=this._dimensionScale;this._box_axisList.xAxis.type="category";this._box_axisList.yAxis.axis=this._valueAxis1.scale;this._box_axisList.yAxis.type="value"};t.extend(M,a);M.prototype.render=function(e,t){var a=this;e.each(function(){p.drawBound(e,a._width,a._height,undefined,true);if(_.isMobile()){var r=m.drawClippath(e,a._width,a._height);e.attr("clip-path","url(#"+r+")")}var s=1;a._box_boxWidth=8*a._categoryScale.rangeBand()/(9*s+7);a._d3root=d3.select(this);var o=a._d3root;if(a._box_defsEnter===null){a._box_defsEnter=o.append("defs").append("clipPath").attr("id","clipPlot_"+a._box_id).append("rect").attr("width",a._width).attr("height",a._height)}else{a._box_defsEnter.attr("width",a._width).attr("height",a._height)}var n=o.selectAll("g.v-datashapesgroup");if(!i.isExist(n[0][0])){if(_.isMobile()){a._datashapesgroup=n=o.append("g").attr("class","v-datashapesgroup").attr("fill","none")}else{n=o.append("g").attr("class","v-datashapesgroup").attr("clip-path","url(#clipPlot_"+a._box_id+")").attr("fill","none")}}var l=n.selectAll("g."+b);if(!l.empty()&&!a._isPinching){l.remove()}var u=null;l=n.selectAll("g."+b);if(l.empty()&&!a._isPinching){u=n.selectAll("g."+b).data(a._box_seriesData);u.enter().append("g").attr("class",b)}else{u=n.selectAll("."+b)}u.each(function(e,t){if(e.length===0){a._box_boxplotData.push({});return}e=e.sort(function(e,t){return e.val-t.val});var i=e.length,r=e[0],s=e[i-1];a._boxfn_setDistribution(e);var o=d3.select(this).selectAll("circle.v-outliers");if(o.empty()&&!a._isPinching){o=d3.select(this).selectAll("circle.v-outliers").data(a._box_outLiersObj);o.enter().append("circle")}o.attr("cx",function(e){var i=a._categoryScale(t)+a._box_boxWidth;return i}).attr("cy",function(e,t){var i=a._valueAxis1.scale(e.val);return i}).attr("r",a._box_outlierLayout.radius).attr("stroke",function(e){var i={drawingEffect:"normal",fillColor:a._box_boxColorPalette[t%a._box_boxColorPalette.length]};return a._box_effectManager.register(i)}).attr("stroke-width",a._box_outlierLayout.strokeWidth).attr("fill","transparent").attr("class","v-morphable-datapoint v-outliers");if(!a._isPinching){o.exit().remove()}var n=d3.select(this).selectAll("rect.v-quartile");if(n.empty()&&!a._isPinching){n=d3.select(this).selectAll("rect.v-quartile").data(a._box_quartilesObj);n.enter().append("rect")}n.attr("x",function(e){var i=a._categoryScale(t)+a._box_boxWidth/2;return i}).attr("y",function(e,t){var i=a._valueAxis1.scale(e.pair[0].val);return i}).attr("width",a._box_boxWidth).attr("height",function(e,t){var i=0;var r=e.pair[1].val-e.pair[0].val;if(r===0){i=1}else{i=a._valueAxis1.scale(e.pair[1].val)-a._valueAxis1.scale(e.pair[0].val)}return i}).attr("shape-rendering","crispEdges").attr("fill",function(e){var i={drawingEffect:a._box_drawingEffect,fillColor:a._box_boxColorPalette[t%a._box_boxColorPalette.length],direction:"horizontal"};return a._box_effectManager.register(i)}).attr("stroke-width",a._box_quartileLayout.width).attr("class","v-morphable-datapoint v-quartile");if(a._box_quartilesObj.length===2){var l=a._categoryScale(t)+a._box_boxWidth/2;var u=l+a._box_boxWidth;var d=a._valueAxis1.scale(a._box_quartilesObj[0].midLine.val);var h=d;var p=d3.select(this).selectAll(".v-boxplotmidline");if(p.empty()&&!a._isPinching){p=d3.select(this).append("line")}p.attr("x1",l).attr("y1",h).attr("x2",u).attr("y2",d).attr("stroke","#333333").attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-boxplotmidline")}if(!a._isPinching){n.exit().remove()}var c=0,f=0,m=0,_=0;var g=0,v=0,y=0,b=0;var x=d3.select(this).selectAll("rect.v-rectlowwhisker");if(x.empty()&&!a._isPinching){x=d3.select(this).selectAll("rect.v-rectlowwhisker").data(a._box_lowWhiskerObj);x.enter().append("rect")}x.attr("x",function(e){var i=a._categoryScale(t)+a._box_boxWidth/2;g=i;y=i+a._box_boxWidth;c=m=i+a._box_boxWidth/2;return i}).attr("y",function(e){var t=e.pair;var i=a._valueAxis1.scale(t[0].val);f=i;v=b=a._valueAxis1.scale(t[1].val);return i}).attr("width",a._box_boxWidth).attr("height",function(e){var i=a._valueAxis1.scale(e.pair[1].val)-a._valueAxis1.scale(e.pair[0].val);_=a._valueAxis1.scale(e.pair[1].val);var r=d3.select(this.parentNode).selectAll(".v-lineverticallowwhisker");if(r.empty()&&!a._isPinching){r=d3.select(this.parentNode).append("line")}r.attr("x1",c).attr("y1",f).attr("x2",m).attr("y2",_).attr("stroke","#808080").attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-lineverticallowwhisker v-innerwhisker");r=d3.select(this.parentNode).selectAll(".v-linehorizontallowwhisker");if(r.empty()&&!a._isPinching){r=d3.select(this.parentNode).append("line")}r.attr("x1",g).attr("y1",v).attr("x2",y).attr("y2",b).attr("stroke",function(e){var i={drawingEffect:"normal",fillColor:a._box_boxColorPalette[t%a._box_boxColorPalette.length]};return a._box_effectManager.register(i)}).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-linehorizontallowwhisker");return i}).attr("shape-rendering","crispEdges").attr("fill","transparent").attr("stroke-width","0").attr("class","v-morphable-datapoint v-rectlowwhisker");if(!a._isPinching){x.exit().remove()}c=0,f=0,m=0,_=0;g=0,v=0,y=0,b=0;x=d3.select(this).selectAll("rect.v-recthighwhisker");if(x.empty()&&!a._isPinching){x=d3.select(this).selectAll("rect.v-recthighwhisker").data(a._box_highWhiskerObj);x.enter().append("rect")}x.attr("x",function(e){var i=a._categoryScale(t)+a._box_boxWidth/2;g=i;y=i+a._box_boxWidth;c=m=i+a._box_boxWidth/2;return i}).attr("y",function(e,t){var i=e.pair;var r=a._valueAxis1.scale(i[0].val);f=r;v=b=a._valueAxis1.scale(i[0].val);return r}).attr("width",a._box_boxWidth).attr("height",function(e,i){var r=a._valueAxis1.scale(e.pair[1].val)-a._valueAxis1.scale(e.pair[0].val);_=f+r;var s=d3.select(this.parentNode).selectAll(".v-lineverticalhighwhisker");if(s.empty()&&!a._isPinching){s=d3.select(this.parentNode).append("line")}s.attr("x1",c).attr("y1",f).attr("x2",m).attr("y2",_).attr("stroke","#808080").attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-lineverticalhighwhisker v-innerwhisker");s=d3.select(this.parentNode).selectAll(".v-linehorizontalhighwhisker");if(s.empty()&&!a._isPinching){s=d3.select(this.parentNode).append("line")}s.attr("x1",g).attr("y1",v).attr("x2",y).attr("y2",b).attr("stroke",function(e){var i={drawingEffect:"normal",fillColor:a._box_boxColorPalette[t%a._box_boxColorPalette.length]};return a._box_effectManager.register(i)}).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-linehorizontalhighwhisker");return r}).attr("shape-rendering","crispEdges").attr("fill","transparent").attr("stroke-width","0").attr("class","v-morphable-datapoint v-recthighwhisker");if(!a._isPinching){x.exit().remove()}a._boxfn_clearBoxData()});if(_.isMobile()&&!t&&e){a._datashapesgroup.attr("transform",null)}if(t&&t.isPinching){a._eDispatch.initialized({eventSource:"pinch"})}else{a._eDispatch.initialized()}if(!a._isPinching){u.exit().remove()}var d=a._fullData;if(!d){d=a._box_data}a.applyFormatConditions(a._props.formatRules,o.selectAll("g.v-datashapesgroup"),d,a);a._box_lastHovered=null});return this};M.prototype.applyFormatConditions=function(e,t,a,i){var r=function(e,t){var a;for(a=0;a<e.length;++a){var r=d3.select(e[a]).selectAll("circle.v-outliers");r.attr("stroke",function(e){var a={drawingEffect:"normal",fillColor:t.color};return i._box_effectManager.register(a)});var s=d3.select(e[a]).selectAll("rect.v-quartile");s.attr("fill",function(e){var a={drawingEffect:i._box_drawingEffect,fillColor:t.color,direction:"horizontal"};return i._box_effectManager.register(a)});d3.select(e[a]).selectAll(".v-linehorizontallowwhisker").attr("stroke",function(e){var a={drawingEffect:"normal",fillColor:t.color};return i._box_effectManager.register(a)});d3.select(e[a]).selectAll(".v-linehorizontalhighwhisker").attr("stroke",function(e){var a={drawingEffect:"normal",fillColor:t.color};return i._box_effectManager.register(a)})}};v.applyConditons(e,t,a,r)};M.prototype.parent=function(){return this._d3root};M.prototype.categoryScale=function(e){if(!arguments.length){return this._dimensionScale}this._dimensionScale=e;return this};M.prototype.primaryScale=function(e){if(!arguments.length){return this._valueAxis1.scale}this._valueAxis1.scale=e;return this};M.prototype.primaryDataRange=function(e){if(!arguments.length){return{min:this._box_scaleMinMax.min,max:this._box_scaleMinMax.max}}var t,a;if(e!==null){if(!isNaN(e.max)){t=e.max}else{t=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(e.min)){a=e.min}else{a=this._valueAxis1.scale.perfectDomainBegin}if(t>a){this._box_scaleMinMax.max=t;this._box_scaleMinMax.min=a;if(e.from==="axis"){this._box_scaleManualRange=true}if(i.isExist(this._width)&&i.isExist(this._height)){this._boxfn_makeScales()}}}else{if(this._box_scaleManualRange===true){this._box_scaleMinMax.max=this._box_scaleMinMax.initMax;this._box_scaleMinMax.min=this._box_scaleMinMax.initMin;this._box_scaleManualRange=false;if(i.isExist(this._width)&&i.isExist(this._height)){this._boxfn_makeScales()}}}return this};M.prototype.destroy=function(){if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1])}if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1])}if(this._dimensionScale){this._dimensionScale.domain([0,1]).range([0,1])}if(this._d3root){this._d3root.selectAll(".v-datapoint").remove()}this._dimensionScale=null;this._categoryScale=null;this._valueAxis1.scale=null;this._box_defsEnter=null;this._d3root=null;this._box_lastHovered=null;this._box_dimensionGroup=null;this._box_dimensionDomain=null;this._box_seriesData=null;this._box_legendData=null;this._box_regionData=null;this._box_dimensionData=null;this._box_boxplotData=null;this._box_colorPalette=null;this._box_boxColorPalette=null;this._box_dimensions["sap.viz.modules.verticalboxplot.dimension"].values=null;this._box_dimensions=null;this._box_data=null};M.prototype._boxfn_makeScales=function(){var e=[];for(var t=0;t<this._box_seriesData.length;t++){e.push(t)}this._categoryScale.domain(e).rangeBands([0,this._width]);this._dimensionScale.domain(this._box_dimensionDomain).rangeBands([0,this._width]);if(!this._box_scaleMinMax||this._box_scaleMinMax.min===0&&this._box_scaleMinMax.max===0){this._valueAxis1.scale.domain([0,1]).range([this._height,0])}else{this._valueAxis1.scale.domain([this._box_scaleMinMax.min,this._box_scaleMinMax.max]).range([this._height,0])}if(!this._box_scaleManualRange){n.perfect(this._valueAxis1.scale)}else{n.getRoughTickNum(this._valueAxis1.scale)}};M.prototype._boxfn_generateDimensions=function(){if(this._box_dimensionGroup){var e=this._box_dimensionGroup.length,t=null;t=this._box_dimensionGroup[e-1].val;if(t.length===0){this._box_dimensionDomain.push(0);this._box_dimensionDomain.push(1)}else{for(var a=0,i=t.length;a<i;a++){this._box_dimensionDomain.push(a)}}if(t.length===0){this._box_dimensions["sap.viz.modules.verticalboxplot.dimension"].values=[{col:{val:this._box_dimensionGroup[e-1].col},rows:[]}]}else{var r=[];for(var s=0;s<e;s++){var o={col:{val:""},rows:[]};o.col.val=this._box_dimensionGroup[s].col;var n=this._box_dimensionGroup[s].val;for(var l=0,u=n.length;l<u;l++){var d=n[l].start,h=n[l].end,p=this._boxfn_caculateLeavesNum.call(this,d,h);for(var c=0;c<p;c++){o.rows.push({val:this._boxfn_handleNull(n[l].val.val),info:n[l].val.info,contexts:n[l].val.contexts})}}r.push(o)}this._box_dimensions["sap.viz.modules.verticalboxplot.dimension"].values=r}}};M.prototype._boxfn_getBoxElements=function(e){var t=d3.select(e);var a=t.selectAll(".v-quartile");var i=t.selectAll(".v-linehorizontallowwhisker");var r=t.selectAll(".v-linehorizontalhighwhisker");var s=t.selectAll(".v-outliers");var o=t.selectAll(".v-boxplotmidline");var n=t.selectAll(".v-innerwhisker");return{outliers:s,quartiles:a,lowWhiskers:i,highWhiskers:r,midLine:o,connectLines:n}};return M});define("sap/viz/modules/manifests/xy/VerticalBoxplot",["sap/viz/modules/manifests/Module","sap/viz/modules/verticalboxplot","sap/viz/modules/manifests/xy/Base"],function e(t,a,i){var r={id:"sap.viz.modules.verticalboxplot",name:"vertical boxplot",base:"sap.viz.modules.xy.base",properties:{primaryValuesColorPalette:{isExported:false},secondaryValuesColorPalette:{isExported:false},tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the tooltip is enabled"}},isExported:false,description:"Settings for tooltip related properties"}},feeds:{configure:{secondaryValues:null,axisLabels:{acceptMND:-1,min:1,max:1}}},css:{},fn:a};var s={viz:[],module:[r].concat(i.module),feeds:[].concat(i.feeds)};return s});define("sap/viz/manifests/xy/VerticalBoxplotChart",["sap/viz/manifests/Viz","sap/viz/base/UADetector","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/xy/VerticalBoxplot","sap/viz/manifests/xy/BaseVerticalChart","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/modules/manifests/controller/Pinch"],function e(t,a,i,r,s,o,n){var l={id:"viz/boxplot",name:"IDS_VERTICALBOXPLOTCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/baseverticalchart",modules:{root:{modules:{tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"verticalboxplot",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousedown","mousemove","mouseover","mouseout","touchstart"],holdSelection:false,extensionPoints:{convertData:function(e,t){return e.getDataOfDataPoint(t)},getBoundingBoxes:function(e){var t=e.childNodes;var a=[];Array.prototype.forEach.call(t,function(e){var t=e.getBoundingClientRect();var i={x:t.left,y:t.top,height:t.height,width:t.width,right:t.right,bottom:t.bottom};a.push(i)});return a}}}}},main:{modules:{dataLabel:null,xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isIndependentMode:true,indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},plot:{id:"sap.viz.modules.verticalboxplot",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.xAxis",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legends.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]},categoryAxis:["xAxis"],valueAxis:["yAxis"]};if(a.isMobile()){var u=l.modules.root.modules;u.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var d=l.dependencies.attributes;var h=l.dependencies.events;d.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});h.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});h.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});h.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});h.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});h.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});h.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});h.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});h.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});h.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});h.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});h.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"})}var p={viz:[l].concat(s.viz),module:[].concat(s.module,i.module,r.module,o.module,n.module),feeds:[].concat(s.feeds,i.feeds,r.feeds,o.feeds,n.feeds)};return p});define("sap/viz/impls/VerticalBoxplotChart",["sap/viz/manifests/xy/VerticalBoxplotChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/xy/WaterfallChart",["sap/viz/manifests/Viz","sap/viz/base/UADetector","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/xy/StackedWaterfall","sap/viz/manifests/xy/BaseVerticalChart","sap/viz/chart/elements/manifests/controller/Interaction","sap/viz/modules/manifests/controller/Pinch"],function e(t,a,i,r,s,o,n){var l={id:"viz/waterfall",name:"IDS_WATERFALLCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/baseverticalchart",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}},legends:null,main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,showZero:false,outsideVisible:false},propertiesOverride:{position:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"yAxis",properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isIndependentMode:true,indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},plot:{id:"sap.viz.modules.stackedwaterfall",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",propertiesOverride:{isShowTotal:{isExported:false}}}}}}}}},feeds:{regionColor:null},dependencies:{attributes:[{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},null,{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.xAxis",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.interaction",listener:"defaultSelection",sourceModule:"root.main.plot",type:"initialized.defaultSelection"}]},categoryAxis:["xAxis"],valueAxis:["yAxis"]};if(a.isMobile()){var u=l.modules.root.modules;u.pinch={id:"sap.viz.modules.controller.pinch",configure:{clientID:"main",propertyCategory:"pinch",properties:{}}};var d=l.dependencies.attributes;var h=l.dependencies.events;d.push({targetModule:"root.pinch",target:"targetPlot",sourceModule:"root.main.plot",source:"self"});h.push({targetModule:"root.pinch",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.pinch"});h.push({targetModule:"root.main.yAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});h.push({targetModule:"root.main.xAxis",listener:"showIndicator",sourceModule:"root.pinch",type:"touchStart.pinch"});h.push({targetModule:"root.main.yAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});h.push({targetModule:"root.main.xAxis",listener:"hideIndicator",sourceModule:"root.pinch",type:"touchEnd.pinch"});h.push({targetModule:"root.main.yAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.yAxis"});h.push({targetModule:"root.main.xAxis",listener:"redraw",sourceModule:"root.main.plot",type:"scale.xAxis"});h.push({targetModule:"root.main.xAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.xAxis"});h.push({targetModule:"root.main.yAxis",listener:"stretchFromPlot",sourceModule:"root.main.plot",type:"stretch.yAxis"});h.push({targetModule:"root.main.xAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.xAxis"});h.push({targetModule:"root.main.yAxis",listener:"stretchEnd",sourceModule:"root.main.plot",type:"stretchEnd.yAxis"})}var p={viz:[l].concat(s.viz),module:[].concat(s.module,i.module,r.module,o.module,n.module),feeds:[].concat(s.feeds,i.feeds,r.feeds,o.feeds,n.feeds)};return p});define("sap/viz/impls/WaterfallChart",["sap/viz/manifests/xy/WaterfallChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/modules/bullet",["sap/viz/base/utils/oo","sap/viz/modules/BaseGesture","sap/viz/base/utils/TypeUtils","sap/viz/modules/dispatch","sap/viz/lang/langManager","sap/viz/util/NumberUtils","sap/viz/util/Scaler","sap/viz/util/ColorSeriesGenerator","sap/viz/base/utils/Objects","sap/viz/modules/util/BoundUtil","sap/viz/base/utils/ObjectUtils","sap/viz/modules/Constants","sap/viz/modules/util/GestureUtil","sap/viz/modules/util/ClippathUtil","sap/viz/base/UADetector","sap/viz/util/DrawUtil","sap/viz/modules/util/selectionUtil"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g){var v=function(e,t){if(t&&t.isPinching){e.initialized({eventSource:"pinch"})}else{e.initialized()}};var y=p.CSS.CLASS.DATAPOINTSELECTED,b=p.CSS.CLASS.DATAPOINTHOVER,x="v-datapoint",A=p.CSS.CLASS.MORPHABLEDATAPOINT;var M=x+" "+A;var S="v-datashapesgroup";var z=s.get("IDS_ISNOVALUE");var D=function(e,t){D.superclass.constructor.apply(this,arguments);this._bullet_originData=null;this._bullet_chartData=null;this._bullet_primaryAxisMinValue=null;this._bullet_primaryAxisMaxValue=null;this._bullet_categoryLen=null;this._bullet_primaryAxisManualRange=false;this._bullet_barInfo=null;this._bullet_dimensionData=null;this._bullet_measureData=null;this._bullet_effectManager=t.effectManager;this._bullet_styleManager=t.styleManager;this._bullet_drawingEffect="normal";this._d3root=null;u.extend(true,this._props,e.props(null));this._bullet_defsEnter=null;this._bullet_colorPalette=l.sap32().range();this._bullet_id=Math.floor(Math.random()*1e4)};t.extend(D,a);D.prototype.render=function(e,t){d.drawBound(e,this._width,this._height);if(m.isMobile()){var a=f.drawClippath(e,this._width,this._height);e.attr("clip-path","url(#"+a+")")}this._eDispatch.startToInit();var r=this;e.each(function(){r._bullet_barInfo=r._bullet_getBarInfo();var e=r._bullet_barInfo.barSize;r._d3root=d3.select(this);var a=r._d3root;if(!i.isExist(r._bullet_defsEnter)){r._bullet_defsEnter=a.append("defs").append("clipPath").attr("id","clipPlot_"+r._bullet_id).append("rect").attr("width",r._width).attr("height",r._height)}else{r._bullet_defsEnter.attr("width",r._width).attr("height",r._height)}var s=r._d3root.selectAll("g.v-datashapesgroup");if(s.empty()){if(m.isMobile()){s=r._datashapesgroup=r._d3root.append("g").attr("class","v-datashapesgroup")}else{s=r._datashapesgroup=r._d3root.append("g").attr("class","v-datashapesgroup").attr("clip-path","url(#clipPlot_"+r._bullet_id+")")}}s.selectAll("g.v-bulletgroup").remove();var o=s.selectAll("g.v-bulletgroup").data(r._bullet_groupData);o.enter().append("g").attr("class","v-bulletgroup "+x);o.exit().remove();o.attr("transform",function(e,t){var a=d3.select(this);var i=[];var s=0;var o=0;var n=r._bullet_referenceData;if(n&&n.values[2]){i=[n.values[2].rows[0][t]];s=Math.max(s,i[0].val)}var l=a.selectAll("rect.v-maxReference").data(i);l.enter().append("rect").attr("class","v-maxReference");l.exit().remove();l.attr("transform",function(e,a){d3.select(this).attr("x","0").attr("y",""+(r._categoryScale(t)+r._bullet_barInfo.barGap)).attr("width",""+r._valueAxis1.scale(e.val)).attr("height",r._bullet_barInfo.barSize).attr("fill",r._props.referenceValuesColorPalette[2])});i=[];if(n&&n.values[1]){i=[n.values[1].rows[0][t]];s=Math.max(s,i[0].val)}l=a.selectAll("rect.v-midReference").data(i);l.enter().append("rect").attr("class","v-midReference");l.exit().remove();l.attr("transform",function(e,a){d3.select(this).attr("x","0").attr("y",""+(r._categoryScale(t)+r._bullet_barInfo.barGap)).attr("width",""+r._valueAxis1.scale(e.val)).attr("height",r._bullet_barInfo.barSize).attr("fill",r._props.referenceValuesColorPalette[1])});i=[];if(n&&n.values[0]){i=[n.values[0].rows[0][t]];s=Math.max(s,i[0].val)}l=a.selectAll("rect.v-minReference").data(i);l.enter().append("rect").attr("class","v-minReference");l.exit().remove();l.attr("transform",function(e,a){d3.select(this).attr("x","0").attr("y",""+(r._categoryScale(t)+r._bullet_barInfo.barGap)).attr("width",""+r._valueAxis1.scale(e.val)).attr("height",r._bullet_barInfo.barSize).attr("fill",r._props.referenceValuesColorPalette[0])});i=[];if(r._bullet_measureData.values.length>1){i=[r._bullet_measureData.values[1].rows[0][t]];o=Math.max(o,i[0].val)}l=a.selectAll("rect.v-forecast").data(i);l.enter().append("rect").attr("class","v-forecast");l.exit().remove();l.attr("transform",function(e,a){d3.select(this).attr("x","0").attr("y",""+(r._categoryScale(t)+r._bullet_barInfo.barGap+r._bullet_barInfo.barSize/2-r._bullet_barInfo.primaryBarSize/2)).attr("width",""+r._valueAxis1.scale(e.val)).attr("height",r._bullet_barInfo.primaryBarSize).attr("fill",r._props.colorPalette[1])});o=Math.max(r._bullet_measureData.values[0].rows[0][t].val,o);l=a.selectAll("rect.v-datashape").data([r._bullet_measureData.values[0].rows[0][t]]);l.enter().append("rect").attr("class","v-datashape ");l.exit().remove();l.attr("transform",function(e,a){d3.select(this).attr("x","0").attr("y",""+(r._categoryScale(t)+r._bullet_barInfo.barGap+r._bullet_barInfo.barSize/2-r._bullet_barInfo.primaryBarSize/2)).attr("width",""+r._valueAxis1.scale(e.val)).attr("height",r._bullet_barInfo.primaryBarSize).attr("fill",r._props.colorPalette[0])});var u=Math.max(o,s);i=[];if(r._bullet_targetData&&r._bullet_targetData.values[0]&&r._bullet_targetData.values[0].rows[0]){i=[r._bullet_targetData.values[0].rows[0][t]];u=Math.max(i[0].val,u)}l=a.selectAll("line.v-target").data(i);var d=r._bullet_styleManager.queryDefault("v-target");l.enter().append("line").attr("class","v-target");l.exit().remove();l.attr("transform",function(e,a){d3.select(this).attr("x1",""+r._valueAxis1.scale(e.val)).attr("y1",""+(r._categoryScale(t)+r._categoryScale.rangeBand()/2-r._bullet_barInfo.targetWidth/2)).attr("x2",""+r._valueAxis1.scale(e.val)).attr("y2",""+(r._categoryScale(t)+r._categoryScale.rangeBand()/2+r._bullet_barInfo.targetWidth/2)).attr("stroke-width","2").attr("stroke",d["stroke"])});i=[];var h=r._valueAxis1.scale(u)+.15*r._categoryScale.rangeBand();if(h>r._width){h=r._width}if(m.isMobile()){i=[1]}l=a.selectAll("rect.v-eventArea").data(i);l.enter().append("rect").attr("class","v-eventArea");l.exit().remove();l.attr("transform",function(){this.setAttribute("x","0");this.setAttribute("y",""+r._categoryScale(t));this.setAttribute("width",""+h);this.setAttribute("height",""+r._categoryScale.rangeBand());this.setAttribute("visibility","visible");this.setAttribute("fill","transparent");this.setAttribute("stroke","transparent")});var p=r._categoryScale.rangeBand()/2-r._bullet_barInfo.targetWidth/2;if(p>3){p=3}l=a.append("rect").attr("class","v-effect").attr("x","0").attr("y",""+(r._categoryScale(t)+r._categoryScale.rangeBand()/2-r._bullet_barInfo.targetWidth/2)-p).attr("width",""+(r._valueAxis1.scale(u)+3>=r._width?r._width-1:r._valueAxis1.scale(u)+3)).attr("height",r._bullet_barInfo.targetWidth+2*p).attr("fill","none").attr("stroke","none")});if(m.isMobile()&&!t&&r._d3root){r._datashapesgroup.attr("transform",null)}});var s=this._fullData;if(!s){s=this._bullet_originData}this.applyFormatConditions(this._props.formatRules,this._datashapesgroup,s,this);this._eDispatch.initialized()};D.prototype.afterUIComponentAppear=function(){this._eDispatch.initialized()};function E(e){var t=e.toString(16);return t.length===1?"0"+t:t}function w(e){return"#"+E(e.r)+E(e.g)+E(e.b)}D.prototype.highlight=function(e,t){if(!i.isArray(e)){e=[e]}var a=_.colorLinerTransform(this._bullet_effectManager,{factor:.7,constant:0},this._props.colorPalette[0]);a=w(a);d3.selectAll(e).each(function(e,t){this.setAttribute("fill-opacity",1)});d3.selectAll(e).selectAll(".v-target").attr("stroke-opacity",1);if(t){d3.selectAll(e).selectAll(".v-effect").each(function(e,t){this.setAttribute("stroke",a);this.setAttribute("stroke-width","2")});d3.selectAll(e).classed(y,false);d3.selectAll(e).classed(b,true)}else{d3.selectAll(e).selectAll(".v-effect").each(function(e,t){this.setAttribute("stroke",a);this.setAttribute("stroke-width","1")});d3.selectAll(e).classed(y,true);d3.selectAll(e).classed(b,false)}};D.prototype.unhighlight=function(e,t,a){var r=_.colorLinerTransform(this._bullet_effectManager,{factor:.7,constant:0},this._props.colorPalette[0]);r=w(r);if(!i.isArray(e)){e=[e]}if(t){d3.selectAll(e).selectAll(".v-effect").each(function(e,t){this.setAttribute("stroke",r);this.setAttribute("stroke-width","1")});d3.selectAll(e).classed(y,true);d3.selectAll(e).classed(b,false)}else{d3.selectAll(e).classed(y,false);d3.selectAll(e).classed(b,false);if(!a){d3.selectAll(e).each(function(e,t){this.setAttribute("fill-opacity",.4)});d3.selectAll(e).selectAll(".v-target").attr("stroke-opacity",.4)}d3.selectAll(e).selectAll(".v-effect").each(function(e,t){this.removeAttribute("stroke");this.removeAttribute("stroke-width")})}};D.prototype.clear=function(e){var t=this._d3root.selectAll("."+x);if(e===null||e===false||e===undefined){t.attr("fill-opacity",1);t.classed(y,false).classed(b,false);t.selectAll(".v-effect").each(function(){this.removeAttribute("stroke");this.removeAttribute("stroke-width")});t.selectAll(".v-target").attr("stroke-opacity",1)}else{t.attr("fill-opacity",.4).attr("stroke","none");t.selectAll(".v-target").attr("stroke-opacity",.4);t.classed(y,false).classed(b,false);t.selectAll(".v-effect").each(function(){this.removeAttribute("stroke");this.removeAttribute("stroke-width")})}};D.prototype.parent=function(){return this._d3root};D.prototype.data=function(e){if(!arguments.length){return this._bullet_originData}this._bullet_originData=e;this._bulletfn_parseOriginData(e);if(i.isExist(this._width)&&i.isExist(this._height)){this._bulletfn_makeScale()}return this};D.prototype.properties=function(e){if(!arguments.length){return this._props}u.extend(true,this._props,e);return this};D.prototype.width=function(e){if(!arguments.length){return this._width}this._width=e;if(i.isExist(this._bullet_originData)&&i.isExist(this._width)&&i.isExist(this._height)){this._bulletfn_makeScale()}return this};D.prototype.height=function(e){if(!arguments.length){return this._height}this._height=e;if(i.isExist(this._bullet_originData)&&i.isExist(this._width)&&i.isExist(this._height)){this._bulletfn_makeScale()}return this};D.prototype.dispatch=function(e){if(!arguments.length){return this._eDispatch}this._eDispatch=e;return this};D.prototype.categoryScale=function(e){if(!arguments.length){return this._categoryScale}this._categoryScale=e;return this};D.prototype.datalabelData=function(){return this._bullet_datalabelData};D.prototype.primaryScale=function(e){if(!arguments.length){return this._valueAxis1.scale}this._valueAxis1.scale=e;return this};D.prototype.primaryAxisTitle=function(e){if(this._bullet_measureData.values[0].col!==null&&this._bullet_measureData.values[0].col!==undefined){return this._bullet_measureData.values[0].col}else{return s.get("IDS_ISNOVALUE")}};D.prototype.colorPalette=function(e){if(!arguments.length){return this._bullet_colorPalette}this._bullet_colorPalette=e;return this};D.prototype.primaryDataRange=function(e){if(!arguments.length){return{min:this._bullet_primaryAxisMinValue,max:this._bullet_primaryAxisMaxValue}}var t,a;if(e!==null){if(!isNaN(e.max)){t=e.max}else{t=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(e.min)){a=e.min}else{a=this._valueAxis1.scale.perfectDomainBegin}if(t>a){this._bullet_primaryAxisMaxValue=t;this._bullet_primaryAxisMinValue=a;if(e.from==="axis"){this._bullet_primaryAxisManualRange=true}if(i.isExist(this._width)&&i.isExist(this._height)){this._bulletfn_makeScale()}}}else{if(this._bullet_primaryAxisManualRange===true){this._bullet_primaryAxisMaxValue=this._valueAxis1.scale.perfectDomainEnd;this._bullet_primaryAxisMinValue=this._valueAxis1.scale.perfectDomainBegin;this._bullet_primaryAxisManualRange=false;if(i.isExist(this._width)&&i.isExist(this._height)){this._bulletfn_makeScale()}}}return this};D.prototype.destroy=function(){if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1])}if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1])}if(this._d3root){this._d3root.selectAll("."+x).remove()}this._categoryScale=null;this._bullet_dimensionData=null;this._bullet_defsEnter=null;this._bullet_chartData=null;this._bullet_primaryAxisManualRange=null;this._bullet_primaryAxisMaxValue=null;this._bullet_primaryAxisMinValue=null;this._valueAxis1.scale=null;this._d3root=null;if(this._bullet_effectManager&&this._bullet_effectManager.destroy){this._bullet_effectManager.destroy()}if(this._bullet_styleManager&&this._bullet_styleManager.destroy){this._bullet_styleManager.destroy()}};D.prototype._bullet_getBarInfo=function(){var e=this._categoryScale.rangeBand()*.63;var t=this._categoryScale.rangeBand()*.37;var a=this._props.barGap;var i=t,r=e;if(a!==undefined){var s=this._categoryScale.rangeBand()-a;if(!(a<5||s<0)){r=s;i=a}}return{primaryBarSize:this._categoryScale.rangeBand()*.42,barSize:r,barGap:i/2,targetWidth:this._categoryScale.rangeBand()*.82}};D.prototype._bulletfn_makeScale=function(){var e=[];for(var t=0;t<this._bullet_categoryLen;t++){e.push(t)}this._categoryScale.domain(e).rangeBands([0,this._height]);if(this._bullet_primaryAxisMinValue===0&&this._bullet_primaryAxisMaxValue===0){this._valueAxis1.scale.domain([0,1]).range([0,this._width])}else{this._valueAxis1.scale.domain([this._bullet_primaryAxisMinValue,this._bullet_primaryAxisMaxValue]).range([0,this._width])}n.perfect(this._valueAxis1.scale)};D.prototype._bulletfn_parseOriginData=function(e){this._bullet_dimensionData=e.getAnalysisAxisDataByIdx(0);this._bullet_measureData=e.getMeasureValuesGroupDataByIdx(0);this._bullet_targetData=e.getMeasureValuesGroupDataByIdx(1);this._bullet_referenceData=e.getMeasureValuesGroupDataByIdx(2);this._bullet_categoryLen=this._bullet_dimensionData.values[0].rows.length;this._bullet_primaryAxisMinValue=this._bullet_primaryAxisMaxValue=0;this._bullet_datalabelData=h.extend(true,{},this._bullet_dimensionData);this._bullet_datalabelData.values[0].col.name=this._bullet_measureData.values[0].col.name;this._bullet_datalabelData={bulletdatalabel:this._bullet_datalabelData};this._bullet_groupData=[];var t,a;for(t=0;t<this._bullet_categoryLen;++t){var i={ctx:[],val:[]};i.ctx.push(this._bullet_measureData.values[0].rows[0][t].ctx);i.val.push(this._bullet_measureData.values[0].rows[0][t].val);this._bullet_datalabelData["bulletdatalabel"].values[0].rows[t].ctx=this._bullet_measureData.values[0].rows[0][t].ctx;this._bullet_datalabelData["bulletdatalabel"].values[0].rows[t].val=this._bullet_measureData.values[0].rows[0][t].val;if(this._bullet_measureData.values[0].rows[0][t].val<this._bullet_primaryAxisMinValue){this._bullet_primaryAxisMinValue=this._bullet_measureData.values[0].rows[0][t].val}if(this._bullet_measureData.values[0].rows[0][t].val>this._bullet_primaryAxisMaxValue){this._bullet_primaryAxisMaxValue=this._bullet_measureData.values[0].rows[0][t].val}if(this._bullet_measureData.values.length>1){i.ctx.push(this._bullet_measureData.values[1].rows[0][t].ctx);i.val.push(this._bullet_measureData.values[1].rows[0][t].val);if(this._bullet_measureData.values[1].rows[0][t].val<this._bullet_primaryAxisMinValue){this._bullet_primaryAxisMinValue=this._bullet_measureData.values[1].rows[0][t].val}if(this._bullet_measureData.values[1].rows[0][t].val>this._bullet_primaryAxisMaxValue){this._bullet_primaryAxisMaxValue=this._bullet_measureData.values[1].rows[0][t].val}}if(this._bullet_targetData&&this._bullet_targetData.values&&this._bullet_targetData.values.length>0){i.ctx.push(this._bullet_targetData.values[0].rows[0][t].ctx);i.val.push(this._bullet_targetData.values[0].rows[0][t].val);if(this._bullet_targetData.values[0].rows[0][t].val<this._bullet_primaryAxisMinValue){this._bullet_primaryAxisMinValue=this._bullet_targetData.values[0].rows[0][t].val}if(this._bullet_targetData.values[0].rows[0][t].val>this._bullet_primaryAxisMaxValue){this._bullet_primaryAxisMaxValue=this._bullet_targetData.values[0].rows[0][t].val}}if(this._bullet_referenceData&&this._bullet_referenceData.values&&this._bullet_referenceData.values.length){for(a=0;a<this._bullet_referenceData.values.length;++a){i.ctx.push(this._bullet_referenceData.values[a].rows[0][t].ctx);i.val.push(this._bullet_referenceData.values[a].rows[0][t].val);if(this._bullet_referenceData.values[a].rows[0][t].val<this._bullet_primaryAxisMinValue){this._bullet_primaryAxisMinValue=this._bullet_referenceData.values[a].rows[0][t].val}if(this._bullet_referenceData.values[a].rows[0][t].val>this._bullet_primaryAxisMaxValue){this._bullet_primaryAxisMaxValue=this._bullet_referenceData.values[a].rows[0][t].val}}}this._bullet_groupData.push(i)}};D.prototype.applyFormatConditions=function(e,t,a,i){var r=function(e,t){var a={drawingEffect:i._props.drawingEffect,fillColor:t.color,direction:i._props.isHorizontal===false?"horizontal":"vertical"};var r=i._bullet_effectManager.register(a);var s;for(s=0;s<e.length;s++){e[s].setAttribute("fill",r)}};g.applyConditons(e,t,a,r)};return D});define("sap/viz/feeds/Bullet",["sap/viz/feeds/Manifest","sap/viz/data/feed/Constants"],function e(t,a){var i={id:"bullet",feeds:[{id:"axisLabels",name:"IDS_AXISLABELS",type:a.Type.Dimension,min:1,max:1,acceptMND:-1,maxStackedDims:1,aaIndex:1},{id:"primaryValues",name:"IDS_PRIMARYVALUES",type:a.Type.Measure,min:1,max:2,mgIndex:1},{id:"targetValues",name:"IDS_TARGETVALUES",type:a.Type.Measure,min:0,max:1,mgIndex:2},{id:"referenceValues",name:"IDS_REFERENCEVALUES",type:a.Type.Measure,min:0,max:3,mgIndex:3}]};var r={viz:[],module:[],feeds:[i]};return r});define("sap/viz/modules/manifests/xy/Bullet",["sap/viz/modules/manifests/Module","sap/viz/modules/bullet","sap/viz/modules/manifests/xy/BaseBar","sap/viz/modules/Constants","sap/viz/feeds/Bullet"],function e(t,a,i,r,s){var o={id:"sap.viz.modules.bullet",name:"bullet",base:"sap.viz.modules.xy.bar.base",properties:{isRoundCorner:{isExported:false},animation:null,colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:["#2479BC","#d6d6d6"],description:"Set the color palette for the chart.",example:"<a href='"+r.DocExample.SnippetUrl+"4449' target='_blank'>"+r.DocExample.TryThisValue+"</a>"},primaryValuesColorPalette:{isExported:false},secondaryValuesColorPalette:{isExported:false},referenceValuesColorPalette:{name:"referenceValuesColorPalette",supportedValueType:"StringArray",defaultValue:["#FCDCDA","#FEECDA","#DDF3E4"],description:"Set the color palette reference value color in bullet chart.",isExported:true}},css:{".v-target":{description:"Define the style for the target line in bullet",value:{stroke:"#333333"}}},fn:a,feeds:{id:"bullet"}};var n={viz:[],module:[o].concat(s.module),feeds:[].concat(s.feeds)};return n});define("sap/viz/manifests/xy/BulletChart",["sap/viz/manifests/Viz","sap/viz/modules/Constants","sap/viz/base/UADetector","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/xy/Bullet","sap/viz/modules/manifests/controller/Pinch","sap/viz/manifests/xy/BaseHorizontalChart","sap/viz/modules/manifests/xy/BaseBar"],function e(t,a,i,r,s,o,n,l){var u=function(e,t){return d3.select(e).datum()===d3.select(t).datum()};var d={id:"viz/bullet",name:"IDS_BULLETCHART",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",base:"riv/basehorizontalchart",modules:{root:{modules:{legends:null,interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{dataPointsCacheable:false,holdSelection:false,extensionPoints:{isEqual:u}},propertiesOverride:{selectability:{legendSelection:{isExported:false}},pan:{isExported:false}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"pie_with_depth"}}},main:{modules:{dataLabel:null,xAxis:null,xAxis2:{id:"sap.viz.modules.axis",configure:{propertyCategory:"xAxis2",properties:{type:"value",position:"top",title:{visible:true},gridline:{visible:true},indicator:{enable:false}},propertiesOverride:{label:{hideSubLevels:{isExported:false}},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false}},maxSizeRatio:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"yAxis",properties:{title:{visible:true},indicator:{enable:false}},propertiesOverride:{label:{hideSubLevels:{isExported:false},isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false}},maxSizeRatio:{isExported:false}}}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis on the right or top side of an XY chart with two value axes",propertyCategory:"yAxis2",properties:{isIndependentMode:true,type:"category",position:"right",isTruncateAvailable:false,gridline:{visible:false},label:{hideStrategy:"greedy"},axisline:{visible:false},axisTick:{visible:false}},propertiesOverride:{color:{isExported:false},lineSize:{isExported:false},title:{isExported:false},label:{visible:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:false},numberFormat:{isExported:false},isExported:false},gridline:{isExported:false},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},maxSizeRatio:{isExported:false}}}},plot:{id:"sap.viz.modules.bullet",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",propertiesOverride:{drawingEffect:{isExported:false}}}}}}}}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.yAxis2",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.yAxis2",target:"independentData",sourceModule:"root.main.plot",source:"datalabelData"},{targetModule:"root.main.xAxis2",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},null],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"}]}};var h={viz:[d].concat(n.viz),module:[].concat(n.module,r.module,s.module,o.module,l.module),feeds:[].concat(n.feeds,r.feeds,s.feeds,o.feeds,l.feeds)};return h});define("sap/viz/impls/BulletChart",["sap/viz/manifests/xy/BulletChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/manifests/scatter/TimeValueBubbleChart",["sap/viz/manifests/Viz","sap/viz/manifests/scatter/BubbleChart"],function e(t,a){var i={id:"viz/time_bubble",name:"IDS_TIMEVALUEBUBBLECHART",base:"viz/bubble",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.bubble",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea",properties:{timeBased:true}}},xAxis:{id:"sap.viz.modules.axis",configure:{propertyCategory:"xAxis",properties:{type:"timeValue"},propertiesOverride:{label:{formatString:{isExported:false},unitFormatType:{isExported:false}},scale:{fixedTicks:{isExported:true},fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false}}}}}}}}}},valueAxis:null};var r={viz:[i].concat(),module:[].concat(a.module),feeds:[].concat(a.feeds)};return r});define("sap/viz/impls/TimeValueBubbleChart",["sap/viz/manifests/scatter/TimeValueBubbleChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/modules/number",["sap/viz/base/utils/oo","sap/viz/modules/Base","sap/viz/util/TextUtils","sap/viz/modules/dispatch","sap/viz/base/utils/Objects","sap/viz/format/UnitFormat","sap/viz/lang/langManager","sap/viz/modules/util/BoundUtil"],function e(t,a,i,r,s,o,n,l){var u="v-valuepoint";var d=function(e,t){this._width=null;this._height=null;this._sizeChanged=false;this._data=null;this._dataChanged=false;this._props={};this._propsChanged=false;this._formatString="";this._formatChanged=false;this._parent=undefined;this._dispatch=r("initialized","startToInit");this._valuePointSelection=undefined;this._valueNode=undefined;if(e){this.properties(e.props(null))}};t.extend(d,a);d.prototype.render=function(e){if(!e){return}l.drawBound(e,this._width,this._height);this._parent=e;if(!this._valuePointSelection){this._valuePointSelection=e.append("g").attr("class",u)}this._dispatch.startToInit();this._drawValuePoint(this._valuePointSelection);this._dispatch.initialized()};d.prototype._drawValuePoint=function(e){var t,a,r,s,n,l,u,d=this._dataChanged||this._propsChanged||this._sizeChanged,h;if(!this._valueNode){this._valueNode=e.append("text").attr("dominant-baseline","middle").attr("text-anchor","middle")}if(this._dataChanged&&this._data||this._formatChanged){t=this._data.getMeasureValuesGroupDataByIdx(0);this._value=t&&t.values&&t.values[0]&&t.values[0].rows?t.values[0].rows[0][0].val:"";u=this._formatString?this._formatString:"";var p=o.format(this._value,u);this._value=p?p.replace(/#minus#/g,"-"):p;this._dataChanged=false;this._formatChanged=false}if(this._propsChanged){a=this._props.valuePoint&&this._props.valuePoint.label?this._props.valuePoint.label.fontSize:70;r=this._props.valuePoint&&this._props.valuePoint.label?this._props.valuePoint.label.fontColor:"black";s=this._props.valuePoint&&this._props.valuePoint.label?this._props.valuePoint.label.fontFamily:"'Open Sans',Arial,Helvetica,sans-serif";n=this._props.valuePoint&&this._props.valuePoint.label?this._props.valuePoint.label.fontWeight:"normal";l=this._props.valuePoint&&this._props.valuePoint.label?this._props.valuePoint.label.fontStyle:"normal";this._valueNode.attr("font-size",a).attr("fill",r).attr("font-family",s).attr("font-weight",n).attr("font-style",l);this._propsChanged=false}if(this._sizeChanged){this._valueNode.attr("x",this._width/2).attr("y",this._height/2);this._sizeChanged=false}if(d){i.ellipsis(this._value,this._valueNode.node(),this._width)}};d.prototype.data=function(e){if(arguments.length>0){this._data=e;this._dataChanged=true;return this}return this._data};d.prototype.parent=function(){return this._parent};d.prototype.properties=function(e){if(arguments.length>0){s.extend(true,this._props,e);this._propsChanged=true;if(e&&e.valuePoint&&e.valuePoint.label&&e.valuePoint.label.formatString!==this._formatString){this._formatString=e.valuePoint.label.formatString;this._formatChanged=true}return this}return this._props};d.prototype.width=function(e){if(arguments.length>0){this._width=Number(e);this._sizeChanged=true;return this}return this._width};d.prototype.height=function(e){if(arguments.length>0){this._height=Number(e);this._sizeChanged=true;return this}return this._height};d.prototype.size=function(e){if(arguments.length>0){e=!e?{}:e;this._width=e.width;this._height=e.height;this._sizeChanged=true;return this}return{width:this._width,height:this._height}};d.prototype.dispatch=function(e){return this._dispatch};d.prototype.destroy=function(){if(this._parent){this._parent=null}if(this._valuePointSelection){this._valuePointSelection=null}if(this._valueNode){this._valueNode=null}};return d});define("sap/viz/feeds/Number",["sap/viz/feeds/Manifest","sap/viz/data/feed/Constants"],function e(t,a){var i={id:"number",feeds:[{id:"value",name:"IDS_NUMBERCHART_VALUE",type:a.Type.Measure,min:1,max:1,mgIndex:1}]};var r={viz:[],module:[],feeds:[i]};return r});define("sap/viz/modules/manifests/Number",["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/modules/number","sap/viz/feeds/Number"],function e(t,a,i,r){var s={id:"sap.viz.modules.number",type:a.Type.Chart,name:"number",properties:{valuePoint:{name:"valuePoint",supportedValueType:"Object",supportedValues:{label:{name:"label",supportedValueType:"Object",supportedValues:{fontColor:{name:"fontColor",supportedValueType:"String",defaultValue:"black"},fontFamily:{name:"fontFamily",supportedValueType:"String",defaultValue:"Arial"},fontSize:{name:"fontSize",supportedValueType:"Number",defaultValue:72},fontWeight:{name:"fontWeight",supportedValueType:"String",defaultValue:"normal"},fontStyle:{name:"fontStyle",supportedValueType:"String",defaultValue:"normal"},formatString:{name:"formatString",supportedValueType:"String",defaultValue:""}}}}}},events:{initialized:a.Event.Initialized.desc},feeds:{id:"number"},fn:i};var o={viz:[],module:[s],feeds:[].concat(r.feeds)};return o});define("sap/viz/manifests/NumberChart",["sap/viz/manifests/Viz","sap/viz/manifests/BaseSingleChart","sap/viz/modules/manifests/RootContainer","sap/viz/modules/manifests/Number"],function e(t,a,i,r){var s={id:"viz/number",name:"IDS_NUMBERCHART",base:"riv/base/single",isBuiltIn:true,legacyDataAdapter:true,dataModel:"sap.viz.api.data.CrosstableDataset",modules:{root:{modules:{title:{id:"sap.viz.modules.title",configure:{propertiesOverride:{layout:{isExported:true}}}},legends:null,main:{modules:{plot:{id:"sap.viz.modules.number",configure:{description:"Settings for the appearance of the chart and plot areas, as well as other chart options",propertyCategory:"plotArea"}}}}}}}};var o={viz:[s].concat(a.viz),module:[].concat(a.module,i.module,r.module),feeds:[].concat(a.feeds,i.feeds,r.feeds)};return o});define("sap/viz/impls/NumberChart",["sap/viz/manifests/NumberChart"],function e(t){var a={viz:[].concat(t.viz),module:[].concat(t.module),feeds:[].concat(t.feeds)};return a});define("sap/viz/load",["sap/viz/impls/Common","sap/viz/impls/AreaChart","sap/viz/impls/Bar3DChart","sap/viz/impls/BarChart","sap/viz/impls/BubbleChart","sap/viz/impls/Column3DChart","sap/viz/impls/CombinationChart","sap/viz/impls/DonutChart","sap/viz/impls/DonutWithDepthChart","sap/viz/impls/DualBarChart","sap/viz/impls/DualCombinationChart","sap/viz/impls/DualHorizontalCombinationChart","sap/viz/impls/DualHorizontalLineChart","sap/viz/impls/DualLineChart","sap/viz/impls/DualPercentageStackedBarChart","sap/viz/impls/DualPercentageStackedVerticalBarChart","sap/viz/impls/DualStackedBarChart","sap/viz/impls/DualStackedVerticalBarChart","sap/viz/impls/DualVerticalBarChart","sap/viz/impls/HeatMapChart","sap/viz/impls/HorizontalAreaChart","sap/viz/impls/HorizontalBoxplotChart","sap/viz/impls/HorizontalCombinationChart","sap/viz/impls/HorizontalLineChart","sap/viz/impls/HorizontalMekkoChart","sap/viz/impls/HorizontalStackedWaterfallChart","sap/viz/impls/HorizontalWaterfallChart","sap/viz/impls/LineChart","sap/viz/impls/MekkoChart","sap/viz/impls/MultiAreaChart","sap/viz/impls/MultiBarChart","sap/viz/impls/MultiBubbleChart","sap/viz/impls/MultiDonutChart","sap/viz/impls/MultiDonutWithDepthChart","sap/viz/impls/MultiDualBarChart","sap/viz/impls/MultiDualHorizontalLineChart","sap/viz/impls/MultiDualLineChart","sap/viz/impls/MultiDualPercentageStackedBarChart","sap/viz/impls/MultiDualPercentageStackedVerticalBarChart","sap/viz/impls/MultiDualStackedBarChart","sap/viz/impls/MultiDualStackedVerticalBarChart","sap/viz/impls/MultiDualVerticalBarChart","sap/viz/impls/MultiHorizontalAreaChart","sap/viz/impls/MultiHorizontalLineChart","sap/viz/impls/MultiLineChart","sap/viz/impls/MultiPercentageAreaChart","sap/viz/impls/MultiPercentageHorizontalAreaChart","sap/viz/impls/MultiPercentageStackedBarChart","sap/viz/impls/MultiPercentageStackedVerticalBarChart","sap/viz/impls/MultiPieChart","sap/viz/impls/MultiPieWithDepthChart","sap/viz/impls/MultiRadarChart","sap/viz/impls/MultiScatterChart","sap/viz/impls/MultiStackedBarChart","sap/viz/impls/MultiStackedVerticalBarChart","sap/viz/impls/MultiVerticalBarChart","sap/viz/impls/NetworkChart","sap/viz/impls/PercentageAreaChart","sap/viz/impls/PercentageHorizontalAreaChart","sap/viz/impls/PercentageHorizontalMekkoChart","sap/viz/impls/PercentageMekkoChart","sap/viz/impls/PercentageStackedBarChart","sap/viz/impls/PercentageStackedVerticalBarChart","sap/viz/impls/PieChart","sap/viz/impls/PieWithDepthChart","sap/viz/impls/RadarChart","sap/viz/impls/ScatterChart","sap/viz/impls/ScatterMatrixChart","sap/viz/impls/SimpleChart","sap/viz/impls/StackedBarChart","sap/viz/impls/StackedVerticalBarChart","sap/viz/impls/StackedWaterfallChart","sap/viz/impls/TagCloudChart","sap/viz/impls/TreeChart","sap/viz/impls/TreeMapChart","sap/viz/impls/VerticalBarChart","sap/viz/impls/VerticalBoxplotChart","sap/viz/impls/WaterfallChart","sap/viz/impls/BulletChart","sap/viz/impls/TimeValueBubbleChart","sap/viz/impls/NumberChart"],function e(){return});define("sap/viz/extapi/core",["sap/viz/base/utils/TypeUtils","sap/viz/base/Logger","sap/viz/lang/langManager","exports"],function e(t,a,i){var r={};r._actionMap={};r.registerVizAction=function(e,s){if(t.isString(e)&&t.isString(s)){r._actionMap[e]=s}else{a.warn(i.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"))}};r.unregisterVizAction=function(e){if(t.isString(e)){if(r._actionMap[e]){r._actionMap[e]=undefined;delete r._actionMap[e]}}else{a.warn(i.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"))}};r.registerBundle=function(e){var t=define;var a=e.id.split(".");var i=a[a.length-1]+"-bundle";t(i,function(){return e});return e};return r});define("sap/viz/data/utils/TF2CTFConvertUtil",["sap/viz/base/utils/ObjectUtils","sap/viz/base/utils/FunctionUtils"],function(e,t){var a=function(e,t,a,i){if(e==="analysisAxis"){a.push(t);return a.length}else if(e==="measureValuesGroup"){i.push(t);return i.length}};var i=function(e,a){for(var i=0;i<a.length;i++){if(a[i].id===e){if(a[i].semanticType!=="Dimension"&&a[i].semanticType!=="Measure"){t.error("no such semantic type");return}return a[i].semanticType}else if(i===a.length-1){t.error("no such field");return}}};var r=function(e,a){var r;for(var s=0;s<e.length;s++){if(s>0&&r!==i(e[s],a)){t.error("dimensions and measures should not be built in one group");return}r=i(e[s],a)}return r};var s=function(e,a,i,s){var o=r(a,i);for(var n=0;n<s.length;n++){if(s[n].id===e){if(o!==s[n].type){t.error("semantic type not matching feedDef id");return}if(a.length<s[n].minStackedDimension||a.length>s[n].maxStackedDimension){t.error("not matching binding dims quantity");return}break}else if(n===s.length-1){t.error("not matching any def");return}}return o};var o=function(e,t){for(var a=0;a<e.length;a++){if(e[a]!=="measureNamesDimension"){t.push(e[a])}}return e.length>t.length};var n=function(e,t,i){var r=[];var n=[];var l=[];var u={};var d=0;for(var h in i){var p=[];if(i[h].length===0){continue}var c=o(i[h],p);var f=s(h,p,e,t);if(f===undefined){return}l[d]={feedId:h};var m;var _=[];var g={};if(f==="Dimension"){m=a("analysisAxis",p,r,n);g.type="analysisAxis"}else if(f==="Measure"){m=a("measureValuesGroup",p,r,n);g.type="measureValuesGroup"}g.index=m;_.push(g);if(c){_.push({type:"measureNamesDimension"})}l[d].binding=_;d++}u.ctBinding=l;u.analysisAxis=r;u.measureValuesGroup=n;return u};return n});define("sap/viz/data/utils/TB2CTBConvertUtil",["sap/viz/data/utils/TF2CTFConvertUtil"],function(e){var t=function(e,t,a){e.splice(a,0,t)};var a=function(e,a,i){var r=0;var n="";var l="";var u=0;var d=a.length>0?a[0].values.length:0;var h;for(var p=0;p<a.length;p++){h=o(a[p].values,e[i[p]],u,d);u=h.front;d=h.length;r=h.index;l+="\0"+a[p].values[r-1];n+="\0"+e[i[p]];t(a[p].values,e[i[p]],r)}var c=s(l,n,a,r);var f={};f.duplicateAA=c;f.indexInAA=r;return f};var i=function(e,a,i){for(var r=0;r<e.values.length;r++){if(r!==i){t(e.values[r],null,a)}}};var r=function(e,a,r,s,o,n,l){for(var u=0;u<r.length;u++){for(var d=0;d<r[u].length;d++){if(!n&&!o){var h=[];if(a>0){for(var p=0;p<r[u][d].values[a-1].length;p++){h.push(null)}}t(r[u][d].values,h,a);t(r[u][d].values[a],s[l[u][d]],e);i(r[u][d],e,a)}else if(n&&!o){if(a>0){t(r[u][d].values[a-1],s[l[u][d]],e);i(r[u][d],e,a-1)}else{t(r[u][d].values[a],s[l[u][d]],e)}}else if(!n&&o){var h=[];if(a>0){for(var p=0;p<r[u][d].values[a-1].length;p++){h.push(null)}}t(r[u][d].values,h,a);r[u][d].values[a][e-1]=s[l[u][d]]}else{if(typeof r[u][d].values[a-1][e-1]==="number"){r[u][d].values[a-1][e-1]+=s[l[u][d]]}else{r[u][d].values[a-1][e-1]=s[l[u][d]]}}}}};var s=function(e,t,a,i){if(e===t&&e!==""){for(var r=0;r<a.length;r++){a[r].values.splice(i,1)}return true}else if(a.length===0){return true}};var o=function(e,t,a,i){var r={};if(e.indexOf(t,a)>-1&&e.indexOf(t,a)<a+i){r.index=e.lastIndexOf(t,a+i-1)+1;r.front=e.indexOf(t,a);r.length=r.index-r.front}else{r.front=a+i;r.index=r.front;r.length=r.index-r.front}return r};var n=function(e,t,i,s,o,n){var l=a(e,t,o.AA1);var u=l.duplicateAA;var d=l.indexInAA;if(n===true&&i.length===0){var h=false;var p=0}else if(i.length===0){var h=true;var p=1}else{var c=a(e,i,o.AA2);var h=c.duplicateAA;var p=c.indexInAA}r(d,p,s,e,u,h,o.MGs)};var l=function(e){var t=[];t=e.filter(function(e,t,a){return a.indexOf(e)===t});for(var a=0;a<t.length;a++){var i={};i.index=e.indexOf(t[a]);i.value=t[a];i.length=e.lastIndexOf(t[a])+1;t[a]=i}e.sort(function(e,t){if(e>t){return 1}else if(e<t){return-1}else{return 0}});t.sort(function(e,t){if(e.name>t.name){return 1}else if(e.name<t.name){return-1}else{return 0}});return t};var u=function(e){var t=[{index:0,length:e[0].values.length}];for(var a=0;a<e.length;a++){var i=[];for(var r=0;r<t.length;r++){var s=e[a].values.slice(t[a].index,t[a].length);s.sort();i=i.concat(s)}e[a].values=i;if(a+1<e.length){t=l(e[a].values)}}};var d=function(e,t,a,i){var r={};var s=[];var o=[];var n=[];for(var l=0;l<e.length;l++){if(t.indexOf(e[l])>-1){s[t.indexOf(e[l])]=l;continue}else if(a.indexOf(e[l])>-1){o[a.indexOf(e[l])]=l;continue}else{for(var u=0;u<i.length;u++){if(i[u].indexOf(e[l])>-1){if(n[u]===undefined){n[u]=[]}n[u][i[u].indexOf(e[l])]=l;continue}}}}r.AA1=s;r.AA2=o;r.MGs=n;return r};var h=function(e,t,a){var i={};i.index=t;i.data=[];for(var r=0;r<e.length;r++){var s={};s.type=a;s.name=e[r].metaData;s.values=e[r].values;i.data.push(s)}return i};var p=function(e,t,a,i,r){var s=e._data.length;var o=[];for(var l=0;l<t.length;l++){o[l]={};o[l].metaData=t[l];o[l].values=[]}var p=[];for(l=0;l<a.length;l++){p[l]={};p[l].metaData=a[l];p[l].values=[]}var c=[];for(l=0;l<i.length;l++){c[l]=[];for(var f=0;f<i[l].length;f++){c[l][f]={};c[l][f].metaData=i[l][f];c[l][f].values=[]}}var m=d(e._getAllColumnIds(),t,a,i);for(l=0;l<e._data.length;l++){var _=e._data[l];var g=false;if(l===0){g=true}n(_,o,p,c,m,g)}if(r){u(o);u(p)}var v={};var y=[];var b=[];y.push(h(o,1,"Dimension"));if(p.length>0){y.push(h(p,2,"Dimension"))}for(l=0;l<c.length;l++){b.push(h(c[l],l+1,"Measure"))}v.analysisAxis=y;v.measureValuesGroup=b;return v};var c=function(e,t){var a=[];for(var i=0;i<t.length;i++){var r=e.dataInFields(t[i]);var s=r[0].data.length;var o=[];for(var n=0;n<s;n++){var l=[];for(var u=0;u<r.length;u++){l[u]=r[u].data[n]}var d={type:"measure",name:t[i][n],values:[l]};o.push(d)}var h={index:i+1,data:o};a.push(h)}return a};var f=function(t,a,i){var r=t._dataset.metadata.fields;var s=e(r,a,i);if(s===undefined){return}var o=s.analysisAxis;var n=s.measureValuesGroup;if(o.length===0&&n.length===0){return}if(o.length===1){o.push([])}var l;if(o.length===0&&n.length!==0){l={};l.measureValuesGroup=c(t,n)}else{l=p(t,o[0],o[1],n)}var u=s.ctBinding;var d={};d.binding=u;d.crosstableDataset=l;return d};return f});define("sap/viz/api/core/VizInstance",["jquery","sap/viz/base/utils/TypeUtils","sap/viz/util/Objects","sap/viz/base/utils/log/LogUtil","sap/viz/mvc/ChartApplication","sap/viz/base/utils/FunctionUtils","sap/viz/api/data/CrosstableDataset","sap/viz/api/data/FlatTableDataset","sap/viz/extapi/core","sap/viz/base/utils/ObjectUtils","sap/viz/config","sap/viz/data/utils/TB2CTBConvertUtil","sap/viz/manifest","sap/viz/base/Logger","exports"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f){var m="CrosstableDataset";var _="FlatTableDataset";var g="RawDataset";var v=function(e,t,a){this.__className="sap.viz.api.core.VizInstance";this.app=null;this._eventsListeners=e;this._feeding=t;this._riv=a;this._description=null;this._dataType;this._data;this._usrOptions={}};v.prototype={on:function(e,t,a){this._eventsListeners[e]={callback:t,scope:a};this.app.controller.rootUIComponent.attachEvent(e,t,a);return this},size:function(e){if(!arguments.length){return this.app.size()}this.app.size(e);return this},selection:function(){var e=null;var t=null;var a=false;if(arguments.length<=0){a=true}else if(arguments.length<=1){if(arguments[0]instanceof Array){a=false;e=arguments[0]}else{a=true;t=arguments[0]}}else{a=false;e=arguments[0];t=arguments[1]}var i;if(a){i=this.app.getSelectedObjects(t)}else{i=this.app.setSelectedObjects(e,t)}return i},selectedPropertyZone:function(e){var t=this.app.selectedPropertyZone.apply(this.app,arguments);return arguments.length?this:t},data:function(e){if(!arguments.length){var t;if(this._dataType===m){t=new n;t.data(this._data.data());t.info(this._data.info());if(this._data.emptyDataset){var a=this._data.emptyDataset();if(a){t.emptyDataset(true);t.cleanDataset()}}}else if(this._dataType===_){t=new l;t.data(this._data.data());t.info(this._data.info())}else{t=d.clone(this._data)}return t}if(!this._checkDataType(e)){o.error("Wrong Data Type")}this.update({data:e});for(var i in this._eventsListeners){if(this._eventsListeners.hasOwnProperty(i)){this.on(i,this._eventsListeners[i].callback,this._eventsListeners[i].scope)}}return this},template:function(){return this.app.template()},properties:function(e){if(!arguments.length){return d.clone(this.app.getProperties())}r.context(":updateProperty:"+i.size(e));this.update({properties:d.clone(e)});return this},css:function(e){if(!arguments.length||arguments.length===1&&typeof arguments[0]==="object"){return d.clone(this.app.css.apply(this.app,arguments))}this.update({css:d.clone(e)});return this},cssProperty:function(e,t,a){if(arguments.length===2){return d.clone(this.app.cssProperty(e,t))}if(arguments.length===3){this.update({cssProperty:d.clone({selector:e,style:t,value:a})})}return this},feeding:function(e){if(!arguments.length){return d.clone(this._feeding)}if(!this._checkFeedingType(e)){o.error("Wrong Feeding Type")}this.update({feeding:e});return this},feedingZone:function(){return this.app.getAllFeedingZone()},propertyZone:function(){return this.app.getPropertyZone()},update:function(e){if(e){var t=d.extend(true,e,{});if(this._checkDataType(e.data)){if(this._dataType===m||this._dataType===_){var a=this._getInsideDataset(t.data);this._data.data(a.data());this._data.info(a.info());if(this._dataType===m&&a.isEmptyDataset()){var i=this._data._crosstableDataset.fillEmptyDataset();this._data._crosstableDataset.data(i);this._data.emptyDataset(true)}t.data=this._getInsideDataset(this._data)}}else{t.data=undefined}if(e.feeding===null){t.feeding=null}else if(this._checkFeedingType(e.feeding)){this._feeding=e.feeding}else{t.feeding=undefined}if(this._withFakeFlatTable){var r=c.viz.get(this.type).allFeeds(true);var s=p(this._data._FlatTableD,r,this._feeding);t.data=new n;t.data.data(s.crosstableDataset);t.data=this._getInsideDataset(t.data);t.feeding=s.binding}this.app.update(t)}return this},destroy:function(){this._riv.instances.splice(this._riv.instances.indexOf(this),1);this.app.destroy()},toJSON:function(e,t){var a={};a.type=this._usrOptions.type;var i=sap.bi.framework.getServiceMetadata("*sap.viz.impls");for(var r=0,s=i.length;r<s;r++){if(i[r]&&i[r].id===this._usrOptions.type){if(i[r].framework&&i[r].framework.bundleVersion){a.bundleVersion=i[r].framework.bundleVersion}break}}if(this._usrOptions.type==="viz/ext/crosstab"){a.data={type:"JSON",val:e&&e.emptyDataset===true?{}:d.clone(this.app.getDataset())}}else{var o=this.app.getDataset().toJSON(e);var n;if(o.id==="sap.viz.data.CrosstableDataset"){n="Crosstable"}else if(o.id==="sap.viz.data.FlatTableDataset"){n="FlatTable"}a.data={type:n,val:o.data,info:o.info}}a.properties=this.properties();a.template=this.template();if(t===true){a.css=this.css(true)}else{a.css=this.css()}a.feeding=this.feeding();a.size=this.app.size();if(sap.viz.api.hasOwnProperty("VERSION")){a.version=sap.viz.api.VERSION}return a}};v.prototype._initializeViz=function(e,t){if(a.isString(t)){var i=t.substring(0,5)==="info/"}if(e instanceof n){this._data=new n;this._data.data(e.data());this._data.info(e.info());if(this._data.emptyDataset){this._data.emptyDataset(e.emptyDataset())}this._dataType=m}else if(e instanceof l){this._data=new l(e.data());this._data.info(e.info());this._dataType=_;if(!i){this._withFakeFlatTable=true}}else if(e){this._data=d.clone(e);this._dataType=g}};v.prototype._getInsideDataset=function(e){var t;if(e instanceof n){t=e._crosstableDataset}else if(e instanceof l){t=e}return t};v.prototype._checkDataType=function(e){var t;if(e){if(this._dataType===m){t=e instanceof n}else if(this._dataType===_){t=e instanceof l}else if(this._dataType===g){t=!(e instanceof n||e instanceof l)}}return t};v.prototype._checkFeedingType=function(e){var t;if(a.isArray(e)){t=m}else if(a.isPlainObject(e)){t=_}return t===this._dataType};v.prototype.off=function(e){if(e!=null){if(this._eventsListeners[e]!==undefined){this._eventsListeners[e]=undefined;this.app.controller.rootUIComponent.attachEvent(e,o.noop);delete this._eventsListeners[e]}}return this};v.prototype.setApp=function(e){this._usrOptions=d.extend(true,e,{});var t=e.data instanceof l;h.register({id:"isFlatTable",value:t});var i=e.data instanceof n;h.register({id:"isCrossTable",value:i});this._initializeViz(this._usrOptions.data,this._usrOptions.type);if(c.viz.get(this._usrOptions.type).legacyDataAdapter&&this._usrOptions.data instanceof l){if(!a.isPlainObject(this._usrOptions.feeding)){o.error("Binding Not Match")}var r=c.viz.get(this._usrOptions.type).allFeeds(true);var u=this._usrOptions.feeding;var f=p(this._usrOptions.data._FlatTableD,r,u);this._usrOptions.data=new n;this._usrOptions.data.data(f.crosstableDataset);this._usrOptions.feeding=f.binding}if(c.viz.get(this._usrOptions.type).legacyDataAdapter&&this._usrOptions.data instanceof n&&this._usrOptions.feeding&&!a.isArray(this._usrOptions.feeding)){o.error("Binding Not Match")}var m=this._getInsideDataset(this._usrOptions.data)||this._usrOptions.data;this.app=new s({holder:this._usrOptions.container,launchOptions:{vizType:this._usrOptions.type,options:this._usrOptions.properties,template:this._usrOptions.template,css:this._usrOptions.css,size:this._usrOptions.size,data:{rawData:m},feeding:this._usrOptions.feeding||this._usrOptions.dataFeeding,events:this._usrOptions.events}})};v.prototype.action=function(e,t){if(u._actionMap){var i=u._actionMap[e];if(i!=null){var r=this.app.controller.rootUIComponent._modules["root.main"];var s=true;var o=i.split(".");var n=r;var l=true;for(var d=0;d<o.length;++d){if(r[o[d]]!==undefined){n=r;r=r[o[d]]}else{l=false;break}}if(l){var h=null;if(t!==undefined){h=r.call(n,t)}else{h=r.call(n)}if(a.isPlainObject(h)||a.isArray(h)){h=JSON.parse(JSON.stringify(h))}return h}}}};v.prototype.description=function(e){if(arguments.length<=0){if(this._description===null){this._description={};if(this.app&&this.app.controller){this._description.type=this.app.controller._vizType;if(this.app.controller.rootUIComponent){this._description.classId=this.app.controller.rootUIComponent.id}}}}else{}return this._description};v.prototype.exportToSVGString=function(e){return this.app.exportToSVGString(e)};v.prototype.supportExportToSVG=function(){return this.app.supportExportToSVG()};return v});define("sap/viz/migrate/BaseMigrator",["sap/viz/base/utils/Objects"],function(e){var t=Object.prototype.hasOwnProperty;function a(e){if(!e){return true}for(var a in e){if(t.call(e,a))return false}if($.isFunction(e)){return false}return true}function i(e,t){var a=t.split("."),i=e,r;for(r=0;r<a.length;r++){if(i[a[r]]===undefined){return undefined}else{i=i[a[r]]}}return i}function r(e,t,a){var i=t.split("."),r=e,s;for(s=0;s<i.length-1;s++){if(r[i[s]]===undefined){r[i[s]]={}}r=r[i[s]]}r[i[i.length-1]]=a}function s(e,t){var a=t.split("."),i=e,r;for(r=0;r<a.length-1;r++){if(i[a[r]]===undefined){return}i=i[a[r]]}delete i[a[a.length-1]]}function o(e){for(var i in e){if(t.call(e,i)){if(!(e[i]instanceof Object)){continue}o(e[i]);if(a(e[i])){delete e[i]}}}}return{factory:function(t){var a={_model:t,_propertyMigrateActions:{rename:function(e,t,a,i){r(e,i.to,a);this.remove(e,t)},remove:function(e,t){s(e,t)}},fromVersion:function(){return this._model.fromVersion},migrate:function(t){var a=e.extend({},t),i=a.version,r=this._getTypeModel("all"),s=this._getTypeModel(a.type);this._doMigrate(a,s);this._doMigrate(a,r);a.version=this._model.toVersion;return a},_doMigrate:function(e,t){if(!t){return}this._migrateProperties(e.properties,t.properties)},_migrateProperties:function(e,t){var a,r,s;if(!t){return e}for(r in t){a=i(e,r);if(a){s=t[r];this._propertyMigrateActions[s.action](e,r,a,s)}}o(e);return e},_getTypeModel:function(e){return this._model.charts[e]}};return a}}});define("sap/viz/migrate/migrator/Migrator10to12",[],function(){var e={fromVersion:"4.0.10",toVersion:"4.0.12",charts:{all:{properties:{"title.layout.width":{action:"rename",to:"title.layout.maxWidth"},"title.layout.height":{action:"rename",to:"title.layout.maxHeight"},"background.direction":{action:"rename",to:"background.gradientDirection"},"background.body.color":{action:"rename",to:"background.color"},"legend.layout.width":{action:"rename",to:"legend.layout.maxWidth"},"legend.layout.height":{action:"rename",to:"legend.layout.maxHeight"},"valueAxis.hideTitleFirst":{action:"remove"},"valueAxis.axisline":{action:"rename",to:"valueAxis.axisLine"},"valueAxis.lineSize":{action:"rename",to:"valueAxis.axisLine.size"},"valueAxis.unitFormatType":{action:"remove"},"valueAxis.layout.width":{action:"rename",to:"valueAxis.layout.maxWidth"},"valueAxis.layout.height":{action:"rename",to:"valueAxis.layout.maxHeigth"},"categoryAxis.hideTitleFirst":{action:"remove"},"categoryAxis.axisline":{action:"rename",to:"categoryAxis.axisLine"},"categoryAxis.lineSize":{action:"rename",to:"categoryAxis.axisLine.size"},"categoryAxis.layout.width":{action:"rename",to:"categoryAxis.layout.maxWidth"},"categoryAxis.layout.height":{action:"rename",to:"categoryAxis.layout.maxHeigth"},"plotArea.dataLabel.hiddenWhenOverlap":{action:"rename",to:"plotArea.dataLabel.hideWhenOverlap"},"plotArea.fixedDatapointSize":{action:"rename",to:"plotArea.isFixedDataPointSize"},"plotArea.dataLabel.position":{action:"remove"},"plotArea.primaryScale.autoMinValue":{action:"remove"},"plotArea.primaryScale.autoMaxValue":{action:"remove"},background:{action:"rename",to:"plotArea.background"}}},"info/100_stacked_bar":{properties:{xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"categoryAxis"},"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"}}},"info/100_dual_stacked_bar":{properties:{xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"categoryAxis"},xAxis2:{action:"rename",to:"valueAxis2"},"plotArea.colorPalette":{action:"remove"}}},"info/100_stacked_column":{properties:{yAxis:{action:"rename",to:"valueAxis"},xAxis:{action:"rename",to:"categoryAxis"},"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"}}},"info/100_dual_stacked_column":{properties:{yAxis:{action:"rename",to:"valueAxis"},xAxis:{action:"rename",to:"categoryAxis"},yAxis2:{action:"rename",to:"valueAxis2"},"plotArea.colorPalette":{action:"remove"}}},"info/bubble":{properties:{scale:{action:"remove"},xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"valueAxis2"},"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"}}},"info/bullet":{properties:{xAxis2:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"categoryAxis"},yAxis2:{action:"rename",to:"categoryAxis2"},"plotArea.barSize.desktop":{action:"remove"},"plotArea.barSize.mobile":{action:"remove"},"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"}}},"info/combination":{properties:{yAxis:{action:"rename",to:"valueAxis"},xAxis:{action:"rename",to:"categoryAxis"},"plotArea.bar.barSize":{action:"remove"},"plotArea.bar.barSize.desktop":{action:"remove"},"plotArea.bar.barSize.mobile":{action:"remove"},"plotArea.line.categorySize.desktop":{action:"remove"},"plotArea.line.categorySize.mobile":{action:"remove"},"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"},"plotArea.dataShape.secondaryAxis":{action:"remove"}}},"info/donut":{properties:{"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"}}},"info/horizontal_line":{properties:{xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"categoryAxis"},"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"}}},"info/dual_horizontal_line":{properties:{xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"categoryAxis"},xAxis2:{action:"rename",to:"valueAxis2"},"plotArea.colorPalette":{action:"remove"}}},"info/line":{properties:{yAxis:{action:"rename",to:"valueAxis"},xAxis:{action:"rename",to:"categoryAxis"},"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"}}},"info/dual_line":{properties:{yAxis:{action:"rename",to:"valueAxis"},xAxis:{action:"rename",to:"categoryAxis"},yAxis2:{action:"rename",to:"valueAxis2"},"plotArea.colorPalette":{action:"remove"}}}}};e.charts["info/bar"]=e.charts["info/100_stacked_bar"];e.charts["info/dual_bar"]=e.charts["info/100_dual_stacked_bar"];e.charts["info/dual_column"]=e.charts["info/100_dual_stacked_column"];e.charts["info/pie"]=e.charts["info/donut"];e.charts["info/scatter"]=e.charts["info/bubble"];e.charts["info/stacked_bar"]=e.charts["info/100_stacked_bar"];e.charts["info/dual_stacked_bar"]=e.charts["info/100_dual_stacked_bar"];e.charts["info/stacked_column"]=e.charts["info/100_stacked_column"];e.charts["info/dual_stacked_column"]=e.charts["info/100_dual_stacked_column"];e.charts["info/column"]=e.charts["info/100_stacked_column"];return e});define("sap/viz/migrate/migrator/Migrator12to13",[],function(){var e={fromVersion:"4.0.12",toVersion:"4.0.13",charts:{"info/donut":{properties:{"plotArea.highlightIndex":{action:"rename",to:"plotArea.highlight.highlightIndex"},"plotArea.unhighlightSliceColor":{action:"rename",to:"plotArea.highlight.unhighlightSliceColor"},"plotArea.contextInfos":{action:"rename",to:"plotArea.highlight.contextInfos"},"plotArea.highlightContext":{action:"rename",to:"plotArea.highlight.highlightContext"},"plotArea.centerRenderer":{action:"rename",to:"plotArea.highlight.centerRenderer"},"plotArea.centerName":{action:"rename",to:"plotArea.highlight.centerName"},"plotArea.centerValue":{action:"rename",to:"plotArea.highlight.centerValue"}}}}};return e});define("sap/viz/migrate/MigrationTool",["sap/viz/migrate/BaseMigrator","sap/viz/migrate/migrator/Migrator10to12","sap/viz/migrate/migrator/Migrator12to13"],function(e,t,a){var i=[t,a];return{_migrators:function t(){var a={};i.forEach(function(t){var i=e.factory(t);a[i.fromVersion()]=i});return a}(),_getVersion:function(e){if(!e){return e}var t=e.version,a;if(t&&t.split){a=t.split(".");if(a.length===4){return a[0]+"."+a[1]+"."+a[2]}}return t},_getMigrator:function(e){return this._migrators[e]},migrate:function(e){var t=this._getVersion(e),a;while(t&&(a=this._getMigrator(t))){e=a.migrate(e);t=this._getVersion(e)}return e}}});define("sap/viz/api/core",["jquery","sap/viz/base/utils/TypeUtils","sap/viz/util/Objects","sap/viz/base/utils/log/Analyzer","sap/viz/mvc/ChartApplication","sap/viz/manifest","sap/viz/api/core/VizInstance","sap/viz/api/data/CrosstableDataset","sap/viz/base/Logger","sap/viz/lang/langManager","sap/viz/data/utils/TB2CTBConvertUtil","sap/viz/base/utils/FunctionUtils","sap/viz/data/CrosstableDataset","sap/viz/api/data/FlatTableDataset","sap/viz/api/manifest/Viz","sap/viz/manifests/util/ManifestRegister","sap/viz/migrate/MigrationTool","exports"],function e(t,a,i,r,s,o,n,l,u,d,h,p,c,f,m,_,g){var v=function(e){var t=e._crosstableDataset.fillEmptyDataset();e._crosstableDataset.data(t);e.emptyDataset(true)};var y={instances:[],createViz:function(e){if(e&&e.type){_.registerViz(e.type)}var t={},a=e.feeding,s=this;if(!m.get(e.type)[0]){p.error(d.getLogMessage("IDS_ERROR_WRONG_TYPE"))}if(m.get(e.type)[0].legacyDataAdapter&&!e.data){e.data=new l;var u=o.viz.get(e.type).allFeeds(true);var h=[];var c=[];var f=0;var g=0;if(u!==undefined&&u!==null&&u.length>0){for(;f<u.length;f++){var y=u[f].type;if(y==="Dimension"){g=0;for(;g<u[f].min;g++){h.push({index:h.length+1,data:[{values:[""],infos:[{}]}]})}}if(y==="Measure"){g=0;for(;g<u[f].min;g++){c.push({index:c.length+1,data:[{values:[[""]]}]})}}}}else{h.push({index:1,data:[{values:[""],infos:[{}]}]});c.push({index:1,data:[{values:[[""]]}]})}e.data.data({analysisAxis:h,measureValuesGroup:c})}else if(m.get(e.type)[0].legacyDataAdapter&&e.data._crosstableDataset&&e.data._crosstableDataset.isEmptyDataset()){v(e.data)}if(e.options!==undefined&&e.properties===undefined){e.properties=e.options}r.pnrContext(":creation:"+i.size(e.properties)+":"+i.size(e.css));var b=new n(t,a,s);b.setApp(e);Object.defineProperty(b,"type",{value:e.type,enumerable:true});s.instances.push(b);return b},destroyViz:function(){for(var e=-1,t=arguments.length;++e<t;){arguments[e].destroy()}},exportViz:function(e,t){return e.toJSON(t)},loadViz:function(e,t){if(arguments.length===2){var a=JSON.parse(JSON.stringify(e));a=g.migrate(a);a.container=t;var i=null;if(a.data.type==="JSON"&&a.type==="viz/ext/crosstab"){i=a.data.val}else{i=a.data;i.data=i.val;if(a.data.type==="Crosstable"){i.id="sap.viz.data.CrosstableDataset";i=l.fromJSON(i)}else if(a.data.type==="FlatTable"){i.id="sap.viz.data.FlatTableDataset";i=f.fromJSON(i)}}a.data=i;return this.createViz(a)}else{u.warn(d.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"))}}};return y});define("sap/viz/api/serialization",["sap/viz/migrate/MigrationTool","exports"],function(e){var t={migrate:function(t){return e.migrate(t)}};return t});define("sap/viz/base/utils/NamedColorUtils",["sap/viz/base/utils/ObjectUtils"],function e(t){var a={};var i=/^ *(#[a-f0-9]{6}|#[a-f0-9]{3}|(rgb|rgba|hsl|hsla) *\([^)]*\)|AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGray|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGray|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGray|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gray|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGray|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGray|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGray|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen|DarkGrey|DarkSlateGrey|DimGrey|Grey|LightGrey|LightSlateGrey|SlateGrey) *$/i;var r={constructor:function(){return},register:function(e){a=t.extend(true,a,e);return r},convertColor:function(e){var t=null;if(a.hasOwnProperty(e)){t=a[e]}var r=null;if(t){r=t}else if(i.test(e)){r=e}else{r="#000000"}return r}};return r});define("sap/viz/api/env",["sap/viz/env","sap/viz/config","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/ObjectUtils","sap/viz/base/Logger","sap/viz/lang/langManager","sap/viz/base/utils/NamedColorUtils","sap/viz/format/UnitFormat","exports"],function e(t,a,i,r,s,o,n,l){var u={globalSettings:function(e){if(arguments.length===1&&i.isPlainObject(e)){var e=r.clone(e);if(e.enableCanvg){t.initialize(e)}if(e.enableCanvgConfig&&i.isPlainObject(e.enableCanvgConfig)){for(var u in e.enableCanvgConfig){a.register({id:u,value:e.enableCanvgConfig[u]})}}if(e.colorMapping&&i.isPlainObject(e.colorMapping)){n.register(e.colorMapping)}if(e.useLatestFormatPrefix&&e.useLatestFormatPrefix===true){l.register({useLatestFormatPrefix:true})}}else if(arguments.length===0){var e={};if(t.getEnvSetting()&&t.getEnvSetting().enableCanvg){e={enableCanvg:t.getEnvSetting().enableCanvg}}if(a.getConfigs()){var d={enableCanvgConfig:a.getConfigs()};e=r.extend(true,{},e,d)}return e}else{s.warn(o.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"))}}};return u});define("sap/viz/api/env/Language",["sap/viz/lang/langManager","sap/viz/base/utils/TypeUtils","sap/viz/base/Logger","exports"],function e(t,a,i){var r={set:function(e,r,s){if(a.isString(e)&&(arguments.length===1||arguments.length===2&&a.isFunction(r)||arguments.length===3&&a.isFunction(r)&&a.isFunction(s))){t.apply(e,r,s);return e}else{i.warn(t.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}},get:function(){return t.current()},getErrorMessage:function(e){if(a.isNumber(e)){return t.getLogMessageByID(e)}else{i.warn(t.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"))}}};return r});define("sap/viz/api/env/Locale",["sap/viz/Locale","sap/viz/base/utils/TypeUtils","sap/viz/base/Logger","sap/viz/lang/langManager","exports"],function e(t,a,i,r){var s={set:function(e,o){if(a.isString(e)&&(arguments.length===1||arguments.length===2&&a.isFunction(o))){t.locale(e,o);return s}else{i.warn(r.getLogMessage("IDS_WARN_LOCALE_NOT_CORRECT"));return}},get:function(){return t.locale()}};return s});define("sap/viz/api/env/Resource",["sap/viz/TemplateManager","sap/viz/lang/langManager","sap/viz/base/utils/TypeUtils","sap/viz/base/Logger","exports"],function(e,t,a,i){function r(e){return a.isArray(e)?e.slice():[e]}function s(e){return a.isArray(e)?e[0]:e}var o={"sap.viz.GeoManager.resourcePath":{path:"../../resources",setPath:function(e){var t=window.sap&&sap.viz&&sap.viz.GeoManager;if(t){t.resourcePath(s(e))}}},"sap.viz.api.env.Template.loadPaths":{path:e.loadPath,setPath:function(t){e.loadPath=r(t)}},"sap.viz.api.env.Language.loadPaths":{path:t.loadPath,setPath:function(e){t.loadPath=r(e)}},"sap.viz.env.Language.loadPaths.sdk":{path:["../../../resources/framework/langs/"],setPath:function(e){t.loadPath=r(e)}},"sap.viz.map.Resources":{path:["../../resources"]}};o["sap.viz.extapi.env.Template.loadPaths"]=o["sap.viz.api.env.Template.loadPaths"];o["sap.viz.extapi.env.Language.loadPaths"]=o["sap.viz.api.env.Language.loadPaths"];function n(e,t){var a=o[e]=o[e]||{};a.path=t;if(a.setPath){a.setPath(t)}}var l=["sap.viz.api.env.Language.loadPaths","sap.viz.api.env.Template.loadPaths","sap.viz.extapi.env.Language.loadPaths","sap.viz.extapi.env.Template.loadPaths"];function u(e){if(!e){var t={};for(var i in o){if(o.hasOwnProperty(i)){var r=o[i]&&o[i].path;t[i]=a.isArray(r)?r.slice():r}}return t}if(!o.hasOwnProperty(e)){return null}var s=o[e];var n=s&&s.path;return a.isArray(n)?n.slice():n}var d={path:function(){if(arguments.length===1&&a.isString(arguments[0])){return u(arguments[0])}else if(arguments.length===2&&a.isString(arguments[0])){n(arguments[0],arguments[1])}else if(arguments.length===0){return u()}else{i.warn(t.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"))}return d}};return d});define("sap/viz/api/env/Format",["sap/viz/format/FormatManager","sap/viz/base/utils/TypeUtils","sap/viz/format/UnitFormat","exports"],function e(t,a,i){var r={numericFormatter:function(e){return t.formatFunc(e)},useDefaultFormatter:function(e){if(e===true||e===false){t.useDefaultFormatter(e)}return t.useDefaultFormatter()},format:i.format,DEFAULT_FORMATTED_VALUE:t.DEFAULT_FORMATTED_VALUE};return r});define("sap/viz/api/log/Appender",["sap/viz/base/Logger","exports"],function e(t){var a={};a.ConsoleAppender=t.ConsoleAppender;a.DivAppender=t.DivAppender;a.AjaxAppender=t.AjaxAppender;return a});define("sap/viz/api/log/Layout",["sap/viz/base/Logger","exports"],function e(t){var a={};a.DefaultLayout=t.DefaultLayout;a.HTMLLayout=t.HTMLLayout;a.XMLLayout=t.XMLLayout;a.JSONLayout=t.JSONLayout});define("sap/viz/api/log/Logger",["sap/viz/base/Logger","exports"],function e(t){var a={};a.LEVEL={};a.LEVEL.OFF=t.LEVEL.NO;a.LEVEL.TRACE=t.LEVEL.TRACE;a.LEVEL.DEBUG=t.LEVEL.DEBUG;a.LEVEL.INFO=t.LEVEL.INFO;a.LEVEL.WARN=t.LEVEL.WARN;a.LEVEL.ERROR=t.LEVEL.ERROR;a.appenders=function(e){if(arguments.length>0){for(var a=0;a<e.length;a++){t.addAppender(e[a])}return this}return t.getAppenders()};a.level=function(e){if(arguments.length>0){t.level=e}else{return t.level}};return a});define("sap/viz/api/env/Template",["sap/viz/TemplateManager","sap/viz/base/utils/ObjectUtils","sap/viz/base/utils/TypeUtils","sap/viz/base/Logger","sap/viz/lang/langManager","exports"],function e(t,a,i,r,s){var o={};var n={set:function(e,a,o){if(i.isString(e)&&(arguments.length===1||arguments.length===2&&i.isFunction(a)||arguments.length===3&&i.isFunction(a)&&i.isFunction(o))){t.apply(e,a,this,o);return n}else{r.warn(s.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}},get:function(){return t.current().id},load:function(e,a,i){t.load(e,a,i);return n},addListener:function(e){if(arguments.length===1&&i.isFunction(e)){var a={fn:e};t.addListener(a);o[e]=o[e]||[];o[e].push(a);return n}else{r.warn(s.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}},removeListener:function(e){if(arguments.length===1&&i.isFunction(e)){if(o[e]){for(var a=0;a<o[e].length;a++){if(o[e][a].fn===e){t.removeListener(o[e][a]);o[e].splice(a,1);break}}}return n}else{r.warn(s.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}}};return n});define("sap/viz/behaviors/plugin/ActionItem",["sap/viz/util/Constants","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/ObjectUtils"],function(e,t,a){var i=e.BEHAVIOR.DEFAULT_CHART_TYPE_KEY;var r=function(e){this._trigger=null;this._handlers=null;if(e){if(e.trigger){trigger=e.trigger}else if(e.triggerEvent){trigger=e.triggerEvent}else{trigger={}}if(e.declaredEvents&&(t.isString(e.declaredEvents)||t.isArray(e.declaredEvents))){trigger.onAfterRegistered=function(){this.exposeMoreEvents(e.declaredEvents)}}if(e.destroy&&t.isFunction(e.destroy)){trigger.onBeforeUnregistered=e.destroy}if(!t.isEmptyObject(trigger)){this.setTrigger(trigger)}if(e.handler){this.setHandler(e.handler)}}};r.prototype.clone=function(){var e=new r;e.setTrigger(this._trigger);this._handlers.forEach(function(t){e.addHandler(t)});return e};r.prototype.setTrigger=function(a){var r=this._trigger;if(!r){r=this._trigger={}}if(a.event){r.event=a.event;r.target=t.isString(a.target)?[a.target]:a.target;if(a.matchMode===e.BEHAVIOR.TRIGGER.CSS.MATCHMODE.NEGATIVE){r.matchMode=a.matchMode}else{r.matchMode=e.BEHAVIOR.TRIGGER.CSS.MATCHMODE.POSITIVE}r.chartType=a.chartType;if(r.chartType==null||r.chartType===i){r.chartType=i}else{r.chartType=t.isString(a.chartType)?[a.chartType]:a.chartType}}if(a.name){r.event=a.name;r.target=null;r.matchMode=e.BEHAVIOR.TRIGGER.CSS.MATCHMODE.POSITIVE;if(a.targets){r.target=t.isString(a.targets)?[a.targets]:a.targets}else if(a.excludeTargets){r.target=t.isString(a.excludeTargets)?[a.excludeTargets]:a.excludeTargets;r.matchMode=e.BEHAVIOR.TRIGGER.CSS.MATCHMODE.NEGATIVE}r.chartType=a.supportedChartTypes;if(r.chartType==null||r.chartType===i){r.chartType=i}else{r.chartType=t.isString(a.supportedChartTypes)?[a.supportedChartTypes]:a.supportedChartTypes}}["onAfterRegistered","onBeforeUnregistered"].forEach(function(e){r[e]=t.isFunction(a[e])?a[e]:null});return this};r.prototype.getTrigger=function(){return this._trigger};r.prototype.setHandler=function(e){if(!t.isFunction(e)){return this}this.removeHandler();this._handlers=[e];return this};r.prototype.addHandler=function(e){if(!t.isFunction(e)){return this}if(!this._handlers){this._handlers=[]}this._handlers.push(e);return this};r.prototype.removeHandler=function(e){if(arguments.length){var t=this._handlers.indexOf(e);if(t>-1){var a=this._handlers.slice(0,t).concat(this._handlers.slice(t+1));this._handlers=a}}else{this._handlers=null}return this};r.prototype.getHandler=function(){return this._handlers};r.prototype.destroy=function(){this._trigger=null;this._handlers=null};return r});define("sap/viz/behaviors/plugin/Behavior",["sap/viz/base/utils/TypeUtils","sap/viz/base/EventDispatch","./ActionItem"],function(e,t,a){var i=function(){this._dispatch=new t;this._dispatchTypes=[];this._actionItems={}};i.prototype.clone=function(){var e=new i;for(var t in this._actionItems){if(this._actionItems.hasOwnProperty(t)){e.addAction(t,this._actionItems[t].clone())}}return e};i.prototype.exposeMoreEvents=function(t){if(e.isArray(arguments[0])){this._dispatch.addEventTypes.apply(this._dispatch,arguments[0]);this._dispatchTypes=arguments[0].concat(this._dispatchTypes)}else{this._dispatch.addEventTypes.apply(this._dispatch,arguments);this._dispatchTypes=[].slice.call(arguments).concat(this._dispatchTypes)}return this};i.prototype.getDispatch=function(){return this._dispatch};i.prototype.dispatchEvent=function(e,t){if(this._dispatchTypes.indexOf(e)<0){return}var a=this._dispatch;setTimeout(function(){a[e](t)},1)};i.prototype.addAction=function(e,t){if(t instanceof a){var i=this._actionItems[e];if(i&&i.getTrigger().onBeforeUnregistered){i.getTrigger().onBeforeUnregistered.call(this)}this._actionItems[e]=t;if(t.getTrigger().onAfterRegistered){t.getTrigger().onAfterRegistered.call(this)}}return this};i.prototype.getActionById=function(e){if(this._actionItems[e]){return this._actionItems[e]}return null};i.prototype.removeActionById=function(e){var t=this._actionItems[e];if(t&&t.getTrigger().onBeforeUnregistered){t.getTrigger().onBeforeUnregistered.call(this)}delete this._actionItems[e];return this};i.prototype.getAllActions=function(e){return this._actionItems};i.prototype.trigger=function(e,t,a){var i=this._actionItems[e];if(!i){return}var r;i.getHandler().forEach(function(e){r=e.call(this,t,a)},this);return r};i.prototype.destroy=function(){if(this._dispatch){this._dispatch.destroy();this._dispatch=null}for(var e in this._actionItems){if(this._actionItems.hasOwnProperty(e)){this.removeActionById(e)}}this._actionItems=null};return i});define("sap/viz/api/interaction/Behavior",["sap/viz/behaviors/plugin/Behavior","sap/viz/behaviors/plugin/ActionItem","exports"],function(e,t){function a(t){this.id=t&&t.id?t.id:"";this._sdkBehavior=new e}var i=a.prototype;i.add=function(e){var a=new t(e);this._sdkBehavior.addAction(e.id,a)};i.remove=function(e){this._sdkBehavior.removeActionById(e)};i.getBehavior=function(){return this._sdkBehavior};return a});define("sap/viz/behaviors/plugin/BehaviorManager",["./Behavior"],function(e){var t={_map:{},get:function(t){if(t&&this._map[t]){this._map[t].updated=false;return this._map[t].bhr}else{return new e}},register:function(t,a){if(a instanceof e){if(!this._map[t]){this._map[t]={}}else{if(this._map[t].bhr!==a){this._map[t].bhr.destroy()}}this._map[t].updated=true;this._map[t].bhr=a}return this},unregister:function(e){if(this._map[e]){this._map[e].bhr.destroy();delete this._map[e]}return this},hasUpdate:function(e){if(this._map[e]){return this._map[e].updated}else{return false}},has:function(e){if(this._map[e]){return true}else{return false}}};return t});define("sap/viz/api/interaction",["sap/viz/api/interaction/Behavior","sap/viz/behaviors/plugin/BehaviorManager","exports"],function(e,t){return{add:function(e){if(e&&e.id){t.register(e.id,e.getBehavior())}},remove:function(e){t.unregister(e)},getBehaviorById:function(a){if(a&&t.has(a)){var i=new e({id:a});i._sdkBehavior=t.get(a);return i}return null}}});define("sap/viz/api/manifest/Feed",["sap/viz/feeds/Manifest","sap/viz/base/utils/TypeUtils","sap/viz/manifests/util/ManifestRegister","exports"],function e(t,a,i){var r={get:function(){i.registerAll();return t.getManifest.apply(this,arguments)}};return r});define("sap/viz/api/manifest/Module",["sap/viz/modules/manifests/Module","sap/viz/base/utils/TypeUtils","sap/viz/manifests/util/ManifestRegister","exports"],function e(t,a,i){var r={get:function(){i.registerAll();return t.getManifest.apply(this,arguments)}};return r});define("sap/viz/flow/FlowConstant",[],function(){var e={CONST_DEFAULT_TYPE:"DIV",CONST_DEFAULT_ELEMENT_PATH:"root.modules.main.modules.plot",CONST_SVG_TYPE:"SVG",CONST_POSITION_LEFT:"left",CONST_POSITION_RIGHT:"right",CONST_POSITION_TOP:"top",CONST_POSITION_BOTTOM:"bottom",CONST_POSITION_CENTER:"center",CONST_TITLE_NAME:"sap.viz.modules.title",CONST_LEGEND_NAME:"sap.viz.modules.legend.common",CONST_LEGENDS_NAME:"sap.viz.modules.legend",CONST_LEGENDS_MODULE_KEY:"legends",CONST_INTERACTION_NAME:"sap.viz.modules.controller.interaction",CONST_TOOLTIP_NAME:"sap.viz.chart.elements.Tooltip",CONST_DATA_FILTER:"sap.viz.modules.dataFilter"};return e});define("sap/viz/flow/ElementMapping",["sap/viz/flow/FlowConstant"],function(e){var t={"sap.viz.chart.elements.Title":e.CONST_TITLE_NAME,"sap.viz.chart.elements.ColorLegend":e.CONST_LEGEND_NAME,"sap.viz.chart.elements.BubbleColorLegend":e.CONST_LEGEND_NAME,"sap.viz.chart.elements.SizeColorLegend":e.CONST_LEGEND_NAME,"sap.viz.chart.elements.MeasureBasedColoringLegend":e.CONST_LEGEND_NAME,"sap.viz.viz.modules.legend":e.CONST_LEGENDS_NAME,"sap.viz.modules.controller.interaction":e.CONST_INTERACTION_NAME,"sap.viz.chart.elements.Tooltip":e.CONST_TOOLTIP_NAME,"sap.viz.modules.dataFilter":e.CONST_DATA_FILTER};return t});define("sap/viz/flow/flowTemplate/DivTemplate",[],function(){var e={id:"",name:"",modules:{root:{id:"sap.viz.modules.divcontainer",configure:{propertyCategory:"root"},modules:{layout:{id:"sap.viz.modules.layout.dock"},main:{id:"sap.viz.modules.divcontainer",modules:{plot:{id:"",configure:{propertyCategory:"",properties:{layout:{position:"center",priority:5}}}}},configure:{properties:{layout:{position:"center",priority:5}}}}}}}};return e});define("sap/viz/flow/flowTemplate/SVGTemplate",[],function(){var e={id:"",name:"",modules:{root:{id:"sap.viz.modules.rootContainer",configure:{propertyCategory:"general"},modules:{layout:{id:"sap.viz.modules.layout.dock"},main:{id:"sap.viz.modules.rootContainer",modules:{plot:{id:"",configure:{propertyCategory:"",properties:{layout:{position:"center",priority:5}}}}},configure:{properties:{layout:{position:"center",priority:5}}}}}}}};return e});define("sap/viz/flow/flowTemplate/FlowTemplateManager",["sap/viz/flow/flowTemplate/DivTemplate","sap/viz/flow/flowTemplate/SVGTemplate"],function(e,t){var a=function(){};var i={BorderSVGFlow:t,BorderDIVFlow:e,SVG:t,DIV:e};a.prototype.getTemplateByType=function(e){return i[e]};return new a});define("sap/viz/flow/elementTemplate/ElementTemplate",[],function(){var e={id:"",name:"",feeds:[],renderto:"",configure:{propertyCategory:"",properties:{layout:{position:"",priority:1}}},type:"CHART",description:"",fn:null};return{template:e}});define("sap/viz/flow/elementTemplate/LegendTemplate",[],function(){var e={id:"sap.viz.modules.legend.common",data:{aa:[1]},configure:{propertyCategory:"legend",properties:{layout:{position:"",order:0,priority:1},isScrollable:true,type:"",drawingEffect:""}}};var t={targetModule:"",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"};var a={id:"sap.viz.modules.legend",configure:{propertyCategory:"legendGroup",properties:{layout:{position:"",priority:1,alignment:"right"}}},modules:{layout:{id:"sap.viz.modules.layout.stack"},legend:{id:"sap.viz.modules.legend.common",configure:{propertyCategory:"legend",properties:{layout:{order:0}}},data:{aa:[1]}}}};var i={targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"};return{template:e,dependency:t,templateInteraction:a,dependencyInteraction:i}});define("sap/viz/flow/flowModule/DataFilter",["jquery","sap/viz/base/utils/oo","sap/viz/elements/common/BaseGraphic"],function(e,t,a){var i="showDataFilter.DataFilter",r="hideDataFilter.DataFilter";var s=function(e,t){this._dispatch=d3.dispatch("initialized","startToInit","selectData","showDataFilter","hideDataFilter");this._selectedObjs=[];this._extensionDiv=null;this._properties={};this._container={}};t.extend(s,a);s.prototype.properties=function(t){if(!arguments.length){return this._properties}e.extend(true,this._properties,t);return this._properties};s.prototype.dispatch=function(e){if(!arguments.length){return this._dispatch}this._dispatch=e;return this};var o=function(e,t,a){if(e){try{e(t,a)}catch(e){Logger.error("ERROR in DataFilter callback")}}};s.prototype.showDataFilter=function(t){this._removeDataFilterDiv();this._extensionDiv=e("<div></div>").css({width:160,height:30,right:0,position:"absolute"});this._extensionDiv.attr("id","datafilter");var a=t.dataCtx;this._dispatch.selectData({name:"selectData.chartview",data:a});var i=t.options;if(i&&i.position){this._extensionDiv.css({left:i.position.x?i.position.x:0,top:i.position.y?i.position.y:0})}o(this._properties.preRender,d3.select(this._extensionDiv[0]),a);o(this._properties.postRender,d3.select(this._extensionDiv[0]),a);this._container.append(this._extensionDiv)};s.prototype.hideDataFilter=function(e){this._removeDataFilterDiv()};s.prototype._removeDataFilterDiv=function(e){if(this._extensionDiv){this._extensionDiv.remove()}};s.prototype.destory=function(){this._extensionDiv=null;this._properties={};this._container={}};s.prototype.render=function(t){this._container=e(t.node()).closest("svg").parent();this._removeDataFilterDiv();this._dispatch.initialized()};return s});define("sap/viz/flow/elementTemplate/DataFilterTemplate",["sap/viz/flow/flowModule/DataFilter"],function(e){var t={id:"sap.viz.modules.dataFilter",properties:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set the visibility of the main title"},preRender:{name:"preRender",supportedValueType:"Function",defaultValue:undefined},postRender:{name:"postRender",supportedValueType:"Function",defaultValue:undefined}},configure:{propertyCategory:"tooltip",properties:{preRender:undefined,postRender:undefined,visible:true}},fn:e};var a=[{targetModule:"root.dataFilter",listener:"showDataFilter",sourceModule:"root.main.plot",type:"showDataFilter.DataFilter"},{targetModule:"root.dataFilter",listener:"hideDataFilter",sourceModule:"root.main.plot",type:"hideDataFilter.DataFilter"}];return{template:t,eventDependency:a}});define("sap/viz/flow/Flow",["sap/viz/flow/FlowConstant","sap/viz/flow/ElementMapping","sap/viz/flow/flowTemplate/FlowTemplateManager","sap/viz/base/utils/ObjectUtils","sap/viz/base/utils/FunctionUtils","sap/viz/lang/langManager","sap/viz/flow/elementTemplate/ElementTemplate","sap/viz/flow/elementTemplate/LegendTemplate","sap/viz/flow/elementTemplate/DataFilterTemplate","sap/viz/base/utils/TypeUtils"],function(e,t,a,i,r,s,o,n,l,u){var d=function(e,t){this.elements={};this._type=t;this.flowManifest=i.clone(a.getTemplateByType(t));this.flowManifest.acceptPartialValidation=true;if(this.flowManifest!==null&&this.flowManifest!==undefined){for(var o in e){this.flowManifest[o]=e[o]}}else{r.error(s.getLogMessage("IDS_ERROR_CAN_NOT_FIND_CATEGORY"))}};var h=function(a){var r=t[a.id];if(!r){r=a.id}var s;var u;var d=false;if(r===e.CONST_LEGEND_NAME){s=i.clone(n.template);u=i.clone(n.dependency);var h=a.id.split(".").pop();s.configure.properties.type=h;d=true;if(parseInt(a.aaIndex)>0){s.data.aa=[a.aaIndex]}}else if(r===e.CONST_LEGENDS_NAME){s=i.clone(n.templateInteraction);u=i.clone(n.dependencyInteraction);var h=a.id.split(".").pop();s.configure.properties.type=h;d=true;if(parseInt(a.aaIndex)>0){s.modules.legend.data.aa=a.aaIndex}}else if(r===e.CONST_INTERACTION_NAME){d=true;u={targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"};s=i.clone(o.template)}else if(r===e.CONST_DATA_FILTER){s=i.clone(l.template);u=i.clone(l.eventDependency)}else{s=i.clone(o.template)}if(s.configure.properties.layout){s.configure.properties.layout.position=a.place}s.id=r;s.configure.propertyCategory=a.propertyCategory;return{module:s,dependency:u,legacyDataAdapter:d}};var p=e.CONST_DEFAULT_ELEMENT_PATH;d.prototype.addElement=function(t){if(t!=null){var a=t.element;var o=t.propertyCategory;var n=t.place;if(!a.elmManifest.id){a.elmManifest.id=this.flowManifest.id+".element"}if(!a.elmManifest.name){a.elmManifest.name=this.flowManifest.name+".element"}if(this._type.indexOf(e.CONST_DEFAULT_TYPE)>=0){a.elmManifest.renderto=e.CONST_DEFAULT_TYPE}else if(this._type.indexOf(e.CONST_SVG_TYPE)>=0){a.elmManifest.renderto=e.CONST_SVG_TYPE}else{r.error(s.getLogMessage("IDS_ERROR_CAN_NOT_FIND_CATEGORY"))}if(n!==undefined||a.elmManifest.id===e.CONST_INTERACTION_NAME||a.elmManifest.id===e.CONST_DATA_FILTER){var l=h({place:n,id:a.elmManifest.id,propertyCategory:o,aaIndex:a.elmManifest.dimensionIndex});if(n!==e.CONST_POSITION_CENTER){var u=a.elmManifest.id.split(".").pop();idArray=null;if(a.elmManifest.id===e.CONST_LEGENDS_NAME){this.flowManifest.modules.root.modules[e.CONST_LEGENDS_MODULE_KEY]=l.module}else{this.flowManifest.modules.root.modules[u]=l.module}if(l.dependency&&!l.dependency.targetModule){l.dependency.targetModule="root."+u}}else{this.flowManifest.modules.root.modules.main.modules.plot=l.module;a.elmManifest.configure.properties.layout.priority=5}this.elements[a.elmManifest.id]=a.elmManifest;if(l.module.id===e.CONST_DATA_FILTER){this.elements[a.elmManifest.id]=l.module}if(l.dependency){if(!this.flowManifest.dependencies){this.flowManifest.dependencies={}}if(l.module.id===e.CONST_INTERACTION_NAME){if(!this.flowManifest.dependencies.events||!this.flowManifest.dependencies.events.push){this.flowManifest.dependencies.events=[]}this.flowManifest.dependencies.events.push(l.dependency)}else if(l.module.id===e.CONST_DATA_FILTER){if(!this.flowManifest.dependencies.events||!this.flowManifest.dependencies.events.push){this.flowManifest.dependencies.events=[]}var d;for(d=0;d<l.dependency.length;d++){this.flowManifest.dependencies.events.push(l.dependency[d])}}else{if(!this.flowManifest.dependencies.attributes||!this.flowManifest.dependencies.attributes.push){this.flowManifest.dependencies.attributes=[]}this.flowManifest.dependencies.attributes.push(l.dependency)}}if(!this.flowManifest.legacyDataAdapter&&l.legacyDataAdapter!==undefined){this.flowManifest.legacyDataAdapter=l.legacyDataAdapter}}else{var c=p;this.elements[p]=a.elmManifest;var f=c.split(".");var m=this.flowManifest.modules;for(var d=0,_=f.length;d<_;d++){m=m[f[d]]}m.id=a.elmManifest.id;if(a.elmManifest.configure){m.configure=i.extend(true,{},m.configure,a.elmManifest.configure);if(o!=null){m.configure["propertyCategory"]=o}}m.configure.properties.layout.position="center"}}};return d});define("sap/viz/elements/common/ExtensionGraphic",["sap/viz/base/utils/oo","sap/viz/elements/common/BaseGraphic","sap/viz/modules/GlobalConstants"],function e(t,a,i){var r=function(e,t){r.superclass.constructor.apply(this,arguments);this.init()};t.extend(r,a);r.prototype.init=function(){};r.prototype.feeds=function(){return this._manifest.feeds};r.prototype.dispatch=function(e){if(!arguments.length){return this._eDispatch}this._eDispatch=e;return this};r.prototype.colorPalette=function(e){if(!arguments.length){if(!!this._colorPalette){return this._colorPalette}else if(this.properties().colorPalette!==i.COLOR.SAPColorSingleAxis){return this.properties().colorPalette}else{return i.COLOR.SAPColorSingleAxis}}this._colorPalette=e;return this};return r});define("sap/viz/flow/Element",["sap/viz/flow/elementTemplate/ElementTemplate","sap/viz/base/utils/ObjectUtils","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/FunctionUtils","sap/viz/lang/langManager","sap/viz/elements/common/ExtensionGraphic","sap/viz/modules/GlobalConstants"],function(e,t,a,i,r,s,o){var n=function(a){this.elmManifest=t.clone(e.template);this.elmDependency=t.clone(e.dependencies);if(this.elmManifest!==null&&this.elmManifest!==undefined){this.elmManifest.feeds=[];this.elmManifest.properties={};for(var s in a){if(s!=="type"){this.elmManifest[s]=a[s]}}}else{i.error(r.getLogMessage("IDS_ERROR_CAN_NOT_FIND_CATEGORY"))}};var l={"sap.viz.elements.common.BaseGraphic":s};n.prototype.addFeed=function(e){if(a.isArray(e)){var t=e.length;for(var i=0;i<t;i++){this.elmManifest.feeds.push(e[i])}}else{this.elmManifest.feeds.push(e)}};var u=function(e,t){if(t!=undefined){var a=t.length;for(var i=0;i<a;i++){if(e[t[i]]===undefined){return false}}}return true};var d=["defaultValue","readonly","serializable"];var h=function(e){for(var t in e){if(e.hasOwnProperty(t)){var a=e[t];var i=false;d.forEach(function(e){if(a[e]!==undefined){i=true}});if(!i){return false}}}return true};var p=function(e,t){var a=e.split(".");var i={},r=i;for(var s=a.length,o=0;o<s;o++){if(o==s-1){r.name=a[o];r.type=t.supportedValueType||"";r.supportedValues=t.supportedValues||"";r.defaultValue=t.defaultValue}else{r.name=a[o];r.type="Object";var n={};r.supportedValues={};r.supportedValues[a[o+1]]=n;r=n}}return i};var c=["name","type"];var f=function(e){var a=t.clone(e);var i={};i.name=a.name;i.supportedValueType=a.type;i.supportedValues=a.supportedValues;if(i.supportedValueType!=="Object"){i.defaultValue=a.defaultValue}if(i.name==="colorPalette"&&!i.defaultValue){i.defaultValue=o.COLOR.SAPColorSingleAxis}return i};var m=function(e,t){if(l[e]){var a=l[e].prototype;var s=function(){a.constructor.apply(this,arguments)};for(var o in a){s.prototype[o]=a[o]}for(var o in t){s.prototype[o]=t[o]}return s}else{i.error(r.getLogMessage("IDS_ERROR_CAN_NOT_FIND_CATEGORY"))}};n.prototype.implement=function(e,t){var a=m(e,t);if(this.elmManifest!=null){this.elmManifest.fn=a}};n.prototype.addProperty=function(e){if(u(e,c)){this.elmManifest.properties[e.name]=f(e)}else if(h(e)){var t={};for(var a in e){if(e.hasOwnProperty(a)){var s=p(a,e[a]);this.addProperty(s)}}}else{i.error(r.getLogMessage("IDS_ERROR_CAN_NOT_FIND_CATEGORY"))}};return n});define("sap/viz/flow/FlowManager",["sap/viz/flow/FlowConstant","sap/viz/flow/Flow","sap/viz/flow/Element","sap/viz/modules/manifests/Module","sap/viz/manifests/Viz"],function(e,t,a,i,r){var s=function(){};var o=e.CONST_DEFAULT_TYPE;s.prototype.createElement=function(e){return new a(e)};s.prototype.createFlow=function(e){var a=e&&e.type?e.type:o;return new t(e,a)};s.prototype.register=function(e){for(var t in e.elements){if(!i.get(e.elements[t].id)){i.register(e.elements[t])}else{}}if(!r.get(e.flowManifest.id)){r.register(e.flowManifest)}};s.prototype.unregister=function(e){r.unregister(e)};return new s});define("sap/viz/extapi/Flow",["sap/viz/base/utils/TypeUtils","sap/viz/base/Logger","sap/viz/lang/langManager","sap/viz/flow/FlowManager","exports"],function e(t,a,i,r){var s={};s.createFlow=function(e){return r.createFlow(e)};s.createElement=function(e){return r.createElement(e)};s.registerFlow=function(e){r.register(e)};s.unregisterFlow=function(e){r.unregister(e)};return s});define("sap/viz/util/ContextUtils",["sap/viz/api/data/CrosstableDataset","sap/viz/api/data/FlatTableDataset","sap/viz/base/utils/ObjectUtils"],function(e,t,a){function i(e,t){var i="Measure",r="Dimension",s="semanticType";var o,n=[];var l;e=e.data();o=e.metadata.fields;if(t&&t.length>0){l={};t.forEach(function(e){e.source.forEach(function(e){if(typeof e=="string"){l[e]=true}})})}e.data.forEach(function(e,t){var u=[],d={};e.forEach(function(e,t){var a={};if(!l||l[o[t].id]){if(o[t][s]==r){d[o[t].id]=e}else if(o[t][s]==i){a[o[t].id]=e;a._tmpDims=d;u.push(a)}}});n.push(u.map(function(e){var t=e._tmpDims;delete e._tmpDims;return a.extend(e,t)}))});return n}function r(e,t){var a=[],i,r,s,o,n,l,u,d,h,p,c,f,m,_;var g;if(t&&t.length>0){g={};t.forEach(function(e){e.source.forEach(function(e){g[e.type+e.index]=true})})}e=e.data();i=e.measureValuesGroup.length;for(r=0;r<i;r++){c=[];l=e.measureValuesGroup[r];if(g&&!g["measureValuesGroup"+(r+1)]){continue}u=l.data;h=l.data.length;for(s=0;s<h;s++){f=[];d=u[s].values;for(o=0;o<d.length;o++){p=d[o];m=[];for(n=0;n<p.length;n++){m.push({type:"Measure",path:{mg:r,mi:s,dii_a1:n,dii_a2:o}})}f.push(m)}c.push(f)}a.push(c)}return a}return{flatTableContext:i,crossTableContext:r}});define("sap/viz/extapi/utils/Data",["sap/viz/util/ContextUtils","exports"],function(e){return{getDataContext:function(t,a){var i;if(!t){return}if(t.type=="sap.viz.api.data.CrosstableDataset"){i=e.crossTableContext}else if(t.type=="sap.viz.api.data.FlatTableDataset"){i=e.flatTableContext}else{return}return i(t,a)}}});define("sap/viz/extapi/env/Language",["sap/viz/lang/langManager","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/LinkedHashMap","sap/viz/base/Logger","exports"],function e(t,a,i,r){var s=new i;var o={get:function(){return t.current()},addListener:function(e){if(arguments.length===1&&a.isFunction(e)){var i={fn:e};t.addListener(i);s.add(e,i);return o}else{r.warn(t.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}},removeListener:function(e){if(arguments.length===1&&a.isFunction(e)){t.removeListener(s.get(e));s.remove(e);return o}else{r.warn(t.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}},register:function(e){if(arguments.length===1&&a.isPlainObject(e)){t.register(e);return o}else{r.warn(t.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}},getErrorMessage:function(e){return t.getLogMessageByID(e)},getResourceString:function(e){return t.get(e)}};return o});define("sap/viz/extapi/env/Locale",["sap/viz/Locale","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/LinkedHashMap","sap/viz/base/Logger","sap/viz/lang/langManager","exports"],function e(t,a,i,r,s){var o=new i;var n={get:function(){return t.locale()},addListener:function(e){if(arguments.length===1&&a.isFunction(e)){var i={fn:e};t.addListener(i);o.add(e,i);return n}else{r.warn(s.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}},removeListener:function(e){if(arguments.length===1&&a.isFunction(e)){t.removeListener(o.get(e));o.remove(e);return n}else{r.warn(s.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}}};return n});define("sap/viz/extapi/env/Resource",["sap/viz/api/env/Resource","exports"],function(e){return e});define("sap/viz/extapi/env/Template",["sap/viz/TemplateManager","sap/viz/base/utils/ObjectUtils","sap/viz/base/utils/TypeUtils","sap/viz/base/Logger","sap/viz/lang/langManager","exports"],function e(t,a,i,r,s){var o={};var n={get:function(){return t.current().id},current:function(){var e={};return a.extend(true,e,t.current())},getPackage:function(e){var i=t.retrieve(e);return i?a.extend(true,{},i):null},isRegistered:function(e){return t.isLoaded(e)},addListener:function(e){if(arguments.length===1&&i.isFunction(e)){var a={fn:e};t.addListener(a);o[e]=o[e]||[];o[e].push(a);return n}else{r.warn(s.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}},removeListener:function(e){if(arguments.length===1&&i.isFunction(e)){if(o[e]){for(var a=0;a<o[e].length;a++){if(o[e][a].fn===e){t.removeListener(o[e][a]);o[e].splice(a,1);break}}}return n}else{r.warn(s.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}}};return n});define("sap/viz/extapi/manifest/Feed",["sap/viz/feeds/Manifest","sap/viz/base/utils/TypeUtils","sap/viz/base/Logger","sap/viz/lang/langManager","exports"],function e(t,a,i,r){var s={};s.register=t.register;s.unregister=function(e){if(a.isString(e)){return t.unregister(e)}else{i.warn(r.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"))}};return s});define("sap/viz/extapi/manifest/Module",["sap/viz/modules/manifests/Module","sap/viz/base/utils/TypeUtils","sap/viz/base/Logger","sap/viz/lang/langManager","exports"],function e(t,a,i,r){var s={};s.register=t.register;s.unregister=function(e){if(a.isString(e)){return t.unregister(e)}else{i.warn(r.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"))}};return s});define("sap/viz/extapi/manifest/Viz",["sap/viz/manifests/Viz","sap/viz/base/utils/TypeUtils","sap/viz/base/Logger","sap/viz/lang/langManager","exports"],function e(t,a,i,r){var s={};s.register=t.register;s.unregister=function(e){if(a.isString(e)){return t.unregister(e)}else{i.warn(r.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"))}};return s});define("sap/bi/framework/BundleLoader/ServicePlugin",[],function(){function e(e){this._kernel=e}e.prototype.load=function(e,t,a,i){var r=this._kernel.getInstance("core.logger");if(r){r("ServicePlugin is loading '"+e+"'")}a(this.getService(e))};e.prototype.getService=function(e){var t;if(e[0]==="*"){t="multiple";e=e.slice(1);return this._kernel.getAllInstances(e)}else{t="single";return this._kernel.getInstance(e)}};e.prototype.getServiceForBundle=function(e,t){return this.getService(t)};e.load=function(e,t,a,i){a({})};return e});define("sap/bi/framework/BundleLoader/ServiceMetadataPlugin",[],function(){function e(e){this._kernel=e}e.prototype.load=function(e,t,a,i){var r=this._kernel.getInstance("core.logger");if(r){r("ServiceMetadataPlugin is loading '"+e+"'")}a(this.getServiceMetadata(e))};e.prototype.getServiceMetadata=function(e){if(e[0]==="*"){e=e.slice(1);return this._kernel.getAll(e).map(function(e){return e.exportedMetadata})}else{var t=this._kernel.get(e);return t?t.exportedMetadata:undefined}};e.load=function(e,t,a,i){a({})};return e});define("sap/bi/framework/BundleLoader/ImportPlugin",[],function(){function e(e){this._kernel=e}e.prototype.load=function(e,t,a,i){var r=this._kernel.getInstance("core.logger");if(r){r("ImportPlugin is loading '"+e+"'")}var s=this._kernel.getInstance("bundleLoader.getHelpers");var o=e.split(":");o[1]=s.stripLeading(o[1],"/");Q(s.getBundlePromise(o[0])).then(function(e){if(!e){throw new Error("Error importing "+o[1]+" from non-existent bundle "+o[0])}if(!e.exports||!e.exports.some(function(e){return s.startsWith(o[1],e)})){throw new Error("Attempting to import "+o[1]+" which is not exported by "+o[0])}s.getRequireContext(o[0])([o[1]],a,a.error)}).fail(function(e){a.error(e)})};e.load=function(e,t,a,i){a({})};return e});define("sap/bi/framework/BundleLoader/CssPlugin",[],function(){function e(e,t){this._resourceLoaderFunction=e;this._log=t}var t=function(){return document.head||document.getElementsByTagName("head")[0]||document.documentElement};var a=function(e){if(/^http[s]?:\/\//.test(e)){return e}else{var t=document.createElement("a");t.href=e;return t.href}};var i=function(e,t,a){var i=t.lastIndexOf("/");var r=t.substring(0,i+1);var s=/url ?\((\"|\')?([a-zA-Z0-9\.\/\-\_]*)(\"|\')?\)/gm;var o=a.replace(s,function(t,a,i,s,o,n){if(i&&i.length>0){e("Converting "+i+" to "+(r+i));return"url("+r+i+")"}});return o};e.prototype.normalize=function(e,t){if(!/\.css$/.test(e)){e=e+".css"}return t(e)};e.prototype.load=function(e,r,s,o){var n=r.toUrl?r.toUrl(e):e;var l;if(this._resourceLoaderFunction){var u=this._resourceLoaderFunction(n);if(u){var d=a(n);u=i(this._log,d,u);u+="\n/*# sourceURL="+d+" */";this._log("CssPlugin.load() returning cached content for url: "+n);l=n;var h=window.URL||window.webkitURL;var p=new Blob([u],{type:"text/css"});n=h.createObjectURL(p)}else{this._log("CssPlugin.load() loading from network for url: "+n)}}var c=document.createElement("link");c.type="text/css";c.rel="stylesheet";c.href=n;if(l){c.setAttribute("bundle_cache_src",l)}c.onload=function(e){s(this.sheet);this.onerror=this.onload=null};c.onerror=function(e){s.error(new Error("Failed to load "+this.href));this.onerror=this.onload=null};t().appendChild(c);if(window.navigator.userAgent.indexOf("PhantomJS")!==-1){var f=c.href;var m=window.setInterval(function(){var e=Array.prototype.slice.call(document.styleSheets);var t=e.filter(function(e){return e.href===f});if(t.length>0){window.clearInterval(m);c.sheet=t[0];if(c.onload){c.onload()}}},10)}};e.prototype.pluginBuilder="cssBuilder";return e});define("sap/bi/framework/BundleLoader/XHRInterceptor",["require"],function(e){function t(e,t,a){function i(e){if(/^http[s]?:\/\//.test(e)){return e}else{var t=document.createElement("a");t.href=e;var a=window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.host;var i=t.href.slice(a.length);return i}}var r=function(){this.originalXHRConstructor=t;this.originalXHR=new this.originalXHRConstructor;var e=this;this.originalXHR.onreadystatechange=function(){e.onreadystatechangefunction()};return this};r.prototype.isXHRInterceptor=true;r.prototype.getOriginalXmlHttpRequestConstructor=function(){return this.originalXHRConstructor};r.prototype.open=function(e,t,a,r,s){this.url=i(t);return this.originalXHR.open(e,t,a,r,s)};r.prototype.setRequestHeader=function(e,t){this.originalXHR.setRequestHeader(e,t)};r.prototype.send=function(t){var i=this.url&&e(this.url);if(i!==undefined&&i!==null){a("XHRInterceptor.send() returning cached content for url: "+this.url);this.wasIntercepted=true;this.response=i;this.responseText=this.response;this.readyState=4;this.responseXML=null;this.status=200;this.statusText="OK";if(this.onreadystatechange){this.onreadystatechange()}return}try{a("XHRInterceptor.send() using original xhr for url: "+this.url);return this.originalXHR.send(t)}catch(e){this.onreadystatechangefunction();throw e}};if((new t).overrideMimeType){r.prototype.overrideMimeType=function(){return this.originalXHR.overrideMimeType.call(this.originalXHR,arguments)}}r.prototype.getAllResponseHeaders=function(){if(this.wasIntercepted){if(this.url.match(/\.js$/)){return"Content-Type: application/x-javascript"}else{return""}}else{return this.originalXHR.getAllResponseHeaders.call(this.originalXHR,arguments)}};r.prototype.getResponseHeader=function(){return this.originalXHR.getResponseHeader.call(this.originalXHR,arguments)};r.prototype.onreadystatechangefunction=function(){this.readyState=this.originalXHR.readyState;if(this.readyState===4){this.responseText=this.originalXHR.responseText;this.responseXML=this.originalXHR.responseXML;this.status=this.originalXHR.status;this.statusText=this.originalXHR.statusText}else{this.responseText=undefined;this.responseXML=undefined;this.status=undefined;this.statusText=undefined}if(this.onreadystatechange){this.onreadystatechange()}};return r}function a(){var e=new window.XMLHttpRequest;if(e&&e.isXHRInterceptor){window.XMLHttpRequest=e.getOriginalXmlHttpRequestConstructor()}}function i(e,i){a();i("Installing XHRInterceptor...");var r=t(e,window.XMLHttpRequest,i);window.XMLHttpRequest=r}return{installInterceptor:i,uninstallInterceptor:a}});define("sap/bi/framework/BundleLoader/BundleLoader",["require","./ServicePlugin","./ServiceMetadataPlugin","./ImportPlugin","./CssPlugin","./XHRInterceptor"],function(e,t,a,i,r,s){var o=function(e){var t=this._kernel.getInstance("core.logger");if(t){t(e)}};var n=function(e,t){var a=this._kernel.getAllInstances("core.listener");if(a){a.forEach(function(a){a(e,t)})}};var l=function(e){return e.replace(/\./g,"/")};var u=function(e){var t=e.lastIndexOf(".");var a=e.substr(t+1,e.length);return a+"-bundle"};var d=function(e,t,a){var i=function(e,a){if(this._registeredUI5ModulePaths[e]){o.apply(this,["Warning: UI5 module '"+e+"' bound to path '"+this._registeredUI5ModulePaths[e]+"' is being replaced by '"+a+"' by bundle '"+t+"'"])}window.$.sap.registerModulePath(e,a)}.bind(this);if(window.$&&window.$.sap&&window.$.sap.registerModulePath){i(t,a);if(e&&e.moduleMapping){var r=Object.keys(e.moduleMapping);r.forEach(function(t){i(t,a+"/"+e.moduleMapping[t])})}}};var h=function(e,t,a){if(!t){t=this._requireConfig}for(var i in t){if(t.hasOwnProperty(i)){if(!e[i]||a===true){e[i]=t[i]}}}return e};var p=function(e,t){return e.indexOf(t)===0};var c=function(e,t){return e.indexOf(t,e.length-t.length)!==-1};var f=function(e,t){if(p(e,t)){e=e.substring(t.length)}return e};var m=function(e,t){if(c(e,t)){e=e.substring(0,e.length-t.length)}return e};var _=function(t){var a=e.toUrl("").split("?")[0];if(t){var i=l(t)+"/foo";a=e.toUrl(i).split("?")[0];a=m(a,".js");a=m(a,i)}return m(a,"/")};var g=function(e,t){t=t||"";var a=e.toUrl(t).split("?")[0];return m(a,"/")};var v=function(e){return this._bundlePaths[g(e)]};var y=function(e){return this._bundles[e]};var b=function(e){return this._bundleRequires[e]};var x=function(e,t,a){var i=_(a);i+=e?"/"+e:"";i+=t?"/"+t:"";return i};var A=function(){this._componentFactories={}};var M=function(e){var t=function(t){var a=t;if(e._config.baseUrl){var i=a.indexOf(e._config.baseUrl);if(i===-1){return undefined}if(i!==0){a=t.substring(i);a=x(a)}}var r="";Object.keys(e._bundlePaths).forEach(function(e){if(a.indexOf(e)===0){if(e.length>r.length){r=e}}});if(r.length>0){var s=e._bundlePaths[r];var o=e._id+"_"+s;var n=window.requirejs.s.contexts[o];if(n){var u=l(s);var d=t.indexOf(u);if(d!==-1){var h="resource:"+t.substring(d+u.length+1);var p=h.indexOf("?");if(p>0){h=h.substring(0,p)}if(n.require.specified(h)){var c=n.nextTick;var f;try{n.nextTick=function(e){e()};n.require([h],function(e){f=e})}finally{n.nextTick=c}if(f){return f}}}}}return undefined};return t};var S=function(e){var s={};var o=new t(e._kernel);define("service",o);s.servicePlugin=o;var n=new a(e._kernel);define("serviceMetadata",n);s.serviceMetadataPlugin=n;var l=new i(e._kernel);define("import",l);s.importPlugin=l;var u;if(e._config.enableXHRInterceptor){u=M(e)}var d=e._kernel.getInstance("core.logger");var h=new r(u,d);define("css",h);s.cssPlugin=h;return s};function z(e,t){var a=t.requireConfig||{};a.context=a.context||(new Date).getTime();this._id=a.context;this._kernel=e;this._config=t;this._requireConfig=a;t.repoPath=t.repoPath||"";t.repoPath=p(t.repoPath,"http")?t.repoPath:x(t.baseUrl,t.repoPath);this._require=require.config(h.apply(this,[{baseUrl:x(t.baseUrl)}]));var i=S(this);this._require([]);window.sap=window.sap||{};window.sap.bi=window.sap.bi||{};window.sap.bi.framework=window.sap.bi.framework||{};window.sap.bi.framework.contexts=window.sap.bi.framework.contexts||{};window.sap.bi.framework.getService=window.sap.bi.framework.getService||function(e,t){return i.servicePlugin.getServiceForBundle(e,t)};window.sap.bi.framework.getServiceMetadata=window.sap.bi.framework.getServiceMetadata||function(e){return i.serviceMetadataPlugin.getServiceMetadata(e)};window.sap.bi.framework.declareBundle=window.sap.bi.framework.declareBundle||function(e){return e};window.sap.bi.framework.capabilities=window.sap.bi.framework.capabilities||{};window.sap.bi.framework.capabilities.bundleLoading=window.sap.bi.framework.capabilities.bundleLoading||{};window.sap.bi.framework.capabilities.bundleLoading.hostBundle=true;this._bundles={};this._componentFactories={};this._bundleRequires={};this._registeredUI5ModulePaths={};this._bundlePaths={};if(this._config.enableXHRInterceptor){var r=M(this);s.installInterceptor(r,this._kernel.getInstance("core.logger"))}}z.prototype._uninstallInterceptor=function(){s.uninstallInterceptor()};z.prototype._loadBundles=function(e,t,a){this._componentFactories={};var i=this._config.baseUrl;var r=function(){var t=[];e.forEach(function(e){t.push(this._createBundleContext(e,i))}.bind(this));return Q.all(t)}.bind(this);var s=function(){var t=[];e.forEach(function(e){t.push(this._loadBundle(e,i))}.bind(this));return Q.all(t)}.bind(this);var o=function(e){A.apply(this);t()};r().then(s.bind(this)).then(this._activateAllProviders.bind(this,i)).then(o.bind(this)).fail(a).done()};z.prototype._createBundleContext=function(e,t){if(this._bundleRequires[e]){o.apply(this,["Shortcut creating context: "+e]);return this._bundleRequires[e]}o.apply(this,["Creating context: "+e]);var a=Q.defer();var i=x(t,l(e),e);this._bundlePaths[i]=e;var r=require.config(h.apply(this,[{baseUrl:i,context:this._id+"_"+e}]));S(this);r([],function(){this._bundleRequires[e]=r;o.apply(this,["Context created: "+e]);a.resolve()}.bind(this),function(t){o.apply(this,["Error creating context: "+e]);a.reject()});return a.promise};z.prototype._resolveBundle=function(e){var t=Q.defer();var a=this._bundleRequires[e];var i=u(e);var r=o.bind(this);a([i],function(e){t.resolve(e)},function(a){r("Failed to load bundle with id: "+e);t.resolve(undefined)});return t.promise};z.prototype._parseBundle=function(e,t){var a=[];var i=x(t,l(e.id),e.id);var r={bundleId:e.id,bundleUrl:i,bundleVersion:e.version};d.apply(this,[e.ui5,e.id,i]);var s=this;(e.components||[]).forEach(function(t){t.framework=r;t.bundleId=e.id;t.dependencies=t.includedDependencies;if(!t.dependencies){t.dependencies=e.dependencies||[];t.dependencies=t.dependencies.concat(a)}a.push(t.provide);t.id=t.id||e.id+"."+t.provide;s._componentFactories[t.provide]=s._componentFactories[t.provide]||[];s._componentFactories[t.provide].push(t)});if(typeof e.onLoaded==="function"){e.onLoaded.apply(this)}};z.prototype._loadBundle=function(e,t){if(this._bundles[e]){o.apply(this,["Shortcut loading: "+e]);return this._bundles[e]}o.apply(this,["Loading: "+e]);n.call(this,"loadBundle",{bundleId:e});var a=this;var i=this._resolveBundle(e);i=i.then(function(i){if(!i){return}var r=a._loadDependentBundles(i,t);if(i.imports){var s={"*":{}};i.imports.forEach(function(e){s["*"][e.localPath]="import!"+e.bundle+":"+(e.remotePath?e.remotePath:"")});require.config({context:a._id+"_"+i.id,map:s})}var o;if(i.hostBundle){a._bundles[e]="ReloadingInHost";var n={};if(e==="sap.viz.geo.all"){n["all-bundle"]="../../../sap/viz/geo/all/all-bundle";n["sap.viz.geo.all"]="../../../sap/viz/geo/all/sap.viz.geo.all";n["resources/libs/jslinq"]="../../../sap/viz/geo/all/resources/libs/jslinq";n["resources/libs/dojo.has"]="../../../sap/viz/geo/all/resources/libs/dojo.has";n["resources/libs/dojo.i18n"]="../../../sap/viz/geo/all/resources/libs/dojo.i18n";n["resources/styles/esri"]="../../../sap/viz/geo/all/resources/styles/esri";n["resources/styles/map"]="../../../sap/viz/geo/all/resources/styles/map"}var l=require.config(h.apply(a,[{context:a._id+"_"+i.hostBundle,paths:n}]));a._bundleRequires[e]=l;o=a._resolveBundle(e);o.then(function(e){a._parseBundle(e,t)});return o.then(function(){return i})}else{r.then(function(e){a._parseBundle(i,t)});return r.then(function(){return i})}});this._bundles[e]=i;return i};z.prototype._loadDependentBundles=function(e,t){var a=[];n.call(this,"loadDependentBundles",{bundleId:e.id,bundle:e});var i=e&&e.loadAfter||[];var r=this;var s;for(var l=0;l<i.length;l++){var u=i[l];o.apply(r,["Loading dep '"+u+"' for '"+e.id+"'"]);if(!this._bundleRequires[u]){var d=this._createBundleContext(u,t);s=d.then(r._loadBundle.bind(this,u))}else{s=r._loadBundle(u)}a.push(s)}if(e.hostBundle){if(!r._bundleRequires[e.hostBundle]){throw"Bundle '"+e.id+"' specified an invalid hostBundle of '"+e.hostBundle+"'"}o.apply(r,["Loading host bundle '"+e.hostBundle+"' for '"+e.id+"'"]);s=r._loadBundle(e.hostBundle);a.push(s)}return Q.all(a)};var D="sap.bi.gdd.governator";z.prototype._activateAllProviders=function(e){var t=this._componentFactories[D]!==undefined?this._activateProvider(D,e):undefined;var a=this;return Q(t).then(function(){var t=[];for(var i in a._componentFactories){if(a._componentFactories.hasOwnProperty(i)&&i!==D){t.push(a._activateProvider(i,e))}}return Q.all(t)})};z.prototype._activateProvider=function(e,t){if(e[0]==="*"){e=e.slice(1)}if(!this._componentFactories[e]){return}if(this._componentFactories[e].activatedProviders){return this._componentFactories[e].activatedProviders}if(this._componentFactories[e].activateInProgress){throw"Infinity and beyond!"}this._componentFactories[e].activateInProgress=true;var a=[];var i=this;var r=this._componentFactories[e];r.forEach(function(r){(r.dependencies||[]).forEach(function(r){if(r!==e){a.push(i._activateProvider(r,t))}})});var s=Q.all(a).then(function(){var e;r.map(function(a){if(e){e=e.then(function(){return i._activateComponent(a,t)})}else{e=i._activateComponent(a,t)}});return e});this._componentFactories[e].activatedProviders=s;this._componentFactories[e].activateInProgress=false;return s};var E="require:";var w=function(e,t){t=t||[];if(typeof e==="string"){if(e.indexOf(E)===0){t.push(e.substring(E.length))}}else if(typeof e==="object"&&e!==null){if(Array.isArray(e)){e.forEach(function(e){w(e,t)})}else{Object.keys(e).forEach(function(a){w(e[a],t)})}}return t};var T=function(e,t){if(typeof e==="string"){if(e.indexOf(E)===0){var a=e.substring(E.length);return t[a]}}else if(typeof e==="object"){if(Array.isArray(e)){return e.map(function(e){return T(e,t)})}else{Object.keys(e).forEach(function(a){e[a]=T(e[a],t)})}}return e};z.prototype._registerComponent=function(e){o.apply(this,["Registering: "+e.provide+" | "+e.id]);this._kernel.register(e);if(e.provide===D){var t=sap.bi.framework.getService(null,D);return t.init()}};z.prototype._activateComponent=function(e,t){var a=sap.bi.framework.getService(null,D);if(a&&!a.isComponentEnabled(e)){return}o.apply(this,["Activating: "+e.provide+" | "+e.id]);if(e.module){e.instance=E+e.module}if(e.instance){var i=w(e.instance);if(i.length>0){var r=Q.defer();var s=function(){r.resolve(Array.prototype.slice.call(arguments))};var n=function(e){r.reject(e)};var l=this._bundleRequires[e.bundleId];l(i,s,n);var u=this;var d=r.promise.then(function(t){var a={};i.forEach(function(e,r){a[i[r]]=t[r]});e.instance=T(e.instance,a);return u._registerComponent(e)});return d}}if(e.factory||e.instance){return this._registerComponent(e)}else{var h=e.id||"unknown";throw new Error("component "+h+" cannot be registered - valid module, factory, or instance not provided")}};z.prototype._getMetadata=function(){return{id:this._id,config:this._config,require:this._require}};z.prototype._getHelpers=function(){return{getBundleUrl:g.bind(this),getBundleId:v.bind(this),getBundlePromise:y.bind(this),getRequireContext:b.bind(this),extendRequireConfig:h.bind(this),startsWith:p,endsWith:c,stripLeading:f,stripTrailing:m}};return{init:function(e,t){var a=new z(e,t);e.register({provide:"bundleLoader.loadBundles",instance:a._loadBundles.bind(a)});e.register({provide:"bundleLoader.getMetadata",instance:a._getMetadata.apply(a)});e.register({provide:"bundleLoader.getHelpers",instance:a._getHelpers.apply(a)});e.register({provide:"bundleLoader.uninstallInterceptor",instance:a._uninstallInterceptor.bind(a)})}}});define("sap/bi/framework/kernel/DIKernel",[],function(){function e(){this._componentsByService={};var e=this;this.register({provide:"kernel",instance:e})}e.prototype._getComponentsForService=function(e){var t=this._componentsByService[e];if(t===undefined){t=[];this._componentsByService[e]=t}return t};e.prototype.register=function(e){var t=e.provide;var a={service:t};if(e.factory){a.factory=e.factory}else if(e.instance){a.instance=e.instance}if(!a.factory&&!a.instance){throw new Error("component "+e.id+" cannot be registered - valid instance or factory not provided")}a.dependencies=(e.dependencies||[]).map(function(e){if(e[0]==="*"){return{service:e.slice(1),cardinality:"multiple"}}else{return{service:e,cardinality:"single"}}});a.exportedMetadata={id:e.id,framework:e.framework,customProperties:e.customProperties};this._getComponentsForService(t).push(a)};e.prototype._getDependency=function(e){if(e.cardinality==="single"){return this.getInstance(e.service)}else if(e.cardinality==="multiple"){return this.getAllInstances(e.service)}else{throw new Exception("Unrecognized cardinality: "+e.cardinality)}};e.prototype._getInstance=function(e){var t=e.instance;if(t===undefined){e.constructing=true;var a=e.dependencies.map(this._getDependency.bind(this));t=e.factory.apply(null,a);e.instance=t;delete e.constructing}return t};e.prototype.get=function(e){var t=this._getComponentsForService(e);var a=t.filter(function(e){return!e.constructing});if(a.length===0){return undefined}return a[a.length-1]};e.prototype.getAll=function(e){var t=this._getComponentsForService(e);return t.filter(function(e){return!e.constructing})};e.prototype.getInstance=function(e){var t=this.get(e);return t?this._getInstance(t):t};e.prototype.getAllInstances=function(e){var t=this.getAll(e);return t?t.map(this._getInstance.bind(this)):t};return e});define("sap.viz.aio",[],function(){return{}});window.sap=window.sap||{};window.sap.bi=window.sap.bi||{};window.sap.bi.framework=window.sap.bi.framework||{};window.sap.bi.framework.declareBundle=function(e){return e};define("sap.viz.aio-bundle",["sap.viz.aio"],function(){return sap.bi.framework.declareBundle({id:"sap.viz.aio",version:"buildnumreplace",components:[{id:"sap.viz.api",provide:"sap.viz.api",instance:sap.viz.api},{id:"sap.viz.extapi",provide:"sap.viz.extapi",instance:sap.viz.extapi},{id:"sap.viz.common",provide:"sap.viz.impls",instance:"sap/viz/impls/Common"},{id:"viz/area",provide:"sap.viz.impls",instance:"sap/viz/impls/AreaChart",customProperties:{name:"Area Chart",description:"Area Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/3d_bar",provide:"sap.viz.impls",instance:"sap/viz/impls/Bar3DChart",customProperties:{name:"3D Bar Chart",description:"3D Bar Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/bar",provide:"sap.viz.impls",instance:"sap/viz/impls/BarChart",customProperties:{name:"Bar Chart",description:"Bar Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/bubble",provide:"sap.viz.impls",instance:"sap/viz/impls/BubbleChart",customProperties:{name:"Bubble Chart",description:"Bubble Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/3d_column",provide:"sap.viz.impls",instance:"sap/viz/impls/Column3DChart",customProperties:{name:"3D Column Chart",description:"3D Column Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/combination",provide:"sap.viz.impls",instance:"sap/viz/impls/CombinationChart",customProperties:{name:"Combined Column Line Chart",description:"Combined Column Line Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/donut",provide:"sap.viz.impls",instance:"sap/viz/impls/DonutChart",customProperties:{name:"Donut Chart",description:"Donut Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/donut_with_depth",provide:"sap.viz.impls",instance:"sap/viz/impls/DonutWithDepthChart",customProperties:{name:"Donut with Depth Chart",description:"Donut with Depth Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/dual_bar",provide:"sap.viz.impls",instance:"sap/viz/impls/DualBarChart",customProperties:{name:"Bar Chart with 2 X-Axes",description:"Bar Chart with 2 X-Axes",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/dual_combination",provide:"sap.viz.impls",instance:"sap/viz/impls/DualCombinationChart",customProperties:{name:"Combined Column Line Chart with 2 Y-Axes",description:"Combined Column Line Chart with 2 Y-Axes",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/dual_horizontal_combination",provide:"sap.viz.impls",instance:"sap/viz/impls/DualHorizontalCombinationChart",customProperties:{name:"Combined Bar Line Chart with 2 X-Axes",description:"Combined Bar Line Chart with 2 X-Axes",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/dual_horizontal_line",provide:"sap.viz.impls",instance:"sap/viz/impls/DualHorizontalLineChart",customProperties:{name:"Horizontal Line Chart with 2 X-Axes",description:"Horizontal Line Chart with 2 X-Axes",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/dual_line",provide:"sap.viz.impls",instance:"sap/viz/impls/DualLineChart",customProperties:{name:"Line Chart with 2 Y-Axes",description:"Line Chart with 2 Y-Axes",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/100_dual_stacked_bar",provide:"sap.viz.impls",instance:"sap/viz/impls/DualPercentageStackedBarChart",customProperties:{name:"100% Stacked Bar Chart with 2 X-Axes",description:"100% Stacked Bar Chart with 2 X-Axes",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/100_dual_stacked_column",provide:"sap.viz.impls",instance:"sap/viz/impls/DualPercentageStackedVerticalBarChart",customProperties:{name:"100% Stacked Column Chart with 2 Y-Axes",description:"100% Stacked Column Chart with 2 Y-Axes",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/dual_stacked_bar",provide:"sap.viz.impls",instance:"sap/viz/impls/DualStackedBarChart",customProperties:{name:"Stacked Bar Chart with 2 X-Axes",description:"Stacked Bar Chart with 2 X-Axes",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/dual_stacked_column",provide:"sap.viz.impls",instance:"sap/viz/impls/DualStackedVerticalBarChart",customProperties:{name:"Stacked Column Chart with 2 Y-Axes",description:"Stacked Column Chart with 2 Y-Axes",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/dual_column",provide:"sap.viz.impls",instance:"sap/viz/impls/DualVerticalBarChart",customProperties:{name:"Column Chart with 2 Y-Axes",description:"Column Chart with 2 Y-Axes",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/heatmap",provide:"sap.viz.impls",instance:"sap/viz/impls/HeatMapChart",customProperties:{name:"Heat Map",description:"Heat Map",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/horizontal_area",provide:"sap.viz.impls",instance:"sap/viz/impls/HorizontalAreaChart",customProperties:{name:"Horizontal Area Chart",description:"Horizontal Area Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/horizontal_boxplot",provide:"sap.viz.impls",instance:"sap/viz/impls/HorizontalBoxplotChart",customProperties:{name:"Horizontal Box Plot",description:"Horizontal Box Plot",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/horizontal_combination",provide:"sap.viz.impls",instance:"sap/viz/impls/HorizontalCombinationChart",customProperties:{name:"Combined Bar Line Chart",description:"Combined Bar Line Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/horizontal_line",provide:"sap.viz.impls",instance:"sap/viz/impls/HorizontalLineChart",customProperties:{name:"Horizontal Line Chart",description:"Horizontal Line Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/horizontal_mekko",provide:"sap.viz.impls",instance:"sap/viz/impls/HorizontalMekkoChart",customProperties:{name:"Horizontal Mekko Chart",description:"Horizontal Mekko Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/horizontal_stacked_waterfall",provide:"sap.viz.impls",instance:"sap/viz/impls/HorizontalStackedWaterfallChart",customProperties:{name:"Horizontal Stacked Waterfall Chart",description:"Horizontal Stacked Waterfall Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/horizontal_waterfall",provide:"sap.viz.impls",instance:"sap/viz/impls/HorizontalWaterfallChart",customProperties:{name:"Horizontal Waterfall Chart",description:"Horizontal Waterfall Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/line",provide:"sap.viz.impls",instance:"sap/viz/impls/LineChart",customProperties:{name:"Line Chart",description:"Line Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/mekko",provide:"sap.viz.impls",instance:"sap/viz/impls/MekkoChart",customProperties:{name:"Mekko chart",description:"Mekko chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_area",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiAreaChart",customProperties:{name:"Multiple Area Chart",description:"Multiple Area Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_bar",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiBarChart",customProperties:{name:"Multiple Bar Chart",description:"Multiple Bar Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_bubble",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiBubbleChart",customProperties:{name:"Multiple Bubble Chart",description:"Multiple Bubble Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_donut",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiDonutChart",customProperties:{name:"Multiple Donut Chart",description:"Multiple Donut Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_donut_with_depth",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiDonutWithDepthChart",customProperties:{name:"Multiple Donut with Depth Chart",description:"Multiple Donut with Depth Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_dual_bar",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiDualBarChart",customProperties:{name:"Multiple Bar Chart with 2 X-Axes",description:"Multiple Bar Chart with 2 X-Axes",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_dual_horizontal_line",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiDualHorizontalLineChart",customProperties:{name:"Multiple Horizontal Line Chart with 2 X-Axes",description:"Multiple Horizontal Line Chart with 2 X-Axes",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_dual_line",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiDualLineChart",customProperties:{name:"Multiple Line Chart with 2 Y-Axes",description:"Multiple Line Chart with 2 Y-Axes",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_100_dual_stacked_bar",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiDualPercentageStackedBarChart",customProperties:{name:"Multiple 100% Stacked Bar Chart with 2 X-Axes",description:"Multiple 100% Stacked Bar Chart with 2 X-Axes",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_100_dual_stacked_column",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiDualPercentageStackedVerticalBarChart",customProperties:{name:"Multiple 100% Stacked Column Chart with 2 Y-Axes",description:"Multiple 100% Stacked Column Chart with 2 Y-Axes",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_dual_stacked_bar",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiDualStackedBarChart",customProperties:{name:"Multiple Stacked Bar Chart with 2 X-Axes",description:"Multiple Stacked Bar Chart with 2 X-Axes",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_dual_stacked_column",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiDualStackedVerticalBarChart",customProperties:{name:"Multiple Stacked Column Chart with 2 Y-Axes",description:"Multiple Stacked Column Chart with 2 Y-Axes",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_dual_column",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiDualVerticalBarChart",customProperties:{name:"Multiple Column Chart with 2 Y-Axes",description:"Multiple Column Chart with 2 Y-Axes",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_horizontal_area",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiHorizontalAreaChart",customProperties:{name:"Multiple Horizontal Area Chart",description:"Multiple Horizontal Area Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_horizontal_line",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiHorizontalLineChart",customProperties:{name:"Multiple Horizontal Line Chart",description:"Multiple Horizontal Line Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_line",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiLineChart",customProperties:{name:"Multiple Line Chart",description:"Multiple Line Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_100_area",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiPercentageAreaChart",customProperties:{name:"Multiple 100% Area Chart",description:"Multiple 100% Area Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_100_horizontal_area",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiPercentageHorizontalAreaChart",customProperties:{name:"Multiple 100% Horizontal Area Chart",description:"Multiple 100% Horizontal Area Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_100_stacked_bar",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiPercentageStackedBarChart",customProperties:{name:"Multiple 100% Stacked Bar Chart",description:"Multiple 100% Stacked Bar Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_100_stacked_column",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiPercentageStackedVerticalBarChart",customProperties:{name:"Multiple 100% Stacked Column Chart",description:"Multiple 100% Stacked Column Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_pie",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiPieChart",customProperties:{name:"Multiple Pie Chart",description:"Multiple Pie Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_pie_with_depth",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiPieWithDepthChart",customProperties:{name:"Multiple Pie with Depth Chart",description:"Multiple Pie with Depth Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_radar",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiRadarChart",customProperties:{name:"Multiple Radar Chart",description:"Multiple Radar Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_scatter",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiScatterChart",customProperties:{name:"Multiple Scatter Plot",description:"Multiple Scatter Plot",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_stacked_bar",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiStackedBarChart",customProperties:{name:"Multiple Stacked Bar Chart",description:"Multiple Stacked Bar Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_stacked_column",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiStackedVerticalBarChart",customProperties:{name:"Multiple Stacked Column Chart",description:"Multiple Stacked Column Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/multi_column",provide:"sap.viz.impls",instance:"sap/viz/impls/MultiVerticalBarChart",customProperties:{name:"Multiple Column Chart",description:"Multiple Column Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/network",provide:"sap.viz.impls",instance:"sap/viz/impls/NetworkChart",customProperties:{name:"Network Chart",description:"Network Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/100_area",provide:"sap.viz.impls",instance:"sap/viz/impls/PercentageAreaChart",customProperties:{name:"100% Area Chart",description:"100% Area Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/100_horizontal_area",provide:"sap.viz.impls",instance:"sap/viz/impls/PercentageHorizontalAreaChart",customProperties:{name:"100% Horizontal Area Chart",description:"100% Horizontal Area Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/100_horizontal_mekko",provide:"sap.viz.impls",instance:"sap/viz/impls/PercentageHorizontalMekkoChart",customProperties:{name:"100% Horizontal Mekko Chart",description:"100% Horizontal Mekko Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/100_mekko",provide:"sap.viz.impls",instance:"sap/viz/impls/PercentageMekkoChart",customProperties:{name:"100% Mekko Chart",description:"100% Mekko Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/100_stacked_bar",provide:"sap.viz.impls",instance:"sap/viz/impls/PercentageStackedBarChart",customProperties:{name:"100% Stacked Bar Chart",description:"100% Stacked Bar Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/100_stacked_column",provide:"sap.viz.impls",instance:"sap/viz/impls/PercentageStackedVerticalBarChart",customProperties:{name:"100% Stacked Column Chart",description:"100% Stacked Column Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/pie",provide:"sap.viz.impls",instance:"sap/viz/impls/PieChart",customProperties:{name:"Pie Chart",description:"Pie Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/pie_with_depth",provide:"sap.viz.impls",instance:"sap/viz/impls/PieWithDepthChart",customProperties:{name:"Pie with Depth Chart",description:"Pie with Depth Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/radar",provide:"sap.viz.impls",instance:"sap/viz/impls/RadarChart",customProperties:{name:"Radar Chart",description:"Radar Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/scatter",provide:"sap.viz.impls",instance:"sap/viz/impls/ScatterChart",customProperties:{name:"Scatter Plot",description:"Scatter Plot",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/scatter_matrix",provide:"sap.viz.impls",instance:"sap/viz/impls/ScatterMatrixChart",customProperties:{name:"Scatter Matrix Chart",description:"Scatter Matrix Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"riv/simple",provide:"sap.viz.impls",instance:"sap/viz/impls/SimpleChart",customProperties:{name:"Simple Chart",description:"Simple Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/stacked_bar",provide:"sap.viz.impls",instance:"sap/viz/impls/StackedBarChart",customProperties:{name:"Stacked Bar Chart",description:"Stacked Bar Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/stacked_column",provide:"sap.viz.impls",instance:"sap/viz/impls/StackedVerticalBarChart",customProperties:{name:"Stacked Column Chart",description:"Stacked Column Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/stacked_waterfall",provide:"sap.viz.impls",instance:"sap/viz/impls/StackedWaterfallChart",customProperties:{name:"Stacked Waterfall Chart",description:"Stacked Waterfall Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/tagcloud",provide:"sap.viz.impls",instance:"sap/viz/impls/TagCloudChart",customProperties:{name:"Tag Cloud",description:"Tag Cloud",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/tree",provide:"sap.viz.impls",instance:"sap/viz/impls/TreeChart",customProperties:{name:"Tree",description:"Tree",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/treemap",provide:"sap.viz.impls",instance:"sap/viz/impls/TreeMapChart",customProperties:{name:"Tree Map",description:"Tree Map",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/column",provide:"sap.viz.impls",instance:"sap/viz/impls/VerticalBarChart",customProperties:{name:"Column Chart",description:"Column Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/boxplot",provide:"sap.viz.impls",instance:"sap/viz/impls/VerticalBoxplotChart",customProperties:{name:"Box Plot",description:"Box Plot",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/waterfall",provide:"sap.viz.impls",instance:"sap/viz/impls/WaterfallChart",customProperties:{name:"Waterfall Chart",description:"Waterfall Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/bullet",provide:"sap.viz.impls",instance:"sap/viz/impls/BulletChart",customProperties:{name:"Bullet Chart",description:"Bullet Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/time_value_bubble",provide:"sap.viz.impls",instance:"sap/viz/impls/TimeValueBubbleChart",customProperties:{name:"Time Value Bubble Chart",description:"Time Value Bubble Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}},{id:"viz/number",provide:"sap.viz.impls",instance:"sap/viz/impls/NumberChart",customProperties:{name:"Number Chart",description:"Number Chart",resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]}}]})});define("sap.viz.aio-bundleloader",["sap/bi/framework/BundleLoader/BundleLoader","sap/bi/framework/kernel/DIKernel","sap/bi/framework/BundleLoader/CssPlugin","sap.viz.aio-bundle","require"],function(e,t,a,i){if(sap===undefined||sap.bi===undefined||sap.bi.framework===undefined||sap.bi.framework.getService===undefined){if(!window._cvom_kernel){window._cvom_kernel=new t}e.init(window._cvom_kernel,{})}i.components.forEach(function(e){if(!e.instance){e.instance={}}});(i.components||[]).forEach(window._cvom_kernel.register.bind(window._cvom_kernel));window.sap=window.sap||{};window.sap.viz=window.sap.viz||{};window.sap.viz.extapi=window.sap.viz.extapi||{};window.sap.viz.extapi.core=window.sap.viz.extapi.core||{};window.sap.viz.extapi.core.registerBundle=function(e){(e.components||[]).forEach(function(t){if(!t.framework){t.framework={bundleId:e.id,bundleVersion:e.version}}});(e.components||[]).forEach(window._cvom_kernel.register.bind(window._cvom_kernel));return e};var r=sap.viz.moduleloader?sap.viz.moduleloader.originalDefine||define:define;r("css",new a);return null});(function(){var e=define&&define.__autoLoad;if(e&&e.length){define.__autoLoad=[];require(e)}})();(function(){var e=sap&&sap.viz&&sap.viz.manifests&&sap.viz.manifests.util&&sap.viz.manifests.util.ManifestRegister;function t(t){if(!t){return t}var a={},i;for(i in t){if(t.hasOwnProperty(i)&&typeof t[i]==="function"){if(i==="get"||i==="each"){a[i]=function(a){return function(){if(e){e.registerAll()}return t[a].apply(this,arguments)}}(i)}else{a[i]=function(e){return function(){return t[e].apply(this,arguments)}}(i)}}}return a}if(sap&&sap.viz&&sap.viz.manifest){var a={};a.feeds=t(sap.viz.manifest.feeds);a.module=t(sap.viz.manifest.module);a.viz=t(sap.viz.manifest.viz);sap.viz.manifest=a}})();(function(e){e.define=sap.viz.moduleloader.originalDefine;e.require=sap.viz.moduleloader.originalRequire;e.requirejs=sap.viz.moduleloader.originalRequirejs})(this);(function(e){var t=e.sap;var a=t&&t.viz;if(a){e.__sap_v2={};for(var i in a){if(i==="api"||i==="extapi"){if(jQuery&&jQuery.extend){e.__sap_v2[i]=jQuery.extend(true,{},a[i])}else{e.__sap_v2[i]=a[i]}}else{e.__sap_v2[i]=a[i]}}if(e.__sap_metadata){t.viz.api.metadata=e.__sap_metadata}}})(this);(function(e){var t=sap.viz;var a=e.__sap_v2;var i=e.__sap_v3;function r(e,t){var a;var i;var r=1;var s={v2:2,v3:3};return function(o,n){return function(){r*=s[o];i=n?arguments:i;a=n?a:arguments;if(r%(s.v2*s.v3)===0){var l=i&&t?t:e;if(l){l.apply(this,l===t?i:a)}r=1}}}}if(a&&i){t.api=jQuery.extend(true,{},a.api,i.api);t.extapi=jQuery.extend(true,{},a.extapi,i.extapi);t.v2=a;t.v3=i;t.extapi.Flow=i.extapi.Flow;t.api.data.CrosstableDataset=a.api.data.CrosstableDataset;t.api.data.FlatTableDataset=a.api.data.FlatTableDataset;if(i.extapi.env.Resource&&i.extapi.env.Resource.path){var s=i.extapi.env.Resource.path();for(var o in s){a.extapi.env.Resource.path(o,s[o])}}var n={};var l={};var u={};if(i.api.env.Format&&i.api.env.Format.numericFormatter){var d=i.api.env.Format.numericFormatter();a.api.env.Format.numericFormatter(d)}if(i.api.env.Format&&i.api.env.Format.useDefaultFormatter){var h=i.api.env.Format.useDefaultFormatter();a.api.env.Format.useDefaultFormatter(h)}t.api.core.createViz=function(e){var a=sap.viz.api.metadata.Viz.get(e.type)?"v3":"v2";return t[a].api.core.createViz(e)};t.api.core.loadViz=function(e,a){var i=JSON.parse(JSON.stringify(e));var r=sap.viz.api.metadata.Viz.get(param.type)?"v3":"v2";return t[r].api.core.loadViz(e,a)};t.api.env.Language.set=function(e,a,i){var s=r(a,i);t.v2.api.env.Language.set(e,s("v2"),s("v2",true));t.v3.api.env.Language.set(e,s("v3"),s("v3",true))};t.api.env.Locale.set=function(e,a,i){var s=r(a);t.v2.api.env.Locale.set(e,s("v2"));t.v3.api.env.Locale.set(e,s("v3"),i)};t.api.env.Format.numericFormatter=function(e){t.v2.api.env.Format.numericFormatter(e);t.v3.api.env.Format.numericFormatter(e)};t.api.env.Format.useDefaultFormatter=function(e){t.v2.api.env.Format.useDefaultFormatter(e);t.v3.api.env.Format.useDefaultFormatter(e)};t.api.env.Resource.path=function(e,a){t.v2.api.env.Resource.path.apply(t.v2.api.env.Resource,arguments);return t.v3.api.env.Resource.path.apply(t.v3.api.env.Resource,arguments)};t.api.env.Template.set=function(e,a,i){var s=r(a,i);t.v2.api.env.Template.set(e,s("v2"),s("v2",true));t.v3.api.env.Template.set(e,s("v3"),s("v3",true))};t.api.env.Template.load=function(e,a,i){var r=2;function s(){if(--r===0&&a){a.apply(this,arguments)}}t.v2.api.env.Template.load(e,s);t.v3.api.env.Template.load(e,s,i)};t.extapi.env.Template.isRegistered=function(e){return t.v3.extapi.env.Template.isRegistered(e)};t.extapi.env.Language.register=function(e){t.v2.extapi.env.Language.register(e);t.v3.extapi.env.Language.register(e)};t.extapi.env.Language.get=function(){t.v2.extapi.env.Language.get();return t.v3.extapi.env.Language.get()};t.extapi.env.Language.addListener=function(e){var a=r(e);var i=a("v2");var s=a("v3");u[e]={v2:i,v3:s};t.v2.extapi.env.Language.addListener(i);return t.v3.extapi.env.Language.addListener(s)};t.extapi.env.Language.removeListener=function(e){if(u[e]){t.v2.extapi.env.Language.removeListener(u[e].v2);return t.v3.extapi.env.Language.removeListener(u[e].v3)}};t.extapi.env.Language.getErrorMessage=function(e){t.v2.extapi.env.Language.getErrorMessage(e);return t.v3.extapi.env.Language.getErrorMessage(e)};t.extapi.env.Language.getResourceString=function(e){t.v2.extapi.env.Language.getResourceString(e);return t.v3.extapi.env.Language.getResourceString(e)};t.extapi.env.Locale.get=function(){t.v2.extapi.env.Locale.get();return t.v3.extapi.env.Locale.get()};t.extapi.env.Locale.addListener=function(e){var a=r(e);var i=a("v2");var s=a("v3");n[e]={v2:i,v3:s};t.v2.extapi.env.Locale.addListener(i);return t.v3.extapi.env.Locale.addListener(s)};t.extapi.env.Locale.removeListener=function(e){if(n[e]){t.v2.extapi.env.Locale.removeListener(n[e].v2);return t.v3.extapi.env.Locale.removeListener(n[e].v3)}};t.extapi.env.Template.get=function(){t.v2.extapi.env.Template.get();return t.v3.extapi.env.Template.get()};t.extapi.env.Template.current=function(){t.v2.extapi.env.Template.current();return t.v3.extapi.env.Template.current()};t.extapi.env.Template.getPackage=function(e){t.v2.extapi.env.Template.getPackage(e);return t.v3.extapi.env.Template.getPackage(e)};t.extapi.env.Template.addListener=function(e){var a=r(e);var i=a("v2");var s=a("v3");l[e]=l[e]||[];l[e].push({v2:i,v3:s,v:e});t.v2.extapi.env.Template.addListener(i);return t.v3.extapi.env.Template.addListener(s)};t.extapi.env.Template.register=function(e){t.v2.extapi.env.Template.register(e);t.v3.extapi.env.Template.register(e)};t.api.env.Template.addListener=function(e){var a=r(e);var i=a("v2");var s=a("v3");l[e]=l[e]||[];l[e].push({v2:i,v3:s,v:e});t.v2.api.env.Template.addListener(i);return t.v3.api.env.Template.addListener(s)};t.api.env.Template.removeListener=function(e){var a,i=l[e];if(i){for(var r=0;r<i.length;r++){if(i[r].v===e){t.v2.api.env.Template.removeListener(i[r].v2);a=t.v3.api.env.Template.removeListener(i[r].v3);i.splice(r,1);break}}}return a};t.extapi.env.Template.removeListener=function(e){var a,i=l[e];if(i){for(var r=0;r<i.length;r++){if(i[r].v===e){t.v2.extapi.env.Template.removeListener(i[r].v2);a=t.v3.extapi.env.Template.removeListener(i[r].v3);i.splice(r,1);break}}}return a};t.extapi.core.registerBundle=function(e){t.v2.extapi.core.registerBundle(e);return t.v3.extapi.core.registerBundle(e)}}})(this);Object.defineProperty(sap.viz.api,"VERSION",{value:"7.34.1-SNAPSHOT",writable:false});Object.defineProperty(sap.viz.extapi,"VERSION",{value:"7.34.1-SNAPSHOT",writable:false});sap.viz.extapi.env.Language.register({id:"language",value:{IDS_ERROR_NEED_SPECIFY_OPTIONS_TO_INITIALIZE:"You must specify the chart or component options to initialize.",IDS_ERROR_EXIST_CATEGORY_NAME:"A category named {0} already exists.",IDS_ERROR_CATEGORY_NAME_NOT_EMPTY:"The category name must be a non-empty string.",IDS_ERROR_SDK_VERSION_DOES_NOT_MATCH:"[{0}] requires sap.viz.api's version is equal to or greater than {1}; While the current version of sap.viz.api is {2}.",IDS_ERROR_AXIS_ALREADY_EXIST:"Axis {0} already exists.",IDS_ERROR_NODE_NOT_IN_SAME_ROOT:"Node is not in the same root.",IDS_ERROR_INVALID_PATH_DEFINITION:"Invalid path definition: {0}.",IDS_ERROR_UNKNOWN_ERROR:"Unknown error.",IDS_ERROR_DATE_HAVE_INVALID_FORMAT:"Some dates do not have the correct format",IDS_ERROR_NOT_INITIALIZE_WITHOUT_UICONTROLLER:"Cannot initialize without a root UIController <DIV>.",IDS_FEED:"feed",IDS_ERROR_FLATTABLE_MANNUAL_FEED_WRONG_BINDING:"Field IDs in manual feeding are missing or are not in array format.",IDS_ERROR_CUSTOMIZATION_ID:"Customization {0} does not exist for chart type {1}.",IDS_ERROR_NOT_ACCEPT_2_OR_MORE_AXES:"Could not accept more than 2 axes",IDS_ERROR_WRONG_MEASURE_AXIS_INDEX:"The measure axis index in the feed definition {0} is incorrect.",IDS_ERROR_NOT_ADD_SELF_AS_CHILD:"An ID cannot add itself as a child.",IDS_ERROR_AXIS_INDEX_SHOULD_BE_1_OR_2:"Axis index should be 1 or 2",IDS_ERROR_NO_AXIS:"Could not find axis {0} in the dataset {1} feed.",IDS_ERROR_CHART_TYPE_FOR_CUSTOMIZATION:"Chart type {0} does not support customization API. ",IDS_ERROR_FLATTABLE_FEED_DEF_FIELD_INDEX_MISSING:"The field index in feed definition {0} is missing.",IDS_ERROR_NOT_FIND_JQUERY:"Cannot find 'jQuery' library",IDS_ERROR_NEED_SPECIFY_HOLDER_FOR_VISUALIZATION:"The target <DIV> is not specified for rendering the visualization.",IDS_ERROR_NOT_FIND_MEASURE_GROUP:"Could not find measure values group {0} in the dataset {1} feed.",IDS_ERROR_DIMENSIONS_OR_MEASURES_DUPLICATED_BINDING:"The dimensions/measures binding is duplicated.",IDS_ERROR_UNKNOWN_STATE:"Unknown state",IDS_ERROR_FEED_NOT_ACCEPT_DATA:"Feed {0} could not accept more data containers.",IDS_ERROR_NOT_ADD_ANCESTOR_AS_CHILD:"Cannot add ancestor as a child",IDS_ALREADY_EXISTS:"{0} already exists",IDS_ERROR_NODE_DIV_IN_SVG:"Cannot add <div> tag under <svg> tag.",IDS_ERROR_CATEGORY_FACTORY_MUST_BE_FUNCTION:"The category factory must be a function.",IDS_ERROR_WRONG_AXIS_INDEX:"The analysis axis index in the feed definition {0} is incorrect.",IDS_ERROR_NOT_FIND_FEED_DEFINITION:"Could not find the feed definition of {0}.",IDS_ERROR_DATA_NOT_MATCHING_TIME_LEVEL:"Invalid data. Multiple data in the same minimum time interval.",IDS_ERROR_NEED_PROVIDE_CONTAINER_FOR_FRAME:"You must provide a container <DIV> for the visualization.",IDS_ERROR_LOADING_TEMPLATE_FAIL:"Loading template {0} failed.",IDS_ERROR_NOT_DETERMINE_AXIS_INDEX:"Could not determine measure value axis index",IDS_ERROR_NOT_DETERMINE_DEMENSION:"Cannot determine the dimension after transform is applied",IDS_WRONG_MISSINGEXTENSIONMETADATA:"Extension metadata is incomplete.",IDS_ERROR_WRONG_VALUES_COUNT_IN_AA2:"The values count {0} in the second analysis axis (aa2) should be {1}.",IDS_ERROR_CAN_NOT_FIND_CATEGORY:"Cannot find {0} in category {1}.",IDS_ERROR_WRONG_VALUES_COUNT_IN_AA1:"The values count {0} in the first analysis axis (aa1) should be {1}.",IDS_ERROR_NOT_CREATE_CHAIN_FOR_NON_FUNCTION_OBJECT:"Could not create a call chain for a non-function object.",IDS_ERROR_ALREADY_EXIST_IN_CATEGORY:"There is already an item named {0} in category {1}.",IDS_ERROR_NOT_ACCEPT:"Could not accept {0}",IDS_ERROR_INVALID_BINDING:"Invalid data binding",IDS_ERROR_NODE_IS_NOT_CHILD_OF_THIS_NODE:"Node is not a child of this node",IDS_ERROR_NOT_CHILD_NODE_INSERT:"The node to be inserted is not a child of this node.",IDS_ERROR_DIMENSION_NOT_ZERO:"Length of dimension cannot be zero.",IDS_ERROR_INVALID_CONTEXT_NAME:"{0} is not a valid data ID.  ",IDS_WARN_PARAMETER_NOT_CORRECT:"Input parameter is not correct.",IDS_ERROR_INVALID_FEEDING_NUMBER:"Invalid feeding: the correct number  is {0} feed.",IDS_ERROR_SELECTOR_NOT_NULL:"Selector string cannot be null.",IDS_ERROR_DIMENSION_NOT_FOUND:"dimension index {0} not found",IDS_WRONG_EXTENSIONVERSION:"Extension is not supported by current SDK version.",IDS_ERROR_DIMENSION_WRONG_COUNT:"{0} is an incorrect dimension count.",IDS_ERROR_DIMENSIONS_INCOMPLETE_BINDING:"Incomplete dimensions binding.",IDS_ERROR_FLATTABLE_INVALID_DATA_PARAM:"Invalid parameter, parameter must have metadata and data.",IDS_ERROR_WRONG_FEED_TYPE:"The feed type of {0} is incorrect.",IDS_ERROR_NO_FEED_ID:"Invalid feeding: no feed ID",IDS_ERROR_INVALIDE_DATA_DESCRIPTION:"The dataset does not match the selected time levels.",IDS_ERROR_WRONG_FEED_TYPE_IN_DEFINTION:"The feed type in the feed definition {0} is incorrect.",IDS_ERROR_NOT_REGISTER_WITHOUT_VALID_ID:"Cannot register without a valid ID.",IDS_ERROR_INVALID_FEEDING:"Invalid feeding: the feed {0} has exceeded the maximum stacked dimension number.",IDS_ERROR_DIMENSION_WRONG_LABELS_COUNT:"{0} is an incorrect dimension labels count.",IDS_ERROR_NOT_REGISTER_UNDEFINED_OBJECT:"Cannot register a undefined object.",IDS_ERROR_WRONG_TYPE:"Data type is incorrect.",IDS_ERROR_NOT_MEET_NUMBER_OF_FEED:"{0} : does not meet the minimum or maximum number of feeds definition.",IDS_ERROR_NOT_SUPPORTED:"Not supported",IDS_WARN_LOCALE_NOT_CORRECT:"Input locale is not correct.",IDS_ERROR_BUNDLE_VERSION_DOES_NOT_MATCH:"Failed to initialize [{0}], which requires a version equal to or greater than {1}. The current version is {2}.",IDS_ERROR_ISNODATA:"No data",IDS_ERROR_INVALIDE_DATA:"Invalid data",IDS_ERROR_PARSE_ERROR_EXPECT_TO:"An error occurred when parsing {0}; it should be: {1}."}});sap.viz.extapi.env.Language.register({id:"language",value:{IDS_MULTIDUALLINECHART:"Multiple Line Chart with 2 Y-Axes",IDS_BASESINGLECHART:"Base Single Chart",IDS_TRELLISCOMBINATIONEXCHART:"Trellis Combination Chart",IDS_HORIZONTALAREACHART:"Horizontal Area Chart",IDS_BULLETFORECASTVALUES:"Forecast Values",IDS_TRELLISPERCENTAGEHORIZONTALAREACHART:"Trellis 100% Horizontal Area Chart",IDS_ANIMATION:"animation",IDS_COLORING_TYPE_POSITIVE:"Good",IDS_INVALID_DATE:"Invalid date",IDS_ITEM_SELECTED:"item selected",IDS_GRIDVISIBLE:"gridVisible",IDS_MULTIHORIZONTALAREACHART:"Multiple Horizontal Area Chart",IDS_ENABLEROUNDCORNER:"enableRoundCorner",IDS_TREECHART:"Tree",IDS_TRELLISHORIZONTALLINECHART:"Trellis Horizontal Line Chart",IDS_MULTISTACKEDBARCHART:"Multiple Stacked Bar Chart",IDS_RADARAXESVALUE:"Radar Axes Values",IDS_MULTIPIEWITHDEPTHCHART:"Multiple Pie with Depth Chart",IDS_PIESECTORCOLORNAME:"Sector Color",IDS_TRELLISBARCHART:"Trellis Bar Chart",IDS_TRELLISDUALPERCENTAGESTACKEDBARCHART:"Trellis 100% Stacked Bar Chart with 2 X-Axes",IDS_TIMEVALUEBUBBLECHART:"Time Bubble Chart",IDS_FORMAT:"Format",IDS_SECONDARYAXISLABELNAME:"Secondary Category Axis",IDS_LABEL:"Label",IDS_TRELLISPERCENTAGESTACKEDBARCHART:"Trellis 100% Stacked Bar Chart",IDS_DATA_FRAME:"Data Frame",IDS_SECONDARYVALUES:"Secondary Values",IDS_SEMANTIC_DEFAULT_TITLE:"Semantic Rules",IDS_TIMEBUBBLECHART:"Time Bubble Chart",IDS_COLORING_TYPE_NEUTRAL:"Neutral",IDS_MULTIPIECHART:"Multiple Pie Chart",IDS_NETLINK:"Network Link",IDS_VARIANTBARCHART:"Variant Bar Chart (POC)",IDS_MULTISTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart",IDS_TRELLISAREACHART:"Trellis Area Chart",IDS_MULTIVERTICALBARCHART:"Multiple Column Chart",IDS_INCREASING:"Increasing",IDS_MULTIPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart",IDS_STACKEDVERTICALBARCHART:"Stacked Column Chart",IDS_VALUE_AXIS:"Value Axis",IDS_ABOVE_IS_GOOD:"Above is Good",IDS_TIMESERIESCOLUMNCHART:"Column Chart for Date/Time Series",IDS_MULTIDUALSTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart with 2 Y-Axes",IDS_TRELLISHORIZONTALCOMBINATIONCHART:"Trellis Combined Bar Line Chart",IDS_SCATTERMATRIXCHART:"Scatter Matrix Chart",IDS_ENDCOLUMN:"endColumn",IDS_DUALSTACKEDVERTICALBARCHART:"Stacked Column Chart with 2 Y-Axes",IDS_DEFAULTMND:"All Measures",IDS_VALUE_SELECTED:"value selected",IDS_MARKERS:"Markers",IDS_TAGFAMILY:"Tags Family",IDS_POSITIVE_INFINITY:"+Infinity",IDS_PRIMARYVALUES:"Primary Values",IDS_DONUTWITHDEPTHCHART:"Doughnut with Depth Chart",IDS_LEGEND_TITLE:"Title of Legend",IDS_TREENODE:"Tree Node",IDS_VERTICALBULLETCHART:"Vertical Bullet Chart",IDS_FISCALPERIOD:"Fiscal Period",IDS_CATEGORY_AXIS2:"Category Axis 2",IDS_MULTIDUALHORIZONTALLINECHART:"Multiple Horizontal Line Chart with 2 X-Axes",IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart with 2 Y-Axes",IDS_TRELLISBULLETCHART:"Trellis Bullet Chart",IDS_MULTIDONUTWITHDEPTHCHART:"Multiple Doughnut with Depth Chart",IDS_AUTOBINNINGOTHERS:"Others",IDS_PIESECTORSIZE:"Sector Size",IDS_COMBINATIONCHART:"Combined Column Line Chart",IDS_COLORING_TYPE_OTHER:"Other",IDS_COLUMNCONFIG:"columnConfig",IDS_MULTIDUALBARCHART:"Multiple Bar Chart with 2 X-Axes",IDS_TAGNAME:"Tags Name",IDS_TYPE:"Type",IDS_STARTCOLOR:"startcolor",IDS_PERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart",IDS_STARTCOLUMN:"startColumn",IDS_DUALHORIZONTALLINECHART:"Horizontal Line Chart with 2 X-Axes",IDS_NUMBERCHART_VALUE:"Value",IDS_SHAPE:"Shape",IDS_TRELLISSTACKEDCOLUMNCHART:"Trellis Stacked Column Chart",IDS_VERTICALBOXPLOTCHART:"Box Plot",IDS_BASEHORIZONTALCHART:"Base horizontal XY Chart",IDS_SCATTERCHART:"Scatter Plot",IDS_TOOLTIPVISIBLE:"tooltipVisible",IDS_PERCENTAGEAREACHART:"100% Area Chart",IDS_WATERFALLTYPE:"Waterfall Type",IDS_SEMANTICCOLOROTHERS:"Others",IDS_HORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart",IDS_REGIONCOLOR:"Region Color",IDS_BORDER:"Border",IDS_ITEMS_SELECTED:"items selected",IDS_TRENDLINE_LINEAR:"Linear Regression",IDS_MULTIPERCENTAGEAREACHART:"Multiple 100% Area Chart",IDS_REFERENCEVALUES:"Reference Values",IDS_WATERFALLCHART:"Waterfall Chart",IDS_TRELLISHORIZONTALAREACHART:"Trellis Horizontal Area Chart",IDS_HORIZONTALSTACKEDWATERFALL:"Horizontal Stacked Waterfall Chart",IDS_STACKEDWATERFALLCHART:"Stacked Waterfall Chart",IDS_DUALTIMESERIESCOMBINATIONCHART:"Combined Column Line Chart for Date/Time Series with 2 Y-Axes",IDS_VISIBLE:"visible",IDS_GRIDLINE:"Gridline",IDS_BULLETADDITIONALVALUES:"Additional Values",IDS_SECONDARYVALUESCOLORPALETTE:"secondaryValuesColorPalette",IDS_SIZE:"size",IDS_MULTIBARCHART:"Multiple Bar Chart",IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart with 2 Y-Axes",IDS_TRELLISSCATTERCHART:"Trellis Scatter Chart",IDS_TARGET:"Target",ID_FORECAST_VALUES:"Forecast Values",IDS_TAGCLOUDCHART:"Tag Cloud",IDS_TIMESERIESBUBBLECHART:"Bubble Chart for Date/Time Series",IDS_LOWCOLUMN:"lowColumn",IDS_TARGETVALUES:"Target Values",IDS_MULTIBUBBLECHART:"Multiple Bubble Chart",IDS_FILLVISIBLE:"fillVisible",IDS_TRELLISDUALPERCENTAGESTACKEDCOLUMNCHART:"Trellis 100% Stacked Column Chart with 2 Y-Axes",IDS_END_OF_PERIOD:"End of Period",IDS_STACKEDBARCHART:"Stacked Bar Chart",IDS_PIECHART:"Pie Chart",IDS_VERTICALBARCHART:"Column Chart",IDS_TIME_FROM:"From",IDS_SPARKLINECHART:"Spark Line Chart (POC)",IDS_TRELLISPERCENTAGESTACKEDCOLUMNCHART:"Trellis 100% Stacked Column Chart",IDS_ISNOVALUE:"No value",IDS_BUBBLEWIDTH:"Bubble Width",IDS_BUBBLESIZE:"Bubble Size",IDS_TIMESERIESSCATTERCHART:"Scatter Plot for Date/Time Series",IDS_HORIZONTALWATERFALLCHART:"Horizontal Waterfall Chart",IDS_TIMESERIESSTACKEDCOMBINATIONCHART:"Combined Stacked Line Chart for Date/Time Series",IDS_VALUEFORMAT:"valueFormat",IDS_PIEWITHDEPTHCHART:"Pie with Depth Chart",IDS_BASEBUBBLECHART:"Base Scatter Chart",IDS_REFINEVISIBLE:"reflineVisible",IDS_TRELLISSTACKEDBARCHART:"Trellis Stacked Bar Chart",IDS_DUALLINECHART:"Line Chart with 2 Y-Axes",IDS_BULLETACTUALVALUES:"Actual Values",IDS_HEATMAPCHART:"Heat Map",IDS_BELOW_IS_BAD:"Below is Bad",IDS_WIDTH:"Width",IDS_MEKKOCHART:"Marimekko chart",IDS_HOVERLINEVISIBLE:"hoverlineVisible",IDS_COMBINATIONEXCHART:"Combination Chart",IDS_HORIZONTALMEKKOCHART:"Horizontal Marimekko Chart",IDS_BUBBLECHART:"Bubble Chart",IDS_BASEMULTIPLEXYCHART:"Base Multiple XY Chart",IDS_TRELLISRADARCHART:"Trellis Radar Chart",IDS_TRELLISVERTICALBULLETCHART:"Trellis Vertical Bullet Chart",IDS_HEADERVISIBLE:"headerVisible",IDS_FISCALYEAR:"Fiscal Year",IDS_LINECHART:"Line Chart",IDS_BUBBLEHEIGHT:"Bubble Height",IDS_NUMBERCHART:"Numeric Point",IDS_PERCENTAGEHORIZONTALMEKKOCHART:"100% Horizontal Marimekko Chart",IDS_PERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart",IDS_MARKER:"Marker",IDS_BASEVERTICALCHART:"Base Vertical XY Chart",IDS_SEMANTICTOTAL:"Total",IDS_DIUALLINECHART:"Line Chart with 2 Y-Axes",IDS_TRELLIS_COLUMN:"Trellis Column",IDS_BASEMULTIPLECHART:"Base Multiple Chart",IDS_PERCENTAGEMEKKOCHART:"100% Marimekko Chart",IDS_MULTIDUALVERTICALBARCHART:"Multiple Column Chart with 2 Y-Axes",IDS_DUALCOMBINATIONCHART:"Combined Column Line Chart with 2 Y-Axes",IDS_RADARCHART:"Radar Chart",IDS_TRELLISCOMBINATIONCHART:"Trellis Combined Column Line Chart",IDS_DUALSTACKEDBARCHART:"Stacked Bar Chart with 2 X-Axes",IDS_TRELLISPERCENTAGEAREACHART:"Trellis 100% Area Chart",IDS_SELECTABILITY:"Selectability",IDS_AXISVISIBLE:"axisVisible",IDS_TRELLISDUALSTACKEDCOLUMNCHART:"Trellis Stacked Column Chart with 2 Y-Axes",IDS_DEFAULTCHARTTITLE:"Title of Chart",IDS_ERROR_INVALIDE_DATA_MULTIPLEUNITS:"Some measures have different units.",IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart",IDS_AXISLABELS:"Axis Labels",IDS_MULTIDUALSTACKEDBARCHART:"Multiple Stacked Bar Chart with 2 X-Axes",IDS_MULTIRADARCHART:"Multiple Radar Chart",IDS_COLORING_TYPE_CRITICAL:"Warning",IDS_TRELLIS_ROW:"Trellis Row",IDS_TIMESERIESBULLETCHART:"Bullet Chart for Date/Time Series",IDS_MULTILINECHART:"Multiple Line Chart",IDS_BARCHART:"Bar Chart",IDS_3D_BAR:"3D Bar Chart",IDS_TRELLISCOLUMNCHART:"Trellis Column Chart",IDS_DATAUPDATING:"dataUpdating",IDS_3D_COLUMN:"3D Column Chart",IDS_TRELLISPIECHART:"Trellis Pie Chart",IDS_NETWORKCHART:"Network Chart",IDS_HORIZONTALLINECHART:"Horizontal Line Chart",IDS_DUALVERTICALBARCHART:"Column Chart with 2 Y-Axes",IDS_DECREASING:"Decreasing",IDS_RECTANGLEWEIGHT:"Rectangle Weight",IDS_PIEDEPTHSIZE:"Depth Size",IDS_MULTIHORIZONTALLINECHART:"Multiple Horizontal Line Chart",IDS_DUALHORIZONTALSTACKEDCOMBINATIONCHART:"Horizontal Combined Stacked Line Chart with 2 X-Axes",IDS_COLOR:"color",IDS_TEXT:"Text",IDS_DUALBARCHART:"Bar Chart with 2 X-Axes",IDS_DATALOADING:"dataLoading",IDS_TRELLISLINECHART:"Trellis Line Chart",IDS_LINECONFIG:"lineConfig",IDS_BASECHART:"Base Chart",IDS_TRELLISDUALCOLUMNCHART:"Trellis Column Chart with 2 Y-Axes",IDS_HORIZONTALBOXPLOTCHART:"Horizontal Box Plot",IDS_VALUES_SELECTED:"values selected",IDS_PRIMARYVALUECOLORPALETTE:"primaryValuesColorPalette",IDS_DUALHORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart with 2 X-Axes",IDS_TRELLISDONUTCHART:"Trellis Doughnut Chart",IDS_HIGHCOLUMN:"highColumn",IDS_PERCENTAGEHORIZONTALAREACHART:"100% Horizontal Area Chart",IDS_TREEMAPCHART:"Tree Map",IDS_TIMESERIESPERCENTSTACKEDCOLUMNCHART:"100% Stacked Column Chart for Date/Time Series",IDS_MULTISCATTERCHART:"Multiple Scatter Plot",IDS_TIMELINECHART:"Line Chart for Date/Time Series",IDS_SEMANTICCOLORRANGE:"Semantic Range",IDS_MODE:"Mode",IDS_TIME_TO:"To",IDS_TRELLISDUALLINECHART:"Trellis Line Chart with 2 Y-Axes",IDS_COLORING_TYPE_NEGATIVE:"Bad",IDS_BULLETCHART:"Bullet Chart",IDS_AREACHART:"Area Chart",IDS_TIMESERIESCOMBINATIONCHART:"Combined Column Line Chart for Date/Time Series",IDS_FORECAST_VALUES:"Forecast Values",IDS_LINE:"Line",IDS_CATEGORY_AXIS:"Category Axis",IDS_ENDCOLOR:"endcolor",IDS_TIMESERIESSTACKEDCOLUMNCHART:"Stacked Column Chart for Date/Time Series",IDS_DUALPERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart with 2 X-Axes",IDS_VALUE_AXIS2:"Value Axis 2",IDS_WEIGHT:"weight",IDS_REGIONSHAPE:"Region Shape",IDS_DONUTCHART:"Donut Chart",IDS_TITLE:"Title",IDS_CURRENT_SELECTION:"Current Selection",IDS_TIMESERIESWATERFALLCHART:"Waterfall Chart for Date/Time Series",IDS_MULTIPERCENTAGEHORIZONTALAREACHART:"Multiple 100% Horizontal Area Chart",IDS_RECTANGLECOLOR:"Rectangle Color",IDS_CATEGORYAXIS:"Axis Labels Category",IDS_COLUMNSEQUENCE:"columnSequence",IDS_MAINLABELAXISNAME:"Main Category Axis",IDS_RADARAXES:"Radar Axes",IDS_DAY:"Day",IDS_HORIZONTALSTACKEDCOMBINATIONCHART:"Horizontal Combined Stacked Line Chart",IDS_PERCENTAGEDONUTCHART:"100% Donut Chart",IDS_SHOWFIRSTLINE:"showFirstLine",IDS_DRAWINGEFFECT:"drawingEffect",IDS_MULTIDUALPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart with 2 X-Axes",IDS_TRELLISBUBBLECHART:"Trellis Bubble Chart",IDS_TRELLISDUALBARCHART:"Trellis Bar Chart with 2 X-Axes",IDS_TRELLISDUALHORIZONTALLINECHART:"Trellis Horizontal Line Chart with 2 X-Axes",IDS_BAR:"Bar",IDS_TAGWEIGHT:"Tags Weight",IDS_POSITION:"Position",IDS_STACKEDCOMBINATIONCHART:"Combined Stacked Line Chart",IDS_TRELLISDUALSTACKEDBARCHART:"Trellis Stacked Bar Chart with 2 X-Axes",IDS_NEGATIVE_INFINITY:"-Infinity",IDS_MULTIAREACHART:"Multiple Area Chart",IDS_DUALSTACKEDCOMBINATIONCHART:"Combined Stacked Line Chart with 2 Y-Axes",IDS_MULTIDONUTCHART:"Multiple Doughnut Chart",IDS_RECTANGLETITLE:"Rectangle Title"}});