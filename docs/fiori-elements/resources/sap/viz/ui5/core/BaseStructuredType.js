/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/ui/core/Element","sap/viz/library","./BaseChartMetadata","sap/base/util/ObjectPath","sap/base/Log"],function(t,e,a,r,i){"use strict";var n=t.extend("sap.viz.ui5.core.BaseStructuredType",{metadata:{abstract:true,library:"sap.viz"}},a);n.prototype._getOrCreate=function(t){var e=this.getAggregation(t);if(!e){var a=this.getMetadata(),i=a.getAggregation(t);if(i&&i._oParent===a){jQuery.sap.require(i.type);var n=r.get(i.type||"");e=new n;this.setAggregation(t,e)}}return e};n.prototype._getOptions=function(t){var e=this.getMetadata(),a={},r,i,n,g,o;function s(t){t=t==="toolTip"?"tooltip":t;return t}function l(t){var e=t;switch(t){case"triangleUp":e="triangle-up";break;case"triangleDown":e="triangle-down";break;case"triangleLeft":e="triangle-left";break;case"triangleRight":e="triangle-right";break}return e}e.getJSONKeys();var r=e.getAllProperties();var i=e.getPropertyDefaults();for(g in r){if(r[g]._oParent===e){o=this.getProperty(g);if(o instanceof Array){if(t||!i[g]||o.toString()!==i[g].toString()){a[s(g)]=l(o)}}else if(t||o!==i[g]){a[s(g)]=l(o)}}}var n=e.getAllAggregations();for(g in n){if(n[g]._oParent==e){o=this.getAggregation(g,null);if(o!==null){a[s(g)]=o._getOptions(t)}}}return a};n._convertAggregatedObject=function(t,e,a){if(e!=null){var n=this.getMetadata().getAllAggregations()[t];var g=e.getMetadata&&e.getMetadata().getName();if(n&&g!==n.type){jQuery.sap.require(n.type);var o=r.get(n.type||"");e=new o(e._getOptions(true));i.warning("[Deprecated] Type of aggregation '"+this.getMetadata().getName()+"."+t+" has been changed from '"+g+"' to '"+n.type+"'.")}}return e};n.prototype.validateProperty=function(e,a){if(/^(lineSize|size)$/.test(e)){var r=this.getMetadata().getAllProperties()[e];if(r&&r.type==="int"&&typeof a!=="number"){a=a?parseInt(a):null}}return t.prototype.validateProperty.call(this,e,a)};n.prototype.validateAggregation=function(e,a,r){if(e==="selectability"){a=n._convertAggregatedObject.call(this,e,a,r)}return t.prototype.validateAggregation.call(this,e,a,r)};return n});