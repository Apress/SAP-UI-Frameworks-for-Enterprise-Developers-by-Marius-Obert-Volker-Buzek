/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./SinaObject","./DataSourceType","./AttributeMetadata","../core/errors","./MatchingStrategy","./AttributeType"],function(t,e,r,a,n,i){function u(t,e){var r=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=o(t))||e&&t&&typeof t.length==="number"){if(r)t=r;var a=0;var n=function(){};return{s:n,n:function(){if(a>=t.length)return{done:true};return{done:false,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,u=false,l;return{s:function(){r=r.call(t)},n:function(){var t=r.next();i=t.done;return t},e:function(t){u=true;l=t},f:function(){try{if(!i&&r.return!=null)r.return()}finally{if(u)throw l}}}}function o(t,e){if(!t)return;if(typeof t==="string")return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor)r=t.constructor.name;if(r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(t,e)}function l(t,e){if(e==null||e>t.length)e=t.length;for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function f(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function c(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(t,a.key,a)}}function s(t,e,r){if(e)c(t.prototype,e);if(r)c(t,r);Object.defineProperty(t,"prototype",{writable:false});return t}function d(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function")}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:true,configurable:true}});Object.defineProperty(t,"prototype",{writable:false});if(e)b(t,e)}function b(t,e){b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,r){e.__proto__=r;return e};return b(t,e)}function p(t){var e=v();return function r(){var a=M(t),n;if(e){var i=M(this).constructor;n=Reflect.construct(a,arguments,i)}else{n=a.apply(this,arguments)}return y(this,n)}}function y(t,e){if(e&&(typeof e==="object"||typeof e==="function")){return e}else if(e!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return h(t)}function h(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function v(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(t){return false}}function M(t){M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function t(e){return e.__proto__||Object.getPrototypeOf(e)};return M(t)}function g(t,e,r){if(e in t){Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true})}else{t[e]=r}return t}
/*!
   * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
   */var m=t["SinaObject"];var A=e["DataSourceType"];var O=r["AttributeMetadata"];var w=a["DataSourceAttributeMetadataNotFoundError"];var S=n["MatchingStrategy"];var T=i["AttributeType"];var j=function(t){d(r,t);var e=p(r);function r(t){var a,n,i,u,o,l,c,s,d,b,p;var y;f(this,r);y=e.call(this,{sina:t.sina});g(h(y),"hidden",false);g(h(y),"usage",{});g(h(y),"attributesMetadata",[]);g(h(y),"attributeMetadataMap",{});g(h(y),"attributeGroupsMetadata",[]);g(h(y),"attributeGroupMetadataMap",{});y.annotations=(a=t.annotations)!==null&&a!==void 0?a:y.annotations;y.type=(n=t.type)!==null&&n!==void 0?n:y.type;y.subType=t.subType;y.id=(i=t.id)!==null&&i!==void 0?i:y.id;y.label=(u=t.label)!==null&&u!==void 0?u:y.label;y.labelPlural=(o=t.labelPlural)!==null&&o!==void 0?o:y.labelPlural;y.icon=t.icon;y.hidden=(l=t.hidden)!==null&&l!==void 0?l:y.hidden;y.usage=(c=t.usage)!==null&&c!==void 0?c:y.usage;y.attributesMetadata=(s=t.attributesMetadata)!==null&&s!==void 0?s:y.attributesMetadata;y.attributeMetadataMap=(d=t.attributeMetadataMap)!==null&&d!==void 0?d:y.createAttributeMetadataMap(y.attributesMetadata);y.attributeGroupsMetadata=(b=t.attributeGroupsMetadata)!==null&&b!==void 0?b:y.attributeGroupsMetadata;y.attributeGroupMetadataMap=(p=t.attributeGroupMetadataMap)!==null&&p!==void 0?p:y.attributeGroupMetadataMap;y.isHierarchyDefinition=t.isHierarchyDefinition;y.hierarchyName=t.hierarchyName;y.hierarchyDisplayType=t.hierarchyDisplayType;y.hierarchyAttribute=t.hierarchyAttribute;y.hierarchyHelperDatasource=t.hierarchyHelperDatasource;if(!y.labelPlural||y.labelPlural.length===0){y.labelPlural=y.label}if(y.type===A.BusinessObject&&y.attributesMetadata.length===0){}return y}s(r,[{key:"_configure",value:function t(){var e=this.sina.metadataFormatters;if(!e){return}for(var r=0;r<e.length;++r){var a=e[r];a.format({dataSources:[this]})}}},{key:"createAttributeMetadataMap",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var r={};for(var a=0;a<e.length;++a){var n=e[a];r[n.id]=n}return r}},{key:"getAttributeMetadata",value:function t(e){if(this.id==="All"){return this.getCommonAttributeMetadata(e)}if(this.id==="CD$ALL~ESH_TRANSACTION~"&&(e==="TCDTEXT"||e==="TCODE")&&!this.attributeMetadataMap[e]){this.attributeMetadataMap[e]=new O({label:"label",isSortable:false,isKey:false,matchingStrategy:S.Text,id:e,usage:{Title:{displayOrder:1}},type:T.String})}var r=this.attributeMetadataMap[e];if(r){return r}throw new w("Could not find metadata for attribute "+e+" in data source "+this.id+". ")}},{key:"getCommonAttributeMetadata",value:function t(e){var r=u(this.sina.dataSources),a;try{for(r.s();!(a=r.n()).done;){var n=a.value;if(n.type!==A.BusinessObject){continue}var i=n.attributeMetadataMap[e];if(i){return i}}}catch(t){r.e(t)}finally{r.f()}throw new w("Could not find metadata for common attribute "+e+" in data source "+this.id+". ")}},{key:"toJson",value:function t(){return{type:this.type,id:this.id,label:this.label,labelPlural:this.labelPlural}}}],[{key:"getAllDataSource",value:function t(){return new r({id:"All",label:"All",type:A.Category})}}]);return r}(m);var P={__esModule:true};P.DataSource=j;return P})})();