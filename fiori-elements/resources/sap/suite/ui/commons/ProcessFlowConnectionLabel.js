/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/m/Button","./library","sap/ui/core/InvisibleText","./ProcessFlowConnectionLabelRenderer"],function(e,t,s,i){"use strict";var o=e.extend("sap.suite.ui.commons.ProcessFlowConnectionLabel",{metadata:{library:"sap.suite.ui.commons",properties:{priority:{type:"int",group:"Misc",defaultValue:0},state:{type:"sap.suite.ui.commons.ProcessFlowConnectionLabelState",group:"Appearance",defaultValue:"Neutral"}}}});o.prototype._bNavigationFocus=false;o.prototype._bSelected=false;o.prototype._bHighlighted=false;o.prototype.ACTIVE_CSS_CLASS="sapSuiteUiCommonsProcessFlowLabelActive";o.prototype.HOVER_CSS_CLASS="sapSuiteUiCommonsProcessFlowLabelHover";o.prototype.MOUSE_EVENTS="mouseenter mousedown mouseup mouseleave";o.prototype._oResBundle=null;o.prototype._bDimmed=false;o.prototype.init=function(){if(e.prototype.init){e.prototype.init.apply(this,arguments)}this.addStyleClass("sapSuiteUiCommonsProcessFlowConnectionLabel");if(!this._oResBundle){this._oResBundle=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons")}};o.prototype.exit=function(){this.$().off(this.MOUSE_EVENTS,this._handleEvents)};o.prototype.onBeforeRendering=function(){this.$().off(this.MOUSE_EVENTS,this._handleEvents);this._configureStateClasses();this._setLabelWidth();this._setAriaDetails()};o.prototype.onAfterRendering=function(){if(!this.getText()){if(this.$().children().hasClass("sapMBtnIconFirst")){this.$().children().removeClass("sapMBtnIconFirst")}}this.$().bind(this.MOUSE_EVENTS,this._handleEvents.bind(this));document.getElementById(this.getId()).setAttribute("aria-haspopup","dialog")};o.prototype._handleEvents=function(e){var t=sap.ui.require("sap/suite/ui/commons/ProcessFlow");if(!t){return}switch(e.type){case t._mouseEvents.mouseEnter:this.$().find("*").addClass(this.HOVER_CSS_CLASS);break;case t._mouseEvents.mouseDown:this.$().find("*").removeClass(this.HOVER_CSS_CLASS);this.$().find("*").addClass(this.ACTIVE_CSS_CLASS);break;case t._mouseEvents.mouseUp:this.$().find("*").removeClass(this.ACTIVE_CSS_CLASS);this.$().find("*").addClass(this.HOVER_CSS_CLASS);break;case t._mouseEvents.mouseLeave:this.$().find("*").removeClass(this.ACTIVE_CSS_CLASS);this.$().find("*").removeClass(this.HOVER_CSS_CLASS);break;default:}};o.prototype._getNavigationFocus=function(){return this._bNavigationFocus};o.prototype._setNavigationFocus=function(e){this._bNavigationFocus=e};o.prototype._setSelected=function(e){this._bSelected=e};o.prototype._getSelected=function(){return this._bSelected};o.prototype._setHighlighted=function(e){this._bHighlighted=e};o.prototype._getHighlighted=function(){return this._bHighlighted};o.prototype._setDimmed=function(e){this._bDimmed=e};o.prototype._getDimmed=function(){return this._bDimmed};o.prototype.setWidth=function(){return this};o.prototype.setIconFirst=function(){return this};o.prototype._setLabelWidth=function(){if(this.getIcon()){if(this.getText()){this.setProperty("width","4.5rem",false)}else{this.setProperty("width","2rem",false)}}else if(this.getText()&&this.getText().length>2){this.setProperty("width","4.5rem",false)}else{this.setProperty("width","2rem",false)}};o.prototype._configureStateClasses=function(){switch(this.getState()){case t.ProcessFlowConnectionLabelState.Positive:this.addStyleClass("sapSuiteUiCommonsLabelStatePositive");break;case t.ProcessFlowConnectionLabelState.Critical:this.addStyleClass("sapSuiteUiCommonsLabelStateCritical");break;case t.ProcessFlowConnectionLabelState.Negative:this.addStyleClass("sapSuiteUiCommonsLabelStateNegative");break;default:this.addStyleClass("sapSuiteUiCommonsLabelStateNeutral")}if(this._getDimmed()&&this.getEnabled()){this.addStyleClass("sapSuiteUiCommonsLabelDimmed")}else{this.removeStyleClass("sapSuiteUiCommonsLabelDimmed")}if(this._getSelected()){this.addStyleClass("sapSuiteUiCommonsLabelSelected")}else{this.removeStyleClass("sapSuiteUiCommonsLabelSelected")}if(this._getHighlighted()){this.addStyleClass("sapSuiteUiCommonsLabelHighlighted")}else{this.removeStyleClass("sapSuiteUiCommonsLabelHighlighted")}};o.prototype._setAriaDetails=function(){var e=new s;e.setText(this._oResBundle.getText("PF_CONNECTIONLABEL"));e.toStatic();if(this.getAriaLabelledBy().length===0){this.addAriaLabelledBy(e)}};return o});