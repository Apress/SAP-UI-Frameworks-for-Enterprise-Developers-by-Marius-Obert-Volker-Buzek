/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/chart/coloring/ColoringUtils","sap/chart/data/MeasureSemantics","sap/chart/coloring/gradation/rankedMeasureValues/RankedMeasureUtils","sap/chart/ChartLog"],function(e,r,a,n){"use strict";var o={};var i=a.SingleColorScheme.SUPPORTED_SINGLE_SCHEMES;var t=a.SingleColorScheme.SUPPORTED_SATURATIONS;var l="colorings.Gradation.DelineatedMeasures";var s=function(r,a,o){if(o.bIsScatter){throw new n("error",l,'"DelineatedMeasures" could not apply to Scatter or Bubble.')}if(r.SingleColorScheme&&i.indexOf(r.SingleColorScheme)===-1){throw new n("error",l,'"SingleColorScheme" should be one of "'+i.join('" or "')+'".')}if(r.Saturation&&t.indexOf(r.Saturation)===-1){throw new n("error",l,'"Saturation" should be one of "'+t.join('" or "')+'".')}var s=a.aMsr.map(function(e){return e.getName()});var u=r.Levels;if(Array.isArray(u)&&u.length>=2&&u.length<=6){e.notIn(u,s,l,"Measure, ",', configured in "Levels" should be visible.');e.notIn(s,u,l,"Visible measure, ",', should be configured in "Levels".');if(e.hasDuplicatedValues(u)){throw new n("error",l,'The measure names contained in "Levels" have duplicated values.')}}else{throw new n("error",l,'The number of measure names contained in "Levels" should be between 2 to 6.')}if(e.hasSeriesDim(a)||o.bTimeChart&&o.bWaterfall&&a.aDim.length>1||o.bIsPie&&a.aDim.length){throw new n("error",l,"Semantic coloring could not be applied if chart already has coloring.")}};o.qualify=function(a,o,u,c){s(a,u,c);o.forEach(function(e){var a;Object.keys(r).forEach(function(o){var i=r[o];if(e[i]){if(!a){a=e[i]}else if(e[i]!==a){a+=", "+e[i];throw new n("error",l,"When "+a+' have semantic relationship, "DelineatedMeasures" could not be applied.')}}})});var h=[],f=a.Levels;f.forEach(function(r){h.push({msr:e.find(r,u.aMsr)})});h.SingleColorScheme=a.SingleColorScheme||i[0];h.Saturation=a.Saturation||t[0];h.Levels=f;return h};o.parse=function(e){var r=e.msr.getName();var a={msr:e.msr,callbacks:o.getCallbacks(r),legend:{}};a.legend[r]=r;return a};o.getCallbacks=function(e){var r={};r[e]=[function(r){return r.hasOwnProperty(e)}];return r};return o});