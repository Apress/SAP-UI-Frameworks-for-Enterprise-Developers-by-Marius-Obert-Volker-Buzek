/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/chart/coloring/ColoringUtils","sap/chart/coloring/CriticalityType","sap/chart/ChartLog"],function(r,e,i){"use strict";var n={};var a={formulas:{}};var t=e.Negative;var u=e.Critical;var l=e.Positive;var o=e.Neutral;function I(r,e,i){return{upperBound:r,CriticalityType:e}}n.fillOmit=function(r,e,i){i.hi=i.hi==undefined?Number.POSITIVE_INFINITY:i.hi;i.lo=i.lo==undefined?Number.NEGATIVE_INFINITY:i.lo;e.hi=e.hi==undefined?i.hi:e.hi;e.lo=e.lo==undefined?i.lo:e.lo;r.hi=r.hi==undefined?e.hi:r.hi;r.lo=r.lo==undefined?e.lo:r.lo};n.checkThreshold=function(e,n,a,t,u){var l;var o=r.isNumber(n.lo,t.lo,a.lo);var I=r.isNumber(n.hi,a.hi,t.hi);switch(e){case"maximize":l=o&&(t.lo<=a.lo&&a.lo<=n.lo);break;case"minimize":l=I&&(n.hi<=a.hi&&a.hi<=t.hi);break;case"target":l=o&&I&&t.lo<=a.lo&&a.lo<=a.hi&&a.hi<=t.hi&&a.lo<=n.lo&&n.lo<=n.hi&&n.hi<=a.hi;break;default:}if(!l){var s=u?"ConstantThresholds":"DynamicThresholds";throw new i("error","Colorings.Criticality."+s,"Invalid Thresholds settings.")}};n.MBCimprovement=function(r,e,i,n){var a=n.hi;var s=n.lo;var v=i.hi;var f=i.lo;var m=e.hi;var c=e.lo;var N=[];var h,T;switch(r){case"maximize":h=[s,f,c,Number.POSITIVE_INFINITY];T=[t,u,o,l];break;case"minimize":h=[m,v,a,Number.POSITIVE_INFINITY];T=[l,o,u,t];break;case"target":h=[s,f,c,m,v,a,Number.POSITIVE_INFINITY];T=[t,u,o,l,o,u,t];break;default:throw new Error("Unsupported ImprovementDirection: "+r)}var g=[];switch(r){case"maximize":g[0]=s===-Infinity;g[1]=s===f;g[2]=f===c;g[3]=c===Infinity;break;case"minimize":g[0]=m===-Infinity;g[1]=m===v;g[2]=v===a;g[3]=a===Infinity;break;case"target":g[0]=s===-Infinity;g[1]=s===f;g[2]=f===c;g[3]=c===m;g[4]=m===v;g[5]=v===a;g[6]=a===Infinity;break;default:throw new Error("Unsupported ImprovementDirection: "+r)}h=h.filter(function(r,e){return!g[e]});T=T.filter(function(r,e){return!g[e]});N=T.map(function(r,e){return I(h[e],r,0)});return{segments:N,min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}};function s(r){return[function(e,i){return r(e,i)}]}n.improvement=function(e,i,n,t,u){var l=u.hi;var o=u.lo;var I=t.hi;var v=t.lo;var f=n.hi;var m=n.lo;var c=r.thresholdValue([l,Number.POSITIVE_INFINITY]);var N=r.thresholdValue([o,Number.NEGATIVE_INFINITY]);var h=r.thresholdValue([I,l,Number.POSITIVE_INFINITY]);var T=r.thresholdValue([v,o,Number.NEGATIVE_INFINITY]);var g=r.thresholdValue([f,I,l,Number.POSITIVE_INFINITY]);var b=r.thresholdValue([m,v,o,Number.NEGATIVE_INFINITY]);var d={};switch(e){case"maximize":d["Negative"]=o==-Infinity?null:s(a.formulas.maximize.negative(i,N));d["Critical"]=o==v?null:s(a.formulas.maximize.critical(i,N,T));d["Neutral"]=v==m?null:s(a.formulas.maximize.critical(i,T,b));d["Positive"]=m==Infinity?null:s(a.formulas.maximize.positive(i,b));break;case"minimize":d["Negative"]=l==Infinity?null:s(a.formulas.minimize.negative(i,c));d["Critical"]=I==l?null:s(a.formulas.minimize.critical(i,h,c));d["Neutral"]=f==I?null:s(a.formulas.minimize.neutral(i,g,h));d["Positive"]=f==-Infinity?null:s(a.formulas.minimize.positive(i,g));break;case"target":d["Negative"]=o==-Infinity&&l===Infinity?null:s(a.formulas.target.negative(i,N,c));d["Critical"]=o==v&&I==l?null:s(a.formulas.target.critical(i,N,T,h,c));d["Neutral"]=v==m&&f==I?null:s(a.formulas.target.neutral(i,T,b,g,h));d["Positive"]=s(a.formulas.target.positive(i,b,g));break;default:throw new Error("Unsupported ImprovementDirection: "+e)}return d};a.formulas.maximize={negative:function(e,i){return function(n,a){var t=n[e];var u=i(n,a);return r.isInRange(t,Number.NEGATIVE_INFINITY,u,null,false)}},critical:function(e,i,n){return function(a,t){var u=a[e];var l=i(a,t);var o=n(a,t);return r.isInRange(u,l,o,true,false)}},neutral:function(e,i,n){return function(a,t){var u=a[e];var l=i(a,t);var o=n(a,t);return r.isInRange(u,l,o,true,false)}},positive:function(e,i){return function(n,a){var t=n[e];var u=i(n,a);return r.isInRange(t,u,Number.POSITIVE_INFINITY,true)}}};a.formulas.minimize={negative:function(e,i){return function(n,a){var t=n[e];var u=i(n,a);return r.isInRange(t,u,Number.POSITIVE_INFINITY,false)}},critical:function(e,i,n){return function(a,t){var u=a[e];var l=i(a,t);var o=n(a,t);return r.isInRange(u,l,o,false,true)}},neutral:function(e,i,n){return function(a,t){var u=a[e];var l=i(a,t);var o=n(a,t);return r.isInRange(u,l,o,false,true)}},positive:function(e,i){return function(n,a){var t=n[e];var u=i(n,a);return r.isInRange(t,Number.NEGATIVE_INFINITY,u,null,true)}}};a.formulas.target={negative:function(e,i,n){return function(a,t){var u=a[e];var l=i(a,t);var o=n(a,t);var I=r.isInRange(u,Number.NEGATIVE_INFINITY,l,null,false);var s=r.isInRange(u,o,Number.POSITIVE_INFINITY,false);return I||s}},critical:function(e,i,n,a,t){return function(u,l){var o=u[e];var I=i(u,l),s=n(u,l);var v=a(u,l),f=t(u,l);var m=r.isInRange(o,I,s,true,false);var c=r.isInRange(o,v,f,false,true);return m||c}},neutral:function(e,i,n,a,t){return function(u,l){var o=u[e];var I=i(u,l),s=n(u,l);var v=a(u,l),f=t(u,l);var m=r.isInRange(o,I,s,true,false);var c=r.isInRange(o,v,f,false,true);return m||c}},positive:function(e,i,n){return function(a,t){var u=a[e];var l=i(a,t);var o=n(a,t);return r.isInRange(u,l,o,true,true)}}};return n});