/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2014 SAP AG. All rights reserved
 */
sap.ui.define(["sap/base/Log","sap/base/security/encodeURL","sap/ui/base/Object","sap/ui/thirdparty/jquery"],function(e,i,t,n){"use strict";var r=t.extend("sap.collaboration.components.socialtimeline.datahandlers.ServiceDataHandler",{constructor:function(i,t){this._oLogger=e.getLogger("sap.collaboration.components.socialtimeline.datahandlers.ServiceDataHandler");this._oBOModel=i;this._oTimelineTermsUtility=t},readTimelineEntries:function(e,i,t,r,s){var o=this;var a=n.Deferred();var l=this._buildTimelineEntriesEndpoint(e,i,t,r,s);var d={context:null,urlParameters:null,async:true,filters:[],sorters:[],success:function(e,i){a.resolve(e)},error:function(e){if(e.response&&e.response.statusCode){o._oLogger.error(e.body);a.reject(e)}}};return{request:this._oBOModel.read(l,d),promise:a.promise()}},_buildTimelineEntriesEndpoint:function(e,t,n,r,s){var o="/"+e+"("+i(t)+")"+"/"+this._oTimelineTermsUtility.getTimelineEntryNavigationPath(e)+"?$expand="+this._oTimelineTermsUtility.getTimelineEntryFields(e).TimelineDetailNavigationPath;if(r!=undefined){o+="&$skip="+r}if(s!=undefined){o+="&$top="+s}if(n!=undefined){o+="&$filter="+n}this._oLogger.info("Timeline Entries Endpoint: "+o);return o}});return r});