/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2015 SAP AG. All rights reserved
 */
sap.ui.define(["sap/base/Log","sap/base/util/isEmptyObject","sap/collaboration/library","sap/ui/base/Object","sap/collaboration/components/socialtimeline/annotations/TimelineTermsUtility"],function(e,t,i,o,s){"use strict";var r=o.extend("sap.collaboration.components.socialtimeline.validation.InputValidator",{constructor:function(t){this._oLogger=e.getLogger("sap.collaboration.components.socialtimeline.validation.InputValidator");this._bCustomFilterValid=true;this._bSocialFeaturesEnabled=true;this._bBackendFeaturesEnabled=true;this._oSocialTimeline=t},areCustomFiltersValid:function(){return this._bCustomFilterValid},areSocialFeaturesEnabled:function(){return this._bSocialFeaturesEnabled},areBackendFeaturesEnabled:function(){return this._bBackendFeaturesEnabled},isBusinessObjectMapValid:function(e){var t=true;if(typeof e!=="object"){this._oLogger.error("The argument passed to the function 'setBusinessObjectMap' is of type "+typeof e+", expected type is object.");t=false}else if(!e.collection||!e.applicationContext||!e.servicePath){this._oLogger.error("The object passed to the method setBusinessObjectMap has property 'collection', 'applicationContext', or 'servicePath' as undefined.");t=false}else if(typeof e.collection!=="string"||typeof e.applicationContext!=="string"||typeof e.servicePath!=="string"){this._oLogger.error("The property 'collection', 'applicationContext', or 'servicePath' in the object passed to the method setBusinessObjectMap is not a string.");t=false}else if(e.customActionCallback&&typeof e.customActionCallback!=="function"){this._oLogger.error("The type defined for the property 'customActionCallback' is "+typeof e.customActionCallback+", expected type is function.");t=false}return t},isBusinessObjectValid:function(e){var t=true;if(!e.key){this._oLogger.error("The key in the object passed to the function 'setBusinessObject' is undefined.");t=false}else if(typeof e.key!=="string"){this._oLogger.error("The key in the object passed to the function 'setBusinessObject' is not of type string.");t=false}if(!e.name){this._oLogger.error("The name in the object passed to the function 'setBusinessObject' is undefined.");t=false}else if(typeof e.name!=="string"){this._oLogger.error("The name in the object passed to the function 'setBusinessObject' is not of type string.");t=false}return t},createTermsUtilityForBackend:function(e){var t;try{t=new s(e.getServiceMetadata(),e.getServiceAnnotations());this._bBackendFeaturesEnabled=true}catch(e){t=undefined;this._bBackendFeaturesEnabled=false;this._oLogger.error("The Business Object Service is not configured properly.");this._oSocialTimeline._oCommonUtil.displayError()}return t},validateEnableSocial:function(){if(this._oSocialTimeline.getEnableSocial()===true){return this._bSocialFeaturesEnabled=this._checkJamConfiguration()}else{return this._bSocialFeaturesEnabled=false}},validateCustomFilter:function(){var e=this._oSocialTimeline.getCustomFilter();this._bCustomFilterValid=true;if(!t(e)){if(!Array.isArray(e)){this._oLogger.error("The type defined for the property 'customFilter' is "+typeof e+", expected type is array.");this._bCustomFilterValid=false}else{for(var i=0;i<e.length;i++){if(!e[i].value||!e[i].text||typeof e[i].value!=="string"||typeof e[i].text!=="string"){this._oLogger.error("The type defined for the property 'text' or 'value' for the filter "+JSON.stringify(e[i])+" is undefined or not of type 'string'.");this._bCustomFilterValid=false}}}}return this._bCustomFilterValid},_checkJamConfiguration:function(){var e=true;var t=this;var i=function(t){if(t===false){e=false}};var o=function(e){t._oSocialTimeline._oCommonUtil.displayError()};this._oSocialTimeline._oSMIntegrationDataHandler.getJamConfigurationStatus(i,o);return e}});return r});