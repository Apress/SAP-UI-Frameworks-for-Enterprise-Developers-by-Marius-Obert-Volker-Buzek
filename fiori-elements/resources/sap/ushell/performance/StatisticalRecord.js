// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ushell/Config"],function(t,i){"use strict";var e={OPEN:"OPEN",CLOSED:"CLOSED",ERROR:"ERROR"};function o(){this.status=e.OPEN;this.targetHash=null;this.trigger=null;this.timeStart=null;this.timeEnd=null;this.duration=null;this.step=null;this.sourceApplication=undefined;this.targetApplication=undefined;this.navigationMode=null;this.homepageLoading=false;this.applicationType=null}o.prototype._calculateStep=function(){if(this.targetApplication===undefined&&this.sourceApplication===undefined){return""}if(this.sourceApplication===undefined&&this._isHomePage(this.targetApplication)){return"FLP@DURING_LOAD"}if(this.sourceApplication===undefined&&!this._isHomePage(this.targetApplication)){return"FLP@DEEP_LINK"}if(this.sourceApplication&&!this._isHomePage(this.targetApplication)&&!this._isHomePage(this.sourceApplication)){return"A2A@"+this.sourceApplication}if(this.sourceApplication&&this._isHomePage(this.targetApplication)&&!this._isHomePage(this.sourceApplication)){return"FLP_BACK@"+this.sourceApplication}if(this._isHomePage(this.sourceApplication)){return"FLP@HOMEPAGE_TILE"}return""};o.prototype.isEqual=function(t){return this.timeStart===t.timeStart};o.prototype.closeRecord=function(){this.step=this._calculateStep();this.status=e.CLOSED;this.timeEnd=performance.now();if(this.timeStart){this.duration=this.timeEnd-this.timeStart}t.debug("[fesrEnhFlp] Close statistical record with step name: "+this.step)};o.prototype.closeRecordWithError=function(){this.status=e.ERROR;this.timeEnd=performance.now();this.duration=this.timeEnd-this.timeStart};o.prototype.isClosed=function(){return this.status===e.CLOSED};o.prototype.getStep=function(){return this.step};o.prototype.setTrigger=function(t){this.trigger=t};o.prototype.setTargetHash=function(t){this.targetHash=t};o.prototype.setTimeStart=function(t){this.timeStart=t};o.prototype.getTimeStart=function(){return this.timeStart};o.prototype.getTimeEnd=function(){return this.timeEnd};o.prototype.setSourceApplication=function(t){this.sourceApplication=t};o.prototype.setTargetApplication=function(t){this.targetApplication=t};o.prototype.setNavigationMode=function(t){this.navigationMode=t};o.prototype.setHomepageLoading=function(t){this.homepageLoading=t};o.prototype.setApplicationType=function(t){this.applicationType=t};o.prototype.setIsHomeApp=function(t){this.isHomeApp=!!t};o.prototype._isHomePage=function(t){if(this.isHomeApp){return true}return t&&(t==="FLP_HOME"||t==="FLP_PAGE")};return o},false);