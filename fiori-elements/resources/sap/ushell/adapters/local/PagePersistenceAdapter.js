// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/utils","sap/ui/util/Storage","sap/base/util/ObjectPath"],function(t,e,o){"use strict";var r=function(r,a,i){var n=o.get("config.storageType",i)||e.Type.local;if(n!==e.Type.local&&n!==e.Type.session){throw new t.Error("PagePersistence Adapter Local Platform: unsupported storage type: '"+n+"'")}this._oAdapterConfiguration=i};r.prototype.getPage=function(t){var e=this;return new Promise(function(o,r){var a=e._oAdapterConfiguration.config.dataLoad[t]||{};if(a.page.id===t){o(a)}r({error:"No page with id '"+t+"' was found."})})};r.prototype.getPages=function(t){var e=this._oAdapterConfiguration.config.dataLoad||{};return Promise.resolve(t.map(function(t){return e[t]}).filter(function(t){return!!t}))};return r},false);