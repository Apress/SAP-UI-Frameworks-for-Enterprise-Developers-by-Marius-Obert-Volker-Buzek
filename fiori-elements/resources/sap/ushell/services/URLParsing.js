// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/base/Object","sap/ushell/utils","sap/ushell/utils/UrlParsing"],function(t,e,s,r){"use strict";function n(){this.getShellHash=function(t){return r.getShellHash(t)};this.getHash=function(t){return r.getHash(t)};this.isIntentUrl=function(e){t.error("Deprecated API call of 'sap.ushell.URLParsing.isIntentUrl'. Please use 'isIntentUrlAsync' instead",null,"sap.ushell.services.URLParsing");return r.isIntentUrl(e)};this.isIntentUrlAsync=function(t){return r.isIntentUrlAsync(t)};this.parseParameters=function(t){return r.parseParameters(t)};this.paramsToString=function(t){return r.paramsToString(t)};this.privparamsToString=function(t,e,s){return r.privparamsToString(t,e,s)};this.parseShellHash=function(t){return r.parseShellHash(t)};this.privstripLeadingHash=function(t){return r.privstripLeadingHash(t)};this.splitHash=function(t){return r.splitHash(t)};this.constructShellHash=function(t){return r.constructShellHash(t)};this.addSystemToServiceUrl=function(t,r){var n,a,i=r;if(!t||t.indexOf("/")!==0||t.indexOf("//")===0){throw new s.Error("Invalid URL: "+t,"sap.ushell.services.URLParsing")}if(e.isA(r,"sap.ui.core.Component")){a=typeof r.getComponentData==="function"&&r.getComponentData();i=a&&a.startupParameters&&a.startupParameters["sap-system"]&&a.startupParameters["sap-system"][0]}n=sap.ushell.Container.getService("NavTargetResolution").getCurrentResolution();if(!i&&!r&&n&&n.url){i=new URL(n.url,window.location.href).searchParams.get("sap-system")}if(/^[^?]*(;mo([/;?]|$))/.test(t)){}else if(/^[^?]*(;o=([/;?]|$))/.test(t)){t=t.replace(/;o=([/;?]|$)/,(i?";o="+i:"")+"$1")}else if(!/^[^?]*;o=/.test(t)&&i){t=t.replace(/(\/[^?]*?)(\/$|$|(\/?\?.*))/,"$1;o="+i+"$2")}sap.ushell.Container.addRemoteSystemForServiceUrl(t);return t}}n.hasNoAdapter=true;return n},true);