/*!
 * Copyright (c) 2009-2023 SAP SE, All Rights Reserved
 */
sap.ui.define(["sap/ui/core/Control","sap/ushell/components/workPageBuilder/controls/WorkPageColumnResizer","sap/ushell/components/workPageBuilder/controls/WorkPageButton","sap/m/Button","sap/ushell/ui/launchpad/ExtendedChangeDetection","sap/ushell/components/workPageBuilder/controls/WorkPageColumnRenderer","sap/m/library"],function(e,t,i,o,n,s,l){"use strict";var d=l.ButtonType;var a=e.extend("sap.ushell.components.workPageBuilder.controls.WorkPageColumn",{metadata:{library:"sap.ushell",properties:{columnWidth:{type:"int",defaultValue:24,bindable:true},editMode:{type:"boolean",group:"Misc",defaultValue:false,bindable:true},deleteColumnButtonTooltip:{type:"string",group:"Misc",defaultValue:"",bindable:true},addColumnButtonTooltip:{type:"string",group:"Misc",defaultValue:"",bindable:true},addWidgetButtonText:{type:"string",group:"Misc",defaultValue:"",bindable:true}},defaultAggregation:"cells",aggregations:{cells:{type:"sap.ushell.components.workPageBuilder.controls.WorkPageCell",multiple:true,singularName:"cell",bindable:true,dnd:true},_deleteButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_addWidgetButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_addButtonLeft:{type:"sap.ushell.components.workPageBuilder.controls.WorkPageButton",multiple:false,visibility:"hidden"},_addButtonRight:{type:"sap.ushell.components.workPageBuilder.controls.WorkPageButton",multiple:false,visibility:"hidden"},_resizer:{type:"sap.ushell.components.workPageBuilder.controls.WorkPageColumnResizer",multiple:false,visibility:"hidden"}},events:{addColumn:{left:{type:"boolean"}},addWidget:{},removeColumn:{},columnResized:{parameters:{posXDiff:{type:"float"}}},columnResizeCompleted:{}}},renderer:s});a.prototype.init=function(){this._fnHandleResize=this._handleResizerMoved.bind(this);this._fnHandleResizeCompleted=this._handleResizerReleased.bind(this);this._oResizer=(new t).setParent(this).attachEvent("resizerMoved",this._fnHandleResize).attachEvent("resizerReleased",this._fnHandleResizeCompleted);this._oCellsChangeDetection=new n("cells",this);e.prototype.init.apply(this,arguments)};a.prototype.exit=function(){this._oResizer.detachEvent("resizerMoved",this._fnHandleResize).detachEvent("resizerReleased",this._fnHandleResizeCompleted);this._oCellsChangeDetection.destroy();e.prototype.exit.apply(this,arguments)};a.prototype._createDeleteButton=function(){return new o({icon:"sap-icon://delete",tooltip:this.getDeleteColumnButtonTooltip(),press:function(){this.fireEvent("removeColumn")}.bind(this)}).addStyleClass("sapCepWorkPageColumnDeleteButton")};a.prototype.getDeleteButton=function(){if(!this.getAggregation("_deleteButton")){this.setAggregation("_deleteButton",this._createDeleteButton())}return this.getAggregation("_deleteButton")};a.prototype._createAddButton=function(e){var t=e==="left"?"sapCepColumnButtonLeft":"sapCepColumnButtonRight";return new i({icon:"sap-icon://add",tooltip:this.getAddColumnButtonTooltip(),press:function(){this.fireEvent("addColumn",{left:e==="left"})}.bind(this)}).addStyleClass("sapCepDividerButton "+t)};a.prototype.getAddButton=function(e){if(e==="left"){if(!this.getAggregation("_addButtonLeft")){this.setAggregation("_addButtonLeft",this._createAddButton("left"))}return this.getAggregation("_addButtonLeft")}if(!this.getAggregation("_addButtonRight")){this.setAggregation("_addButtonRight",this._createAddButton("right"))}return this.getAggregation("_addButtonRight")};a.prototype.getResizer=function(){return this._oResizer};a.prototype._handleResizerMoved=function(e){var t=e.getParameters();this.fireEvent("columnResized",t)};a.prototype._handleResizerReleased=function(){this.fireEvent("columnResizeCompleted")};a.prototype._createAddWidgetButton=function(){return new o({text:this.getAddWidgetButtonText(),type:d.Emphasized,press:function(){this.fireEvent("addWidget")}.bind(this)}).addStyleClass("sapCepAddWidgetButton")};a.prototype.getAddWidgetButton=function(){if(!this.getAggregation("_addWidgetButton")){this.setAggregation("_addWidgetButton",this._createAddWidgetButton())}return this.getAggregation("_addWidgetButton")};return a});