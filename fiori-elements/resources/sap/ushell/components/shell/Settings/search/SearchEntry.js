// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/core/mvc/XMLView","sap/ushell/resources"],function(e,n,r){"use strict";var t=null;function i(){if(t){return t}t=sap.ui.getCore().loadLibrary("sap.esh.search.ui",{async:true}).then(function(){return new Promise(function(e,n){sap.ui.require(["sap/esh/search/ui/userpref/SearchPrefsModel","sap/esh/search/ui/SearchShellHelperAndModuleLoader"],function(n,r){e(new n)})})});return t}function s(){return i().then(function(t){var i;var s={id:"search",entryHelpID:"search",title:r.i18n.getText("searchSetting"),valueResult:null,contentResult:null,icon:"sap-icon://search",isActive:t.isSearchPrefsActive.bind(t),valueArgument:function(){return t.isMultiProvider().then(function(e){if(e){return{value:1,displayText:""}}return t.isPersonalizedSearchActive().then(function(e){return{value:1,displayText:e?r.i18n.getText("sp.persSearchOn"):r.i18n.getText("sp.persSearchOff")}})})},contentFunc:function(){return t.asyncInit().then(function(){return n.create({id:"searchView",viewName:"sap.ushell.components.shell.Settings.search.Search"})}).then(function(e){e.setModel(t);i=e;return e})},onSave:function(){if(i){return i.getController().onSave()}e.warning("Save operation for search settings was not executed, because the search view was not initialized");return Promise.resolve()},onCancel:function(){if(i){i.getController().onCancel();return}e.warning("Cancel operation for search settings was not executed, because the search view was not initialized")},provideEmptyWrapper:false};return s})}return{getEntry:s}});