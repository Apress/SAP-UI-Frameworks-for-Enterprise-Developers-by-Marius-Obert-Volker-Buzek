/*
 * ! SAPUI5

(c) Copyright 2009-2020 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/navigation/NavigationHandler","sap/fe/navigation/library","./NavError","./SelectionVariant","sap/ui/generic/app/library"],function(t,e,r,n){"use strict";var a=t.extend("sap.ui.generic.app.navigation.service.NavigationHandler",{metadata:{publicMethods:["navigate","parseNavigation","storeInnerAppState","openSmartLinkPopover","mixAttributesAndSelectionVariant","setModel"]},constructor:function(n,a){try{t.apply(this,[n,e.Mode.ODataV2,a])}catch(t){if(t){throw new r(t.getErrorCode())}}},navigate:function(e,n,a,o,i,p,c){try{var s=function(t,e){if(e){var n=new r(e.getErrorCode());if(t){t(n)}}};t.prototype.navigate.apply(this,[e,n,a,o,s.bind(this,i),p,c])}catch(t){if(t){throw new r(t.getErrorCode())}}},parseNavigation:function(){try{var e=jQuery.Deferred();var a=t.prototype.parseNavigation.apply(this);a.done(function(t,r,a){if(Object.keys(t).length){var o=t.oSelectionVariant;var i=t.oDefaultedSelectionVariant;t.oSelectionVariant=o&&new n(o.toJSONObject());t.oDefaultedSelectionVariant=i&&new n(i.toJSONObject());var p=t.oDefaultedSelectionVariant;if(p&&p.getText()==="Selection Variant with ID "+p.getID()){delete t.oDefaultedSelectionVariant.text}}e.resolve(t,r,a)});a.fail(function(t,n,a){var o=new r(t.getErrorCode());e.reject(o,n,a)});return e.promise()}catch(t){if(t){throw new r(t.getErrorCode())}}},setTechnicalParameters:function(e){try{t.prototype.setTechnicalParameters.apply(this,[e])}catch(t){if(t){throw new r(t.getErrorCode())}}},getTechnicalParameters:function(){return t.prototype.getTechnicalParameters.apply(this)},replaceHash:function(e){t.prototype.replaceHash.apply(this,[e])},storeInnerAppState:function(e,r){return t.prototype.storeInnerAppState.apply(this,[e,r])},storeInnerAppStateWithImmediateReturn:function(e,r){return t.prototype.storeInnerAppStateWithImmediateReturn.apply(this,[e,r])},processBeforeSmartLinkPopoverOpens:function(e,r,n,a){return t.prototype.processBeforeSmartLinkPopoverOpens.apply(this,[e,r,n,a])},mixAttributesAndSelectionVariant:function(e,n,a){try{var o=t.prototype.mixAttributesAndSelectionVariant.apply(this,[e,n,a]);return new sap.ui.generic.app.navigation.service.SelectionVariant(o.toJSONObject())}catch(t){if(t){throw new r(t.getErrorCode())}}},setModel:function(e){t.prototype.setModel.apply(this,[e])},constructContextUrl:function(e,n){try{return t.prototype.constructContextUrl.apply(this,[e,n])}catch(t){if(t){throw new r(t.getErrorCode())}}}});return a});