/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./ActionBar","./Overlay","./ThingViewer","./ThingInspectorRenderer","./library","./ThingAction","sap/ui/dom/jquery/Selectors","sap/ui/dom/jquery/Focusable"],function(t,e,i,o,n,r){"use strict";var s=n.ActionBarSocialActions;var a=n.ThingViewerHeaderType;var c=n.FollowActionState;var u=e.extend("sap.ui.ux3.ThingInspector",{metadata:{deprecated:true,library:"sap.ui.ux3",properties:{firstTitle:{type:"string",group:"Misc",defaultValue:null},type:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},secondTitle:{type:"string",group:"Misc",defaultValue:null},followState:{type:"sap.ui.ux3.FollowActionState",group:"Misc",defaultValue:c.Default},flagState:{type:"boolean",group:"Misc",defaultValue:false},favoriteState:{type:"boolean",group:"Misc",defaultValue:false},favoriteActionEnabled:{type:"boolean",group:"Misc",defaultValue:true},updateActionEnabled:{type:"boolean",group:"Misc",defaultValue:true},followActionEnabled:{type:"boolean",group:"Misc",defaultValue:true},flagActionEnabled:{type:"boolean",group:"Misc",defaultValue:true},headerType:{type:"sap.ui.ux3.ThingViewerHeaderType",group:"Misc",defaultValue:a.Standard}},aggregations:{actions:{type:"sap.ui.ux3.ThingAction",multiple:true,singularName:"action"},headerContent:{type:"sap.ui.ux3.ThingGroup",multiple:true,singularName:"headerContent"},facets:{type:"sap.ui.ux3.NavigationItem",multiple:true,singularName:"facet"},facetContent:{type:"sap.ui.ux3.ThingGroup",multiple:true,singularName:"facetContent"},actionBar:{type:"sap.ui.ux3.ActionBar",multiple:false},thingViewer:{type:"sap.ui.ux3.ThingViewer",multiple:false,visibility:"hidden"}},associations:{selectedFacet:{type:"sap.ui.ux3.NavigationItem",multiple:false}},events:{actionSelected:{parameters:{id:{type:"string"},action:{type:"sap.ui.ux3.ThingAction"}}},facetSelected:{allowPreventDefault:true,parameters:{id:{type:"string"},item:{type:"sap.ui.ux3.NavigationItem"},key:{type:"string"}}},feedSubmit:{parameters:{text:{type:"string"}}}}}});u.prototype.init=function(){var o,n=this;e.prototype.init.apply(this);this._oThingViewer=new i(this.getId()+"-thingViewer");this.setAggregation("thingViewer",this._oThingViewer);this._oThingViewer.attachFacetSelected(function(t){var e=t.getParameters().item;if(n.fireFacetSelected({id:e.getId(),key:e.getKey(),item:e})){n.setSelectedFacet(e)}else{t.preventDefault()}});this._oSocialActions={};if(this.getActionBar()==null){o=new t(this.getId()+"-actionBar");o.setShowOpen(false);o.setAlwaysShowMoreMenu(false);o.setDividerWidth("252px");o.attachActionSelected(function(t){var e=t.getParameters().id,i=t.getParameters().action,o;if(e.indexOf(s.Favorite)!==-1||e.indexOf(s.Follow)!==-1||e.indexOf(s.Flag)!==-1){if(n._oSocialActions[e]){o=n._oSocialActions[e]}else{o=new r({id:n.getId()+"-"+e.toLowerCase(),text:i.text,enabled:i.enabled});n._oSocialActions[e]=o}n.fireActionSelected({id:e.toLowerCase(),action:o})}else{n.fireActionSelected({id:t.getParameters().id,action:t.getParameters().action})}});o.attachFeedSubmit(function(t){n.fireFeedSubmit({text:t.getParameters().text})});this.setActionBar(o)}};u.prototype.onAfterRendering=function(){e.prototype.onAfterRendering.apply(this,arguments);var t=this._getShell();this._bShell=!!t;if(!t){this._applyChanges({showOverlay:false})}};u.prototype.onBeforeRendering=function(){e.prototype.onBeforeRendering.apply(this,arguments)};u.prototype.exit=function(){this._oThingViewer.exit(arguments);this._oThingViewer.destroy();this._oThingViewer=null;e.prototype.exit.apply(this,arguments)};u.prototype.open=function(t){if(this.getDomRef()){this.rerender()}e.prototype.open.apply(this,arguments);this._selectDefault()};u.prototype._getNavBar=function(){return this._oThingViewer._oNavBar};u.prototype._selectDefault=function(){this._oThingViewer._selectDefault()};u.prototype._equalColumns=function(){this._oThingViewer._equalColumns()};u.prototype._setTriggerValue=function(){this._oThingViewer._setTriggerValue()};u.prototype._setFocusLast=function(){var t=this.$("thingViewer-toolbar").lastFocusableDomRef();if(!t&&this.getCloseButtonVisible()&&this.$("close").is(":sapFocusable")){t=this.getDomRef("close")}else if(!t&&this.getOpenButtonVisible()&&this.$("openNew").is(":sapFocusable")){t=this.getDomRef("openNew")}if(t){t.focus()}};u.prototype._setFocusFirst=function(){if(this.getOpenButtonVisible()&&this.$("openNew").is(":sapFocusable")){if(this.getDomRef("openNew")){this.getDomRef("openNew").focus()}}else if(this.getCloseButtonVisible()&&this.$("close").is(":sapFocusable")){if(this.getDomRef("close")){this.getDomRef("close").focus()}}else{if(this.$("thingViewer-content").firstFocusableDomRef()){this.$("thingViewer-content").firstFocusableDomRef().focus()}}};u.prototype.insertAction=function(t,e){if(this.getActionBar()){this.getActionBar().insertBusinessAction(t,e)}return this};u.prototype.addAction=function(t){if(this.getActionBar()){this.getActionBar().addBusinessAction(t)}return this};u.prototype.removeAction=function(t){var e;if(this.getActionBar()){e=this.getActionBar().removeBusinessAction(t)}return e};u.prototype.removeAllActions=function(){var t;if(this.getActionBar()){t=this.getActionBar().removeAllBusinessActions()}return t};u.prototype.getActions=function(){var t;if(this.getActionBar()){t=this.getActionBar().getBusinessActions()}return t};u.prototype.destroyActions=function(){if(this.getActionBar()){this.getActionBar().destroyBusinessActions()}return this};u.prototype.indexOfAction=function(t){var e=-1;if(this.getActionBar()){e=this.getActionBar().indexOfBusinessAction(t)}return e};u.prototype.getFacets=function(){return this._oThingViewer.getFacets()};u.prototype.insertFacet=function(t,e){this._oThingViewer.insertFacet(t,e);return this};u.prototype.addFacet=function(t){this._oThingViewer.addFacet(t);return this};u.prototype.removeFacet=function(t){return this._oThingViewer.removeFacet(t)};u.prototype.removeAllFacets=function(){return this._oThingViewer.removeAllFacets()};u.prototype.destroyFacets=function(){this._oThingViewer.destroyFacets();return this};u.prototype.indexOfFacet=function(t){return this._oThingViewer.indexOfFacet(t)};u.prototype.setFollowState=function(t){if(this.getActionBar()){this.getActionBar().setFollowState(t)}return this};u.prototype.getFollowState=function(){var t=null;if(this.getActionBar()){t=this.getActionBar().getFollowState()}return t};u.prototype.setFlagState=function(t){if(this.getActionBar()){this.getActionBar().setFlagState(t)}return this};u.prototype.getFlagState=function(){var t=null;if(this.getActionBar()){t=this.getActionBar().getFlagState()}return t};u.prototype.setFavoriteState=function(t){if(this.getActionBar()){this.getActionBar().setFavoriteState(t)}return this};u.prototype.getFavoriteState=function(){var t=null;if(this.getActionBar()){t=this.getActionBar().getFavoriteState()}return t};u.prototype.setIcon=function(t){this._oThingViewer.setIcon(t);if(this.getActionBar()){this.getActionBar().setThingIconURI(t)}return this};u.prototype.getIcon=function(){return this._oThingViewer.getIcon()};u.prototype.setType=function(t){this._oThingViewer.setType(t);return this};u.prototype.getType=function(){return this._oThingViewer.getType()};u.prototype.insertFacetContent=function(t,e){this._oThingViewer.insertFacetContent(t,e);return this};u.prototype.addFacetContent=function(t){this._oThingViewer.addFacetContent(t);return this};u.prototype.removeFacetContent=function(t){var e=this._oThingViewer.removeFacetContent(t);return e};u.prototype.removeAllFacetContent=function(){var t=this._oThingViewer.removeAllFacetContent();return t};u.prototype.destroyFacetContent=function(){this._oThingViewer.destroyFacetContent();return this};u.prototype.getFacetContent=function(){return this._oThingViewer.getFacetContent()};u.prototype.indexOfFacetContent=function(t){return this._oThingViewer.indexOfFacetContent(t)};u.prototype.setActionBar=function(t){this._oThingViewer.setActionBar(t);return this};u.prototype.getActionBar=function(){return this._oThingViewer.getActionBar()};u.prototype.destroyActionBar=function(){this._oThingViewer.destroyActionBar();return this};u.prototype.insertHeaderContent=function(t,e){this._oThingViewer.insertHeaderContent(t,e);return this};u.prototype.addHeaderContent=function(t){this._oThingViewer.addHeaderContent(t);return this};u.prototype.getHeaderContent=function(){return this._oThingViewer.getHeaderContent()};u.prototype.removeHeaderContent=function(t){var e=this._oThingViewer.removeHeaderContent(t);return e};u.prototype.removeAllHeaderContent=function(){var t=this._oThingViewer.removeAllHeaderContent();return t};u.prototype.destroyHeaderContent=function(){this._oThingViewer.destroyHeaderContent();return this};u.prototype.indexOfHeaderContent=function(t){return this._oThingViewer.indexOfHeaderContent(t)};u.prototype.setSelectedFacet=function(t){this._oThingViewer.setSelectedFacet(t);return this};u.prototype.getSelectedFacet=function(t){return this._oThingViewer.getSelectedFacet()};u.prototype.setFavoriteActionEnabled=function(t){if(this.getActionBar()){this.getActionBar().setShowFavorite(t)}return this};u.prototype.getFavoriteActionEnabled=function(){var t;if(this.getActionBar()){t=this.getActionBar().getShowFavorite()}return t};u.prototype.setFlagActionEnabled=function(t){if(this.getActionBar()){this.getActionBar().setShowFlag(t)}return this};u.prototype.getFlagActionEnabled=function(){var t;if(this.getActionBar()){t=this.getActionBar().getShowFlag()}return t};u.prototype.setUpdateActionEnabled=function(t){if(this.getActionBar()){this.getActionBar().setShowUpdate(t)}return this};u.prototype.getUpdateActionEnabled=function(){var t;if(this.getActionBar()){t=this.getActionBar().getShowUpdate()}return t};u.prototype.setFollowActionEnabled=function(t){if(this.getActionBar()){this.getActionBar().setShowFollow(t)}return this};u.prototype.getFollowActionEnabled=function(){var t;if(this.getActionBar()){t=this.getActionBar().getShowFollow()}return t};u.prototype.setFirstTitle=function(t){this._oThingViewer.setTitle(t);return this};u.prototype.getFirstTitle=function(){return this._oThingViewer.getTitle()};u.prototype.setSecondTitle=function(t){this._oThingViewer.setSubtitle(t);return this};u.prototype.getSecondTitle=function(){return this._oThingViewer.getSubtitle()};u.prototype.setHeaderType=function(t){this._oThingViewer.setHeaderType(t);return this};u.prototype.getHeaderType=function(){var t=this._oThingViewer.getHeaderType();return t};u.prototype._applyChanges=function(t){this.oChanges=t;if(t.showOverlay){this.$().removeClass("sapUiUx3TINoFrame")}else{this.$().addClass("sapUiUx3TINoFrame")}return this};return u});