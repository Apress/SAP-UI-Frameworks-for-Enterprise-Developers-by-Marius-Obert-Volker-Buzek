/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/ui/base/EventProvider"],function(t){"use strict";var e=t.extend("sap.ui.vk.tools.DeleteMeasurementToolHandler",{metadata:{library:"sap.ui.vk"},constructor:function(t){this._priority=0;this._tool=t;this._rect=null}});e.prototype.destroy=function(){this._tool=null;this._rect=null};e.prototype.hover=function(t){var e=this._tool;var r=e._viewport;var o=r.getMeasurementSurface();if(this._inside(t)&&r.getScene()){var i=t.x-this._rect.x;var n=t.y-this._rect.y;e.highlightMeasurement(o.hitTest(i,n),o)}else{e.highlightMeasurement(null,o)}};e.prototype.beginGesture=function(t){};e.prototype.move=function(t){};e.prototype.endGesture=function(t){};e.prototype.click=function(t){t.handled=true;var e=this._tool;var r=e._viewport;if(this._inside(t)&&r.getScene()){var o=t.x-this._rect.x;var i=t.y-this._rect.y;var n=r.getMeasurementSurface().hitTest(o,i);if(n){e.removeMeasurement(n)}}};e.prototype.doubleClick=function(t){};e.prototype.contextMenu=function(t){};e.prototype.keyEventHandler=function(t){if(t.code==="Escape"){var e=this._tool;e.setActive(false,e._viewport);t.handled=true}};e.prototype._getOffset=function(t){var e=t.getBoundingClientRect();var r={x:e.left+window.pageXOffset,y:e.top+window.pageYOffset};return r};e.prototype._inside=function(t){var e=this._tool._viewport.getIdForLabel();var r=document.getElementById(e);if(r==null){return false}var o=this._getOffset(r);var i=this._rect={x:o.x,y:o.y,w:r.offsetWidth,h:r.offsetHeight};return t.x>=i.x&&t.x<=i.x+i.w&&t.y>=i.y&&t.y<=i.y+i.h};return e});