/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["./Tool","./CrossSectionToolHandler","./CrossSectionToolGizmo"],function(t,i,o){"use strict";var e=t.extend("sap.ui.vk.tools.CrossSectionTool",{metadata:{library:"sap.ui.vk",properties:{showEditingUI:{type:"boolean",defaultValue:false}}},constructor:function(o,s){if(e._instance){return e._instance}t.apply(this,arguments);this._viewport=null;this._handler=new i(this);this._gizmo=null;e._instance=this}});e.prototype.init=function(){if(t.prototype.init){t.prototype.init.call(this)}this.setFootprint(["sap.ui.vk.threejs.Viewport"]);this.setAggregation("gizmo",new o)};e.prototype.setActive=function(i,o,e){t.prototype.setActive.call(this,i,o,e);if(this._viewport){if(i){this._gizmo=this.getGizmo();this._gizmo.show(this._viewport,this);this._addLocoHandler()}else{this._removeLocoHandler();if(this._gizmo){this._gizmo.hide();this._gizmo=null}}}return this};e.prototype.setAxis=function(t){if(this._gizmo){this._gizmo.setAxis(t)}return this};e.prototype.setFlip=function(t){if(this._gizmo){this._gizmo.setFlip(t)}return this};e.prototype.getFlip=function(){return this._gizmo?this._gizmo._flip:undefined};e.prototype.setShowEditingUI=function(t){this.setProperty("showEditingUI",t,true);if(this._viewport){this._viewport.setShouldRenderFrame()}return this};e.prototype.queueCommand=function(t){if(this._addLocoHandler()){if(this.isViewportType("sap.ui.vk.threejs.Viewport")){t()}}return this};e.prototype.destroy=function(){t.prototype.destroy.call(this);this._viewport=null;delete e._instance};return e});