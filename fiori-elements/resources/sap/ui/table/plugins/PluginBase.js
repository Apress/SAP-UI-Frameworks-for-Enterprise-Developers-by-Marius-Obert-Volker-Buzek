/*
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["../utils/TableUtils","sap/ui/core/Element"],function(t,i){"use strict";var e=t.Hook.Keys;var n={};var o=t.createWeakMapFacade();var a=i.extend("sap.ui.table.plugins.PluginBase",{metadata:{abstract:true,library:"sap.ui.table"}});a.prototype.init=function(){i.prototype.init.apply(this,arguments);o(this).bIsActive=false};a.prototype.exit=function(){i.prototype.exit.apply(this,arguments);this.deactivate()};a.prototype.onActivate=function(t){};a.prototype.onDeactivate=function(t){};a.prototype.isActive=function(){return o(this).bIsActive};a.prototype.isApplicable=function(i){return t.isA(i,"sap.ui.table.Table")};a.prototype.setParent=function(t){this.deactivate();i.prototype.setParent.apply(this,arguments);if(t){if(!this.isApplicable(this.getTable())){throw new Error(this+" is not applicable to "+t)}this.activate()}return this};a.prototype.onTableBindRows=function(){};n[e.Table.BindRows]=function(t){this.onTableBindRows(t)};a.prototype.onTableRowsBound=function(t){};n[e.Table.RowsBound]=function(t){this.onTableRowsBound(t)};a.prototype.onTableUnbindRows=function(){};n[e.Table.UnbindRows]=function(){this.onTableUnbindRows()};a.prototype.getTable=function(){var i=this.getParent();return t.isA(i,"sap.ui.table.Table")?i:null};a.prototype.getTableBinding=function(){var t=this.getTable();var i=t?t.getBinding():null;return i?i:null};a.prototype.setRowCountConstraints=function(t){var i=this.getTable();if(i){i._setRowCountConstraints(t)}};a.prototype.activate=function(){var i=this.getTable();if(!i||this.isActive()){return}t.Hook.install(i,n,this);this.onActivate(i);var e=this.getTableBinding();if(e){this.onTableRowsBound(e)}o(this).bIsActive=true};a.prototype.deactivate=function(){var i=this.getTable();if(!this.isActive()){return}t.Hook.uninstall(i,n,this);this.onDeactivate(i);o(this).bIsActive=false};return a});