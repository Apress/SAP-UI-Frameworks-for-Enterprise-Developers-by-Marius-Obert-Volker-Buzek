/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./library","sap/ui/core/Control","sap/ui/core/ResizeHandler","./ResponsiveContainerRenderer"],function(e,t,i,n){"use strict";var s=t.extend("sap.ui.commons.ResponsiveContainer",{metadata:{library:"sap.ui.commons",deprecated:true,properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"}},aggregations:{ranges:{type:"sap.ui.commons.ResponsiveContainerRange",multiple:true,singularName:"range"},content:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{defaultContent:{type:"sap.ui.core.Control",multiple:false}},events:{rangeSwitch:{parameters:{currentRange:{type:"sap.ui.commons.ResponsiveContainerRange"}}}}}});s.prototype.init=function(){this.oCurrentRange=null};s.prototype.exit=function(){if(this.sResizeListenerId){i.deregister(this.sResizeListenerId);this.sResizeListenerId=null}};s.prototype.onBeforeRendering=function(){if(this.sResizeListenerId){i.deregister(this.sResizeListenerId);this.sResizeListenerId=null}if(!this.getAggregation("content")){var e=sap.ui.getCore().byId(this.getDefaultContent());this.setAggregation("content",e)}};s.prototype.onAfterRendering=function(){var e=this.onresize.bind(this);this.sResizeListenerId=i.register(this.getDomRef(),e);this.refreshRangeDimensions();if(!this.oCurrentRange){setTimeout(e,0)}};s.prototype.onresize=function(e){var t=this.findMatchingRange(),i=t&&t.getContent(),n;if(this.oCurrentRange!=t){this.oCurrentRange=t;if(!t){i=this.getDefaultContent()}n=sap.ui.getCore().byId(i);this.setAggregation("content",n);this.fireRangeSwitch({currentRange:this.oCurrentRange})}};s.prototype.refreshRangeDimensions=function(){var e=this.getRanges(),t=[],i;e.forEach(function(e){i=e.$();t.push({range:e,width:i.width(),height:i.height()})});this.aRangeDimensions=t};s.prototype.findMatchingRange=function(){var e=this.$(),t=e.width(),i=e.height(),n,s,r=this.aRangeDimensions,o=null;r.forEach(function(e){n=e.width||t;s=e.height||i;if(n<=t&&s<=i){e.area=n*s;if(!o||o.area<e.area){o=e}}});return o&&o.range};return s});