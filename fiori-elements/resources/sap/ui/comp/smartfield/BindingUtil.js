/*
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/ui/model/odata/AnnotationHelper","sap/ui/base/BindingParser"],function(t,r){"use strict";var e=function(){};e.prototype.correctPath=function(t){var r,e=/\((.+)\)*/,a=e.exec(t);if(a){r=t.replace(a[0],"")}else{r=t||""}return r.replace("/","")};e.prototype.getNavigationProperties=function(t){var r,e,a={};e=t.getBindingContext();if(e&&e.sPath){a.paths=e.sPath.split("/")}r=t.getObjectBinding();if(r&&r.sPath){a.objectBinding=r.sPath;if(a.paths){a.paths.push(r.sPath)}else{a.paths=[r.sPath]}}if(!a.paths){a.paths=[]}return a};e.prototype.getBindingParts=function(t,r,e){var a=0,o,p,n;if(t&&t.parts){a=t.parts.length}for(o=0;o<a;o++){n="";p=t.parts[o];if(p.model){n=n+p.model+">"}n=n+p.path;r.push(n);e.length++}};e.prototype.toBinding=function(t){var r={},e,a,o,p,n={model:true,formatter:true,mode:true,path:true};if(t){if(t.parts&&t.parts.length){p=t.parts.length;r.parts=[]}for(o=0;o<p;o++){a=t.parts[o];r.parts.push(a)}for(e in n){if(t[e]){r[e]=t[e]}}return r}return null};e.prototype.toBindingPath=function(t){var r,e="",a,o,p;r=this.toBinding(t);if(r){if(r.model){e=r.model+">"}if(r.path){e=e+r.path}else if(r.parts&&r.parts.length>0){p=r.parts.length;for(o=0;o<p;o++){a=r.parts[o];if(a.model){e=e+a.model+">"}e=e+a.path}}}return e};e.prototype.fromFormatter=function(t,r,e){var a,o,p,n={model:t,formatter:r.formatter};p=r.path();o=p.length;if(o>0){n.parts=p;if(e){for(a=0;a<o;a++){e.push(p[a])}}}else{n.path=""}return n};e.prototype.executeODataBindingExpression=function(e,a){var o,p,n,i,s,f="";if(e&&a){s=t.format(a,e);f=s;i=r.complexParser(s,a);n=[];if(i){if(i.formatter){for(o=0;o<i.parts.length;o++){p=a.getProperty(i.parts[o].path,"value");n.push(p)}f=i.formatter.apply(null,n)}else{f=a.getProperty(i.path,"value")}}}return f};e.prototype.destroy=function(){};return e},true);