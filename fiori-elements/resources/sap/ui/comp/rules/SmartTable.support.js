/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/ui/support/library","sap/base/Log","sap/ui/table/rules/TableHelper.support"],function(e,t,a){"use strict";var i=e.Categories;var n=e.Severity;var o=e.Audiences;var r={id:"smartTableEntityFieldName",audiences:[o.Application],categories:[i.DataModel],enabled:true,minversion:"1.52",title:"SmartTable: Forbidden entity field name",description:"The SmartTable entity uses reserved keywords as field names",resolution:"Rename the field name of your OData entity that is using a reserved keyword",resolutionurls:[{text:"API Reference: SmartTable -> properties -> entitySet ",href:"https://ui5.sap.com/#/api/sap.ui.comp.smarttable.SmartTable"}],check:function(e,t,a){a.getElementsByClassName("sap.ui.comp.smarttable.SmartTable").forEach(function(t){var a,i=t.getId();if(!t._aTableViewMetadata){return}a=["variant","btnFullScreen","btnEditToggle","header","toolbarSeperator","toolbarSpacer","btnPersonalisation","btnExcelExport","persoController","ui5table","infoToolbarText"];t._aTableViewMetadata.forEach(function(t){if(a.indexOf(t.name)>-1){e.addIssue({severity:n.High,details:"SmartTable "+i+" is assigned to an entity that is using a reserved keyword as field name. Please rename field "+t.name,context:{id:i}})}})})}};var s={id:"smartTableRebindTableBeforeInitialise",audiences:[o.Application],categories:[i.Usage],enabled:true,minversion:"1.30",title:"SmartTable: The rebindTable method usage",description:"The call to the rebindTable method was done before the SmartTable control is initialized",resolution:'Applications can listen to the "initialise" event or "isInitialised" method of the SmartTable and then call the rebindTable method. This ensures that the SmartTable control can correctly create and update the binding for the inner table',resolutionurls:[{text:"API Reference: initialise event",href:"https://ui5.sap.com/#/api/sap.ui.comp.smarttable.SmartTable/events/initialise"},{text:"API Reference: isInitialised method",href:"https://ui5.sap.com/#/api/sap.ui.comp.smarttable.SmartTable/methods/isInitialised"}],check:function(e,a,i){var o=t.getLogEntries().filter(function(e){return e.component=="sap.ui.comp.smarttable.SmartTable"});i.getElementsByClassName("sap.ui.comp.smarttable.SmartTable").forEach(function(t){var a=t.getId();var i=o.find(function(e){return e.details==a&&e.message.indexOf("rebindTable method called before the SmartTable is initialized")>-1});if(i){e.addIssue({severity:n.High,details:"The rebindTable method is called before the SmartTable with id: "+a+" is initialized",context:{id:a}})}})}};var d={id:"smartTableModelBinding",categories:[i.Bindings],title:"SmartTable: Model and Binding",description:"Checks whether the default/unnamed model is present and is an ODataModel and if the binding makes use of this model",resolution:"Ensure that the desired ODataModel is set as an unnamed/default model on the control/view and is used in the binding accordingly",minversion:"1.46",check:function(e,t,i){var o=a.find(i,true,"sap/ui/comp/smarttable/SmartTable");var r,s=o.length,d,l,u;for(r=0;r<s;r++){d=o[r];if(d){l=d.getModel();if(!l){a.reportIssue(e,"The SmartTable expects a default/unnamed model to be present",n.Medium,d.getId())}if(!a.isInstanceOf(l,"sap/ui/model/odata/ODataModel")&&!a.isInstanceOf(l,"sap/ui/model/odata/v2/ODataModel")){a.reportIssue(e,"ODataModel should be used as the default/unnamed model",n.Medium,d.getId())}u=d.getTable().getBindingInfo(d._sAggregation);if(u.model){a.reportIssue(e,"For binding rows/items of the table in the SmartTable an unnamed (default) model should be used",n.Medium,d.getId())}}}}};var l={id:"smartTableDeprecatedModel",categories:[i.DataModel],title:"SmartTable: Deprecated Model",description:"Checks whether the model is a sap/ui/model/odata/ODataModel as this has been deprecated since version 1.48",resolution:"Use a sap/ui/model/odata/v2/ODataModel as default/unnamed model to ensure that SmartTable built-in functionality is fully available",minversion:"1.48",check:function(e,t,i){var o=a.find(i,true,"sap/ui/comp/smarttable/SmartTable");var r,s=o.length,d,l;for(r=0;r<s;r++){d=o[r];if(d){l=d.getModel();if(a.isInstanceOf(l,"sap/ui/model/odata/ODataModel")){a.reportIssue(e,"Deprecated ODataModel should not be used",n.Medium,d.getId())}}}}};var u={id:"smartTableCustomColumnPersonalizationData",audiences:[o.Application],categories:[i.Consistency],minversion:"1.44",async:false,title:"SmartTable: Defining p13nData for custom column",description:"Incorrect p13nData configuration for custom column",resolution:"Make sure that the correct p13nData configuration is applied to the custom column in the SmartTable. More information is avilable on the SmartTable FAQ section.",resolutionurls:[{text:"API FAQ: SmartTable",href:"https://ui5.sap.com/#/api/sap.ui.comp.smarttable.SmartTable/faq"}],check:function(e,t,a){a.getElementsByClassName("sap.ui.comp.smarttable.SmartTable").forEach(function(t){var a=t._aExistingColumns;if(a.length){a.forEach(function(a){var i=t._getColumnByKey(a),o=i.data("p13nData");if(!o.hasOwnProperty("columnKey")){e.addIssue({severity:n.High,details:"The p13nData columnKey configuration is not defined.",context:{id:i.getId()}})}if(!o.hasOwnProperty("leadingProperty")&&!i.isA("sap.ui.table.AnalyticalColumn")){e.addIssue({severity:n.High,details:"The p13nData leadingProperty configuration value is not defined.",context:{id:i.getId()}})}else if(!i.isA("sap.ui.table.AnalyticalColumn")&&typeof o.leadingProperty!=="string"){e.addIssue({severity:n.High,details:"The p13nData leadingProperty configuration only supports string value.",context:{id:i.getId()}})}else if(typeof o.leadingProperty=="string"&&o.leadingProperty.split(",").length>1){e.addIssue({severity:n.High,details:"The p13nData leadingProperty configuration cannot have multiple values.",context:{id:i.getId()}})}else if(i.isA("sap.ui.table.AnalyticalColumn")&&!i.getLeadingProperty()){e.addIssue({severity:n.High,details:"The leadingProperty must be defined on the AnalyticalColumn.",context:{id:i.getId()}})}if(!o.hasOwnProperty("type")){e.addIssue({severity:n.High,details:"The p13nData type configuration value is not defined.",context:{id:i.getId()}})}if(o.hasOwnProperty("additionalProperty")){if(typeof o.additionalProperty!=="string"){e.addIssue({severity:n.High,details:"The p13nData additionalProperty configuration only supports a string with comma separated values.",context:{id:i.getId()}})}if(o.additionalProperty===o.leadingProperty){e.addIssue({severity:n.High,details:"The p13nData additionalProperty and leadingProperty must not be equal.",context:{id:i.getId()}})}}if(i.isA("sap.m.Column")&&!o.hasOwnProperty("sortProperty")){e.addIssue({severity:n.Low,details:"The p13nData sortProperty configuration is not defined.",context:{id:i.getId()}})}else if(!i.getProperty("sortProperty")){e.addIssue({severity:n.Low,details:"The sortProperty on the column is not defined.",context:{id:i.getId()}})}if(i.isA("sap.m.Column")&&!o.hasOwnProperty("filterProperty")){e.addIssue({severity:n.Low,details:"The p13nData filterProperty configuration is not defined.",context:{id:i.getId()}})}else if(!i.getProperty("filterProperty")){e.addIssue({severity:n.Low,details:"The filterProperty on the column is not defined.",context:{id:i.getId()}})}})}})}};return[r,s,d,l,u]},true);