/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/integration/editor/fields/viz/VizBase","sap/m/ColorPalettePopover","sap/m/Button","sap/ui/core/Core","sap/base/util/merge","sap/ui/core/theming/Parameters"],function(e,t,o,a,n,r){"use strict";var l=e.extend("sap.ui.integration.editor.fields.viz.ColorSelect",{metadata:{library:"sap.ui.integration",properties:{enumValue:{type:"string",defaultValue:""},colorValue:{type:"string",defaultValue:""},colorEnum:{type:"string",defaultValue:"sap.m.AvatarColor"},background:{type:"boolean",defaultValue:true},allowCustomColors:{type:"boolean",defaultValue:false}},aggregations:{_colorpalette:{type:"sap.m.ColorPalettePopover",multiple:false,visibility:"hidden"}}},renderer:{apiVersion:2}});var c={};function i(){var e=["sapUiAccent1","sapUiAccent2","sapUiAccent3","sapUiAccent4","sapUiAccent5","sapUiAccent6","sapUiAccent7","sapUiAccent8","sapUiAccent9","sapUiAccent10","sapUiTileIconColor","sapUiContentImagePlaceholderBackground"];var t=r.get({name:e,callback:function(e){}});if(t){c={"sap.m.AvatarColor":{Accent1:t["sapUiAccent1"],Accent2:t["sapUiAccent2"],Accent3:t["sapUiAccent3"],Accent4:t["sapUiAccent4"],Accent5:t["sapUiAccent5"],Accent6:t["sapUiAccent6"],Accent7:t["sapUiAccent7"],Accent8:t["sapUiAccent8"],Accent9:t["sapUiAccent9"],Accent10:t["sapUiAccent10"],TileIcon:t["sapUiTileIconColor"],Transparent:"transparent",Placeholder:t["sapUiContentImagePlaceholderBackground"]}}}}i();a.attachThemeChanged(i);var s,p=new t("oColorPalettePopoverFull",{colorSelect:function(e){var t=e.getParameter("value"),o=c[s.getColorEnum()],a=Object.values(o).indexOf(t);s.setEnumValue(Object.keys(o)[a]);s.setColorValue(t);s._colorValue=t}});l.prototype.onInit=function(){this._oControl=new o({icon:"sap-icon://color-fill",press:function(){this._openPalette()}.bind(this)});this._colorValue="transparent"};l.prototype.applyStyle=function(e){e.class("sapUiIntegrationColorSelect");if(!this._colorValue||this._colorValue==="transparent"){e.class("noColorValueOrTransparentValue")}else{e.class("hasColorValue")}if(this._colorValue){e.style("--colorValue",this._colorValue)}};l.prototype._openPalette=function(){s=this;p.setShowDefaultColorButton(true);p.setShowMoreColorsButton(false);p.setDefaultColor("");var e=c[this.getColorEnum()];if(e){var t=[];for(var o in e){t.push(e[o])}p.setColors(t)}p.openBy(this._oControl)};l.prototype.setEnumValue=function(e){this.setProperty("enumValue",e,true);this._colorValue=c[this.getColorEnum()][e];this.rerender()};l.prototype.bindPropertyToControl=function(e,t){if(e==="editable"){var o=n({},t);this._oControl.bindProperty("enabled",o)}};return l});