/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2012 SAP AG. All rights reserved
 */
sap.ui.define(["./sapvbi"],function(){"use strict";VBI.LinearProjection=function(a){var t={};t.vbiclass="Projection/Linear";t.m_nXYRatio=2;t.m_nXMin=-2;t.m_nXMax=2;t.m_nGeometrySize=4;t.m_nUCSMin=-.5;t.m_nUCSMax=1.5;t.m_bIsIsogonal=true;t.LonLatToUCS=function(a,t){var n=t[0];var r=t[1];t[0]=n*(.5+a[0]/Math.PI);t[1]=r*(.5-a[1]/Math.PI);return t};t.UCSToLonLat=function(a,n){n[0]=Math.PI*(t.m_nUCSMin+a[0]/2);n[1]=-Math.PI*(a[1]/2);return n};return t};VBI.MercatorProjection=function(a){var t={};t.vbiclass="Projection/Mercator";t.m_nXYRatio=1;t.m_nXMin=-1;t.m_nXMax=1;t.m_nGeometrySize=2;t.m_nUCSMin=0;t.m_nUCSMax=1;t.m_bIsIsogonal=true;t.LonLatToUCS=VBI.MathLib.LonLatToUCS;t.UCSToLonLat=VBI.MathLib.UCSToLonLat;return t};VBI.ElliMercatorProjection=function(a){var t={};t.vbiclass="Projection/EllipticalMercator";t.m_nXYRatio=1;t.m_nXMin=-1;t.m_nXMax=1;t.m_nGeometrySize=2;t.m_nUCSMin=0;t.m_nUCSMax=1;t.m_bIsIsogonal=true;t.m_rmajor=6378137;t.m_rminor=6356752.3142;var n=t.m_rminor/t.m_rmajor;t.m_eccent=Math.sqrt(1-n*n);t.m_halfEccent=.5*t.m_eccent;t.m_PI_Div_180=Math.PI/180;t.m_PI_Div_2=Math.PI/2;t.m_PI_Div_4=Math.PI/4;t.m_majMultPIDiv180=t.m_PI_Div_180*t.m_rmajor;t.m_tolerance=1e-10;t.m_EllipticalBorder=89.5*t.m_PI_Div_180;t.m_PIx2=2*Math.PI;t.m_yMax=2*Math.PI*t.m_rmajor;t.LonLatToUCS=function(a,n){var r=a[0],_=Math.max(Math.min(a[1],t.m_EllipticalBorder),-t.m_EllipticalBorder);var o=t.m_eccent*Math.sin(_);o=Math.pow((1-o)/(1+o),t.m_halfEccent);var i=.5+r/t.m_PIx2;var m=.5+Math.log(Math.tan(t.m_PI_Div_4-_/2)/o)/t.m_PIx2;n[0]=n[0]*i;n[1]=n[1]*m;return n};t.UCSToLonLat=function(a,t){t[0]=Math.PI*a[0];t[1]=this.CalcPhi(Math.exp(Math.PI*a[1]));return t};t.CalcPhi=function(a){var n=15,r,_,o=t.m_PI_Div_2-2*Math.atan(a);do{_=t.m_eccent*Math.sin(o);r=t.m_PI_Div_2-2*Math.atan(a*Math.pow((1-_)/(1+_),t.m_halfEccent))-o;o+=r}while(Math.abs(r)>t.m_tolerance&&--n);return o};return t}});