//@ui5-bundle sap/fe/core/library-preload.js
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/ActionRuntime",["sap/base/util/merge","sap/fe/core/CommonUtils","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","./controls/AnyElement","./converters/ConverterContext","./converters/objectPage/HeaderAndFooterAction"],function(e,t,n,i,o,a,r,s){"use strict";var l=s.getHiddenExpression;var c=s.getEditButtonEnabled;var u=o.isEntitySet;var d=n.transformRecursively;var p=n.equal;var f=n.constant;var g=n.compileExpression;const v={setActionEnablement:async function(e,n,i,o){const a=[];for(const r in n){let s=[];e.setProperty(r,false);const l=n[r];for(let t=0;t<i.length;t++){const n=i[t];if(n){const t=n.getObject();if(o==="chart"){if(l===null&&!!t[`#${r}`]||n.getObject(l)){e.setProperty(r,true);break}}else if(o==="table"){s=this._setActionEnablementForTable(n,e,r,l,s)}}}if(o==="table"){if(!i.length){e.setProperty(`dynamicActions/${r}`,{bEnabled:false,aApplicable:[],aNotApplicable:[]});a.push(t.setContextsBasedOnOperationAvailable(e,[]))}else if(i.length&&typeof l==="string"){a.push(t.setContextsBasedOnOperationAvailable(e,s))}}}return Promise.all(a)},setActionEnablementAfterPatch:function(e,t,n){const i=n===null||n===void 0?void 0:n.getObject();const o=(i===null||i===void 0?void 0:i.controls)||{};for(const n in o){if(o[n]&&o[n].controlId){const i=e.byId(n);if(i&&i.isA("sap.ui.mdc.Table")){const e=i.getRowBinding();if(e==t){v.setActionEnablement(i.getBindingContext("internal"),JSON.parse(i.data("operationAvailableMap").customData),i.getSelectedContexts(),"table")}}}}},updateEditButtonVisibilityAndEnablement(n){var o;const a=(o=n.getViewData())===null||o===void 0?void 0:o.viewLevel;if(a>1){var s,d,f,v;const o=n.getBindingContext();const a=t.getAppComponent(n);const h=i.getMetaPathForContext(o);const m=i.getRootEntitySetPath(h);const y=o===null||o===void 0?void 0:(s=o.getModel())===null||s===void 0?void 0:(d=s.getMetaModel())===null||d===void 0?void 0:d.getContext(o===null||o===void 0?void 0:o.getPath());const b=r===null||r===void 0?void 0:r.createConverterContextForMacro(m,y,a.getDiagnostics(),e,undefined);const C=b.getEntitySet();const P=b.getEntityType();let E;const T=u(C)&&((f=C.annotations.UI)===null||f===void 0?void 0:(v=f.UpdateHidden)===null||v===void 0?void 0:v.valueOf());if(T!==true){E=i.isUpdateHidden(C,P)}const O=c(b,undefined);const S=i.getDraftRootPath(o);const A=i.getStickyRootPath(o);const I=S||A;const D=n.getBindingContext("internal");if(I){const e=n.getModel().bindContext(I).getBoundContext();if(E!==undefined){const t=g(p(l(b,E),false));this.updateEditModelContext(t,n,e,"rootEditVisible",D)}if(O){this.updateEditModelContext(O,n,e,"rootEditEnabled",D)}}}},updateEditModelContext:function(e,t,n,i,o){if(e){var r,s,l;const c=new a({anyText:e});c.setBindingContext(null);t.addDependent(c);c.getBinding("anyText");const u=(r=c.getModel())===null||r===void 0?void 0:(s=r.bindContext(n.getPath(),n,{$$groupId:"$auto.Heroes"}))===null||s===void 0?void 0:s.getBoundContext();c.setBindingContext(u);c===null||c===void 0?void 0:(l=c.getBinding("anyText"))===null||l===void 0?void 0:l.attachChange(e=>{const t=e.getSource().getExternalValue();o.setProperty(i,t)})}},_setActionEnablementForTable:function(e,n,i,o,a){n.setProperty(`dynamicActions/${i}`,{bEnabled:false,aApplicable:[],aNotApplicable:[]});const r=[],s=[],l=`${n.getPath()}/dynamicActions/${i}/bEnabled`;if(typeof o==="object"&&o!==null&&o!==undefined){if(e){const t=e.getObject();const i=d(o,"PathInModel",function(e){return t?f(t[e.path]):f(false)},true);const a=g(i);if(a==="true"){n.getModel().setProperty(l,true);r.push(e)}else{s.push(e)}}t.setDynamicActionContexts(n,i,r,s)}else{const r=e===null||e===void 0?void 0:e.getObject();if(o===null&&!!r[`#${i}`]){n.getModel().setProperty(l,true)}else if(e!==undefined){a.push(t.requestProperty(e,i,o,l))}}return a}};return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/AppComponent",["sap/base/Log","sap/fe/core/AppStateHandler","sap/fe/core/controllerextensions/routing/RouterProxy","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/ModelHelper","sap/fe/core/library","sap/fe/core/manifestMerger/ChangePageConfiguration","sap/fe/core/support/Diagnostics","sap/ui/core/Core","sap/ui/core/UIComponent","sap/ui/model/json/JSONModel","./controllerextensions/BusyLocker","./converters/MetaModelConverter","./helpers/SemanticDateOperators"],function(e,t,n,i,o,a,r,s,l,c,u,d,p,f){"use strict";var g,v,h;var m=p.deleteModelCacheData;var y=r.cleanPageConfigurationChanges;var b=r.changeConfiguration;var C=i.defineUI5Class;function P(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}function E(e,t){E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return E(e,t)}const T=a.StartupMode;const O={FCL:{VIEWNAME:"sap.fe.core.rootView.Fcl",VIEWNAME_COMPATIBILITY:"sap.fe.templates.RootContainer.view.Fcl",ROUTERCLASS:"sap.f.routing.Router"},NAVCONTAINER:{VIEWNAME:"sap.fe.core.rootView.NavContainer",VIEWNAME_COMPATIBILITY:"sap.fe.templates.RootContainer.view.NavContainer",ROUTERCLASS:"sap.m.routing.Router"}};let S=(g=C("sap.fe.core.AppComponent",{interfaces:["sap.ui.core.IAsyncContentCreation"],config:{fullWidth:true},manifest:{"sap.ui5":{services:{resourceModel:{factoryName:"sap.fe.core.services.ResourceModelService",startup:"waitFor",settings:{bundles:["sap.fe.core.messagebundle"],modelName:"sap.fe.i18n"}},routingService:{factoryName:"sap.fe.core.services.RoutingService",startup:"waitFor"},shellServices:{factoryName:"sap.fe.core.services.ShellServices",startup:"waitFor"},ShellUIService:{factoryName:"sap.ushell.ui5service.ShellUIService"},navigationService:{factoryName:"sap.fe.core.services.NavigationService",startup:"waitFor"},environmentCapabilities:{factoryName:"sap.fe.core.services.EnvironmentService",startup:"waitFor"},sideEffectsService:{factoryName:"sap.fe.core.services.SideEffectsService",startup:"waitFor"},asyncComponentService:{factoryName:"sap.fe.core.services.AsyncComponentService",startup:"waitFor"}},rootView:{viewName:O.NAVCONTAINER.VIEWNAME,type:"XML",async:true,id:"appRootView"},routing:{config:{controlId:"appContent",routerClass:O.NAVCONTAINER.ROUTERCLASS,viewType:"XML",controlAggregation:"pages",async:true,containerOptions:{propagateModel:true}}}}},designtime:"sap/fe/core/designtime/AppComponent.designtime",library:"sap.fe.core"}),g(v=(h=function(i){P(r,i);function r(){var e;for(var t=arguments.length,n=new Array(t),o=0;o<t;o++){n[o]=arguments[o]}e=i.call(this,...n)||this;e.startupMode=T.Normal;return e}var c=r.prototype;c._isFclEnabled=function e(){var t,n;const i=this.getManifestEntry("sap.ui5");return(i===null||i===void 0?void 0:(t=i.routing)===null||t===void 0?void 0:(n=t.config)===null||n===void 0?void 0:n.routerClass)===O.FCL.ROUTERCLASS};c.initializeFeatureToggles=async function e(){return Promise.resolve()};c.changePageConfiguration=function e(t,n,i){b(this.getManifest(),t,n,i,true)};c.getRouterProxy=function e(){return this._oRouterProxy};c.getAppStateHandler=function e(){return this._oAppStateHandler};c.getRootViewController=function e(){return this.getRootControl().getController()};c.getRootContainer=function e(){return this.getRootControl().getContent()[0]};c.getStartupMode=function e(){return this.startupMode};c.setStartupModeCreate=function e(){this.startupMode=T.Create};c.setStartupModeAutoCreate=function e(){this.startupMode=T.AutoCreate};c.setStartupModeDeeplink=function e(){this.startupMode=T.Deeplink};c.init=function l(){var c,d;const p=new u({editMode:a.EditMode.Display,isEditable:false,draftStatus:a.DraftStatus.Clear,busy:false,busyLocal:{},pages:{}});const g=new u({pages:{}});p.setDefaultBindingMode("OneWay");o.enhanceUiJSONModel(p,a);o.enhanceInternalJSONModel(g);this.setModel(p,"ui");this.setModel(g,"internal");this.bInitializeRouting=this.bInitializeRouting!==undefined?this.bInitializeRouting:true;this._oRouterProxy=new n;this._oAppStateHandler=new t(this);this._oDiagnostics=new s;const v=this.getModel();if(v!==null&&v!==void 0&&(c=v.isA)!==null&&c!==void 0&&c.call(v,"sap.ui.model.odata.v4.ODataModel")){this.entityContainer=v.getMetaModel().requestObject("/$EntityContainer/")}else{this.entityContainer=Promise.resolve()}const h=this.getManifest()["sap.ui5"];if(h!==null&&h!==void 0&&(d=h.rootView)!==null&&d!==void 0&&d.viewName){var m,y,b,C,P,E;if(h.rootView.viewName===O.FCL.VIEWNAME_COMPATIBILITY){h.rootView.viewName=O.FCL.VIEWNAME}else if(h.rootView.viewName===O.NAVCONTAINER.VIEWNAME_COMPATIBILITY){h.rootView.viewName=O.NAVCONTAINER.VIEWNAME}if(h.rootView.viewName===O.FCL.VIEWNAME&&((m=h.routing)===null||m===void 0?void 0:(y=m.config)===null||y===void 0?void 0:y.routerClass)===O.FCL.ROUTERCLASS){e.info(`Rootcontainer: "${O.FCL.VIEWNAME}" - Routerclass: "${O.FCL.ROUTERCLASS}"`)}else if(h.rootView.viewName===O.NAVCONTAINER.VIEWNAME&&((b=h.routing)===null||b===void 0?void 0:(C=b.config)===null||C===void 0?void 0:C.routerClass)===O.NAVCONTAINER.ROUTERCLASS){e.info(`Rootcontainer: "${O.NAVCONTAINER.VIEWNAME}" - Routerclass: "${O.NAVCONTAINER.ROUTERCLASS}"`)}else if(((P=h.rootView)===null||P===void 0?void 0:(E=P.viewName)===null||E===void 0?void 0:E.indexOf("sap.fe.core.rootView"))!==-1){var T,S;throw Error(`\nWrong configuration for the couple (rootView/routerClass) in manifest file.\n`+`Current values are :(${h.rootView.viewName}/${((T=h.routing)===null||T===void 0?void 0:(S=T.config)===null||S===void 0?void 0:S.routerClass)||"<missing router class>"})\n`+`Expected values are \n`+`\t - (${O.NAVCONTAINER.VIEWNAME}/${O.NAVCONTAINER.ROUTERCLASS})\n`+`\t - (${O.FCL.VIEWNAME}/${O.FCL.ROUTERCLASS})`)}else{e.info(`Rootcontainer: "${h.rootView.viewName}" - Routerclass: "${O.NAVCONTAINER.ROUTERCLASS}"`)}}f.addSemanticDateOperators();i.prototype.init.call(this);r.instanceMap[this.getId()]=this};c.onServicesStarted=async function t(){await this.initializeFeatureToggles();const n=()=>{this.entityContainer.then(()=>{if(this.getRootViewController().attachRouteMatchers){this.getRootViewController().attachRouteMatchers()}this.getRouter().initialize();this.getRouterProxy().init(this,this._isFclEnabled());return}).catch(e=>{const t=l.getLibraryResourceBundle("sap.fe.core");this.getRootViewController().displayErrorPage(t.getText("C_APP_COMPONENT_SAPFE_APPSTART_TECHNICAL_ISSUES"),{title:t.getText("C_COMMON_SAPFE_ERROR"),description:e.message,FCLLevel:0})})};if(this.bInitializeRouting){return this.getRoutingService().initializeRouting().then(()=>{if(this.getRootViewController()){n()}else{this.getRootControl().attachAfterInit(function(){n()})}return}).catch(function(t){e.error(`cannot cannot initialize routing: ${t.toString()}`)})}};c.exit=function e(){this._oAppStateHandler.destroy();this._oRouterProxy.destroy();delete this._oAppStateHandler;delete this._oRouterProxy;m(this.getMetaModel());this.getModel("ui").destroy();y()};c.getMetaModel=function e(){return this.getModel().getMetaModel()};c.getDiagnostics=function e(){return this._oDiagnostics};c.destroy=function t(n){var o;try{delete r.instanceMap[this.getId()];delete window._routing}catch(t){e.info(t)}const a=this.oModels[undefined];let s;if(a.oRequestor){s=jQuery.extend({},a.oRequestor.mHeaders)}(o=this.getRoutingService())===null||o===void 0?void 0:o.beforeExit();i.prototype.destroy.call(this,n);if(s&&a.oRequestor){a.oRequestor.mHeaders=s}};c.getRoutingService=function e(){return{}};c.getShellServices=function e(){return{}};c.getNavigationService=function e(){return{}};c.getSideEffectsService=function e(){return{}};c.getEnvironmentCapabilities=function e(){return{}};c.getStartupParameters=async function e(){const t=this.getComponentData();return Promise.resolve(t&&t.startupParameters||{})};c.restore=function e(){this.getRootViewController().viewState.onRestore()};c.suspend=function e(){this.getRootViewController().viewState.onSuspend()};c.navigateBasedOnStartupParameter=async function t(n){try{if(!d.isLocked(this.getModel("ui"))){if(!n){n=null}const e=this.getRoutingService();await e._manageDeepLinkStartup(n)}}catch(t){e.error(t);d.unlock(this.getModel("ui"))}};return r}(c),h.instanceMap={},h))||v);return S},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/AppStateHandler",["sap/base/Log","sap/base/util/deepEqual","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/ToES6Promise","sap/fe/navigation/library","sap/ui/base/Object","./controllerextensions/BusyLocker","./helpers/ModelHelper"],function(e,t,n,i,o,a,r,s){"use strict";var l,c;var u=n.defineUI5Class;function d(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}function p(e,t){p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return p(e,t)}const f=o.NavType;let g=(l=u("sap.fe.core.AppStateHandler"),l(c=function(n){d(o,n);function o(t){var i;i=n.call(this)||this;i._mCurrentAppState={};i.oAppComponent=t;i.sId=`${t.getId()}/AppStateHandler`;i.nbSimultaneousCreateRequest=0;i.bNoRouteChange=false;e.info("APPSTATE : Appstate handler initialized");return i}var a=o.prototype;a.getId=function e(){return this.sId};a.createAppState=async function n(){if(!this.oAppComponent.getEnvironmentCapabilities().getCapabilities().AppState||r.isLocked(this)){return}const i=this.oAppComponent.getNavigationService(),o=this.oAppComponent.getRouterProxy(),a=o.getHash(),l=this.oAppComponent.getRootControl().getController(),c=s.isStickySessionSupported(this.oAppComponent.getMetaModel());if(!l.viewState){throw new Error(`viewState controller extension not available for controller: ${l.getMetadata().getName()}`)}const u=await l.viewState.retrieveViewState();const d={appState:u};if(u&&!t(this._mCurrentAppState,u)){this._mCurrentAppState=u;try{this.nbSimultaneousCreateRequest++;const t=await i.storeInnerAppStateAsync(d,true,true);e.info("APPSTATE: Appstate stored");const n=i.replaceInnerAppStateKey(a,t);this.nbSimultaneousCreateRequest--;if(this.nbSimultaneousCreateRequest===0&&n!==a){o.navToHash(n,undefined,undefined,undefined,!c);this.bNoRouteChange=true}e.info("APPSTATE: navToHash")}catch(t){e.error(t)}}return d};a._createNavigationParameters=function e(t,n){return Object.assign({},t,{selectionVariantDefaults:t.oDefaultedSelectionVariant,selectionVariant:t.oSelectionVariant,requiresStandardVariant:!t.bNavSelVarHasDefaultsOnly,navigationType:n})};a._checkIfLastSeenRecord=function e(t){const n=t&&t.getBindingContext("internal");if(n&&n.getProperty("fclColumnClosed")===true){const e=n&&n.getProperty("technicalKeysOfLastSeenRecord");const i=t===null||t===void 0?void 0:t.getBindingContext();const o=i&&i.getPath()||"";const a=i===null||i===void 0?void 0:i.getModel().getMetaModel();const r=a===null||a===void 0?void 0:a.getMetaPath(o);const s=a===null||a===void 0?void 0:a.getObject(`${r}/$Type/$Key`);for(let t=0;t<s.length;t++){const o=i.getObject()[s[t]];if(o!==e[s[t]]){n.setProperty("fclColumnClosed",false);return true}}}return false};a._getAppStateData=function e(t,n){let i="",o=0;if(t&&t.appState){for(o=0;o<Object.keys(t.appState).length;o++){if(Object.keys(t.appState)[o]===n){i=Object.keys(t.appState)[o];break}}}if(t.appState){return{[Object.keys(t.appState)[o]]:t.appState[i]||{}}}};a.applyAppState=async function t(n,o){if(!this.oAppComponent.getEnvironmentCapabilities().getCapabilities().AppState||r.isLocked(this)){return Promise.resolve()}const a=this._checkIfLastSeenRecord(o);if(a===true){return Promise.resolve()}r.lock(this);r.lock(this.oAppComponent.getRootControl());const s=this.oAppComponent.getNavigationService();return i(s.parseNavigation()).catch(function(t){if(!t){t=[]}e.warning("APPSTATE: Parse Navigation failed",t[0]);return[{},t[1],t[2]]}).then(t=>{e.info("APPSTATE: Parse Navigation done");const i=t[0]||{},o=t[2]||f.initial,a=this.oAppComponent.getRootControl().getController();const r=this._getAppStateData(i,n);this._mCurrentAppState=o===f.iAppState?r:undefined;if(!a.viewState){throw new Error(`viewState extension required for controller ${a.getMetadata().getName()}`)}if((!i||Object.keys(i).length===0)&&o==f.iAppState){return{}}return a.viewState.applyViewState(this._mCurrentAppState,this._createNavigationParameters(i,o))}).catch(function(t){e.error("appState could not be applied",t);throw t}).finally(()=>{r.unlock(this);r.unlock(this.oAppComponent.getRootControl())})};a.checkIfRouteChangedByIApp=function e(){return this.bNoRouteChange};a.resetRouteChangedByIApp=function e(){if(this.bNoRouteChange){this.bNoRouteChange=false}};return o}(a))||c);return g},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/BaseController",["sap/fe/core/CommonUtils","sap/fe/core/helpers/ClassSupport","sap/ui/core/mvc/Controller"],function(e,t,n){"use strict";var i,o,a,r;var s=t.publicExtension;var l=t.defineUI5Class;function c(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}function u(e,t){u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return u(e,t)}function d(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}let p=(i=l("sap.fe.core.BaseController"),o=s(),i(a=(r=function(t){c(n,t);function n(){return t.apply(this,arguments)||this}var i=n.prototype;i.getAppComponent=function t(){if(!this._oAppComponent){this._oAppComponent=e.getAppComponent(this.getView())}return this._oAppComponent};i.getModel=function e(t){return this.getView().getModel(t)};i.setModel=function e(t,n){return this.getView().setModel(t,n)};i.getResourceBundle=function e(t){if(!t){t="i18n"}return this.getAppComponent().getModel(t).getResourceBundle()};return n}(n),d(r.prototype,"getAppComponent",[o],Object.getOwnPropertyDescriptor(r.prototype,"getAppComponent"),r.prototype),r))||a);return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/CommonUtils",["sap/base/Log","sap/base/util/array/uniqueSort","sap/base/util/merge","sap/fe/core/converters/ConverterContext","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/SemanticDateOperators","sap/fe/core/helpers/StableIdHelper","sap/fe/core/type/TypeUtil","sap/ui/core/Component","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/Device","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/RangeOperator","sap/ui/model/Filter","./controls/AnyElement","./helpers/MetaModelFunction","./templating/FilterHelper"],function(e,t,n,i,o,a,r,s,l,c,u,d,p,f,g,v,h,m,y,b,C){"use strict";var P={};var E=C.getConditions;var T=g.system;var O=l.generate;var S=a.pathInModel;var A=a.compileExpression;function I(e){if(!e){return undefined}return e.replace(/"/g," ").replace(/\\/g,"\\\\").split(/\s+/).reduce(function(e,t){if(t!==""){e=`${e?`${e} `:""}"${t}"`}return e},undefined)}async function D(e){var t;const n=e.getModel();const i=n.getMetaModel();const a=i.getMetaPath(e.getPath());const r=o.getInvolvedDataModelObjects(i.getContext(a));await e.requestProperty((t=r.targetEntityType.keys[0])===null||t===void 0?void 0:t.name)}function x(e){let t=false;if(e){e.getCurrentContexts().forEach(function(e){if(e&&e.isTransient()){t=true}})}return t}async function M(e,t,n,i){return e.getLinks({semanticObject:n,params:i})}function _(e){const t=[];const n=Object.keys(e);let i;for(let o=0;o<n.length;o++){i={LocalProperty:{$PropertyPath:n[o]},SemanticObjectProperty:e[n[o]]};t.push(i)}return t}function w(e,t,n,i,o){for(let a=0;a<e.length;a++){const r=e[a];const s=r.intent;const l=s.split("-")[1].split("?")[0];if(o&&o.includes(l)){i.push({text:r.text,targetSemObject:s.split("#")[1].split("-")[0],targetAction:l.split("~")[0],targetParams:n})}else if(!o&&t&&t.indexOf(l)===-1){i.push({text:r.text,targetSemObject:s.split("#")[1].split("-")[0],targetAction:l.split("~")[0],targetParams:n})}}}function F(e,t,n,i){if(i&&i.length>0){const o=e.allowedActions||undefined;const a=e.unavailableActions?e.unavailableActions:[];const r=e.mapping?_(e.mapping):[];const s={navigationContexts:t,semanticObjectMapping:r};w(i,a,s,n,o)}}function R(e,t,n,i){if(i.length>0){const o=[e.action];const a=[];const r=[];const s={navigationContexts:t,semanticObjectMapping:r};w(i,a,s,n,o)}}async function N(t,n,i,o,a,r,s){const l=s.getShellServices();const c={};let u="",d="";let p;let f=[];let g=[];let v;async function h(){const e=l.parseShellHash(document.location.hash);u=e.semanticObject;d=e.action;return M(l,i,u,c)}try{if(n){if(o&&o.length>0){for(let e=0;e<o.length;e++){const t=o[e].$PropertyPath;if(!c[t]){c[t]={value:n[t]}}}}else{const e=a.getObject(`${r}/$Type/$Key`);for(const t in e){const i=e[t];if(!c[i]){c[i]={value:n[i]}}}}}const e=k(i).getViewData();const m=[];let y;if(e.additionalSemanticObjects){v=Object.keys(e.additionalSemanticObjects);for(let n=0;n<v.length;n++){y=await Promise.resolve(M(l,i,v[n],c));F(e.additionalSemanticObjects[v[n]],t,m,y)}}const b=[];const C=s.getComponentData();if(C.feEnvironment&&C.feEnvironment.getIntent()){const e=C.feEnvironment.getIntent();y=await Promise.resolve(M(l,i,e.semanticObject,c));R(e,t,b,y)}const P=i.getBindingContext("internal");const E=await h();if(E){if(E.length>0){let n=false;const i={};const o=[];const s=`${r}@`;const l=`${r}/@`;const c=a.getObject(s);p=He.getSemanticObjectAnnotations(c,u);if(!p.bHasEntitySetSO){const e=a.getObject(l);p=He.getSemanticObjectAnnotations(e,u)}g=p.aUnavailableActions;g.push(d);i.navigationContexts=t;i.semanticObjectMapping=p.aMappings;w(E,g,i,o);m.forEach(function(e){var t;let{targetSemObject:i}=e;if(((t=o[0])===null||t===void 0?void 0:t.targetSemObject)===i){n=true}});if(e.additionalSemanticObjects&&o[0]&&e.additionalSemanticObjects[o[0].targetSemObject]&&!!e.additionalSemanticObjects[o[0].targetSemObject].allowedActions){n=true}const v=m.concat(b);f=n?v:v.concat(o);P.setProperty("relatedApps/visibility",f.length>0);P.setProperty("relatedApps/items",f)}else{P.setProperty("relatedApps/visibility",false)}}else{P.setProperty("relatedApps/visibility",false)}}catch(t){e.error("Cannot read links",t)}return f}function $(e,t){const n={bHasEntitySetSO:false,aAllowedActions:[],aUnavailableActions:[],aMappings:[]};let i,o;let a;for(const r in e){if(r.indexOf("com.sap.vocabularies.Common.v1.SemanticObject")>-1&&e[r]===t){n.bHasEntitySetSO=true;i=`@${"com.sap.vocabularies.Common.v1.SemanticObjectMapping"}`;o=`@${"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"}`;if(r.indexOf("#")>-1){a=r.split("#")[1];i=`${i}#${a}`;o=`${o}#${a}`}if(e[i]){n.aMappings=n.aMappings.concat(e[i])}if(e[o]){n.aUnavailableActions=n.aUnavailableActions.concat(e[o])}break}}return n}function V(t,n){const i=t.getModel().getMetaModel();const o=t.getBindingContext();const a=o&&o.getPath()||"";const r=i.getMetaPath(a);const s=`${r}/`+`@com.sap.vocabularies.Common.v1.SemanticKey`;const l=i.getObject(s);const c=o===null||o===void 0?void 0:o.getObject();if(!c&&o){o.requestObject().then(async function(e){return He.updateRelateAppsModel(o,e,t,l,i,r,n)}).catch(function(t){e.error("Cannot update the related app details",t)})}else{return He.updateRelateAppsModel(o,c,t,l,i,r,n)}}function L(e){if(e&&e.isA(["sap.m.Button","sap.m.OverflowToolbarButton"])&&e.getVisible()&&e.getEnabled()){e.firePress()}}function B(e){if(e.isA("sap.fe.core.AppComponent")){return e}const t=u.getOwnerComponentFor(e);if(!t){throw new Error("There should be a sap.fe.core.AppComponent as owner of the control")}else{return B(t)}}function j(e){const t=e.getRootViewController();return t.isFclEnabled()?t.getRightmostView():He.getTargetView(e.getRootContainer().getCurrentPage())}function k(e){if(e&&e.isA("sap.ui.core.ComponentContainer")){const t=e.getComponentInstance();e=t&&t.getRootControl()}while(e&&!e.isA("sap.ui.core.mvc.View")){e=e.getParent()}return e}function U(e,t){for(const n in t){if(t[n]!==e[n]){return false}}return true}function H(e,t,n){const i=e.getObject(`${t}/`)||{},o={};for(const e in i){if(i.hasOwnProperty(e)&&!/^\$/i.test(e)&&i[e].$kind&&U(i[e],n||{$kind:"Property"})){o[e]=i[e]}}return o}function G(e,t){let n=[];if(e&&t){n=e.getObject(`${t}@Org.OData.Capabilities.V1.FilterRestrictions/RequiredProperties`)}return n}function z(e,t){const n=e&&e.getActions();if(n){n.forEach(function(e){if(e.isA("sap.ui.mdc.actiontoolbar.ActionToolbarAction")){e=e.getAction()}if(e.isA("sap.m.MenuButton")){const n=e.getMenu();const i=n.getItems();i.forEach(e=>{if(e.data("IBNData")){t.push(e)}})}else if(e.data("IBNData")){t.push(e)}})}return t}function W(t,n){const i={};const o=He.getAppComponent(n);const a=r.isStickySessionSupported(n.getModel().getMetaModel());const s=function(n){if(n){const e=Object.keys(n);e.forEach(function(e){if(e.indexOf("_")!==0&&e.indexOf("odata.context")===-1){i[e]={value:n[e]}}})}if(t.length){t.forEach(function(t){const n=t.data("IBNData").semanticObject;const r=t.data("IBNData").action;o.getShellServices().getLinks({semanticObject:n,action:r,params:i}).then(function(e){t.setVisible(t.getVisible()&&e&&e.length===1);if(a){t.getBindingContext("internal").setProperty(t.getId().split("--")[1],{shellNavigationNotAvailable:!(e&&e.length===1)})}return}).catch(function(t){e.error("Cannot retrieve the links from the shell service",t)})})}};if(n&&n.getBindingContext()){var l;(l=n.getBindingContext())===null||l===void 0?void 0:l.requestObject().then(function(e){return s(e)}).catch(function(t){e.error("Cannot retrieve the links from the shell service",t)})}else{s()}}function q(e,t,n,i){const o=!n?e.getObject(e.getPath()).toString():n;let a=e.getPath().split("/@")[0];const r=e.getObject(a).$Type;const s=K(e.getModel(),r);if(s){a=`/${s}`}if(i){return e.getObject(`${a}/${o}@Org.OData.Core.V1.OperationAvailable`)}if(t){return`${a}/${o}`}else{return{sContextPath:a,sProperty:e.getObject(`${a}/${o}@Org.OData.Core.V1.OperationAvailable/$Path`),sBindingParameter:e.getObject(`${a}/${o}/@$ui5.overload/0/$Parameter/0/$Name`)}}}function K(e,t){const n=e.getObject("/");for(const e in n){if(typeof n[e]==="object"&&n[e].$Type===t){return e}}}function Q(e,t){const n=e["@com.sap.vocabularies.Common.v1.Text"],i=n&&(e&&e["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"]||t&&t["@com.sap.vocabularies.UI.v1.TextArrangement"]);if(i){if(i.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"){return"Description"}else if(i.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextLast"){return"ValueDescription"}else if(i.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate"){return"Value"}return"DescriptionValue"}return n?"DescriptionValue":"Value"}function Y(e){const t=e.getModel().getMetaModel();return t.getObject(`${t.getMetaPath(e.getPath())}/$Type`)}async function J(t,n,i){let o=n;const a=t.indexOf("(");if(a>-1){const n=t.slice(a+1,-1);let i=Y(o);while(i!==n){o=o.getBinding().getContext();if(o){i=Y(o)}else{e.warning("Cannot determine target type to request property value for bound action invocation");return Promise.resolve(undefined)}}}return o.requestObject(i)}async function X(e,t,n,i){const o=n&&n.indexOf("/")===0?Ne(n,e.getModel()):J(t,e,n);return o.then(function(n){return{vPropertyValue:n,oSelectedContext:e,sAction:t,sDynamicActionEnabledPath:i}})}async function Z(t,n){return Promise.all(n).then(function(e){if(e.length){const n=[],i=[];e.forEach(function(e){if(e){if(e.vPropertyValue){t.getModel().setProperty(e.sDynamicActionEnabledPath,true);n.push(e.oSelectedContext)}else{i.push(e.oSelectedContext)}}});ee(t,e[0].sAction,n,i)}return}).catch(function(t){e.trace("Cannot retrieve property value from path",t)})}function ee(e,t,n,i){const o=`${e.getPath()}/dynamicActions/${t}`,a=e.getModel();a.setProperty(`${o}/aApplicable`,n);a.setProperty(`${o}/aNotApplicable`,i)}function te(e){const t=c.getDataTypeClassName(e);const n=c.getBaseType(t,{},{});return v.getOperatorsForType(n)}function ne(e,t){return e.filter(function(e){return t.indexOf(e)>-1})}function ie(e){const t=He.AllowedExpressionsPrio;e.sort(function(e,n){return t.indexOf(e)-t.indexOf(n)});return e[0]}function oe(e,t,n,i,o,a){const r=He.getFilterRestrictionsByPath(t,n);const l=["EQ"];const c=["EQ","GE","LE","LT","GT","BT","NOTLE","NOTLT","NOTGE","NOTGT"];const u=["EQ","BT"];const d=["TODAY","TOMORROW","YESTERDAY","DATE","FIRSTDAYWEEK","LASTDAYWEEK","FIRSTDAYMONTH","LASTDAYMONTH","FIRSTDAYQUARTER","LASTDAYQUARTER","FIRSTDAYYEAR","LASTDAYYEAR"];const p=["EQ","GE","LE","LT","GT","BT","NE","NOTBT","NOTLE","NOTLT","NOTGE","NOTGT"];const f=["Contains","NotContains","StartsWith","NotStartsWith","EndsWith","NotEndsWith"];const g=s.getSupportedOperations();const v=o==="true"||o===true;let h=[];const m=a&&typeof a==="string"?JSON.parse(a).customData:a;if(n.getObject(`${t}/@com.sap.vocabularies.Common.v1.ResultContext`)===true){return l}if(m&&m.operatorConfiguration&&m.operatorConfiguration.length>0){h=s.getFilterOperations(m.operatorConfiguration,i)}else{h=s.getSemanticDateOperations(i)}let y=te(i);if(v){y=g.concat(y)}let b=[];if(r&&r.FilterAllowedExpressions&&r.FilterAllowedExpressions[e]){const t=He.getSpecificAllowedExpression(r.FilterAllowedExpressions[e]);switch(t){case"SingleValue":const e=i==="Edm.Date"&&v?d:l;b=ne(y,e);break;case"MultiValue":b=ne(y,l);break;case"SingleRange":let t;if(v){if(i==="Edm.Date"){t=h}else if(i==="Edm.DateTimeOffset"){t=h}else{t=c}}else if(i==="Edm.DateTimeOffset"){t=u}else{t=c}const n=ne(y,t);b=n;break;case"MultiRange":b=ne(y,p);break;case"SearchExpression":b=ne(y,f);break;case"MultiRangeOrSearchExpression":b=ne(y,f.concat(p));break;default:break}}return b}P.getOperatorsForProperty=oe;function ae(){const e=["EQ","NE"];return e.toString()}function re(e){const t=te(e);const n=["EQ","GE","LE","LT","GT","BT","NE","NOTBT","NOTLE","NOTLT","NOTGE","NOTGT"];return ne(t,n)}function se(e,t){const n=t.substring(0,t.lastIndexOf("/"));const i=e.getObject(`${n}/@com.sap.vocabularies.Common.v1.ResultContext`);const o={};if(i&&n!==t){o.contextPath=n;o.parameterProperties=He.getContextPathProperties(e,n)}return o}function le(e,t,n,i,o){var a;const r=E(o,e);if(o!==null&&o!==void 0&&o.SemanticDates&&n&&n.indexOf(o===null||o===void 0?void 0:(a=o.SemanticDates)===null||a===void 0?void 0:a.operator)>-1){const e=He.addSemanticDatesToConditions(o===null||o===void 0?void 0:o.SemanticDates);if(e&&Object.keys(e).length>0){i.push(e)}}else if(r){if(t.length===0||t.indexOf(r.operator)>-1){i.push(r)}}return i}function ce(e){const t=[];if(e!==null&&e!==void 0&&e.high){t.push(e===null||e===void 0?void 0:e.high)}if(e!==null&&e!==void 0&&e.low){t.push(e===null||e===void 0?void 0:e.low)}return{values:t,operator:e===null||e===void 0?void 0:e.operator,isEmpty:undefined}}function ue(e,t,n,i,o,a,r,s,l,c,u,d){let p=[],f,g,v=[];if(l||b.isPropertyFilterable(s,e,a,true)){const h=r[a];f=t.getSelectOption(n);const m=pe(d,a);g=l?["EQ"]:He.getOperatorsForProperty(a,e,s);if(u){v=l?["EQ"]:He.getOperatorsForProperty(a,e,s,h===null||h===void 0?void 0:h.$Type,u,m)}p=l?He.addSelectOptionToConditions(h,g,v,p,f[0]):f.reduce(He.addSelectOptionToConditions.bind(null,h,g,v),p);if(p.length){if(o){i[o+a]=i.hasOwnProperty(o+a)?i[o+a].concat(p):p}else if(c){p.forEach(e=>{e["filtered"]=true});if(i.hasOwnProperty(a)){i[a].forEach(e=>{e["filtered"]=false});i[a]=i[a].concat(p)}else{i[a]=p}}else{i[a]=i.hasOwnProperty(a)?i[a].concat(p):p}}}}function de(e){var t,n;return{high:(e===null||e===void 0?void 0:(t=e.values)===null||t===void 0?void 0:t[0])||null,low:(e===null||e===void 0?void 0:(n=e.values)===null||n===void 0?void 0:n[1])||null,operator:e===null||e===void 0?void 0:e.operator}}function pe(){var e,t;let n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let i=arguments.length>1?arguments[1]:undefined;const o=n===null||n===void 0?void 0:n.controlConfiguration;const a=o&&((e=o["@com.sap.vocabularies.UI.v1.SelectionFields"])===null||e===void 0?void 0:e.filterFields);return a!==null&&a!==void 0&&a[i]?(t=a[i])===null||t===void 0?void 0:t.settings:undefined}function fe(e,t,n,i,o,a,r){const s=e.getSelectOptionsPropertyNames(),l=He.getContextPathProperties(n,i),c=Object.keys(l),u=He.getParameterInfo(n,i),d=u.contextPath,p=u.parameterProperties;if(d!==undefined&&p&&Object.keys(p).length>0){const i=Object.keys(p);i.forEach(function(i){let l;if(s.includes(`$Parameter.${i}`)){l=`$Parameter.${i}`}else if(s.includes(i)){l=i}else if(i.startsWith("P_")&&s.includes(`$Parameter.${i.slice(2,i.length)}`)){l=`$Parameter.${i.slice(2,i.length)}`}else if(i.startsWith("P_")&&s.includes(i.slice(2,i.length))){l=i.slice(2,i.length)}else if(s.includes(`$Parameter.P_${i}`)){l=`$Parameter.P_${i}`}else if(s.includes(`P_${i}`)){l=`P_${i}`}if(l){ue(d,e,l,t,undefined,i,p,n,true,o,a,r)}})}c.forEach(function(c){let u;if(s.includes(c)){u=c}else if(c.startsWith("P_")&&s.includes(c.slice(2,c.length))){u=c.slice(2,c.length)}else if(s.includes(`P_${c}`)){u=`P_${c}`}if(u){ue(i,e,u,t,undefined,c,l,n,false,o,a,r)}});s.forEach(function(s){if(s.indexOf(".")>0&&!s.includes("$Parameter")){const l=s.replaceAll(".","/");const c=`/${l}`.startsWith(i)?`/${l}`:`${i}/${l}`;if(n.getObject(c.replace("P_",""))){ge(c,i,e,s,n,t,o,a,r)}}});return t}function ge(e,t,n,i,o,a,r,s,l){let c=i.split(".");if(`/${i.replaceAll(".","/")}`.startsWith(t)){const e=`/${i}`.replaceAll(".","/"),n=e.replace(`${t}/`,"");c=n.split("/")}let u="";const d=c[c.length-1];for(let e=0;e<c.length-1;e++){if(o.getObject(`${t}/${c[e].replace("P_","")}`).$isCollection){u=`${u+c[e]}*/`}else{u=`${u+c[e]}/`}t=`${t}/${c[e]}`}const p=e.slice(0,e.lastIndexOf("/")),f=He.getContextPathProperties(o,p),g=n.getSelectOptionsPropertyNames();let v=d;if(f[d]){v=d}else if(d.startsWith("P_")&&f[d.replace("P_","")]){v=d.replace("P_","")}else if(f[`P_${d}`]&&g.includes(`P_${d}`)){v=`P_${d}`}if(d.startsWith("P_")&&a[u+v]){}else if(!d.startsWith("P_")&&a[u+v]){delete a[u+v];ue(p,n,i,a,u,v,f,o,false,r,s,l)}else{ue(p,n,i,a,u,v,f,o,false,r,s,l)}}function ve(e,t,n){const i=He.getAppComponent(n);const o=i.getNavigationService();return o.mixAttributesAndSelectionVariant(t,e.toJSONString())}function he(t,n,i,o){let a;const r=function(t,n,i){const o={option:"",sign:"I",low:n,high:i};switch(t){case"Contains":o.option="CP";break;case"StartsWith":o.option="CP";o.low+="*";break;case"EndsWith":o.option="CP";o.low=`*${o.low}`;break;case"BT":case"LE":case"LT":case"GT":case"NE":case"EQ":o.option=t;break;case"DATE":o.option="EQ";break;case"DATERANGE":o.option="BT";break;case"FROM":o.option="GE";break;case"TO":o.option="LE";break;case"EEQ":o.option="EQ";break;case"Empty":o.option="EQ";o.low="";break;case"NotContains":o.option="CP";o.sign="E";break;case"NOTBT":o.option="BT";o.sign="E";break;case"NotStartsWith":o.option="CP";o.low+="*";o.sign="E";break;case"NotEndsWith":o.option="CP";o.low=`*${o.low}`;o.sign="E";break;case"NotEmpty":o.option="NE";o.low="";break;case"NOTLE":o.option="LE";o.sign="E";break;case"NOTGE":o.option="GE";o.sign="E";break;case"NOTLT":o.option="LT";o.sign="E";break;case"NOTGT":o.option="GT";o.sign="E";break;default:e.warning(`${t} is not supported. ${a} could not be added to the navigation context`)}return o};const l=n.filterConditions;const c=n.filterConditionsWithoutConflict?n.filterConditionsWithoutConflict:{};const u=i.propertiesWithoutConflict?i.propertiesWithoutConflict:{};const d=function(e,t,n){const i=l[t];const a=o&&o.getPropertyHelper().getProperty(t);const c=a===null||a===void 0?void 0:a.typeConfig;const u=o&&o.getControlDelegate().getTypeUtil();for(const o in i){const a=i[o];let l="",p="I",f="",g=null,m;const y=v.getOperator(a.operator);if(y instanceof h){var d;m=He.createSemanticDatesFromConditions(a);const e=y.getModelFilter(a,t,c===null||c===void 0?void 0:c.typeInstance,false,c===null||c===void 0?void 0:c.baseType);if(!(e!==null&&e!==void 0&&e.getFilters())&&!(e!==null&&e!==void 0&&(d=e.getFilters())!==null&&d!==void 0&&d.length)){p=y.exclude?"E":"I";f=u.externalizeValue(e.getValue1(),c.typeInstance);g=u.externalizeValue(e.getValue2(),c.typeInstance);l=e.getOperator()}}else{const e=s.getSupportedOperations();if(e.includes(a===null||a===void 0?void 0:a.operator)){m=He.createSemanticDatesFromConditions(a)}const t=a.values[0]&&a.values[0].toString()||"";const n=a.values[1]&&a.values[1].toString()||null;const i=r(a.operator,t,n);p=y!==null&&y!==void 0&&y.exclude?"E":"I";f=i===null||i===void 0?void 0:i.low;g=i===null||i===void 0?void 0:i.high;l=i===null||i===void 0?void 0:i.option}if(l&&m){e.addSelectOption(n?n:t,p,l,f,g,undefined,m)}else if(l){e.addSelectOption(n?n:t,p,l,f,g)}}};for(a in l){if(!t.getSelectOption(a)){if(a==="$editState"){continue}d(t,a)}else{if(u&&a in u){d(t,a,u[a])}if(a in c){d(t,a,c[a])}}}return t}function me(e){const t=r.isStickySessionSupported(e.getModel().getMetaModel());const n=e.getModel("ui").getProperty("/isEditable");return t&&n}function ye(e,t,n){if(t&&e&&e.length){for(let i=0;i<e.length;i++){const o=t.getSelectOption("DisplayCurrency"),a=n&&n.getSelectOption("DisplayCurrency");if(e[i].$PropertyPath==="DisplayCurrency"&&(!o||!o.length)&&a&&a.length){const e=a[0];const n=e["Sign"];const i=e["Option"];const o=e["Low"];const r=e["High"];t.addSelectOption("DisplayCurrency",n,i,o,r)}}}}async function be(e,t,n,i,o,a){const r=e.getComponentData(),s=r&&r.startupParameters||{},l=e.getShellServices();const c=await l.getStartupAppState(e);const u=(c===null||c===void 0?void 0:c.getData())||{},d=u.selectionVariant&&u.selectionVariant.SelectOptions||[];t.forEach(function(e){var t;const r=i?`/${e.$Name}`:(t=e.getPath)===null||t===void 0?void 0:t.call(e).slice(e.getPath().lastIndexOf("/")+1);const l=i?r.slice(1):r;if(a&&o){if(a[l]){n.setProperty(r,a[l])}}else if(s[l]){n.setProperty(r,s[l][0])}else if(d.length>0){for(const e of d){if(e.PropertyName===l){const t=e.Ranges.length?e.Ranges[e.Ranges.length-1]:undefined;if(t&&t.Sign==="I"&&t.Option==="EQ"){n.setProperty(r,t.Low)}}}}})}function Ce(e,t){const n=t,i=n!==undefined?Object.keys(n).filter(function(e){return n[e].useForCreate}):[];let o;for(let t=0;t<i.length;t++){const n=i[t];const a=e&&e[n];if(a&&a.length===1){o=o||Object.create(null);o[n]=a[0]}}return o}function Pe(e){const t=[];if(e.parameters){const n=Object.keys(e.parameters)||[];if(n.length>0){n.forEach(function(n){const i=e.parameters[n];if(i.value&&i.value.value&&i.value.format==="binding"){const e={LocalProperty:{$PropertyPath:i.value.value},SemanticObjectProperty:n};if(t.length>0){for(let n=0;n<t.length;n++){var o;if(((o=t[n].LocalProperty)===null||o===void 0?void 0:o.$PropertyPath)!==e.LocalProperty.$PropertyPath){t.push(e)}}}else{t.push(e)}}})}}return t}function Ee(t,n){const i={};let o;const a=t.controlConfiguration;for(const t in a){if(t.indexOf("@com.sap.vocabularies.UI.v1.DataPoint")>-1||t.indexOf("@com.sap.vocabularies.UI.v1.Chart")>-1){var r,s;const l=(r=a[t].navigation)===null||r===void 0?void 0:(s=r.targetOutbound)===null||s===void 0?void 0:s.outbound;if(l!==undefined){const a=n[l];if(a.semanticObject&&a.action){if(t.indexOf("Chart")>-1){o=O(["fe","MicroChartLink",t])}else{o=O(["fe","HeaderDPLink",t])}const e=He.getSemanticObjectMapping(a);i[o]={semanticObject:a.semanticObject,action:a.action,semanticObjectMapping:e}}else{e.error(`Cross navigation outbound is configured without semantic object and action for ${l}`)}}}}return i}function Te(e,t){const n=typeof t==="string"?JSON.parse(t):t;for(let t=0;t<n.length;t++){const i=n[t]["LocalProperty"]&&n[t]["LocalProperty"]["$PropertyPath"]||n[t]["@com.sap.vocabularies.Common.v1.LocalProperty"]&&n[t]["@com.sap.vocabularies.Common.v1.LocalProperty"]["$Path"];const o=n[t]["SemanticObjectProperty"]||n[t]["@com.sap.vocabularies.Common.v1.SemanticObjectProperty"];const a=e.getSelectOption(i);if(a){e.removeSelectOption(i);e.massAddSelectOption(o,a)}}return e}async function Oe(e,t,n){return new Promise(function(i){let o,a;if(n===""){o=e.getObject(`${t}@${"com.sap.vocabularies.Common.v1.SemanticObject"}`);a=e.getObject(`${t}@${"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"}`)}else{o=e.getObject(`${t}@${"com.sap.vocabularies.Common.v1.SemanticObject"}#${n}`);a=e.getObject(`${t}@${"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"}#${n}`)}const r=[{semanticObject:o}];const s={semanticObject:o};i({semanticObjectPath:t,semanticObjectForGetLinks:r,semanticObject:s,unavailableActions:a})})}async function Se(t,i,o,a){return Promise.all(t).then(function(e){let t,r,s,l=[];let c={};const u=function(e,t){for(const n in t){if(n===e){return true}else{return false}}};for(let n=0;n<e.length;n++){t=e[n];if(t&&t.length>0&&t[0]!==undefined){const e={};let o;let d;for(let c=0;c<t.length;c++){l.push([]);let p=false;let f=false;for(let e=0;e<t[c][0].length;e++){r=t[c][0][e];s=r&&r.intent.split("?")[0].split("-")[1];if(!(r&&r.intent&&r.intent.indexOf(a)===0)){p=true;if(!u(s,i[n].unavailableActions)){l[c].push(r);f=true}}}o={semanticObject:i[n].semanticObject,path:i[n].path,HasTargets:f,HasTargetsNotFiltered:p};if(e[i[n].semanticObject]===undefined){e[i[n].semanticObject]={}}d=i[n].path.replace(/\//g,"_");if(e[i[n].semanticObject][d]===undefined){e[i[n].semanticObject][d]={}}e[i[n].semanticObject][d]=Object.assign(e[i[n].semanticObject][d],o)}const p=Object.keys(e)[0];if(Object.keys(c).includes(p)){c[p]=Object.assign(c[p],e[p])}else{c=Object.assign(c,e)}l=[]}}if(Object.keys(c).length>0){o.setProperty("semanticsTargets",n(c,o.getProperty("semanticsTargets")));return c}return}).catch(function(t){e.error("fnUpdateSemanticTargetsModel: Cannot read links",t)})}async function Ae(e,t,n,i,o){return He.getSemanticObjectsFromPath(n,i,o)}function Ie(e,t,n,i,o){let a,r;let s,l;for(let c=0;c<i.length;c++){r=i[c];a=Object.keys(n.getObject(r+"@"));for(let i=0;i<a.length;i++){if(a[i].indexOf(`@${"com.sap.vocabularies.Common.v1.SemanticObject"}`)===0&&a[i].indexOf(`@${"com.sap.vocabularies.Common.v1.SemanticObjectMapping"}`)===-1&&a[i].indexOf(`@${"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"}`)===-1){l=/#(.*)/.exec(a[i]);s=l?l[1]:"";o.push(He.getSemanticObjectPromise(e,t,n,r,s))}}}}function De(t,n){const i=function(e,t,n){if(!e){return n}if(e instanceof Array){e.forEach(e=>{n=n.concat(i(e,t,[]))});return n}if(e[t]){n.push(e[t])}if(typeof e=="object"&&e!==null){const o=Object.keys(e);if(o.length>0){for(let a=0;a<o.length;a++){n=n.concat(i(e[o[a]],t,[]))}}}return n};const o=function(e,t){return i(e,t,[])};const a=function(e){return e.filter(function(t,n){return e.indexOf(t)===n})};const r=t.getView();const s=r.getBindingContext("internal");if(s){const i=[];const l=t.getOwnerComponent();const c=u.getOwnerComponentFor(l);const d=c.getMetaModel();let p=l.getModel(n).getData();if(JSON.stringify(p)==="{}"){p=l.getModel(n)._getObject("/",undefined)}let f=o(p,"semanticObjectPath");f=a(f);const g=c.getShellServices();let v=g.getHash();const h=[];const m=[];let y;if(v&&v.indexOf("?")!==-1){v=v.split("?")[0]}Ie(c,r,d,f,i);if(i.length===0){return Promise.resolve()}else{Promise.all(i).then(async function(e){const t=[];let n;const i=e.filter(function(e){if(e.semanticObject!==undefined&&e.semanticObject.semanticObject&&typeof e.semanticObject.semanticObject==="object"){n=A(S(e.semanticObject.semanticObject.$Path));e.semanticObject.semanticObject=n;e.semanticObjectForGetLinks[0].semanticObject=n;return true}else if(e){return e.semanticObject!==undefined}else{return false}});for(let e=0;e<i.length;e++){y=i[e];if(y&&y.semanticObject&&!(y.semanticObject.semanticObject.indexOf("{")===0)){h.push(y.semanticObjectForGetLinks);m.push({semanticObject:y.semanticObject.semanticObject,unavailableActions:y.unavailableActions,path:i[e].semanticObjectPath});t.push(g.getLinksWithCache([y.semanticObjectForGetLinks]))}}return He.updateSemanticTargets(t,m,s,v)}).catch(function(t){e.error("fnGetSemanticTargetsFromTable: Cannot get Semantic Objects",t)})}}else{return Promise.resolve()}}function xe(e){const t={};if(e&&e.FilterExpressionRestrictions!==undefined){e.FilterExpressionRestrictions.forEach(function(e){if(e.Property&&e.AllowedExpressions!==undefined){if(t[e.Property.$PropertyPath]!==undefined){t[e.Property.$PropertyPath].push(e.AllowedExpressions)}else{t[e.Property.$PropertyPath]=[e.AllowedExpressions]}}})}return t}function Me(e,t){let n=[];if(e&&e[t]){n=e[t].map(function(e){return e.$PropertyPath})}return n}function _e(e,t,n){const i=t+"/";return e.reduce((e,t)=>{if(t.startsWith(i)){const n=t.replace(i,"");if(e.indexOf(n)===-1){e.push(n)}}return e},n)}function we(e,i){const o={RequiredProperties:[],NonFilterableProperties:[],FilterAllowedExpressions:{}};let a;const s="$NavigationPropertyBinding";const l="@Org.OData.Capabilities.V1.FilterRestrictions";const c=e.replaceAll("%2F","/").split("/").filter(r.filterOutNavPropBinding);const u=`/${c.join("/")}/`;const d=r.getEntitySetPath(e,i);const p=d.split("/").filter(r.filterOutNavPropBinding);const f=i.getObject(`${u}$ContainsTarget`);const g=!!f&&c[c.length-1];if(!f){a=i.getObject(`${d}${l}`);o.RequiredProperties=Me(a,"RequiredProperties")||[];const e=i.getObject(`${u}@com.sap.vocabularies.Common.v1.ResultContext`);if(!e){o.NonFilterableProperties=Me(a,"NonFilterableProperties")||[]}o.FilterAllowedExpressions=xe(a)||{}}if(c.length>1){const e=f?g:p[p.length-1];const a=f?d:`/${p.slice(0,-1).join(`/${s}/`)}`;const r={RequiredProperties:[],NonFilterableProperties:[],FilterAllowedExpressions:{}};if(!e.includes("%2F")){const t=i.getObject(`${a}${l}`);o.RequiredProperties=_e(Me(t,"RequiredProperties")||[],e,o.RequiredProperties||[]);o.NonFilterableProperties=_e(Me(t,"NonFilterableProperties")||[],e,o.NonFilterableProperties||[]);const n=xe(t)||{};r.FilterAllowedExpressions=Object.keys(n).reduce((t,i)=>{if(i.startsWith(e+"/")){const o=i.replace(e+"/","");t[o]=n[i]}return t},{})}o.FilterAllowedExpressions=n({},o.FilterAllowedExpressions||{},r.FilterAllowedExpressions||{});const u=b.getNavigationRestrictions(i,a,e.replaceAll("%2F","/"));const v=u&&u["FilterRestrictions"];const h=Me(v,"RequiredProperties")||[];o.RequiredProperties=t(o.RequiredProperties.concat(h));const m=Me(v,"NonFilterableProperties")||[];o.NonFilterableProperties=t(o.NonFilterableProperties.concat(m));o.FilterAllowedExpressions=n({},o.FilterAllowedExpressions||{},xe(v)||{});const y=i.getObject(`/${c.join("/")}${l}`);const C=Me(y,"RequiredProperties")||[];o.RequiredProperties=t(o.RequiredProperties.concat(C));const P=Me(y,"NonFilterableProperties")||[];o.NonFilterableProperties=t(o.NonFilterableProperties.concat(P));o.FilterAllowedExpressions=n({},o.FilterAllowedExpressions,xe(y)||{})}return o}async function Fe(e,t,n,i){n=n||{};if(i){return i.templateControlFragment(e,t,n.view).then(function(e){return i.targets==="xmlTree"&&e.length>0?e[0]:e})}else{const i=await p.process(f.loadTemplate(e,"fragment"),{name:e},t);const o=i.firstElementChild;if(!!n.isXML&&o){return o}return d.load({id:n.id,definition:i,controller:n.controller})}}function Re(e,t){const n=e.split("/").filter(Boolean),i=n.pop(),o=n.join("/"),a=o&&t.getObject(`/${o}`);if((a===null||a===void 0?void 0:a.$kind)==="Singleton"){const e=n[n.length-1];return`/${e}/${i}`}return undefined}async function Ne(e,t){if(!e||!t){return Promise.resolve(null)}const n=t.getMetaModel();const i=Re(e,n);if(i){const e=t.bindProperty(i);return e.requestValue()}return Promise.resolve(null)}function $e(e,t){let n;if(e.indexOf("@$ui5.overload")>-1){n=e.split("@$ui5.overload")[0]}else{const t=e.split("/0")[0].split(".");n=`/${t[t.length-1]}/`}return n+t}function Ve(e,t){const n=new y({anyText:e});t.addDependent(n);const i=n.getAnyText();t.removeDependent(n);n.destroy();return i}function Le(){return!T.desktop||g.resize.width<=320}function Be(e,t,n){const i=e.data("entityType"),o=He.getAppComponent(e).getMetaModel(),a={},r=[],s=[];let l="";let c=o.getObject(`${i}${t}`);if(n){c=c.SelectionVariant}if(c){l=c.Text;(c.SelectOptions||[]).filter(function(e){return e&&e.PropertyName&&e.PropertyName.$PropertyPath}).forEach(function(e){const t=e.PropertyName.$PropertyPath;if(!s.includes(t)){s.push(t)}for(const o in e.Ranges){var n,i;const r=e.Ranges[o];a[t]=(a[t]||[]).concat(new m(t,(n=r.Option)===null||n===void 0?void 0:(i=n.$EnumMember)===null||i===void 0?void 0:i.split("/").pop(),r.Low,r.High))}});for(const e in a){r.push(new m({filters:a[e],and:false}))}}return{properties:s,filters:r,text:l}}function je(e,t,o,a){const r=t.createBindingContext(e);return i===null||i===void 0?void 0:i.createConverterContextForMacro(o,r||t,a,n,undefined)}function ke(e,t){return e.replace("_fe_"+t+"_","")}function Ue(e){e.forEach(e=>{if(e.sPath&&e.sPath.includes("fe_groupable")){e.sPath=He.getInternalChartNameFromPropertyNameAndKind(e.sPath,"groupable")}});return e}const He={fireButtonPress:L,getTargetView:k,getCurrentPageView:j,hasTransientContext:x,updateRelatedAppsDetails:V,getAppComponent:B,getMandatoryFilterFields:G,getContextPathProperties:H,getParameterInfo:se,updateDataFieldForIBNButtonsVisibility:W,getEntitySetName:K,getActionPath:q,computeDisplayMode:Q,isStickyEditMode:me,getOperatorsForProperty:oe,getOperatorsForDateProperty:re,getOperatorsForGuidProperty:ae,addSelectionVariantToConditions:fe,addExternalStateFiltersToSelectionVariant:he,addPageContextToSelectionVariant:ve,addDefaultDisplayCurrency:ye,setUserDefaults:be,getIBNActions:z,getHeaderFacetItemConfigForExternalNavigation:Ee,getSemanticObjectMapping:Pe,setSemanticObjectMappings:Te,getSemanticObjectPromise:Ae,getSemanticTargetsFromPageModel:De,getSemanticObjectsFromPath:Oe,updateSemanticTargets:Se,waitForContextRequested:D,getFilterRestrictionsByPath:we,getSpecificAllowedExpression:ie,getAdditionalParamsForCreate:Ce,requestSingletonProperty:Ne,templateControlFragment:Fe,FilterRestrictions:{REQUIRED_PROPERTIES:"RequiredProperties",NON_FILTERABLE_PROPERTIES:"NonFilterableProperties",ALLOWED_EXPRESSIONS:"FilterAllowedExpressions"},AllowedExpressionsPrio:["SingleValue","MultiValue","SingleRange","MultiRange","SearchExpression","MultiRangeOrSearchExpression"],normalizeSearchTerm:I,setContextsBasedOnOperationAvailable:Z,setDynamicActionContexts:ee,requestProperty:X,getParameterPath:$e,getRelatedAppsMenuItems:w,getTranslatedTextFromExpBindingString:Ve,addSemanticDatesToConditions:ce,addSelectOptionToConditions:le,createSemanticDatesFromConditions:de,updateRelateAppsModel:N,getSemanticObjectAnnotations:$,getFiltersInfoForSV:Be,getInternalChartNameFromPropertyNameAndKind:ke,getChartPropertiesWithoutPrefixes:Ue,isSmallDevice:Le,getConverterContextForPath:je};return He},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/ExtensionAPI",["sap/base/Log","sap/fe/core/CommonUtils","sap/ui/base/Object","sap/ui/core/Component","sap/ui/model/json/JSONModel","./helpers/ClassSupport"],function(e,t,n,i,o,a){"use strict";var r,s,l,c,u,d,p,f,g;var v=a.property;var h=a.defineUI5Class;function m(e,t,n,i){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function b(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}function C(e,t){C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return C(e,t)}function P(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function E(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let T=(r=h("sap.fe.core.ExtensionAPI"),s=v({type:"sap/fe/core/controllerextensions/EditFlow"}),l=v({type:"sap/fe/core/controllerextensions/Routing"}),c=v({type:"sap/fe/core/controllerextensions/IntentBasedNavigation"}),r(u=(d=function(n){b(a,n);function a(e,t){var i;i=n.call(this)||this;m(i,"editFlow",p,y(i));m(i,"routing",f,y(i));m(i,"intentBasedNavigation",g,y(i));i._controller=e;i._view=e.getView();i.extension=i._controller.extension;i.editFlow=i._controller.editFlow;i.routing=i._controller.routing;i._routing=i._controller._routing;i.intentBasedNavigation=i._controller.intentBasedNavigation;i._prefix=t;return i}var r=a.prototype;r.destroy=function e(){};r.getEditFlow=function e(){return this.editFlow};r.getRouting=function e(){return this.routing};r.getIntentBasedNavigation=function e(){return this.intentBasedNavigation};r.byId=function e(t){let n=this._view.byId(t);if(!n&&this._prefix){n=this._view.byId(`${this._prefix}--${t}`)}return n};r.getModel=function e(n){let i;if(n&&n!=="ui"){i=t.getAppComponent(this._view);if(!i.getManifestEntry("sap.ui5").models[n]){return undefined}}return this._view.getModel(n)};r.addDependent=function e(t){this._view.addDependent(t)};r.removeDependent=function e(t){this._view.removeDependent(t)};r.navigateToTarget=function e(t,n){this._controller._routing.navigateToTarget(n,t)};r.loadFragment=async function n(a){var r;const s=i.getOwnerComponentFor(this._view);const l=this._view.getModel("_pageModel");const c=(r=this.getModel())===null||r===void 0?void 0:r.getMetaModel();const u=s.getViewData();const d=new o(u),p={bindingContexts:{contextPath:c===null||c===void 0?void 0:c.createBindingContext(a.contextPath||`/${s.getEntitySet()}`),converterContext:l.createBindingContext("/",undefined,{noResolve:true}),viewData:u?d.createBindingContext("/"):null},models:{contextPath:c,converterContext:l,metaModel:c,viewData:d},appComponent:t.getAppComponent(this._view)};const f=t.templateControlFragment(a.name,p,{controller:a.controller||this,isXML:false,id:a.id});f.then(e=>{if(a.initialBindingContext!==undefined){e.setBindingContext(a.initialBindingContext)}this.addDependent(e);return e}).catch(function(t){e.error(t)});return f};r.updateAppState=async function e(){return this._controller.getAppComponent().getAppStateHandler().createAppState()};return a}(n),p=P(d.prototype,"editFlow",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),f=P(d.prototype,"routing",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),g=P(d.prototype,"intentBasedNavigation",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),d))||u);return T},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/PageController",["sap/fe/core/BaseController","sap/fe/core/controllerextensions/EditFlow","sap/fe/core/controllerextensions/IntentBasedNavigation","sap/fe/core/controllerextensions/InternalIntentBasedNavigation","sap/fe/core/controllerextensions/InternalRouting","sap/fe/core/controllerextensions/MassEdit","sap/fe/core/controllerextensions/MessageHandler","sap/fe/core/controllerextensions/PageReady","sap/fe/core/controllerextensions/Paginator","sap/fe/core/controllerextensions/Placeholder","sap/fe/core/controllerextensions/Routing","sap/fe/core/controllerextensions/Share","sap/fe/core/controllerextensions/SideEffects","sap/fe/core/controllerextensions/ViewState","sap/fe/core/ExtensionAPI","sap/fe/core/helpers/ClassSupport","sap/ui/core/Component","sap/ui/core/mvc/OverrideExecution"],function(e,t,n,i,o,a,r,s,l,c,u,d,p,f,g,v,h,m){"use strict";var y,b,C,P,E,T,O,S,A,I,D,x,M,_,w,F,R,N,$,V,L,B,j,k,U,H,G,z,W,q,K,Q,Y,J;var X=v.usingExtension;var Z=v.publicExtension;var ee=v.extensible;var te=v.defineUI5Class;function ne(e,t,n,i){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function ie(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function oe(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ae(e,t)}function ae(e,t){ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return ae(e,t)}function re(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function se(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let le=(y=te("sap.fe.core.PageController"),b=X(u),C=X(o),P=X(t),E=X(n),T=X(i),O=X(s),S=X(r),A=X(d),I=X(l),D=X(f),x=X(c),M=X(p),_=X(a),w=Z(),F=Z(),R=Z(),N=Z(),$=ee(m.After),y(V=(L=function(e){oe(t,e);function t(){var t;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}t=e.call(this,...i)||this;ne(t,"routing",B,ie(t));ne(t,"_routing",j,ie(t));ne(t,"editFlow",k,ie(t));ne(t,"intentBasedNavigation",U,ie(t));ne(t,"_intentBasedNavigation",H,ie(t));ne(t,"pageReady",G,ie(t));ne(t,"messageHandler",z,ie(t));ne(t,"share",W,ie(t));ne(t,"paginator",q,ie(t));ne(t,"viewState",K,ie(t));ne(t,"placeholder",Q,ie(t));ne(t,"_sideEffects",Y,ie(t));ne(t,"massEdit",J,ie(t));return t}var n=t.prototype;n.onInit=function e(){const t=this.getAppComponent().getModel("ui"),n=this.getAppComponent().getModel("internal"),i=`/pages/${this.getView().getId()}`;t.setProperty(i,{controls:{}});n.setProperty(i,{controls:{},collaboration:{}});this.getView().bindElement({path:i,model:"ui"});this.getView().bindElement({path:i,model:"internal"});this.getView().bindElement({path:i,model:"pageInternal"});this.getView().setModel(n,"pageInternal");this.getView().setModel(t,"ui");this.getView().setModel(n,"internal")};n.onBeforeRendering=function e(){if(this.placeholder.attachHideCallback){this.placeholder.attachHideCallback()}};n.getExtensionAPI=function e(){if(!this.extensionAPI){this.extensionAPI=new g(this)}return this.extensionAPI};n.onPageReady=function e(t){this.getAppComponent().getAppStateHandler().applyAppState()};n._getPageTitleInformation=function e(){return{}};n._getPageModel=function e(){const t=h.getOwnerComponentFor(this.getView());return t===null||t===void 0?void 0:t.getModel("_pageModel")};return t}(e),B=re(L.prototype,"routing",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),j=re(L.prototype,"_routing",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),k=re(L.prototype,"editFlow",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),U=re(L.prototype,"intentBasedNavigation",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),H=re(L.prototype,"_intentBasedNavigation",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),G=re(L.prototype,"pageReady",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),z=re(L.prototype,"messageHandler",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),W=re(L.prototype,"share",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),q=re(L.prototype,"paginator",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),K=re(L.prototype,"viewState",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),Q=re(L.prototype,"placeholder",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),Y=re(L.prototype,"_sideEffects",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),J=re(L.prototype,"massEdit",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),re(L.prototype,"onInit",[w],Object.getOwnPropertyDescriptor(L.prototype,"onInit"),L.prototype),re(L.prototype,"onBeforeRendering",[F],Object.getOwnPropertyDescriptor(L.prototype,"onBeforeRendering"),L.prototype),re(L.prototype,"getExtensionAPI",[R],Object.getOwnPropertyDescriptor(L.prototype,"getExtensionAPI"),L.prototype),re(L.prototype,"onPageReady",[N,$],Object.getOwnPropertyDescriptor(L.prototype,"onPageReady"),L.prototype),L))||V);return le},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/ResourceModel",["sap/fe/core/helpers/ClassSupport","sap/ui/model/resource/ResourceModel"],function(e,t){"use strict";var n,i;var o=e.defineUI5Class;function a(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;r(e,t)}function r(e,t){r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return r(e,t)}let s=(n=o("sap.fe.core.ResourceModel"),n(i=function(e){a(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getText=function e(t,n,i){let o=t;const a=this._oResourceBundle;if(i){const e=this.checkIfResourceKeyExists(`${o}|${i}`);o=e?`${o}|${i}`:o}return(a===null||a===void 0?void 0:a.getText(o,n,true))||t};n.checkIfResourceKeyExists=function e(t){return this._checkIfResourceKeyExists(t,this._oResourceBundle.aCustomBundles)};n._checkIfResourceKeyExists=function e(t,n){if(n!==null&&n!==void 0&&n.length){for(let e=n.length-1;e>=0;e--){const i=n[e].hasText(t);if(i){return true}this._checkIfResourceKeyExists(t,n[e].aCustomBundles)}}return false};return t}(t))||i);return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/TemplateComponent",["sap/fe/core/CommonUtils","sap/fe/core/helpers/ClassSupport","sap/ui/core/UIComponent","sap/ui/mdc/p13n/StateUtil"],function(e,t,n,i){"use strict";var o,a,r,s,l,c,u,d,p,f,g,v,h,m,y,b,C,P,E,T,O,S,A,I,D,x,M,_,w,F,R;var N=t.property;var $=t.implementInterface;var V=t.event;var L=t.defineUI5Class;function B(e,t,n,i){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function j(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function k(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;U(e,t)}function U(e,t){U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return U(e,t)}function H(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function G(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let z=(o=L("sap.fe.core.TemplateComponent"),a=$("sap.ui.core.IAsyncContentCreation"),r=N({type:"string",defaultValue:null}),s=N({type:"string",defaultValue:null}),l=N({type:"string"}),c=N({type:"object"}),u=N({type:"string[]"}),d=N({type:"object"}),p=N({type:"object"}),f=N({type:"boolean"}),g=N({type:"object"}),v=N({type:"string"}),h=V(),m=V(),y=V(),o(b=(C=function(t){k(n,t);function n(){var e;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}e=t.call(this,...i)||this;B(e,"__implements__sap_ui_core_IAsyncContentCreation",P,j(e));B(e,"entitySet",E,j(e));B(e,"contextPath",T,j(e));B(e,"bindingContextPattern",O,j(e));B(e,"navigation",S,j(e));B(e,"enhanceI18n",A,j(e));B(e,"controlConfiguration",I,j(e));B(e,"content",D,j(e));B(e,"allowDeepLinking",x,j(e));B(e,"refreshStrategyOnAppRestore",M,j(e));B(e,"viewType",_,j(e));B(e,"containerDefined",w,j(e));B(e,"heroesBatchReceived",F,j(e));B(e,"workersBatchReceived",R,j(e));return e}var o=n.prototype;o.setContainer=function e(n){t.prototype.setContainer.call(this,n);this.fireEvent("containerDefined",{container:n});return this};o.init=function n(){this.oAppComponent=e.getAppComponent(this);t.prototype.init.call(this);const o=function(e){const t=e.getParameter("control");if(t.isA("sap.ui.mdc.Table")||t.isA("sap.ui.mdc.FilterBar")||t.isA("sap.ui.mdc.Chart")){const e=t.getParent();if(e!==null&&e!==void 0&&e.fireStateChange){e.fireStateChange()}}};i.detachStateChange(o);i.attachStateChange(o)};o.getExtensionComponent=function e(){return this.oAppComponent};o.getRootController=function e(){const t=this.getRootControl();let n;if(t&&t.getController){n=t.getController()}return n};o.onPageReady=function e(t){const n=this.getRootController();if(n&&n.onPageReady){n.onPageReady(t)}};o.getNavigationConfiguration=function e(t){const n=this.navigation;return n[t]};o.getViewData=function e(){const t=this.getMetadata().getAllProperties();const n=Object.keys(t).reduce((e,n)=>{e[n]=t[n].get(this);return e},{});n.fclEnabled=this.oAppComponent._isFclEnabled();return n};o._getPageTitleInformation=function e(){const t=this.getRootControl();if(t&&t.getController()&&t.getController()._getPageTitleInformation){return t.getController()._getPageTitleInformation()}else{return{}}};o.getExtensionAPI=function e(){return this.getRootControl().getController().getExtensionAPI()};return n}(n),P=H(C.prototype,"__implements__sap_ui_core_IAsyncContentCreation",[a],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),E=H(C.prototype,"entitySet",[r],{configurable:true,enumerable:true,writable:true,initializer:function(){return null}}),T=H(C.prototype,"contextPath",[s],{configurable:true,enumerable:true,writable:true,initializer:function(){return null}}),O=H(C.prototype,"bindingContextPattern",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),S=H(C.prototype,"navigation",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),A=H(C.prototype,"enhanceI18n",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),I=H(C.prototype,"controlConfiguration",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),D=H(C.prototype,"content",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),x=H(C.prototype,"allowDeepLinking",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),M=H(C.prototype,"refreshStrategyOnAppRestore",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),_=H(C.prototype,"viewType",[v],{configurable:true,enumerable:true,writable:true,initializer:function(){return"XML"}}),w=H(C.prototype,"containerDefined",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),F=H(C.prototype,"heroesBatchReceived",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),R=H(C.prototype,"workersBatchReceived",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),C))||b);return z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/TemplateModel",["sap/fe/core/helpers/ClassSupport","sap/ui/base/Object","sap/ui/model/json/JSONModel"],function(e,t,n){"use strict";var i,o;var a=e.defineUI5Class;function r(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function s(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}function l(e,t){l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return l(e,t)}let c=(i=a("sap.fe.core.TemplateModel"),i(o=function(e){s(t,e);function t(t,i){var o;o=e.call(this)||this;o.oMetaModel=i;o.oConfigModel=new n;o.oConfigModel.setSizeLimit(Number.MAX_VALUE);o.bConfigLoaded=false;const a=r(o);if(typeof t==="function"){const e=o.oConfigModel._getObject.bind(o.oConfigModel);o.oConfigModel._getObject=function(n,i){if(!a.bConfigLoaded){this.setData(t())}return e(n,i)}}else{o.oConfigModel.setData(t)}o.fnCreateMetaBindingContext=o.oMetaModel.createBindingContext.bind(o.oMetaModel);o.fnCreateConfigBindingContext=o.oConfigModel.createBindingContext.bind(o.oConfigModel);o.fnSetData=o.oConfigModel.setData.bind(o.oConfigModel);o.oConfigModel.createBindingContext=o.createBindingContext.bind(r(o));o.oConfigModel.setData=o.setData.bind(r(o));return o.oConfigModel||r(o)}var i=t.prototype;i.setData=function e(t){this.fnSetData(t);this.bConfigLoaded=true};i.createBindingContext=function e(t,n,i,o){var a;let r;const s=i&&i.noResolve;r=this.fnCreateConfigBindingContext(t,n,i,o);const l=!s&&((a=r)===null||a===void 0?void 0:a.getObject());if(l&&typeof l==="string"){r=this.fnCreateMetaBindingContext(l,n,i,o)}return r};i.destroy=function e(){this.oConfigModel.destroy();n.prototype.destroy.apply(this)};return t}(t))||o);return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/buildingBlocks/AttributeModel",["sap/base/Log","sap/base/util/ObjectPath","sap/ui/model/json/JSONModel"],function(e,t,n){"use strict";function i(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;o(e,t)}function o(e,t){o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return o(e,t)}let a=function(n){i(o,n);function o(e,t,i){var o;o=n.call(this)||this;o.oNode=e;o.oProps=t;o.BuildingBlockClass=i;o.$$valueAsPromise=true;return o}var a=o.prototype;a._getObject=function n(i,o){if(i===undefined||i===""){if(o!==undefined&&o.getPath()!=="/"){return this._getObject(o.getPath(i))}return this.oProps}if(i==="/undefinedValue"||i==="undefinedValue"){return undefined}const a=t.get(i.replace(/\//g,"."),this.oProps);if(a!==undefined){return a}if(this.oProps.hasOwnProperty(i)){return this.oProps[i]}if(i.indexOf(":")===-1&&i.indexOf("/")===-1){e.error(`Missing property ${i} on building block metadata ${this.BuildingBlockClass.name}`)}return this.oNode.getAttribute(i)};return o}(n);return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/buildingBlocks/BuildingBlockBase",["sap/base/util/deepClone","sap/base/util/merge","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/ConverterContext","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper"],function(e,t,n,i,o,a){"use strict";var r={};var s=a.generate;var l=o.isUndefinedExpression;var c=n.xml;var u=n.unregisterBuildingBlock;var d=n.registerBuildingBlock;function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,g(i.key),i)}}function f(e,t,n){if(t)p(e.prototype,t);if(n)p(e,n);Object.defineProperty(e,"prototype",{writable:false});return e}function g(e){var t=v(e,"string");return typeof t==="symbol"?t:String(t)}function v(e,t){if(typeof e!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var i=n.call(e,t||"default");if(typeof i!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}let h=function(){function n(n,o,a){var r;this.isPublic=false;this.getConverterContext=function(n,o,a,r){var s;const l=a.appComponent;const c=(s=a.models.viewData)===null||s===void 0?void 0:s.getData();let u=Object.assign({},c);delete u.resourceModel;delete u.appComponent;u=e(u);u.controlConfiguration=t(u.controlConfiguration,r||{});return i.createConverterContextForMacro(n.startingEntitySet.name,a.models.metaModel,l===null||l===void 0?void 0:l.getDiagnostics(),t,n.contextLocation,u)};Object.keys(n).forEach(e=>{this[e]=n[e]});this.resourceModel=a===null||a===void 0?void 0:(r=a.models)===null||r===void 0?void 0:r["sap.fe.i18n"]}r=n;var o=n.prototype;o.createId=function e(){if(this.id){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++){n[i]=arguments[i]}return s([this.id,...n])}return undefined};o.getContentId=function e(t){return`${t}-content`};o.getTranslatedText=function e(t,n,i){var o;return((o=this.resourceModel)===null||o===void 0?void 0:o.getText(t,n,i))||t};o.getProperties=function e(){const t={};for(const e in this){if(this.hasOwnProperty(e)){t[e]=this[e]}}return t};n.register=function e(){d(this)};n.unregister=function e(){u(this)};o.addConditionally=function e(t,n){if(t){return n}else{return""}};o.attr=function e(t,n){if(n!==undefined&&!l(n)){return()=>c`${t}="${n}"`}else{return()=>""}};f(n,null,[{key:"metadata",get:function(){this.internalMetadata??={namespace:"",name:"",properties:{},aggregations:{},stereotype:"xmlmacro"};return this.internalMetadata}}]);return n}();h.isRuntime=false;r=h;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/buildingBlocks/BuildingBlockFormatter",[],function(){"use strict";return{base64Decode:e=>atob(e)}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/buildingBlocks/BuildingBlockSupport",[],function(){"use strict";var e={};function t(e){return function(t,n,i){const o=t.constructor.metadata;if(e.defaultValue===undefined){var a;e.defaultValue=(a=i.initializer)===null||a===void 0?void 0:a.call(i)}delete i.initializer;if(o.properties[n.toString()]===undefined){o.properties[n.toString()]=e}return i}}e.blockAttribute=t;function n(){return t({type:"function"})}e.blockEvent=n;function i(e){return function(t,n,i){const o=t.constructor.metadata;delete i.initializer;if(o.aggregations[n]===undefined){o.aggregations[n]=e}if(e.isDefault===true){o.defaultAggregation=n}return i}}e.blockAggregation=i;function o(e){return function(t){const n=t.metadata;n.namespace=e.namespace;n.publicNamespace=e.publicNamespace;n.name=e.name;n.xmlTag=e.xmlTag;n.fragment=e.fragment;n.designtime=e.designtime;n.isOpen=e.isOpen}}e.defineBuildingBlock=o;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor",["sap/base/Log","sap/base/util/deepClone","sap/base/util/uid","sap/fe/core/buildingBlocks/AttributeModel","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/ui/base/BindingParser","sap/ui/core/util/XMLPreprocessor","sap/ui/model/json/JSONModel","./TraceInfo"],function(e,t,n,i,o,a,r,s,l,c,u){"use strict";var d={};var p=r.isFunctionArray;var f=r.isContext;var g=a.isBindingToolkitExpression;var v=a.compileExpression;var h=o.Placement;const m="sap.fe.core.buildingBlocks.BuildingBlockTemplateProcessor";const y="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1";const b=new DOMParser;function C(e,t,n,i){const o=t[i];const a=o===null||o===void 0?void 0:o.getObject();if(n.required===true&&(!o||a===null)){throw new Error(`${e}: Required metadataContext '${i}' is missing`)}else if(a){if(a.hasOwnProperty("$kind")&&a.$kind!==undefined&&n.expectedTypes!==undefined){if(n.expectedTypes.indexOf(a.$kind)===-1){throw new Error(`${e}: '${i}' must be '$kind' '${n.expectedTypes}' but is '${a.$kind}': ${o.getPath()}`)}}else if(a.hasOwnProperty("$Type")&&a.$Type!==undefined&&n.expectedAnnotationTypes){if(n.expectedAnnotationTypes.indexOf(a.$Type)===-1){throw new Error(`${e}: '${i}' must be '$Type' '${n.expectedAnnotationTypes}' but is '${a.$Type}': ${o.getPath()}`)}}}}function P(t,n,i,o){const a=n.metadataContexts&&Object.keys(n.metadataContexts)||[],r=n.properties&&Object.keys(n.properties)||[],s={};const l=o.getAttributeNames();for(const e of l){s[e]=true}a.forEach(function(e){const o=n.metadataContexts[e];C(t,i,o,e);delete s[e]});r.forEach(function(e){const i=n.properties[e];if(!o.hasAttribute(e)){if(i.required&&!i.hasOwnProperty("defaultValue")){throw new Error(`${t}: `+`Required property '${e}' is missing`)}}else{delete s[e]}});Object.keys(s).forEach(function(n){if(n.indexOf(":")<0&&!n.startsWith("xmlns")){e.warning(`Unchecked parameter: ${t}: ${n}`,undefined,m)}})}d.validateMacroSignature=P;const E="sap.ui.core.Element";const T="sap.ui.model.Context";d.SAP_UI_MODEL_CONTEXT=T;function O(e){const t={};const n={dependents:{type:E,slot:"dependents"},customData:{type:E,slot:"customData"},layoutData:{type:E,slot:"layoutData"},...e.aggregations};const i={};for(const n of Object.keys(e.properties)){const o=e.properties[n].type;if(o!==T){t[n]=e.properties[n]}if([T,"object","array"].includes(o)){i[n]=e.properties[n]}}return{...e,properties:t,metadataContexts:i,aggregations:n}}function S(e,t){let n;if(t&&t.startsWith("/")){n=t}else{let i=e.currentContextPath.getPath();if(!i.endsWith("/")){i+="/"}n=i+t}return{model:"metaModel",path:n}}function A(e,t,n){let i;if(n.startsWith("/uid--")&&!e.models.converterContext.getProperty(n)){const t=k(n);e.models.converterContext.setProperty(n,t);i={model:"converterContext",path:n}}else if(t==="metaPath"&&e.currentContextPath||t==="contextPath"){i=S(e,n)}else if(n&&n.startsWith("/")){i={model:"metaModel",path:n}}else{i={model:"metaModel",path:e.bindingContexts.entitySet?e.bindingContexts.entitySet.getPath(n):n}}return i}function I(e,t,n,i,o,a){let r;if(!o&&t.hasAttribute(n)){const i=t.getAttribute(n);r=s.complexParser(i);if(!r){r=A(e,n,i)}}else if(e.bindingContexts.hasOwnProperty(n)){r={model:n,path:""}}else if(a){try{if(i.getContext(`${n}>`)){r={model:n,path:""}}}catch(e){return undefined}}return r}async function D(n,i,o,a){const r=n.properties;const s=Object.keys(r);const l={};for(const n of s){if(r[n].type==="object"){l[n]=r[n].defaultValue&&t(r[n].defaultValue)}else{l[n]=r[n].defaultValue}if(i.hasAttribute(n)&&o&&r[n].isPublic===false){e.error(`Property ${n} was ignored as it is not intended for public usage`)}else if(i.hasAttribute(n)){await a.visitAttribute(i,i.attributes.getNamedItem(n));let e=i.getAttribute(n);if(e!==undefined&&e!==null){if(typeof e==="string"&&!e.startsWith("{")){switch(r[n].type){case"boolean":e=e==="true";break;case"number":e=Number(e);break}}e=e===null?undefined:e;l[n]=e}}}return l}function x(e,t,n,i,o,a,r){t.currentContextPath=t.bindingContexts.contextPath;const s={};const l=e.metadataContexts;const c=Object.keys(l);const u=c.indexOf("contextPath");if(u!==-1){const e=c.splice(u,1);c.splice(0,0,e[0])}for(const u of c){const c=r[u];if(c!==undefined&&typeof c==="object"&&Object.keys(c).length>0){delete e.metadataContexts[u];continue}const d=i&&l[u].isPublic===false&&n.hasAttribute(u);const p=I(t,n,u,o,d,e.isOpen??false);if(p){p.name=u;N(a,o,p);if((u==="entitySet"||u==="contextPath")&&!t.bindingContexts.hasOwnProperty(u)){t.bindingContexts[u]=a[u]}if(u==="contextPath"){t.currentContextPath=a[u]}if(a[u]!==undefined){r[u]=a[u]}else if(typeof r[u]==="string"){delete e.metadataContexts[u]}}else{s[u]=true}}return s}function M(t,n){const i={};if(t&&t.children.length>0){const o=t.children;for(let t=0;t<o.length;t++){const a=o[t];let r=a.getAttribute("key")||a.getAttribute("id");if(r){r=`InlineXML_${r}`;a.setAttribute("key",r);let e={key:r,position:{placement:a.getAttribute("placement")||h.After,anchor:a.getAttribute("anchor")||undefined},type:"Slot"};if(n){e=n(a,e)}i[e.key]=e}else if(a.tagName!=="slot"){e.error(`The aggregation ${a.nodeName} is missing a Key attribute. It is not displayed`)}}}return i}async function _(e,t,n,i,o){const a={};if(e.firstElementChild!==null){let r=e.firstElementChild;while(r!==null){if(r.namespaceURI===y){const e=r.parentNode;if(e){const n=Array.from(e.children).indexOf(r);await t.visitNode(r);r=e.children[n]?e.children[n]:null}else{r=r.nextElementSibling}}else{const e=r.localName;let t=e;if(t[0].toUpperCase()===t[0]){t=n.defaultAggregation||""}const i=n.aggregations[t];if(i!==undefined&&!i.slot){const e=M(r,i.processAggregations);o[t]=e;for(const t in e){n.aggregations[t]=e[t]}}r=r.nextElementSibling}}r=e.firstElementChild;while(r!==null){const s=r.nextElementSibling;const l=r.localName;let c=l;if(c[0].toUpperCase()===c[0]){c=n.defaultAggregation||""}if(Object.keys(n.aggregations).indexOf(c)!==-1&&(!i||n.aggregations[c].isPublic===true)){const i=n.aggregations[c];if(!i.slot&&r!==null&&r.children.length>0){await t.visitNode(r);let n=r.firstElementChild;while(n){const t=n.nextElementSibling;if(!i.hasVirtualNode){const t=document.createElementNS(e.namespaceURI,n.getAttribute("key"));t.appendChild(n);a[n.getAttribute("key")]=t}else{a[n.getAttribute("key")]=n}n.removeAttribute("key");n=t}}else if(i.slot){await t.visitNode(r);if(c!==l){if(!a[c]){const t=document.createElementNS(e.namespaceURI,c);a[c]=t}a[c].appendChild(r)}else{a[c]=r}}}else if(Object.keys(n.properties).indexOf(c)!==-1){await t.visitNode(r);if(n.properties[c].type==="object"){const e={};const t=r.getAttributeNames();for(const n of t){e[n]=r.getAttribute(n)}if(r.children.length){for(let t=0;t<r.children.length;t++){const n=r.children[t];const i=n.localName;const o={};const a=n.getAttributeNames();for(const e of a){o[e]=n.getAttribute(e)}e[i]=o}}o[c]=e}else if(n.properties[c].type==="array"){if(r!==null&&r.children.length>0){const e=r.children;const t=[];for(let n=0;n<e.length;n++){const i=e[n];const o={};const a=i.getAttributeNames();for(const e of a){o[e]=i.getAttribute(e)}t.push(o)}o[c]=t}}}r=s}}return a}function w(e,t,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(Object.keys(e).length>0){Object.keys(e).forEach(function(o){const a=e[o];if(n!==null&&n!==undefined&&a){const e=a.firstElementChild;if(!["dependents","customData","layoutData"].includes(o)){const i=t[o]!==undefined&&t[o].slot||o;const a=n.querySelector(`slot[name='${i}']`);if(a!==null){const t=F(n,o,e);a.replaceWith(...t.children)}}else if(i&&e!==null){const t=F(n,o,e);n.appendChild(t)}}})}}function F(e,t,n){const i=document.createElementNS(e.namespaceURI,t.replace(/:/gi,"_"));while(n){const e=n.nextElementSibling;i.appendChild(n);n=e}return i}async function R(t,n,o){let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const r=O(t.metadata);const s=r.fragment??`${r.namespace??r.publicNamespace}.${r.xmlTag??r.name}`;const l={};const d=o.getSettings();d.models.converterContext??=new c;if(!d[s]){d[s]={}}const p=await D(r,n,a,o);const g=Object.keys(p);const v=x(r,d,n,a,o,l,p);try{const c=await _(n,o,r,a,p);let g={};if(d.models.viewData){g=d.models.viewData.getProperty("/controlConfiguration")}let v=p;Object.keys(p).forEach(e=>{var n,i,o;let a=p[e];const r=t===null||t===void 0?void 0:(n=t.metadata)===null||n===void 0?void 0:n.properties[e];if(r!==null&&r!==void 0&&r.validate){a=r.validate(a)||a}if((i=a)!==null&&i!==void 0&&(o=i.isA)!==null&&o!==void 0&&o.call(i,T)&&!a.getModel().isA("sap.ui.model.odata.v4.ODataMetaModel")){p[e]=a.getObject()}});p.isPublic=a;const h=new t({...p,...c},g,d);v=h.getProperties();Object.keys(r.metadataContexts).forEach(function(e){if(v.hasOwnProperty(e)){const t=v[e];if(f(t)){l[e]=t}else if(typeof t==="object"){const n=j(t);d.models.converterContext.setProperty(n,t);const i=d.models.converterContext.createBindingContext(n);k(n);l[e]=i}}});const m=new i(n,v,t);l["this"]=m.createBindingContext("/");let y;if(u.isTraceInfoActive()){const e=u.traceMacroCalls(s,r,l,n,o);if(e!==null&&e!==void 0&&e.macroInfo){y=d["_macroInfo"];d["_macroInfo"]=e.macroInfo}}P(s,r,l,n);const b=o.with(l,r.isOpen!==undefined?!r.isOpen:true);const C=n.parentNode;let E;let O;if(C){E=Array.from(C.children).indexOf(n);if(r.fragment){O=b.insertFragment(s,n)}else{const i=await h.getTemplate(n);if(t.isRuntime){for(const e in B){const t=k(e);d.models.converterContext.setProperty(e,t)}}let o="";if(i){let t=false;let a=G(i,true);for(const e of a){const n=document.createNodeIterator(e,NodeFilter.SHOW_TEXT);let i=n.nextNode();if(e.localName==="parsererror"){t=true}while(i){if(i.textContent&&i.textContent.trim().length>0){o=i.textContent}i=n.nextNode()}}if(t){e.error(`Error while processing building block ${r.xmlTag||r.name}`);a=await H(async()=>{var e;const t=await((e=h.getTemplate)===null||e===void 0?void 0:e.call(h,n));return G(t??"",true)})}else if(o.length>0){e.error(`Error while processing building block ${r.xmlTag||r.name}`);const t=L([`Error while processing building block ${r.xmlTag||r.name}`,`Trailing text was found in the XML: ${o}`],a.map(e=>e.outerHTML).join("\n"));a=G(t,true)}n.replaceWith(...a);const s=a.map(async e=>{w(c,r.aggregations,e,false);return b.visitNode(e)});O=Promise.all(s)}else{n.remove();O=Promise.resolve()}}await O;const i=C.children[E];w(c,r.aggregations,i,true);if(i!==undefined){const e=i.querySelectorAll("slot");e.forEach(function(e){e.remove()})}}if(y){d["_macroInfo"]=y}else{delete d["_macroInfo"]}}catch(t){const i={initialProperties:{},resolvedProperties:{},missingContexts:v};for(const e of g){const t=p[e];if(f(t)){i.initialProperties[e]={path:t.getPath(),value:t.getObject()}}else{i.initialProperties[e]=t}}for(const e in p){const t=p[e];if(!g.includes(e)){if(f(t)){i.resolvedProperties[e]={path:t.getPath(),value:t.getObject()}}else{i.resolvedProperties[e]=t}}}e.error(t);const o=L([`Error while processing building block ${r.name}`],n.outerHTML,i,t.stack);const a=G(o,true);n.replaceWith(...a)}}function N(e,t,n){const i=n.name||n.model||undefined;if(e[i]){return}try{let o=n.path;if(n.model!==null){o=`${n.model}>${o}`}const a=t.getSettings();if(n.model==="converterContext"&&n.path.length>0){e[i]=a.models[n.model].getContext(n.path)}else if(!a.bindingContexts[n.model]&&a.models[n.model]){e[i]=a.models[n.model].getContext(n.path)}else{e[i]=t.getContext(o)}}catch(e){}}function $(e){if(e.metadata.namespace!==undefined){l.plugIn(async(t,n)=>R(e,t,n),e.metadata.namespace,e.metadata.xmlTag||e.metadata.name)}if(e.metadata.publicNamespace!==undefined){l.plugIn(async(t,n)=>R(e,t,n,true),e.metadata.publicNamespace,e.metadata.xmlTag||e.metadata.name)}}d.registerBuildingBlock=$;function V(e){if(e.metadata.namespace!==undefined){l.plugIn(null,e.metadata.namespace,e.metadata.xmlTag||e.metadata.name)}if(e.metadata.publicNamespace!==undefined){l.plugIn(null,e.metadata.publicNamespace,e.metadata.xmlTag||e.metadata.name)}}d.unregisterBuildingBlock=V;function L(e,t,n,i){const o=e.map(e=>q`<m:Label text="${z(e)}"/>`);let a="";if(i){const e=btoa(`<pre>${i}</pre>`);a=q`<m:FormattedText htmlText="${`{= BBF.base64Decode('${e}') }`}" />`}let r="";if(n){r=q`<m:VBox>
						<m:Label text="Trace Info"/>
						<code:CodeEditor type="json"  value="${`{= BBF.base64Decode('${btoa(JSON.stringify(n,null,4))}') }`}" height="300px" />
					</m:VBox>`}return q`<controls:FormElementWrapper xmlns:controls="sap.fe.core.controls">
					<m:VBox xmlns:m="sap.m" xmlns:code="sap.ui.codeeditor" core:require="{BBF:'sap/fe/core/buildingBlocks/BuildingBlockFormatter'}">
					${o}
					${a}
						<grid:CSSGrid gridTemplateRows="fr" gridTemplateColumns="repeat(2,1fr)" gridGap="1rem" xmlns:grid="sap.ui.layout.cssgrid" >
							<m:VBox>
								<m:Label text="How the building block was called"/>
								<code:CodeEditor type="xml" value="${`{= BBF.base64Decode('${btoa(t.replaceAll("&gt;",">"))}') }`}" height="300px" />
							</m:VBox>
							${r}
						</grid:CSSGrid>
					</m:VBox>
				</controls:FormElementWrapper>`}const B={};function j(e){const t=`/uid--${n()}`;B[t]=e;return t}function k(e){const t=B[e];delete B[e];return t}let U=false;const H=function(e){U=true;let t;try{t=e()}finally{U=false}return t};function G(e){var t,n;let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(i){e=`<template\n\t\t\t\t\t\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\t\t\t\t\t\txmlns:m="sap.m"\n\t\t\t\t\t\txmlns:macros="sap.fe.macros"\n\t\t\t\t\t\txmlns:core="sap.ui.core"\n\t\t\t\t\t\txmlns:mdc="sap.ui.mdc"\n\t\t\t\t\t\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">${e}</template>`}const o=b.parseFromString(e,"text/xml");let a=o.firstElementChild;while(((r=a)===null||r===void 0?void 0:r.localName)==="template"){var r;a=a.firstElementChild}const s=(t=a)!==null&&t!==void 0&&t.parentElement?(n=a)===null||n===void 0?void 0:n.parentElement.children:[a];return Array.from(s)}d.parseXMLString=G;function z(e){return e===null||e===void 0?void 0:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}d.escapeXMLAttributeValue=z;function W(e){var t;const n=G(e,true);if((n===null||n===void 0?void 0:n.length)>0&&((t=n[0])===null||t===void 0?void 0:t.localName)==="parsererror"){const t=n[0].innerText||n[0].innerHTML;return L([t.split("\n")[0]],e)}else{return e}}const q=function(e){let t="";let n;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++){o[a-1]=arguments[a]}for(n=0;n<o.length;n++){t+=e[n];const i=o[n];if(Array.isArray(i)&&i.length>0&&typeof i[0]==="string"){t+=i.flat(5).join("\n").trim()}else if(p(i)){t+=i.map(e=>e()).join("\n")}else if(g(i)){const e=v(i);t+=z(e)}else if(typeof i==="undefined"){t+="{this>undefinedValue}"}else if(typeof i==="function"){t+=i()}else if(typeof i==="object"&&i!==null){if(f(i)){t+=i.getPath()}else{const e=j(i);t+=`${e}`}}else if(i&&typeof i==="string"&&!i.startsWith("<")&&!i.startsWith("&lt;")){t+=z(i)}else{t+=i}}t+=e[n];t=t.trim();if(U){return W(t)}return t};d.xml=q;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/buildingBlocks/RuntimeBuildingBlock",["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/buildingBlocks/RuntimeBuildingBlockFragment","sap/fe/core/helpers/TypeGuards"],function(e,t,n,i){"use strict";var o={};var a=i.isContext;var r=n.storeRuntimeBlock;var s=t.xml;var l=t.registerBuildingBlock;function c(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}function u(e,t){u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return u(e,t)}let d=function(e){c(t,e);function t(){return e.apply(this,arguments)||this}o=t;t.register=function e(){l(this);r(this)};var n=t.prototype;n.getTemplate=function e(t){const n=this.constructor.metadata;const i=`${n.namespace??n.publicNamespace}.${n.name}`;const o=[];const r=[];const l=[];const c=[];for(const e in n.properties){let t=this[e];if(t!==undefined&&t!==null){if(a(t)){t=t.getPath()}if(n.properties[e].type==="function"){r.push(t);c.push(t);l.push(e)}else{o.push(s`feBB:${e}="${t}"`)}}}if(r.length>0){o.push(s`functionHolder="${r.join(";")}"`);o.push(s`feBB:functionStringInOrder="${c.join(",")}"`);o.push(s`feBB:propertiesAssignedToFunction="${l.join(",")}"`)}const u=(t===null||t===void 0?void 0:t.getAttribute("core:require"))||undefined;if(u){o.push(s`core:require="${u}"`)}return s`<feBB:RuntimeBuildingBlockFragment
					xmlns:core="sap.ui.core"
					xmlns:feBB="sap.fe.core.buildingBlocks"
					fragmentName="${i}"

					id="{this>id}"
					type="FE_COMPONENTS"
					${o}
				>
				</feBB:RuntimeBuildingBlockFragment>`};return t}(e);d.isRuntime=true;o=d;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/buildingBlocks/RuntimeBuildingBlockFragment",["sap/fe/core/CommonUtils","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ClassSupport","sap/fe/core/jsx-runtime/jsx","sap/ui/base/ManagedObject","sap/ui/core/Component","sap/ui/core/Fragment"],function(e,t,n,i,o,a,r){"use strict";var s,l,c,u,d;var p={};var f=n.event;var g=n.defineUI5Class;var v=t.resolveBindingString;function h(e,t,n,i){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function y(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;b(e,t)}function b(e,t){b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return b(e,t)}function C(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function P(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let E=(s=g("sap.fe.core.buildingBlocks.RuntimeBuildingBlockFragment"),l=f(),s(c=(u=function(e){y(t,e);function t(){var t;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}t=e.call(this,...i)||this;h(t,"functionHolder",d,m(t));return t}p=t;return t}(r),d=C(u.prototype,"functionHolder",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||c);p=E;const T={};function O(e){T[`${e.metadata.namespace??e.metadata.publicNamespace}.${e.metadata.name}`]=e}p.storeRuntimeBlock=O;E.registerType("FE_COMPONENTS",{load:async function(e){return Promise.resolve(T[e.fragmentName])},init:function(t){var n,r,s,l,c,u,d,p,f,g;let h=t.fragmentContent;if(h===undefined){h=T[t.fragmentName]}if(h===undefined){throw new Error(`No building block class for runtime building block ${t.fragmentName} found`)}const m={};const y=((n=t.customData)===null||n===void 0?void 0:(r=n[0])===null||r===void 0?void 0:(s=r.mProperties)===null||s===void 0?void 0:(l=s.value)===null||l===void 0?void 0:l["sap.fe.core.buildingBlocks"])||{};delete t.customData;const b=t.functionHolder??[];delete t.functionHolder;const C=((c=(u=t.containingView).getController)===null||c===void 0?void 0:(d=(p=c.call(u)).getView)===null||d===void 0?void 0:d.call(p))??t.containingView;const P=a.getOwnerComponentFor(C);const E=e.getAppComponent(C);const O=E.getMetaModel();const S=P.getModel("_pageModel");const A=(f=y.functionStringInOrder)===null||f===void 0?void 0:f.split(",");const I=(g=y.propertiesAssignedToFunction)===null||g===void 0?void 0:g.split(",");for(const e in h.metadata.properties){const t=h.metadata.properties[e];const n=S.createBindingContext(y[e]);if(n===null){let n=y[e];if(typeof n==="string"){if(t.bindable!==true){switch(t.type){case"boolean":n=n==="true";break;case"number":n=Number(n);break}}else{n=v(n,t.type)}}else if(t.type==="function"){const t=I.indexOf(e);const i=A[t];const o=b===null||b===void 0?void 0:b.find(e=>{var t;return((t=e[0])===null||t===void 0?void 0:t._sapui_handlerName)===i});if(o&&o.length>1){n=o[0].bind(o[1])}}m[e]=n}else if(n.getObject()!==undefined){m[e]=n.getObject()}else{m[e]=O.createBindingContext(y[e])}}return o.runWithPreprocessors(()=>{const e=i.withContext({view:C,appComponent:E},()=>{var e,t;const n={models:{"sap.fe.i18n":C.getModel("sap.fe.i18n")}};return(e=(t=new h(m,{},n)).getContent)===null||e===void 0?void 0:e.call(t,C,E)});if(!this._bAsync){this._aContent=e}return e},{id:function(e){return C.createId(e)},settings:function(e){const n=this.getMetadata().getAssociations();for(const i of Object.keys(n)){if(e[i]!==undefined){const n=Array.isArray(e[i])?e[i]:[e[i]];e[i]=n.map(e=>typeof e==="string"?t.containingView.createId(e):e)}}return e}})}});return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/buildingBlocks/TraceInfo",["sap/base/Log","sap/ui/base/ManagedObject","sap/ui/core/util/XMLPreprocessor"],function(e,t,n){"use strict";var i=t.bindingParser;const o=[];const a="http://schemas.sap.com/sapui5/extension/sap.fe.info/1",r="http://www.w3.org/2000/xmlns/",s=location.search.indexOf("sap-ui-xx-feTraceInfo=true")>-1,l=["sap.m","sap.uxap","sap.ui.unified","sap.f","sap.ui.table","sap.suite.ui.microchart","sap.ui.layout.form","sap.ui.mdc","sap.ui.mdc.link","sap.ui.mdc.field","sap.fe.fpm"],c={};function u(e){return JSON.parse(JSON.stringify(e))}async function d(e,t,n,o){let a;const r=[];try{a=i(e,undefined,false,true)||[]}catch(e){a=[]}a=Array.isArray(a)?a:[a];a.filter(function(e){return e.path||e.parts}).forEach(function(e){const i=e.parts||[e];i.filter(function(e){return e.path}).forEach(function(e){const i=t[e.model]=t[e.model]||{};const a=e.path.indexOf(">")<0?(e.model&&`${e.model}>`)+e.path:e.path;let s;let l;if(typeof e.model==="undefined"&&a.indexOf(">")>-1){l=a.split(">");e.model=l[0];e.path=l[1]}try{s=n.getContext(a);const t=n.getResult(`{${a}}`,o);r.push(t.then(function(t){var n;if(((n=s)===null||n===void 0?void 0:n.getModel().getMetadata().getName())==="sap.ui.model.json.JSONModel"){if(!t.getModel()){i[e.path]=t}else{i[e.path]=`Context from ${t.getPath()}`}}else{i[e.path]={path:s.getPath(),data:typeof t==="object"?"[ctrl/cmd-click] on path to see data":t}}return}).catch(function(){i[e.path]={bindingFor:"Runtime"}}))}catch(t){i[e.path]={bindingFor:"Runtime"}}})});return Promise.all(r)}async function p(e,t,n,i){return e.then(function(e){t[n]=i!==e?{originalValue:i,resolvedValue:e}:i;return}).catch(function(e){const o=e;t[n]={originalValue:i,error:o.stack&&o.stack.toString()||e}})}async function f(e,t){const n={};const i=[];const o={};let a;for(let r=e.attributes.length>>>0;r--;){const s=e.attributes[r],l=s.nodeName,c=e.getAttribute(l);if(!["core:require"].includes(l)){i.push(d(c,o,t,e));a=t.getResult(c,e);if(a){i.push(p(a,n,l,c))}else{}}}return Promise.all(i).then(function(){return{properties:n,contexts:o}})}async function g(t,n){try{const e=t.nodeName.split(":")[1]||t.nodeName,i=/^[A-Z]/.test(e),s={isError:false,control:`${t.namespaceURI}.${t.nodeName.split(":")[1]||t.nodeName}`,metaDataContexts:[],properties:{}};if(i){const e=[...t.ownerDocument.children].find(e=>!e.nodeName.startsWith("#"));if(e&&!e.getAttribute("xmlns:trace")){e.setAttributeNS(r,"xmlns:trace",a);e.setAttributeNS(a,"trace:is","on")}return await f(t,n).then(async function(e){const i=Object.keys(e.contexts).length>0;if(i){Object.assign(s,e);s.viewInfo=n.getViewInfo();s.macroInfo=n.getSettings()["_macroInfo"];s.traceID=o.length;t.setAttributeNS(a,"trace:traceID",s.traceID.toString());o.push(s)}return n.visitAttributes(t)}).then(async function(){return n.visitChildNodes(t)}).catch(function(e){s.error={exception:e,node:(new XMLSerializer).serializeToString(t)}})}else{await n.visitAttributes(t);await n.visitChildNodes(t)}}catch(i){e.error(`Error while tracing '${t===null||t===void 0?void 0:t.nodeName}': ${i.message}`,"TraceInfo");return n.visitAttributes(t).then(async function(){return n.visitChildNodes(t)})}}if(s){l.forEach(function(e){c[e]=n.plugIn(g.bind(e),e)})}function v(e,t,n,i,s){try{let l=t.metadataContexts&&Object.keys(t.metadataContexts)||[];const c=t.properties&&Object.keys(t.properties)||[];const d=u(s.getSettings()["_macroInfo"]||{});const p={isError:false,macro:e,metaDataContexts:[],properties:{}};if(l.length===0){l=Object.keys(n).filter(function(e){return e!=="this"})}if(!i.getAttribute("xmlns:trace")){i.setAttributeNS(r,"xmlns:trace",a)}if(l.length>0){l.forEach(function(e){const t=n[e],i=t&&{name:e,path:t.getPath()};if(i){p.metaDataContexts.push(i)}});c.forEach(function(e){const t=n.this.getObject(e);if(t){p.properties[e]=t}});p.viewInfo=s.getViewInfo();p.traceID=o.length;d.parentMacroID=d.macroID;d.macroID=p.traceID.toString();p.macroInfo=d;i.setAttributeNS(a,"trace:macroID",p.traceID.toString());o.push(p);return p}}catch(t){var l;return{isError:true,error:t,name:e,node:(new XMLSerializer).serializeToString(i),contextPath:s===null||s===void 0?void 0:(l=s.getContext())===null||l===void 0?void 0:l.getPath()}}}function h(e){if(e){return o[e]}const t=o.filter(function(e){return e.error});return t.length>0&&t||o}function m(){return s}return{isTraceInfoActive:m,traceMacroCalls:v,getTraceInfo:h}},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/BusyLocker",["sap/base/Log"],function(e){"use strict";const t=30,n={},i={getId:function(){return"BusyLocker.ReferenceDummy"},setBusy:function(t){e.info(`setBusy(${t}) triggered on dummy reference`)}};function o(e,t){return e.getId()+(t||"/busy")}function a(e,t){return o(e,t)in n}function r(t,a){if(!t||!t.getId){e.warning("No reference for BusyLocker, using dummy reference");t=i}a=a||"/busy";const r=o(t,a);if(!(r in n)){n[r]={id:r,path:a,reference:t,count:0}}return n[r]}function s(e){delete n[e.id]}function l(n){const i=n.reference.isA&&n.reference.isA("sap.ui.model.Model"),o=n.count!==0;if(i){n.reference.setProperty(n.path,o,undefined,true)}else if(n.reference.setBusy){n.reference.setBusy(o)}clearTimeout(n.timeout);if(o){n.timeout=setTimeout(function(){e.error(`busy lock for ${n.id} with value ${n.count} timed out after ${t} seconds!`)},t*1e3)}else{s(n)}return o}function c(t,n){if(n===0){t.count=0;e.info(`busy lock count '${t.id}' was reset to 0`)}else{t.count+=n;e.info(`busy lock count '${t.id}' is ${t.count}`)}}const u={lock:function(e,t){return this._updateLock(e,t,1)},unlock:function(e,t){return this._updateLock(e,t,-1)},isLocked:function(e,t){return a(e,t)},_updateLock:function(e,t,n){const i=r(e,t);c(i,n);return l(i)}};return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/EditFlow",["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/collaboration/ActivitySync","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/controllerextensions/editFlow/sticky","sap/fe/core/controllerextensions/editFlow/TransactionHelper","sap/fe/core/controllerextensions/Feedback","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/EditState","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/SemanticKeyHelper","sap/fe/core/library","sap/m/Button","sap/m/Dialog","sap/m/MessageToast","sap/m/Text","sap/ui/core/Core","sap/ui/core/library","sap/ui/core/message/Message","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/model/odata/v4/ODataListBinding","../ActionRuntime"],function(e,t,n,i,o,a,r,s,l,c,u,d,p,f,g,v,h,m,y,b,C,P,E,T,O,S,A,I){"use strict";var D,x,M,_,w,F,R,N,$,V,L,B,j,k,U,H,G,z,W,q,K,Q,Y,J,X,Z,ee,te,ne,ie,oe;var ae=g.getResourceModel;var re=p.getNonComputedVisibleFields;var se=u.publicExtension;var le=u.finalExtension;var ce=u.extensible;var ue=u.defineUI5Class;var de=c.getInvolvedDataModelObjects;var pe=c.convertTypes;var fe=l.TriggerType;var ge=l.triggerConfiguredSurvey;var ve=l.StandardActions;var he=o.shareObject;var me=o.Activity;function ye(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;be(e,t)}function be(e,t){be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return be(e,t)}function Ce(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}const Pe=h.CreationMode,Ee=h.ProgrammingModel,Te=h.Constants,Oe=h.DraftStatus,Se=h.EditMode,Ae=h.StartupMode,Ie=E.MessageType;let De=(D=ue("sap.fe.core.controllerextensions.EditFlow"),x=se(),M=le(),_=se(),w=le(),F=se(),R=le(),N=se(),$=ce(S.After),V=se(),L=ce(S.After),B=se(),j=ce(S.After),k=se(),U=ce(S.After),H=se(),G=ce(S.After),z=se(),W=le(),q=se(),K=le(),Q=se(),Y=le(),J=se(),X=le(),Z=se(),ee=le(),te=se(),ne=le(),D(ie=(oe=function(o){ye(l,o);function l(){var e;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++){n[i]=arguments[i]}e=o.call(this,...n)||this;e.syncTasks=Promise.resolve();return e}var c=l.prototype;c.getAppComponent=function e(){return this.base.getAppComponent()};c.editDocument=async function t(n){const i=true;const o=this.getTransactionHelper();const a=this._getRootViewController();const r=n.getModel();let s,l;const c=this.getView().getViewData();const u=this.getProgrammingModel(n);let d=n;const p=this.getView();try{if((c===null||c===void 0?void 0:c.viewLevel)>1){if(u===Ee.Draft){const e=f.getDraftRootPath(n);d=p.getModel().bindContext(e).getBoundContext();await d.requestObject(e)}else if(u===Ee.Sticky){const e=f.getStickyRootPath(n);d=p.getModel().bindContext(e).getBoundContext();await d.requestObject(e)}}await this.base.editFlow.onBeforeEdit({context:d});const e=await o.editDocument(d,this.getView(),this.getAppComponent(),this.getMessageHandler());this._setStickySessionInternalProperties(u,r);if(e){this.setEditMode(Se.Editable,false);this.setDocumentModified(false);this.getMessageHandler().showMessageDialog();if(e!==d){let t=e;if(this._isFclEnabled()){s=a.getRightmostContext();l=await this._computeSiblingInformation(d,s,u,true);l=l??this._createSiblingInfo(n,e);this._updatePathsInHistory(l.pathMapping);if(l.targetContext.getPath()!=e.getPath()){t=l.targetContext}}else if((c===null||c===void 0?void 0:c.viewLevel)>1){l=await this._computeSiblingInformation(d,n,u,true);t=this._getNavigationTargetForEdit(n,e,l)}await this._handleNewContext(t,true,false,i,true);if(u===Ee.Sticky){let t;if(this._isFclEnabled()){t=e.getModel().getKeepAliveContext(e.getPath())}else{t=e}this.handleStickyOn(t)}else if(f.isCollaborationDraftSupported(r.getMetaModel())){await he(e)}}}}catch(t){e.error("Error while editing the document",t)}};c.deleteMultipleDocuments=async function o(a,r){if(r){r.beforeDeleteCallBack=this.base.editFlow.onBeforeDelete}else{r={beforeDeleteCallBack:this.base.editFlow.onBeforeDelete}}const s=this.getGlobalUIModel();const l=this.getView().byId(r.controlId);if(!l){throw new Error("parameter controlId missing or incorrect")}else{r.parentControl=l}const c=l.getBinding("items")||l.getRowBinding();r.bFindActiveContexts=true;n.lock(s);try{await this.deleteDocumentTransaction(a,r);let e;if(l.isA("sap.ui.mdc.Table")){l.clearSelection()}const n=this.getView().getBindingContext();if(c.isRoot()){e=new Promise(e=>{c.attachEventOnce("dataReceived",function(){e()})});c.refresh()}else if(n){if(!t.hasTransientContext(c)){this.getAppComponent().getSideEffectsService().requestSideEffectsForNavigationProperty(c.getPath(),n)}}if(!this.getAppComponent()._isFclEnabled()){d.setEditStateDirty()}i.send(this.getView(),me.Delete,a.map(e=>e.getPath()));return e}catch(t){e.error("Error while deleting the document(s)",t)}finally{n.unlock(s)}};c.updateDocument=function t(n,i){const o=this.getView().getBindingContext();const a=this.getProgrammingModel(n)===Ee.Draft;this.getMessageHandler().removeTransitionMessages();return this.syncTask(async()=>{if(o){this.setDocumentModified(true);if(!this._isFclEnabled()){d.setEditStateDirty()}if(a){this.setDraftStatus(Oe.Saving)}}try{await i;const e=this.getView().getBindingContext();if(!a||!e||e!==o){return}const t=e.getModel().getMetaModel();const n=t.getMetaContext(e.getPath()).getObject("@sapui.name");const r=v.getSemanticKeys(t,n);if(r!==null&&r!==void 0&&r.length){const t=this._getSemanticMapping();const n=t===null||t===void 0?void 0:t.semanticPath,i=v.getSemanticPath(e,true);if(n&&n!==i){await this._handleNewContext(e,true,false,true)}}this.setDraftStatus(Oe.Saved)}catch(t){e.error("Error while updating the document",t);if(a&&o){this.setDraftStatus(Oe.Clear)}}finally{await this.getMessageHandler().showMessages()}})};c.createDocument=async function o(a,r){var s;const l=this.getTransactionHelper(),c=this.getGlobalUIModel();let u;let p=r;let g;const v=!p||p.creationMode!==Pe.Inline&&p.creationMode!==Pe.CreationRow&&p.creationMode!==Pe.External;let h=Promise.resolve([]);const m=this.getAppComponent();m.getRouterProxy().removeIAppStateKey();if(p.creationMode===Pe.External){await this.syncTask();const e=this.getView().getController();const t=f.getAbsoluteMetaPathForListBinding(this.getView(),a);e.handlers.onChevronPressNavigateOutBound(e,p.outbound,undefined,t);return}if(p.creationMode===Pe.CreationRow&&p.creationRow){const e=p.creationRow.getBindingContext().getObject();delete e["@$ui5.context.isTransient"];u=p.creationRow.getParent();h=this.validateDocument(u.getBindingContext(),{data:e,customValidationFunction:u.getCreationRow().data("customValidationFunction")});if(u.getCreationRow().data("disableAddRowButtonForEmptyData")==="true"){const e=u.getBindingContext("internal");e.setProperty("creationRowFieldValidity",{})}}if(p.creationMode===Pe.Inline&&p.tableId){u=this.getView().byId(p.tableId)}if(u&&u.isA("sap.ui.mdc.Table")){const e=p.creationMode===Pe.Inline?u.focusRow.bind(u):u.scrollToIndex.bind(u);u.getRowBinding().attachEventOnce("change",async function(){await g;e(p.createAtEnd?u.getRowBinding().getLength():0,true)})}const y=async(n,i)=>{try{const e=await i;await e.created();const o=this.getView().getBindingContext();if(!t.hasTransientContext(n)){const e=this.getAppComponent();e.getSideEffectsService().requestSideEffectsForNavigationProperty(n.getPath(),o)}}catch(t){e.error("Error while creating the document",t)}};const b=e=>{var t;const n=u&&u.getCreationRow().data("customValidationFunction");const i=u&&((t=u.getBindingContext("internal"))===null||t===void 0?void 0:t.getProperty("creationRowCustomValidity"));const o=P.getMessageManager();const a=[];let r;let s;o.getMessageModel().getData().forEach(function(e){if(e.code===n){o.removeMessages(e)}});e.forEach(e=>{if(e.messageTarget){var t;r=P.getControl(i[e.messageTarget].fieldId);s=`${(t=r.getBindingContext())===null||t===void 0?void 0:t.getPath()}/${r.getBindingPath("value")}`;if(o.getMessageModel().getData().filter(function(e){return e.target===s}).length===0){o.addMessages(new T({message:e.messageText,processor:this.getView().getModel(),type:Ie.Error,code:n,technical:false,persistent:false,target:s}))}const a=o.getMessageModel().getData().filter(function(e){return e.target===s});a[0].addControlId(i[e.messageTarget].fieldId)}else{a.push({code:n,text:e.messageText,persistent:true,type:Ie.Error})}});if(a.length>0){this.getMessageHandler().showMessageDialog({customMessages:a})}};const C=(e,t,n,i)=>{if(e&&e!==Pe.NewPage){return e}else{if(!n.isRelative()){const e=n.getPath(),o=t===Ee.Draft?i.getObject(`${e}@com.sap.vocabularies.Common.v1.DraftRoot/NewAction`):i.getObject(`${e}@com.sap.vocabularies.Session.v1.StickySessionSupported/NewAction`);if(o){const e=i.getObject(`/${o}/@$ui5.overload/0/$Parameter`)||[];if(e.length>1){return Pe.Deferred}}}const e=i.getMetaPath(n===null||n===void 0?void 0:n.getHeaderContext().getPath());const o=re(i,e,this.getAppComponent());if(o.length>0){return Pe.Deferred}return Pe.Async}};if(v){n.lock(c)}try{const t=await this.syncTask(h);if(t.length>0){b(t);e.error("Custom Validation failed");return}let o;p=p||{};if(a&&typeof a==="object"){o=a}else if(typeof a==="string"){o=new A(this.getView().getModel(),a);p.creationMode=Pe.Sync;delete p.createAtEnd}else{throw new Error("Binding object or path expected")}const r=o.getModel();const c=this.getProgrammingModel(o);const v=C(p.creationMode,c,o,r.getMetaModel());let T;const x=p.creationRow;let M;let _;let w;const F=r.getMetaModel();const R=this.getInternalRouting();if(v!==Pe.Deferred){if(v===Pe.CreationRow){M=x.getBindingContext();w=F.getMetaPath(M.getPath());_=M.getObject();p.data={};Object.keys(_).forEach(function(e){const t=F.getObject(`${w}/${e}`);if(t&&t.$kind==="NavigationProperty"){return}p.data[e]=_[e]});await this._checkForValidationErrors()}if(v===Pe.CreationRow||v===Pe.Inline){var E,O,S;p.keepTransientContextOnFailed=false;p.busyMode="Local";p.busyId=(E=u)===null||E===void 0?void 0:(O=E.getParent())===null||O===void 0?void 0:(S=O.getTableDefinition())===null||S===void 0?void 0:S.annotation.id;this.handleCreateEvents(o)}if(!p.parentControl){p.parentControl=this.getView()}p.beforeCreateCallBack=this.onBeforeCreate;p.skipParameterDialog=m.getStartupMode()===Ae.AutoCreate;g=l.createDocument(o,p,this.getAppComponent(),this.getMessageHandler(),false);if(!p.bSkipSideEffects){y(o,g)}}let N;switch(v){case Pe.Deferred:N=R.navigateForwardToContext(o,{bDeferredContext:true,editable:true,bForceFocus:true});break;case Pe.Async:N=R.navigateForwardToContext(o,{asyncContext:g,editable:true,bForceFocus:true});break;case Pe.Sync:T={editable:true,bForceFocus:true};if(c==Ee.Sticky||p.createAction){T.transient=true}N=(s=g)===null||s===void 0?void 0:s.then(function(e){if(!e){const e=P.getLibraryResourceBundle("sap.fe.core");return R.navigateToMessagePage(e.getText("C_COMMON_SAPFE_DATA_RECEIVED_ERROR"),{title:e.getText("C_COMMON_SAPFE_ERROR"),description:e.getText("C_EDITFLOW_SAPFE_CREATION_FAILED_DESCRIPTION")})}else{return p.bFromDeferred?R.navigateToContext(e,T):R.navigateForwardToContext(e,T)}});break;case Pe.Inline:this.syncTask(g);break;case Pe.CreationRow:try{const t=M.getBinding();const n=t.create();x.setBindingContext(n);n.created().catch(function(){e.trace("transient fast creation context deleted")});N=M.delete("$direct")}catch(t){if(n.isLocked(this.getView().getModel("ui"))){n.unlock(this.getView().getModel("ui"))}e.error("CreationRow navigation error: ",t)}break;default:N=Promise.reject(`Unhandled creationMode ${v}`);break}if(g){try{const e=await Promise.all([g,N]);this._setStickySessionInternalProperties(c,r);this.setEditMode(Se.Editable);if(!o.isRelative()&&c===Ee.Sticky){var I,D;const e=o.getModel().getMetaModel();const t=e.bindContext(e.getMetaPath(o.getPath()));const n=de(t).startingEntitySet;const i=n===null||n===void 0?void 0:(I=n.annotations.Session)===null||I===void 0?void 0:(D=I.StickySessionSupported)===null||D===void 0?void 0:D.NewAction;this.getInternalModel().setProperty("/lastInvokedAction",i)}const t=e[0];if(t){this.setDocumentModifiedOnCreate(o);if(!this._isFclEnabled()){d.setEditStateDirty()}this._sendActivity(me.Create,t);if(f.isCollaborationDraftSupported(r.getMetaModel())&&!i.isConnected(this.getView())){await he(t)}}}catch(e){if(e===Te.CancelActionDialog||e===Te.ActionExecutionFailed||e===Te.CreationFailed){if(v===Pe.Sync||v===Pe.Deferred||v===Pe.Async){R.navigateBackFromTransientState()}}throw e}}}finally{if(v){n.unlock(c)}}};c.validateDocument=function e(t,n){return this.getTransactionHelper().validateDocument(t,n,this.getView())};c.createMultipleDocuments=async function i(o,a,r,s,l){let c=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;const u=this.getTransactionHelper();const d=this.getGlobalUIModel();const p=o;n.lock(d);try{await this.syncTask();if(l){await l({contextPath:p.getPath()})}const e=p.getModel().getMetaModel();let n;if(p.getContext()){n=e.getMetaPath(`${p.getContext().getPath()}/${p.getPath()}`)}else{n=e.getMetaPath(p.getPath())}this.handleCreateEvents(p);const i=a.map(t=>{const i={data:{}};i.keepTransientContextOnFailed=false;i.busyMode="None";i.creationMode=Pe.CreationRow;i.parentControl=this.getView();i.createAtEnd=r;i.inactive=c;for(const o in t){const a=e.getObject(`${n}/${o}`);if(a&&a.$kind!=="NavigationProperty"&&o.indexOf("/")<0&&t[o]){i.data[o]=t[o]}}return u.createDocument(p,i,this.getAppComponent(),this.getMessageHandler(),s)});const o=await Promise.all(i);if(!c){this.setDocumentModifiedOnCreate(p)}await Promise.all(o.map(e=>{if(!e.bInactive){return e.created()}}));const d=this.getView().getBindingContext();if(!t.hasTransientContext(p)){this.getAppComponent().getSideEffectsService().requestSideEffectsForNavigationProperty(p.getPath(),d)}return o}catch(t){e.error("Error while creating multiple documents.");throw t}finally{n.unlock(d)}};c.onBeforeSave=function e(t){return Promise.resolve()};c.onBeforeCreate=function e(t){return Promise.resolve()};c.onBeforeEdit=function e(t){return Promise.resolve()};c.onBeforeDiscard=function e(t){return Promise.resolve()};c.onBeforeDelete=function e(t){return Promise.resolve()};c.saveDocument=async function t(n,o){o=o||{};const a=o.bExecuteSideEffectsOnError||undefined;const r=true;const s=this.getTransactionHelper();const l=o.bindings;try{await this.syncTask();await this._submitOpenChanges(n);await this._checkForValidationErrors();await this.base.editFlow.onBeforeSave({context:n});const e=this.getProgrammingModel(n);const t=this._getRootViewController();let o;if((e===Ee.Sticky||n.getProperty("HasActiveEntity"))&&t.isFclEnabled()){o=await this._computeSiblingInformation(n,t.getRightmostContext(),e,true)}const c=await s.saveDocument(n,this.getAppComponent(),this._getResourceModel(),a,l,this.getMessageHandler(),this.getCreationMode());this._removeStickySessionInternalProperties(e);this._sendActivity(me.Activate,c);i.disconnect(this.getView());this._triggerConfiguredSurvey(ve.save,fe.standardAction);this.setDocumentModified(false);this.setEditMode(Se.Display,false);this.getMessageHandler().showMessageDialog();if(c!==n){let e=c;if(t.isFclEnabled()){o=o??this._createSiblingInfo(n,c);this._updatePathsInHistory(o.pathMapping);if(o.targetContext.getPath()!==c.getPath()){e=o.targetContext}}await this._handleNewContext(e,false,false,r,true)}}catch(t){if(!(t&&t.canceled)){e.error("Error while saving the document",t)}throw t}};c.toggleDraftActive=async function e(t){const n=t.getObject();let i;const o=t&&this.getProgrammingModel(t)===Ee.Draft;if(!o||!(!n.IsActiveEntity&&n.HasActiveEntity||n.IsActiveEntity&&n.HasDraftEntity)){return}if(!n.IsActiveEntity&&n.HasActiveEntity){i=false}else{i=true}try{const e=this._getRootViewController();const n=e.isFclEnabled()?e.getRightmostContext():t;let o=await this._computeSiblingInformation(t,n,Ee.Draft,false);if(!o&&t!==n){o=await this._computeSiblingInformation(t,t,Ee.Draft,false)}if(o){this.setEditMode(i?Se.Editable:Se.Display,false);if(e.isFclEnabled()){const e=this._getSemanticMapping();if((e===null||e===void 0?void 0:e.technicalPath)===t.getPath()){const t=o.pathMapping[o.pathMapping.length-1].newPath;o.pathMapping.push({oldPath:e.semanticPath,newPath:t})}this._updatePathsInHistory(o.pathMapping)}await this._handleNewContext(o.targetContext,i,true,true,true)}else{throw new Error("Error in EditFlow.toggleDraftActive - Cannot find sibling")}}catch(e){throw new Error(`Error in EditFlow.toggleDraftActive:${e}`)}};c.cancelDocument=async function t(n,o){const a=this.getTransactionHelper();const r=o;let s;let l=false;r.cancelButton=o.control||r.cancelButton;r.beforeCancelCallBack=this.base.editFlow.onBeforeDiscard;try{await this.syncTask();const e=this.getProgrammingModel(n);if((e===Ee.Sticky||n.getProperty("HasActiveEntity"))&&this._isFclEnabled()){const t=this._getRootViewController();s=await this._computeSiblingInformation(n,t.getRightmostContext(),e,true)}const t=await a.cancelDocument(n,r,this.getAppComponent(),this._getResourceModel(),this.getMessageHandler(),this.getCreationMode(),this.isDocumentModified());const o=true;this._removeStickySessionInternalProperties(e);this.setEditMode(Se.Display,false);this.setDocumentModified(false);this.setDraftStatus(Oe.Clear);d.setEditStateDirty();if(!t){this._sendActivity(me.Discard,undefined);i.disconnect(this.getView());if(!r.skipBackNavigation){await this.getInternalRouting().navigateBackFromContext(n);l=true}}else{const a=t;this._sendActivity(me.Discard,a);i.disconnect(this.getView());let l=a;if(this._isFclEnabled()){s=s??this._createSiblingInfo(n,a);this._updatePathsInHistory(s.pathMapping);if(s.targetContext.getPath()!==a.getPath()){l=s.targetContext}}if(e===Ee.Draft){await this._fetchSemanticKeyValues(a);if(!r.skipBindingToView){await this._handleNewContext(l,false,true,o,true)}else{return a}}else{await this._handleNewContext(l,false,false,o,true)}}this.showDocumentDiscardMessage(l)}catch(t){e.error("Error while discarding the document",t)}};c.showDocumentDiscardMessage=function e(t){const n=this._getResourceModel();const i=n.getText("C_TRANSACTION_HELPER_DISCARD_DRAFT_TOAST");if(t==true){const e=this.getAppComponent();e.getRoutingService().attachAfterRouteMatched(this.showMessageWhenNoContext,this)}else{b.show(i)}};c.showMessageWhenNoContext=function e(){const t=this._getResourceModel();const n=t.getText("C_TRANSACTION_HELPER_DISCARD_DRAFT_TOAST");const i=this.getAppComponent();b.show(n);i.getRoutingService().detachAfterRouteMatched(this.showMessageWhenNoContext,this)};c.isDraftRoot=function e(t){const n=t.getModel().getMetaModel();const i=n.getMetaContext(t.getPath());return f.isDraftRoot(de(i).targetEntitySet)};c.deleteDocument=async function t(n,i){const o=this.getAppComponent();let a=i;if(!a){a={bFindActiveContexts:false}}else{a.bFindActiveContexts=false}a.beforeDeleteCallBack=this.base.editFlow.onBeforeDelete;try{if(this._isFclEnabled()&&this.isDraftRoot(n)&&n.getIndex()===undefined&&n.getProperty("IsActiveEntity")===true&&n.getProperty("HasDraftEntity")===true){a.beforeDeleteCallBack=async t=>{await this.base.editFlow.onBeforeDelete(t);try{const e=n.getModel();const t=e.bindContext(`${n.getPath()}/SiblingEntity`).getBoundContext();const i=await t.requestCanonicalPath();const o=e.getKeepAliveContext(i);o.replaceWith(n)}catch(t){e.error("Error while replacing the draft instance in the LR ODLB",t)}}}await this.deleteDocumentTransaction(n,a);if(!this._isFclEnabled()){d.setEditStateDirty()}this._sendActivity(me.Delete,n);if(o){o.getShellServices().setBackNavigation()}if((o===null||o===void 0?void 0:o.getStartupMode())===Ae.Deeplink&&!this._isFclEnabled()){o.getRouterProxy().exitFromApp()}else{this.getInternalRouting().navigateBackFromContext(n)}}catch(t){e.error("Error while deleting the document",t)}};c.applyDocument=async function e(t){const i=this.getGlobalUIModel();n.lock(i);try{await this.syncTask();await this._submitOpenChanges(t);await this._checkForValidationErrors();await this.getMessageHandler().showMessageDialog();await this.getInternalRouting().navigateBackFromContext(t)}finally{if(n.isLocked(i)){n.unlock(i)}}};c.invokeAction=async function t(n,o,a){var r;let s;const l=this.getTransactionHelper();let c;let u;let p;const f=this.getView();let g=o||{};if(g.isA&&g.isA("sap.ui.model.odata.v4.Context")||Array.isArray(g)||a!==undefined){const e=g;g=a||{};if(e){g.contexts=e}else{g.model=this.getView().getModel()}}g.isNavigable=g.requiresNavigation||g.isNavigable;const v=pe((r=this.getView().getModel())===null||r===void 0?void 0:r.getMetaModel());if(n.indexOf(""+v.entityContainer.name)>-1){g.isBound=false}else{g.isBound=true}if(!g.parentControl){g.parentControl=this.getView()}if(g.controlId){s=this.getView().byId(g.controlId);if(s){g.internalModelContext=s.getBindingContext("internal")}}else{g.internalModelContext=f.getBindingContext("internal")}if(n&&n.indexOf("(")>-1){c=n.split("(");n=c[0];u=c[c.length-1].replaceAll(")","")}if(g.bStaticAction){if(s.isTableBound()){g.contexts=s.getRowBinding().getHeaderContext()}else{const e=s.data("rowsBindingInfo").path,t=new A(this.getView().getModel(),e);g.contexts=t.getHeaderContext()}if(u&&s.getBindingContext()){g.contexts=this._getActionOverloadContextFromMetadataPath(s.getBindingContext(),s.getRowBinding(),u)}if(g.enableAutoScroll){p=this.createActionPromise(n,s.sId)}}g.bGetBoundContext=this._getBoundContext(f,g);g.bObjectPage=f.getViewData().converterType==="ObjectPage";try{await this.syncTask();const t=await l.callAction(n,g,this.getView(),this.getAppComponent(),this.getMessageHandler());let o;if(g.contexts&&g.isBound===true){o=await this._refreshListIfRequired(this.getActionResponseDataAndKeys(n,t),g.contexts[0])}if(i.isConnected(this.getView())){let e=[];if(t){e=Array.isArray(t)?Object.keys(t[0].value.getObject()):Object.keys(t.getObject())}this._sendActivity(me.Action,g.contexts,n,o,e)}this._triggerConfiguredSurvey(n,fe.action);if(p){p.fResolver(t)}if(g.contexts){if(!this._isFclEnabled()){d.setEditStateDirty()}this.getInternalModel().setProperty("/lastInvokedAction",n)}if(g.isNavigable){let n=t;if(Array.isArray(n)&&n.length===1){n=n[0].value}if(n&&!Array.isArray(n)){const t=f.getModel().getMetaModel();const i=t.getMetaPath(n.getPath());const o=(e,t)=>e.filter(e=>{if(t){return t.indexOf(e)>-1}return true});const a=Array.isArray(g.contexts)?o(g.contexts,g.applicableContexts)[0]:g.contexts;const r=a&&t.getMetaPath(a.getPath());if(i!=undefined&&i===r){if(a.getPath()!==n.getPath()){this.getInternalRouting().navigateForwardToContext(n,{checkNoHashChange:true,noHistoryEntry:false})}else{e.info("Navigation to the same context is not allowed")}}}}return t}catch(e){if(p){p.fRejector()}if(e===Te.CancelActionDialog){throw new Error("Dialog cancelled")}else if(!(e&&(e.canceled||e.rejectedItems&&e.rejectedItems[0].canceled))){throw new Error(`Error in EditFlow.invokeAction:${e}`)}}};c.securedExecution=function e(t,i){var o,a;const r=(i===null||i===void 0?void 0:(o=i.busy)===null||o===void 0?void 0:o.set)??true,s=(i===null||i===void 0?void 0:(a=i.busy)===null||a===void 0?void 0:a.check)??true,l=(i===null||i===void 0?void 0:i.updatesDocument)??false,c=this.getGlobalUIModel(),u=this.getView().getBindingContext(),p=u&&this.getProgrammingModel(u)===Ee.Draft;if(s&&n.isLocked(c)){return Promise.reject("Application already busy therefore execution rejected")}if(r){n.lock(c)}if(l&&p){this.setDraftStatus(Oe.Saving)}this.getMessageHandler().removeTransitionMessages();return this.syncTask(t).then(()=>{if(l){this.setDocumentModified(true);if(!this._isFclEnabled()){d.setEditStateDirty()}if(p){this.setDraftStatus(Oe.Saved)}}}).catch(e=>{if(l&&p){this.setDraftStatus(Oe.Clear)}return Promise.reject(e)}).finally(()=>{if(r){n.unlock(c)}this.getMessageHandler().showMessageDialog()})};c.handlePatchSent=function e(t){var n,o;const a=i.isConnected(this.getView());if(a){t.getSource().getModel().setIgnoreETag(true)}if(!((n=this.getView())!==null&&n!==void 0&&(o=n.getBindingContext("internal"))!==null&&o!==void 0&&o.getProperty("skipPatchHandlers"))){const e=t.getSource();const n=new Promise((n,i)=>{t.getSource().attachEventOnce("patchCompleted",o=>{if(a){t.getSource().getModel().setIgnoreETag(false)}if(t.getSource().isA("sap.ui.model.odata.v4.ODataListBinding")){var r;I.setActionEnablementAfterPatch(this.getView(),e,(r=this.getView())===null||r===void 0?void 0:r.getBindingContext("internal"))}const s=o.getParameter("success");if(s){n()}else{i()}})});this.updateDocument(e,n)}};c.handleCreateActivate=async function t(n){const i=n.getSource();const o=this.getTransactionHelper();const a=true;const r=true;const s={creationMode:Pe.Inline,createAtEnd:a,inactive:r,keepTransientContextOnFailed:false,busyMode:"None"};try{var l;const t=n.getParameter("context");(l=t.created())===null||l===void 0?void 0:l.then(()=>{this._sendActivity(me.Create,t)}).catch(()=>{e.warning(`Failed to activate context ${t.getPath()}`)});const a=await o.createDocument(i,s,this.getAppComponent(),this.getMessageHandler(),false);if(a){if(!this._isFclEnabled()){d.setEditStateDirty()}}}catch(t){e.error("Failed to activate new row -",t)}};c.syncTask=function e(t){if(t){if(typeof t==="function"){this.syncTasks=this.syncTasks.then(t).catch(function(){return Promise.resolve()})}else{this.syncTasks=this.syncTasks.then(()=>t).catch(function(){return Promise.resolve()})}}return this.syncTasks};c.computeEditMode=async function t(n){const i=this.getProgrammingModel(n);if(i===Ee.Draft){try{this.setDraftStatus(Oe.Clear);const e=this.getGlobalUIModel();e.setProperty("/isEditablePending",true,undefined,true);const t=await n.requestObject("IsActiveEntity");if(t===false){this.setEditMode(Se.Editable);const e=await n.requestObject("HasActiveEntity");this.setEditMode(undefined,!e)}else{this.setEditMode(Se.Display,false)}e.setProperty("/isEditablePending",false,undefined,true)}catch(t){e.error("Error while determining the editMode for draft",t);throw t}}else if(i===Ee.Sticky){const e=this.getInternalModel().getProperty("/lastInvokedAction");if(e&&this.isNewActionForSticky(e,n)){this.setEditMode(Se.Editable,true);if(!this.getAppComponent()._isFclEnabled()){d.setEditStateDirty()}this.handleStickyOn(n);this.getInternalModel().setProperty("/lastInvokedAction",undefined)}}};c.deleteDocumentTransaction=async function e(t,n){var i;const o=ae(this);const a=this.getTransactionHelper();n.internalModelContext=n.controlId?(i=sap.ui.getCore().byId(n.controlId))===null||i===void 0?void 0:i.getBindingContext("internal"):null;await this.syncTask();await a.deleteDocument(t,n,this.getAppComponent(),o,this.getMessageHandler())};c._getResourceModel=function e(){return ae(this.getView())};c.getTransactionHelper=function e(){return s};c.getMessageHandler=function e(){if(this.base.messageHandler){return this.base.messageHandler}else{throw new Error("Edit Flow works only with a given message handler")}};c.getInternalModel=function e(){return this.getView().getModel("internal")};c.getGlobalUIModel=function e(){return this.getView().getModel("ui")};c.setCreationMode=function e(t){const n=this.getView().getBindingContext("ui");this.getGlobalUIModel().setProperty("createMode",t,n,true)};c.getCreationMode=function e(){const t=this.getView().getBindingContext("ui");return!!this.getGlobalUIModel().getProperty("createMode",t)};c.isDocumentModified=function e(){return!!this.getGlobalUIModel().getProperty("/isDocumentModified")};c.setDocumentModified=function e(t){this.getGlobalUIModel().setProperty("/isDocumentModified",t)};c.setDocumentModifiedOnCreate=function e(t){if(t.isRelative()){this.setDocumentModified(true)}};c.handleCreateEvents=function e(t){this.setDraftStatus(Oe.Clear);const n=this.getProgrammingModel(t);t.attachEvent("createSent",()=>{if(n===Ee.Draft){this.setDraftStatus(Oe.Saving)}});t.attachEvent("createCompleted",e=>{const t=e.getParameter("success");if(n===Ee.Draft){this.setDraftStatus(t?Oe.Saved:Oe.Clear)}this.getMessageHandler().showMessageDialog()})};c.setDraftStatus=function e(t){this.getView().getModel("ui").setProperty("/draftStatus",t,undefined,true)};c.getProgrammingModel=function e(t){return this.getTransactionHelper().getProgrammingModel(t)};c.setEditMode=function e(t,n){const i=this.getGlobalUIModel();if(t){i.setProperty("/isEditable",t==="Editable",undefined,true)}if(n!==undefined){this.setCreationMode(n)}};c.isNewActionForSticky=function t(n,i){try{var o;const e=i.getModel().getMetaModel();const t=e.getMetaContext(i.getPath());const a=de(t).startingEntitySet;const r=(o=a.annotations.Session)===null||o===void 0?void 0:o.StickySessionSupported;if((r===null||r===void 0?void 0:r.NewAction)===n){return true}if(r!==null&&r!==void 0&&r.AdditionalNewActions&&(r===null||r===void 0?void 0:r.AdditionalNewActions.indexOf(n))!==-1){return true}return false}catch(t){e.info(t);return false}};c.handleStickyOn=function t(n){const i=this.getAppComponent();try{if(i===undefined){throw new Error("undefined AppComponent for function handleStickyOn")}if(!i.getRouterProxy().hasNavigationGuard()){const e=i.getRouterProxy().getHash();const t=this.getInternalModel();setTimeout(function(){i.getRouterProxy().setNavigationGuard(n.getPath().substring(1))},0);i.getShellServices().setBackNavigation(this.onBackNavigationInSession.bind(this));this.dirtyStateProviderFunction=this.getDirtyStateProvider(i,t,e);i.getShellServices().registerDirtyStateProvider(this.dirtyStateProviderFunction);const o=this.getView().getModel("sap.fe.i18n");this.sessionTimeoutFunction=this.getSessionTimeoutFunction(n,o);this.getView().getModel().attachSessionTimeout(this.sessionTimeoutFunction);this.stickyDiscardAfterNavigationFunction=this.getRouteMatchedFunction(n,i);i.getRoutingService().attachRouteMatched(this.stickyDiscardAfterNavigationFunction)}}catch(t){e.info(t);return false}return true};c.handleStickyOff=function t(){const n=this.getAppComponent();try{if(n===undefined){throw new Error("undefined AppComponent for function handleStickyOff")}if(n.getRouterProxy){n.getRouterProxy().discardNavigationGuard()}if(this.dirtyStateProviderFunction){n.getShellServices().deregisterDirtyStateProvider(this.dirtyStateProviderFunction);this.dirtyStateProviderFunction=undefined}const e=this.getView().getModel();if(e&&this.sessionTimeoutFunction){e.detachSessionTimeout(this.sessionTimeoutFunction)}n.getRoutingService().detachRouteMatched(this.stickyDiscardAfterNavigationFunction);this.stickyDiscardAfterNavigationFunction=undefined;this.setEditMode(Se.Display,false);if(n.getShellServices){n.getShellServices().setBackNavigation()}}catch(t){e.info(t);return false}return true};c._setStickySessionInternalProperties=function e(t,n){if(t===Ee.Sticky){const e=this.getInternalModel();e.setProperty("/sessionOn",true);e.setProperty("/stickySessionToken",n.getHttpHeaders(true)["SAP-ContextId"])}};c.getDirtyStateProvider=function t(n,i,o){return t=>{try{if(t===undefined){throw new Error("Invalid input parameters for DirtyStateProvider function")}const e=t.innerAppRoute;const a=n.getRouterProxy();let r="";let s;const l=i.getProperty("/sessionOn");if(!l){return undefined}if(!a.isNavigationFinalized()){s=false;r=e}else if(o===e){s=true}else if(a.checkHashWithGuard(e)||a.isGuardCrossAllowedByUser()){r=e;s=false}else{s=true}if(s){setTimeout(function(){n.getShellServices().setDirtyFlag(false)},0)}else{o=r}return s}catch(t){e.info(t);return undefined}}};c.getSessionTimeoutFunction=function t(n,i){return()=>{try{if(n===undefined){throw new Error("Context missing for SessionTimeout function")}this.getMessageHandler().removeTransitionMessages();const e=new y({title:"{sap.fe.i18n>C_EDITFLOW_OBJECT_PAGE_SESSION_EXPIRED_DIALOG_TITLE}",state:"Warning",content:new C({text:"{sap.fe.i18n>C_EDITFLOW_OBJECT_PAGE_SESSION_EXPIRED_DIALOG_MESSAGE}"}),beginButton:new m({text:"{sap.fe.i18n>C_COMMON_DIALOG_OK}",type:"Emphasized",press:()=>{this.handleStickyOff();this.getInternalRouting().navigateBackFromContext(n)}}),afterClose:function(){e.destroy()}});e.addStyleClass("sapUiContentPadding");e.setModel(i,"sap.fe.i18n");this.getView().addDependent(e);e.open()}catch(t){e.info(t);return undefined}return true}};c.getRouteMatchedFunction=function e(t,n){return()=>{const e=n.getRouterProxy().getHash();if(!e||!n.getRouterProxy().checkHashWithGuard(e)){this.discardStickySession(t);setTimeout(()=>{t.getModel().clearSessionContext()},0)}}};c.discardStickySession=async function e(t){const n=await r.discardDocument(t);if(n!==null&&n!==void 0&&n.hasPendingChanges()){n.getBinding().resetChanges()}n===null||n===void 0?void 0:n.refresh();this.handleStickyOff()};c.getInternalRouting=function e(){if(this.base._routing){return this.base._routing}else{throw new Error("Edit Flow works only with a given routing listener")}};c._getRootViewController=function e(){return this.getAppComponent().getRootViewController()};c._getSemanticMapping=function e(){return this.getAppComponent().getRoutingService().getLastSemanticMapping()};c.createActionPromise=function e(t,n){let i,o;this.actionPromise=new Promise((e,t)=>{i=e;o=t}).then(e=>Object.assign({controlId:n},this.getActionResponseDataAndKeys(t,e)));return{fResolver:i,fRejector:o}};c.getActionResponseDataAndKeys=function e(t,n){if(Array.isArray(n)){if(n.length===1){n=n[0].value}else{return null}}if(!n){return null}const i=this.getView();const o=i.getModel().getMetaModel().getData();const a=o&&o[t]&&o[t][0]&&o[t][0].$ReturnType?o[t][0].$ReturnType.$Type:null;const r=a&&o[a]?o[a].$Key:null;return{oData:n.getObject(),keys:r}};c.getCurrentActionPromise=function e(){return this.actionPromise};c.deleteCurrentActionPromise=function e(){this.actionPromise=undefined};c._scrollAndFocusOnInactiveRow=function e(t){const n=t.getRowBinding();const i=n.getCount()||0;if(t.data("tableType")!=="ResponsiveTable"){if(i>0){t.scrollToIndex(i-1)}t.focusRow(i,true)}else{const e=n.getContexts();if(!(e!==null&&e!==void 0&&e.length)){t.focusRow(i,true);return}let o=i,a=0;for(const t of e){if(t.isInactive()&&a<o){o=a}a++}if(o>0){t.scrollToIndex(o)}t.focusRow(o,true)}};c.createEmptyRowsAndFocus=async function e(t){var n,i,o;const a=t.getParent();if(a!==null&&a!==void 0&&(n=a.tableDefinition)!==null&&n!==void 0&&(i=n.control)!==null&&i!==void 0&&i.inlineCreationRowsHiddenInEditMode&&!((o=t.getBindingContext("ui"))!==null&&o!==void 0&&o.getProperty("createMode"))){await a.setUpEmptyRows(t,true)}this._scrollAndFocusOnInactiveRow(t)};c._sendActivity=function e(t,n,o,a,r){const s=Array.isArray(n)?n.map(e=>e.getPath()):n===null||n===void 0?void 0:n.getPath();i.send(this.getView(),t,s,o,a,r)};c._triggerConfiguredSurvey=function e(t,n){ge(this.getView(),t,n)};c._submitOpenChanges=async function e(t){const i=t.getModel(),o=this.getGlobalUIModel();try{await i.submitBatch("$auto");await i.oRequestor.waitForRunningChangeRequests("$auto");if(i.hasPendingChanges("$auto")){throw new Error("submit of open changes failed")}}finally{if(n.isLocked(o)){n.unlock(o)}}};c._removeStickySessionInternalProperties=function e(t){if(t===Ee.Sticky){const e=this.getInternalModel();e.setProperty("/sessionOn",false);e.setProperty("/stickySessionToken",undefined);this.handleStickyOff()}};c.onBackNavigationInSession=function e(){const t=this.getView();const n=this.getAppComponent().getRouterProxy();if(n.checkIfBackIsOutOfGuard()){const e=t.getBindingContext();const n=this.getProgrammingModel(e);r.processDataLossConfirmation(async()=>{await this.discardStickySession(e);this._removeStickySessionInternalProperties(n);history.back()},t,n);return}history.back()};c._handleNewContext=async function e(t,n,i,o){let a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;if(!this._isFclEnabled()){d.setEditStateDirty()}await this.getInternalRouting().navigateToContext(t,{checkNoHashChange:true,editable:n,bPersistOPScroll:true,bRecreateContext:i,bDraftNavigation:o,showPlaceholder:false,bForceFocus:a,keepCurrentLayout:true})};c._getBoundContext=function e(t,n){const i=t.getViewData().viewLevel;const o=i>1||i===1&&n.controlId;return!n.isNavigable||!!o};c._checkForValidationErrors=function e(){return this.syncTask().then(()=>{const e=this.getView().getId();const t=sap.ui.getCore().getMessageManager().getMessageModel().getData();let n;let i;if(!t.length){return Promise.resolve("No validation errors found")}for(let o=0;o<t.length;o++){i=t[o];if(i.validation){n=P.byId(i.getControlId());while(n){if(n.getId()===e){return Promise.reject("validation errors exist")}n=n.getParent()}}}})};c._refreshListIfRequired=function t(n,i){if(!i||!n||!n.oData){return Promise.resolve(undefined)}const o=i.getBinding();if(o&&o.isA("sap.ui.model.odata.v4.ODataListBinding")){const t=n.oData;const a=n.keys;const r=i.getObject();let s=true;if(Object.keys(t).length){s=a.every(function(e){return r[e]===t[e]});if(!s){return new Promise(t=>{if(o.isRoot()){o.attachEventOnce("dataReceived",function(){t(!s)});o.refresh()}else{const n=this.getAppComponent();n.getSideEffectsService().requestSideEffects([{$NavigationPropertyPath:o.getPath()}],o.getContext()).then(function(){t(!s)},function(){e.error("Error while refreshing the table");t(!s)}).catch(function(t){e.error("Error while refreshing the table",t)})}})}}}return Promise.resolve(undefined)};c._fetchSemanticKeyValues=function e(t){const n=t.getModel().getMetaModel(),i=n.getMetaContext(t.getPath()).getObject("@sapui.name"),o=v.getSemanticKeys(n,i);if(o&&o.length){const e=o.map(function(e){return t.requestObject(e.$PropertyPath)});return Promise.all(e)}else{return Promise.resolve()}};c._getActionOverloadContextFromMetadataPath=function e(t,n,i){const o=t.getModel();const a=o.getMetaModel();let r=n.getPath().split("/");let s=t;r.pop();if(r.length===0){r=[""]}if(r[0]!==""){r.unshift("")}const l=r.map(e=>{if(e!==""){s=o.bindContext(e,s).getBoundContext()}else{s=t}return s}).reverse();const c=l.find(e=>a.getMetaContext(e.getPath()).getObject("$Type")===i);return c||n.getHeaderContext()};c._createSiblingInfo=function e(t,n){return{targetContext:n,pathMapping:[{oldPath:t.getPath(),newPath:n.getPath()}]}};c._updatePathsInHistory=function e(t){const n=this.getAppComponent();n.getRouterProxy().setPathMapping(t);const i=this._getSemanticMapping();if(t.length&&(i===null||i===void 0?void 0:i.technicalPath)===t[t.length-1].oldPath){i.technicalPath=t[t.length-1].newPath}};c._getNavigationTargetForEdit=function e(t,n,i){let o;i=i??this._createSiblingInfo(t,n);this._updatePathsInHistory(i.pathMapping);if(i.targetContext.getPath()!=n.getPath()){o=i.targetContext}return o};c._computeSiblingInformation=async function t(n,i,o,r){i=i??n;if(!i.getPath().startsWith(n.getPath())){e.error("Cannot compute rightmost sibling context");throw new Error("Cannot compute rightmost sibling context")}if(r&&i.getPath()===n.getPath()){return Promise.resolve(undefined)}const s=n.getModel();if(o===Ee.Draft){return a.computeSiblingInformation(n,i)}else{return{targetContext:s.bindContext(i.getPath()).getBoundContext(),pathMapping:[]}}};c._isFclEnabled=function e(){return this.getAppComponent()._isFclEnabled()};return l}(O),Ce(oe.prototype,"editDocument",[x,M],Object.getOwnPropertyDescriptor(oe.prototype,"editDocument"),oe.prototype),Ce(oe.prototype,"updateDocument",[_,w],Object.getOwnPropertyDescriptor(oe.prototype,"updateDocument"),oe.prototype),Ce(oe.prototype,"createDocument",[F,R],Object.getOwnPropertyDescriptor(oe.prototype,"createDocument"),oe.prototype),Ce(oe.prototype,"onBeforeSave",[N,$],Object.getOwnPropertyDescriptor(oe.prototype,"onBeforeSave"),oe.prototype),Ce(oe.prototype,"onBeforeCreate",[V,L],Object.getOwnPropertyDescriptor(oe.prototype,"onBeforeCreate"),oe.prototype),Ce(oe.prototype,"onBeforeEdit",[B,j],Object.getOwnPropertyDescriptor(oe.prototype,"onBeforeEdit"),oe.prototype),Ce(oe.prototype,"onBeforeDiscard",[k,U],Object.getOwnPropertyDescriptor(oe.prototype,"onBeforeDiscard"),oe.prototype),Ce(oe.prototype,"onBeforeDelete",[H,G],Object.getOwnPropertyDescriptor(oe.prototype,"onBeforeDelete"),oe.prototype),Ce(oe.prototype,"saveDocument",[z,W],Object.getOwnPropertyDescriptor(oe.prototype,"saveDocument"),oe.prototype),Ce(oe.prototype,"cancelDocument",[q,K],Object.getOwnPropertyDescriptor(oe.prototype,"cancelDocument"),oe.prototype),Ce(oe.prototype,"deleteDocument",[Q,Y],Object.getOwnPropertyDescriptor(oe.prototype,"deleteDocument"),oe.prototype),Ce(oe.prototype,"applyDocument",[J,X],Object.getOwnPropertyDescriptor(oe.prototype,"applyDocument"),oe.prototype),Ce(oe.prototype,"invokeAction",[Z,ee],Object.getOwnPropertyDescriptor(oe.prototype,"invokeAction"),oe.prototype),Ce(oe.prototype,"securedExecution",[te,ne],Object.getOwnPropertyDescriptor(oe.prototype,"securedExecution"),oe.prototype),oe))||ie);return De},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/Feedback",["sap/ui/core/Core"],function(e){"use strict";var t={};let n;(function(e){e["action"]="actions";e["standardAction"]="standardActions"})(n||(n={}));t.TriggerType=n;let i;(function(e){e["save"]="save"})(i||(i={}));t.StandardActions=i;const o="sap.feedback";const a="inapp.feature";function r(t,n,i){const r={areaId:t,triggerName:n,payload:i};e.getEventBus().publish(o,a,r)}t.triggerSurvey=r;function s(e,t,n){var i,o,a;const s=(i=e.getViewData())===null||i===void 0?void 0:(o=i.content)===null||o===void 0?void 0:o.feedback;const l=s===null||s===void 0?void 0:(a=s[n])===null||a===void 0?void 0:a[t];if(l){r(l.areaId,l.triggerName,l.payload)}}t.triggerConfiguredSurvey=s;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/IntentBasedNavigation",["sap/fe/core/helpers/ClassSupport","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution"],function(e,t,n){"use strict";var i,o,a,r,s,l,c,u,d;var p={};var f=e.publicExtension;var g=e.finalExtension;var v=e.extensible;var h=e.defineUI5Class;function m(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}function y(e,t){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return y(e,t)}function b(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}let C;(function(e){e["Default"]="default";e["Initiator"]="initiator"})(C||(C={}));p.ContextStrategy=C;let P=(i=h("sap.fe.core.controllerextensions.IntentBasedNavigation"),o=f(),a=v(n.After),r=f(),s=v(n.After),l=g(),c=f(),i(u=(d=function(e){m(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.adaptContextPreparationStrategy=function e(t){return C.Default};n.adaptNavigationContext=function e(t,n){};n.navigateOutbound=function e(t,n){var i,o;const a=(i=this.base)===null||i===void 0?void 0:i.getView().getBindingContext("internal");a.setProperty("externalNavigationContext",{page:false});(o=this.base)===null||o===void 0?void 0:o._intentBasedNavigation.navigateOutbound(t,n)};return t}(t),b(d.prototype,"adaptContextPreparationStrategy",[o,a],Object.getOwnPropertyDescriptor(d.prototype,"adaptContextPreparationStrategy"),d.prototype),b(d.prototype,"adaptNavigationContext",[r,s],Object.getOwnPropertyDescriptor(d.prototype,"adaptNavigationContext"),d.prototype),b(d.prototype,"navigateOutbound",[l,c],Object.getOwnPropertyDescriptor(d.prototype,"navigateOutbound"),d.prototype),d))||u);return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/InternalIntentBasedNavigation",["sap/base/Log","sap/base/util/merge","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/KeepAliveHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/navigation/SelectionVariant","sap/ui/core/Core","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","../converters/helpers/Aggregation","./editFlow/NotApplicableContextDialog"],function(e,t,n,i,o,a,r,s,l,c,u,d,p,f,g){"use strict";var v,h,m,y,b,C,P,E,T,O,S,A,I,D,x,M,_,w,F,R,N,$,V;var L=f.AggregationHelper;var B=l.getResourceModel;var j=a.publicExtension;var k=a.privateExtension;var U=a.methodOverride;var H=a.finalExtension;var G=a.extensible;var z=a.defineUI5Class;var W=o.convertTypes;function q(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;K(e,t)}function K(e,t){K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return K(e,t)}function Q(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}let Y=(v=z("sap.fe.core.controllerextensions.InternalInternalBasedNavigation"),h=U(),m=j(),y=H(),b=j(),C=H(),P=j(),E=H(),T=j(),O=G(p.Instead),S=j(),A=H(),I=k(),D=j(),x=H(),M=j(),_=H(),w=j(),F=H(),R=j(),N=H(),v($=(V=function(a){q(l,a);function l(){return a.apply(this,arguments)||this}var d=l.prototype;d.onInit=function e(){this._oAppComponent=this.base.getAppComponent();this._oMetaModel=this._oAppComponent.getModel().getMetaModel();this._oNavigationService=this._oAppComponent.getNavigationService();this._oView=this.base.getView()};d.navigate=function e(n,o,a){const l=e=>{const i=a&&a.navigationContexts,s=i&&!Array.isArray(i)?[i]:i,l=a&&a.semanticObjectMapping,d=a&&a.additionalNavigationParameters,p={semanticObject:n,action:o},f=this.base.getView(),g=f.getController();if(e){this._oView.setBindingContext(e)}if(n&&o){let e=[],i=new c;if(s&&s.length){s.forEach(t=>{if(t.isA&&t.isA("sap.ui.model.odata.v4.Context")){let n=t.getObject();const i=this._oMetaModel.getMetaPath(t.getPath());n=this.removeSensitiveData(n,i);const o=this.prepareContextForExternalNavigation(n,t);p["propertiesWithoutConflict"]=o.propertiesWithoutConflict;e.push(o.semanticAttributes)}else if(!(t&&Array.isArray(t.data))&&typeof t==="object"){e.push(this.removeSensitiveData(t.data,t.metaPath))}else if(t&&Array.isArray(t.data)){e=this.removeSensitiveData(t.data,t.metaPath)}})}if(e&&e.length){i=this._oNavigationService.mixAttributesAndSelectionVariant(e,i.toJSONString())}const v=this._oView.getModel(),h=this.getEntitySet(),m=h?this._oNavigationService.constructContextUrl(h,v):undefined;if(m){i.setFilterContextUrl(m)}if(d){this._applyOutboundParams(i,d)}g.intentBasedNavigation.adaptNavigationContext(i,p);if(l){this._applySemanticObjectMappings(i,l)}this._removeTechnicalParameters(i);const y=g._intentBasedNavigation.getNavigationMode();const b=a&&a.refreshStrategies||{},C=f.getModel("internal");if(C){if((f&&f.getViewData()).refreshStrategyOnAppRestore){const e=f.getViewData().refreshStrategyOnAppRestore||{};t(b,e)}const e=r.getRefreshStrategyForIntent(b,n,o);if(e){C.setProperty("/refreshStrategyOnAppRestore",e)}}const P=function(){sap.ui.require(["sap/m/MessageBox"],function(e){const t=u.getLibraryResourceBundle("sap.fe.core");e.error(t.getText("C_COMMON_HELPER_NAVIGATION_ERROR_MESSAGE"),{title:t.getText("C_COMMON_SAPFE_ERROR")})})};this._oNavigationService.navigate(n,o,i.toJSONString(),undefined,P,undefined,y)}else{throw new Error("Semantic Object/action is not provided")}};const d=this.base.getView().getBindingContext();const p=d&&d.getModel().getMetaModel();if(this.getView().getViewData().converterType==="ObjectPage"&&p&&!s.isStickySessionSupported(p)){i.processDataLossOrDraftDiscardConfirmation(l.bind(this),Function.prototype,this.base.getView().getBindingContext(),this.base.getView().getController(),true,i.NavigationType.ForwardNavigation)}else{l()}};d.prepareContextForExternalNavigation=function e(t,n){const i={},o=n.getPath(),a=n.getModel().getMetaModel(),r=a.getMetaPath(o),s=r.split("/").filter(Boolean);function l(e,t){for(const n in e){if(e[n]===null||typeof e[n]!=="object"){if(!i[n]){i[n]=[]}i[n].push(t)}else{const i=e[n];l(i,`${t}/${n}`)}}}l(t,r);const c=s[0],u=a.getObject(`/${c}/@sapui.name`),d={};let p,f,g;for(const e in i){const o=i[e];let s;if(o.length>1){for(let i=0;i<=o.length-1;i++){const s=o[i];let l=s.replace(s===r?r:`${r}/`,"");l=(l===""?l:`${l}/`)+e;const c=a.getObject(`${s}/@sapui.name`);if(c===u){p=l}if(s===r){f=l}g=l;t[`${r}/${l}`.split("/").filter(function(e){return e!=""}).join(".")]=n.getProperty(l)}s=p||f||g;t[e]=n.getProperty(s);p=undefined;f=undefined;g=undefined}else{const i=o[0];let a=i.replace(i===r?r:`${r}/`,"");a=(a===""?a:`${a}/`)+e;t[e]=n.getProperty(a);d[e]=`${r}/${a}`.split("/").filter(function(e){return e!=""}).join(".")}}for(const e in t){if(t[e]!==null&&typeof t[e]==="object"){delete t[e]}}return{semanticAttributes:t,propertiesWithoutConflict:d}};d.prepareFiltersForExternalNavigation=function e(t,n,i){let o;const a={};const r={};let s,l,c,u,d;function p(e){let t;for(let i in e){if(e[i]){if(i.includes("/")){t=i;const e=i.split("/");i=e[e.length-1]}else{t=n}if(!a[i]){a[i]=[]}a[i].push(t)}}}p(t);for(const e in a){const p=a[e];if(p.length>1){for(let a=0;a<=p.length-1;a++){o=p[a];if(o===n){c=`${n}/${e}`;d=e;s=e;if(i&&i.includes(e)){t[`$Parameter.${e}`]=t[e]}}else{d=o;c=`${n}/${o}`.replaceAll(/\*/g,"");l=o}t[c.split("/").filter(function(e){return e!=""}).join(".")]=t[d];delete t[o]}u=s||l;t[e]=t[u]}else{o=p[0];c=o===n?`${n}/${e}`:`${n}/${o}`.replaceAll("*","");r[e]=c.split("/").filter(function(e){return e!=""}).join(".");if(i&&i.includes(e)){t[`$Parameter.${e}`]=t[e]}}}return{filterConditions:t,filterConditionsWithoutConflict:r}};d.getNavigationMode=function e(){return undefined};d.navigateWithConfirmationDialog=async function e(t,n,i){var o;let a=true;if(i!==null&&i!==void 0&&i.notApplicableContexts&&((o=i.notApplicableContexts)===null||o===void 0?void 0:o.length)>=1){const e=this.getView().getModel().getMetaModel();const t=e.getMetaPath(i.notApplicableContexts[0].getPath());const n=W(e);const o=n.resolvePath(t).target;const r=new g({title:"",entityType:o.entityType,resourceModel:B(this.getView()),notApplicableContexts:i.notApplicableContexts});i.navigationContexts=i.applicableContexts;a=await r.open(this.getView())}if(a){this.navigate(t,n,i)}};d._removeTechnicalParameters=function e(t){t.removeSelectOption("@odata.context");t.removeSelectOption("@odata.metadataEtag");t.removeSelectOption("SAP__Messages")};d.getEntitySet=function e(){return this._oView.getViewData().entitySet};d.removeSensitiveData=function e(t,n){if(t){const{transAggregations:e,customAggregates:s}=this._getAggregates(n,this.base.getView(),this.base.getAppComponent().getDiagnostics());const l=Object.keys(t);if(l.length){delete t["@odata.context"];delete t["@odata.metadataEtag"];delete t["SAP__Messages"];for(const c of l){if(t[c]&&typeof t[c]==="object"){this.removeSensitiveData(t[c],`${n}/${c}`)}if(c.indexOf("@odata.type")>-1){delete t[c];continue}this._deleteAggregates([...e,...s],c,t);const l=this._getPropertyAnnotations(c,n,t,this._oMetaModel);if(l){var i,o,a,r;if((i=l.PersonalData)!==null&&i!==void 0&&i.IsPotentiallySensitive||(o=l.UI)!==null&&o!==void 0&&o.ExcludeFromNavigationContext||(a=l.Analytics)!==null&&a!==void 0&&a.Measure){delete t[c]}else if((r=l.Common)!==null&&r!==void 0&&r.FieldControl){const e=l.Common.FieldControl;if(e["$EnumMember"]&&e["$EnumMember"].split("/")[1]==="Inapplicable"||e["$Path"]&&this._isFieldControlPathInapplicable(e["$Path"],t)){delete t[c]}}}}}}return t};d._deleteAggregates=function e(t,n,i){if(t&&t.indexOf(n)>-1){delete i[n]}};d._getPropertyAnnotations=function e(t,n,i,a){if(i[t]&&n&&!n.includes("undefined")){var r;const e=a.createBindingContext(`${n}/${t}`);const i=o.getInvolvedDataModelObjects(e);return i===null||i===void 0?void 0:(r=i.targetObject)===null||r===void 0?void 0:r.annotations}return null};d._getAggregates=function e(t,n,i){const o=this._getConverterContext(t,n,i);const a=new L(o.getEntityType(),o);const r=a.isAnalyticsSupported();let s,l;if(r){var c,u;s=a.getTransAggregations();if((c=s)!==null&&c!==void 0&&c.length){s=s.map(e=>e.Name||e.Value)}l=a.getCustomAggregateDefinitions();if((u=l)!==null&&u!==void 0&&u.length){l=l.map(e=>e.qualifier)}}s=s?s:[];l=l?l:[];return{transAggregations:s,customAggregates:l}};d._getConverterContext=function e(t,i,o){const a=i.getViewData();let r=a.entitySet;const s=a.contextPath;if(s&&(!r||r.includes("/"))){r=a===null||a===void 0?void 0:a.fullContextPath.split("/")[1]}return n.getConverterContextForPath(t,i.getModel().getMetaModel(),r,o)};d._isFieldControlPathInapplicable=function e(t,n){let i=false;const o=t.split("/");if(o.length>1){i=n[o[0]]&&n[o[0]].hasOwnProperty(o[1])&&n[o[0]][o[1]]===0}else{i=n[t]===0}return i};d._applySemanticObjectMappings=function e(t,n){const i=typeof n==="string"?JSON.parse(n):n;for(let e=0;e<i.length;e++){const n=i[e]["LocalProperty"]&&i[e]["LocalProperty"]["$PropertyPath"]||i[e]["@com.sap.vocabularies.Common.v1.LocalProperty"]&&i[e]["@com.sap.vocabularies.Common.v1.LocalProperty"]["$Path"];const o=i[e]["SemanticObjectProperty"]||i[e]["@com.sap.vocabularies.Common.v1.SemanticObjectProperty"];const a=t.getSelectOption(n);if(a){t.removeSelectOption(n);t.massAddSelectOption(o,a)}}return t};d.navigateOutbound=function t(n,i){var o,a;let r;const s=this.base.getAppComponent().getManifestEntry("sap.app"),l=(o=s.crossNavigation)===null||o===void 0?void 0:(a=o.outbounds)===null||a===void 0?void 0:a[n];if(!l){e.error("Outbound is not defined in manifest!!");return}const c=l.semanticObject,u=l.action,d=l.parameters&&this.getOutboundParams(l.parameters);if(i){r=[];Object.keys(i).forEach(function(e){let t;if(Array.isArray(i[e])){const o=i[e];for(let i=0;i<o.length;i++){var n;t={};t[e]=o[i];(n=r)===null||n===void 0?void 0:n.push(t)}}else{var o;t={};t[e]=i[e];(o=r)===null||o===void 0?void 0:o.push(t)}})}if(r||d){i={navigationContexts:{data:r||d}}}this.base._intentBasedNavigation.navigate(c,u,i)};d._applyOutboundParams=function e(t,n){const i=Object.keys(n);const o=t.getSelectOptionsPropertyNames();i.forEach(function(e){if(!o.includes(e)){t.addSelectOption(e,"I","EQ",n[e])}});return t};d.getOutboundParams=function e(t){const n={};if(t){const e=Object.keys(t)||[];if(e.length>0){e.forEach(function(e){const i=t[e];if(i.value&&i.value.value&&i.value.format==="plain"){if(!n[e]){n[e]=i.value.value}}})}}return n};d.onChevronPressNavigateOutBound=function e(t,n,i,o){const a=t.getAppComponent().getRoutingService().getOutbounds();const r=a[n];let l;if(r&&r.semanticObject&&r.action){const e={intents:{}};const n={};let a;if(i){if(i.isA&&i.isA("sap.ui.model.odata.v4.Context")){a=s.getMetaPathForContext(i);i=[i]}else{a=s.getMetaPathForContext(i[0])}n[a]="self";e["_feDefault"]=n}if(o){const t=`${r.semanticObject}-${r.action}`;e.intents[t]={};e.intents[t][o]="self"}if(r&&r.parameters){const e=r.parameters&&this.getOutboundParams(r.parameters);if(Object.keys(e).length>0){l=e}}t._intentBasedNavigation.navigate(r.semanticObject,r.action,{navigationContexts:i,refreshStrategies:e,additionalNavigationParameters:l});return Promise.resolve()}else{throw new Error(`outbound target ${n} not found in cross navigation definition of manifest`)}};return l}(d),Q(V.prototype,"onInit",[h],Object.getOwnPropertyDescriptor(V.prototype,"onInit"),V.prototype),Q(V.prototype,"navigate",[m,y],Object.getOwnPropertyDescriptor(V.prototype,"navigate"),V.prototype),Q(V.prototype,"prepareContextForExternalNavigation",[b,C],Object.getOwnPropertyDescriptor(V.prototype,"prepareContextForExternalNavigation"),V.prototype),Q(V.prototype,"prepareFiltersForExternalNavigation",[P,E],Object.getOwnPropertyDescriptor(V.prototype,"prepareFiltersForExternalNavigation"),V.prototype),Q(V.prototype,"getNavigationMode",[T,O],Object.getOwnPropertyDescriptor(V.prototype,"getNavigationMode"),V.prototype),Q(V.prototype,"navigateWithConfirmationDialog",[S,A],Object.getOwnPropertyDescriptor(V.prototype,"navigateWithConfirmationDialog"),V.prototype),Q(V.prototype,"getEntitySet",[I],Object.getOwnPropertyDescriptor(V.prototype,"getEntitySet"),V.prototype),Q(V.prototype,"removeSensitiveData",[D,x],Object.getOwnPropertyDescriptor(V.prototype,"removeSensitiveData"),V.prototype),Q(V.prototype,"navigateOutbound",[M,_],Object.getOwnPropertyDescriptor(V.prototype,"navigateOutbound"),V.prototype),Q(V.prototype,"getOutboundParams",[w,F],Object.getOwnPropertyDescriptor(V.prototype,"getOutboundParams"),V.prototype),Q(V.prototype,"onChevronPressNavigateOutBound",[R,N],Object.getOwnPropertyDescriptor(V.prototype,"onChevronPressNavigateOutBound"),V.prototype),V))||$);return Y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/InternalRouting",["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/collaboration/ActivitySync","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/controllerextensions/routing/NavigationReason","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/EditState","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/SemanticKeyHelper","sap/ui/core/Component","sap/ui/core/Core","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,n,i,o,a,r,s,l,c,u,d,p,f,g,v){"use strict";var h,m,y,b,C,P,E,T,O,S,A,I,D,x,M,_,w,F,R,N,$,V,L,B,j,k,U,H,G,z,W,q;var K=r.publicExtension;var Q=r.methodOverride;var Y=r.finalExtension;var J=r.extensible;var X=r.defineUI5Class;var Z=i.isConnected;function ee(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;te(e,t)}function te(e,t){te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return te(e,t)}function ne(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}let ie=(h=X("sap.fe.core.controllerextensions.InternalRouting"),m=Q(),y=Q(),b=K(),C=J(f.After),P=K(),E=J(f.After),T=K(),O=J(f.After),S=K(),A=J(f.After),I=K(),D=K(),x=K(),M=Y(),_=K(),w=Y(),F=K(),R=Y(),N=K(),$=Y(),V=K(),L=Y(),B=K(),j=Y(),k=K(),U=K(),H=Y(),G=K(),z=J(f.Before),h(W=(q=function(i){ee(r,i);function r(){return i.apply(this,arguments)||this}var p=r.prototype;p.onExit=function e(){if(this._oRoutingService){this._oRoutingService.detachRouteMatched(this._fnRouteMatchedBound)}};p.onInit=function e(){this._oView=this.base.getView();this._oAppComponent=t.getAppComponent(this._oView);this._oPageComponent=u.getOwnerComponentFor(this._oView);this._oRouter=this._oAppComponent.getRouter();this._oRouterProxy=this._oAppComponent.getRouterProxy();if(!this._oAppComponent||!this._oPageComponent){throw new Error("Failed to initialize controler extension 'sap.fe.core.controllerextesions.InternalRouting")}if(this._oAppComponent===this._oPageComponent){this._oPageComponent=null}this._oAppComponent.getService("routingService").then(e=>{this._oRoutingService=e;this._fnRouteMatchedBound=this._onRouteMatched.bind(this);this._oRoutingService.attachRouteMatched(this._fnRouteMatchedBound);this._oTargetInformation=e.getTargetInformationFor(this._oPageComponent||this._oView)}).catch(function(){throw new Error("This controller extension cannot work without a 'routingService' on the main AppComponent")})};p.onRouteMatched=function e(){};p.onRouteMatchedFinished=function e(){};p.onBeforeBinding=function e(t,n){const i=this.base.getView().getController().routing;if(i&&i.onBeforeBinding){i.onBeforeBinding(t,n)}};p.onAfterBinding=function e(t,n){this._oAppComponent.getRootViewController().onContextBoundToView(t);const i=this.base.getView().getController().routing;if(i&&i.onAfterBinding){i.onAfterBinding(t,n)}};p.navigateToTarget=function e(t,n,i){const o=this._oPageComponent&&this._oPageComponent.getNavigationConfiguration&&this._oPageComponent.getNavigationConfiguration(n);if(o){const e=o.detail;const n=e.route;const a=e.parameters;this._oRoutingService.navigateTo(t,n,a,i)}else{this._oRoutingService.navigateTo(t,null,null,i)}this._oView.getViewData()};p.navigateToRoute=function e(t,n){return this._oRoutingService.navigateToRoute(t,n)};p.navigateToContext=function t(n,i){const o={};i=i||{};if(n.isA("sap.ui.model.odata.v4.ODataListBinding")){if(i.asyncContext){this._oRouterProxy.activateRouteMatchSynchronization();i.asyncContext.then(e=>{this.navigateToContext(e,{checkNoHashChange:i.checkNoHashChange,editable:i.editable,bPersistOPScroll:i.bPersistOPScroll,updateFCLLevel:i.updateFCLLevel,bForceFocus:i.bForceFocus})}).catch(function(t){e.error("Error with the async context",t)})}else if(!i.bDeferredContext){throw"navigation to a list binding is not yet supported"}}if(i.callExtension){const e=this._oView.getModel("internal");e.setProperty("/paginatorCurrentContext",null);o.sourceBindingContext=n.getObject();o.bindingContext=n;if(i.oEvent){o.oEvent=i.oEvent}const t=this.base.getView().getController().routing.onBeforeNavigation(o);if(t){e.setProperty("/paginatorCurrentContext",n);return Promise.resolve(true)}}i.FCLLevel=this._getFCLLevel();return this._oRoutingService.navigateToContext(n,i,this._oView.getViewData(),this._oTargetInformation)};p.navigateBackFromContext=function e(t,n){n=n||{};n.updateFCLLevel=-1;return this.navigateToContext(t,n)};p.navigateForwardToContext=function e(t,n){var i;if(((i=this._oView.getBindingContext("internal"))===null||i===void 0?void 0:i.getProperty("messageFooterContainsErrors"))===true){return Promise.resolve(true)}n=n||{};n.updateFCLLevel=1;return this.navigateToContext(t,n)};p.navigateBackFromTransientState=function e(){const t=this._oRouterProxy.getHash();if(t.indexOf("(...)")!==-1){this._oRouterProxy.navBack()}};p.navigateToMessagePage=function e(t,n){n=n||{};if(this._oRouterProxy.getHash().indexOf("i-action=create")>-1||this._oRouterProxy.getHash().indexOf("i-action=autoCreate")>-1){return this._oRouterProxy.navToHash(this._oRoutingService.getDefaultCreateHash())}else{n.FCLLevel=this._getFCLLevel();return this._oAppComponent.getRootViewController().displayErrorPage(t,n)}};p.isCurrentStateImpactedBy=function e(t){return this._oRoutingService.isCurrentStateImpactedBy(t)};p._isViewPartOfRoute=function e(t){const n=t===null||t===void 0?void 0:t.targets;if(!n||n.indexOf(this._oTargetInformation.targetName)===-1){if((this._oTargetInformation.viewLevel??0)>=((t===null||t===void 0?void 0:t.routeLevel)??0)){this._setBindingContext(null)}return false}return true};p._buildBindingPath=function e(t,n,i){let o=n.replace(":?query:","");let a=false;for(const e in t){const r=t[e];if(r==="..."&&n.indexOf(`{${e}}`)>=0){a=true;i.bTargetEditable=true}o=o.replace(`{${e}}`,r)}if(t["?query"]&&t["?query"].hasOwnProperty("i-action")){i.bActionCreate=true}if(o&&o[0]!=="/"){o=`/${o}`}return{path:o,deferred:a}};p._onRouteMatched=function e(t){if(!this._isViewPartOfRoute(t.getParameter("routeInformation"))){return}let n;if(this._oPageComponent&&this._oPageComponent.getBindingContextPattern){n=this._oPageComponent.getBindingContextPattern()}n=n||this._oTargetInformation.contextPattern;if(n===null||n===undefined){n=t.getParameter("routePattern")}const i=t.getParameters().arguments;const o=t.getParameter("navigationInfo");const{path:a,deferred:r}=this._buildBindingPath(i,n,o);this.onRouteMatched();const s=this._oView.getModel();let l;if(r){l=this._bindDeferred(a,o)}else{l=this._bindPage(a,s,o)}l.finally(()=>{this.onRouteMatchedFinished()});this._oAppComponent.getRootViewController().updateUIStateForView(this._oView,this._getFCLLevel())};p._bindDeferred=function e(t,n){this.onBeforeBinding(null,{editable:n.bTargetEditable});if(n.bDeferredContext||!n.oAsyncContext){if(this._oPageComponent&&this._oPageComponent.createDeferredContext){this._oPageComponent.createDeferredContext(t,n.useContext,n.bActionCreate)}}const i=this._getBindingContext();if(i!==null&&i!==void 0&&i.hasPendingChanges()){i.getBinding().resetChanges()}this._setBindingContext(null);this.onAfterBinding(null);return Promise.resolve()};p._bindPage=function e(t,n,i){if(t===""){return Promise.resolve(this._bindPageToContext(null,n,i))}else{return this._resolveSemanticPath(t,n).then(e=>{this._bindPageToPath(e,n,i)}).catch(e=>{const t=d.getLibraryResourceBundle("sap.fe.core");this.navigateToMessagePage(t.getText("C_COMMON_SAPFE_DATA_RECEIVED_ERROR"),{title:t.getText("C_COMMON_SAPFE_ERROR"),description:e.message})})}};p._createFilterFromSemanticPath=function e(t,n,i){const o=function(e){if(e.indexOf("'")===0&&e.lastIndexOf("'")===e.length-1){e=decodeURIComponent(e.substring(1,e.length-1))}return e};const a=t.substring(t.indexOf("(")+1,t.length-1).split(",");let r;if(n.length!=a.length){return null}const s=l.isFilteringCaseSensitive(i);if(n.length===1){const e=o(a[0]);r=[new g({path:n[0].$PropertyPath,operator:v.EQ,value1:e,caseSensitive:s})]}else{const e={};a.forEach(function(t){const n=t.split("="),i=o(n[1]);e[n[0]]=i});let t=false;r=n.map(function(n){const i=n.$PropertyPath,o=e[i];if(o!==undefined){return new g({path:i,operator:v.EQ,value1:o,caseSensitive:s})}else{t=true;return new g({path:"XX"})}});if(t){return null}}const c=new g({filters:[new g("IsActiveEntity","EQ",false),new g("SiblingEntity/IsActiveEntity","EQ",null)],and:false});r.push(c);return new g(r,true)};p._getTechnicalPathFromSemanticPath=function e(t,n,i){var o;const a=n.getMetaModel();let r=a.getMetaContext(t).getPath();if(!i||i.length===0){return Promise.resolve(null)}const s=this._createFilterFromSemanticPath(t,i,a);if(s===null){return Promise.resolve(null)}if(!((o=r)!==null&&o!==void 0&&o.startsWith("/"))){r=`/${r}`}const l=n.bindList(r,undefined,undefined,s,{$$groupId:"$auto.Heroes"});return l.requestContexts(0,2).then(function(e){if(e&&e.length){return e[0].getPath()}else{return null}})};p._checkPathForSemanticBookmarking=function e(t,n){const i=/^[/]?(\w+)\([^/]+\)$/.exec(t);if(!i){return false}const o=`/${i[1]}`;const a=n.getObject(`${o}@com.sap.vocabularies.Common.v1.DraftRoot`);const r=n.getObject(`${o}@com.sap.vocabularies.Common.v1.DraftNode`);return a||r?true:false};p._resolveSemanticPath=function e(t,n){const i=n.getMetaModel();const o=this._oRoutingService.getLastSemanticMapping();let a=this._oRouter.getHashChanger().getHash().split("?")[0];if(a&&a.lastIndexOf("/")===a.length-1){a=a.substring(0,a.length-1)}let r=a&&a.substr(0,a.indexOf("("));if(r.indexOf("/")===0){r=r.substring(1)}const s=this._checkPathForSemanticBookmarking(a,i),l=s&&c.getSemanticKeys(i,r);if(!l){return Promise.resolve(t)}else if(o&&o.semanticPath===t){return Promise.resolve(o.technicalPath)}else{return this._getTechnicalPathFromSemanticPath(a,n,l).then(e=>{if(e&&e!==t){this._oRoutingService.setLastSemanticMapping({technicalPath:e,semanticPath:t});return e}else{return t}})}};p._bindPageToPath=function e(t,n,i){const o=this._getBindingContext(),r=o&&o.getPath(),c=i.useContext;if(c&&c.getPath()===t){if(c!==o){const e=this._oAppComponent.getRootViewController();if(e.isFclEnabled()&&i.reason===a.RowPress){const e=c.getModel().getMetaModel();if(!c.getBinding().hasPendingChanges()){c.refresh()}else if(Z(this.getView())||l.isDraftSupported(e,c.getPath())&&l.isCollaborationDraftSupported(e)){c.getBinding().resetChanges();c.refresh()}}this._bindPageToContext(c,n,i)}}else if(r!==t){this._bindPageToContext(this._createContext(t,n),n,i)}else if(i.reason!==a.AppStateChanged&&s.isEditStateDirty()){this._refreshBindingContext(o)}};p._bindPageToContext=function t(n,i,o){if(!n){this.onBeforeBinding(null);this.onAfterBinding(null);return}const a=n.getBinding();const r=this._oAppComponent.getRootViewController();if(r.isFclEnabled()){if(!a||!a.isA("sap.ui.model.odata.v4.ODataListBinding")){n=this._createContext(n.getPath(),i)}try{this._setKeepAlive(n,true,()=>{if(r.isContextUsedInPages(n)){this.navigateBackFromContext(n)}},true)}catch(t){e.error(`View for ${n.getPath()} won't be synchronized. Parent listBinding must have binding parameter $$ownRequest=true`)}}else if(!a||a.isA("sap.ui.model.odata.v4.ODataListBinding")){n=this._createContext(n.getPath(),i)}this.onBeforeBinding(n,{editable:o.bTargetEditable,listBinding:a,bPersistOPScroll:o.bPersistOPScroll,bDraftNavigation:o.bDraftNavigation,showPlaceholder:o.bShowPlaceholder});this._setBindingContext(n);this.onAfterBinding(n)};p._createContext=function t(i,o){const a=this._oPageComponent,r=a&&a.getEntitySet&&a.getEntitySet(),s=a&&a.getContextPath&&a.getContextPath()||r&&`/${r}`,l=o.getMetaModel(),c={$$groupId:"$auto.Heroes",$$updateGroupId:"$auto",$$patchWithoutSideEffects:true};const u=l.getObject(`${s}@com.sap.vocabularies.Common.v1.DraftRoot`);const d=l.getObject(`${s}@com.sap.vocabularies.Common.v1.DraftNode`);const p=this._oAppComponent.getRootViewController();if(p.isFclEnabled()){const e=this._getKeepAliveContext(o,i,false,c);if(!e){throw new Error(`Cannot create keepAlive context ${i}`)}else if(u||d){if(e.getProperty("IsActiveEntity")===undefined){e.requestProperty(["HasActiveEntity","HasDraftEntity","IsActiveEntity"]);if(u){e.requestObject("DraftAdministrativeData")}}else{e.requestSideEffects(u?["HasActiveEntity","HasDraftEntity","IsActiveEntity","DraftAdministrativeData"]:["HasActiveEntity","HasDraftEntity","IsActiveEntity"])}}return e}else{if(r){const e=l.getObject(`${s}/@com.sap.vocabularies.Common.v1.Messages/$Path`);if(e){c.$select=e}}if(u||d){if(c.$select===undefined){c.$select="HasActiveEntity,HasDraftEntity,IsActiveEntity"}else{c.$select+=",HasActiveEntity,HasDraftEntity,IsActiveEntity"}}if(this._oView.getBindingContext()){var f;const t=(f=this._oView.getBindingContext())===null||f===void 0?void 0:f.getBinding();t===null||t===void 0?void 0:t.resetChanges().then(()=>{t.destroy()}).catch(t=>{e.error("Error while reseting the changes to the binding",t)})}const t=o.bindContext(i,undefined,c);t.attachEventOnce("dataRequested",()=>{n.lock(this._oView)});t.attachEventOnce("dataReceived",this.onDataReceived.bind(this));return t.getBoundContext()}};p.onDataReceived=async function t(i){const o=i&&i.getParameter("error");if(n.isLocked(this._oView)){n.unlock(this._oView)}if(o){try{const e=await d.getLibraryResourceBundle("sap.fe.core",true);const t=this.base.messageHandler;let n={};if(o.status===503){n={isInitialLoad503Error:true,shellBack:true}}else if(o.status===400){n={title:e.getText("C_COMMON_SAPFE_ERROR"),description:e.getText("C_COMMON_SAPFE_DATA_RECEIVED_ERROR_DESCRIPTION"),isDataReceivedError:true,shellBack:true}}else{n={title:e.getText("C_COMMON_SAPFE_ERROR"),description:o,isDataReceivedError:true,shellBack:true}}await t.showMessages(n)}catch(t){e.error("Error while getting the core resource bundle",t)}}};p._refreshBindingContext=function e(t){const n=this._oPageComponent;const i=this._oAppComponent.getSideEffectsService();const o=t.getPath();const a=n&&n.getEntitySet&&n.getEntitySet();const r=n&&n.getContextPath&&n.getContextPath()||a&&`/${a}`;const s=this._oView.getModel().getMetaModel();let l;const c=[];const u=[];const d={targetProperties:[],targetEntities:[]};function p(e){let t;const n=(e.getContext()&&e.getContext().getPath()||"").replace(o,"");const i=(n?`${n.slice(1)}/`:n)+e.getPath();if(e.isA("sap.ui.model.odata.v4.ODataContextBinding")){t=e.getDependentBindings();if(t){for(let e=0;e<t.length;e++){p(t[e])}}else if(c.indexOf(i)===-1){c.push(i)}}else if(e.isA("sap.ui.model.odata.v4.ODataListBinding")){if(c.indexOf(i)===-1){c.push(i)}}else if(e.isA("sap.ui.model.odata.v4.ODataPropertyBinding")){if(u.indexOf(i)===-1){u.push(i)}}}if(r){l=s.getObject(`${r}/@com.sap.vocabularies.Common.v1.Messages/$Path`)}p(t.getBinding());let f;for(f=0;f<c.length;f++){d.targetEntities.push({$NavigationPropertyPath:c[f]})}d.targetProperties=u;if(l){d.targetProperties.push(l)}d.targetProperties=d.targetProperties.reduce((e,t)=>{if(t){const n=t.indexOf("/");e.push(n>0?t.slice(0,n):t)}return e},[]);i.requestSideEffects([...d.targetEntities,...d.targetProperties],t)};p._getBindingContext=function e(){if(this._oPageComponent){return this._oPageComponent.getBindingContext()}else{return this._oView.getBindingContext()}};p._setBindingContext=function e(t){var n;let i,o;if(this._oPageComponent){i=this._oPageComponent.getBindingContext();o=this._oPageComponent}else{i=this._oView.getBindingContext();o=this._oView}o.setBindingContext(t);if((n=i)!==null&&n!==void 0&&n.isKeepAlive()&&i!==t){this._setKeepAlive(i,false)}};p._getFCLLevel=function e(){return this._oTargetInformation.FCLLevel};p._setKeepAlive=function e(t,n,i,o){if(t.getPath().endsWith(")")){const e=t.getModel().getMetaModel();const a=e.getMetaPath(t.getPath());const r=e.getObject(`${a}/@com.sap.vocabularies.Common.v1.Messages/$Path`);t.setKeepAlive(n,i,!!r&&o)}};p._getKeepAliveContext=function e(t,n,i,o){const a=n.split("/");const r=[];while(a.length&&!a[a.length-1].endsWith(")")){r.push(a.pop())}if(a.length===0){return undefined}const s=a.join("/");const l=t.getKeepAliveContext(s,i,o);if(r.length===0){return l}else{r.reverse();const e=r.join("/");return t.bindContext(e,l).getBoundContext()}};p.switchFullScreen=function t(){const n=this.base.getView();const i=n.getModel("fclhelper"),o=i.getProperty("/actionButtonsInfo/isFullScreen"),a=i.getProperty(o?"/actionButtonsInfo/exitFullScreen":"/actionButtonsInfo/fullScreen"),r=this._oAppComponent.getRootViewController();const s=r.getRightmostContext?r.getRightmostContext():n.getBindingContext();this.base._routing.navigateToContext(s,{sLayout:a}).catch(function(){e.warning("cannot switch between column and fullscreen")})};p.closeColumn=function e(){const t=this._oView.getViewData();const n=this._oView.getBindingContext();const i=n.getModel().getMetaModel();const a={noPreservationCache:true,sLayout:this._oView.getModel("fclhelper").getProperty("/actionButtonsInfo/closeColumn")};if((t===null||t===void 0?void 0:t.viewLevel)===1&&l.isDraftSupported(i,n.getPath())){o.processDataLossOrDraftDiscardConfirmation(()=>{this.navigateBackFromContext(n,a)},Function.prototype,n,this._oView.getController(),false,o.NavigationType.BackNavigation)}else{this.navigateBackFromContext(n,a)}};return r}(p),ne(q.prototype,"onExit",[m],Object.getOwnPropertyDescriptor(q.prototype,"onExit"),q.prototype),ne(q.prototype,"onInit",[y],Object.getOwnPropertyDescriptor(q.prototype,"onInit"),q.prototype),ne(q.prototype,"onRouteMatched",[b,C],Object.getOwnPropertyDescriptor(q.prototype,"onRouteMatched"),q.prototype),ne(q.prototype,"onRouteMatchedFinished",[P,E],Object.getOwnPropertyDescriptor(q.prototype,"onRouteMatchedFinished"),q.prototype),ne(q.prototype,"onBeforeBinding",[T,O],Object.getOwnPropertyDescriptor(q.prototype,"onBeforeBinding"),q.prototype),ne(q.prototype,"onAfterBinding",[S,A],Object.getOwnPropertyDescriptor(q.prototype,"onAfterBinding"),q.prototype),ne(q.prototype,"navigateToTarget",[I],Object.getOwnPropertyDescriptor(q.prototype,"navigateToTarget"),q.prototype),ne(q.prototype,"navigateToRoute",[D],Object.getOwnPropertyDescriptor(q.prototype,"navigateToRoute"),q.prototype),ne(q.prototype,"navigateToContext",[x,M],Object.getOwnPropertyDescriptor(q.prototype,"navigateToContext"),q.prototype),ne(q.prototype,"navigateBackFromContext",[_,w],Object.getOwnPropertyDescriptor(q.prototype,"navigateBackFromContext"),q.prototype),ne(q.prototype,"navigateForwardToContext",[F,R],Object.getOwnPropertyDescriptor(q.prototype,"navigateForwardToContext"),q.prototype),ne(q.prototype,"navigateBackFromTransientState",[N,$],Object.getOwnPropertyDescriptor(q.prototype,"navigateBackFromTransientState"),q.prototype),ne(q.prototype,"navigateToMessagePage",[V,L],Object.getOwnPropertyDescriptor(q.prototype,"navigateToMessagePage"),q.prototype),ne(q.prototype,"isCurrentStateImpactedBy",[B,j],Object.getOwnPropertyDescriptor(q.prototype,"isCurrentStateImpactedBy"),q.prototype),ne(q.prototype,"onDataReceived",[k],Object.getOwnPropertyDescriptor(q.prototype,"onDataReceived"),q.prototype),ne(q.prototype,"switchFullScreen",[U,H],Object.getOwnPropertyDescriptor(q.prototype,"switchFullScreen"),q.prototype),ne(q.prototype,"closeColumn",[G,z],Object.getOwnPropertyDescriptor(q.prototype,"closeColumn"),q.prototype),q))||W);return ie},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/KPIManagement",["sap/base/Log","sap/fe/core/formatters/TableFormatterTypes","sap/m/Popover","sap/ui/core/Core","sap/ui/core/format/DateFormat","sap/ui/core/format/NumberFormat","sap/ui/core/Locale","sap/ui/core/mvc/ControllerExtension","sap/ui/model/Filter","sap/ui/model/json/JSONModel","sap/ui/model/Sorter","../helpers/ClassSupport"],function(e,t,n,i,o,a,r,s,l,c,u,d){"use strict";var p,f,g,v,h,m;var y=d.publicExtension;var b=d.methodOverride;var C=d.defineUI5Class;var P=t.MessageType;function E(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;T(e,t)}function T(e,t){T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return T(e,t)}function O(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}const S={1:P.Error,2:P.Warning,3:P.Success,5:P.Information};const A={Error:"Error",Warning:"Critical",Success:"Good",Information:"None",None:"None"};function I(e,t){let n;if(t[0]!==undefined&&t[0]!==null&&e<t[0]){n=P.Error}else if(t[1]!==undefined&&t[1]!==null&&e<t[1]){n=P.Warning}else if(t[2]!==undefined&&t[2]!==null&&e<t[2]){n=P.None}else if(t[5]!==undefined&&t[5]!==null&&e>t[5]){n=P.Error}else if(t[4]!==undefined&&t[4]!==null&&e>t[4]){n=P.Warning}else if(t[3]!==undefined&&t[3]!==null&&e>t[3]){n=P.None}else{n=P.Success}return n}function D(e,t){let n;if(t[2]!==undefined&&t[2]!==null&&e>t[2]){n=P.Error}else if(t[1]!==undefined&&t[1]!==null&&e>t[1]){n=P.Warning}else if(t[0]!==undefined&&t[0]!==null&&e>t[0]){n=P.None}else{n=P.Success}return n}function x(e,t){let n;if(t[0]!==undefined&&t[0]!==null&&e<t[0]){n=P.Error}else if(t[1]!==undefined&&t[1]!==null&&e<t[1]){n=P.Warning}else if(t[2]!==undefined&&t[2]!==null&&e<t[2]){n=P.None}else{n=P.Success}return n}function M(e){let t;switch(e){case 1:case"1":case 2:case"2":t="Up";break;case 4:case"4":case 5:case"5":t="Down";break;default:t="None"}return t}function _(e,t,n,i){let o;if(!i||n&&!t){return"None"}const a=n?(e-t)/t:e-t;if(i[0]!==undefined&&i[0]!==null&&a<=i[0]){o="Down"}else if(i[1]!==undefined&&i[1]!==null&&a<=i[1]){o="Down"}else if(i[3]!==undefined&&i[3]!==null&&a>=i[3]){o="Up"}else if(i[2]!==undefined&&i[2]!==null&&a>=i[2]){o="Up"}else{o="None"}return o}function w(e){if(e.ranges.length===0){return undefined}else if(e.ranges.length===1){return new l(e.propertyPath,e.ranges[0].operator,e.ranges[0].rangeLow,e.ranges[0].rangeHigh)}else{const t=e.ranges.map(t=>new l(e.propertyPath,t.operator,t.rangeLow,t.rangeHigh));return new l({filters:t,and:false})}}function F(e){const t=new r(sap.ui.getCore().getConfiguration().getLanguage());const n=i.getLibraryResourceBundle("sap.fe.core");const a=o.getDateInstance({style:"medium"},t);function s(t){const i=e.propertyType.indexOf("Edm.Date")===0?a.format(new Date(t.rangeLow)):t.rangeLow;const o=e.propertyType.indexOf("Edm.Date")===0?a.format(new Date(t.rangeHigh)):t.rangeHigh;switch(t.operator){case"BT":return`[${i} - ${o}]`;case"Contains":return`*${i}*`;case"GE":return`${i}`;case"GT":return`>${i}`;case"LE":return`${i}`;case"LT":return`<${i}`;case"NB":return n.getText("C_KPICARD_FILTERSTRING_NOT",[`[${i} - ${o}]`]);case"NE":return`${i}`;case"NotContains":return n.getText("C_KPICARD_FILTERSTRING_NOT",[`*${i}*`]);case"EQ":default:return i}}if(e.ranges.length===0){return""}else if(e.ranges.length===1){return s(e.ranges[0])}else{return`(${e.ranges.map(s).join(",")})`}}function R(e){const t=i.getLibraryResourceBundle("sap.fe.core");function n(e){if(e.length===0){return""}else if(e.length===1){return e[0].label}else{let n=e[0].label;for(let t=1;t<e.length-1;t++){n+=`, ${e[t].label}`}return t.getText("C_KPICARD_ITEMSLIST",[n,e[e.length-1].label])}}return t.getText("C_KPICARD_CHARTTITLE",[n(e.chart.measures),n(e.chart.dimensions)])}function N(e,t){switch(e.chartType){case"Donut":t.categoryAxis={title:{visible:false}};t.valueAxis={title:{visible:false},label:{formatString:"ShortFloat"}};t.plotArea.dataLabel={visible:true,type:"value",formatString:"ShortFloat_MFD2"};break;case"bubble":t.valueAxis={title:{visible:true},label:{formatString:"ShortFloat"}};t.valueAxis2={title:{visible:true},label:{formatString:"ShortFloat"}};t.legendGroup={layout:{position:"bottom",alignment:"topLeft"}};t.sizeLegend={visible:true};t.plotArea.dataLabel={visible:false};break;case"scatter":t.valueAxis={title:{visible:false},label:{formatString:"ShortFloat"}};t.valueAxis2={title:{visible:false},label:{formatString:"ShortFloat"}};t.plotArea.dataLabel={visible:false};break;default:t.categoryAxis={title:{visible:false}};t.valueAxis={title:{visible:false},label:{formatString:"ShortFloat"}};t.plotArea.dataLabel={visible:false}}}function $(e,t){if(t&&t.length){return e.filter(e=>t.indexOf(e.role)>=0).map(e=>e.label)}else{return e.map(e=>e.label)}}function V(e){const t=$(e.measures,["Axis1"]);const n=$(e.measures,["Axis2"]);const i=$(e.measures,["Axis3"]);const o=$(e.measures,[undefined]);const a=$(e.dimensions,["Series"]);const r=e.dimensions.find(e=>e.role==="Category");const s=t.shift()||n.shift()||i.shift()||o.shift()||"";const l=n.shift()||t.shift()||i.shift()||o.shift()||"";const c=[{uid:"valueAxis",type:"Measure",values:[s]},{uid:"valueAxis2",type:"Measure",values:[l]}];if(e.chartType==="bubble"){const e=i.shift()||t.shift()||n.shift()||o.shift()||"";c.push({uid:"bubbleWidth",type:"Measure",values:[e]})}if(a.length){c.push({uid:"color",type:"Dimension",values:a})}if(r){c.push({uid:"shape",type:"Dimension",values:[r.label]})}return c}function L(e){let t;switch(e.chartType){case"Donut":t=[{uid:"size",type:"Measure",values:$(e.measures)},{uid:"color",type:"Dimension",values:$(e.dimensions)}];break;case"bubble":case"scatter":t=V(e);break;case"vertical_bullet":t=[{uid:"actualValues",type:"Measure",values:$(e.measures,[undefined,"Axis1"])},{uid:"targetValues",type:"Measure",values:$(e.measures,["Axis2"])},{uid:"categoryAxis",type:"Dimension",values:$(e.dimensions,[undefined,"Category"])},{uid:"color",type:"Dimension",values:$(e.dimensions,["Series"])}];break;default:t=[{uid:"valueAxis",type:"Measure",values:$(e.measures)},{uid:"categoryAxis",type:"Dimension",values:$(e.dimensions,[undefined,"Category"])},{uid:"color",type:"Dimension",values:$(e.dimensions,["Series"])}]}return t}function B(e,t){if(e.semanticObject){if(e.action){return t.getLinks({semanticObject:e.semanticObject,action:e.action}).then(t=>t.length?{semanticObject:e.semanticObject,action:e.action}:undefined)}else{return t.getPrimaryIntent(e.semanticObject).then(n=>{if(!n){return undefined}const i=t.parseShellHash(n.intent);return e.unavailableActions&&e.unavailableActions.indexOf(i.action)>=0?undefined:{semanticObject:i.semanticObject,action:i.action}})}}else{return e.outboundNavigation?Promise.resolve({outbound:e.outboundNavigation}):Promise.resolve(undefined)}}let j=(p=C("sap.fe.core.controllerextensions.KPIManagement"),f=b(),g=b(),v=y(),p(h=(m=function(t){E(o,t);function o(){return t.apply(this,arguments)||this}var s=o.prototype;s.initCardManifest=function e(t,n){var o;const a={"sap.app":{id:"sap.fe",type:"card"},"sap.ui":{technology:"UI5"},"sap.card":{type:"Analytical",data:{json:{}},header:{type:"Numeric",title:t.datapoint.title,subTitle:t.datapoint.description,unitOfMeasurement:"{mainUnit}",mainIndicator:{number:"{mainValueNoScale}",unit:"{mainValueScale}",state:"{mainState}",trend:"{trend}"}},content:{minHeight:"25rem",chartProperties:{plotArea:{},title:{visible:true,alignment:"left"}},data:{path:"/chartData"}}}};if(t.datapoint.targetPath||t.datapoint.targetValue!==undefined){const e=i.getLibraryResourceBundle("sap.fe.core");a["sap.card"].header.sideIndicators=[{title:e.getText("C_KPICARD_INDICATOR_TARGET"),number:"{targetNumber}",unit:"{targetUnit}"},{title:e.getText("C_KPICARD_INDICATOR_DEVIATION"),number:"{deviationNumber}",unit:"%"}]}if((o=t.selectionVariantFilterDefinitions)!==null&&o!==void 0&&o.length){const e=[];t.selectionVariantFilterDefinitions.forEach(t=>{const n=F(t);if(n){e.push(n)}});if(e.length){a["sap.card"].header.details=e.join(", ")}}a["sap.card"].content.chartType=t.chart.chartType;N(t.chart,a["sap.card"].content.chartProperties);a["sap.card"].content.chartProperties.title.text=R(t);a["sap.card"].content.dimensions=t.chart.dimensions.map(e=>({label:e.label,value:`{${e.name}}`}));a["sap.card"].content.measures=t.chart.measures.map(e=>({label:e.label,value:`{${e.name}}`}));a["sap.card"].content.feeds=L(t.chart);n.setProperty(`/${t.id}`,{manifest:a})};s.initNavigationInfo=function e(t,n,i){if(t.navigation){return B(t.navigation,i).then(e=>{if(e){n.setProperty(`/${t.id}/manifest/sap.card/header/actions`,[{type:"Navigation",parameters:e}])}})}else{return Promise.resolve()}};s.onInit=function t(){var n;this.aKPIDefinitions=(n=this.getView().getController()._getPageModel())===null||n===void 0?void 0:n.getProperty("/kpiDefinitions");if(this.aKPIDefinitions&&this.aKPIDefinitions.length){const t=this.getView();const n=t.getController().getAppComponent();const i=new c;t.setModel(i,"kpiModel");this.aKPIDefinitions.forEach(t=>{this.initCardManifest(t,i);this.initNavigationInfo(t,i,n.getShellServices()).catch(function(t){e.error(t)});this.loadKPITagData(t,n.getModel(),i).catch(function(t){e.error(t)})})}};s.onExit=function e(){const t=this.getView().getModel("kpiModel");if(t){t.destroy()}};s.updateDatapointValueAndCurrency=function e(t,n,i){var o,s,l;const c=new r(sap.ui.getCore().getConfiguration().getLanguage());const u=(o=t.datapoint.unit)!==null&&o!==void 0&&o.isPath?n.getProperty(t.datapoint.unit.value):(s=t.datapoint.unit)===null||s===void 0?void 0:s.value;const d=((l=t.datapoint.unit)===null||l===void 0?void 0:l.isCurrency)===false&&u==="%";const p=Number.parseFloat(n.getProperty(t.datapoint.propertyPath));const f=a.getFloatInstance({style:d?undefined:"short",minFractionDigits:0,maxFractionDigits:1,showScale:!d},c).format(p);i.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValue`,f);const g=a.getFloatInstance({maxFractionDigits:2,showScale:false,groupingEnabled:true},c).format(p);i.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValueUnscaled`,g);const v=a.getFloatInstance({style:d?undefined:"short",minFractionDigits:0,maxFractionDigits:1,showScale:false},c).format(p);i.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValueNoScale`,v);const h=a.getFloatInstance({style:d?undefined:"short",decimals:0,maxIntegerDigits:0,showScale:true},c).format(p);i.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValueScale`,h);if(t.datapoint.unit&&u){if(t.datapoint.unit.isCurrency){i.setProperty(`/${t.id}/manifest/sap.card/data/json/mainUnit`,u)}else{const e=a.getUnitInstance({showNumber:false},c).format(p,u);i.setProperty(`/${t.id}/manifest/sap.card/data/json/mainUnit`,e)}}};s.updateDatapointCriticality=function e(t,n,i){const o=Number.parseFloat(n.getProperty(t.datapoint.propertyPath));let a=P.None;if(t.datapoint.criticalityValue){a=t.datapoint.criticalityValue}else if(t.datapoint.criticalityPath){a=S[n.getProperty(t.datapoint.criticalityPath)]||P.None}else if(t.datapoint.criticalityCalculationThresholds&&t.datapoint.criticalityCalculationMode){switch(t.datapoint.criticalityCalculationMode){case"UI.ImprovementDirectionType/Target":a=I(o,t.datapoint.criticalityCalculationThresholds);break;case"UI.ImprovementDirectionType/Minimize":a=D(o,t.datapoint.criticalityCalculationThresholds);break;case"UI.ImprovementDirectionType/Maximize":default:a=x(o,t.datapoint.criticalityCalculationThresholds);break}}i.setProperty(`/${t.id}/manifest/sap.card/data/json/mainCriticality`,a);i.setProperty(`/${t.id}/manifest/sap.card/data/json/mainState`,A[a]||"None")};s.updateDatapointTrend=function e(t,n,i){const o=Number.parseFloat(n.getProperty(t.datapoint.propertyPath));let a="None";if(t.datapoint.trendValue){a=t.datapoint.trendValue}else if(t.datapoint.trendPath){a=M(n.getProperty(t.datapoint.trendPath))}else if(t.datapoint.trendCalculationReferenceValue!==undefined||t.datapoint.trendCalculationReferencePath){let e;if(t.datapoint.trendCalculationReferenceValue!==undefined){e=t.datapoint.trendCalculationReferenceValue}else{e=Number.parseFloat(n.getProperty(t.datapoint.trendCalculationReferencePath||""))}a=_(o,e,!!t.datapoint.trendCalculationIsRelative,t.datapoint.trendCalculationTresholds)}i.setProperty(`/${t.id}/manifest/sap.card/data/json/trend`,a)};s.updateTargetValue=function e(t,n,i){if(t.datapoint.targetValue===undefined&&t.datapoint.targetPath===undefined){return}const o=Number.parseFloat(n.getProperty(t.datapoint.propertyPath));const s=new r(sap.ui.getCore().getConfiguration().getLanguage());let l;if(t.datapoint.targetValue!==undefined){l=t.datapoint.targetValue}else{l=Number.parseFloat(n.getProperty(t.datapoint.targetPath||""))}const c=l!==0?(o-l)/l*100:undefined;const u=a.getFloatInstance({style:"short",minFractionDigits:0,maxFractionDigits:1,showScale:false},s).format(l);const d=a.getFloatInstance({style:"short",decimals:0,maxIntegerDigits:0,showScale:true},s).format(l);i.setProperty(`/${t.id}/manifest/sap.card/data/json/targetNumber`,u);i.setProperty(`/${t.id}/manifest/sap.card/data/json/targetUnit`,d);if(c!==undefined){const e=a.getFloatInstance({minFractionDigits:0,maxFractionDigits:1,showScale:false},s).format(c);i.setProperty(`/${t.id}/manifest/sap.card/data/json/deviationNumber`,e)}else{i.setProperty(`/${t.id}/manifest/sap.card/data/json/deviationNumber`,"N/A")}};s.loadKPITagData=function e(t,n,i,o){var a,r;const s=o?n.bindList(`/${t.entitySet}`,undefined,undefined,undefined,{$$groupId:"$auto.Workers"}):n.bindList(`/${t.entitySet}`,undefined,undefined,undefined,{$$groupId:"$auto.LongRunners"});const l={};if((a=t.datapoint.unit)!==null&&a!==void 0&&a.isPath){l[t.datapoint.propertyPath]={unit:t.datapoint.unit.value}}else{l[t.datapoint.propertyPath]={}}if(t.datapoint.criticalityPath){l[t.datapoint.criticalityPath]={}}if(o){if(t.datapoint.trendPath){l[t.datapoint.trendPath]={}}if(t.datapoint.trendCalculationReferencePath){l[t.datapoint.trendCalculationReferencePath]={}}if(t.datapoint.targetPath){l[t.datapoint.targetPath]={}}}s.setAggregation({aggregate:l});if((r=t.selectionVariantFilterDefinitions)!==null&&r!==void 0&&r.length){const e=t.selectionVariantFilterDefinitions.map(w).filter(e=>e!==undefined);s.filter(e)}return s.requestContexts(0,1).then(e=>{if(e.length){var n,a;const r=(n=t.datapoint.unit)!==null&&n!==void 0&&n.isPath?e[0].getProperty(t.datapoint.unit.value):(a=t.datapoint.unit)===null||a===void 0?void 0:a.value;if(t.datapoint.unit&&!r){i.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValue`,"*");i.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValueUnscaled`,"*");i.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValueNoScale`,"*");i.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValueScale`,"");i.setProperty(`/${t.id}/manifest/sap.card/data/json/mainUnit`,undefined);i.setProperty(`/${t.id}/manifest/sap.card/data/json/mainCriticality`,P.None);i.setProperty(`/${t.id}/manifest/sap.card/data/json/mainState`,"None");i.setProperty(`/${t.id}/manifest/sap.card/data/json/trend`,"None");i.setProperty(`/${t.id}/manifest/sap.card/data/json/targetNumber`,undefined);i.setProperty(`/${t.id}/manifest/sap.card/data/json/targetUnit`,undefined);i.setProperty(`/${t.id}/manifest/sap.card/data/json/deviationNumber`,undefined)}else{this.updateDatapointValueAndCurrency(t,e[0],i);this.updateDatapointCriticality(t,e[0],i);if(o){this.updateDatapointTrend(t,e[0],i);this.updateTargetValue(t,e[0],i)}}}})};s.loadKPICardData=function e(t,n,i){var o;const a=n.bindList(`/${t.entitySet}`,undefined,undefined,undefined,{$$groupId:"$auto.Workers"});const r={};const s={};t.chart.dimensions.forEach(e=>{r[e.name]={}});t.chart.measures.forEach(e=>{s[e.name]={}});a.setAggregation({group:r,aggregate:s});if((o=t.selectionVariantFilterDefinitions)!==null&&o!==void 0&&o.length){const e=t.selectionVariantFilterDefinitions.map(w).filter(e=>e!==undefined);a.filter(e)}if(t.chart.sortOrder){a.sort(t.chart.sortOrder.map(e=>new u(e.name,e.descending)))}return a.requestContexts(0,t.chart.maxItems).then(e=>{const n=e.map(function(e){const n={};t.chart.dimensions.forEach(t=>{n[t.name]=e.getProperty(t.name)});t.chart.measures.forEach(t=>{n[t.name]=e.getProperty(t.name)});return n});i.setProperty(`/${t.id}/manifest/sap.card/data/json/chartData`,n)})};s.getPopover=function e(t){if(!this.oPopover){return new Promise((e,o)=>{i.loadLibrary("sap/ui/integration",{async:true}).then(()=>{sap.ui.require(["sap/ui/integration/widgets/Card","sap/ui/integration/Host"],(i,o)=>{const a=new o;a.attachAction(e=>{const t=e.getParameter("type");const n=e.getParameter("parameters");if(t==="Navigation"){if(n.semanticObject){this.getView().getController()._intentBasedNavigation.navigate(n.semanticObject,n.action)}else{this.getView().getController()._intentBasedNavigation.navigateOutbound(n.outbound)}}});this.oCard=new i({width:"25rem",height:"auto"});this.oCard.setHost(a);this.oPopover=new n("kpi-Popover",{showHeader:false,placement:"Auto",content:[this.oCard]});t.addDependent(this.oPopover);e(this.oPopover)})}).catch(function(){o()})})}else{return Promise.resolve(this.oPopover)}};s.onKPIPressed=function t(n,i){const o=n.getModel("kpiModel");if(this.aKPIDefinitions&&this.aKPIDefinitions.length){const t=this.aKPIDefinitions.find(function(e){return e.id===i});if(t){const a=n.getModel();const r=[this.loadKPITagData(t,a,o,true),this.loadKPICardData(t,a,o),this.getPopover(n)];Promise.all(r).then(e=>{this.oCard.setManifest(o.getProperty(`/${i}/manifest`));this.oCard.refresh();const t=e[2];t.openBy(n,false)}).catch(t=>{e.error(t)})}}};return o}(s),O(m.prototype,"onInit",[f],Object.getOwnPropertyDescriptor(m.prototype,"onInit"),m.prototype),O(m.prototype,"onExit",[g],Object.getOwnPropertyDescriptor(m.prototype,"onExit"),m.prototype),O(m.prototype,"onKPIPressed",[v],Object.getOwnPropertyDescriptor(m.prototype,"onKPIPressed"),m.prototype),m))||h);return j},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/MassEdit",["sap/base/Log","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/MassEditHelper","sap/fe/core/helpers/ModelHelper","sap/m/MessageBox","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","../CommonUtils"],function(e,t,n,i,o,a,r,s){"use strict";var l,c,u,d,p,f,g,v,h;var m=t.publicExtension;var y=t.privateExtension;var b=t.finalExtension;var C=t.extensible;var P=t.defineUI5Class;function E(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;T(e,t)}function T(e,t){T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return T(e,t)}function O(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}let S=(l=P("sap.fe.core.controllerextensions.MassEdit"),c=m(),u=b(),d=m(),p=b(),f=y(),g=C(r.After),l(v=(h=function(t){E(a,t);function a(){return t.apply(this,arguments)||this}var r=a.prototype;r.getMessageDetailForNonEditable=function e(t,n,i){const o=t.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_HEADER"),a=t.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_REASON",[i]),r=t.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_REASON_DRAFT",[n]),s=t.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_REASON_NON_EDITABLE",[n]);return`<p><strong>${o}</strong></p>\n`+(!!a&&`<p>${a}</p>\n`+`<ul>`+(!!r&&`<li>${r}</li>`)+(!!s&&`<li>${s}</li>`)+`</ul>`)};r.getResourceText=function e(t,n){const i=t&&s.getTranslatedTextFromExpBindingString(t,n);return i&&i.toLocaleLowerCase()};r._openConfirmDialog=function t(n,a,r){const s=(a||[]).length;const l=this.getView();return new Promise(t=>{l.getModel("sap.fe.i18n").getResourceBundle().then(c=>{const u=c.getText("C_MASS_EDIT_CONFIRM_BUTTON_TEXT"),d=c.getText("C_COMMON_OBJECT_PAGE_CANCEL"),p=r-s,f=n.data("entityType"),g=n.getModel().getMetaModel(),v=g.getObject(`${f}@com.sap.vocabularies.UI.v1.HeaderInfo`),h=v&&this.getResourceText(v.TypeName,l)||c.getText("C_MASS_EDIT_DIALOG_DEFAULT_TYPENAME"),m=v&&this.getResourceText(v.TypeNamePlural,l)||c.getText("C_MASS_EDIT_DIALOG_DEFAULT_TYPENAME_PLURAL"),y=c.getText("C_MASS_EDIT_CONFIRM_MESSAGE",[p,r,s,m]),b=n.data("targetCollectionPath"),C=n.getModel().getMetaModel(),P=i.isDraftSupported(C,b),E=n.data("displayModePropertyBinding")==="true",T=P&&E&&this.getMessageDetailForNonEditable(c,h,m);o.warning(y,{details:T,actions:[u,d],emphasizedAction:u,contentWidth:"100px",onClose:function(n){let i=[];if(n===u){e.info("Mass Edit: Confirmed to edit ",s.toString()," selections.");i=a}else if(n===d){e.info("Mass Edit: Cancelled.")}t(i)}})}).catch(function(t){e.error(t)})})};r._confirmContexts=function e(t,n){const i=t.getBindingContext("internal"),o=+i.getProperty("numberOfSelectedContexts")||0;n=n||[];if(n.length&&n.length!==o){return this._openConfirmDialog(t,n,o)}return Promise.resolve(n)};r.openMassEditDialog=function t(i){const o=this.getView().getController(),a=this.fetchContextsForEdit(i);return a.then(this._confirmContexts.bind(this,i)).then(function(e){return e&&e.length>0?n.createDialog(i,e,o):Promise.resolve()}).then(function(e){if(e){i.addDependent(e);e.open()}}).catch(function(t){e.error("Mass Edit: Something went wrong in mass edit dialog creation.",t)})};r.fetchContextsForEdit=function e(t){const n=t.getBindingContext("internal"),i=n.getProperty("updatableContexts")||[];return Promise.resolve(i)};return a}(a),O(h.prototype,"getMessageDetailForNonEditable",[c,u],Object.getOwnPropertyDescriptor(h.prototype,"getMessageDetailForNonEditable"),h.prototype),O(h.prototype,"openMassEditDialog",[d,p],Object.getOwnPropertyDescriptor(h.prototype,"openMassEditDialog"),h.prototype),O(h.prototype,"fetchContextsForEdit",[f,g],Object.getOwnPropertyDescriptor(h.prototype,"fetchContextsForEdit"),h.prototype),h))||v);return S},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/MessageHandler",["sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/helpers/ClassSupport","sap/ui/core/Core","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution"],function(e,t,n,i,o,a){"use strict";var r,s,l,c,u,d,p,f,g,v;var h=n.publicExtension;var m=n.privateExtension;var y=n.finalExtension;var b=n.extensible;var C=n.defineUI5Class;function P(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}function E(e,t){E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return E(e,t)}function T(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}let O=(r=C("sap.fe.core.controllerextensions.MessageHandler"),s=m(),l=b(a.Instead),c=h(),u=y(),d=h(),p=h(),f=y(),r(g=(v=function(n){P(o,n);function o(){return n.apply(this,arguments)||this}var a=o.prototype;a.getShowBoundMessagesInMessageDialog=function e(){return true};a.showMessageDialog=function e(n){const i=n&&n.customMessages?n.customMessages:undefined,o=this.base.getView().getBindingContext("internal");const a=this.base.getView().getViewData().converterType;if(n&&n.isActionParameterDialogOpen&&o){o.setProperty("isActionParameterDialogOpen",true)}const r=this.getShowBoundMessagesInMessageDialog();const s=n&&n.context?n.context:this.getView().getBindingContext();if(o){o.setProperty("isActionParameterDialogOpen",false)}return new Promise(function(e,o){setTimeout(function(){t.showUnboundMessages(i,s,r,n===null||n===void 0?void 0:n.concurrentEditFlag,n===null||n===void 0?void 0:n.control,n===null||n===void 0?void 0:n.sActionName,undefined,n===null||n===void 0?void 0:n.onBeforeShowMessage,a).then(e).catch(o)},0)})};a.removeTransitionMessages=function e(n,i,o){if(!n){t.removeBoundTransitionMessages(o)}if(!i){t.removeUnboundTransitionMessages()}};a._checkNavigationToErrorPage=function n(i){const o=t.getMessages();const a=this.getShowBoundMessagesInMessageDialog();const r=a?t.getMessages(true,true):[];const s=i&&i.customMessages?i.customMessages:[];const l=e.isStickyEditMode(this.base.getView());let c;if(i&&i.isDataReceivedError){c={title:i.title,description:i.description,navigateBackToOrigin:true,errorType:"PageNotFound"}}else if(!l&&!r.length&&!s.length&&(o.length===1||i&&i.isInitialLoad503Error)){const e=o[0],n=e.getTechnicalDetails();let i;if(n&&n.httpStatus===503){if(n.retryAfter){const o=this._getSecondsBeforeRetryAfter(n.retryAfter);if(o>120){i=t.getRetryAfterMessage(e);c={description:i?`${i} ${e.getMessage()}`:e.getMessage(),navigateBackToOrigin:true,errorType:"UnableToLoad"}}}else{i=t.getRetryAfterMessage(e);c={description:i?`${i} ${e.getMessage()}`:e.getMessage(),navigateBackToOrigin:true,errorType:"UnableToLoad"}}}}return c};a._getSecondsBeforeRetryAfter=function e(t){const n=new Date,i=n.getTime(),o=t.getTime(),a=(o-i)/1e3;return a};a.showMessages=async function t(n){const o=e.getAppComponent(this.getView());let a;if(!o._isFclEnabled()){a=this._checkNavigationToErrorPage(n)}if(a){if(n&&n.messagePageNavigationCallback){n.messagePageNavigationCallback()}a.handleShellBack=!(n&&n.shellBack);this.removeTransitionMessages();const e=i.getLibraryResourceBundle("sap.fe.core");if(this.base._routing){return new Promise((t,i)=>{setTimeout(()=>{this.base._routing.navigateToMessagePage(n&&n.isDataReceivedError?e.getText("C_COMMON_SAPFE_DATA_RECEIVED_ERROR"):e.getText("C_MESSAGE_HANDLING_SAPFE_503_TITLE"),a).then(t).catch(i)},0)})}}else{return this.showMessageDialog(n)}};return o}(o),T(v.prototype,"getShowBoundMessagesInMessageDialog",[s,l],Object.getOwnPropertyDescriptor(v.prototype,"getShowBoundMessagesInMessageDialog"),v.prototype),T(v.prototype,"showMessageDialog",[c,u],Object.getOwnPropertyDescriptor(v.prototype,"showMessageDialog"),v.prototype),T(v.prototype,"removeTransitionMessages",[d],Object.getOwnPropertyDescriptor(v.prototype,"removeTransitionMessages"),v.prototype),T(v.prototype,"showMessages",[p,f],Object.getOwnPropertyDescriptor(v.prototype,"showMessages"),v.prototype),v))||g);return O},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/PageReady",["sap/base/Log","sap/fe/core/controllerextensions/pageReady/DataQueryWatcher","sap/fe/core/services/TemplatedViewServiceFactory","sap/ui/base/EventProvider","sap/ui/core/Component","sap/ui/core/Core","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","../CommonUtils","../helpers/ClassSupport"],function(e,t,n,i,o,a,r,s,l,c){"use strict";var u,d,p,f,g,v,h,m,y,b,C,P,E,T,O,S,A,I,D,x,M,_,w;var F=c.publicExtension;var R=c.privateExtension;var N=c.methodOverride;var $=c.finalExtension;var V=c.extensible;var L=c.defineUI5Class;function B(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;j(e,t)}function j(e,t){j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return j(e,t)}function k(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}let U=(u=L("sap.fe.core.controllerextensions.PageReady"),d=N(),p=N(),f=F(),g=$(),v=N("_routing"),h=N("_routing"),m=N("_routing"),y=F(),b=$(),C=F(),P=$(),E=F(),T=$(),O=F(),S=$(),A=F(),I=$(),D=R(),x=V(s.Instead),M=F(),u(_=(w=function(r){B(s,r);function s(){var e;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++){n[i]=arguments[i]}e=r.call(this,...n)||this;e.pageReadyTimeoutDefault=7e3;return e}var c=s.prototype;c.onInit=function e(){var n,a,r;this._nbWaits=0;this._oEventProvider=this._oEventProvider?this._oEventProvider:new i;this.view=this.getView();this.appComponent=l.getAppComponent(this.view);this.pageComponent=o.getOwnerComponentFor(this.view);const s=this.appComponent.getManifest();this.pageReadyTimeout=((n=s["sap.ui5"])===null||n===void 0?void 0:n.pageReadyTimeout)??this.pageReadyTimeoutDefault;if((a=this.pageComponent)!==null&&a!==void 0&&a.attachContainerDefined){this.pageComponent.attachContainerDefined(e=>this.registerContainer(e.getParameter("container")))}else{this.registerContainer(this.view)}const c=this.appComponent.getRootControl().getController();const u=c===null||c===void 0?void 0:(r=c.getPlaceholder)===null||r===void 0?void 0:r.call(c);if(u!==null&&u!==void 0&&u.isPlaceholderDebugEnabled()){this.attachEvent("pageReady",null,()=>{u.getPlaceholderDebugStats().iPageReadyEventTimestamp=Date.now()},this);this.attachEvent("heroesBatchReceived",null,()=>{u.getPlaceholderDebugStats().iHeroesBatchReceivedEventTimestamp=Date.now()},this)}this.queryWatcher=new t(this._oEventProvider,this.checkPageReadyDebounced.bind(this))};c.onExit=function e(){delete this._oAppComponent;if(this._oContainer){this._oContainer.removeEventDelegate(this._fnContainerDelegate)}};c.waitFor=function e(t){this._nbWaits++;t.finally(()=>{setTimeout(()=>{this._nbWaits--},0)}).catch(null)};c.onRouteMatched=function e(){this._bIsPageReady=false};c.onRouteMatchedFinished=async function e(){await this.onAfterBindingPromise;this.checkPageReadyDebounced()};c.registerAggregatedControls=function e(t){if(t){const e=t.getBinding();this.queryWatcher.registerBinding(e)}const n=[];const i=this.getView().findAggregatedObjects(true);i.forEach(e=>{const t=e.getObjectBinding();if(t){this.queryWatcher.registerBinding(t)}else{const t=Object.keys(e.mBindingInfos);t.forEach(t=>{const n=e.mBindingInfos[t].binding;if(n&&n.isA("sap.ui.model.odata.v4.ODataListBinding")){this.queryWatcher.registerBinding(n)}})}if(e.isA("sap.ui.mdc.Table")||e.isA("sap.ui.mdc.Chart")){this.bTablesChartsLoaded=false;n.push(this.queryWatcher.registerTableOrChart(e))}else if(e.isA("sap.fe.core.controls.FilterBar")){this.queryWatcher.registerFilterBar(e)}});return n};c.onAfterBinding=function t(n){if(this.pageReadyTimeoutTimer){clearTimeout(this.pageReadyTimeoutTimer)}this.pageReadyTimeoutTimer=setTimeout(()=>{e.error(`The PageReady Event was not fired within the ${this.pageReadyTimeout} ms timeout . It has been forced. Please contact your application developer for further analysis`);this._oEventProvider.fireEvent("pageReady")},this.pageReadyTimeout);if(this._bAfterBindingAlreadyApplied){return}this._bAfterBindingAlreadyApplied=true;if(this.isContextExpected()&&n===undefined){this.bHasContext=false;return}else{this.bHasContext=true}this.attachEventOnce("pageReady",null,()=>{clearTimeout(this.pageReadyTimeoutTimer);this.pageReadyTimeoutTimer=undefined;this._bAfterBindingAlreadyApplied=false;this.queryWatcher.reset()},null);this.onAfterBindingPromise=new Promise(async e=>{const t=this.registerAggregatedControls(n);if(t.length>0){await Promise.all(t);this.bTablesChartsLoaded=true;this.checkPageReadyDebounced();e()}else{this.checkPageReadyDebounced();e()}})};c.isPageReady=function e(){return this._bIsPageReady};c.waitPageReady=function e(){return new Promise(e=>{if(this.isPageReady()){e()}else{this.attachEventOnce("pageReady",null,()=>{e()},this)}})};c.attachEventOnce=function e(t,n,i,o){return this._oEventProvider.attachEventOnce(t,n,i,o)};c.attachEvent=function e(t,n,i,o){return this._oEventProvider.attachEvent(t,n,i,o)};c.detachEvent=function e(t,n){return this._oEventProvider.detachEvent(t,n)};c.registerContainer=function e(t){this._oContainer=t;this._fnContainerDelegate={onBeforeShow:()=>{this.bShown=false;this._bIsPageReady=false},onBeforeHide:()=>{this.bShown=false;this._bIsPageReady=false},onAfterShow:()=>{var e;this.bShown=true;(e=this.onAfterBindingPromise)===null||e===void 0?void 0:e.then(()=>{this._checkPageReady(true)})}};this._oContainer.addEventDelegate(this._fnContainerDelegate,this)};c.isContextExpected=function e(){return false};c.checkPageReadyDebounced=function e(){if(this.pageReadyTimer){clearTimeout(this.pageReadyTimer)}this.pageReadyTimer=setTimeout(()=>{this._checkPageReady()},200)};c._checkPageReady=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const i=()=>{if(!a.getUIDirty()){a.detachEvent("UIUpdated",i);this._bWaitingForRefresh=false;this.checkPageReadyDebounced()}};const o=()=>{if(a.getUIDirty()){setTimeout(o,500)}else if(this._bWaitingForRefresh){this._bWaitingForRefresh=false;a.detachEvent("UIUpdated",i);this.checkPageReadyDebounced()}};if(this.bShown&&this.queryWatcher.isDataReceived()!==false&&this.bTablesChartsLoaded!==false&&(!this.isContextExpected()||this.bHasContext)){if(this.queryWatcher.isDataReceived()===true&&!t&&!this._bWaitingForRefresh&&a.getUIDirty()){this.queryWatcher.resetDataReceived();this._bWaitingForRefresh=true;a.attachEvent("UIUpdated",i);setTimeout(o,500)}else if(!this._bWaitingForRefresh&&a.getUIDirty()||this._nbWaits!==0||n.getNumberOfViewsInCreationState()>0||this.queryWatcher.isSearchPending()){this._bWaitingForRefresh=true;a.attachEvent("UIUpdated",i);setTimeout(o,500)}else if(!this._bWaitingForRefresh){this._bIsPageReady=true;this._oEventProvider.fireEvent("pageReady")}}};return s}(r),k(w.prototype,"onInit",[d],Object.getOwnPropertyDescriptor(w.prototype,"onInit"),w.prototype),k(w.prototype,"onExit",[p],Object.getOwnPropertyDescriptor(w.prototype,"onExit"),w.prototype),k(w.prototype,"waitFor",[f,g],Object.getOwnPropertyDescriptor(w.prototype,"waitFor"),w.prototype),k(w.prototype,"onRouteMatched",[v],Object.getOwnPropertyDescriptor(w.prototype,"onRouteMatched"),w.prototype),k(w.prototype,"onRouteMatchedFinished",[h],Object.getOwnPropertyDescriptor(w.prototype,"onRouteMatchedFinished"),w.prototype),k(w.prototype,"onAfterBinding",[m],Object.getOwnPropertyDescriptor(w.prototype,"onAfterBinding"),w.prototype),k(w.prototype,"isPageReady",[y,b],Object.getOwnPropertyDescriptor(w.prototype,"isPageReady"),w.prototype),k(w.prototype,"waitPageReady",[C,P],Object.getOwnPropertyDescriptor(w.prototype,"waitPageReady"),w.prototype),k(w.prototype,"attachEventOnce",[E,T],Object.getOwnPropertyDescriptor(w.prototype,"attachEventOnce"),w.prototype),k(w.prototype,"attachEvent",[O,S],Object.getOwnPropertyDescriptor(w.prototype,"attachEvent"),w.prototype),k(w.prototype,"detachEvent",[A,I],Object.getOwnPropertyDescriptor(w.prototype,"detachEvent"),w.prototype),k(w.prototype,"isContextExpected",[D,x],Object.getOwnPropertyDescriptor(w.prototype,"isContextExpected"),w.prototype),k(w.prototype,"checkPageReadyDebounced",[M],Object.getOwnPropertyDescriptor(w.prototype,"checkPageReadyDebounced"),w.prototype),w))||_);return U},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/Paginator",["sap/fe/core/helpers/ClassSupport","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/model/json/JSONModel"],function(e,t,n,i){"use strict";var o,a,r,s,l,c,u,d,p,f,g,v;var h=e.publicExtension;var m=e.privateExtension;var y=e.methodOverride;var b=e.finalExtension;var C=e.extensible;var P=e.defineUI5Class;function E(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;T(e,t)}function T(e,t){T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return T(e,t)}function O(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}let S=(o=P("sap.fe.core.controllerextensions.Paginator"),a=y(),r=h(),s=b(),l=h(),c=b(),u=m(),d=C(n.After),p=m(),f=C(n.After),o(g=(v=function(e){E(t,e);function t(){var t;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}t=e.call(this,...i)||this;t._iCurrentIndex=-1;return t}var n=t.prototype;n.onInit=function e(){this._oView=this.base.getView();this._oView.setModel(new i({navUpEnabled:false,navDownEnabled:false}),"paginator")};n.initialize=function e(t,n){if(t&&t.getAllCurrentContexts){this._oListBinding=t}if(n){this._oCurrentContext=n}this._updateCurrentIndexAndButtonEnablement()};n._updateCurrentIndexAndButtonEnablement=function e(){if(this._oCurrentContext&&this._oListBinding){const e=this._oCurrentContext.getPath();this._iCurrentIndex=this._oListBinding.getAllCurrentContexts().findIndex(function(t){return t&&t.getPath()===e});const t=this._oListBinding.getAllCurrentContexts()[this._iCurrentIndex];if(!this._iCurrentIndex&&this._iCurrentIndex!==0||!t||this._oCurrentContext.getPath()!==t.getPath()){this._updateCurrentIndex()}}this._handleButtonEnablement()};n._handleButtonEnablement=function e(){const t=this.base.getView().getModel("paginator");if(this._oListBinding&&this._oListBinding.getAllCurrentContexts().length>1&&this._iCurrentIndex>-1){if(this._iCurrentIndex===this._oListBinding.getAllCurrentContexts().length-1){t.setProperty("/navDownEnabled",false)}else if(this._oListBinding.getAllCurrentContexts()[this._iCurrentIndex+1].isInactive()){t.setProperty("/navDownEnabled",false)}else{t.setProperty("/navDownEnabled",true)}if(this._iCurrentIndex===0){t.setProperty("/navUpEnabled",false)}else if(this._oListBinding.getAllCurrentContexts()[this._iCurrentIndex-1].isInactive()){t.setProperty("/navUpEnabled",false)}else{t.setProperty("/navUpEnabled",true)}}else{t.setProperty("/navUpEnabled",false);t.setProperty("/navDownEnabled",false)}};n._updateCurrentIndex=function e(){if(this._oCurrentContext&&this._oListBinding){const e=this._oCurrentContext.getPath();this._iCurrentIndex=this._oListBinding.getAllCurrentContexts().findIndex(function(t){return t&&t.getPath()===e})}};n.updateCurrentContext=async function e(t){var n,i;if(!this._oListBinding){return}const o=(n=this._oCurrentContext)!==null&&n!==void 0&&n.getModel?(i=this._oCurrentContext)===null||i===void 0?void 0:i.getModel():undefined;await(o===null||o===void 0?void 0:o.submitBatch("$auto"));const a=this._oListBinding.getAllCurrentContexts();const r=this._iCurrentIndex+t;const s=a[r];if(s){const e=this.onBeforeContextUpdate(this._oListBinding,this._iCurrentIndex,t);if(!e){this._iCurrentIndex=r;this._oCurrentContext=s}this.onContextUpdate(s)}this._handleButtonEnablement()};n.onBeforeContextUpdate=function e(t,n,i){return false};n.onContextUpdate=function e(t){};return t}(t),O(v.prototype,"onInit",[a],Object.getOwnPropertyDescriptor(v.prototype,"onInit"),v.prototype),O(v.prototype,"initialize",[r,s],Object.getOwnPropertyDescriptor(v.prototype,"initialize"),v.prototype),O(v.prototype,"updateCurrentContext",[l,c],Object.getOwnPropertyDescriptor(v.prototype,"updateCurrentContext"),v.prototype),O(v.prototype,"onBeforeContextUpdate",[u,d],Object.getOwnPropertyDescriptor(v.prototype,"onBeforeContextUpdate"),v.prototype),O(v.prototype,"onContextUpdate",[p,f],Object.getOwnPropertyDescriptor(v.prototype,"onContextUpdate"),v.prototype),v))||g);return S},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/Placeholder",["sap/base/util/ObjectPath","sap/base/util/UriParameters","sap/fe/core/helpers/ClassSupport","sap/fe/placeholder/library","sap/ui/core/Core","sap/ui/core/mvc/ControllerExtension","sap/ui/core/Placeholder"],function(e,t,n,i,o,a,r){"use strict";var s,l,c,u,d,p,f,g,v,h;var m=n.publicExtension;var y=n.defineUI5Class;function b(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}function C(e,t){C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return C(e,t)}function P(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}let E=(s=y("sap.fe.core.controllerextensions.Placeholder"),l=m(),c=m(),u=m(),d=m(),p=m(),f=m(),g=m(),s(v=(h=function(n){b(i,n);function i(){return n.apply(this,arguments)||this}var a=i.prototype;a.attachHideCallback=function e(){if(this.isPlaceholderEnabled()){const e=this.base.getView();const n=e.getParent()&&e.getParent().oContainer;const i=n&&n.getParent();if(!i){return}const o={onAfterShow:function(e){if(e.isBackToPage){i.hidePlaceholder()}else if(t.fromQuery(window.location.hash.replace(/#.*\?/,"")).get("restoreHistory")==="true"){i.hidePlaceholder()}}};n.addEventDelegate(o);const a=e.getController().pageReady;const r=["pageReady"];if(e.getControllerName()==="sap.fe.templates.ObjectPage.ObjectPageController"){r.push("heroesBatchReceived")}r.forEach(function(e){a.attachEvent(e,null,function(){i.hidePlaceholder()},null)})}};a.attachRouteMatchers=function e(){this._init()};a._init=function e(){this.oAppComponent=this.base.getAppComponent();this.oRootContainer=this.oAppComponent.getRootContainer();this.oPlaceholders={};if(this.isPlaceholderEnabled()){r.registerProvider(function(e){switch(e.name){case"sap.fe.templates.ListReport":return{html:"sap/fe/placeholder/view/PlaceholderLR.fragment.html",autoClose:false};case"sap.fe.templates.ObjectPage":return{html:"sap/fe/placeholder/view/PlaceholderOP.fragment.html",autoClose:false};default:}})}if(this.isPlaceholderDebugEnabled()){this.initPlaceholderDebug()}};a.initPlaceholderDebug=function e(){this.resetPlaceholderDebugStats();const t={apply:e=>{if(this.oRootContainer._placeholder&&this.oRootContainer._placeholder.placeholder){this.debugStats.iHidePlaceholderTimestamp=Date.now()}return e.bind(this.oRootContainer)()}};const n=new Proxy(this.oRootContainer.hidePlaceholder,t);this.oRootContainer.hidePlaceholder=n};a.isPlaceholderDebugEnabled=function e(){if(t.fromQuery(window.location.search).get("sap-ui-xx-placeholder-debug")==="true"){return true}return false};a.resetPlaceholderDebugStats=function e(){this.debugStats={iHidePlaceholderTimestamp:0,iPageReadyEventTimestamp:0,iHeroesBatchReceivedEventTimestamp:0}};a.getPlaceholderDebugStats=function e(){return this.debugStats};a.isPlaceholderEnabled=function t(){const n=e.get("sap-ushell-config.apps.placeholder.enabled");if(n===false){return false}return o.getConfiguration().getPlaceholder()};return i}(a),P(h.prototype,"attachHideCallback",[l],Object.getOwnPropertyDescriptor(h.prototype,"attachHideCallback"),h.prototype),P(h.prototype,"attachRouteMatchers",[c],Object.getOwnPropertyDescriptor(h.prototype,"attachRouteMatchers"),h.prototype),P(h.prototype,"initPlaceholderDebug",[u],Object.getOwnPropertyDescriptor(h.prototype,"initPlaceholderDebug"),h.prototype),P(h.prototype,"isPlaceholderDebugEnabled",[d],Object.getOwnPropertyDescriptor(h.prototype,"isPlaceholderDebugEnabled"),h.prototype),P(h.prototype,"resetPlaceholderDebugStats",[p],Object.getOwnPropertyDescriptor(h.prototype,"resetPlaceholderDebugStats"),h.prototype),P(h.prototype,"getPlaceholderDebugStats",[f],Object.getOwnPropertyDescriptor(h.prototype,"getPlaceholderDebugStats"),h.prototype),P(h.prototype,"isPlaceholderEnabled",[g],Object.getOwnPropertyDescriptor(h.prototype,"isPlaceholderEnabled"),h.prototype),h))||v);return E},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/Routing",["sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/ModelHelper","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution"],function(e,t,n,i){"use strict";var o,a,r,s,l,c,u,d,p,f,g,v,h;var m=e.publicExtension;var y=e.finalExtension;var b=e.extensible;var C=e.defineUI5Class;function P(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}function E(e,t){E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return E(e,t)}function T(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}let O=(o=C("sap.fe.core.controllerextensions.Routing"),a=m(),r=b(i.After),s=m(),l=y(),c=m(),u=b(i.After),d=m(),p=b(i.After),f=m(),g=y(),o(v=(h=function(e){P(n,e);function n(){return e.apply(this,arguments)||this}var i=n.prototype;i.onBeforeNavigation=function e(t){return false};i.navigate=function e(t){const n=this.base.getModel("internal");n.setProperty("/paginatorCurrentContext",null);this.base._routing.navigateToContext(t)};i.onBeforeBinding=function e(t){};i.onAfterBinding=function e(t){};i.navigateToRoute=function e(n,i){const o=this.base.getModel().getMetaModel();const a=t.isStickySessionSupported(o);if(!i){i={}}i.bIsStickyMode=a;return this.base._routing.navigateToRoute(n,i)};return n}(n),T(h.prototype,"onBeforeNavigation",[a,r],Object.getOwnPropertyDescriptor(h.prototype,"onBeforeNavigation"),h.prototype),T(h.prototype,"navigate",[s,l],Object.getOwnPropertyDescriptor(h.prototype,"navigate"),h.prototype),T(h.prototype,"onBeforeBinding",[c,u],Object.getOwnPropertyDescriptor(h.prototype,"onBeforeBinding"),h.prototype),T(h.prototype,"onAfterBinding",[d,p],Object.getOwnPropertyDescriptor(h.prototype,"onAfterBinding"),h.prototype),T(h.prototype,"navigateToRoute",[f,g],Object.getOwnPropertyDescriptor(h.prototype,"navigateToRoute"),h.prototype),h))||v);return O},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/RoutingListener",["sap/fe/core/controllerextensions/InternalRouting"],function(e){"use strict";return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/Share",["sap/base/Log","sap/base/util/extend","sap/base/util/ObjectPath","sap/fe/core/helpers/ClassSupport","sap/m/library","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/core/routing/HashChanger","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/model/json/JSONModel"],function(e,t,n,i,o,a,r,s,l,c,u,d,p){"use strict";var f,g,v,h,m,y,b,C,P,E,T,O,S,A,I,D,x;var M=i.publicExtension;var _=i.methodOverride;var w=i.finalExtension;var F=i.extensible;var R=i.defineUI5Class;function N(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;$(e,t)}function $(e,t){$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return $(e,t)}function V(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}let L;let B=(f=R("sap.fe.core.controllerextensions.Share"),g=_(),v=_(),h=M(),m=w(),y=M(),b=F(l.After),C=M(),P=w(),E=M(),T=w(),O=M(),S=w(),A=M(),I=w(),f(D=(x=function(i){N(s,i);function s(){return i.apply(this,arguments)||this}var l=s.prototype;l.onInit=function e(){const t=new p({url:"",appTitle:"",subTitle:"",minifyUrlForChat:true});this.base.getView().setModel(t,"collaborationInfo")};l.onExit=function e(){var t,n;const i=(t=this.base)===null||t===void 0?void 0:(n=t.getView())===null||n===void 0?void 0:n.getModel("collaborationInfo");if(i){i.destroy()}};l.openShareSheet=function e(t){this._openShareSheetImpl(t)};l.adaptShareMetadata=function e(t){return t};l._openShareSheetImpl=async function n(i){let s;const l=c.getInstance().getHash(),f=c.getInstance().hrefForAppSpecificHash?c.getInstance().hrefForAppSpecificHash(""):"",g={url:window.location.origin+window.location.pathname+window.location.search+(l?f+l:window.location.hash),title:document.title,email:{url:"",title:""},jam:{url:"",title:""},tile:{url:"",title:"",subtitle:"",icon:"",queryUrl:""}};L=i;const v=function(e,n){const i=e.getModel("shareData");const o=t(i.getData(),n);i.setData(o)};try{const n=await Promise.resolve(this.adaptShareMetadata(g));const l={shareEmailPressed:function(){const e=s.getModel("shareData");const t=e.getData();const n=a.getLibraryResourceBundle("sap.fe.core");const i=t.email.title?t.email.title:n.getText("T_SHARE_UTIL_HELPER_SAPFE_EMAIL_SUBJECT",[t.title]);o.URLHelper.triggerEmail(undefined,i,t.email.url?t.email.url:t.url)},shareMSTeamsPressed:function(){const e=s.getModel("shareData");const t=e.getData();const n=t.email.title?t.email.title:t.title;const i=t.email.url?t.email.url:t.url;const o=window.open("","ms-teams-share-popup","width=700,height=600");o.opener=null;o.location=`https://teams.microsoft.com/share?msgText=${encodeURIComponent(n)}&href=${encodeURIComponent(i)}`},onSaveTilePress:function(){setTimeout(function(){var e;(e=a.byId("bookmarkDialog"))===null||e===void 0?void 0:e.attachAfterClose(function(){L.focus()})},0)},shareJamPressed:()=>{this._doOpenJamShareDialog(n.jam.title?n.jam.title:n.title,n.jam.url?n.jam.url:n.url)}};l.onCancelPressed=function(){s.close()};l.setShareSheet=function(e){i.shareSheet=e};const c=new p({});const f={bindingContexts:{this:c.createBindingContext("/")},models:{this:c}};const h={title:n.tile.title?n.tile.title:n.title,subtitle:n.tile.subtitle,icon:n.tile.icon,url:n.tile.url?n.tile.url:n.url.substring(n.url.indexOf("#")),queryUrl:n.tile.queryUrl};if(i.shareSheet){s=i.shareSheet;const e=s.getModel("share");this._setStaticShareData(e);const o=t(e.getData(),h);e.setData(o);v(s,n);s.openBy(i)}else{const o="sap.fe.macros.share.ShareSheet";const a=d.loadTemplate(o,"fragment");try{const e=await Promise.resolve(u.process(a,{name:o},f));s=await r.load({definition:e,controller:l});s.setModel(new p(h||{}),"share");const c=s.getModel("share");this._setStaticShareData(c);const d=t(c.getData(),h);c.setData(d);s.setModel(new p(n||{}),"shareData");v(s,n);i.addDependent(s);s.openBy(i);l.setShareSheet(s)}catch(t){e.error("Error while opening the share fragment",t)}}}catch(t){e.error("Error while fetching the share model data",t)}};l._setStaticShareData=function e(t){const i=a.getLibraryResourceBundle("sap.fe.core");t.setProperty("/jamButtonText",i.getText("T_COMMON_SAPFE_SHARE_JAM"));t.setProperty("/emailButtonText",i.getText("T_SEMANTIC_CONTROL_SEND_EMAIL"));t.setProperty("/msTeamsShareButtonText",i.getText("T_COMMON_SAPFE_SHARE_MSTEAMS"));if(n.get("sap-ushell-config.renderers.fiori2.componentData.config.sapHorizonEnabled")===true){t.setProperty("/msTeamsVisible",true)}else{t.setProperty("/msTeamsVisible",false)}const o=n.get("sap.ushell.Container.getUser");t.setProperty("/jamVisible",!!o&&o().isJamActive());t.setProperty("/saveAsTileVisible",!!(sap&&sap.ushell&&sap.ushell.Container))};l._doOpenJamShareDialog=function e(t,n){const i=a.createComponent({name:"sap.collaboration.components.fiori.sharing.dialog",settings:{object:{id:n,share:t}}});i.open()};l._triggerEmail=async function e(){const t=await this._adaptShareMetadata();const n=a.getLibraryResourceBundle("sap.fe.core");const i=t.email.title?t.email.title:n.getText("T_SHARE_UTIL_HELPER_SAPFE_EMAIL_SUBJECT",[t.title]);o.URLHelper.triggerEmail(undefined,i,t.email.url?t.email.url:t.url)};l._triggerShareToJam=async function e(){const t=await this._adaptShareMetadata();this._doOpenJamShareDialog(t.jam.title?t.jam.title:t.title,t.jam.url?t.jam.url:window.location.origin+window.location.pathname+t.url)};l._saveAsTile=async function e(t){const n=await this._adaptShareMetadata(),i=t.getDependents()[0],o=c.getInstance().getHash(),a=c.getInstance().hrefForAppSpecificHash?c.getInstance().hrefForAppSpecificHash(""):"";n.url=o?a+o:window.location.hash;i.setTitle(n.tile.title?n.tile.title:n.title);i.setSubtitle(n.tile.subtitle);i.setTileIcon(n.tile.icon);i.setCustomUrl(n.tile.url?n.tile.url:n.url);i.setServiceUrl(n.tile.queryUrl);i.firePress()};l._adaptShareMetadata=function e(){const t=c.getInstance().getHash(),n=c.getInstance().hrefForAppSpecificHash?c.getInstance().hrefForAppSpecificHash(""):"",i={url:window.location.origin+window.location.pathname+window.location.search+(t?n+t:window.location.hash),title:document.title,email:{url:"",title:""},jam:{url:"",title:""},tile:{url:"",title:"",subtitle:"",icon:"",queryUrl:""}};return this.adaptShareMetadata(i)};return s}(s),V(x.prototype,"onInit",[g],Object.getOwnPropertyDescriptor(x.prototype,"onInit"),x.prototype),V(x.prototype,"onExit",[v],Object.getOwnPropertyDescriptor(x.prototype,"onExit"),x.prototype),V(x.prototype,"openShareSheet",[h,m],Object.getOwnPropertyDescriptor(x.prototype,"openShareSheet"),x.prototype),V(x.prototype,"adaptShareMetadata",[y,b],Object.getOwnPropertyDescriptor(x.prototype,"adaptShareMetadata"),x.prototype),V(x.prototype,"_triggerEmail",[C,P],Object.getOwnPropertyDescriptor(x.prototype,"_triggerEmail"),x.prototype),V(x.prototype,"_triggerShareToJam",[E,T],Object.getOwnPropertyDescriptor(x.prototype,"_triggerShareToJam"),x.prototype),V(x.prototype,"_saveAsTile",[O,S],Object.getOwnPropertyDescriptor(x.prototype,"_saveAsTile"),x.prototype),V(x.prototype,"_adaptShareMetadata",[A,I],Object.getOwnPropertyDescriptor(x.prototype,"_adaptShareMetadata"),x.prototype),x))||D);return B},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/SideEffects",["sap/base/Log","sap/ui/core/mvc/ControllerExtension","../CommonUtils","../helpers/ClassSupport"],function(e,t,n,i){"use strict";var o,a,r,s,l,c,u,d,p,f,g,v,h,m,y,b,C,P,E,T,O,S,A,I,D,x,M,_,w,F,R,N,$,V,L,B,j,k,U,H;var G=i.publicExtension;var z=i.privateExtension;var W=i.methodOverride;var q=i.finalExtension;var K=i.defineUI5Class;function Q(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Y(e,t)}function Y(e,t){Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return Y(e,t)}function J(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}const X="$$ImmediateRequest";let Z=(o=K("sap.fe.core.controllerextensions.SideEffects"),a=W(),r=G(),s=q(),l=G(),c=q(),u=G(),d=q(),p=G(),f=q(),g=G(),v=q(),h=G(),m=q(),y=G(),b=q(),C=G(),P=q(),E=G(),T=q(),O=G(),S=q(),A=G(),I=q(),D=G(),x=q(),M=z(),_=q(),w=G(),F=q(),R=z(),N=q(),$=z(),V=q(),L=z(),B=q(),j=G(),k=q(),o(U=(H=function(t){Q(i,t);function i(){return t.apply(this,arguments)||this}var o=i.prototype;o.onInit=function e(){this._view=this.base.getView();this._sideEffectsService=n.getAppComponent(this._view).getSideEffectsService();this._registeredFieldGroupMap={};this._fieldGroupInvalidity={};this._registeredFailedSideEffects={}};o.addControlSideEffects=function e(t,n){this._sideEffectsService.addControlSideEffects(t,n)};o.removeControlSideEffects=function e(t){var n;const i=((n=t.isA)===null||n===void 0?void 0:n.call(t,"sap.ui.base.ManagedObject"))&&t.getId();if(i){this._sideEffectsService.removeControlSideEffects(i)}};o.getContextForSideEffects=function e(t,n){let i=t,o=this._sideEffectsService.getEntityTypeFromContext(t);if(n!==o){i=t.getBinding().getContext();if(i){o=this._sideEffectsService.getEntityTypeFromContext(i);if(n!==o){i=i.getBinding().getContext();if(i){o=this._sideEffectsService.getEntityTypeFromContext(i);if(n!==o){return undefined}}}}}return i||undefined};o.getFieldSideEffectsMap=function e(t){let n={};const i=t.getFieldGroupIds(),o=this._view.getViewData().entitySet,a=this._sideEffectsService.getConvertedMetaModel().entitySets.find(e=>e.name===o);n=this.getSideEffectsMapForFieldGroups(i,t.getBindingContext());if(o&&a){const e=a.entityType.fullyQualifiedName,i=this.getTargetProperty(t),o=this.getContextForSideEffects(t.getBindingContext(),e);if(i&&o){const t=this._sideEffectsService.getControlEntitySideEffects(e);Object.keys(t).forEach(a=>{const r=t[a];if(r.sourceProperties.includes(i)){const t=`${a}::${e}`;n[t]={name:t,immediate:true,sideEffects:r,context:o}}})}}return n};o.getSideEffectsMapForFieldGroups=function e(t,n){const i={};t.forEach(e=>{const{name:t,immediate:o,sideEffects:a,sideEffectEntityType:r}=this._getSideEffectsPropertyForFieldGroup(e);const s=n?this.getContextForSideEffects(n,r):undefined;if(a&&(!n||n&&s)){i[t]={name:t,immediate:o,sideEffects:a};if(n){i[t].context=s}}});return i};o.clearFieldGroupsValidity=function e(){this._fieldGroupInvalidity={}};o.isFieldGroupValid=function e(t,n){const i=this._getFieldGroupIndex(t,n);return Object.keys(this._fieldGroupInvalidity[i]??{}).length===0};o.getTargetProperty=function e(t){var n;const i=t.data("sourcePath");const o=this._view.getModel().getMetaModel();const a=(n=this._view.getBindingContext())===null||n===void 0?void 0:n.getPath();const r=a?`${o.getMetaPath(a)}/`:"";return i===null||i===void 0?void 0:i.replace(r,"")};o.handleFieldChange=async function t(n,i,o){const a=n.getSource();this._saveFieldPropertiesStatus(a,i);if(!i){return}try{await(n.getParameter("promise")??Promise.resolve())}catch(t){e.debug("Prerequisites on Field for the SideEffects have been rejected",t);return}return this._manageSideEffectsFromField(a,o??Promise.resolve())};o.handleFieldGroupChange=function t(n){const i=n.getSource(),o=n.getParameter("fieldGroupIds"),a=o.reduce((e,t)=>e.concat(this.getRegisteredSideEffectsForFieldGroup(t)),[]);return Promise.all(a.map(e=>this._requestFieldGroupSideEffects(e))).catch(t=>{var n;const o=(n=i.getBindingContext())===null||n===void 0?void 0:n.getPath();e.debug(`Error while processing FieldGroup SideEffects on context ${o}`,t)})};o.requestSideEffects=async function e(t,n,i,o){let a,r;if(o){const e=await o(t);a=e["aTargets"];r=e["TriggerAction"]}else{a=[...t.targetEntities??[],...t.targetProperties??[]];r=t.triggerAction}if(r){this._sideEffectsService.executeAction(r,n,i)}if(a.length){return this._sideEffectsService.requestSideEffects(a,n,i).catch(e=>{this.registerFailedSideEffects(t,n);throw e})}};o.getRegisteredFailedRequests=function e(){return this._registeredFailedSideEffects};o.registerFailedSideEffects=function e(t,n){const i=n.getPath();this._registeredFailedSideEffects[i]=this._registeredFailedSideEffects[i]??[];const o=this._registeredFailedSideEffects[i].every(e=>t.fullyQualifiedName!==e.fullyQualifiedName);if(o){this._registeredFailedSideEffects[i].push(t)}};o.unregisterFailedSideEffectsForAContext=function e(t){delete this._registeredFailedSideEffects[t]};o.unregisterFailedSideEffects=function e(t,n){var i;const o=n.getPath();if((i=this._registeredFailedSideEffects[o])!==null&&i!==void 0&&i.length){this._registeredFailedSideEffects[o]=this._registeredFailedSideEffects[o].filter(e=>e.fullyQualifiedName!==t)}};o.registerFieldGroupSideEffects=function e(t,n){const i=this._getFieldGroupIndex(t.name,t.context);if(!this._registeredFieldGroupMap[i]){this._registeredFieldGroupMap[i]={promise:n??Promise.resolve(),sideEffectProperty:t}}};o.unregisterFieldGroupSideEffects=function e(t){const{context:n,name:i}=t;const o=this._getFieldGroupIndex(i,n);delete this._registeredFieldGroupMap[o]};o.getRegisteredSideEffectsForFieldGroup=function e(t){const n=[];for(const e of Object.keys(this._registeredFieldGroupMap)){if(e.startsWith(`${t}_`)){n.push(this._registeredFieldGroupMap[e])}}return n};o._getFieldGroupIndex=function e(t,n){return`${t}_${n.getPath()}`};o._getSideEffectsPropertyForFieldGroup=function e(t){var n;const i=t.indexOf(X)!==-1,o=t.replace(X,""),a=o.split("#"),r=a[0],s=`${r}@com.sap.vocabularies.Common.v1.SideEffects${a.length===2?`#${a[1]}`:""}`,l=(n=this._sideEffectsService.getODataEntitySideEffects(r))===null||n===void 0?void 0:n[s];return{name:o,immediate:i,sideEffects:l,sideEffectEntityType:r}};o._manageSideEffectsFromField=async function t(n,i){const o=this.getFieldSideEffectsMap(n);try{const e=[];const t=Object.keys(o).map(e=>{const t=o[e];if(t.immediate===true){this.unregisterFailedSideEffects(t.sideEffects.fullyQualifiedName,t.context);return this.requestSideEffects(t.sideEffects,t.context)}return this.registerFieldGroupSideEffects(t,i)});for(const t of[n.getBindingContext(),this._view.getBindingContext()]){if(t){const n=t.getPath();const i=this._registeredFailedSideEffects[n]??[];this.unregisterFailedSideEffectsForAContext(n);for(const n of i){e.push(this.requestSideEffects(n,t))}}}await Promise.all(t.concat(e))}catch(t){e.debug(`Error while managing Field SideEffects`,t)}};o._requestFieldGroupSideEffects=async function t(n){this.unregisterFieldGroupSideEffects(n.sideEffectProperty);try{await n.promise}catch(t){e.debug(`Error while processing FieldGroup SideEffects`,t);return}try{const{sideEffects:e,context:t,name:i}=n.sideEffectProperty;if(this.isFieldGroupValid(i,t)){await this.requestSideEffects(e,t)}}catch(t){e.debug(`Error while executing FieldGroup SideEffects`,t)}};o._saveFieldPropertiesStatus=function e(t,n){const i=this.getFieldSideEffectsMap(t);Object.keys(i).forEach(e=>{const{name:o,immediate:a,context:r}=i[e];if(!a){const e=this._getFieldGroupIndex(o,r);if(n){var s;(s=this._fieldGroupInvalidity[e])===null||s===void 0?true:delete s[t.getId()]}else{this._fieldGroupInvalidity[e]={...this._fieldGroupInvalidity[e],...{[t.getId()]:true}}}}})};return i}(t),J(H.prototype,"onInit",[a],Object.getOwnPropertyDescriptor(H.prototype,"onInit"),H.prototype),J(H.prototype,"addControlSideEffects",[r,s],Object.getOwnPropertyDescriptor(H.prototype,"addControlSideEffects"),H.prototype),J(H.prototype,"removeControlSideEffects",[l,c],Object.getOwnPropertyDescriptor(H.prototype,"removeControlSideEffects"),H.prototype),J(H.prototype,"getContextForSideEffects",[u,d],Object.getOwnPropertyDescriptor(H.prototype,"getContextForSideEffects"),H.prototype),J(H.prototype,"getFieldSideEffectsMap",[p,f],Object.getOwnPropertyDescriptor(H.prototype,"getFieldSideEffectsMap"),H.prototype),J(H.prototype,"getSideEffectsMapForFieldGroups",[g,v],Object.getOwnPropertyDescriptor(H.prototype,"getSideEffectsMapForFieldGroups"),H.prototype),J(H.prototype,"clearFieldGroupsValidity",[h,m],Object.getOwnPropertyDescriptor(H.prototype,"clearFieldGroupsValidity"),H.prototype),J(H.prototype,"isFieldGroupValid",[y,b],Object.getOwnPropertyDescriptor(H.prototype,"isFieldGroupValid"),H.prototype),J(H.prototype,"getTargetProperty",[C,P],Object.getOwnPropertyDescriptor(H.prototype,"getTargetProperty"),H.prototype),J(H.prototype,"handleFieldChange",[E,T],Object.getOwnPropertyDescriptor(H.prototype,"handleFieldChange"),H.prototype),J(H.prototype,"handleFieldGroupChange",[O,S],Object.getOwnPropertyDescriptor(H.prototype,"handleFieldGroupChange"),H.prototype),J(H.prototype,"requestSideEffects",[A,I],Object.getOwnPropertyDescriptor(H.prototype,"requestSideEffects"),H.prototype),J(H.prototype,"getRegisteredFailedRequests",[D,x],Object.getOwnPropertyDescriptor(H.prototype,"getRegisteredFailedRequests"),H.prototype),J(H.prototype,"registerFailedSideEffects",[M,_],Object.getOwnPropertyDescriptor(H.prototype,"registerFailedSideEffects"),H.prototype),J(H.prototype,"unregisterFailedSideEffectsForAContext",[w,F],Object.getOwnPropertyDescriptor(H.prototype,"unregisterFailedSideEffectsForAContext"),H.prototype),J(H.prototype,"unregisterFailedSideEffects",[R,N],Object.getOwnPropertyDescriptor(H.prototype,"unregisterFailedSideEffects"),H.prototype),J(H.prototype,"registerFieldGroupSideEffects",[$,V],Object.getOwnPropertyDescriptor(H.prototype,"registerFieldGroupSideEffects"),H.prototype),J(H.prototype,"unregisterFieldGroupSideEffects",[L,B],Object.getOwnPropertyDescriptor(H.prototype,"unregisterFieldGroupSideEffects"),H.prototype),J(H.prototype,"getRegisteredSideEffectsForFieldGroup",[j,k],Object.getOwnPropertyDescriptor(H.prototype,"getRegisteredSideEffectsForFieldGroup"),H.prototype),H))||U);return Z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/ViewState",["sap/base/Log","sap/base/util/merge","sap/fe/core/CommonUtils","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/KeepAliveHelper","sap/fe/core/helpers/ModelHelper","sap/fe/navigation/library","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/fl/apply/api/ControlVariantApplyAPI","sap/ui/mdc/p13n/StateUtil"],function(e,t,n,i,o,a,r,s,l,c,u){"use strict";var d,p,f,g,v,h,m,y,b,C,P,E,T,O,S,A,I,D,x,M,_,w,F,R,N,$,V,L,B,j,k,U,H,G,z,W,q,K,Q,Y,J,X,Z,ee,te,ne,ie,oe,ae;var re=i.publicExtension;var se=i.privateExtension;var le=i.finalExtension;var ce=i.extensible;var ue=i.defineUI5Class;function de(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;pe(e,t)}function pe(e,t){pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return pe(e,t)}function fe(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}const ge="#additionalStates",ve=r.NavType;const he={"sap.ui.fl.variants.VariantManagement":{retrieve:function(e){return{variantId:e.getCurrentVariantKey()}},apply:async function(t,n){try{if(n&&n.variantId!==undefined&&n.variantId!==t.getCurrentVariantKey()){const i=this._checkIfVariantIdIsAvailable(t,n.variantId);let o;if(i){o=n.variantId}else{o=t.getStandardVariantKey();this.controlsVariantIdUnavailable.push(...t.getFor())}try{await c.activateVariant({element:t,variantReference:o});await this._setInitialStatesForDeltaCompute(t)}catch(n){e.error(n);this.invalidateInitialStateForApply.push(...t.getFor());await this._setInitialStatesForDeltaCompute(t)}}else{this._setInitialStatesForDeltaCompute(t)}}catch(t){e.error(t)}}},"sap.m.IconTabBar":{retrieve:function(e){return{selectedKey:e.getSelectedKey()}},apply:function(e,t){if(t&&t.selectedKey){const n=e.getItems().find(function(e){return e.getKey()===t.selectedKey});if(n){e.setSelectedItem(n)}}}},"sap.ui.mdc.FilterBar":{retrieve:async function(e){const t=this.getStateKey(e);const n=await u.retrieveExternalState(e);const i=e.getPropertyInfoSet();const o=n.filter||{};i.filter(function(e){return Object.keys(o).length>0&&e.path&&o[e.path]&&(e.removeFromAppState||o[e.path].length===0)}).forEach(function(e){if(e.path){delete o[e.path]}});return this._getControlState(t,n)},apply:async function(t,n){try{if(n){const e=(n===null||n===void 0?void 0:n.initialState)&&this.invalidateInitialStateForApply.indexOf(t.getId())===-1&&this.controlsVariantIdUnavailable.indexOf(t.getId())===-1;if(e){const e=await u.diffState(t,n.initialState,n.fullState);return u.applyExternalState(t,e)}else{return u.applyExternalState(t,(n===null||n===void 0?void 0:n.fullState)??n)}}}catch(t){e.error(t)}}},"sap.ui.mdc.Table":{retrieve:async function(e){const t=this.getStateKey(e);const n=await u.retrieveExternalState(e);return this._getControlState(t,n)},apply:async function(t,n){try{if(n){const e=(n===null||n===void 0?void 0:n.initialState)&&this.invalidateInitialStateForApply.indexOf(t.getId())===-1&&this.controlsVariantIdUnavailable.indexOf(t.getId())===-1;if(e){var i;if(n.initialState&&!((i=n.initialState)!==null&&i!==void 0&&i.supplementaryConfig)){n.initialState.supplementaryConfig={}}const e=await u.diffState(t,n.initialState,n.fullState);return u.applyExternalState(t,e)}else{if(!n.supplementaryConfig){n.supplementaryConfig={}}return u.applyExternalState(t,(n===null||n===void 0?void 0:n.fullState)??n)}}}catch(t){e.error(t)}},refreshBinding:function(t){const n=t.getRowBinding();if(n){const e=n.getRootBinding();if(e===n){n.refresh()}else{const e=n.getHeaderContext();const t=n.getGroupId();if(e){e.requestSideEffects([{$NavigationPropertyPath:""}],t)}}}else{e.info(`Table: ${t.getId()} was not refreshed. No binding found!`)}}},"sap.ui.mdc.Chart":{retrieve:function(e){return u.retrieveExternalState(e)},apply:function(e,t){if(t){return u.applyExternalState(e,t)}}},"sap.uxap.ObjectPageLayout":{retrieve:function(e){return{selectedSection:e.getSelectedSection()}},apply:function(e,t){if(t){e.setSelectedSection(t.selectedSection)}},refreshBinding:function(t){const i=t.getBindingContext();const r=i&&i.getBinding();if(r){const e=a.getMetaPathForContext(i);const s=o.getControlRefreshStrategyForContextPath(t,e);if(s==="self"){const t=i.getModel(),o=t.getMetaModel(),a=n.getContextPathProperties(o,e,{$kind:"NavigationProperty"})||{},s=Object.keys(a).reduce(function(e,t){if(a[t].$isCollection!==true){e.push({$NavigationPropertyPath:t})}return e},[]),l=[{$PropertyPath:"*"}],c=r.getGroupId();i.requestSideEffects(l.concat(s),c)}else if(s==="includingDependents"){r.refresh()}}else{e.info(`ObjectPage: ${t.getId()} was not refreshed. No binding found!`)}}},"sap.fe.macros.table.QuickFilterContainer":{retrieve:function(e){return{selectedKey:e.getSelectorKey()}},apply:function(e,t){if(t!==null&&t!==void 0&&t.selectedKey){e.setSelectorKey(t.selectedKey)}}},"sap.m.SegmentedButton":{retrieve:function(e){return{selectedKey:e.getSelectedKey()}},apply:function(e,t){if(t!==null&&t!==void 0&&t.selectedKey){e.setSelectedKey(t.selectedKey)}}},"sap.m.Select":{retrieve:function(e){return{selectedKey:e.getSelectedKey()}},apply:function(e,t){if(t!==null&&t!==void 0&&t.selectedKey){e.setSelectedKey(t.selectedKey)}}},"sap.f.DynamicPage":{retrieve:function(e){return{headerExpanded:e.getHeaderExpanded()}},apply:function(e,t){if(t){e.setHeaderExpanded(t.headerExpanded)}}},"sap.ui.core.mvc.View":{retrieve:function(e){const t=e.getController();if(t&&t.viewState){return t.viewState.retrieveViewState(t.viewState)}return{}},apply:function(e,t,n){const i=e.getController();if(i&&i.viewState){return i.viewState.applyViewState(t,n)}},refreshBinding:function(e){const t=e.getController();if(t&&t.viewState){return t.viewState.refreshViewBindings()}}},"sap.ui.core.ComponentContainer":{retrieve:function(e){const t=e.getComponentInstance();if(t){return this.retrieveControlState(t.getRootControl())}return{}},apply:function(e,t,n){const i=e.getComponentInstance();if(i){return this.applyControlState(i.getRootControl(),t,n)}}}};let me=(d=ue("sap.fe.core.controllerextensions.ViewState"),p=re(),f=le(),g=re(),v=ce(l.After),h=se(),m=le(),y=se(),b=le(),C=re(),P=ce(l.After),E=re(),T=ce(l.After),O=re(),S=ce(l.After),A=se(),I=le(),D=re(),x=ce(l.After),M=se(),_=le(),w=re(),F=ce(l.After),R=re(),N=le(),$=re(),V=le(),L=re(),B=ce(l.After),j=se(),k=le(),U=re(),H=ce(l.Instead),G=re(),z=le(),W=se(),q=re(),K=ce(l.After),Q=re(),Y=ce(l.After),J=re(),X=ce(l.After),Z=se(),ee=re(),te=ce(l.After),ne=se(),ie=le(),d(oe=(ae=function(n){de(i,n);function i(){var t;t=n.call(this)||this;t.initialControlStatesMapper={};t.controlsVariantIdUnavailable=[];t.invalidateInitialStateForApply=[];t.viewStateControls=[];t._setInitialStatesForDeltaCompute=async n=>{try{const e=t.viewStateControls;const i=[];const o=[];let a=[];const r=(n===null||n===void 0?void 0:n.getFor())??[];e.filter(function(e){return e&&(!n||r.indexOf(e.getId())>-1)&&(e.isA("sap.ui.mdc.Table")||e.isA("sap.ui.mdc.FilterBar")||e.isA("sap.ui.mdc.Chart"))}).forEach(e=>{if(n){t._addEventListenersToVariantManagement(n,r)}const a=u.retrieveExternalState(e);i.push(a);o.push(t.getStateKey(e))});a=await Promise.all(i);a.forEach((e,n)=>{t.initialControlStatesMapper[o[n]]=e})}catch(t){e.error(t)}};t._iRetrievingStateCounter=0;t._pInitialStateApplied=new Promise(e=>{t._pInitialStateAppliedResolve=e});return t}var o=i.prototype;o.refreshViewBindings=async function e(){const t=await this.collectResults(this.base.viewState.adaptBindingRefreshControls);let n=Promise.resolve();t.filter(e=>e&&e.isA&&e.isA("sap.ui.base.ManagedObject")).forEach(e=>{n=n.then(this.refreshControlBinding.bind(this,e))});return n};o.adaptBindingRefreshControls=function e(t){};o.refreshControlBinding=function t(n){const i=this.getControlRefreshBindingHandler(n);let o=Promise.resolve();if(typeof i.refreshBinding!=="function"){e.info(`refreshBinding handler for control: ${n.getMetadata().getName()} is not provided`)}else{o=o.then(i.refreshBinding.bind(this,n))}return o};o.getControlRefreshBindingHandler=function e(t){const n={};if(t){for(const e in he){if(t.isA(e)){n["refreshBinding"]=he[e].refreshBinding||{};break}}}this.base.viewState.adaptBindingRefreshHandler(t,n);return n};o.adaptBindingRefreshHandler=function e(t,n){};o.onSuspend=function e(){};o.onRestore=function e(){};o.destroy=function e(){delete this._pInitialStateAppliedResolve;n.prototype.destroy.call(this)};o.collectResults=function e(t){const n=[];for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++){o[a-1]=arguments[a]}o.push(n);t.apply(this,o);return Promise.all(n)};o.adaptControlStateHandler=function e(t,n){};o.getControlStateHandler=function e(t){const n=[],i=[];if(t){for(const e in he){if(t.isA(e)){n.push(Object.assign({},he[e]));break}}}this.base.viewState.adaptControlStateHandler(t,i);return n.concat(i)};o.adaptStateControls=function e(t){};o.getStateKey=function e(t){return this.getView().getLocalId(t.getId())||t.getId()};o.retrieveViewState=async function e(){++this._iRetrievingStateCounter;let n;try{await this._pInitialStateApplied;const e=await this.collectResults(this.base.viewState.adaptStateControls);const i=await Promise.all(e.filter(function(e){return e&&e.isA&&e.isA("sap.ui.base.ManagedObject")}).map(e=>this.retrieveControlState(e).then(t=>({key:this.getStateKey(e),value:t}))));n=i.reduce(function(e,n){const i={};i[n.key]=n.value;return t(e,i)},{});const o=await Promise.resolve(this._retrieveAdditionalStates());if(o&&Object.keys(o).length){n[ge]=o}}finally{--this._iRetrievingStateCounter}return this._iRetrievingStateCounter===0?n:undefined};o.retrieveAdditionalStates=function e(t){};o._retrieveAdditionalStates=function e(){const t={};this.base.viewState.retrieveAdditionalStates(t);return t};o.retrieveControlState=function e(n){const i=this.getControlStateHandler(n);return Promise.all(i.map(e=>{if(typeof e.retrieve!=="function"){throw new Error(`controlStateHandler.retrieve is not a function for control: ${n.getMetadata().getName()}`)}return e.retrieve.call(this,n)})).then(e=>e.reduce(function(e,n){return t(e,n)},{}))};o.applyInitialStateOnly=function e(){return true};o.applyViewState=async function t(n,i){if(this.base.viewState.applyInitialStateOnly()&&this._getInitialStateApplied()){return}try{await this.collectResults(this.base.viewState.onBeforeStateApplied);const e=await this.collectResults(this.base.viewState.adaptStateControls);this.viewStateControls=e;let t=Promise.resolve();let o=false;const a=e.reduce((e,t)=>{if(!t){return e}const n=t.isA("sap.ui.fl.variants.VariantManagement");if(!o){o=n}e=n?[t,...e]:[...e,t];return e},[]);if(!o){this._setInitialStatesForDeltaCompute()}a.filter(function(e){return e.isA("sap.ui.base.ManagedObject")}).forEach(e=>{const o=this.getStateKey(e);t=t.then(this.applyControlState.bind(this,e,n?n[o]:undefined,i))});await t;if(i.navigationType===ve.iAppState){await this.collectResults(this.base.viewState.applyAdditionalStates,n?n[ge]:undefined)}else{await this.collectResults(this.base.viewState.applyNavigationParameters,i);await this.collectResults(this.base.viewState._applyNavigationParametersToFilterbar,i)}}finally{try{await this.collectResults(this.base.viewState.onAfterStateApplied);this._setInitialStateApplied()}catch(t){e.error(t)}}};o._checkIfVariantIdIsAvailable=function e(t,n){const i=t.getVariants();let o=false;i.forEach(function(e){if(e.key===n){o=true}});return o};o._setInitialStateApplied=function e(){if(this._pInitialStateAppliedResolve){const e=this._pInitialStateAppliedResolve;delete this._pInitialStateAppliedResolve;e()}};o._getInitialStateApplied=function e(){return!this._pInitialStateAppliedResolve};o.onBeforeStateApplied=function e(t){};o.onAfterStateApplied=function e(t){};o.applyAdditionalStates=function e(t,n){};o._applyNavigationParametersToFilterbar=function e(t,n){};o.applyNavigationParameters=function e(t,n){};o.applyControlState=function e(t,n,i){const o=this.getControlStateHandler(t);let a=Promise.resolve();o.forEach(e=>{if(typeof e.apply!=="function"){throw new Error(`controlStateHandler.apply is not a function for control: ${t.getMetadata().getName()}`)}a=a.then(e.apply.bind(this,t,n,i))});return a};o.getInterface=function e(){return this};o._getControlState=function e(t,n){const i=this.initialControlStatesMapper;if(Object.keys(i).length>0&&i[t]){if(Object.keys(i[t]).length===0){i[t]={...n}}return{fullState:n,initialState:i[t]}}return n};o._addEventListenersToVariantManagement=function e(t,n){const i={variantManagedControls:n};const o=()=>{this._updateInitialStatesOnVariantChange(n)};t.attachSave(i,o,{});t.attachSelect(i,o,{})};o._updateInitialStatesOnVariantChange=function e(t){const n=this.initialControlStatesMapper;Object.keys(n).forEach(e=>{for(const i of t){if(i.indexOf(e)>-1){n[e]={}}}})};return i}(s),fe(ae.prototype,"refreshViewBindings",[p,f],Object.getOwnPropertyDescriptor(ae.prototype,"refreshViewBindings"),ae.prototype),fe(ae.prototype,"adaptBindingRefreshControls",[g,v],Object.getOwnPropertyDescriptor(ae.prototype,"adaptBindingRefreshControls"),ae.prototype),fe(ae.prototype,"refreshControlBinding",[h,m],Object.getOwnPropertyDescriptor(ae.prototype,"refreshControlBinding"),ae.prototype),fe(ae.prototype,"getControlRefreshBindingHandler",[y,b],Object.getOwnPropertyDescriptor(ae.prototype,"getControlRefreshBindingHandler"),ae.prototype),fe(ae.prototype,"adaptBindingRefreshHandler",[C,P],Object.getOwnPropertyDescriptor(ae.prototype,"adaptBindingRefreshHandler"),ae.prototype),fe(ae.prototype,"onSuspend",[E,T],Object.getOwnPropertyDescriptor(ae.prototype,"onSuspend"),ae.prototype),fe(ae.prototype,"onRestore",[O,S],Object.getOwnPropertyDescriptor(ae.prototype,"onRestore"),ae.prototype),fe(ae.prototype,"collectResults",[A,I],Object.getOwnPropertyDescriptor(ae.prototype,"collectResults"),ae.prototype),fe(ae.prototype,"adaptControlStateHandler",[D,x],Object.getOwnPropertyDescriptor(ae.prototype,"adaptControlStateHandler"),ae.prototype),fe(ae.prototype,"getControlStateHandler",[M,_],Object.getOwnPropertyDescriptor(ae.prototype,"getControlStateHandler"),ae.prototype),fe(ae.prototype,"adaptStateControls",[w,F],Object.getOwnPropertyDescriptor(ae.prototype,"adaptStateControls"),ae.prototype),fe(ae.prototype,"getStateKey",[R,N],Object.getOwnPropertyDescriptor(ae.prototype,"getStateKey"),ae.prototype),fe(ae.prototype,"retrieveViewState",[$,V],Object.getOwnPropertyDescriptor(ae.prototype,"retrieveViewState"),ae.prototype),fe(ae.prototype,"retrieveAdditionalStates",[L,B],Object.getOwnPropertyDescriptor(ae.prototype,"retrieveAdditionalStates"),ae.prototype),fe(ae.prototype,"retrieveControlState",[j,k],Object.getOwnPropertyDescriptor(ae.prototype,"retrieveControlState"),ae.prototype),fe(ae.prototype,"applyInitialStateOnly",[U,H],Object.getOwnPropertyDescriptor(ae.prototype,"applyInitialStateOnly"),ae.prototype),fe(ae.prototype,"applyViewState",[G,z],Object.getOwnPropertyDescriptor(ae.prototype,"applyViewState"),ae.prototype),fe(ae.prototype,"_checkIfVariantIdIsAvailable",[W],Object.getOwnPropertyDescriptor(ae.prototype,"_checkIfVariantIdIsAvailable"),ae.prototype),fe(ae.prototype,"onBeforeStateApplied",[q,K],Object.getOwnPropertyDescriptor(ae.prototype,"onBeforeStateApplied"),ae.prototype),fe(ae.prototype,"onAfterStateApplied",[Q,Y],Object.getOwnPropertyDescriptor(ae.prototype,"onAfterStateApplied"),ae.prototype),fe(ae.prototype,"applyAdditionalStates",[J,X],Object.getOwnPropertyDescriptor(ae.prototype,"applyAdditionalStates"),ae.prototype),fe(ae.prototype,"_applyNavigationParametersToFilterbar",[Z],Object.getOwnPropertyDescriptor(ae.prototype,"_applyNavigationParametersToFilterbar"),ae.prototype),fe(ae.prototype,"applyNavigationParameters",[ee,te],Object.getOwnPropertyDescriptor(ae.prototype,"applyNavigationParameters"),ae.prototype),fe(ae.prototype,"applyControlState",[ne,ie],Object.getOwnPropertyDescriptor(ae.prototype,"applyControlState"),ae.prototype),ae))||oe);return me},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/collaboration/ActivityBase",["sap/base/Log","sap/base/util/UriParameters","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/ui/core/ws/SapPcpWebSocket"],function(e,t,n,i){"use strict";var o={};var a=i.SUPPORTED_PROTOCOLS;var r=n.Activity;const s="/collaboration";const l="/collaboration/connected";const c="/collaboration/connection";const u="/collaboration/DraftID";function d(e){return!!e.getProperty(l)}o.isCollaborationConnected=d;function p(n,i,o,a,r,d){let p=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;if(r.getProperty(c)){if(r.getProperty(u)===o){return}else{g(r)}}const f=[n];r.setProperty(s,{activeUsers:f,activities:{}});p=p||t.fromQuery(window.location.search).get("useFLPUser")==="true";const h=v(n,i,o,a,p);r.setProperty(c,h);r.setProperty(u,o);h.attachMessage(function(e){const t=e.getParameter("pcpFields");d(t)});h.attachOpen(function(){r.setProperty(l,true)});h.attachError(function(){e.error(`The connection to the websocket channel ${i} could not be established`);r.setProperty(l,false)});h.attachClose(function(){r.setProperty(l,false)})}o.initializeCollaboration=p;function f(e,t,n,i,o,a){if(d(n)){const s=n.getProperty(c);s.send("",{clientAction:e,clientContent:t,clientTriggeredActionName:i,clientRefreshListBinding:o,clientRequestedProperties:a});if(e===r.Activate||e===r.Discard){g(n)}}}o.broadcastCollaborationMessage=f;function g(e){const t=e.getProperty(c);t===null||t===void 0?void 0:t.close();e.setProperty(s,{})}o.endCollaboration=g;function v(e,n,o,r){let s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const l=window.location;let c;const u=t.fromQuery(window.location.search).get("useBackendUrl");if(u){c=u.replace("https","wss")}else{c=l.protocol==="https:"?"wss:":"ws:";c+=`//${l.host}`}c+=`${(n.startsWith("/")?"":"/")+n}?draft=${o}&relatedService=${r}`;if(s){c+=`&userID=${encodeURI(e.id)}&userName=${encodeURI(e.initialName||"")}`}return new i(c,[a.v10])}return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/collaboration/ActivitySync",["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/collaboration/ActivityBase","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/converters/MetaModelConverter","sap/m/MessageBox"],function(e,t,n,i,o,a){"use strict";var r={};var s=i.CollaborationUtils;var l=i.Activity;var c=n.isCollaborationConnected;var u=n.initializeCollaboration;var d=n.endCollaboration;var p=n.broadcastCollaborationMessage;const f="/collaboration/myActivity";const g="/collaboration/activeUsers";const v="/collaboration/activities";const h="$auto.sync";const m=function(e){const t=e.getModel("internal");return c(t)};r.isConnected=m;const y=function(e,t,n,i,o,a){if(m(e)){const r=e.getModel("internal");const s=Array.isArray(n)?n.join("|"):n;const c=a===null||a===void 0?void 0:a.join("|");const u=r.getProperty(f);if(t===l.LiveChange){if(u===s){return}else{r.setProperty(f,s)}}else{if(t===l.Undo&&u===null){return}r.setProperty(f,null)}p(t,s,r,i,o,c)}};r.send=y;const b=function(e){return e.getModel().getMetaModel().getObject("/@com.sap.vocabularies.Common.v1.WebSocketBaseURL")};const C=function(e){const t=(e===null||e===void 0?void 0:e.getBindingContext)&&e.getBindingContext();return!!(t&&b(t))};r.isCollaborationEnabled=C;const P=async function(e){const t=e.getModel("internal");const n=s.getMe(e);if(!n){return}const i=e.getBindingContext();const o=b(i);const a=i.getModel().getServiceUrl();if(!o){return}const r=await i.requestProperty("DraftAdministrativeData/DraftUUID");if(!r){return}u(n,o,r,a,t,t=>{T(t,e)});t.setProperty(f,null)};r.connect=P;const E=function(e){const t=e.getModel("internal");d(t)};r.disconnect=E;function T(e,t){var n;const i=t.getModel("internal");let o=i.getProperty(g);let a;let r;const c=$(t,e.clientContent);e.userAction=e.userAction||e.clientAction;const u={id:e.userID,name:e.userDescription,initials:s.formatInitials(e.userDescription),color:s.getUserColor(e.userID,o,[])};let d=u;switch(e.userAction){case l.Join:case l.JoinEcho:if(o.findIndex(e=>e.id===u.id)===-1){o.unshift(u);i.setProperty(g,o)}if(e.userAction===l.Join){p(l.JoinEcho,i.getProperty(f),i)}if(e.userAction===l.JoinEcho){if(e.clientContent){e.userAction=l.LiveChange;T(e,t)}}break;case l.Leave:o=o.filter(e=>e.id!==u.id||e.me);i.setProperty(g,o);const h=i.getProperty(v)||{};const m=function(e){if(Array.isArray(e)){return e.filter(e=>e.id!==u.id)}else{for(const t in e){e[t]=m(e[t])}return e}};m(h);i.setProperty(v,h);break;case l.Change:S(t,e);break;case l.Create:D(t,e);break;case l.Delete:I(t,e);break;case l.Activate:O(t,e.clientContent,s.getText("C_COLLABORATIONDRAFT_ACTIVATE",u.name));break;case l.Discard:O(t,e.clientContent,s.getText("C_COLLABORATIONDRAFT_DISCARD",u.name));break;case l.Action:M(t,e);break;case l.LiveChange:d=u;d.key=N(e.clientContent);let y="";const b=c.split("/");for(let e=1;e<b.length-1;e++){y+=`/${b[e]}`;if(!i.getProperty(v+y)){i.setProperty(v+y,{})}}a=i.getProperty(v+c);a=(n=a)!==null&&n!==void 0&&n.slice?a.slice():[];a.push(d);i.setProperty(v+c,a);break;case l.Undo:a=i.getProperty(v+c);r=N(e.clientContent);i.setProperty(v+c,a.filter(e=>e.key!==r));break}}function O(t,n,i){E(t);a.information(i);t.getBindingContext().getBinding().resetChanges().then(function(){F(n,t)}).catch(function(){e.error("Pending Changes could not be reset - still navigating to active instance");F(n,t)})}function S(e,t){const n=t.clientContent.split("|");const i=e.getModel().getMetaModel();const o=e.getModel("internal");n.forEach(e=>{var t;const n=i.getMetaPath(e);const a=N(e);let r=o.getProperty(v+n)||[];r=((t=r)===null||t===void 0?void 0:t.filter)&&r.filter(e=>e.key!==a);if(r){o.setProperty(v+n,r)}});const a=R(e);const r=a.getBindingContext();const s=n.map(t=>A(e,t));a.getController().editFlow.updateDocument(r,Promise.all(s))}async function A(t,n){const i=t.getModel().getMetaModel();const a=i.getMetaContext(n);const r=o.getInvolvedDataModelObjects(a);const l=n.substring(0,n.lastIndexOf("/"));const c=w(t,l);const u=l.substring(0,l.lastIndexOf("("));const d=u.substring(0,u.lastIndexOf("/"));const p=d?w(t,d):undefined;if(!c&&!p){return}try{const e=[];const o=s.getAppComponent(t).getSideEffectsService();if(c){const t=i.getMetaPath(c.getPath());const a=i.getMetaPath(n).replace(t,"").slice(1);e.push(o.requestSideEffects([a],c,h))}const a=o.computeFieldGroupIds(r.targetEntityType.fullyQualifiedName,r.targetObject.fullyQualifiedName);if(a.length){const n=t.getController();const i=n._sideEffects.getSideEffectsMapForFieldGroups(a,c||p);Object.keys(i).forEach(t=>{const o=i[t];e.push(n._sideEffects.requestSideEffects(o.sideEffects,o.context,h))})}await Promise.all(e)}catch(t){e.error("Failed to update data after change:"+t);throw t}}function I(e,t){const n=R(e);const i=n.getBindingContext();const o=i.getPath();const r=t.clientContent.split("|");const l=r.find(e=>o.startsWith(e));if(l){a.information(s.getText("C_COLLABORATIONDRAFT_DELETE",t.userDescription),{onClose:()=>{const t=i.getModel().getKeepAliveContext(l);t.setKeepAlive(false);const o=x(e,r[0]);n.getController().editFlow.updateDocument(n.getBindingContext(),o);n.getController()._routing.navigateBackFromContext(t)}})}else{const t=x(e,r[0]);n.getController().editFlow.updateDocument(n.getBindingContext(),t)}}function D(e,t){const n=R(e);const i=t.clientContent.split("|");const o=x(e,i[0]);n.getController().editFlow.updateDocument(n.getBindingContext(),o)}async function x(t,n){const i=s.getAppComponent(t);const o=n.substring(0,n.lastIndexOf("/"));const a=w(t,o);if(a){try{const e=[];const t=a.getModel().getMetaModel();const o=t.getMetaPath(n);const r=t.getMetaPath(a.getPath());const s=o.replace(`${r}/`,"");const l=i.getSideEffectsService();e.push(l.requestSideEffects([s],a,h));e.push(l.requestSideEffectsForNavigationProperty(s,a,h));await Promise.all(e)}catch(t){e.error("Failed to update data after collection update:"+t)}}}function M(e,t){var n;const i=R(e);const o=t.clientContent.split("|");const a=t.clientTriggeredActionName||"";const r=(n=t.clientRequestedProperties)===null||n===void 0?void 0:n.split("|");const s=t.clientRefreshListBinding==="true";const l=o.map(t=>_(e,t,a,r));if(s){l.push(x(e,o[0]))}i.getController().editFlow.updateDocument(i.getBindingContext(),Promise.all(l))}async function _(e,t,n,i){const a=w(e,t);if(!a){return}const r=s.getAppComponent(e);const l=r.getSideEffectsService();const c=l.getODataActionSideEffects(n,a);const u=[];if(c){var d;if((d=c.pathExpressions)!==null&&d!==void 0&&d.length){u.push(l.requestSideEffects(c.pathExpressions,a,h))}}if(i&&i.length>0){const n=e.getModel().getMetaModel();const r=$(e,t);const s=o.getInvolvedDataModelObjects(n.getContext(r));const c=s.targetEntityType.entityProperties.map(e=>e.name).filter(e=>i.includes(e));if(c.length>0){u.push(l.requestSideEffects(c,a,h))}}await Promise.all(u)}function w(e,t){if(!t){return undefined}const n=[];while(!t.endsWith(")")){n.unshift(t);t=t.substring(0,t.lastIndexOf("/"))}n.unshift(t);const i=t.substring(0,t.lastIndexOf("("));let o;let a=R(e).getBindingContext();while(a&&!o){var r;if(n.indexOf(a.getPath())>=0){o=a}a=(r=a.getBinding())===null||r===void 0?void 0:r.getContext()}if(o){return o}const s=R(e).getBindingContext().getModel();const l=s.getAllBindings().find(e=>{const t=e.isRelative()?e.getResolvedPath():e.getPath();return e.isA("sap.ui.model.odata.v4.ODataListBinding")&&t===i});o=l===null||l===void 0?void 0:l.getAllCurrentContexts().find(e=>n.indexOf(e.getPath())>=0);return o}function F(e,t){const n=R(t);const i=t.getModel().bindContext(e).getBoundContext();n.getController().routing.navigate(i)}function R(e){const n=s.getAppComponent(e);return t.getCurrentPageView(n)}function N(e){return e.substring(e.lastIndexOf("(")+1,e.lastIndexOf(")"))}function $(e,t){let n="";if(t){const i=t.split("|")[0];n=e.getModel().getMetaModel().getMetaPath(i)}return n}return{connect:P,disconnect:E,isConnected:m,isCollaborationEnabled:C,send:y}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/collaboration/CollaborationCommon",["sap/fe/core/helpers/BindingToolkit","sap/fe/macros/CommonHelper","sap/ui/core/Component","sap/ui/core/Core","../../formatters/CollaborationFormatter"],function(e,t,n,i,o){"use strict";var a={};var r=e.getExpressionFromAnnotation;var s=e.formatResult;var l=e.constant;var c=e.compileExpression;let u;(function(e){e[e["NotYetInvited"]=0]="NotYetInvited";e[e["NoChangesMade"]=1]="NoChangesMade";e[e["ChangesMade"]=2]="ChangesMade";e[e["CurrentlyEditing"]=3]="CurrentlyEditing"})(u||(u={}));a.UserStatus=u;let d;(function(e){e["NoChanges"]="N";e["InProgress"]="P"})(d||(d={}));a.UserEditingState=d;let p;(function(e){e["Join"]="JOIN";e["JoinEcho"]="JOINECHO";e["Leave"]="LEAVE";e["Change"]="CHANGE";e["Create"]="CREATE";e["Delete"]="DELETE";e["Action"]="ACTION";e["LiveChange"]="LIVECHANGE";e["Activate"]="ACTIVATE";e["Discard"]="DISCARD";e["Undo"]="UNDO"})(p||(p={}));a.Activity=p;const f="Users";const g="UserID";function v(e){const t=["Dr.","Prof.","Prof. Dr.","B.A.","MBA","Ph.D."];t.forEach(function(t){e=e.replace(t,"")});let n;const i=e.trimStart().split(" ");if(i.length>1){var o,a;n=((i===null||i===void 0?void 0:(o=i.shift())===null||o===void 0?void 0:o.charAt(0))||"")+((a=i.pop())===null||a===void 0?void 0:a.charAt(0))}else{n=e.substring(0,2)}return n.toUpperCase()}function h(e,t,n){const i=t.find(t=>t.id===e);if(i){return i.color}else{for(let e=1;e<=10;e++){if(t.findIndex(t=>t.color===e)===-1&&n.findIndex(t=>t.color===e)===-1){return e}}return 10}}function m(e){const n=e.targetEntitySet.annotations.Common.DraftRoot.ShareAction.toString();const i=e.targetEntityType.resolvePath(n);const o=i.parameters.find(e=>e.name===f);const a={name:t.addSingleQuotes("sap/fe/macros/valuehelp/ValueHelpDelegate"),payload:{propertyPath:t.addSingleQuotes(`/${o.type}/${g}`),qualifiers:{},valueHelpQualifier:t.addSingleQuotes(""),isActionParameterDialog:true}};return t.objectToString(a)}a.getValueHelpDelegate=m;function y(e){if(e.isA("sap.fe.core.AppComponent")){return e}const t=n.getOwnerComponentFor(e);if(!t){return e}else{return y(t)}}function b(e){const t=y(e).getShellServices();if(!t||!t.hasUShell()){throw"No Shell... No User"}return{initials:t.getUser().getInitials(),id:t.getUser().getId(),name:`${t.getUser().getFullName()} (${C("C_COLLABORATIONDRAFT_YOU")})`,initialName:t.getUser().getFullName(),color:6,me:true,status:u.CurrentlyEditing}}function C(e){const t=i.getLibraryResourceBundle("sap.fe.core");for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++){o[a-1]=arguments[a]}return t.getText(e,o)}a.getText=C;function P(e){var t;const n=e.targetObject;const i=r((t=n.Title)===null||t===void 0?void 0:t.Value,[],"");const a=["C_COLLABORATIONDRAFT_INVITATION_DIALOG",l(n.TypeName),i];const u=s(a,o.getFormattedText);return c(u)}a.getInvitationDialogTitleExpBinding=P;const E={formatInitials:v,getUserColor:h,getMe:b,getAppComponent:y,getText:C,getInvitationDialogTitleExpBinding:P};a.CollaborationUtils=E;function T(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];const n=e.getModel();const i=n.getMetaModel();const o=i.getMetaPath(e);const a=i.getObject(`${o}@com.sap.vocabularies.Common.v1.DraftRoot/ShareAction`);const r=n.bindContext(`${a}(...)`,e);r.setParameter("Users",t);r.setParameter("ShareAll",true);return r.execute()}a.shareObject=T;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/collaboration/Manage",["sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards","sap/m/MessageToast","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/library"],function(e,t,n,i,o,a,r){"use strict";var s={};var l=n.isPathAnnotationExpression;var c=e.UserStatus;var u=e.UserEditingState;var d=e.shareObject;var p=e.getText;var f=e.CollaborationUtils;const g=r.ValueState;const v=async function(e){let t=E("dialog");if(!t){t=await h(e)}await m(e);t.open()};s.openManageDialog=v;async function h(e){const t=e.getController().getExtensionAPI().loadFragment({name:"sap.fe.core.controllerextensions.collaboration.ManageDialog",id:"manageCollaborationDraft",controller:{share:S,addUser:y,removeUser:C,close:T,addUserChanged:b,formatUserStatus:D,formatUserStatusColor:x}});return t.then(function(t){e.addDependent(t);return t}).catch(function(){throw"not this time"})}async function m(e){const t=e.getModel();const n={$select:"UserID,UserDescription,UserEditingState"};const i=t.bindList("DraftAdministrativeData/DraftAdministrativeUser",e.getBindingContext(),[],[],n);const o=e.getBindingContext("internal");return i.requestContexts(0,100).then(function(t){const n=[];const i=e.getModel("internal").getProperty("/collaboration/activeUsers")||[];const a=f.getMe(e);let r;if((t===null||t===void 0?void 0:t.length)>0){t.forEach(function(e){const t=e.getObject();const o=(a===null||a===void 0?void 0:a.id)===t.UserID;const s=i.find(e=>e.id===t.UserID);let l=t.UserDescription||t.UserID;const d=f.formatInitials(l);l+=o?` (${f.getText("C_COLLABORATIONDRAFT_YOU")})`:"";switch(t.UserEditingState){case u.NoChanges:r=s?c.CurrentlyEditing:c.NoChangesMade;break;case u.InProgress:r=s?c.CurrentlyEditing:c.ChangesMade;break;default:r=c.NotYetInvited}const p={id:t.UserID,name:l,status:r,color:f.getUserColor(t.UserID,i,n),initials:d,me:o};n.push(p)})}else{n.push(a)}o.setProperty("collaboration/UserID","");o.setProperty("collaboration/UserDescription","");o.setProperty("collaboration/invitedUsers",n)}).catch(function(){})}s.readInvitedUsers=m;function y(e){const t=e.getSource();const n=t.getBindingContext("internal");const i=n.getProperty("invitedUsers")||[];const o=t.getModel("internal").getProperty("/collaboration/activeUsers");const a={id:n===null||n===void 0?void 0:n.getProperty("UserID"),name:n===null||n===void 0?void 0:n.getProperty("UserDescription")};if(!(i.findIndex(e=>e.id===a.id)>-1||a.id===a.name&&a.id==="")){a.name=a.name||a.id;a.initials=f.formatInitials(a.name);a.color=f.getUserColor(a.id,o,i);a.transient=true;a.status=c.NotYetInvited;i.unshift(a);n.setProperty("invitedUsers",i);n.setProperty("UserID","");n.setProperty("UserDescription","")}}function b(e){const t=e.getSource();e.getParameter("promise").then(function(e){const n=t.getBindingContext("internal");const i=n.getProperty("invitedUsers")||[];if(i.findIndex(t=>t.id===e)>-1){t.setValueState("Error");t.setValueStateText(p("C_COLLABORATIONDRAFT_INVITATION_USER_ERROR"))}else{t.setValueState("None");t.setValueStateText("")}}).catch(function(){throw"User couldn't be determined at all"})}function C(e){P(e.getSource())}function P(e){const t=e.getBindingContext("pageInternal");const n=e.getBindingContext("internal").getProperty("id");let i=t.getProperty("collaboration/invitedUsers");i=i.filter(e=>e.id!==n);t.setProperty("collaboration/invitedUsers",i)}function E(e){return o.byId(`manageCollaborationDraft--${e}`)}function T(){E("dialog").close()}function O(e){var n,i;const o=e.getModel();const a=o.getMetaModel();const r=a.getMetaPath(e.getPath());const s=t.getInvolvedDataModelObjects(a.getContext(r));const c=(n=s.targetObject.entityType.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:i.HeaderInfo;let u="";const d=c===null||c===void 0?void 0:c.Title;if(d){u=l(d.Value)?e.getProperty(d.Value.path):d.Value}return u||(c===null||c===void 0?void 0:c.TypeName)||""}s.getSharedItemName=O;async function S(e){const t=[];const n=e.getSource();const o=n.getBindingContext();const a=E("userList").getBinding("items").getContexts();let r=0;a.forEach(function(e){t.push({UserID:e.getProperty("id"),UserAccessRole:"O"});if(e.getObject().status===0){r++}});try{await d(o,t);i.show(p("C_COLLABORATIONDRAFT_INVITATION_SUCCESS_TOAST",r.toString(),O(o)))}catch{i.show(p("C_COLLABORATIONDRAFT_INVITATION_FAILED_TOAST"))}T()}s.share=S;async function A(e,t){const n=e.getSource();let i=E("userDetails");if(!i){i=await I(t)}i.setBindingContext(n.getBindingContext("internal"),"internal");i.openBy(n,false)}s.showUserDetails=A;async function I(e){const t=a.load({id:"manageCollaborationDraft",name:"sap.fe.core.controllerextensions.collaboration.UserDetails"});return t.then(function(t){e.addDependent(t);return t}).catch(function(){throw"not this time"})}function D(e){switch(e){case c.CurrentlyEditing:return p("C_COLLABORATIONDRAFT_USER_CURRENTLY_EDITING");case c.ChangesMade:return p("C_COLLABORATIONDRAFT_USER_CHANGES_MADE");case c.NoChangesMade:return p("C_COLLABORATIONDRAFT_USER_NO_CHANGES_MADE");case c.NotYetInvited:default:return p("C_COLLABORATIONDRAFT_USER_NOT_YET_INVITED")}}function x(e){switch(e){case c.CurrentlyEditing:return g.Success;case c.ChangesMade:return g.Warning;case c.NoChangesMade:case c.NotYetInvited:default:return g.Information}}return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/dialog/OperationsDialog.block",["sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/helpers/ClassSupport","sap/m/Bar","sap/m/Button","sap/m/Dialog","sap/m/Title","sap/ui/core/Core","sap/fe/core/jsx-runtime/jsx"],function(e,t,n,i,o,a,r,s,l){"use strict";var c,u,d,p,f,g,v,h,m,y,b,C,P,E,T,O,S,A,I,D,x,M,_,w,F,R,N,$,V,L,B,j,k,U,H;var G={};var z=n.defineReference;var W=e.defineBuildingBlock;var q=e.blockAttribute;function K(e,t,n,i){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Q(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function Y(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;J(e,t)}function J(e,t){J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return J(e,t)}function X(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function Z(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}const ee=s.getLibraryResourceBundle("sap.fe.macros");let te=(c=W({name:"OperationsDialog",namespace:"sap.fe.core.controllerextensions"}),u=q({type:"string",isPublic:true,required:true}),d=q({type:"string"}),p=q({type:"object",required:true}),f=z(),g=q({type:"boolean",required:true}),v=q({type:"function"}),h=q({type:"object",required:true}),m=q({type:"string",required:true}),y=q({type:"string",required:true}),b=q({type:"string",required:true}),C=q({type:"object",required:true}),P=q({type:"object"}),E=q({type:"object"}),T=q({type:"object",required:true}),O=q({type:"boolean"}),S=q({type:"function"}),c(A=(I=function(e){Y(t,e);function t(t){var n;n=e.call(this,t)||this;K(n,"id",D,Q(n));K(n,"title",x,Q(n));K(n,"messageObject",M,Q(n));K(n,"operationsDialog",_,Q(n));K(n,"isMultiContext412",w,Q(n));K(n,"resolve",F,Q(n));K(n,"model",R,Q(n));K(n,"groupId",N,Q(n));K(n,"actionName",$,Q(n));K(n,"cancelButtonTxt",V,Q(n));K(n,"strictHandlingPromises",L,Q(n));K(n,"strictHandlingUtilities",B,Q(n));K(n,"messageHandler",j,Q(n));K(n,"messageDialogModel",k,Q(n));K(n,"isGrouped",U,Q(n));K(n,"showMessageInfo",H,Q(n));return n}G=t;var n=t.prototype;n.open=function e(){var t;this.getContent();(t=this.operationsDialog.current)===null||t===void 0?void 0:t.open()};n.getBeginButton=function e(){return new o({press:()=>{if(!(this.isMultiContext412??false)){var e;(e=this.resolve)===null||e===void 0?void 0:e.call(this,true);this.model.submitBatch(this.groupId)}else{var t;this.strictHandlingPromises.forEach(e=>{e.resolve(true);this.model.submitBatch(e.groupId);if(e.requestSideEffects){e.requestSideEffects()}});const e=(t=this.strictHandlingUtilities)===null||t===void 0?void 0:t.strictHandlingTransitionFails;if(e&&e.length>0){var n;(n=this.messageHandler)===null||n===void 0?void 0:n.removeTransitionMessages()}if(this.strictHandlingUtilities){this.strictHandlingUtilities.strictHandlingWarningMessages=[]}}if(this.strictHandlingUtilities){this.strictHandlingUtilities.is412Executed=true}this.messageDialogModel.setData({});this.close()},type:"Emphasized",text:this.actionName})};n.close=function e(){var t;(t=this.operationsDialog.current)===null||t===void 0?void 0:t.close()};n.getTitle=function e(){const t=ee.getText("M_WARNINGS");return new r({text:t})};n.getEndButton=function e(){return new o({press:()=>{if(this.strictHandlingUtilities){this.strictHandlingUtilities.strictHandlingWarningMessages=[];this.strictHandlingUtilities.is412Executed=false}if(!(this.isMultiContext412??false)){this.resolve(false)}else{this.strictHandlingPromises.forEach(function(e){e.resolve(false)})}this.messageDialogModel.setData({});this.close();if(this.isGrouped??false){this.showMessageInfo()}},text:this.cancelButtonTxt})};n.getContent=function e(){return l(a,{id:this.id,ref:this.operationsDialog,resizable:true,content:this.messageObject.oMessageView,state:"Warning",customHeader:new i({contentLeft:[this.messageObject.oBackButton],contentMiddle:[this.getTitle()]}),contentHeight:"50%",contentWidth:"50%",verticalScrolling:false,beginButton:this.getBeginButton(),endButton:this.getEndButton()})};return t}(t),D=X(I.prototype,"id",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),x=X(I.prototype,"title",[d],{configurable:true,enumerable:true,writable:true,initializer:function(){return"Dialog Standard Title"}}),M=X(I.prototype,"messageObject",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),_=X(I.prototype,"operationsDialog",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),w=X(I.prototype,"isMultiContext412",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),F=X(I.prototype,"resolve",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),R=X(I.prototype,"model",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),N=X(I.prototype,"groupId",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),$=X(I.prototype,"actionName",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),V=X(I.prototype,"cancelButtonTxt",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),L=X(I.prototype,"strictHandlingPromises",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),B=X(I.prototype,"strictHandlingUtilities",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),j=X(I.prototype,"messageHandler",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),k=X(I.prototype,"messageDialogModel",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),U=X(I.prototype,"isGrouped",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),H=X(I.prototype,"showMessageInfo",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),I))||A);G=te;return G},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/NotApplicableContextDialog",["sap/fe/core/templating/EntityTypeHelper","sap/m/Button","sap/m/CustomListItem","sap/m/Dialog","sap/m/HBox","sap/m/List","sap/m/Text","sap/m/VBox","sap/fe/core/jsx-runtime/jsx","sap/fe/core/jsx-runtime/Fragment","sap/fe/core/jsx-runtime/jsxs"],function(e,t,n,i,o,a,r,s,l,c,u){"use strict";var d={};var p=e.getTitleExpression;let f=function(){function e(e){this.totalContextCount=0;this.title=e.title;this.resourceModel=e.resourceModel;this.entityType=e.entityType;this.notApplicableContexts=e.notApplicableContexts;this._shouldContinue=false;this._dialog=this.createDialog();this._processingPromise=new Promise(e=>{this._fnResolve=e})}d=e;var f=e.prototype;f.onAfterClose=function e(){this._fnResolve(this._shouldContinue);this._dialog.destroy()};f.onContinue=function e(){this._shouldContinue=true;this._dialog.close()};f.open=async function e(t){t.addDependent(this._dialog);this._dialog.open();return this._processingPromise};f.getDialog=function e(){return this._dialog};f.createDialog=function e(){var d,f;return l(i,{state:"Warning",showHeader:true,contentWidth:"20rem",resizable:true,verticalScrolling:true,horizontalScrolling:true,class:"sapUiContentPadding",title:this.title,afterClose:this.onAfterClose.bind(this),children:{beginButton:l(t,{text:this.resourceModel.getText("C_ACTION_PARTIAL_FRAGMENT_SAPFE_CONTINUE_ANYWAY"),press:this.onContinue.bind(this),type:"Emphasized"}),endButton:l(t,{text:this.resourceModel.getText("C_COMMON_SAPFE_CLOSE"),press:()=>this._dialog.close()}),content:u(c,{children:[l(s,{children:l(r,{text:this.resourceModel.getText("C_ACTION_PARTIAL_FRAGMENT_SAPFE_BOUND_ACTION",[this.notApplicableContexts.length]),class:"sapUiTinyMarginBegin sapUiTinyMarginTopBottom"})}),l(a,{headerText:(d=this.entityType.annotations.UI)===null||d===void 0?void 0:(f=d.HeaderInfo)===null||f===void 0?void 0:f.TypeNamePlural,showSeparators:"None",children:{items:this.notApplicableContexts.map(e=>{const t=p(this.entityType);const i=l(n,{children:l(o,{justifyContent:"Start",children:l(r,{text:t,class:"sapUiTinyMarginBegin sapUiTinyMarginTopBottom"})})});i.setBindingContext(e);return i})}})]})}})};return e}();d=f;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/TransactionHelper",["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/controllerextensions/editFlow/operations","sap/fe/core/controllerextensions/editFlow/sticky","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/helpers/DeleteHelper","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/library","sap/m/Button","sap/m/Dialog","sap/m/MessageBox","sap/m/MessageToast","sap/m/Popover","sap/m/Text","sap/m/VBox","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/library","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/model/json/JSONModel","../../helpers/MetaModelFunction","../../helpers/ToES6Promise"],function(e,t,n,i,o,a,r,s,l,c,u,d,p,f,g,v,h,m,y,b,C,P,E,T,O,S,A,I){"use strict";var D=A.getRequiredPropertiesFromInsertRestrictions;var x=A.getNonComputedVisibleFields;var M=d.generate;var _=u.getResourceModel;const w=p.CreationMode;const F=p.ProgrammingModel;const R=E.ValueState;function N(e){if(e&&e.getMetadata&&e.getMetadata().getName()==="sap.ui.base.Event"){e={}}return e||{}}let $=function(){function u(){}var d=u.prototype;d.busyLock=function e(t,i){n.lock(t.getModel("ui"),i)};d.busyUnlock=function e(t,i){n.unlock(t.getModel("ui"),i)};d.getProgrammingModel=function e(t){let n;if(t.isA("sap.ui.model.odata.v4.Context")){n=t.getPath()}else{n=(t.isRelative()?t.getResolvedPath():t.getPath())??""}const i=t.getModel().getMetaModel();if(c.isDraftSupported(i,n)){return F.Draft}else if(c.isStickySessionSupported(i)){return F.Sticky}else{return F.NonDraft}};d.validateDocument=function e(t,n,i){const o=n&&n.customValidationFunction;if(o){const e=o.substring(0,o.lastIndexOf(".")||-1).replace(/\./gi,"/"),a=o.substring(o.lastIndexOf(".")+1,o.length),r=n.data;delete r["@$ui5.context.isTransient"];return l.validationWrapper(e,a,r,i,t)}return Promise.resolve([])};d.createDocument=async function t(n,i,a,r,s){const l=n.getModel(),u=l.getMetaModel(),d=u.getMetaPath(n.getHeaderContext().getPath()),f=a.getRouterProxy().getHash(),g=a.getComponentData(),v=g&&g.startupParameters||{},h=!n.isRelative()?this._getNewAction(v,f,u,d):undefined;const m={$$patchWithoutSideEffects:true};const y=u.getObject(`${d}/@com.sap.vocabularies.Common.v1.Messages/$Path`);let b="/busy";let P=u.getObject(`${d}@com.sap.vocabularies.Common.v1.DefaultValuesFunction`)||u.getObject(`${c.getTargetEntitySet(u.getContext(d))}@com.sap.vocabularies.Common.v1.DefaultValuesFunction`);let E;let T;if(P){if(u.getObject(`${d}@com.sap.vocabularies.Common.v1.DefaultValuesFunction`)&&c.getTargetEntitySet(u.getContext(d))!==d){E=true}else{E=false}}if(y){m["$select"]=y}const O=N(i);if(!n){throw new Error("Binding required for new document creation")}const S=this.getProgrammingModel(n);if(S!==F.Draft&&S!==F.Sticky){throw new Error("Create document only allowed for draft or sticky session supported services")}if(O.busyMode==="Local"){b=`/busyLocal/${O.busyId}`}O.beforeCreateCallBack=s?null:O.beforeCreateCallBack;this.busyLock(a,b);const A=C.getLibraryResourceBundle("sap.fe.core");let D;try{if(h){D=await this.callAction(h,{contexts:n.getHeaderContext(),showActionParameterDialog:true,label:this._getSpecificCreateActionDialogLabel(u,d,h,A),bindingParameters:m,parentControl:O.parentControl,bIsCreateAction:true,skipParameterDialog:O.skipParameterDialog},null,a,r)}else{const i=O.creationMode!==w.CreationRow&&O.creationMode!==w.Inline;const c=i?x(u,d,a):[];P=s?null:P;let p,f;if(P){if(E){p=n.getContext()&&`${u.getMetaPath(n.getContext().getPath())}/${P}`;f=n.getContext()}else{p=n.getHeaderContext()&&`${u.getMetaPath(n.getHeaderContext().getPath())}/${P}`;f=n.getHeaderContext()}}const g=p&&u.createBindingContext(p);try{let i;try{const e=g&&g.getObject()&&g.getObject()[0].$IsBound?await o.callBoundFunction(P,f,l):await o.callFunctionImport(P,l);if(e){i=e.getObject()}}catch(t){e.error(`Error while executing the function ${P}`,t);throw t}O.data=i?Object.assign({},i,O.data):O.data;if(O.data){delete O.data["@odata.context"]}if(c.length>0){D=await this._launchDialogWithKeyFields(n,c,l,O,a,r);T=D.newContext}else{if(O.beforeCreateCallBack){await I(O.beforeCreateCallBack({contextPath:n&&n.getPath()}))}T=n.create(O.data,true,O.createAtEnd,O.inactive);if(!O.inactive){D=await this.onAfterCreateCompletion(n,T,O)}}}catch(t){e.error("Error while creating the new document",t);throw t}}T=T||D;await r.showMessageDialog({control:O.parentControl});return T}catch(e){var M;await r.showMessageDialog({control:O.parentControl});if((e===p.Constants.ActionExecutionFailed||e===p.Constants.CancelActionDialog)&&(M=T)!==null&&M!==void 0&&M.isTransient()){T.delete("$direct")}throw e}finally{this.busyUnlock(a,b)}};d._isDraftEnabled=function e(t){const n=t[0];const i=this.getProgrammingModel(n);return i===F.Draft};d.deleteDocument=function e(t,n,i,o,a){const l=C.getLibraryResourceBundle("sap.fe.core");let c;this.busyLock(i);const u=Array.isArray(t)?[...t]:[t];return new Promise((e,t)=>{try{const d=this._isDraftEnabled(n.selectedContexts||u);const p=[];const h=[];if(n){if(!n.numberOfSelectedContexts){if(d){const e=u.find(e=>{const t=e.getObject();return t.IsActiveEntity===true&&t.HasDraftEntity===true&&t.DraftAdministrativeData&&t.DraftAdministrativeData.InProcessByUser&&!t.DraftAdministrativeData.DraftIsCreatedByMe});if(e){const n=e.getObject().DraftAdministrativeData.InProcessByUser;v.show(o.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_SINGLE_OBJECT_LOCKED",[n]),{title:o.getText("C_COMMON_DELETE"),onClose:t});return}}n=N(n);let e="";if(n.title){if(n.description){c=[n.title+" ",n.description]}else{c=[n.title,""]}e=o.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO",c,n.entitySetName)}else{e=o.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",undefined,n.entitySetName)}h.push({type:"deletableContexts",contexts:u,text:e,selected:true,control:"text"})}else{let e=u.length;if(d){e+=n.draftsWithNonDeletableActive.length+n.draftsWithDeletableActive.length+n.unSavedContexts.length+n.createModeContexts.length;s.updateDraftOptionsForDeletableTexts(n,u,e,o,p,h)}else{const t=s.getNonDeletableText(n,e,o);if(t){p.push(t)}}s.updateOptionsForDeletableTexts(n,u,o,h)}}s.updateContentForDeleteDialog(h,p);const m=new b({items:p});const y=l.getText("C_COMMON_DELETE");const C=async()=>{this.busyLock(i);try{await s.deleteConfirmHandler(h,n,a,o,i,d);e()}catch(e){t()}finally{this.busyUnlock(i)}};let P=false;const E=new g({title:y,state:"Warning",content:[m],ariaLabelledBy:p,beginButton:new f({text:l.getText("C_COMMON_DELETE"),type:"Emphasized",press:function(){r.removeBoundTransitionMessages();P=true;E.close();C()}}),endButton:new f({text:o.getText("C_COMMON_DIALOG_CANCEL"),press:function(){E.close()}}),afterClose:function(){E.destroy();if(!P){t()}}});if(n.noDialog){C()}else{E.addStyleClass("sapUiContentPadding");E.open()}}finally{this.busyUnlock(i)}})};d.editDocument=async function e(t,n,o,r){const s=this.getProgrammingModel(t);if(!t){throw new Error("Binding context to active document is required")}if(s!==F.Draft&&s!==F.Sticky){throw new Error("Edit is only allowed for draft or sticky session supported services")}this.busyLock(o);r.removeTransitionMessages();try{const e=s===F.Draft?await i.createDraftFromActiveDocument(t,o,{bPreserveChanges:true,oView:n}):await a.editDocumentInStickySession(t,o);await r.showMessageDialog();return e}catch(e){await r.showMessages({concurrentEditFlag:true});throw e}finally{this.busyUnlock(o)}};d.cancelDocument=async function e(t,n,o,r,s,l,c){if(!t){throw new Error("No context exists. Pass a meaningful context")}this.busyLock(o);const u=N(n);const d=t.getModel();const p=this.getProgrammingModel(t);if(p!==F.Draft&&p!==F.Sticky){throw new Error("Cancel document only allowed for draft or sticky session supported services")}try{let e=false;if(p===F.Draft&&!c){const e=d.bindContext(`${t.getPath()}/DraftAdministrativeData`).getBoundContext();const n=await e.requestObject();if(n){c=n.CreationDateTime!==n.LastChangeDateTime}}if(!u.skipDiscardPopover){await this._confirmDiscard(u.cancelButton,c,r)}if(t.isKeepAlive()){t.setKeepAlive(false)}if(u.beforeCancelCallBack){await u.beforeCancelCallBack({context:t})}if(p===F.Draft){if(l){if(t.hasPendingChanges()){t.getBinding().resetChanges()}e=await i.deleteDraft(t,o)}else{const n=d.bindContext(`${t.getPath()}/SiblingEntity`).getBoundContext();try{const i=await n.requestCanonicalPath();if(t.hasPendingChanges()){t.getBinding().resetChanges()}e=d.bindContext(i).getBoundContext()}finally{await i.deleteDraft(t,o)}}}else{const n=await a.discardDocument(t);if(n){if(n.hasPendingChanges()){n.getBinding().resetChanges()}if(!l){n.refresh();e=n}}}s.removeTransitionMessages();await s.showMessages();return e}catch(e){await s.showMessages();throw e}finally{this.busyUnlock(o)}};d.saveDocument=async function e(n,o,s,l,c,u,d){const p=this.getProgrammingModel(n);if(p!==F.Sticky&&p!==F.Draft){throw new Error("Save is only allowed for draft or sticky session supported services")}u.removeTransitionMessages();try{this.busyLock(o);const e=p===F.Draft?await i.activateDocument(n,o,{},u):await a.activateDocument(n,o);const t=r.getMessages().concat(r.getMessages(true,true));if(!(t.length===1&&t[0].type===E.MessageType.Success)){h.show(d?s.getText("C_TRANSACTION_HELPER_OBJECT_CREATED"):s.getText("C_TRANSACTION_HELPER_OBJECT_SAVED"))}return e}catch(e){if(l&&(c===null||c===void 0?void 0:c.length)>0){c.forEach(e=>{if(!t.hasTransientContext(e)){o.getSideEffectsService().requestSideEffectsForNavigationProperty(e.getPath(),n)}})}await u.showMessages();throw e}finally{this.busyUnlock(o)}};d.callAction=async function e(t,n,i,a,r){n=N(n);let s,l;const c=n.bindingParameters;if(!t){throw new Error("Provide name of action to be executed")}const u=t.split("/")[1];t=u||t;s=u?undefined:n.contexts;if(s&&(Array.isArray(s)&&s.length||!Array.isArray(s))){s=Array.isArray(s)?s[0]:s;l=s.getModel()}if(n.model){l=n.model}if(!l){throw new Error("Pass a context for a bound action or pass the model for an unbound action")}const d=a.getSideEffectsService().getODataActionSideEffects(t,s)||{};try{let e;if(s&&l){e=await o.callBoundAction(t,n.contexts,l,a,{parameterValues:n.parameterValues,invocationGrouping:n.invocationGrouping,label:n.label,skipParameterDialog:n.skipParameterDialog,mBindingParameters:c,entitySetName:n.entitySetName,additionalSideEffect:d,onSubmitted:()=>{r.removeTransitionMessages();this.busyLock(a)},onResponse:()=>{this.busyUnlock(a)},parentControl:n.parentControl,controlId:n.controlId,internalModelContext:n.internalModelContext,operationAvailableMap:n.operationAvailableMap,bIsCreateAction:n.bIsCreateAction,bGetBoundContext:n.bGetBoundContext,bObjectPage:n.bObjectPage,messageHandler:r,defaultValuesExtensionFunction:n.defaultValuesExtensionFunction,selectedItems:n.contexts})}else{e=await o.callActionImport(t,l,a,{parameterValues:n.parameterValues,label:n.label,skipParameterDialog:n.skipParameterDialog,bindingParameters:c,entitySetName:n.entitySetName,onSubmitted:()=>{this.busyLock(a)},onResponse:()=>{this.busyUnlock(a)},parentControl:n.parentControl,internalModelContext:n.internalModelContext,operationAvailableMap:n.operationAvailableMap,messageHandler:r,bObjectPage:n.bObjectPage})}await this._handleActionResponse(r,n,t);return e}catch(e){await this._handleActionResponse(r,n,t);throw e}};d._handleActionResponse=function e(t,n,i){const o=r.getMessages(true,true);const a=n.label?n.label:i;if(o.length>0&&n&&n.internalModelContext){n.internalModelContext.setProperty("sActionName",n.label?n.label:i)}let s;if(n.controlId){s=n.parentControl.byId(n.controlId)}else{s=n.parentControl}return t.showMessages({sActionName:a,control:s})};d.handleValidationError=function e(){const t=C.getMessageManager(),n=t.getMessageModel().getData().filter(function(e){if(e.validation){return e}});t.removeMessages(n)};d._createPopover=function e(t){return new m(t)};d._confirmDiscard=function e(t,n,i){if(!n){this.handleValidationError();return Promise.resolve()}t.setEnabled(false);return new Promise((e,n)=>{const o=this._createPopover({showHeader:false,placement:"Top"});o.addStyleClass("sapUiContentPadding");const a=new y({text:i.getText("C_TRANSACTION_HELPER_DRAFT_DISCARD_MESSAGE")});const r=new f({text:i.getText("C_TRANSACTION_HELPER_DRAFT_DISCARD_BUTTON"),width:"100%",press:()=>{this.handleValidationError();o.data("continueDiscard",true);o.close()},ariaLabelledBy:[a]});o.addContent(new b({items:[a,r]}));o.attachBeforeOpen(()=>{o.setInitialFocus(r)});o.attachAfterClose(()=>{t.setEnabled(true);if(o.data("continueDiscard")){e()}else{n()}});o.openBy(t,false)})};d._onFieldChange=function e(t,n,i,o){i.removeTransitionMessages();const a=t.getSource();const r=t.getParameter("promise");if(r){return r.then(function(e){a.setValue(e);o();return a.getValue()}).catch(function(e){if(e!==""){n.setEnabled(false)}else{a.setValue(e);o()}})}};d._launchDialogWithKeyFields=function e(i,o,a,r,s,l){let c;const u=r.parentControl;const d=a.bindList(i.getPath(),i.getContext(),[],[],{$$updateGroupId:"submitLater"});d.refreshInternal=function(){};const f=d.create(r.data,true);return new Promise(async(e,v)=>{const h="sap/fe/core/controls/NonComputedVisibleKeyFieldsDialog";const m=O.loadTemplate(h,"fragment"),y=_(u),b=a.getMetaModel(),C=[],E=i.isRelative()?i.getResolvedPath():i.getPath(),A=b.createBindingContext(E),x=b.getMetaPath(E);for(const e in o){C.push(b.createBindingContext(`${x}/${o[e]}`))}const w=new S(C);const F=w.createBindingContext("/");const N=D(x,b);const $=new S(N);const V=$.createBindingContext("/");const L=await T.process(m,{name:h},{bindingContexts:{entitySet:A,fields:F,requiredProperties:V},models:{entitySet:A.getModel(),fields:F.getModel(),metaModel:b,requiredProperties:$}});let B=[];const j={};let k;const U=async function(){let e=false;try{const t=await Promise.all(B.map(function(e){return e.getFields()[0]}).filter(function(e){return e.getRequired()||e.getValueState()===R.Error}).map(async function(e){const t=e.getId();if(t in j){try{const n=await j[t];return e.getValue()===""?undefined:n}catch(e){return undefined}}return e.getValue()===""?undefined:e.getValue()}));e=t.every(function(e){if(Array.isArray(e)){e=e[0]}return e!==undefined&&e!==null&&e!==""})}catch(t){e=false}k.setEnabled(e)};const H={handleChange:e=>{const t=e.getParameter("id");j[t]=this._onFieldChange(e,k,l,U)},handleLiveChange:e=>{const t=e.getParameter("id");const n=e.getParameter("value");j[t]=n;U()}};const G=await P.load({definition:L,controller:H});let z;const W=function(){if(z.error){v(z.error)}else{e(z.response)}c.close()};c=new g(M(["CreateDialog",x]),{title:y.getText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE"),content:[G],beginButton:{text:y.getText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE_BUTTON"),type:"Emphasized",press:async e=>{const t=e.getSource();t.setEnabled(false);n.lock(c);r.bIsCreateDialog=true;try{const e=await Promise.all(Object.keys(j).map(async function(e){const t=await j[e];const n={};n[e]=t;return n}));if(r.beforeCreateCallBack){await I(r.beforeCreateCallBack({contextPath:i&&i.getPath(),createParameters:e}))}const t=f.getObject();const n={};Object.keys(t).forEach(function(e){const i=b.getObject(`${x}/${e}`);if(i&&i.$kind==="NavigationProperty"){return}n[e]=t[e]});const o=i.create(n,true,r.createAtEnd,r.inactive);const a=this.onAfterCreateCompletion(i,o,r);let s=await a;if(!s||s&&s.bKeepDialogOpen!==true){s=s??{};c.setBindingContext(null);s.newContext=o;z={response:s};W()}}catch(e){if(e!==p.Constants.CreationFailed){z={error:e};W()}else{t.setEnabled(true)}}finally{n.unlock(c);l.showMessages()}}},endButton:{text:y.getText("C_COMMON_ACTION_PARAMETER_DIALOG_CANCEL"),press:function(){z={error:p.Constants.CancelActionDialog};W()}},afterClose:function(){var e;(e=c.getBindingContext("internal"))===null||e===void 0?void 0:e.setProperty("isCreateDialogOpen",false);c.destroy();d.destroy()}});B=G===null||G===void 0?void 0:G.getAggregation("form").getAggregation("formContainers")[0].getAggregation("formElements");if(u&&u.addDependent){u.addDependent(c)}k=c.getBeginButton();c.setBindingContext(f);try{await t.setUserDefaults(s,C,f,false,r.createAction,r.data);U();c.getBindingContext("internal").setProperty("isCreateDialogOpen",true);c.open()}catch(e){await l.showMessages();throw e}})};d.onAfterCreateCompletion=function t(n,i,o){let a;const r=new Promise(e=>{a=e});const s=e=>{const t=e.getParameter("context"),o=e.getParameter("success");if(t===i){n.detachCreateCompleted(s,this);a(o)}};const l=()=>{i.created().then(undefined,function(){e.trace("transient creation context deleted")}).catch(function(t){e.trace("transient creation context deletion error",t)})};n.attachCreateCompleted(s,this);return r.then(e=>{if(!e){if(!o.keepTransientContextOnFailed){l();n.resetChanges();n.getModel().resetChanges(n.getUpdateGroupId());throw p.Constants.CreationFailed}return{bKeepDialogOpen:true}}else{return i.created()}})};d._getNewAction=function e(t,n,i,o){let a;if(t&&t.preferredMode&&n.toUpperCase().indexOf("I-ACTION=CREATEWITH")>-1){const e=t.preferredMode[0];a=e.toUpperCase().indexOf("CREATEWITH:")>-1?e.substr(e.lastIndexOf(":")+1):undefined}else if(t&&t.preferredMode&&n.toUpperCase().indexOf("I-ACTION=AUTOCREATEWITH")>-1){const e=t.preferredMode[0];a=e.toUpperCase().indexOf("AUTOCREATEWITH:")>-1?e.substr(e.lastIndexOf(":")+1):undefined}else{a=i&&i.getObject!==undefined?i.getObject(`${o}@com.sap.vocabularies.Session.v1.StickySessionSupported/NewAction`)||i.getObject(`${o}@com.sap.vocabularies.Common.v1.DraftRoot/NewAction`):undefined}return a};d._getSpecificCreateActionDialogLabel=function e(t,n,i,o){const a=function(){if(t&&t.getObject(`${n}/@com.sap.vocabularies.UI.v1.LineItem`)){const e=t.getObject(`${n}/@com.sap.vocabularies.UI.v1.LineItem`).findIndex(function(e){const t=e.Action?e.Action.split("("):undefined;return t?t[0]===i:false});return e>-1?t.getObject(`${n}/@com.sap.vocabularies.UI.v1.LineItem`)[e].Label:undefined}else{return undefined}};return a()||t&&t.getObject(`${n}/${i}@com.sap.vocabularies.Common.v1.Label`)||o&&o.getText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE")};return u}();const V=new $;return V},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/draft",["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/helpers/ResourceModelHelper","sap/m/Button","sap/m/Dialog","sap/m/MessageBox","sap/m/Text","sap/ui/core/Core","../../operationsHelper","./draftDataLossPopup"],function(e,t,n,i,o,a,r,s,l,c,u){"use strict";var d=i.getResourceModel;const p={EDIT:"EditAction",ACTIVATION:"ActivationAction",DISCARD:"DiscardAction",PREPARE:"PreparationAction"};function f(e,t){const n=e.getModel(),i=n.getMetaModel(),o=i.getMetaPath(e.getPath());return i.getObject(`${o}@com.sap.vocabularies.Common.v1.DraftRoot/${t}`)}function g(e,t,n){const i=f(e,t);return e.getModel().bindContext(`${i}(...)`,e,n)}function v(e,t){const n=e.getModel(),i=n.getMetaModel(),o=i.getMetaPath(e.getPath());return i.getObject(`${o}@com.sap.vocabularies.Common.v1.DraftRoot/${t}/$ReturnType`)}function h(e){return!!f(e,p.PREPARE)}async function m(e,t,n){if(e.getProperty("IsActiveEntity")){const i={$$inheritExpandSelect:true};const o=g(e,p.EDIT,i);o.setParameter("PreserveChanges",t);const a="direct";const r=d(n);const s=r.getText("C_COMMON_OBJECT_PAGE_EDIT");const l=o.execute(a,undefined,c.fnOnStrictHandlingFailed.bind(M,a,{label:s,model:e.getModel()},r,null,null,null,undefined,undefined),e.getBinding().isA("sap.ui.model.odata.v4.ODataListBinding"));o.getModel().submitBatch(a);return await l}else{throw new Error("You cannot edit this draft document")}}async function y(t,n,i){if(M.getMessagesPath(t)&&M.hasPrepareAction(t)){try{const e=await M.executeDraftPreparationAction(t,t.getUpdateGroupId(),true,i);if(e&&!v(t,p.PREPARE)){T(t,n.getSideEffectsService())}return e}catch(t){e.error("Error while requesting messages",t)}}return undefined}async function b(t,n,i){const o=h(t);const a=o;if(!t.getProperty("IsActiveEntity")){const r=g(t,p.ACTIVATION,{$$inheritExpandSelect:true});const s=d(n);const l=s.getText("C_OP_OBJECT_PAGE_SAVE");try{return await r.execute(i,a,i?c.fnOnStrictHandlingFailed.bind(M,i,{label:l,model:t.getModel()},s,null,null,null,undefined,undefined):undefined,t.getBinding().isA("sap.ui.model.odata.v4.ODataListBinding"))}catch(i){if(o){const i=f(t,p.PREPARE),o=n.getSideEffectsService(),a=o.getODataActionSideEffects(i,t),r=a&&a.pathExpressions;if(r&&r.length>0){try{await o.requestSideEffects(r,t)}catch(t){e.error("Error while requesting side effects",t)}}else{try{await T(t,o)}catch(t){e.error("Error while requesting messages",t)}}}throw i}}else{throw new Error("The activation action cannot be executed on an active document")}}function C(e){const t=e.getModel().getMetaModel();const n=t.getMetaPath(e.getPath());const i=v(e,p.PREPARE);return i?t.getObject(`${n}/@${"com.sap.vocabularies.Common.v1.Messages"}/$Path`):null}function P(t,n,i,o){if(!t.getProperty("IsActiveEntity")){const a=i?C(t):null;const r=g(t,p.PREPARE,a?{$select:a}:null);r.setParameter("SideEffectsQualifier","");const s=n||r.getGroupId();return r.execute(s,o).then(function(){return r}).catch(function(t){e.error("Error while executing the operation",t)})}else{throw new Error("The preparation action cannot be executed on an active document")}}function E(e){const t=e.getModel(),n=t.getMetaModel(),i=n.getMetaPath(e.getPath());return n.getObject(`${i}/@com.sap.vocabularies.Common.v1.Messages/$Path`)}function T(e,t){const n=M.getMessagesPath(e);if(n){return t.requestSideEffects([n],e)}return Promise.resolve()}async function O(e,t,n){if(!e.getProperty("IsActiveEntity")){const i=M.createOperation(e,p.DISCARD);const o=t&&d(t);const a="direct";const r=(o===null||o===void 0?void 0:o.getText("C_TRANSACTION_HELPER_DRAFT_DISCARD_BUTTON"))||"";const s=!n?i.execute(a):i.execute(a,undefined,c.fnOnStrictHandlingFailed.bind(M,a,{label:r,model:e.getModel()},o,null,null,null,undefined,undefined),false);e.getModel().submitBatch(a);return s}else{throw new Error("The discard action cannot be executed on an active document")}}async function S(t,n){if(!n.getPath().startsWith(t.getPath())){e.error("Cannot compute rightmost sibling context");throw new Error("Cannot compute rightmost sibling context")}if(n.getProperty("IsActiveEntity")===false&&n.getProperty("HasActiveEntity")===false){return undefined}const i=t.getModel();try{const e=n.getPath().replace(t.getPath(),"");const o=e?e.substring(1).split("/"):[];o.unshift(t.getPath().substring(1));const a=[];const r=[];let s="";const l=o.map(e=>{s+=`/${e}`;a.unshift(s);if(s.endsWith(")")){const e=i.bindContext(`${s}/SiblingEntity`).getBoundContext();return e.requestCanonicalPath()}else{return Promise.resolve(undefined)}});const c=await Promise.all(l);let u="";c.forEach((e,t)=>{if(t!==0){if(o[t].endsWith(")")){const n=o[t].replace(/\(.*$/,"");const i=e.replace(/.*\(/,"(");u+=`/${n}${i}`}else{u+=`/${o[t]}`}}else{u=e}r.unshift(u)});return{targetContext:i.bindContext(u).getBoundContext(),pathMapping:a.map((e,t)=>({oldPath:e,newPath:r[t]}))}}catch(e){return undefined}}async function A(e,i,o){const a=o||{},s=typeof a.bPreserveChanges==="undefined"||typeof a.bPreserveChanges==="boolean"&&a.bPreserveChanges;async function l(){const t=e.getModel();const i=t.bindContext(`${e.getPath()}/DraftAdministrativeData`).getBoundContext();const a=d(o.oView);const s=await i.requestObject();if(s){n.removeUnboundTransitionMessages();let t=s.InProcessByUserDescription||s.InProcessByUser;const i=o.oView.getViewData().entitySet;if(t){const e=a.getText("C_DRAFT_OBJECT_PAGE_DRAFT_LOCKED_BY_USER",t,i);r.error(e);throw new Error(e)}else{t=s.CreatedByUserDescription||s.CreatedByUser;const n=a.getText("C_DRAFT_OBJECT_PAGE_DRAFT_UNSAVED_CHANGES",t,i);await M.showEditConfirmationMessageBox(n,e);return M.executeDraftEditAction(e,false,o.oView)}}throw new Error(`Draft creation aborted for document: ${e.getPath()}`)}if(!e){throw new Error("Binding context to active document is required")}let c;try{c=await M.executeDraftEditAction(e,s,o.oView)}catch(i){if(i.status===409||i.status===412||i.status===423){n.removeBoundTransitionMessages();n.removeUnboundTransitionMessages();const i=await M.computeSiblingInformation(e,e);if(i!==null&&i!==void 0&&i.targetContext){await t.waitForContextRequested(i.targetContext);return i.targetContext}else{c=await l()}}else if(!(i&&i.canceled)){throw new Error(i)}}if(c){var u;const e=M.getActionName(c,p.EDIT);const t=i.getSideEffectsService().getODataActionSideEffects(e,c);if(t!==null&&t!==void 0&&(u=t.triggerActions)!==null&&u!==void 0&&u.length){await i.getSideEffectsService().requestSideEffectsForODataAction(t,c);return c}else{return c}}else{return undefined}}async function I(e,t,n,i){const o=n||{};if(!e){throw new Error("Binding context to draft document is required")}const a=o.fnBeforeActivateDocument?await o.fnBeforeActivateDocument(e):true;if(!a){throw new Error(`Activation of the document was aborted by extension for document: ${e.getPath()}`)}let r;if(!h(e)){r=await b(e,t)}else{const n="draft";let o=M.executeDraftPreparationAction(e,n,false);e.getModel().submitBatch(n);const a=M.executeDraftActivationAction(e,t,n);try{const e=await Promise.all([o,a]);r=e[1]}catch(t){const a=C(e);if(a){o=M.executeDraftPreparationAction(e,n,true);e.getModel().submitBatch(n);await o;const t=await e.requestObject();if(t[a].length>0){i===null||i===void 0?void 0:i.removeTransitionMessages(false,false,e.getPath())}}throw t}}return o.fnAfterActivateDocument?o.fnAfterActivateDocument(e,r):r}function D(e,t){const n=l.getLibraryResourceBundle("sap.fe.core");return new Promise(function(i,r){const l=new a({title:n.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_WARNING"),state:"Warning",content:new s({text:e}),beginButton:new o({text:n.getText("C_COMMON_OBJECT_PAGE_EDIT"),type:"Emphasized",press:function(){l.close();i(true)}}),endButton:new o({text:n.getText("C_COMMON_OBJECT_PAGE_CANCEL"),press:function(){l.close();r(`Draft creation aborted for document: ${t.getPath()}`)}}),afterClose:function(){l.destroy()}});l.addStyleClass("sapUiContentPadding");l.open()})}function x(e,t,n){const i=f(e,p.DISCARD),o=e.getObject().IsActiveEntity;if(o||!o&&!i){if(e.hasPendingChanges()){return e.getBinding().resetChanges().then(function(){return e.delete()}).catch(function(e){return Promise.reject(e)})}else{return e.delete()}}else{return O(e,t,n)}}const M={createDraftFromActiveDocument:A,activateDocument:I,deleteDraft:x,executeDraftEditAction:m,executeDraftValidation:y,executeDraftPreparationAction:P,executeDraftActivationAction:b,hasPrepareAction:h,getMessagesPath:E,computeSiblingInformation:S,processDataLossOrDraftDiscardConfirmation:u.processDataLossOrDraftDiscardConfirmation,silentlyKeepDraftOnForwardNavigation:u.silentlyKeepDraftOnForwardNavigation,createOperation:g,executeDraftDiscardAction:O,NavigationType:u.NavigationType,getActionName:f,showEditConfirmationMessageBox:D};return M},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/draftDataLossPopup",["sap/base/Log","sap/fe/core/controllerextensions/collaboration/ActivitySync","sap/fe/core/controls/DataLossOrDraftDiscard/DataLossOrDraftDiscardHandler","sap/fe/core/helpers/EditState"],function(e,t,n,i){"use strict";var o;(function(e){e["BackNavigation"]="BackNavigation";e["ForwardNavigation"]="ForwardNavigation"})(o||(o={}));function a(e){var t,n;let i=false;const o=e.getAppComponent().getManifest();i=(o===null||o===void 0?void 0:(t=o["sap.fe"])===null||t===void 0?void 0:(n=t.app)===null||n===void 0?void 0:n.silentlyKeepDraftOnForwardNavigation)||false;return i}async function r(e,t,i,o,a){if(e.CreationDateTime!==e.LastChangeDateTime){n.performAfterDiscardorKeepDraft(o,t,i,a)}else{o()}}async function s(t,a,r,s,l,c,u){if(i.isEditStateDirty()){if(t.CreationDateTime===t.LastChangeDateTime&&l===o.BackNavigation){try{await n.discardDraft(r,u);s()}catch(t){e.error("Error while canceling the document",t)}}else if(l===o.ForwardNavigation&&c){s()}else{n.performAfterDiscardorKeepDraft(s,a,r,u)}}else{s()}}async function l(t,n,i,a){if(a===o.BackNavigation){const o={skipDiscardPopover:true};try{await t.editFlow.cancelDocument(n,o);i()}catch(t){e.error("Error while canceling the document",t)}}else{i()}}async function c(e,t,i,a,r,s){if(a===o.ForwardNavigation&&r){i()}else{n.performAfterDiscardorKeepDraft(i,t,e,s)}}async function u(e,n,u,d,p,f){let g=arguments.length>6&&arguments[6]!==undefined?arguments[6]:o.BackNavigation;const v=t.isConnected(p.getView());const h=!v?n:function(){t.disconnect(p.getView());for(var e=arguments.length,i=new Array(e),o=0;o<e;o++){i[o]=arguments[o]}n.apply(null,...i)};const m=a(p);if(e){if(p.getAppComponent().getRootViewController().isFclEnabled()){await r(e,u,p,h,f)}else if(!d.getObject().HasActiveEntity){s(e,u,p,h,g,m,f)}else if(e.CreationDateTime===e.LastChangeDateTime){l(p,d,h,g)}else if(i.isEditStateDirty()){c(p,u,h,g,m,f)}else{h()}}else{n()}}async function d(t,n,i,a,r){let s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:o.BackNavigation;const l=a.getView();const c=i.getModel();const d=c.getMetaModel();const p=l.getViewData().entitySet??"";const f=p&&d.getObject("/"+p+"@com.sap.vocabularies.Common.v1.DraftRoot");const g=l.getModel("ui");const v=g.getProperty("/isEditable");const h=c.bindContext(`${i.getPath()}/DraftAdministrativeData`).getBoundContext();if(i&&i.getObject()&&(!f&&s===o.BackNavigation||!v)){t()}else{try{const e=await h.requestObject();await u(e,t,n,i,a,r,s)}catch(t){e.error("Cannot retrieve draftDataContext information",t)}}}const p={processDataLossOrDraftDiscardConfirmation:d,silentlyKeepDraftOnForwardNavigation:a,NavigationType:o,processFclMode:r,processNoActiveEntityMode:s,processEditingDraftForExistingEntity:l,processEditStateDirty:c};return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/operations",["./operations/facade"],function(e){"use strict";return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/operations/_internal",["sap/ui/core/message/Message"],function(e){"use strict";var t={};async function n(t,n){t.addMessages(n.map(t=>{const n=t.actionParameterInfo.field.getBinding(t.actionParameterInfo.isMultiValue?"items":"value");return new e({message:t.message,type:"Error",processor:n===null||n===void 0?void 0:n.getModel(),persistent:true,target:n===null||n===void 0?void 0:n.getResolvedPath()})}))}t._addMessageForActionParameter=n;async function i(e,t,i){await Promise.allSettled(t.map(e=>e.validationPromise));const o=t.filter(e=>e.field.getRequired());const a=o.filter(e=>{if(e.isMultiValue){return e.value===undefined||!e.value.length}else{const t=e.field.getValue();return t===undefined||t===null||t===""}});n(e,a.map(e=>{var t;return{actionParameterInfo:e,message:i.getText("C_OPERATIONS_ACTION_PARAMETER_DIALOG_MISSING_MANDATORY_MSG",[((t=e.field.getParent())===null||t===void 0?void 0:t.getAggregation("label")).getText()])}}));const r=t.find(e=>e.hasError||e.field.getValueState()==="Error"||a.includes(e));if(r){r.field.focus();return false}else{return true}}t._validateProperties=i;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/operations/facade",["sap/base/Log","sap/fe/core/ActionRuntime","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/library","sap/m/Button","sap/m/Dialog","sap/m/MessageBox","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/library","sap/ui/core/message/Message","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/model/json/JSONModel","../../../operationsHelper","./_internal"],function(e,t,n,i,o,a,r,s,l,c,u,d,p,f,g,v,h,m,y,b,C){"use strict";var P=C._validateProperties;var E=C._addMessageForActionParameter;var T=g.MessageType;var O=s.generate;var S=r.getResourceModel;const A=l.Constants,I=l.InvocationGrouping;const D=d.Action;function x(e,t,n,i,o,a){if(!a){a={is412Executed:false,strictHandlingTransitionFails:[],strictHandlingPromises:[],strictHandlingWarningMessages:[],delaySuccessMessages:[],processedMessageIds:[]}}if(!t||t.length===0){return Promise.reject("Bound actions always requires at least one context")}const r=Array.isArray(t);o.aContexts=r?t:[t];const s=n.getMetaModel(),l=`${s.getMetaPath(o.aContexts[0].getPath())}/${e}`,c=s.createBindingContext(`${l}/@$ui5.overload/0`);o.isCriticalAction=k(s,l,o.aContexts,c);const u=function(e){if(e[0].status==="fulfilled"){return e[0].value}else{throw e[0].reason||e}};return R(e,n,c,i,o,a).then(e=>{if(r){return e}else{return u(e)}},e=>{if(r){throw e}else{return u(e)}})}function M(e,t,n,i,o){if(!t){return Promise.reject("Action expects a model/context for execution")}const a=t.getMetaModel(),r=t.bindContext(`/${e}`).getPath(),s=a.createBindingContext(`/${a.createBindingContext(r).getObject("$Action")}/0`);i.isCriticalAction=k(a,`${r}/@$ui5.overload`);return R(e,t,s,n,i,o)}function _(e,t,n){if(!t){return Promise.reject("Bound functions always requires a context")}const i=n.getMetaModel(),o=`${i.getMetaPath(t.getPath())}/${e}`,a=i.createBindingContext(o);return F(e,n,a,t)}function w(e,t){if(!e){return Promise.resolve()}const n=t.getMetaModel(),i=t.bindContext(`/${e}`).getPath(),o=n.createBindingContext(`/${n.createBindingContext(i).getObject("$Function")}/0`);return F(e,t,o)}function F(e,t,n,i){let o;if(!n||!n.getObject()){return Promise.reject(new Error(`Function ${e} not found`))}if(i){n=t.bindContext(`${i.getPath()}/${e}(...)`);o="functionGroup"}else{n=t.bindContext(`/${e}(...)`);o="functionImport"}const a=n.execute(o);t.submitBatch(o);return a.then(function(){return n.getBoundContext()})}function R(e,t,n,i,o,a){if(!a){a={is412Executed:false,strictHandlingTransitionFails:[],strictHandlingPromises:[],strictHandlingWarningMessages:[],delaySuccessMessages:[],processedMessageIds:[]}}o.bGrouped=o.invocationGrouping===I.ChangeSet;return new Promise(async function(r,s){let l={};let c;let u;const d=o.label;const f=o.skipParameterDialog;const g=o.aContexts;const v=o.bIsCreateAction;const h=o.isCriticalAction;let m;let y;let b;let C;let P;let E;let T;const O=n.getObject();if(!n||!n.getObject()){return s(new Error(`Action ${e} not found`))}const S=j(n);const A=S.length>0&&!(S.length===1&&S[0].$Name==="ResultIsActiveEntity");const D=o.parameterValues;const x=i.getComponentData();const M=x&&x.startupParameters||{};if(A&&f){T=K(v,S,D,M)}c=null;if(A){if(!(f&&T)){c=B}}else if(h){c=N}l={fnOnSubmitted:o.onSubmitted,fnOnResponse:o.onResponse,actionName:e,model:t,aActionParameters:S,bGetBoundContext:o.bGetBoundContext,defaultValuesExtensionFunction:o.defaultValuesExtensionFunction,label:o.label,selectedItems:o.selectedItems};if(n.getObject("$IsBound")){if(o.additionalSideEffect&&o.additionalSideEffect.pathExpressions){m=t.getMetaModel();y=m.getMetaPath(g[0].getPath());b=m.getObject(`${y}/@com.sap.vocabularies.Common.v1.Messages/$Path`);if(b){C=o.additionalSideEffect.pathExpressions.findIndex(function(e){return typeof e==="string"&&e===b});E=n.getObject("$ReturnType");P=E&&!E.$isCollection&&n.getModel().getObject(y).$Type===E.$Type;if(C>-1||P){o.mBindingParameters=o.mBindingParameters||{};if(n.getObject(`$ReturnType/$Type/${b}`)&&(!o.mBindingParameters.$select||o.mBindingParameters.$select.split(",").indexOf(b)===-1)){o.mBindingParameters.$select=o.mBindingParameters.$select?`${o.mBindingParameters.$select},${b}`:b;if(C===-1){o.additionalSideEffect.pathExpressions.push("*")}if(o.additionalSideEffect.triggerActions.length===0&&C>-1){o.additionalSideEffect.pathExpressions.splice(C,1)}}}}}l.aContexts=g;l.mBindingParameters=o.mBindingParameters;l.additionalSideEffect=o.additionalSideEffect;l.bGrouped=o.invocationGrouping===I.ChangeSet;l.internalModelContext=o.internalModelContext;l.operationAvailableMap=o.operationAvailableMap;l.isCreateAction=v;l.bObjectPage=o.bObjectPage;if(o.controlId){l.control=o.parentControl.byId(o.controlId);o.control=l.control}else{l.control=o.parentControl;o.control=o.parentControl}}if(v){l.bIsCreateAction=v}const _=(O.$Parameter||[]).some(e=>(O.$EntitySetPath&&O.$EntitySetPath===e.$Name||O.$IsBound)&&e.$isCollection);l.isStatic=_;if(c){u=c(e,i,d,l,S,D,n,o.parentControl,o.entitySetName,o.messageHandler,a);return u.then(function(e){V(o,l,O);r(e)}).catch(function(e){s(e)})}else{if(D){for(const e in l.aActionParameters){var w;l.aActionParameters[e].value=D===null||D===void 0?void 0:(w=D.find(t=>t.name===l.aActionParameters[e].$Name))===null||w===void 0?void 0:w.value}}else{for(const e in l.aActionParameters){var F;l.aActionParameters[e].value=(F=M[l.aActionParameters[e].$Name])===null||F===void 0?void 0:F[0]}}let e;try{e=await W(i,l,o.parentControl,o.messageHandler,a);const t=p.getMessageManager().getMessageModel().getData();if(a&&a.is412Executed&&a.strictHandlingTransitionFails.length){a.delaySuccessMessages=a.delaySuccessMessages.concat(t)}V(o,l,O);r(e)}catch{s(e)}finally{var R,$;if(a&&a.is412Executed&&a.strictHandlingTransitionFails.length){try{const e=a.strictHandlingTransitionFails;const t=[];e.forEach(function(e){t.push(e.oAction.getContext())});l.aContexts=t;const n=await W(i,l,o.parentControl,o.messageHandler,a);a.strictHandlingTransitionFails=[];p.getMessageManager().addMessages(a.delaySuccessMessages);V(o,l,O);r(n)}catch(e){s(e)}}let e=false;if(o.bGrouped&&a&&a.strictHandlingPromises.length||z(o.bGrouped)!==-1){e=true}o===null||o===void 0?void 0:(R=o.messageHandler)===null||R===void 0?void 0:R.showMessageDialog({control:($=l)===null||$===void 0?void 0:$.control,onBeforeShowMessage:function(t,n){return L(o,g,undefined,t,n,e)},aSelectedContexts:o.aContexts,sActionName:d});if(a){a={is412Executed:false,strictHandlingTransitionFails:[],strictHandlingPromises:[],strictHandlingWarningMessages:[],delaySuccessMessages:[],processedMessageIds:[]}}}}})}function N(e,t,n,i,o,a,r,s,l,c){return new Promise((n,o)=>{let a=e?e:null;a=a.indexOf(".")>=0?a.split(".")[a.split(".").length-1]:a;const r=a&&l?`${l}|${a}`:"";const u=S(s);const p=u.getText("C_OPERATIONS_ACTION_CONFIRM_MESSAGE",undefined,r);d.confirm(p,{onClose:async function(e){if(e===D.OK){try{const e=await W(t,i,s,c);n(e)}catch(e){try{await c.showMessageDialog();o(e)}catch(t){o(e)}}}else{n()}}})})}async function $(e,t,n,i,o,a,r,s){var l;const c=await W(e,t,n,i,s);if((l=t.aContexts)!==null&&l!==void 0&&l.length){if(c!==null&&c!==void 0&&c.some(e=>e.status==="rejected")){throw c}}const u=p.getMessageManager().getMessageModel().getData();if(s&&s.is412Executed&&s.strictHandlingTransitionFails.length){if(!r){s.delaySuccessMessages=s.delaySuccessMessages.concat(u)}else{p.getMessageManager().addMessages(s.delaySuccessMessages);let e=false;if(t.bGrouped&&s.strictHandlingPromises.length||z(t.bGrouped)!==-1){e=true}if(u.length){a.attachEventOnce("afterClose",function(){i.showMessageDialog({onBeforeShowMessage:function(n,i){return L(t,o,a,n,i,e)},control:t.control,aSelectedContexts:t.aContexts,sActionName:t.label})})}}}else if(u.length){let e=false;if(t.bGrouped&&s&&s.strictHandlingPromises.length||z(t.bGrouped)!==-1){e=true}a.attachEventOnce("afterClose",function(){i.showMessageDialog({isActionParameterDialogOpen:t===null||t===void 0?void 0:t.oDialog.isOpen(),onBeforeShowMessage:function(n,i){return L(t,o,a,n,i,e)},control:t.control,aSelectedContexts:t.aContexts,sActionName:t.label})})}return c}function V(e,n,i){if(n.internalModelContext&&n.operationAvailableMap&&n.aContexts&&n.aContexts.length&&i.$IsBound){const i=n.isStatic;if(!i){t.setActionEnablement(n.internalModelContext,JSON.parse(n.operationAvailableMap),e.selectedItems,"table")}else if(n.control){const e=n.control;if(e.isA("sap.ui.mdc.Table")){const i=e.getSelectedContexts();t.setActionEnablement(n.internalModelContext,JSON.parse(n.operationAvailableMap),i,"table")}}}}function L(e,t,n,i,a,r){let s=a.showMessageBox,l=a.showMessageDialog;const c=e.control;const u=p.getLibraryResourceBundle("sap.fe.core");const d=i.filter(function(e){return e.getTarget()===""});const f=i.filter(function(t){var n;return t.getTarget&&t.getTarget().indexOf(e.actionName)!==-1&&(e===null||e===void 0?void 0:(n=e.aActionParameters)===null||n===void 0?void 0:n.some(function(e){return t.getTarget().indexOf(e.$Name)!==-1}))});f===null||f===void 0?void 0:f.forEach(function(e){e.isAPDTarget=true});const g=f.length?true:false;let h=false;if(r&&!g){h=true;let e=u.getText("C_COMMON_DIALOG_CANCEL_ERROR_MESSAGES_TEXT");let t=u.getText("C_COMMON_DIALOG_CANCEL_ERROR_MESSAGES_DETAIL_TEXT");const n=p.getMessageManager().getMessageModel();const a=n.getData();const r=o.getMessages(true);let d;const f=c&&c.getModel("ui").getProperty("/isEditable");const g=i.findIndex(function(e){return e.getType()==="Error"||e.getType()==="Warning"});const m=a.findIndex(function(e){return e.getType()==="Error"||e.getType()==="Warning"});if(g!==1&&m!==-1){if(a.length===1&&r.length===1){if(f===false){a[0].setMessage(u.getText("C_COMMON_DIALOG_CANCEL_SINGLE_ERROR_MESSAGE_TEXT")+"\n\n"+a[0].getMessage())}else{e=f?u.getText("C_COMMON_DIALOG_CANCEL_SINGLE_ERROR_MESSAGE_TEXT_EDIT"):u.getText("C_COMMON_DIALOG_CANCEL_SINGLE_ERROR_MESSAGE_TEXT");t="";d=new v({message:e,type:T.Error,target:"",persistent:true,description:t,code:"FE_CUSTOM_MESSAGE_CHANGESET_ALL_FAILED"});i.unshift(d);if(i.length===1){s=true;l=false}else{l=true;s=false}}}else{d=new v({message:e,type:T.Error,target:"",persistent:true,description:t,code:"FE_CUSTOM_MESSAGE_CHANGESET_ALL_FAILED"});i.unshift(d);if(i.length===1){s=true;l=false}else{l=true;s=false}}}}if(n&&n.isOpen()&&t.length!==0&&!e.isStatic){if(!e.bGrouped){if(t.length>1||!g){n.close();n.destroy()}}else if(!g){n.close();n.destroy()}}let m=[];const y=n&&n.isOpen();if(!h){if(i.length===1&&i[0].getTarget&&i[0].getTarget()!==undefined&&i[0].getTarget()!==""){if(c&&c.getModel("ui").getProperty("/isEditable")===false||!c){s=!g;l=false}else if(c&&c.getModel("ui").getProperty("/isEditable")===true){s=false;l=false}}else if(c){if(c.getModel("ui").getProperty("/isEditable")===false){if(y&&g){l=false}}else if(c.getModel("ui").getProperty("/isEditable")===true){if(!y&&g){l=true;m=d.concat(f)}else if(!y&&d.length===0){l=false}}}}return{showMessageBox:s,showMessageDialog:l,filteredMessages:m.length?m:i,fnGetMessageSubtitle:c&&c.isA("sap.ui.mdc.Table")&&o.setMessageSubtitle.bind({},c,t),showChangeSetErrorDialog:e.bGrouped}}function B(t,o,r,s,l,g,v,b,C,T,I){const D=q(v,t),x=v.getModel().oModel.getMetaModel(),M=x.createBindingContext(D),w=v.getObject("$IsBound")?v.getPath().split("/@$ui5.overload/0")[0]:v.getPath().split("/0")[0],F=x.createBindingContext(w),R=s.isCreateAction,N="sap/fe/core/controls/ActionParameterDialog";return new Promise(async function(D,x){let w;const V=p.getMessageManager();const B=e=>{const t=V.getMessageModel().getData();const n=O(["APD_",e.$Name]);const i=t.filter(e=>e.getControlIds().some(e=>n.split("-").includes(e)));V.removeMessages(i)};const j={handleChange:async function(e){const t=e.getSource();const n=w.find(e=>e.field===t);B(n.parameter);n.validationPromise=e.getParameter("promise");try{n.value=await n.validationPromise;n.hasError=false}catch(e){delete n.value;n.hasError=true;E(V,[{actionParameterInfo:n,message:e.message}])}}};const k=m.loadTemplate(N,"fragment");const H=new y({$displayMode:{}});try{const m=await h.process(k,{name:N},{bindingContexts:{action:v,actionName:F,entitySet:M},models:{action:v.getModel(),actionName:F.getModel(),entitySet:M.getModel(),metaModel:M.getModel()}});const E=s.aContexts||[];const Q=[];let Y;await n.setUserDefaults(o,l,H,true);const J=await f.load({definition:m,controller:j});w=l.map(e=>{const t=p.byId(O(["APD_",e.$Name]));const n=t.isA("sap.ui.mdc.MultiValueField");return{parameter:e,field:t,isMultiValue:n}});const X=S(b);let Z={dialogCancelled:true,result:undefined};const ee=new u(O(["fe","APD_",t]),{title:r||X.getText("C_OPERATIONS_ACTION_PARAMETER_DIALOG_TITLE"),content:[J],escapeHandler:function(){ee.close()},beginButton:new c(O(["fe","APD_",t,"Action","Ok"]),{text:R?X.getText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE_BUTTON"):U(X,r,t,C),type:"Emphasized",press:async function(){try{if(!await P(V,w,X)){return}i.lock(ee);try{T.removeTransitionMessages();let e;const t=Y&&Y.getParameterContext();for(const n in l){if(l[n].$isCollection){const t=ee.getModel("mvfview").getProperty(`/${l[n].$Name}`),i=[];for(const e in t){i.push(t[e].Key)}e=i}else{e=t.getProperty(l[n].$Name)}l[n].value=e;e=undefined}s.label=r;try{const e=await $(o,s,b,T,E,ee,false,I);Z={dialogCancelled:false,result:e};ee.close()}catch(e){const t=sap.ui.getCore().getMessageManager().getMessageModel().getData();if(I&&I.is412Executed&&I.strictHandlingTransitionFails.length){I.delaySuccessMessages=I.delaySuccessMessages.concat(t)}throw e}finally{if(I&&I.is412Executed&&I.strictHandlingTransitionFails.length){try{const e=I.strictHandlingTransitionFails;const t=[];e.forEach(function(e){t.push(e.oAction.getContext())});s.aContexts=t;const n=await $(o,s,b,T,E,ee,true,I);I.strictHandlingTransitionFails=[];Z={dialogCancelled:false,result:n}}catch{if(I.is412Executed&&I.strictHandlingTransitionFails.length){p.getMessageManager().addMessages(I.delaySuccessMessages)}let e=false;if(s.bGrouped&&I.strictHandlingPromises.length||z(s.bGrouped)!==-1){e=true}await T.showMessageDialog({isActionParameterDialogOpen:ee.isOpen(),onBeforeShowMessage:function(t,n){return L(s,E,ee,t,n,e)},aSelectedContexts:s.aContexts,sActionName:r})}}if(i.isLocked(ee)){i.unlock(ee)}}}catch(e){let t=true;let n=false;if(s.bGrouped&&I&&I.strictHandlingPromises.length||z(s.bGrouped)!==-1){n=true}await T.showMessages({context:s.aContexts[0],isActionParameterDialogOpen:ee.isOpen(),messagePageNavigationCallback:function(){ee.close()},onBeforeShowMessage:function(e,i){const o=L(s,E,ee,e,i,n);t=o.showMessageDialog;return o},aSelectedContexts:s.aContexts,sActionName:r,control:s.control});if(t){if(ee.isOpen()){}else{x(e)}}}}finally{if(I){I={is412Executed:false,strictHandlingTransitionFails:[],strictHandlingPromises:[],strictHandlingWarningMessages:[],delaySuccessMessages:[],processedMessageIds:[]}}if(i.isLocked(ee)){i.unlock(ee)}}}}),endButton:new c(O(["fe","APD_",t,"Action","Cancel"]),{text:X.getText("C_COMMON_ACTION_PARAMETER_DIALOG_CANCEL"),press:function(){ee.close()}}),beforeOpen:async function(t){const i=Object.assign({},t);T.removeTransitionMessages();const o=function(){const e=ee.getModel().getMetaModel(),t=v.sPath&&v.sPath.split("/@")[0],n=e.getObject(`${t}@com.sap.vocabularies.Common.v1.DefaultValuesFunction`);return n};const r=async function(t){const r=o();const c=async function(i,o){if(o!==undefined){if(E.length>0&&o.$Path){try{let e=await n.requestSingletonProperty(o.$Path,Y.getModel());if(e===null){e=await Y.getParameterContext().requestProperty(o.$Path)}if(E.length>1){let n=o.$Path;if(n.indexOf(`${t}/`)===0){n=n.replace(`${t}/`,"")}for(let t=1;t<E.length;t++){if(E[t].getProperty(n)!==e){return{paramName:i,value:undefined,bNoPossibleValue:true}}}}return{paramName:i,value:e}}catch(t){e.error("Error while reading default action parameter",i,s.actionName);return{paramName:i,value:undefined,bLatePropertyError:true}}}else{return{paramName:i,value:o}}}else if(H&&H.oData[i]){return{paramName:i,value:H.oData[i]}}else{return{paramName:i,value:undefined}}};const u=function(e){const t=ee.getModel().getMetaModel(),i=n.getParameterPath(v.getPath(),e)+"@",o=t.getObject(i),a=o&&o["@com.sap.vocabularies.UI.v1.ParameterDefaultValue"];return a};const p=[];let f,h;for(const e in l){f=l[e].$Name;h=u(f);p.push(c(f,h))}if(v.getObject("$IsBound")&&E.length>0){if(r&&r.length>0&&typeof r==="string"){for(const e in E){Q.push(_(r,E[e],s.model))}}}const m=Promise.all(p);let y=Promise.resolve([]);let b;if(Q&&Q.length>0){y=Promise.all(Q)}if(s.defaultValuesExtensionFunction){const e=s.defaultValuesExtensionFunction.substring(0,s.defaultValuesExtensionFunction.lastIndexOf(".")||-1).replace(/\./gi,"/"),t=s.defaultValuesExtensionFunction.substring(s.defaultValuesExtensionFunction.lastIndexOf(".")+1,s.defaultValuesExtensionFunction.length);b=a.actionWrapper(i,e,t,{contexts:E})}try{const e=await Promise.all([m,y,b]);const t=e[0];const n=e[1];const i=e[2];let o;for(const e in l){var C;o=l[e].$Name;const a=g===null||g===void 0?void 0:(C=g.find(t=>t.name===l[e].$Name))===null||C===void 0?void 0:C.value;if(a){Y.setParameter(l[e].$Name,a)}else if(i&&i.hasOwnProperty(o)){Y.setParameter(l[e].$Name,i[o])}else if(t[e]&&t[e].value!==undefined){Y.setParameter(l[e].$Name,t[e].value)}else if(r&&!t[e].bNoPossibleValue){if(E.length>1){let t=0;while(t<E.length-1){if(n[t]&&n[t+1]&&n[t].getObject(o)===n[t+1].getObject(o)){t++}else{break}}if(t===E.length-1){Y.setParameter(l[e].$Name,n[t].getObject(o))}}else if(n[0]&&n[0].getObject(o)){Y.setParameter(l[e].$Name,n[0].getObject(o))}}}const a=t.some(function(e){if(e.bLatePropertyError){return e.bLatePropertyError}});if(a){const e=X.getText("C_APP_COMPONENT_SAPFE_ETAG_LATE_PROPERTY");d.warning(e,{contentWidth:"25em"})}}catch(t){e.error("Error while retrieving the parameter",t)}};const c=async function(){if(v.getObject("$IsBound")&&E.length>0){const t=v.getObject("$Parameter");const n=t[0]&&t[0].$Name;try{const e=await E[0].requestObject();if(e){Y.setParameter(n,e)}await r(n)}catch(t){e.error("Error while retrieving the parameter",t)}}else{await r()}};await c();for(const e of w){const t=e.isMultiValue?e.field.getItems():e.field.getValue();e.value=t;e.validationPromise=Promise.resolve(t)}},afterClose:function(){l.forEach(B);ee.destroy();if(Z.dialogCancelled){x(A.CancelActionDialog)}else{D(Z.result)}}});s.oDialog=ee;ee.setModel(v.getModel().oModel);ee.setModel(H,"paramsModel");ee.bindElement({path:"/",model:"paramsModel"});const te=new y({});ee.setModel(te,"mvfview");for(const e of w){if(e.isMultiValue){var G,W;e===null||e===void 0?void 0:(G=e.field)===null||G===void 0?void 0:(W=G.getBinding("items"))===null||W===void 0?void 0:W.attachChange(()=>{B(e.parameter)})}else{var q,K;e===null||e===void 0?void 0:(q=e.field)===null||q===void 0?void 0:(K=q.getBinding("value"))===null||K===void 0?void 0:K.attachChange(()=>{B(e.parameter)})}}let ne=`${t}(...)`;if(!E.length){ne=`/${ne}`}ee.bindElement({path:ne});if(b){b.addDependent(ee)}if(E.length>0){ee.setBindingContext(E[0])}Y=ee.getObjectBinding();ee.open()}catch(e){x(e)}})}function j(e){const t=e.getObject("$Parameter")||[];if(t&&t.length){if(e.getObject("$IsBound")){return t.slice(1,t.length)||[]}}return t}function k(e,t,n,i){const o=e.getObject(`${t}@com.sap.vocabularies.Common.v1.IsActionCritical`);let a=o&&o.$Path;if(!a){return!!o}const r=i&&i.getObject("$Parameter"),s=a&&a.split("/"),l=r&&r.length&&typeof r==="object"&&a&&n&&n.length;if(l){r.filter(function(e){const t=s&&s.indexOf(e.$Name);if(t>-1){s.splice(t,1)}});a=s.join("/");return n[0].getObject(a)}else if(a){return n[0].getObject(a)}}function U(e,t,n,i){let o=n?n:null;const a=o.split(".");o=o.indexOf(".")>=0?a[a.length-1]:o;const r=o&&i?`${i}|${o}`:"";const s="ACTION_PARAMETER_DIALOG_ACTION_NAME";const l=e.checkIfResourceKeyExists(`${s}|${r}`);if(t){if(l){return e.getText(s,undefined,r)}else if(e.checkIfResourceKeyExists(`${s}|${i}`)){return e.getText(s,undefined,`${i}`)}else if(e.checkIfResourceKeyExists(`${s}`)){return e.getText(s)}else{return t}}else{return e.getText("C_COMMON_DIALOG_OK")}}function H(e,t,n,i,o,a,r,s,l,c,u){let d,p=true;if(t){t.internalOperationsPromiseResolve=l}if(n){var f;const t=e.getBoundContext().getPath();const n=e.getModel().getMetaModel().getMetaPath(t);const i=e.getModel().getMetaModel().getObject(n);if(i&&((f=i[0])===null||f===void 0?void 0:f.$kind)!=="Action"){p=false}}if(!p){d=e.execute(i).then(function(){l(e.getBoundContext());return e.getBoundContext()})}else{d=n?e.execute(i,undefined,b.fnOnStrictHandlingFailed.bind(Y,i,t,o,s,e.getContext(),r,a,u)).then(function(){l(e.getBoundContext());return e.getBoundContext()}).catch(function(){c();return Promise.reject()}):e.execute(i,undefined,b.fnOnStrictHandlingFailed.bind(Y,i,t,o,s,e.getContext(),r,a,u)).then(function(e){l(e);return e}).catch(function(){c();return Promise.reject()})}return d.catch(()=>{throw A.ActionExecutionFailed})}function G(){let e=null,t=null;const n=new Promise(function(n,i){e=n;t=i});return{oLocalActionPromise:n,internalOperationsPromiseResolve:e,internalOperationsPromiseReject:t}}function z(e){if(e){const e=p.getMessageManager().getMessageModel().getData();return e.findIndex(function(e){return e.getType()==="Error"||e.getType()==="Warning"})}return-1}function W(t,n,i,o,a){const r=n.aContexts||[];const s=n.model;const l=n.aActionParameters||[];const c=n.actionName;const u=n.fnOnSubmitted;const d=n.fnOnResponse;const f=S(i);let g;function v(){if(l&&l.length){for(let e=0;e<l.length;e++){if(!l[e].value){switch(l[e].$Type){case"Edm.String":l[e].value="";break;case"Edm.Boolean":l[e].value=false;break;case"Edm.Byte":case"Edm.Int16":case"Edm.Int32":case"Edm.Int64":l[e].value=0;break;default:break}}g.setParameter(l[e].$Name,l[e].value)}}}if(r.length){return new Promise(function(i){const l=n.mBindingParameters;const d=n.bGrouped;const h=n.bGetBoundContext;const m=[];let y;let C;let P;const E=G();const T=function(e,i,r,s){v();const l=[];P=!d?`$auto.${i}`:e.getUpdateGroupId();n.requestSideEffects=Q.bind(Y,t,r,n,P,l);y=H(e,n,h,P,f,o,s,i,E.internalOperationsPromiseResolve,E.internalOperationsPromiseReject,a);m.push(y);l.push(E.oLocalActionPromise);Q(t,r,n,P,l);return Promise.allSettled(l)};const O=function(e,i,r,l){const c=[];v();P=`apiMode${i}`;n.requestSideEffects=Q.bind(Y,t,r,n,P,c);y=H(e,n,h,P,f,o,l,i,E.internalOperationsPromiseResolve,E.internalOperationsPromiseReject,a);m.push(y);c.push(E.oLocalActionPromise);Q(t,r,n,P,c);s.submitBatch(P);return Promise.allSettled(c)};async function S(){const t=[];for(C=0;C<r.length;C++){g=s.bindContext(`${c}(...)`,r[C],l);t.push(T(g,r.length<=1?null:C,{context:r[C],pathExpressions:n.additionalSideEffect&&n.additionalSideEffect.pathExpressions,triggerActions:n.additionalSideEffect&&n.additionalSideEffect.triggerActions},r.length))}(u||function e(){})(m);await Promise.allSettled(t);if(a&&a.strictHandlingPromises.length){try{const e=z(true);if(e===-1){await b.renderMessageView(n,f,o,a.strictHandlingWarningMessages,a,r.length>1)}else{a.strictHandlingPromises.forEach(function(e){e.resolve(false)});const e=p.getMessageManager().getMessageModel();const t=e.getData();e.setData(t.concat(a.strictHandlingWarningMessages))}}catch{e.error("Retriggering of strict handling actions failed")}}I()}async function A(e){(u||function e(){})(m);function t(e,t,i){g=s.bindContext(`${c}(...)`,e,l);return O(g,t,{context:e,pathExpressions:n.additionalSideEffect&&n.additionalSideEffect.pathExpressions,triggerActions:n.additionalSideEffect&&n.additionalSideEffect.triggerActions},i)}await e.reduce(async(e,n,i)=>{await e;await t(n,i+1,r.length)},Promise.resolve());if(a&&a.strictHandlingPromises.length){await b.renderMessageView(n,f,o,a.strictHandlingWarningMessages,a,r.length>1)}I()}if(!d){A(r)}else{S()}function I(){return Promise.allSettled(m).then(i)}}).finally(function(){(d||function e(){})()})}else{g=s.bindContext(`/${c}(...)`);v();const t="actionImport";const i=g.execute(t,undefined,b.fnOnStrictHandlingFailed.bind(Y,t,{label:n.label,model:s},f,null,null,null,o,a));s.submitBatch(t);(u||function e(){})(i);return i.then(function(e){if(e){return e}else{var t,n,i;return(t=(n=g).getBoundContext)===null||t===void 0?void 0:(i=t.call(n))===null||i===void 0?void 0:i.getObject()}}).catch(function(t){e.error("Error while executing action "+c,t);throw t}).finally(function(){(d||function e(){})()})}}function q(e,t){let n=e.getPath();n=e.getObject("$IsBound")?n.split("@$ui5.overload")[0]:n.split("/0")[0];return n.split(`/${t}`)[0]}function K(e,t,n,i){if(n){for(const e of t){if(e.$Name!=="ResultIsActiveEntity"&&!(n!==null&&n!==void 0&&n.find(t=>t.name===e.$Name))){return false}}}else if(e&&i){for(const e of t){if(!i[e.$Name]){return false}}}return true}function Q(n,i,o,a,r){const s=n.getSideEffectsService();let l;if(i&&i.triggerActions&&i.triggerActions.length){i.triggerActions.forEach(function(e){if(e){l=s.executeAction(e,i.context,a);if(r){r.push(l)}}})}if(i&&i.pathExpressions&&i.pathExpressions.length>0){l=s.requestSideEffects(i.pathExpressions,i.context,a);if(r){r.push(l)}l.then(function(){if(o.operationAvailableMap&&o.internalModelContext){t.setActionEnablement(o.internalModelContext,JSON.parse(o.operationAvailableMap),o.selectedItems,"table")}}).catch(function(t){e.error("Error while requesting side effects",t)})}}const Y={callBoundAction:x,callActionImport:M,callBoundFunction:_,callFunctionImport:w,executeDependingOnSelectedContexts:H,valuesProvidedForAllParameters:K,getActionParameterActionName:U,actionParameterShowMessageCallback:L,afterActionResolution:V};return Y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/sticky",["sap/base/Log","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/library","sap/m/MessageBox","sap/ui/core/Core","../../operationsHelper"],function(e,t,n,i,o,a){"use strict";var r=t.getResourceModel;const s=n.ProgrammingModel;async function l(e,t){const n=e.getModel(),i=n.getMetaModel(),o=i.getMetaPath(e.getPath()),s=i.getObject(`${o}@com.sap.vocabularies.Session.v1.StickySessionSupported/EditAction`);if(!s){throw new Error(`Edit Action for Sticky Session not found for ${o}`)}const l=r(t);const c=l.getText("C_COMMON_OBJECT_PAGE_EDIT");const u=n.bindContext(`${s}(...)`,e,{$$inheritExpandSelect:true});const d="direct";const f=u.execute(d,undefined,a.fnOnStrictHandlingFailed.bind(p,d,{label:c,model:n},l,null,null,null,undefined,undefined));n.submitBatch(d);const g=await f;const v=t.getSideEffectsService().getODataActionSideEffects(s,g);if(v!==null&&v!==void 0&&v.triggerActions&&v.triggerActions.length){await t.getSideEffectsService().requestSideEffectsForODataAction(v,g)}return g}async function c(t,n){const i=t.getModel(),o=i.getMetaModel(),s=o.getMetaPath(t.getPath()),l=o.getObject(`${s}@com.sap.vocabularies.Session.v1.StickySessionSupported/SaveAction`);if(!l){throw new Error(`Save Action for Sticky Session not found for ${s}`)}const c=r(n);const u=c.getText("C_OP_OBJECT_PAGE_SAVE");const d=i.bindContext(`${l}(...)`,t,{$$inheritExpandSelect:true});const f="direct";const g=d.execute(f,undefined,a.fnOnStrictHandlingFailed.bind(p,f,{label:u,model:i},c,null,null,null,undefined,undefined));i.submitBatch(f);try{return await g}catch(i){const a=o.getObject(`${s}/@${"com.sap.vocabularies.Common.v1.Messages"}/$Path`);if(a){try{await n.getSideEffectsService().requestSideEffects([a],t)}catch(t){e.error("Error while requesting side effects",t)}}throw i}}function u(e){const t=e.getModel(),n=t.getMetaModel(),i=n.getMetaPath(e.getPath()),o=n.getObject(`${i}@com.sap.vocabularies.Session.v1.StickySessionSupported/DiscardAction`);if(!o){throw new Error(`Discard Action for Sticky Session not found for ${i}`)}const a=t.bindContext(`/${o}(...)`);const r=a.execute("direct").then(function(){return e});t.submitBatch("direct");return r}function d(t,n,a){const r=n.getModel("ui").getProperty("/isEditable"),l=o.getLibraryResourceBundle("sap.fe.templates"),c=l&&l.getText("T_COMMON_UTILS_NAVIGATION_AWAY_MSG"),u=l&&l.getText("T_COMMON_UTILS_NAVIGATION_AWAY_CONFIRM_BUTTON"),d=l&&l.getText("T_COMMON_UTILS_NAVIGATION_AWAY_CANCEL_BUTTON");if(a===s.Sticky&&r){return i.warning(c,{actions:[u,d],emphasizedAction:u,onClose:function(n){if(n===u){e.info("Navigation confirmed.");t()}else{e.info("Navigation rejected.")}}})}return t()}const p={editDocumentInStickySession:l,activateDocument:c,discardDocument:u,processDataLossConfirmation:d};return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/messageHandler/messageHandling",["sap/fe/core/helpers/ResourceModelHelper","sap/m/Bar","sap/m/Button","sap/m/Dialog","sap/m/FormattedText","sap/m/MessageBox","sap/m/MessageItem","sap/m/MessageToast","sap/m/MessageView","sap/m/Text","sap/ui/core/Core","sap/ui/core/format/DateFormat","sap/ui/core/IconPool","sap/ui/core/library","sap/ui/core/message/Message","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/ui/model/Sorter"],function(e,t,n,i,o,a,r,s,l,c,u,d,p,f,g,v,h,m,y){"use strict";var b=e.getResourceModel;const C=f.MessageType;let P=[];let E=[];let T=[];let O;let S;let A;function I(){let e;function t(e){return e.property?"( ${"+e.property+'} ? ("<p>'+e.property.substr(Math.max(e.property.lastIndexOf("/"),e.property.lastIndexOf("."))+1)+' : " + '+"${"+e.property+'} + "</p>") : "" )':""}function n(t){let n="";if(t.groupName&&t.property&&t.groupName!==e){n+="( ${"+t.property+'} ? "<br><h3>'+t.groupName+'</h3>" : "" ) + ';e=t.groupName}return n}function i(){const e="technicalDetails";return[{groupName:"",property:`${e}/status`},{groupName:"",property:`${e}/statusText`},{groupName:"Application",property:`${e}/error/@SAP__common.Application/ComponentId`},{groupName:"Application",property:`${e}/error/@SAP__common.Application/ServiceId`},{groupName:"Application",property:`${e}/error/@SAP__common.Application/ServiceRepository`},{groupName:"Application",property:`${e}/error/@SAP__common.Application/ServiceVersion`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.ErrorResolution/Analysis`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.ErrorResolution/Note`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.ErrorResolution/DetailedNote`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.ExceptionCategory`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.TimeStamp`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.TransactionId`},{groupName:"Messages",property:`${e}/error/code`},{groupName:"Messages",property:`${e}/error/message`}]}let o="Object.keys("+"${technicalDetails}"+').length > 0 ? "<h2>Technical Details</h2>" : "" ';i().forEach(function(e){o=`${o+n(e)}${t(e)} + `});return o}function D(){return"(${"+'description} ? ("<h2>Description</h2>" + ${'+'description}) : "")'}function x(e){let t=C.None;const n=e.length;const i={Error:0,Warning:0,Success:0,Information:0};for(let t=0;t<n;t++){++i[e[t].getType()]}if(i[C.Error]>0){t=C.Error}else if(i[C.Warning]>0){t=C.Warning}else if(i[C.Success]>0){t=C.Success}else if(i[C.Information]>0){t=C.Information}return t}function M(e,t,n){const i=e.getMessageModel().getObject("/");let o=false;let a="";i.forEach(function(r,s){const l=r.getTechnicalDetails&&r.getTechnicalDetails();if(l&&l.httpStatus===412&&l.isConcurrentModification){if(n){a=a||t.getText("C_APP_COMPONENT_SAPFE_ETAG_TECHNICAL_ISSUES_CONCURRENT_MODIFICATION")}else{a=a||t.getText("C_APP_COMPONENT_SAPFE_ETAG_TECHNICAL_ISSUES")}e.removeMessages(i[s]);r.setMessage(a);r.target="";e.addMessages(r);o=true}});return o}function _(){O.close();S.setVisible(false);P=[];const e=A.getModel();if(e){e.setData({})}Y()}function w(e,t){const n=new Date;const i=e.getTechnicalDetails();const o=u.getLibraryResourceBundle("sap.fe.core");let a;if(i&&i.httpStatus===503&&i.retryAfter){const e=i.retryAfter;let r;if(n.getFullYear()!==e.getFullYear()){r=d.getDateTimeInstance({pattern:"MMMM dd, yyyy 'at' hh:mm a"});a=o.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR",[r.format(e)])}else if(n.getFullYear()==e.getFullYear()){if(t){a=`${o.getText("C_MESSAGE_HANDLING_SAPFE_503_TITLE")} ${o.getText("C_MESSAGE_HANDLING_SAPFE_503_DESC")}`}else if(n.getMonth()!==e.getMonth()||n.getDate()!==e.getDate()){r=d.getDateTimeInstance({pattern:"MMMM dd 'at' hh:mm a"});a=o.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR",[r.format(e)])}else{r=d.getDateTimeInstance({pattern:"hh:mm a"});a=o.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR_DAY",[r.format(e)])}}}if(i&&i.httpStatus===503&&!i.retryAfter){a=o.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR_NO_RETRY_AFTER")}return a}function F(e,t,i){let o;if(!t){const e='{= ${description} ? "<html><body>" + '+D()+' + "</html></body>" : "" }';const t='{= ${technicalDetails} ? "<html><body>" + '+I()+' + "</html></body>" : "" }';o=new r(undefined,{counter:{path:"counter"},title:"{message}",subtitle:"{additionalText}",longtextUrl:"{descriptionUrl}",type:{path:"type"},groupName:"{headerName}",description:e+t,markupDescription:true})}else if(i){o=new r(undefined,{counter:{path:"counter"},title:"{message}",subtitle:"{additionalText}",longtextUrl:"{descriptionUrl}",type:{path:"type"},description:"{description}",markupDescription:true})}else{o=new r({title:"{message}",type:{path:"type"},longtextUrl:"{descriptionUrl}"})}A=new l({showDetailsPageHeader:false,itemSelect:function(){S.setVisible(true)},items:{path:"/",template:o}});A.setGroupItems(true);S=S||new n({icon:p.getIconURI("nav-back"),visible:false,press:function(){A.navigateBack();this.setVisible(false)}});A.setModel(e);return{oMessageView:A,oBackButton:S}}function R(e,r,l,d,p,f,b,I,D){let M=this.getMessages();const R=u.getMessageManager();let N;let $;const V=[new v({path:"persistent",operator:h.NE,value1:false})];let L=false,j=false;if(l){M=M.concat(Z(true,true));V.push(new v({path:"persistent",operator:h.EQ,value1:true}));const e=function(e){let t=Infinity,n=u.byId(e[0]);const o=u.byId(e[0]);while(n){const e=n instanceof i?o.getParent().findElements(true).indexOf(o):Infinity;if(n instanceof i){if(t>e){t=e;o.focus()}return false}n=n.getParent()}return true};V.push(new v({path:"controlIds",test:e,caseSensitive:true}))}else{V.push(new v({path:"target",operator:h.EQ,value1:""}))}if(e&&e.length){e.forEach(function(e){const t=e.code?e.code:"";R.addMessages(new g({message:e.text,type:e.type,target:"",persistent:true,code:t}))})}const k=A&&A.getModel()||new m;const U=this.modifyETagMessagesOnly(R,u.getLibraryResourceBundle("sap.fe.core"),d);if(M.length===1&&M[0].getCode()==="503"){j=true}else if(M.length!==0){L=true}let H;let G=[];if(L||!j&&!I){const e=R.getMessageModel().bindList("/",undefined,undefined,V),t=e.getCurrentContexts();if(t&&t.length>0){L=true;const e=[];t.forEach(function(t){const n=t.getObject();e.push(n);E=e});let n=[];if(Array.isArray(k.getData())){n=k.getData()}const i={};G=E.concat(n).filter(function(e){return!i[e.id]&&(i[e.id]=true)});k.setData(G)}}if(I){H={showMessageBox:j,showMessageDialog:L};H=I(M,H);j=H.showMessageBox;L=H.showMessageDialog;if(L||H.showChangeSetErrorDialog){G=H.filteredMessages?H.filteredMessages:G}}if(M.length===0&&!e&&!U){return Promise.resolve(true)}else if(M.length===1&&M[0].getType()===C.Success&&!e){return new Promise(e=>{s.show(M[0].message);if(k){k.setData({})}R.removeMessages(M);e()})}else if(L){ue.updateMessageObjectGroupName(G,p,f,D);k.setData(G);T=T||[];return new Promise(function(e,o){T.push(e);u.getLibraryResourceBundle("sap.fe.core",true).then(function(o){const a=false;if(H&&H.fnGetMessageSubtitle){k.getData().forEach(function(e){H.fnGetMessageSubtitle(e)})}const s=F(k,a);const l=new y("",undefined,undefined,(e,t)=>{const n=B(e);const i=B(t);if(n<i){return-1}if(n>i){return 1}return 0});s.oMessageView.getBinding("items").sort(l);O=O&&O.isOpen()?O:new i({resizable:true,endButton:new n({press:function(){_();R.removeMessages(G)},text:o.getText("C_COMMON_SAPFE_CLOSE")}),customHeader:new t({contentMiddle:[new c({text:o.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE")})],contentLeft:[S]}),contentWidth:"37.5em",contentHeight:"21.5em",verticalScrolling:false,afterClose:function(){for(let e=0;e<T.length;e++){T[e].call()}T=[]}});O.removeAllContent();O.addContent(s.oMessageView);if(U){sap.ui.require(["sap/m/ButtonType"],function(e){O.setBeginButton(new n({press:function(){_();if(r.hasPendingChanges()){r.getBinding().resetChanges()}r.refresh()},text:o.getText("C_COMMON_SAPFE_REFRESH"),type:e.Emphasized}))})}else{O.destroyBeginButton()}N=x(A.getItems());$=Q(N);O.setState(N);O.getCustomHeader().getContentMiddle()[0].setText($);A.navigateBack();O.open();if(b){e(O)}}).catch(o)})}else if(j){return new Promise(function(e){const t=M[0];if(t.technicalDetails&&P.indexOf(t.technicalDetails.originalMessage.message)===-1||H&&H.showChangeSetErrorDialog){if(!H||!H.showChangeSetErrorDialog){P.push(t.technicalDetails.originalMessage.message)}let n="<html><body>";const i=w(t,true);if(i){n=`<h6>${i}</h6><br>`}if(H&&H.fnGetMessageSubtitle){H.fnGetMessageSubtitle(t)}if(t.getCode()!=="503"&&t.getAdditionalText()!==undefined){n=`${n+t.getAdditionalText()}: ${t.getMessage()}</html></body>`}else{n=`${n+t.getMessage()}</html></body>`}const r=new o({htmlText:n});a.error(r,{onClose:function(){P=[];if(l){J()}Y();e(true)}})}})}else{return Promise.resolve(true)}}function N(e,t,n,i){e.forEach(e=>{var o,a,r;e["headerName"]="";if(!((o=e.target)!==null&&o!==void 0&&o.length)&&((a=e.getCode)===null||a===void 0?void 0:a.call(e))!=="FE_CUSTOM_MESSAGE_CHANGESET_ALL_FAILED"){e["headerName"]="General"}else if((r=e.target)!==null&&r!==void 0&&r.length){if(i==="ListReport"){ue.setGroupNameLRTable(t,e,n)}else if(i==="ObjectPage"){ue.setGroupNameOPDisplayMode(e,n,t)}else{e["headerName"]=ue.getLastActionTextAndActionName(n)}}})}function $(e,t,n){const i=e&&e.getRowBinding();if(i){var o;const i=`${e.getRowBinding().getPath()}`;if(((o=t.target)===null||o===void 0?void 0:o.indexOf(i))===0){const i=e.getRowBinding().getContexts();i.forEach(i=>{var o;if((o=t.target)!==null&&o!==void 0&&o.includes(i.getPath())){const o=`${i.getPath()}/`;const a=e.getParent().getIdentifierColumn();const r=a&&i.getObject()[a];const s=ue.getTableColProperty(e,t,o);const{sTableTargetColName:l}=ue.getTableColInfo(e,s);if(s&&l){t["headerName"]=r?` ${r}`:e.getHeader()}else{t["headerName"]=ue.getLastActionTextAndActionName(n)}}})}}}function V(e,t,n){const i=n===null||n===void 0?void 0:n.getBindingContext();const o=(n===null||n===void 0?void 0:n.getContent)&&(n===null||n===void 0?void 0:n.getContent()[0]);let a=true;if(o){ue.getVisibleSectionsFromObjectPageLayout(o).forEach(function(n){const o=n.getSubSections();o.forEach(function(n){n.findElements(true).forEach(function(o){if(o.isA("sap.ui.mdc.Table")){const l=o.getRowBinding(),c=true;let d;o.findElements(true).forEach(e=>{if(e.isA("sap.m.Table")||e.isA("sap.ui.table.Table")){d=e}});if(l){var r,s;const p=`${i===null||i===void 0?void 0:i.getPath()}/${(r=o.getRowBinding())===null||r===void 0?void 0:r.getPath()}`;if(((s=e.target)===null||s===void 0?void 0:s.indexOf(p))===0){const i=ue.getTableColumnDataAndSetSubtile(e,o,d,l,t,c,j);const{oTargetTableInfo:r}=i;if(c){const t=o.getParent().getIdentifierColumn();if(t){const n=o.getRowBinding().getContexts();n.forEach(n=>{var i;if((i=e.target)!==null&&i!==void 0&&i.includes(n.getPath())){const i=t?n.getObject()[t]:undefined;e["additionalText"]=`${i}, ${r.sTableTargetColName}`}})}else{e["additionalText"]=`${r.sTableTargetColName}`}let i=o.getHeaderVisible()&&r.tableHeader;if(!i){i=n.getTitle()}else{const e=u.getLibraryResourceBundle("sap.fe.core");i=`${e.getText("T_MESSAGE_GROUP_TITLE_TABLE_DENOMINATOR")}: ${i}`}e["headerName"]=i;a=false}}}}})})})}if(a){var r;const n=`${i===null||i===void 0?void 0:i.getPath()}`;if(((r=e.target)===null||r===void 0?void 0:r.indexOf(n))===0){const n=ue.getLastActionTextAndActionName(t);e["headerName"]=n}else{e["headerName"]="General"}}}function L(e){const t=u.getLibraryResourceBundle("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_LAST_ACTION");return e?`${t}: ${e}`:""}function B(e){var t,n;if((t=e.headerName)!==null&&t!==void 0&&t.toString().includes("Last Action")){return 1}else if((n=e.headerName)!==null&&n!==void 0&&n.toString().includes("General")){return 3}else{return 2}}const j=(e,t,n)=>{if(n){const t=u.getLibraryResourceBundle("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_GENERAL");e["headerName"]=t}else{e["headerName"]=ue.getLastActionTextAndActionName(t)}};function k(e,t,n,i,o,a,r){const s=ue.getTableAndTargetInfo(t,e,n,i);s.tableHeader=t.getHeader();let l,c;if(!s.oTableRowContext){l=e.getControlIds().find(function(e){return ue.isControlInTable(t,e)})}if(l){const e=u.byId(l);c=ue.isControlPartOfCreationRow(e)}if(!s.sTableTargetColName){if(e.persistent&&o){r(e,o);a=false}}const d=ue.getMessageSubtitle(e,s.oTableRowBindingContexts,s.oTableRowContext,s.sTableTargetColName,t,c);return{oTargetTableInfo:s,subTitle:d}}function U(e,t,n,i,o,a,r){let s;let l;const c=b(o);const u=o.getParent().getIdentifierColumn();const d=ue.fetchColumnInfo(e,o);if(a){s=c.getText("T_MESSAGE_ITEM_SUBTITLE",[c.getText("T_MESSAGE_ITEM_SUBTITLE_CREATION_ROW_INDICATOR"),i?i:d.label])}else{const e=ue.getTableFirstColBindingContextForTextAnnotation(o,n,u);const a=e?e.getObject("$Path"):undefined;const p=a&&e?e.getObject("@com.sap.vocabularies.UI.v1.TextArrangement/$EnumMember"):undefined;if(t.length>0){if(r){l=r.getValue()}else if(n&&u){l=ue.getTableFirstColValue(u,n,a,p)}else{l=undefined}const e=ue.determineColumnInfo(d,c);if(l&&i){s=c.getText("T_MESSAGE_ITEM_SUBTITLE",[l,i])}else if(l&&e.sColumnIndicator==="Hidden"){s=`${c.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW")}: ${l}, ${e.sColumnValue}`}else if(l&&e.sColumnIndicator==="Unknown"){s=c.getText("T_MESSAGE_ITEM_SUBTITLE",[l,e.sColumnValue])}else if(l&&e.sColumnIndicator==="undefined"){s=`${c.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW")}: ${l}`}else if(!l&&i){s=c.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_COLUMN")+": "+i}else if(!l&&e.sColumnIndicator==="Hidden"){s=e.sColumnValue}else{s=null}}else{s=null}}return s}function H(e,t,n){let i;if(t&&n){const o=e===null||e===void 0?void 0:e.getModel();const a=o===null||o===void 0?void 0:o.getMetaModel();const r=a===null||a===void 0?void 0:a.getMetaPath(t.getPath());if(a!==null&&a!==void 0&&a.getObject(`${r}/${n}@com.sap.vocabularies.Common.v1.Text/$Path`)){i=a.createBindingContext(`${r}/${n}@com.sap.vocabularies.Common.v1.Text`)}}return i}function G(e,t,n,i){const o=t.getValue(e);let a;let r=o;if(n){if(e.lastIndexOf("/")>0){e=e.slice(0,e.lastIndexOf("/")+1);e=e.concat(n)}else{e=n}a=t.getValue(e);if(a){if(i){const e=i.slice(i.indexOf("/")+1);switch(e){case"TextOnly":r=a;break;case"TextFirst":r=`${a} (${o})`;break;case"TextLast":r=`${o} (${a})`;break;case"TextSeparate":r=o;break;default:}}else{r=`${a} (${o})`}}}return r}function z(e,t){const n=e===null||e===void 0?void 0:e.getTargets()[0].split("/").pop();return t.getParent().getTableDefinition().columns.find(function(e){return e.key.split("::").pop()===n})}function W(e,t){const n={sColumnIndicator:String,sColumnValue:String};if(e){if(e.availability==="Hidden"){n.sColumnValue=undefined;n.sColumnIndicator="undefined"}else{n.sColumnValue=`${t.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_COLUMN")} (${t.getText("T_COLUMN_INDICATOR_IN_TABLE_DEFINITION")}): ${e.label}`;n.sColumnIndicator="Hidden"}}else{n.sColumnValue=t.getText("T_MESSAGE_ITEM_SUBTITLE_INDICATOR_UNKNOWN");n.sColumnIndicator="Unknown"}return n}function q(e,t){const n=u.byId(t);if(n&&!n.isA("sap.ui.table.Table")&&!n.isA("sap.m.Table")){return e.findElements(true,function(e){return e.getId()===n})}return false}function K(e){let t=e===null||e===void 0?void 0:e.getParent();while(t&&!((n=t)!==null&&n!==void 0&&n.isA("sap.ui.table.Row"))&&!((i=t)!==null&&i!==void 0&&i.isA("sap.ui.table.CreationRow"))&&!((o=t)!==null&&o!==void 0&&o.isA("sap.m.ColumnListItem"))){var n,i,o;t=t.getParent()}return!!t&&t.isA("sap.ui.table.CreationRow")}function Q(e){const t=u.getLibraryResourceBundle("sap.fe.core");switch(e){case"Error":return t.getText("C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_TITLE_ERRORS");case"Information":return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_INFO");case"Success":return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_SUCCESS");case"Warning":return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_WARNINGS");default:return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE")}}function Y(){ee(false)}function J(e){ee(true,e)}function X(e,t){if(t===undefined){return e.getObject("/")}const n=e.bindList("/");n.filter(new v({path:"target",operator:h.StartsWith,value1:t}));return n.getCurrentContexts().map(function(e){return e.getObject()})}function Z(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n=arguments.length>2?arguments[2]:undefined;let i;const o=u.getMessageManager(),a=o.getMessageModel(),r=u.getLibraryResourceBundle("sap.fe.core"),s=[];let l=[];if(e&&t&&n){l=X(a,n)}else{l=a.getObject("/")}for(i=0;i<l.length;i++){if((!t||l[i].persistent)&&(e&&l[i].target!==""||!e&&(!l[i].target||l[i].target===""))){s.push(l[i])}}for(i=0;i<s.length;i++){if(s[i].code==="503"&&s[i].message!==""&&s[i].message.indexOf(r.getText("C_MESSAGE_HANDLING_SAPFE_503_BACKEND_PREFIX"))===-1){s[i].message=`\n${r.getText("C_MESSAGE_HANDLING_SAPFE_503_BACKEND_PREFIX")}${s[i].message}`}}const c=[];for(i=0;i<s.length;i++){if(s[i].technicalDetails&&(s[i].technicalDetails.originalMessage!==undefined&&s[i].technicalDetails.originalMessage!==null||s[i].technicalDetails.httpStatus!==undefined&&s[i].technicalDetails.httpStatus!==null)||s[i].code){c.push(s[i])}}return c}function ee(e,t){const n=Z(e,true,t);if(n.length>0){u.getMessageManager().removeMessages(n)}}function te(e,t,n){if(n.additionalText===undefined){const i=e.getParent().getIdentifierColumn();const o=t.find(function(e){return n.getTargets()[0].indexOf(e.getPath())!==-1});n.additionalText=o?o.getObject()[i]:undefined}}function ne(e){return e.getSections().filter(function(e){return e.getVisible()})}function ie(e,t){return e.findElements(true,e=>se(t.getControlIds(),e)).sort(function(e,t){if(e.isA("sap.ui.mdc.Table")&&!t.isA("sap.ui.mdc.Table")){return-1}return 1})}function oe(e,t,n){const i=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")};if(!n){var o;n=new RegExp(`${i(`${(o=e.getBindingContext())===null||o===void 0?void 0:o.getPath()}/${e.getRowBinding().getPath()}`)}\\(.*\\)/`)}return t.getTargets()[0].replace(n,"")}function ae(e,t){let n;let i=e.getColumns().find(function(e){return e.getDataProperty()==t});if(!i){const a=e.getControlDelegate().getColumnsFor(e).find(function(e){if(!!e.template&&e.propertyInfos){return e.propertyInfos[0]===t||e.propertyInfos[0].replace("Property::","")===t}else{return false}});if(a){var o;i=a;t=(o=i)===null||o===void 0?void 0:o.name;n=e.getColumns().find(function(e){return t===e.getDataProperty()}).getHeader()}else{const o=e.getControlDelegate().getColumnsFor(e);i=o.find(function(e){if(e.key.indexOf("::FieldGroup::")!==-1){var n;return(n=e.propertyInfos)===null||n===void 0?void 0:n.find(function(){return o.find(function(e){return e.relativePath===t})})}});let a=false;if(i&&i.label){a=e.getColumns().some(function(e){return e.getHeader()===i.label})}n=a&&i.label;t=a&&i.key}}else{n=i&&i.getHeader()}return{sTableTargetColName:n,sTableTargetColProperty:t}}function re(e,t,n,i){const o={};o.sTableTargetColProperty=oe(e,t);const a=ae(e,o.sTableTargetColProperty);o.oTableRowBindingContexts=n.isA("sap.ui.table.Table")?i.getContexts():i.getCurrentContexts();o.sTableTargetColName=a.sTableTargetColName;o.sTableTargetColProperty=a.sTableTargetColProperty;o.oTableRowContext=o.oTableRowBindingContexts.find(function(e){return e&&t.getTargets()[0].indexOf(e.getPath())===0});return o}function se(e,t){return e.some(function(e){if(e===t.getId()){return true}return false})}function le(e,t,n,i,o){return e.getTitle()+(t.getTitle()&&n?`, ${t.getTitle()}`:"")+(i?`, ${o.getText("T_MESSAGE_GROUP_TITLE_TABLE_DENOMINATOR")}: ${i.tableHeader}`:"")}function ce(e,t){return!t.some(function(t){let n=e.getParent();while(n&&n!==t){n=n.getParent()}return n?true:false})}const ue={getMessages:Z,showUnboundMessages:R,removeUnboundTransitionMessages:Y,removeBoundTransitionMessages:J,modifyETagMessagesOnly:M,getRetryAfterMessage:w,prepareMessageViewForDialog:F,setMessageSubtitle:te,getVisibleSectionsFromObjectPageLayout:ne,getControlFromMessageRelatingToSubSection:ie,fnFilterUponIds:se,getTableAndTargetInfo:re,createSectionGroupName:le,bIsOrphanElement:ce,getLastActionTextAndActionName:L,getTableColumnDataAndSetSubtile:k,getTableColInfo:ae,getTableColProperty:oe,getMessageSubtitle:U,determineColumnInfo:W,fetchColumnInfo:z,getTableFirstColBindingContextForTextAnnotation:H,getMessageRank:B,fnCallbackSetGroupName:j,getTableFirstColValue:G,setGroupNameOPDisplayMode:V,updateMessageObjectGroupName:N,setGroupNameLRTable:$,isControlInTable:q,isControlPartOfCreationRow:K};return ue},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/pageReady/DataQueryWatcher",["sap/base/Log","sap/fe/macros/table/Utils"],function(e,t){"use strict";let n=function(){function n(e,t){this._aBindingRegistrations=[];this._aOtherEventSources=[];this._isSearchPending=false;this._aMDCTables=[];this._aMDCCharts=[];this._oEventProvider=e;this._fnOnFinished=t}var i=n.prototype;i.isSearchPending=function e(){return this._isSearchPending};i.isDataReceived=function e(){return this._isDataReceived};i.resetDataReceived=function e(){this._isDataReceived=undefined};i.reset=function e(){this._aBindingRegistrations.forEach(e=>{e.binding.detachEvent("dataRequested",this.onDataRequested,this);e.binding.detachEvent("dataReceived",this.onDataReceived,this)});this._aOtherEventSources.forEach(e=>{e.detachEvent("search",this.onSearch,this);e.detachEvent("bindingUpdated",this.register,this)});this._aBindingRegistrations=[];this._aOtherEventSources=[];this._aMDCTables=[];this._aMDCCharts=[];this._isSearchPending=false;this._isDataReceived=undefined};i.onDataReceived=function t(n,i){const o=n.getSource();const a=this._aBindingRegistrations.find(e=>e.binding===o);if(!a){e.error("PageReady - data received on an unregistered binding");return}switch(o.getGroupId()){case"$auto.Workers":this._oEventProvider.fireEvent("workersBatchReceived");break;case"$auto.Heroes":this._oEventProvider.fireEvent("heroesBatchReceived");break;default:}a.receivedCount++;if(a.receivedCount<a.requestedCount){o.attachEventOnce("dataReceived",{triggeredBySearch:i.triggeredBySearch},this.onDataReceived,this);return}const r=this._aBindingRegistrations.some(e=>e.requestedCount!==0)&&this._aBindingRegistrations.every(e=>e.requestedCount===0||e.receivedCount>=e.requestedCount);if(i.triggeredBySearch||a.receivedCount>=a.requestedCount){this._isSearchPending=false}if(r){this._isDataReceived=true;this._fnOnFinished()}};i.onDataRequested=function t(n,i){const o=n.getSource();const a=this._aBindingRegistrations.find(e=>e.binding===o);if(!a){e.error("PageReady - data requested on an unregistered binding");return}a.requestedCount++;this._isDataReceived=false;if(a.requestedCount-a.receivedCount===1){o.attachEventOnce("dataReceived",{triggeredBySearch:i.triggeredBySearch},this.onDataReceived,this)}};i.onSearch=function t(n){const i=this._aMDCTables.filter(e=>{var t;return n.getSource().sId===e.getFilter()&&e.getVisible()&&!((t=e.getParent())!==null&&t!==void 0&&t.getProperty("bindingSuspended"))});const o=this._aMDCCharts.filter(e=>n.getSource().sId===e.getFilter()&&e.getVisible());if(i.length>0||o.length>0){this._isSearchPending=true}i.forEach(e=>{this.registerTable(e,true)});o.forEach(async t=>{try{if(t.innerChartBoundPromise){await t.innerChartBoundPromise}this.registerChart(t,true)}catch(t){e.error("Cannot find a inner bound chart",t)}})};i.register=function e(t,n){var i,o;const a=n.binding||((i=n.table)===null||i===void 0?void 0:i.getRowBinding())||((o=n.chart)===null||o===void 0?void 0:o.getControlDelegate().getInnerChart(n.chart).getBinding("data"));const r=n.table||n.chart;if(!a){return}let s=this._aBindingRegistrations.find(e=>e.binding===a);if(s){if(r){s.boundControl=r}if(s.requestedCount>0){a.detachEvent("dataRequested",this.onDataRequested,this);a.attachEventOnce("dataRequested",{triggeredBySearch:n.triggeredBySearch},this.onDataRequested,this)}return}if(r){s=this._aBindingRegistrations.find(e=>e.boundControl===r);if(s&&s.binding!==a){s.binding=a;s.requestedCount=0;s.receivedCount=0}}if(!s){s={binding:a,boundControl:r,requestedCount:0,receivedCount:0};this._aBindingRegistrations.push(s)}a.detachEvent("dataRequested",this.onDataRequested,this);a.attachEventOnce("dataRequested",{triggeredBySearch:n.triggeredBySearch},this.onDataRequested,this)};i.registerBinding=function e(t){this.register(null,{binding:t,triggeredBySearch:false})};i.registerTable=function e(t){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this._aMDCTables.indexOf(t)<0){this._aMDCTables.push(t)}const i=t.getRowBinding();if(i){this.register(null,{table:t,triggeredBySearch:n})}if(this._aOtherEventSources.indexOf(t)===-1){t.attachEvent("bindingUpdated",{table:t,triggeredBySearch:n},this.register,this);this._aOtherEventSources.push(t)}};i.registerChart=function e(t){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this._aMDCCharts.indexOf(t)<0){this._aMDCCharts.push(t)}const i=t.getControlDelegate().getInnerChart(t);const o=i===null||i===void 0?void 0:i.getBinding("data");if(o){this.register(null,{chart:t,triggeredBySearch:n})}if(this._aOtherEventSources.indexOf(t)===-1){t.attachEvent("bindingUpdated",{chart:t,triggeredBySearch:n},this.register,this);this._aOtherEventSources.push(t)}};i.registerTableOrChart=async function n(i){if(!i.isA("sap.ui.mdc.Table")&&!i.isA("sap.ui.mdc.Chart")){return}try{await i.initialized();if(i.isA("sap.ui.mdc.Table")){this.registerTable(i);if(i.getAutoBindOnInit()&&i.getDomRef()){await t.whenBound(i)}}else{this.registerChart(i)}}catch(t){e.error("PageReady - Cannot register a table or a chart",t)}};i.registerFilterBar=function e(t){t.attachEvent("search",this.onSearch,this);this._aOtherEventSources.push(t)};return n}();return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/routing/NavigationReason",[],function(){"use strict";var e;(function(e){e["RowPress"]="RowPress";e["AppStateChanged"]="AppStateChanged"})(e||(e={}));return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controllerextensions/routing/RouterProxy",["sap/base/Log","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/Synchronization","sap/ui/base/Object","sap/ui/core/Core","sap/ui/thirdparty/URI"],function(e,t,n,i,o,a){"use strict";var r,s;var l=t.defineUI5Class;function c(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}function u(e,t){u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return u(e,t)}const d={EQUAL:0,COMPATIBLE:1,ANCESTOR:2,DIFFERENT:3};const p={LAYOUTPARAM:"layout",IAPPSTATEPARAM:"sap-iapp-state"};function f(e){return{_guardHash:e.replace(/\?[^?]*$/,""),check:function(e){return e.indexOf(this._guardHash)===0}}}function g(e){const t=e.match(new RegExp(`\\?.*${p.IAPPSTATEPARAM}=([^&]*)`));return t&&t.length>1?t[1]:null}function v(e){return e.replace(new RegExp(`[&?]*${p.IAPPSTATEPARAM}=[^&]*`),"")}function h(e,t){let n;if(e.indexOf(p.IAPPSTATEPARAM)>=0){n=e.replace(new RegExp(`${p.IAPPSTATEPARAM}=[^&]*`),`${p.IAPPSTATEPARAM}=${t}`)}else{if(e.indexOf("?")<0){n=`${e}?`}else{n=`${e}&`}n+=`${p.IAPPSTATEPARAM}=${t}`}return n}let m=(r=l("sap.fe.core.RouterProxy"),r(s=function(t){c(i,t);function i(){var e;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}e=t.call(this,...i)||this;e.bIsRebuildHistoryRunning=false;e.bIsComputingTitleHierachy=false;e.bIsGuardCrossAllowed=false;e.sIAppStateKey=null;e._bActivateRouteMatchSynchro=false;e._bApplyRestore=false;e._bDelayedRebuild=false;e._pathMappings=[];return e}var r=i.prototype;r.init=function t(n,i){n.getService("shellServices").then(()=>{this._oShellServices=n.getShellServices();this.initRaw(n.getRouter());this.waitForRouteMatchBeforeNavigation();history.replaceState(Object.assign({feLevel:0},history.state),"",window.location);this.fclEnabled=i;this._fnBlockingNavFilter=this._blockingNavigationFilter.bind(this);this._oShellServices.registerNavigationFilter(this._fnBlockingNavFilter)}).catch(function(t){e.error("Cannot retrieve the shell services",t)});this._fnHashGuard=this.hashGuard.bind(this);window.addEventListener("popstate",this._fnHashGuard);this._bDisableOnHashChange=false;this._bIgnoreRestore=false;this._bForceFocus=true};r.destroy=function e(){if(this._oShellServices){this._oShellServices.unregisterNavigationFilter(this._fnBlockingNavFilter)}window.removeEventListener("popstate",this._fnHashGuard)};r.initRaw=function e(t){this._oRouter=t;this._oManagedHistory=[];this._oNavigationGuard=null;const n=this.getHash();this._oManagedHistory.push(this._extractStateFromHash(n));this.sIAppStateKey=g(n)};r.getHash=function e(){return this._oRouter.getHashChanger().getHash()};r.isFocusForced=function e(){return this._bForceFocus};r.setFocusForced=function e(t){this._bForceFocus=t};r.removeIAppStateKey=function e(){this.sIAppStateKey=null};r.navToHash=function e(t,n,i,o,a){if(a!==false){this._oShellServices.setBackNavigation()}if(this._oRouteMatchSynchronization){return this._oRouteMatchSynchronization.waitFor().then(()=>{this._oRouteMatchSynchronization=undefined;return this._internalNavToHash(t,n,i,o)})}else{if(this._bActivateRouteMatchSynchro){this.waitForRouteMatchBeforeNavigation()}return this._internalNavToHash(t,n,i,o)}};r._internalNavToHash=function e(t,n,i,a){if(this.fclEnabled&&this.sIAppStateKey&&!g(t)){t=h(t,this.sIAppStateKey)}if(!this.checkHashWithGuard(t)){if(!this.oResourceBundle){this.oResourceBundle=o.getLibraryResourceBundle("sap.fe.core")}if(!confirm(this.oResourceBundle.getText("C_ROUTER_PROXY_SAPFE_EXIT_NOTSAVED_MESSAGE"))){return Promise.resolve(false)}this.bIsGuardCrossAllowed=true}const r=this._extractStateFromHash(t);if(!this._bForceFocus){const e=this._extractEntitySetsFromHash(this.getHash());this._bForceFocus=a||e.length<r.keys.length&&e.every(function(e,t){return e===r.keys[t]})}const s=this._pushNewState(r,false,n,i);this.storeFocusInfoForCurrentHash();return this._rebuildBrowserHistory(s,false)};r.restoreHistory=function e(){if(this._bApplyRestore){this._bApplyRestore=false;let e=this.getHash();e=e.replace(/(\?|&)restoreHistory=true/,"");const t=this._extractStateFromHash(e);const n=this._pushNewState(t,true,false,true);return this._rebuildBrowserHistory(n,true)}else{return Promise.resolve()}};r.navBack=function e(){const t=this.getHash();let n;for(let e=this._oManagedHistory.length-1;e>0;e--){if(this._oManagedHistory[e].hash===t){n=this._oManagedHistory[e-1].hash;break}}if(n){return this.navToHash(n)}else{window.history.back();return Promise.resolve()}};r.navTo=function e(t,n){const i=this._oRouter.getURL(t,n);return this.navToHash(i,false,n.noPreservationCache,false,!n.bIsStickyMode)};r.exitFromApp=function e(){return this._oShellServices.backToPreviousApp()};r.isCurrentStateImpactedBy=function e(t){if(t[0]==="/"){t=t.substring(1)}const n=f(t);return n.check(this.getHash())};r.isNavigationFinalized=function e(){return!this.bIsRebuildHistoryRunning&&!this._bDelayedRebuild};r.setNavigationGuard=function e(t){this._oNavigationGuard=f(t);this.bIsGuardCrossAllowed=false};r.discardNavigationGuard=function e(){this._oNavigationGuard=null};r.hasNavigationGuard=function e(){return this._oNavigationGuard!==null};r.checkHashWithGuard=function e(t){return this._oNavigationGuard===null||this._oNavigationGuard.check(t)};r.isGuardCrossAllowedByUser=function e(){return this.bIsGuardCrossAllowed};r.activateRouteMatchSynchronization=function e(){this._bActivateRouteMatchSynchro=true};r.resolveRouteMatch=function e(){if(this._oRouteMatchSynchronization){this._oRouteMatchSynchronization.resolve()}};r.waitForRouteMatchBeforeNavigation=function e(){this._oRouteMatchSynchronization=new n;this._bActivateRouteMatchSynchro=false};r._extractEntitySetsFromHash=function e(t){if(t===undefined){t=""}const n=t.split("?")[0];const i=n.split("/");const o=[];i.forEach(e=>{if(e.length){o.push(e.split("(")[0])}});return o};r._extractStateFromHash=function e(t){if(t===undefined){t=""}const n={keys:this._extractEntitySetsFromHash(t)};const i=t.match(new RegExp(`\\?.*${p.LAYOUTPARAM}=([^&]*)`));n.sLayout=i&&i.length>1?i[1]:null;if(n.sLayout==="MidColumnFullScreen"){n.screenMode=1}else if(n.sLayout==="EndColumnFullScreen"){n.screenMode=2}else{n.screenMode=0}n.hash=t;return n};r._pushNewState=function e(t,n,i,o){const a=this.getHash();let r=this._oManagedHistory.length-1;let s=n?1:0;if(!n){while(r>=0&&this._oManagedHistory[r].hash!==a){this._oManagedHistory.pop();r--}if(this._oManagedHistory.length===0){this._oManagedHistory.push(this._extractStateFromHash(a));history.replaceState(Object.assign({feLevel:0},history.state),"")}}if(i&&!o){this._oManagedHistory[this._oManagedHistory.length-1].preserved=true}let l;while(this._oManagedHistory.length>0){const e=this._oManagedHistory[this._oManagedHistory.length-1];if((o||!e.preserved)&&this._compareCacheStates(e,t)!==d.ANCESTOR){l=this._oManagedHistory.pop();s++}else if(e.preserved&&v(e.hash)===v(t.hash)){l=this._oManagedHistory.pop();s++;t.preserved=true;break}else{break}}this.sIAppStateKey=g(t.hash);if(!this.fclEnabled&&l){const e=g(l.hash);const n=this._compareCacheStates(l,t);if(!this.sIAppStateKey&&e&&(n===d.EQUAL||n===d.COMPATIBLE)){t.hash=h(t.hash,e)}}const c=l&&t.hash===l.hash;if(this._oManagedHistory.length===0||this._oManagedHistory[this._oManagedHistory.length-1].hash!==t.hash){this._oManagedHistory.push(t);if(l&&v(l.hash)===v(t.hash)){t.focusControlId=l.focusControlId;t.focusInfo=l.focusInfo}}if(s===0){return{type:"append"}}else if(s===1){return c?{type:"none"}:{type:"replace"}}else{return c?{type:"back",steps:s-1}:{type:"back-replace",steps:s-1}}};r._blockingNavigationFilter=function e(){return this._bDisableOnHashChange?"Custom":"Continue"};r._disableEventOnHashChange=function e(){this._bDisableOnHashChange=true;this._oRouter.stop()};r._enableEventOnHashChange=function e(t){this._bDisableOnHashChange=false;this._oRouter.initialize(t)};r._rebuildBrowserHistory=function e(t,n){const i=this;return new Promise(e=>{this.bIsRebuildHistoryRunning=true;const o=this._oManagedHistory[this._oManagedHistory.length-1],a=this._oManagedHistory.length-1;function r(){if(!n){i._enableEventOnHashChange(true)}i._oRouter.getHashChanger().replaceHash(o.hash);history.replaceState(Object.assign({feLevel:a},history.state),"");if(n){setTimeout(function(){i._enableEventOnHashChange(true)},0)}i.bIsRebuildHistoryRunning=false;e(true)}function s(){window.removeEventListener("popstate",s);setTimeout(function(){r()},0)}function l(){window.removeEventListener("popstate",l);i.bIsRebuildHistoryRunning=false;e(true)}i._bIgnoreRestore=true;switch(t.type){case"replace":i._oRouter.getHashChanger().replaceHash(o.hash);history.replaceState(Object.assign({feLevel:a},history.state),"");i.bIsRebuildHistoryRunning=false;e(true);break;case"append":i._oRouter.getHashChanger().setHash(o.hash);history.replaceState(Object.assign({feLevel:a},history.state),"");i.bIsRebuildHistoryRunning=false;e(true);break;case"back":window.addEventListener("popstate",l);history.go(-t.steps);break;case"back-replace":this._disableEventOnHashChange();window.addEventListener("popstate",s);history.go(-t.steps);break;default:this.bIsRebuildHistoryRunning=false;e(false)}})};r.getLastHistoryEntry=function e(){return this._oManagedHistory[this._oManagedHistory.length-1]};r.setPathMapping=function e(t){this._pathMappings=t.filter(e=>e.oldPath!==e.newPath)};r.hashGuard=function e(){let t=window.location.hash;if(t.indexOf("restoreHistory=true")!==-1){this._bApplyRestore=true}else if(!this.bIsRebuildHistoryRunning){const e=this._pathMappings.find(e=>t.indexOf(e.oldPath)>=0);if(e){t=t.replace(e.oldPath,e.newPath);history.replaceState(Object.assign({},history.state),"",t)}const n=t.split("&/");const i=n[1]?n[1]:"";if(this.checkHashWithGuard(i)){this._bDelayedRebuild=true;const e=this._extractStateFromHash(i);this._pushNewState(e,false,false,true);setTimeout(()=>{this._bDelayedRebuild=false},0)}}};r._compareCacheStates=function e(t,n){if(t.keys.length>n.keys.length){return d.DIFFERENT}let i=true;let o;for(o=0;i&&o<t.keys.length;o++){if(t.keys[o]!==n.keys[o]){i=false}}if(!i){return d.DIFFERENT}if(t.keys.length<n.keys.length||t.screenMode<n.screenMode){return d.ANCESTOR}if(t.screenMode>n.screenMode){return d.DIFFERENT}return t.sLayout===n.sLayout?d.EQUAL:d.COMPATIBLE};r.checkIfBackIsOutOfGuard=function e(t){let n;let i;if(t===undefined){const e=this._oShellServices.splitHash(window.location.hash);if(e&&e.appSpecificRoute){i=e.appSpecificRoute;if(i.indexOf("&/")===0){i=i.substring(2)}}else{i=window.location.hash.substring(1);if(i[0]==="/"){i=i.substring(1)}}}else{i=t}t=a.decode(i);if(this._oNavigationGuard){for(let e=this._oManagedHistory.length-1;e>0;e--){if(this._oManagedHistory[e].hash===t){n=this._oManagedHistory[e-1].hash;break}}return!n||!this.checkHashWithGuard(n)}return false};r.checkIfBackHasSameContext=function e(){if(this._oManagedHistory.length<2){return false}const t=this._oManagedHistory[this._oManagedHistory.length-1];const n=this._oManagedHistory[this._oManagedHistory.length-2];return t.hash.split("?")[0]===n.hash.split("?")[0]};r.restoreFocusForCurrentHash=function e(){const t=v(this.getHash());const n=this._oManagedHistory.find(e=>v(e.hash)===t);let i=false;if(n!==null&&n!==void 0&&n.focusControlId){const e=sap.ui.getCore().byId(n.focusControlId);e===null||e===void 0?void 0:e.focus(n.focusInfo);i=e!==undefined}return i};r.storeFocusInfoForCurrentHash=function e(){const t=v(this.getHash());const n=this._oManagedHistory.find(e=>v(e.hash)===t);if(n){const e=sap.ui.getCore().getCurrentFocusedControlId();const t=e?sap.ui.getCore().byId(e):undefined;n.focusControlId=e;n.focusInfo=t===null||t===void 0?void 0:t.getFocusInfo()}};r.findLayoutForHash=function e(t){var n;if(!this.fclEnabled){return undefined}const i=t.split("?")[0];let o;for(let e=this._oManagedHistory.length-1;e>=0&&o===undefined;e--){if(this._oManagedHistory[e].hash.split("?")[0]===i){o=this._oManagedHistory[e]}}return(n=o)===null||n===void 0?void 0:n.sLayout};return i}(i))||s);return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controls/Any",["sap/ui/base/ManagedObject"],function(e){"use strict";const t=e.extend("sap.fe.core.controls.Any",{metadata:{properties:{any:"any",anyText:"string"}},updateProperty:function(e){if(e==="any"){this.setAny(this.getBindingInfo(e).binding.getExternalValue())}else{this.setAnyText(this.getBindingInfo(e).binding.getExternalValue())}}});return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controls/AnyElement",["sap/ui/core/Element"],function(e){"use strict";const t=e.extend("sap.fe.core.controls.AnyElement",{metadata:{properties:{anyText:"string"}},updateProperty:function(e){if(e==="anyText"){this.setAnyText(this.getBindingInfo(e).binding.getExternalValue())}}});return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controls/CommandExecution",["sap/base/Log","sap/fe/core/helpers/ClassSupport","sap/ui/core/CommandExecution","sap/ui/core/Component","sap/ui/core/Element","sap/ui/core/Shortcut"],function(e,t,n,i,o,a){"use strict";var r,s,l;var c={};var u=t.defineUI5Class;function d(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}function p(e,t){p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return p(e,t)}let f=(r=u("sap.fe.core.controls.CommandExecution"),r(s=(l=function(t){d(n,t);function n(e,n){return t.call(this,e,n)||this}c=n;var r=n.prototype;r.setParent=function e(n){t.prototype.setParent.call(this,n);const i=n.data("sap.ui.core.Shortcut");if(Array.isArray(i)&&i.length>0){const e=n.data("sap.ui.core.Shortcut")[i.length-1],t=e.shortcutSpec;if(t){for(const e in t){if(t[e]&&e!=="key"){return this}}}return this}};r.destroy=function e(t){const n=this.getParent();if(n){const e=this._getCommandInfo();if(e){a.unregister(this.getParent(),e.shortcut)}this._cleanupContext(n)}o.prototype.destroy.apply(this,[t])};r.setVisible=function n(o){let a,r=this.getParent(),s;if(!r){t.prototype.setVisible.call(this,o)}while(!s&&r){s=i.getOwnerComponentFor(r);r=r.getParent()}if(s){a=s.getCommand(this.getCommand());if(a){t.prototype.setVisible.call(this,o)}else{e.info("There is no shortcut definition registered in the manifest for the command : "+this.getCommand())}}return this};return n}(n),l.executeCommand=e=>t=>{const i=n.find(t.getSource(),e);i===null||i===void 0?void 0:i.trigger()},l))||s);c=f;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controls/DataLossOrDraftDiscard/DataLossOrDraftDiscardHandler",["sap/base/Log","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/model/json/JSONModel"],function(e,t,n,i,o){"use strict";var a={};var r;(function(e){e["Save"]="draftDataLossOptionSave";e["Keep"]="draftDataLossOptionKeep";e["Discard"]="draftDataLossOptionDiscard"})(r||(r={}));let s;let l;function c(a,r,c,u){let d;s=a;l=r;const p="sap.fe.core.controls.DataLossOrDraftDiscard.DataLossDraft";const f=c.getView();const h={onDataLossOk:function(){v(d,c,s,u)},onDataLossCancel:function(){l();d.close()},setDataLossPopup:function(e){c.dataLossPopup=e}};const m=new o({}),y={bindingContexts:{this:m.createBindingContext("/")},models:{this:m}};if(c.dataLossPopup){d=c.dataLossPopup;d.open();g(d)}else{const o=i.loadTemplate(p,"fragment");Promise.resolve(n.process(o,{name:p},y)).then(e=>t.load({definition:e,controller:h})).then(e=>{d=e;g(d);const t=d.getContent().find(e=>e.data("listIdentifier")==="draftDataLossOptionsList");t.addEventDelegate({onsapenter:function(){v(d,c,s,u)}});f.addDependent(d);d.open();h.setDataLossPopup(d)}).catch(function(t){e.error("Error while opening the Discard Dialog fragment",t)})}}function u(e,t,n,i){return new Promise(function(o,a){const r=function(t){const n=e(t);o(n)};const s=function(){t();a()};c(r,s,n,i)})}a.performAfterDiscardorKeepDraft=u;function d(e,t){const n=e.getView().getBindingContext();const i={skipBackNavigation:true,skipDiscardPopover:true,skipBindingToView:t!==undefined?t:true};return e.editFlow.cancelDocument(n,i)}a.discardDraft=d;function p(e){const t=e.getView().getBindingContext();if(e.isA("sap.fe.templates.ObjectPage.ObjectPageController")){return e._saveDocument(t)}else{return e.editFlow.saveDocument(t)}}a.saveDocument=p;function f(e){const t=e.getContent().find(e=>e.data("listIdentifier")==="draftDataLossOptionsList");return t.getSelectedItem().data("itemKey")}a.getSelectedKey=f;function g(e){const t=e.getContent().find(e=>e.data("listIdentifier")==="draftDataLossOptionsList");const n=t.getItems()[0];t.setSelectedItem(n);n===null||n===void 0?void 0:n.focus()}a.selectAndFocusFirstEntry=g;function v(t,n,i,o){const a=f(t);if(a===r.Save){p(n).then(i).catch(function(t){e.error("Error while saving document",t)});t.close()}else if(a===r.Keep){i();t.close()}else if(a===r.Discard){d(n,o).then(i).catch(function(t){e.error("Error while discarding draft",t)});t.close()}}a.handleDataLossOk=v;return{performAfterDiscardorKeepDraft:u,discardDraft:d,saveDocument:p,getSelectedKey:f,selectAndFocusFirstEntry:g}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controls/FilterBar",["sap/fe/core/controls/filterbar/FilterContainer","sap/fe/core/controls/filterbar/VisualFilterContainer","sap/fe/core/helpers/ClassSupport","sap/ui/core/Core","sap/ui/mdc/FilterBar","sap/ui/mdc/filterbar/aligned/FilterItemLayout"],function(e,t,n,i,o,a){"use strict";var r,s,l,c,u,d,p;var f=n.property;var g=n.defineUI5Class;var v=n.association;function h(e,t,n,i){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function y(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;b(e,t)}function b(e,t){b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return b(e,t)}function C(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function P(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let E=(r=g("sap.fe.core.controls.FilterBar"),s=f({type:"string",defaultValue:"compact"}),l=v({type:"sap.m.SegmentedButton",multiple:false}),r(c=(u=function(n){y(o,n);function o(){var e;for(var t=arguments.length,i=new Array(t),o=0;o<t;o++){i[o]=arguments[o]}e=n.call(this,...i)||this;h(e,"initialLayout",d,m(e));h(e,"toggleControl",p,m(e));return e}var r=o.prototype;r.setToggleControl=function e(t){if(typeof t==="string"){this._oSegmentedButton=i.byId(t)}else{this._oSegmentedButton=t}if(this.toggleControl&&this._oSegmentedButton){this._oSegmentedButton.detachEvent("select",this._toggleLayout.bind(this))}if(this._oSegmentedButton){this._oSegmentedButton.attachEvent("select",this._toggleLayout.bind(this))}this.setAssociation("toggleControl",t,true)};r._toggleLayout=function e(){if(!this._oSecondaryFilterBarLayout){this._oSecondaryFilterBarLayout=new t}if(this._oSecondaryFilterBarLayout.isA("sap.fe.core.controls.filterbar.VisualFilterContainer")){this.setShowAdaptFiltersButton(false)}else{this.setShowAdaptFiltersButton(true)}const n=this._oFilterBarLayout;const i=this.getFilterItems();const o=n.getAllFilterFields();const a=this.getSortedFilterFields(i,o);const r=n.getAllButtons();const s=n.getAllVisualFilterFields&&n.getAllVisualFilterFields();if(this._oSecondaryFilterBarLayout.isA("sap.fe.core.controls.filterbar.VisualFilterContainer")){this._oSecondaryFilterBarLayout.setAllFilterFields(a,s)}this._oFilterBarLayout=this._oSecondaryFilterBarLayout;o.forEach((e,t)=>{n.removeFilterField(e);this._oFilterBarLayout.insertFilterField(e,t)});r.forEach(e=>{n.removeButton(e);this._oFilterBarLayout.addButton(e)});this._oSecondaryFilterBarLayout=n;this.setAggregation("layout",this._oFilterBarLayout,true);this._oFilterBarLayout.rerender()};r.getSortedFilterFields=function e(t,n){const i=[];t.forEach(function(e){i.push(e.getId())});n.sort(function(e,t){let n,o;e.getContent().forEach(function(e){if(e.isA("sap.ui.mdc.FilterField")){n=e.getId()}});t.getContent().forEach(function(e){if(e.isA("sap.ui.mdc.FilterField")){o=e.getId()}});return i.indexOf(n)-i.indexOf(o)});return n};r._createInnerLayout=function t(){this._oFilterBarLayout=new e;this._cLayoutItem=a;this._oFilterBarLayout.getInner().addStyleClass("sapUiMdcFilterBarBaseAFLayout");this._addButtons();const n=this._oFilterBarLayout.getInner();const i={onBeforeRendering:()=>{if(this.initialLayout==="visual"){this._toggleLayout()}n.removeEventDelegate(i)}};n.addEventDelegate(i);this.setAggregation("layout",this._oFilterBarLayout,true)};r.exit=function e(){n.prototype.exit.call(this);if(this._oSegmentedButton){this._oSegmentedButton.detachEvent("select",this._toggleLayout);delete this._oSegmentedButton}};r.getSegmentedButton=function e(){return this._oSegmentedButton};return o}(o),d=C(u.prototype,"initialLayout",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),p=C(u.prototype,"toggleControl",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||c);return E},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controls/FormElementWrapper",["sap/fe/core/helpers/ClassSupport","sap/ui/core/Control"],function(e,t){"use strict";var n,i,o,a,r,s,l,c,u,d,p;var f=e.property;var g=e.implementInterface;var v=e.defineUI5Class;var h=e.aggregation;function m(e,t,n,i){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function b(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}function C(e,t){C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return C(e,t)}function P(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function E(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let T=(n=v("sap.fe.core.controls.FormElementWrapper"),i=g("sap.ui.core.IFormContent"),o=f({type:"sap.ui.core.CSSSize",defaultValue:null}),a=f({type:"boolean",defaultValue:false}),r=h({type:"sap.ui.core.Control",multiple:false,isDefault:true}),n(s=(l=function(e){b(t,e);function t(){var t;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}t=e.call(this,...i)||this;m(t,"__implements__sap_ui_core_IFormContent",c,y(t));m(t,"width",u,y(t));m(t,"formDoNotAdjustWidth",d,y(t));m(t,"content",p,y(t));return t}var n=t.prototype;n.getAccessibilityInfo=function e(){const t=this.content;return t&&t.getAccessibilityInfo?t.getAccessibilityInfo():{}};t.render=function e(t,n){t.openStart("div",n);t.style("min-height","1rem");t.style("width",n.width);t.openEnd();t.openStart("div");t.style("display","flex");t.style("box-sizing","border-box");t.style("justify-content","space-between");t.style("align-items","center");t.style("flex-wrap","wrap");t.style("align-content","stretch");t.style("width","100%");t.openEnd();t.renderControl(n.content);t.close("div");t.close("div")};return t}(t),c=P(l.prototype,"__implements__sap_ui_core_IFormContent",[i],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),u=P(l.prototype,"width",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),d=P(l.prototype,"formDoNotAdjustWidth",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),p=P(l.prototype,"content",[r],{configurable:true,enumerable:true,writable:true,initializer:null}),l))||s);return T},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controls/MassEditSelect",["sap/m/Select","sap/m/SelectRenderer"],function(e,t){"use strict";const n=e.extend("sap.fe.core.controls.MassEditSelect",{metadata:{properties:{showValueHelp:{type:"boolean"},valueHelpIconSrc:{type:"string"},selectValue:{type:"string"}},events:{valueHelpRequest:{}},interfaces:["sap.ui.core.IFormContent"]},renderer:{apiVersion:2,render:t.render}});return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controls/MultiValueParameterDelegate",["sap/ui/mdc/field/MultiValueFieldDelegate"],function(e){"use strict";const t=Object.assign({},e,{_transformConditions:function(e,t,n){const i=[];for(let o=0;o<e.length;o++){const a={};const r=e[o];a[t]=r.values[0];if(n){a[n]=r.values[1]}i.push(a)}return i},updateItems:function(e,t,n){const i=n.getBinding("items");const o=n.getBindingInfo("items");const a=o.path;const r=o.template;const s=r.getBindingInfo("key");const l=s&&s.parts[0].path;const c=r.getBindingInfo("description");const u=c&&c.parts[0].path;const d=i.getModel();d.setProperty(a,this._transformConditions(t,l,u))}});return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controls/filterbar/FilterContainer",["sap/fe/core/helpers/ClassSupport","sap/ui/mdc/filterbar/aligned/FilterContainer"],function(e,t){"use strict";var n,i;var o=e.defineUI5Class;function a(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;r(e,t)}function r(e,t){r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return r(e,t)}let s=(n=o("sap.fe.core.controls.filterbar.FilterContainer"),n(i=function(e){a(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.init=function t(){this.aAllFilterFields=[];this.aAllVisualFilters={};for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}e.prototype.init.call(this,...i)};n.exit=function t(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}e.prototype.exit.call(this,...i);this.aAllFilterFields.forEach(function(e){e.destroy()});Object.keys(this.aAllVisualFilters).forEach(e=>{this.aAllVisualFilters[e].destroy()})};n.insertFilterField=function t(n,i){const o={onBeforeRendering:function(){if(n._fnGetContentCopy){n.getContent=n._fnGetContentCopy}n.removeEventDelegate(o)}};n.addEventDelegate(o);n.getContent().forEach(e=>{const t=e.getContent&&e.getContent();if(e.isA("sap.ui.mdc.FilterField")&&t&&t.isA("sap.fe.core.controls.filterbar.VisualFilter")){const n=e.getId();this.aAllVisualFilters[n]=t;e.setContent(null)}});this.aAllFilterFields.push(n);e.prototype.insertFilterField.call(this,n,i)};n.removeFilterField=function t(n){const i=this.aAllFilterFields.findIndex(function(e){return e.getId()===n.getId()});n.getContent().forEach(e=>{if(e.isA("sap.ui.mdc.FilterField")&&!e.getContent()){const t=e.getId();if(this.aAllVisualFilters[t]){e.setContent(this.aAllVisualFilters[t])}}});this.aAllFilterFields.splice(i,1);e.prototype.removeFilterField.call(this,n)};n.removeAllFilterFields=function e(){this.aAllFilterFields=[];this.aAllVisualFilters={};this.oLayout.removeAllContent()};n.getAllButtons=function e(){return this.oLayout.getEndContent()};n.removeButton=function e(t){this.oLayout.removeEndContent(t)};n.getAllFilterFields=function e(){return this.aAllFilterFields.slice()};n.getAllVisualFilterFields=function e(){return this.aAllVisualFilters};n.setAllFilterFields=function e(t){this.aAllFilterFields=t};return t}(t))||i);return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controls/filterbar/VisualFilter",["sap/fe/core/CommonUtils","sap/fe/core/controls/filterbar/utils/VisualFilterUtils","sap/fe/core/helpers/ClassSupport","sap/fe/macros/CommonHelper","sap/fe/macros/filter/FilterUtils","sap/m/VBox","sap/ui/core/Core","../../templating/FilterHelper"],function(e,t,n,i,o,a,r,s){"use strict";var l,c,u,d,p,f,g,v,h,m,y;var b=s.getFiltersConditionsFromSelectionVariant;var C=n.property;var P=n.implementInterface;var E=n.event;var T=n.defineUI5Class;function O(e,t,n,i){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function S(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function A(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}function I(e,t){I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return I(e,t)}function D(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function x(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let M=(l=T("sap.fe.core.controls.filterbar.VisualFilter"),c=P("sap.ui.core.IFormContent"),u=C({type:"boolean"}),d=C({type:"string"}),p=E(),l(f=(g=function(n){A(a,n);function a(){var e;for(var t=arguments.length,i=new Array(t),o=0;o<t;o++){i[o]=arguments[o]}e=n.call(this,...i)||this;O(e,"__implements__sap_ui_core_IFormContent",v,S(e));O(e,"showValueHelp",h,S(e));O(e,"valueHelpIconSrc",m,S(e));O(e,"valueHelpRequest",y,S(e));return e}var s=a.prototype;s.onAfterRendering=function e(){var n;let a;const s=this.getItems()[1].getItems()[0];const l=this.data("infoPath");const c=s.getBinding("segments")||s.getBinding("bars")||s.getBinding("points");const u=s.getBindingContext("internal");const d=r.getLibraryResourceBundle("sap.fe.macros");const p=s.data("showOverlayInitially");const f=s.data("selectionVariantAnnotation")?i.parseCustomData(s.data("selectionVariantAnnotation")):{SelectOptions:[]};const g=s.data("requiredProperties")?i.parseCustomData(s.data("requiredProperties")):[];const v=s.getModel().getMetaModel();const h=c?c.getPath():"";let m=(n=this.getParent())===null||n===void 0?void 0:n.getParent();if(m.getMetadata().getElementName()==="sap.ui.mdc.filterbar.p13n.AdaptationFilterBar"){var y;m=(y=m.getParent())===null||y===void 0?void 0:y.getParent()}let C={};let P=[];let E;if(m.getMetadata().getElementName()==="sap.fe.core.controls.FilterBar"){C=m.getConditions();P=m.getPropertyInfoSet();E=m.data("entityType").split("/")[1]}const T=s.data("parameters")?s.data("parameters").customData:[];const O=b(h,v,f,t.getCustomConditions.bind(t));const S=t.convertFilterCondions(O);const A={};Object.keys(C).forEach(function(e){if(C[e].length){A[e]=C[e]}});Object.keys(S).forEach(function(e){if(!A[e]){A[e]=S[e]}});if(p==="true"){if(!Object.keys(f).length){if(g.length>1){u.setProperty(l,{showError:true,errorMessageTitle:d.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:d.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_MULTIPLEVF")})}else{a=v.getObject(`${h}/${g[0]}@com.sap.vocabularies.Common.v1.Label`)||g[0];u.setProperty(l,{showError:true,errorMessageTitle:d.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:d.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_SINGLEVF",a)})}}else{const e=[];const t=[];if(f.SelectOptions){f.SelectOptions.forEach(function(t){e.push(t.PropertyName.$PropertyPath)})}if(f.Parameters){f.Parameters.forEach(function(t){e.push(t.PropertyName.$PropertyPath)})}g.forEach(function(n){if(e.indexOf(n)===-1){t.push(n)}});if(t.length>1){u.setProperty(l,{showError:true,errorMessageTitle:d.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:d.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_MULTIPLEVF")})}else{a=v.getObject(`${h}/${t[0]}@com.sap.vocabularies.Common.v1.Label`)||t[0];u.setProperty(l,{showError:true,errorMessageTitle:d.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:d.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_SINGLEVF",a)})}if(t.length>1){u.setProperty(l,{showError:true,errorMessageTitle:d.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:d.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_MULTIPLEVF")})}else{u.setProperty(l,{showError:true,errorMessageTitle:d.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:d.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_SINGLEVF",t[0])})}}}if(!this._oChartBinding||this._oChartBinding!==c){if(this._oChartBinding){this.detachDataReceivedHandler(this._oChartBinding)}this.attachDataRecivedHandler(c);this._oChartBinding=c}const I=u.getProperty(l)&&u.getProperty(l).showError;const D=h!==""?h.split("/")[1].split("(")[0]:"";if(T&&T.length&&E===D){const e=o.getBindingPathForParameters(m,A,P,T);if(e){c.sPath=e}}if(c&&c.isSuspended()&&!I){c.resume()}};s.attachDataRecivedHandler=function e(t){if(t){t.attachEvent("dataReceived",this.onInternalDataReceived,this);this._oChartBinding=t}};s.detachDataReceivedHandler=function e(t){if(t){t.detachEvent("dataReceived",this.onInternalDataReceived,this);this._oChartBinding=undefined}};s.setShowValueHelp=function e(t){if(this.getItems().length>0){const e=this.getItems()[0].getItems()[0];e.getContent().some(function(e){if(e.isA("sap.m.Button")){e.setVisible(t)}});this.setProperty("showValueHelp",t)}};s.setValueHelpIconSrc=function e(t){if(this.getItems().length>0){const e=this.getItems()[0].getItems()[0];e.getContent().some(function(e){if(e.isA("sap.m.Button")){e.setIcon(t)}});this.setProperty("valueHelpIconSrc",t)}};s.onInternalDataReceived=function n(i){const o=this.getId();const a=e.getTargetView(this);const s=this.getItems()[1].getItems()[0];const l=this.data("infoPath");const c=s.getBindingContext("internal");const u=r.getLibraryResourceBundle("sap.fe.macros");const d=s.data("uom");t.updateChartScaleFactorTitle(s,a,o,l);if(i.getParameter("error")){const e=u.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");const n=u.getText("M_VISUAL_FILTERS_ERROR_DATA_TEXT");t.applyErrorMessageAndTitle(e,n,l,a)}else if(i.getParameter("data")){const e=i.getSource().getCurrentContexts();if(e&&e.length===0){t.setNoDataMessage(l,u,a)}else{c.setProperty(l,{})}t.setMultiUOMMessage(e,s,l,u,a)}if(d&&(d["ISOCurrency"]&&d["ISOCurrency"].$Path||d["Unit"]&&d["Unit"].$Path)){const e=i.getSource().getContexts();const n=e&&e[0].getObject();t.applyUOMToTitle(s,n,a,l)}};return a}(a),v=D(g.prototype,"__implements__sap_ui_core_IFormContent",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),h=D(g.prototype,"showValueHelp",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),m=D(g.prototype,"valueHelpIconSrc",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),y=D(g.prototype,"valueHelpRequest",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),g))||f);return M},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controls/filterbar/VisualFilterContainer",["sap/fe/core/helpers/ClassSupport","sap/m/FlexBox","sap/m/HeaderContainer","sap/ui/core/library","sap/ui/Device","sap/ui/mdc/filterbar/IFilterContainer"],function(e,t,n,i,o,a){"use strict";var r,s,l,c,u;var d=o.system;var p=e.defineUI5Class;var f=e.aggregation;function g(e,t,n,i){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function v(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}function m(e,t){m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return m(e,t)}function y(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function b(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let C=(r=p("sap.fe.core.controls.filterbar.VisualFilterContainer"),s=f({type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}),r(l=(c=function(e){h(o,e);function o(){var t;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}t=e.call(this,...i)||this;g(t,"_layout",u,v(t));return t}var a=o.prototype;a.init=function o(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++){r[s]=arguments[s]}e.prototype.init.call(this,...r);const l=d,c=i.Orientation,u=l.phone?c.Vertical:undefined,p=l.phone?"ColumnReverse":"Column";this.oHeaderContainer=new n({orientation:u});this.oButtonFlexBox=new t({alignItems:"End",justifyContent:"End"});this.oLayout=new t({direction:p,items:[this.oHeaderContainer,this.oButtonFlexBox]});this.aAllFilterFields=[];this.aVisualFilterFields={}};a.exit=function t(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}e.prototype.exit.call(this,...i);const a=this.getAllFilterFields();a.forEach(function(e){e.destroy()});this.oHeaderContainer=null;this.oButtonFlexBox=null;this.aAllFilterFields=[]};a.insertFilterField=function e(t,n){const i={onBeforeRendering:function(){if(!t._fnGetContentCopy){t._fnGetContentCopy=t.getContent}t.getContent=function(){const e=[];e.push(t._oFilterField);return e};t.removeEventDelegate(i)}};t.addEventDelegate(i);const o=this.aVisualFilterFields;t.getContent().some(e=>{const i=e.getId();if(o[i]&&e.isA("sap.ui.mdc.FilterField")){e.setContent(o[i]);this.oHeaderContainer.insertContent(t,n)}})};a.removeFilterField=function e(t){this.oHeaderContainer.removeContent(t)};a.removeAllFilterFields=function e(){this.aAllFilterFields=[];this.aVisualFilterFields={};this.oHeaderContainer.removeAllContent()};a.getFilterFields=function e(){return this.oHeaderContainer.getContent()};a.addButton=function e(t){this.oButtonFlexBox.insertItem(t)};a.getAllButtons=function e(){return this.oButtonFlexBox.getItems().reverse()};a.removeButton=function e(t){this.oButtonFlexBox.removeItem(t)};a.getAllFilterFields=function e(){return this.aAllFilterFields.slice()};a.setAllFilterFields=function e(t,n){this.aAllFilterFields=t;this.aVisualFilterFields=n};return o}(a),u=y(c.prototype,"_layout",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||l);return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controls/filterbar/utils/VisualFilterUtils",["sap/base/Log","sap/fe/core/templating/FilterHelper","sap/ui/core/format/NumberFormat","sap/ui/mdc/condition/Condition","sap/ui/model/odata/type/DateTimeOffset"],function(e,t,n,i,o){"use strict";var a=t.getTypeCompliantValue;var r=t.getRangeProperty;const s={applyMedianScaleToChartData:function(e,t,n,i){const o=[];const a=e.data("measure");const r=t.getBindingContext("internal");const s=e.getPoints&&e.getPoints()||e.getBars&&e.getBars()||e.getSegments&&e.getSegments();for(let e=0;e<s.length;e++){o.push(s[e].getBindingContext().getObject())}const l=this._getMedianScaleFactor(o,a);if(l&&l.iShortRefNumber&&l.scale){r.setProperty(`scalefactor/${i}`,l.scale);r.setProperty(`scalefactorNumber/${i}`,l.iShortRefNumber)}else{r.setProperty(`scalefactor/${i}`,"");r.setProperty(`scalefactorNumber/${i}`,"");const e=t.byId(`${n}::ScaleUoMTitle`);const o=t.byId(`${n}::MeasureDimensionTitle`);const a=e.getText();if(a===" | "){e.setText("");o.setTooltip(o.getText())}}},_getMedianScaleFactor:function(e,t){let i;let o;e.sort(function(e,n){if(Number(e[t])<Number(n[t])){return-1}if(Number(e[t])>Number(n[t])){return 1}return 0});if(e.length>0){const n=e.length/2,a=n%1===0?(parseFloat(e[n-1][t])+parseFloat(e[n][t]))/2:parseFloat(e[Math.floor(n)][t]),r=a;for(i=0;i<14;i++){o=Math.pow(10,i);if(Math.round(Math.abs(r)/o)<10){break}}}const a=n.getIntegerInstance({style:"short",showScale:false,shortRefNumber:o});for(i=0;i<e.length;i++){const n=e[i],r=a.format(n[t]),s=r.split(".");if(!s[1]&&parseInt(s[0],10)===0||s[1]&&parseInt(s[0],10)===0&&s[1].indexOf("0")===0||r/1e3>=1e3){o=undefined;break}}return{iShortRefNumber:o,scale:o?a.getScale():""}},getFormattedNumber:function(e,t,i,o){let a;e=typeof e==="string"?Number(e.replace(/,/g,"")):e;if(o){const t=n.getCurrencyInstance({showMeasure:false});return t.format(parseFloat(e),o)}else if(t){a=n.getFloatInstance({style:"short",showScale:false,shortRefNumber:t,shortDecimals:i});return a.format(parseFloat(e))}else{a=n.getFloatInstance({decimals:i});return a.format(parseFloat(e))}},applyUOMToTitle:function(e,t,n,i){const o=e.data("uom");let a;let r;if(o&&o["ISOCurrency"]){a=o["ISOCurrency"];r=a.$Path?t[a.$Path]:a}else if(o&&o["Unit"]){a=o["Unit"]}if(a){const e=a.$Path?t[a.$Path]:a;const o=n.getBindingContext("internal");o.setProperty(`uom/${i}`,e);if(r){o.setProperty(`currency/${i}`,e)}}},updateChartScaleFactorTitle:function(e,t,i,o){if(!e.data("scalefactor")){this.applyMedianScaleToChartData(e,t,i,o)}else{const i=n.getIntegerInstance({style:"short",showScale:false,shortRefNumber:e.data("scalefactor")});const a=t.getBindingContext("internal");const r=i.getScale()?i.getScale():"";a.setProperty(`scalefactor/${o}`,r)}},applyErrorMessageAndTitle:function(e,t,n,i){const o=i.getBindingContext("internal");o.setProperty(n,{});o.setProperty(n,{errorMessageTitle:e,errorMessage:t,showError:true})},checkMulitUnit:function(e,t){const n=[];if(e&&t){for(let i=0;i<e.length;i++){const o=e[i]&&e[i].getObject();n.push(o[t])}}return!!n.reduce(function(e,t){return e===t?e:NaN})},setMultiUOMMessage:function(t,n,i,o,a){const r=n.data("uom");const s=r&&r["ISOCurrency"]&&r["ISOCurrency"].$Path;const l=r&&r["Unit"]&&r["Unit"].$Path;const c=s||l;let u,d;if(c){if(!this.checkMulitUnit(t,c)){if(s){u=o.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");d=o.getText("M_VISUAL_FILTERS_MULTIPLE_CURRENCY",c);this.applyErrorMessageAndTitle(u,d,i,a);e.warning(`Filter is set for multiple Currency for${c}`)}else if(l){u=o.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");d=o.getText("M_VISUAL_FILTERS_MULTIPLE_UNIT",c);this.applyErrorMessageAndTitle(u,d,i,a);e.warning(`Filter is set for multiple UOMs for${c}`)}}}},setNoDataMessage:function(e,t,n){const i=t.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");const o=t.getText("M_VISUAL_FILTER_NO_DATA_TEXT");this.applyErrorMessageAndTitle(i,o,e,n)},convertFilterCondions:function(e){const t={};Object.keys(e).forEach(function(n){const o=[];const a=e[n];for(let e=0;e<a.length;e++){const t=a[e].value2?[a[e].value1,a[e].value2]:[a[e].value1];o.push(i.createCondition(a[e].operator,t,null,null,"Validated"))}if(o.length){t[n]=o}});return t},getCustomConditions:function(e,t,n){let i,o;if(t.$Type==="Edm.DateTimeOffset"){i=this._parseDateTime(a(this._formatDateTime(e.Low),t.$Type));o=e.High?this._parseDateTime(a(this._formatDateTime(e.High),t.$Type)):null}else{i=e.Low;o=e.High?e.High:null}return{operator:e.Option?r(e.Option.$EnumMember||e.Option):null,value1:i,value2:o,path:n}},_parseDateTime:function(e){return this._getDateTimeTypeInstance().parseValue(e,"string")},_formatDateTime:function(e){return this._getDateTimeTypeInstance().formatValue(e,"string")},_getDateTimeTypeInstance:function(){return new o({pattern:"yyyy-MM-ddTHH:mm:ssZ",calendarType:"Gregorian"},{V4:true})}};return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/controls/massEdit/MassEditHandlers",["sap/base/Log","sap/fe/core/helpers/ModelHelper","sap/fe/macros/internal/valuehelp/ValueListHelper","sap/ui/core/Core"],function(e,t,n,i){"use strict";const o={contextPropertyChange:function(e,t,n){const a=i.byId(n);const r=a&&a.getBindingContext();const s=a&&a.getModel("fieldsInfo");const l=s.getProperty(`/values/${t}`)||s.getProperty(`/unitData/${t}`)||[];if(r&&(l.inputType==="InputWithValueHelp"||l.inputType==="InputWithUnit")&&!l.valueListInfo){o._setValueListInfo(r,a,s,t)}const c=s&&s.getProperty("/isOpen");if(!c||!a.getVisible()){return}o._updateSelectKey(a,t,e)},handleMDCFieldChange:function(t,n){const i=t&&t.getSource();const a=t&&t.getParameter("promise");const r=i.getContent();if(!r||!n){return}a.then(o._updateSelectKeyForMDCFieldChange.bind(o,i,n)).catch(t=>{e.warning(`VHD selection couldn't be populated in the mass edit field.${t}`)})},handleSelectionChange:function(e){const t=e&&e.getSource();const n=t.getSelectedKey();const i=t&&n&&n.split("/");let a;if(i[0]==="UseValueHelpValue"){const n=e.getParameter("previousSelectedItem");const r=n.getKey();a=i.slice(1).join("/");o._onVHSelect(t,a,r);return}const r=t&&t.getModel("fieldsInfo");a=o._getPropertyNameFromKey(n);o._updateSuggestionForFieldsWithInParameters(r,a,n.startsWith("Default/")||n.startsWith("ClearFieldValue/"),true);o._updateSuggestionForFieldsWithOutParameters(r,a,n.startsWith("Default/")||n.startsWith("ClearFieldValue/"),false);o._updateResults(t,i,true)},_updateSelectKeyForMDCFieldChange:function(e,t,n){const i=e&&e.getBindingContext();const a=e&&e.getModel("fieldsInfo");const r=a.getProperty(`/values/${t}`)||a.getProperty(`/unitData/${t}`)||[];if(i&&(r.inputType==="InputWithValueHelp"||r.inputType==="InputWithUnit")&&!r.valueListInfo){o._setValueListInfo(i,e,a,t)}o._updateSuggestionForFieldsWithOutParameters(a,t,false,true);o._updateSuggestionForFieldsWithInParameters(a,t,false,true);const s=e.getFormFormattedValue();o._updateSelectKey(e,t,n,s)},_updateSuggestionForFieldsWithInParameters:function(e,t,n,i){const a=e.getProperty("/values");const r=e.getProperty("/unitData");const s=Object.keys(a);const l=Object.keys(r);s.forEach(o._updateInParameterSuggetions.bind(o,e,"/values/",t,n,i));l.forEach(o._updateInParameterSuggetions.bind(o,e,"/unitData/",t,n,i))},_updateInParameterSuggetions:function(e,t,n,i,a,r){const s=e.getProperty(`${t+r}/valueListInfo`);if(s&&n!=r){const l=s.inParameters;if(l&&l.length>0&&l.includes(n)){o._updateFieldPathSuggestions(e,t+r,i,a)}}},_updateSuggestionForFieldsWithOutParameters:function(e,t,n,i){const a=e.getProperty(`/values/${t}/valueListInfo`)||e.getProperty(`/unitData/${t}/valueListInfo`);if(a&&a.outParameters){const r=a.outParameters;if(r.length&&r.length>0){o._updateOutParameterSuggetions(r,e,n,i);const a=e.getProperty(`/values/${t}`)&&`/values/${t}`||e.getProperty(`/unitData/${t}`)&&`/unitData/${t}`;if(a){o._updateFieldPathSuggestions(e,a,false,true)}}}},_updateOutParameterSuggetions:function(e,t,n,i){const a=t.getProperty("/values");const r=t.getProperty("/unitData");const s=Object.keys(a);const l=Object.keys(r);e.forEach(e=>{if(s.includes(e)){o._updateFieldPathSuggestions(t,`/values/${e}`,n,i)}else if(l.includes(e)){o._updateFieldPathSuggestions(t,`/unitData/${e}`,n,i)}})},_updateFieldPathSuggestions:function(e,t,n,i){const o=e.getProperty(t);const a=o.defaultOptions;const r=e.getProperty(`${t}/selectedKey`);const s=i&&o.find(e=>e.key===r);if(n){const e=o.selectOptions;o.length=0;a.forEach(e=>o.push(e));e.forEach(e=>o.push(e))}else{o.length=0;a.forEach(e=>o.push(e))}e.setProperty(t,o);if(s&&!o.includes(s)){o.push(s);e.setProperty(`${t}/selectedKey`,r)}},_setValueListInfo:function(e,t,n,i){const a=n.getProperty(`/values/${i}`)&&"/values/"||n.getProperty(`/unitData/${i}`)&&"/unitData/";if(n.getProperty(`${a}${i}/valueListInfo`)){return}const r=n.getProperty(`${a}${i}/valueListInfo`);if(!r){o._requestValueList(e,t,n,i)}},_requestValueList:function(i,a,r,s){var l;const c=t.getMetaPathForContext(i);const u=c&&`${c}/${s}`;const d=a===null||a===void 0?void 0:a.getDependents();const p=a===null||a===void 0?void 0:a.getFieldHelp();const f=d===null||d===void 0?void 0:d.find(e=>e.getId()===p);const g=(l=f.getDelegate())===null||l===void 0?void 0:l.payload;if(!(f!==null&&f!==void 0&&f.getBindingContext())){f===null||f===void 0?void 0:f.setBindingContext(i)}const v=i.getModel().getMetaModel();n.createVHUIModel(f,u,v);const h=n.getValueListInfo(f,u,g);h.then(e=>{const t=e[0];const i=r.getProperty(`/values/${s}`)&&"/values/"||r.getProperty(`/unitData/${s}`)&&"/unitData/";const a={inParameters:t.vhParameters&&n.getInParameters(t.vhParameters).map(e=>e.helpPath),outParameters:t.vhParameters&&n.getOutParameters(t.vhParameters).map(e=>e.helpPath)};r.setProperty(`${i}${s}/valueListInfo`,a);if(a.outParameters.length>0){o._updateFieldPathSuggestions(r,`/values/${s}`,false,true)}}).catch(()=>{e.warning(`Mass Edit: Couldn't load valueList info for ${u}`)})},_getValueHelp:function(e,t){const n=t===null||t===void 0?void 0:t.getDependents();const i=t===null||t===void 0?void 0:t.getFieldHelp();return n===null||n===void 0?void 0:n.find(e=>e.getId()===i)},_onVHSelect:function(e,t,n){const i=e&&e.getModel("fieldsInfo");const a=i.getProperty(`/values/${t}`)&&"/values/"||i.getProperty(`/unitData/${t}`)&&"/unitData/";const r=e.getBindingContext();const s=o._getValueHelp(r,e.getParent());if(!(s!==null&&s!==void 0&&s.getBindingContext())){s===null||s===void 0?void 0:s.setBindingContext(r)}e.fireValueHelpRequest();i.setProperty(`${a+t}/selectedKey`,n)},_getPropertyNameFromKey:function(e){let t="";if(e.startsWith("Default/")||e.startsWith("ClearFieldValue/")||e.startsWith("UseValueHelpValue/")){t=e.substring(e.indexOf("/")+1)}else{t=e.substring(0,e.lastIndexOf("/"))}return t},_updateSelectKey:function(e,t,n,i){const a=e.getContent();if(!a||!t){return}let r=a.getSelectedKey();if((r.startsWith("Default/")||r.startsWith("ClearFieldValue/"))&&!n){return}const s=o._valueExists(i)?i:n;const l=e&&e.getModel("fieldsInfo");const c=l.getProperty(`/values/${t}`)||l.getProperty(`/unitData/${t}`)||[];const u=l.getProperty(`/values/${t}`)&&"/values/"||l.getProperty(`/unitData/${t}`)&&"/unitData/";const d=c.find(e=>{var t;return(e===null||e===void 0?void 0:(t=e.textInfo)===null||t===void 0?void 0:t.value)===n||e.text===n});if(d){if(i&&d.textInfo&&d.textInfo.descriptionPath&&(d.text!=s||d.textInfo.fullText!=s)){d.text=s;d.textInfo.fullText=s;d.textInfo.description=e.getAdditionalValue()}if(d.key===r){l.setProperty(`${u+t}/selectedKey`,r);return}r=d.key}else if([undefined,null,""].indexOf(n)===-1){r=`${t}/${n}`;const i={text:s,key:r,textInfo:{description:e.getAdditionalValue(),descriptionPath:c&&c.textInfo&&c.textInfo.descriptionPath,fullText:s,textArrangement:e.getDisplay(),value:e.getValue(),valuePath:t}};c.push(i);c.selectOptions=c.selectOptions||[];c.selectOptions.push(i);l.setProperty(u+t,c)}else{r=`Default/${t}`}l.setProperty(`${u+t}/selectedKey`,r);o._updateResults(a)},_getValue:function(e){var t;return e.getMetadata().getName()==="sap.fe.core.controls.MassEditSelect"?(t=e.getSelectedItem())===null||t===void 0?void 0:t.getText():e.getValue()},_getValueOnEmpty:function(e,t,n,i){if(!n){const o=t.getProperty(`/values/${i}`)||t.getProperty(`/unitData/${i}`)||[];if(o.unitProperty){n=0;e.setValue(n)}else if(o.inputType==="CheckBox"){n=false}}return n},_valueExists:function(e){return e!=undefined&&e!=null},_updateResults:function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let n=arguments.length>2?arguments[2]:undefined;const i=e&&e.getModel("fieldsInfo");const a=i&&i.getData();let r=o._getValue(e);t=t.length>0?t:e&&e.getSelectedKey()&&e.getSelectedKey().split("/");let s;const l=e.data("fieldPath");const c=e.data("propertyFullyQualifiedName");if(t[0]==="Default"){s={keyValue:t[1],propertyFullyQualifiedName:c,value:t[0]}}else if(t[0]==="ClearFieldValue"){r="";r=o._getValueOnEmpty(e,i,r,l);s={keyValue:t[1],propertyFullyQualifiedName:c,value:r}}else if(!t){r=o._getValueOnEmpty(e,i,r,l);s={keyValue:l,propertyFullyQualifiedName:c,value:r}}else{const e=t.slice(0,-1).join("/");const n=i.getProperty(`/values/${e}`)||i.getProperty(`/unitData/${e}`)||[];const a=(n||[]).find(function(e){var t;return(e===null||e===void 0?void 0:(t=e.textInfo)===null||t===void 0?void 0:t.value)===r||e.text===r});s={keyValue:e,propertyFullyQualifiedName:c,value:a.textInfo&&o._valueExists(a.textInfo.value)?a.textInfo.value:a.text}}let u=-1;for(let e=0;e<a.results.length;e++){if(a.results[e].keyValue===s.keyValue){u=e}}if(u!==-1){a.results[u]=s}else{a.results.push(s)}if(n&&!s.keyValue.includes("/")){const n=e.getBindingContext();if(t[0]==="Default"||t[0]==="ClearFieldValue"){n.setProperty(s.keyValue,null)}else if(s){n.setProperty(s.keyValue,s.value)}}}};return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/ConverterContext",["sap/fe/core/converters/ManifestWrapper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper"],function(e,t,n,i){"use strict";var o=i.getTargetObjectPath;var a=i.getContextRelativeTargetObjectPath;var r=i.enhanceDataModelPath;var s=n.isServiceObject;var l=t.getInvolvedDataModelObjectFromPath;var c=t.convertTypes;const u=function(e){return typeof e==="object"};const d=function(e,t){let n;let i;let o;let a;let r=[];const l=[];e.objectPath.forEach(e=>{var t;if(s(e)){switch(e._type){case"NavigationProperty":r.push(e.name);l.push(e);a=e.targetType;if(o&&o.navigationPropertyBinding.hasOwnProperty(r.join("/"))){i=o.navigationPropertyBinding[r.join("/")];o=i;r=[]}else{i=undefined}break;case"EntitySet":if(n===undefined){n=e}i=e;o=i;a=(t=i)===null||t===void 0?void 0:t.entityType;break;default:break}}});const c={startingEntitySet:n,targetEntityType:a,targetEntitySet:i,navigationProperties:l,contextLocation:undefined,targetObject:e.target,convertedTypes:t};c.contextLocation=c;return c};let p=function(){function t(t,n,i,a,r){this.convertedTypes=t;this.manifestSettings=n;this.diagnostics=i;this.mergeFn=a;this.targetDataModelPath=r;this.manifestWrapper=new e(this.manifestSettings,a);this.baseContextPath=o(this.targetDataModelPath)}var n=t.prototype;n._getEntityTypeFromFullyQualifiedName=function e(t){return this.convertedTypes.entityTypes.find(e=>{if(t.startsWith(e.fullyQualifiedName)){const n=t.replace(e.fullyQualifiedName,"");return n.startsWith("/")||n.startsWith("@")}return false})};n.getAnnotationEntityType=function e(t){if(t){const e=t.fullyQualifiedName;const n=this._getEntityTypeFromFullyQualifiedName(e);if(!n){throw new Error(`Cannot find Entity Type for ${t.fullyQualifiedName}`)}return n}else{return this.targetDataModelPath.targetEntityType}};n.getManifestControlConfiguration=function e(t){if(u(t)){return this.manifestWrapper.getControlConfiguration(t.fullyQualifiedName.replace(this.targetDataModelPath.targetEntityType.fullyQualifiedName,""))}const n=this.manifestWrapper.hasMultipleEntitySets()&&this.baseContextPath!==`/${this.manifestWrapper.getEntitySet()}`?`${this.baseContextPath}/${t}`:t;return this.manifestWrapper.getControlConfiguration(n)};n.getAbsoluteAnnotationPath=function e(t){if(!t){return t}if(t[0]==="/"){return t}return`${this.baseContextPath}/${t}`};n.getEntitySet=function e(){return this.targetDataModelPath.targetEntitySet};n.getContextPath=function e(){return this.baseContextPath};n.getDataModelObjectPath=function e(){return this.targetDataModelPath};n.getEntityContainer=function e(){return this.convertedTypes.entityContainer};n.getEntityType=function e(){return this.targetDataModelPath.targetEntityType};n.getParameterEntityType=function e(){var t,n;const i=this.targetDataModelPath.startingEntitySet.entityType;const o=!!((t=i.annotations)!==null&&t!==void 0&&(n=t.Common)!==null&&n!==void 0&&n.ResultContext);return o&&i};n.getEntityTypeAnnotation=function e(n){if(!n.includes("@")){throw new Error(`Not an annotation path: '${n}'`)}const i=n.startsWith("/");let o;if(i){o=n}else{const e=this.getContextPath().split("@",1)[0];o=e.endsWith("/")?e+n:`${e}/${n}`}const a=this.resolveAbsolutePath(o);const r=l({target:a.target,visitedObjects:a.objectPath},this.convertedTypes,i?undefined:this.targetDataModelPath.contextLocation,true);return{annotation:a.target,converterContext:new t(this.convertedTypes,this.manifestSettings,this.diagnostics,this.mergeFn,r)}};n.getTemplateType=function e(){return this.manifestWrapper.getTemplateType()};n.getConvertedTypes=function e(){return this.convertedTypes};n.getRelativeAnnotationPath=function e(t,n){return t.replace(n.fullyQualifiedName,"")};n.getEntitySetBasedAnnotationPath=function e(t){if(!t){return t}const n=this.targetDataModelPath.targetEntityType.fullyQualifiedName;if(this.targetDataModelPath.targetEntitySet||(this.baseContextPath.startsWith("/")&&this.baseContextPath.match(/\//g)||[]).length>1){let e=t.replace(n,"/");if(e.length>2&&e[0]==="/"&&e[1]==="/"){e=e.substr(1)}return this.baseContextPath+(e.startsWith("/")?e:`/${e}`)}else{return`/${t}`}};n.getManifestWrapper=function e(){return this.manifestWrapper};n.getDiagnostics=function e(){return this.diagnostics};n.resolveAbsolutePath=function e(t){return this.convertedTypes.resolvePath(t)};n.getConverterContextFor=function e(n){const i=this.convertedTypes.resolvePath(n);const o=d(i,this.convertedTypes);return new t(this.convertedTypes,this.manifestSettings,this.diagnostics,this.mergeFn,o)};n.getAnnotationsByTerm=function e(t,n){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[this.getEntityType()];let o=[];i.forEach(e=>{if(e){const i=(e===null||e===void 0?void 0:e.annotations[t])||{};if(i){o=Object.keys(i).filter(e=>i[e].term===n).reduce((e,t)=>{e.push(i[t]);return e},o)}}});return o};n.getRelativeModelPathFunction=function e(){const t=this.targetDataModelPath;return function(e){const n=r(t,e);return a(n,true)}};t.createConverterContextForMacro=function e(n,i,o,a,r){let s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{};const l=i.isA("sap.ui.model.odata.v4.ODataMetaModel")?i:i.getModel();const u=c(l);let d=u.entitySets.find(e=>e.name===n);if(!d){d=u.singletons.find(e=>e.name===n)}if(!r||d!==r.startingEntitySet){r={startingEntitySet:d,navigationProperties:[],targetEntitySet:d,targetEntityType:d.entityType,targetObject:d,convertedTypes:u}}return new t(u,s,o,a,r)};return t}();return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/ManifestSettings",[],function(){"use strict";var e={};let t;(function(e){e["ListReport"]="ListReport";e["ObjectPage"]="ObjectPage";e["AnalyticalListPage"]="AnalyticalListPage"})(t||(t={}));e.TemplateType=t;let n;(function(e){e["DataFieldForAction"]="ForAction";e["DataFieldForIntentBasedNavigation"]="ForNavigation";e["Default"]="Default";e["Primary"]="Primary";e["Secondary"]="Secondary";e["SwitchToActiveObject"]="SwitchToActiveObject";e["SwitchToDraftObject"]="SwitchToDraftObject";e["DraftActions"]="DraftActions";e["CollaborationAvatars"]="CollaborationAvatars";e["DefaultApply"]="DefaultApply";e["Menu"]="Menu";e["ShowFormDetails"]="ShowFormDetails";e["Copy"]="Copy"})(n||(n={}));e.ActionType=n;let i;(function(e){e["Auto"]="Auto";e["None"]="None";e["Multi"]="Multi";e["Single"]="Single"})(i||(i={}));e.SelectionMode=i;let o;(function(e){e["Page"]="Page";e["Control"]="Control";e["None"]="None"})(o||(o={}));e.VariantManagementType=o;let a;(function(e){e["NewPage"]="NewPage";e["Inline"]="Inline";e["CreationRow"]="CreationRow";e["InlineCreationRows"]="InlineCreationRows";e["External"]="External"})(a||(a={}));e.CreationMode=a;let r;(function(e){e["Table"]="Table";e["Chart"]="Chart"})(r||(r={}));e.VisualizationType=r;let s;(function(e){e["High"]="High";e["Medium"]="Medium";e["Low"]="Low";e["None"]="None"})(s||(s={}));e.Importance=s;let l;(function(e){e["End"]="End";e["Begin"]="Begin";e["Center"]="Center"})(l||(l={}));e.HorizontalAlign=l;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/ManifestWrapper",["sap/fe/core/converters/ManifestSettings","sap/ui/Device"],function(e,t){"use strict";var n=t.system;var i=e.VariantManagementType;function o(e,t){const n=e===null||e===void 0?void 0:e[t];if(Array.isArray(n)){n.forEach(e=>o(e,"annotationPath"))}else if(n&&!n.includes("@")){e[t]="@"+n}}let a=function(){function e(e,t){var n;this.oManifestSettings=e;this.mergeFn=t;o(this.oManifestSettings,"defaultTemplateAnnotationPath");(n=this.oManifestSettings.views)===null||n===void 0?void 0:n.paths.forEach(e=>{o(e,"annotationPath");o(e,"primary");o(e,"secondary")});if(this.oManifestSettings.controlConfiguration){for(const e of Object.values(this.oManifestSettings.controlConfiguration)){var i;const t=(i=e.tableSettings)===null||i===void 0?void 0:i.quickVariantSelection;o(t,"paths")}}}var a=e.prototype;a.getTemplateType=function e(){return this.oManifestSettings.converterType};a.isFilterBarHidden=function e(){var t;return!!((t=this.oManifestSettings)!==null&&t!==void 0&&t.hideFilterBar)};a.useHiddenFilterBar=function e(){var t;return!!((t=this.oManifestSettings)!==null&&t!==void 0&&t.useHiddenFilterBar)};a.isDesktop=function e(){return!!this.oManifestSettings.isDesktop};a.isPhone=function e(){return!!this.oManifestSettings.isPhone};a.getFormContainer=function e(t){var n;return(n=this.oManifestSettings.controlConfiguration)===null||n===void 0?void 0:n[t]};a.getHeaderFacets=function e(){var t,n,i,o;return this.mergeFn({},(t=this.oManifestSettings.controlConfiguration)===null||t===void 0?void 0:(n=t["@com.sap.vocabularies.UI.v1.HeaderFacets"])===null||n===void 0?void 0:n.facets,(i=this.oManifestSettings.content)===null||i===void 0?void 0:(o=i.header)===null||o===void 0?void 0:o.facets)};a.getHeaderActions=function e(){var t,n;return((t=this.oManifestSettings.content)===null||t===void 0?void 0:(n=t.header)===null||n===void 0?void 0:n.actions)||{}};a.getFooterActions=function e(){var t,n;return((t=this.oManifestSettings.content)===null||t===void 0?void 0:(n=t.footer)===null||n===void 0?void 0:n.actions)||{}};a.getVariantManagement=function e(){return this.oManifestSettings.variantManagement||i.None};a.getDefaultTemplateAnnotationPath=function e(){return this.oManifestSettings.defaultTemplateAnnotationPath};a.getControlConfiguration=function e(t){var n,i;return((n=this.oManifestSettings)===null||n===void 0?void 0:(i=n.controlConfiguration)===null||i===void 0?void 0:i[t])||{}};a.getNavigationConfiguration=function e(t){var n,i;return((n=this.oManifestSettings)===null||n===void 0?void 0:(i=n.navigation)===null||i===void 0?void 0:i[t])||{}};a.getViewLevel=function e(){var t;return((t=this.oManifestSettings)===null||t===void 0?void 0:t.viewLevel)||-1};a.getContentDensities=function e(){var t;return((t=this.oManifestSettings)===null||t===void 0?void 0:t.contentDensities)||{cozy:false,compact:false}};a.isFclEnabled=function e(){var t;return!!((t=this.oManifestSettings)!==null&&t!==void 0&&t.fclEnabled)};a.isCondensedLayoutCompliant=function e(){var i,o;const a=((i=this.oManifestSettings)===null||i===void 0?void 0:i.contentDensities)||{cozy:false,compact:false};const r=((o=this.oManifestSettings)===null||o===void 0?void 0:o.shellContentDensity)||"compact";let e=true;const s=!n.desktop||t.resize.width<=320;if((a===null||a===void 0?void 0:a.cozy)===true&&(a===null||a===void 0?void 0:a.compact)!==true||r==="cozy"||s){e=false}return e};a.isCompactType=function e(){var t;const n=this.getContentDensities();const i=((t=this.oManifestSettings)===null||t===void 0?void 0:t.shellContentDensity)||"compact";return n.compact!==false||i==="compact"?true:false};a.getSectionLayout=function e(){return this.oManifestSettings.sectionLayout};a.getSections=function e(){var t,n,i,o;return this.mergeFn({},(t=this.oManifestSettings.controlConfiguration)===null||t===void 0?void 0:(n=t["@com.sap.vocabularies.UI.v1.Facets"])===null||n===void 0?void 0:n.sections,(i=this.oManifestSettings.content)===null||i===void 0?void 0:(o=i.body)===null||o===void 0?void 0:o.sections)};a.isHeaderEditable=function e(){return this.getShowObjectPageHeader()&&this.oManifestSettings.editableHeaderContent};a.getShowAnchorBar=function e(){var t,n,i,o;return((t=this.oManifestSettings.content)===null||t===void 0?void 0:(n=t.header)===null||n===void 0?void 0:n.anchorBarVisible)!==undefined?!!((i=this.oManifestSettings.content)!==null&&i!==void 0&&(o=i.header)!==null&&o!==void 0&&o.anchorBarVisible):true};a.useIconTabBar=function e(){return this.getShowAnchorBar()&&this.oManifestSettings.sectionLayout==="Tabs"};a.getShowObjectPageHeader=function e(){var t,n,i,o;return((t=this.oManifestSettings.content)===null||t===void 0?void 0:(n=t.header)===null||n===void 0?void 0:n.visible)!==undefined?!!((i=this.oManifestSettings.content)!==null&&i!==void 0&&(o=i.header)!==null&&o!==void 0&&o.visible):true};a.getEnableLazyLoading=function e(){return this.oManifestSettings.enableLazyLoading??false};a.getViewConfiguration=function e(){return this.oManifestSettings.views};a.getStickyMultiTabHeaderConfiguration=function e(){const t=this.oManifestSettings.stickyMultiTabHeader;return t!==undefined?t:true};a.getKPIConfiguration=function e(){return this.oManifestSettings.keyPerformanceIndicators||{}};a.getFilterConfiguration=function e(){return this.getControlConfiguration("@com.sap.vocabularies.UI.v1.SelectionFields")};a.hasMultipleEntitySets=function e(){const t=this.getViewConfiguration()||{paths:[]};const n=this.oManifestSettings.entitySet;return t.paths.find(e=>{var t;if((t=e)!==null&&t!==void 0&&t.template){return undefined}else if(this.hasMultipleVisualizations(e)){const{primary:t,secondary:i}=e;return t.some(e=>e.entitySet&&e.entitySet!==n)||i.some(e=>e.entitySet&&e.entitySet!==n)}else{e=e;return e.entitySet&&e.entitySet!==n}})!==undefined};a.getContextPath=function e(){var t;return(t=this.oManifestSettings)===null||t===void 0?void 0:t.contextPath};a.hasMultipleVisualizations=function e(t){var n,i;if(!t){const e=this.getViewConfiguration()||{paths:[]};return e.paths.some(e=>{var t,n;return((t=e.primary)===null||t===void 0?void 0:t.length)>0&&((n=e.secondary)===null||n===void 0?void 0:n.length)>0})}return((n=t.primary)===null||n===void 0?void 0:n.length)>0&&((i=t.secondary)===null||i===void 0?void 0:i.length)>0};a.getEntitySet=function e(){return this.oManifestSettings.entitySet};return e}();return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/MetaModelConverter",["sap/fe/core/converters/common/AnnotationConverter","sap/fe/core/helpers/TypeGuards","../helpers/StableIdHelper"],function(e,t,n){"use strict";var i={};var o=n.prepareId;var a=t.isSingleton;var r=t.isServiceObject;var s=t.isNavigationProperty;var l=t.isEntityType;var c=t.isEntitySet;var u=t.isEntityContainer;const d={"Org.OData.Capabilities.V1":"Capabilities","Org.OData.Core.V1":"Core","Org.OData.Measures.V1":"Measures","com.sap.vocabularies.Common.v1":"Common","com.sap.vocabularies.UI.v1":"UI","com.sap.vocabularies.Session.v1":"Session","com.sap.vocabularies.Analytics.v1":"Analytics","com.sap.vocabularies.PersonalData.v1":"PersonalData","com.sap.vocabularies.Communication.v1":"Communication"};const p={Chart:true,MicroChart:true,UShell:true,IntentBasedNavigation:true,AppState:true};i.DefaultEnvironmentCapabilities=p;function f(e,t,n,i,o){let a;const r=`${n}/${t}`;const s=typeof e;if(e===null){a={type:"Null",Null:null}}else if(s==="string"){a={type:"String",String:e}}else if(s==="boolean"){a={type:"Bool",Bool:e}}else if(s==="number"){a={type:"Int",Int:e}}else if(Array.isArray(e)){a={type:"Collection",Collection:e.map((e,t)=>v(e,`${r}/${t}`,i,o))};if(e.length>0){if(e[0].hasOwnProperty("$PropertyPath")){a.Collection.type="PropertyPath"}else if(e[0].hasOwnProperty("$Path")){a.Collection.type="Path"}else if(e[0].hasOwnProperty("$NavigationPropertyPath")){a.Collection.type="NavigationPropertyPath"}else if(e[0].hasOwnProperty("$AnnotationPath")){a.Collection.type="AnnotationPath"}else if(e[0].hasOwnProperty("$Type")){a.Collection.type="Record"}else if(e[0].hasOwnProperty("$If")){a.Collection.type="If"}else if(e[0].hasOwnProperty("$Or")){a.Collection.type="Or"}else if(e[0].hasOwnProperty("$And")){a.Collection.type="And"}else if(e[0].hasOwnProperty("$Eq")){a.Collection.type="Eq"}else if(e[0].hasOwnProperty("$Ne")){a.Collection.type="Ne"}else if(e[0].hasOwnProperty("$Not")){a.Collection.type="Not"}else if(e[0].hasOwnProperty("$Gt")){a.Collection.type="Gt"}else if(e[0].hasOwnProperty("$Ge")){a.Collection.type="Ge"}else if(e[0].hasOwnProperty("$Lt")){a.Collection.type="Lt"}else if(e[0].hasOwnProperty("$Le")){a.Collection.type="Le"}else if(e[0].hasOwnProperty("$Apply")){a.Collection.type="Apply"}else if(typeof e[0]==="object"){a.Collection.type="Record"}else{a.Collection.type="String"}}}else if(e.$Path!==undefined){a={type:"Path",Path:e.$Path}}else if(e.$Decimal!==undefined){a={type:"Decimal",Decimal:parseFloat(e.$Decimal)}}else if(e.$PropertyPath!==undefined){a={type:"PropertyPath",PropertyPath:e.$PropertyPath}}else if(e.$NavigationPropertyPath!==undefined){a={type:"NavigationPropertyPath",NavigationPropertyPath:e.$NavigationPropertyPath}}else if(e.$If!==undefined){a={type:"If",If:e.$If}}else if(e.$And!==undefined){a={type:"And",And:e.$And}}else if(e.$Or!==undefined){a={type:"Or",Or:e.$Or}}else if(e.$Not!==undefined){a={type:"Not",Not:e.$Not}}else if(e.$Eq!==undefined){a={type:"Eq",Eq:e.$Eq}}else if(e.$Ne!==undefined){a={type:"Ne",Ne:e.$Ne}}else if(e.$Gt!==undefined){a={type:"Gt",Gt:e.$Gt}}else if(e.$Ge!==undefined){a={type:"Ge",Ge:e.$Ge}}else if(e.$Lt!==undefined){a={type:"Lt",Lt:e.$Lt}}else if(e.$Le!==undefined){a={type:"Le",Le:e.$Le}}else if(e.$Apply!==undefined){a={type:"Apply",Apply:e.$Apply,Function:e.$Function}}else if(e.$AnnotationPath!==undefined){a={type:"AnnotationPath",AnnotationPath:e.$AnnotationPath}}else if(e.$EnumMember!==undefined){a={type:"EnumMember",EnumMember:`${g(e.$EnumMember.split("/")[0])}/${e.$EnumMember.split("/")[1]}`}}else{a={type:"Record",Record:v(e,n,i,o)}}return{name:t,value:a}}function g(e){let[t,n]=e.split("@");if(!n){n=t;t=""}else{t+="@"}const i=n.lastIndexOf(".");return`${t+d[n.substr(0,i)]}.${n.substr(i+1)}`}function v(e,t,n,i){let o={};const a=typeof e;if(e===null){o={type:"Null",Null:null}}else if(a==="string"){o={type:"String",String:e}}else if(a==="boolean"){o={type:"Bool",Bool:e}}else if(a==="number"){o={type:"Int",Int:e}}else if(e.$AnnotationPath!==undefined){o={type:"AnnotationPath",AnnotationPath:e.$AnnotationPath}}else if(e.$Path!==undefined){o={type:"Path",Path:e.$Path}}else if(e.$Decimal!==undefined){o={type:"Decimal",Decimal:parseFloat(e.$Decimal)}}else if(e.$PropertyPath!==undefined){o={type:"PropertyPath",PropertyPath:e.$PropertyPath}}else if(e.$If!==undefined){o={type:"If",If:e.$If}}else if(e.$And!==undefined){o={type:"And",And:e.$And}}else if(e.$Or!==undefined){o={type:"Or",Or:e.$Or}}else if(e.$Not!==undefined){o={type:"Not",Not:e.$Not}}else if(e.$Eq!==undefined){o={type:"Eq",Eq:e.$Eq}}else if(e.$Ne!==undefined){o={type:"Ne",Ne:e.$Ne}}else if(e.$Gt!==undefined){o={type:"Gt",Gt:e.$Gt}}else if(e.$Ge!==undefined){o={type:"Ge",Ge:e.$Ge}}else if(e.$Lt!==undefined){o={type:"Lt",Lt:e.$Lt}}else if(e.$Le!==undefined){o={type:"Le",Le:e.$Le}}else if(e.$Apply!==undefined){o={type:"Apply",Apply:e.$Apply,Function:e.$Function}}else if(e.$NavigationPropertyPath!==undefined){o={type:"NavigationPropertyPath",NavigationPropertyPath:e.$NavigationPropertyPath}}else if(e.$EnumMember!==undefined){o={type:"EnumMember",EnumMember:`${g(e.$EnumMember.split("/")[0])}/${e.$EnumMember.split("/")[1]}`}}else if(Array.isArray(e)){const a=o;a.collection=e.map((e,o)=>v(e,`${t}/${o}`,n,i));if(e.length>0){if(e[0].hasOwnProperty("$PropertyPath")){a.collection.type="PropertyPath"}else if(e[0].hasOwnProperty("$Path")){a.collection.type="Path"}else if(e[0].hasOwnProperty("$NavigationPropertyPath")){a.collection.type="NavigationPropertyPath"}else if(e[0].hasOwnProperty("$AnnotationPath")){a.collection.type="AnnotationPath"}else if(e[0].hasOwnProperty("$Type")){a.collection.type="Record"}else if(e[0].hasOwnProperty("$If")){a.collection.type="If"}else if(e[0].hasOwnProperty("$And")){a.collection.type="And"}else if(e[0].hasOwnProperty("$Or")){a.collection.type="Or"}else if(e[0].hasOwnProperty("$Eq")){a.collection.type="Eq"}else if(e[0].hasOwnProperty("$Ne")){a.collection.type="Ne"}else if(e[0].hasOwnProperty("$Not")){a.collection.type="Not"}else if(e[0].hasOwnProperty("$Gt")){a.collection.type="Gt"}else if(e[0].hasOwnProperty("$Ge")){a.collection.type="Ge"}else if(e[0].hasOwnProperty("$Lt")){a.collection.type="Lt"}else if(e[0].hasOwnProperty("$Le")){a.collection.type="Le"}else if(e[0].hasOwnProperty("$Apply")){a.collection.type="Apply"}else if(typeof e[0]==="object"){a.collection.type="Record"}else{a.collection.type="String"}}}else{if(e.$Type){const t=e.$Type;o.type=t}const a=[];Object.keys(e).forEach(o=>{if(o!=="$Type"&&o!=="$If"&&o!=="$Apply"&&o!=="$And"&&o!=="$Or"&&o!=="$Ne"&&o!=="$Gt"&&o!=="$Ge"&&o!=="$Lt"&&o!=="$Le"&&o!=="$Not"&&o!=="$Eq"&&!o.startsWith("@")){a.push(f(e[o],o,t,n,i))}else if(o.startsWith("@")){P({[o]:e[o]},t,n,i)}});o.propertyValues=a}return o}function h(e,t){if(!t.hasOwnProperty(e)){t[e]={target:e,annotations:[]}}return t[e]}function m(e){const t=e.ID??e.Target.$AnnotationPath;return t?o(t):t}function y(e){return e.filter(e=>{if(e.Target&&e.Target.$AnnotationPath){return e.Target.$AnnotationPath.indexOf(`@${"com.sap.vocabularies.UI.v1.Chart"}`)===-1}else{return true}})}function b(e){return e.filter(e=>e.$Type!=="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")}function C(e){return e.filter(e=>e.$AnnotationPath!==`@${"com.sap.vocabularies.UI.v1.Chart"}`)}function P(e,t,n,i){if(Object.keys(e).length===0){return}const o=h(t,n);if(!i.MicroChart){delete e[`@${"com.sap.vocabularies.UI.v1.Chart"}`]}for(let a in e){let r=e[a];switch(a){case`@${"com.sap.vocabularies.UI.v1.HeaderFacets"}`:if(!i.MicroChart){r=y(r);e[a]=r}break;case`@${"com.sap.vocabularies.UI.v1.Identification"}`:if(!i.IntentBasedNavigation){r=b(r);e[a]=r}break;case`@${"com.sap.vocabularies.UI.v1.LineItem"}`:if(!i.IntentBasedNavigation){r=b(r);e[a]=r}if(!i.MicroChart){r=y(r);e[a]=r}break;case`@${"com.sap.vocabularies.UI.v1.FieldGroup"}`:if(!i.IntentBasedNavigation){r.Data=b(r.Data);e[a]=r}if(!i.MicroChart){r.Data=y(r.Data);e[a]=r}break;case`@${"com.sap.vocabularies.UI.v1.PresentationVariant"}`:if(!i.Chart&&r.Visualizations){r.Visualizations=C(r.Visualizations);e[a]=r}break;default:break}let s=o;const l=a.split("@");if(l.length>2){s=h(`${t}@${l[1]}`,n);a=l[2]}else{a=l[1]}const c=a.split("#");const u=c[1];a=c[0];const d={term:a,qualifier:u};let p=`${t}@${d.term}`;if(u){p+=`#${u}`}let m=false;const E=typeof r;if(r===null){d.value={type:"Null"}}else if(E==="string"){d.value={type:"String",String:r}}else if(E==="boolean"){d.value={type:"Bool",Bool:r}}else if(E==="number"){d.value={type:"Int",Int:r}}else if(r.$If!==undefined){d.value={type:"If",If:r.$If}}else if(r.$And!==undefined){d.value={type:"And",And:r.$And}}else if(r.$Or!==undefined){d.value={type:"Or",Or:r.$Or}}else if(r.$Not!==undefined){d.value={type:"Not",Not:r.$Not}}else if(r.$Eq!==undefined){d.value={type:"Eq",Eq:r.$Eq}}else if(r.$Ne!==undefined){d.value={type:"Ne",Ne:r.$Ne}}else if(r.$Gt!==undefined){d.value={type:"Gt",Gt:r.$Gt}}else if(r.$Ge!==undefined){d.value={type:"Ge",Ge:r.$Ge}}else if(r.$Lt!==undefined){d.value={type:"Lt",Lt:r.$Lt}}else if(r.$Le!==undefined){d.value={type:"Le",Le:r.$Le}}else if(r.$Apply!==undefined){d.value={type:"Apply",Apply:r.$Apply,Function:r.$Function}}else if(r.$Path!==undefined){d.value={type:"Path",Path:r.$Path}}else if(r.$AnnotationPath!==undefined){d.value={type:"AnnotationPath",AnnotationPath:r.$AnnotationPath}}else if(r.$Decimal!==undefined){d.value={type:"Decimal",Decimal:parseFloat(r.$Decimal)}}else if(r.$EnumMember!==undefined){d.value={type:"EnumMember",EnumMember:`${g(r.$EnumMember.split("/")[0])}/${r.$EnumMember.split("/")[1]}`}}else if(Array.isArray(r)){m=true;d.collection=r.map((e,t)=>v(e,`${p}/${t}`,n,i));if(r.length>0){if(r[0].hasOwnProperty("$PropertyPath")){d.collection.type="PropertyPath"}else if(r[0].hasOwnProperty("$Path")){d.collection.type="Path"}else if(r[0].hasOwnProperty("$NavigationPropertyPath")){d.collection.type="NavigationPropertyPath"}else if(r[0].hasOwnProperty("$AnnotationPath")){d.collection.type="AnnotationPath"}else if(r[0].hasOwnProperty("$Type")){d.collection.type="Record"}else if(r[0].hasOwnProperty("$If")){d.collection.type="If"}else if(r[0].hasOwnProperty("$Or")){d.collection.type="Or"}else if(r[0].hasOwnProperty("$Eq")){d.collection.type="Eq"}else if(r[0].hasOwnProperty("$Ne")){d.collection.type="Ne"}else if(r[0].hasOwnProperty("$Not")){d.collection.type="Not"}else if(r[0].hasOwnProperty("$Gt")){d.collection.type="Gt"}else if(r[0].hasOwnProperty("$Ge")){d.collection.type="Ge"}else if(r[0].hasOwnProperty("$Lt")){d.collection.type="Lt"}else if(r[0].hasOwnProperty("$Le")){d.collection.type="Le"}else if(r[0].hasOwnProperty("$And")){d.collection.type="And"}else if(r[0].hasOwnProperty("$Apply")){d.collection.type="Apply"}else if(typeof r[0]==="object"){d.collection.type="Record"}else{d.collection.type="String"}}}else{const e={propertyValues:[]};if(r.$Type){const t=r.$Type;e.type=`${t}`}const t=[];for(const e in r){if(e!=="$Type"&&!e.startsWith("@")){t.push(f(r[e],e,p,n,i))}else if(e.startsWith("@")){P({[e]:r[e]},p,n,i)}}e.propertyValues=t;d.record=e}d.isCollection=m;s.annotations.push(d)}}function E(e,t,n){return{_type:"Property",name:n,fullyQualifiedName:`${t.fullyQualifiedName}/${n}`,type:e.$Type,maxLength:e.$MaxLength,precision:e.$Precision,scale:e.$Scale,nullable:e.$Nullable}}function T(e,t,n){let i=[];if(e.$ReferentialConstraint){i=Object.keys(e.$ReferentialConstraint).map(n=>({sourceTypeName:t.name,sourceProperty:n,targetTypeName:e.$Type,targetProperty:e.$ReferentialConstraint[n]}))}const o={_type:"NavigationProperty",name:n,fullyQualifiedName:`${t.fullyQualifiedName}/${n}`,partner:e.$Partner,isCollection:e.$isCollection?e.$isCollection:false,containsTarget:e.$ContainsTarget,targetTypeName:e.$Type,referentialConstraint:i};return o}function O(e,t,n){const i={_type:"EntitySet",name:t,navigationPropertyBinding:{},entityTypeName:e.$Type,fullyQualifiedName:`${n}/${t}`};return i}function S(e,t,n){return{_type:"Singleton",name:t,navigationPropertyBinding:{},entityTypeName:e.$Type,fullyQualifiedName:`${n}/${t}`,nullable:true}}function A(e,t,n){return{_type:"ActionImport",name:t,fullyQualifiedName:`${n}/${t}`,actionName:e.$Action}}function I(e,t,n){const i={_type:"TypeDefinition",name:t.substring(n.length),fullyQualifiedName:t,underlyingType:e.$UnderlyingType};return i}function D(e,t,n){const i={_type:"ComplexType",name:t.substring(n.length),fullyQualifiedName:t,properties:[],navigationProperties:[]};const o=Object.keys(e).filter(t=>{if(t!="$Key"&&t!="$kind"){return e[t].$kind==="Property"}}).sort((e,t)=>e>t?1:-1).map(t=>E(e[t],i,t));i.properties=o;const a=Object.keys(e).filter(t=>{if(t!="$Key"&&t!="$kind"){return e[t].$kind==="NavigationProperty"}}).sort((e,t)=>e>t?1:-1).map(t=>T(e[t],i,t));i.navigationProperties=a;return i}function x(e,t){if(!e.$Key&&e.$BaseType){return x(t[e.$BaseType],t)}return e.$Key??[]}function M(e,t,n,i){var o,a;const r={_type:"EntityType",name:t.substring(n.length),fullyQualifiedName:t,keys:[],entityProperties:[],navigationProperties:[],actions:{}};for(const t in e){const n=e[t];switch(n.$kind){case"Property":const e=E(n,r,t);r.entityProperties.push(e);break;case"NavigationProperty":const i=T(n,r,t);r.navigationProperties.push(i);break}}r.keys=x(e,i).map(e=>r.entityProperties.find(t=>t.name===e)).filter(e=>e!==undefined);(o=i.$Annotations[r.fullyQualifiedName])===null||o===void 0?void 0:(a=o[`@${"com.sap.vocabularies.UI.v1.FilterFacets"}`])===null||a===void 0?void 0:a.forEach(e=>{e.ID=m(e)});for(const e of r.entityProperties){if(!i.$Annotations[e.fullyQualifiedName]){i.$Annotations[e.fullyQualifiedName]={}}if(!i.$Annotations[e.fullyQualifiedName][`@${"com.sap.vocabularies.UI.v1.DataFieldDefault"}`]){i.$Annotations[e.fullyQualifiedName][`@${"com.sap.vocabularies.UI.v1.DataFieldDefault"}`]={$Type:"com.sap.vocabularies.UI.v1.DataField",Value:{$Path:e.name}}}}return r}function _(e,t,n){var i;let o="";let a=e;if(t.$IsBound){const n=t.$Parameter[0];o=n.$Type;if(n.$isCollection===true){a=`${e}(Collection(${o}))`}else{a=`${e}(${o})`}}const r=t.$Parameter??[];return{_type:"Action",name:e.substring(n.length),fullyQualifiedName:a,isBound:t.$IsBound??false,isFunction:t.$kind==="Function",sourceType:o,returnType:((i=t.$ReturnType)===null||i===void 0?void 0:i.$Type)??"",parameters:r.map(e=>({_type:"ActionParameter",fullyQualifiedName:`${a}/${e.$Name}`,isCollection:e.$isCollection??false,name:e.$Name,type:e.$Type}))}}function w(e,t,n,i){i.entityContainer={_type:"EntityContainer",name:t.substring(e.length),fullyQualifiedName:t};for(const e in n){const o=n[e];switch(o.$kind){case"EntitySet":i.entitySets.push(O(o,e,t));break;case"Singleton":i.singletons.push(S(o,e,t));break;case"ActionImport":i.actionImports.push(A(o,e,t));break}}for(const e of i.entitySets){const t=n[e.name].$NavigationPropertyBinding;if(t){for(const n of Object.keys(t)){const o=i.entitySets.find(e=>e.name===t[n]);if(o){e.navigationPropertyBinding[n]=o}}}}}function F(e,t){const n={};for(const i in e){P(e[i],i,n,t)}return Object.values(n)}function R(e){const t=Object.keys(e).find(t=>e[t].$kind==="Schema")??"";const n={namespace:t.slice(0,-1),entityContainer:{_type:"EntityContainer",name:"",fullyQualifiedName:""},entitySets:[],entityTypes:[],complexTypes:[],typeDefinitions:[],singletons:[],associations:[],associationSets:[],actions:[],actionImports:[],annotations:{}};const i=(i,o)=>{switch(o.$kind){case"EntityContainer":w(t,i,o,n);break;case"Action":case"Function":n.actions.push(_(i,o,t));break;case"EntityType":n.entityTypes.push(M(o,i,t,e));break;case"ComplexType":n.complexTypes.push(D(o,i,t));break;case"TypeDefinition":n.typeDefinitions.push(I(o,i,t));break}};for(const t in e){const n=e[t];if(Array.isArray(n)){for(const e of n){i(t,e)}}else{i(t,n)}}return n}function N(t){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:p;const i={identification:"metamodelResult",version:"4.0",references:[]};e.lazy(i,"schema",()=>{const i=t.getObject("/$");const o=R(i);e.lazy(o.annotations,"metamodelResult",()=>F(i.$Annotations,n));return o});return i}i.parseMetaModel=N;const $={};function V(t,n){const i=t.id;if(!$.hasOwnProperty(i)){const o=N(t,n);try{$[i]=e.convert(o)}catch(e){throw new Error(e)}}return $[i]}i.convertTypes=V;function L(e){const t=e.getModel();if(!t.isA("sap.ui.model.odata.v4.ODataMetaModel")){throw new Error("This should only be called on a ODataMetaModel")}return V(t)}i.getConvertedTypes=L;function B(e){delete $[e.id]}i.deleteModelCacheData=B;function j(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const n=V(e.getModel());const i=e.getPath();const o=i.split("/");let a=o[1];let r=2;if(n.entityContainer.fullyQualifiedName===a){a=o[2];r++}let s=n.entitySets.find(e=>e.name===a);if(!s){s=n.singletons.find(e=>e.name===a)}let l=o.slice(r).join("/");const c=[s];while(l&&l.length>0&&l.startsWith("$NavigationPropertyBinding")){var u;let e=l.split("/");let t=0;let n,i;e=e.slice(1);while(!n&&e.length>t){if(e[t]!=="$NavigationPropertyBinding"){i=e.slice(0,t+1).join("/").replace("/$NavigationPropertyBinding","");n=s&&s.navigationPropertyBinding[i]}t++}if(!n){i=e[0]}const o=((u=i)===null||u===void 0?void 0:u.split("/"))||[];let a=s&&s.entityType;for(const e of o){const t=a&&a.navigationProperties.find(t=>t.name===e);if(t){c.push(t);a=t.targetType}else{break}}s=s&&n||s&&s.navigationPropertyBinding[e[0]];if(s){c.push(s)}e=e.slice(o.length||1);if(e.length&&e[0]==="$"){e.shift()}l=e.join("/")}if(l.startsWith("$Type")){if(l.startsWith("$Type@")){l=l.replace("$Type","")}else{l=o.slice(3).join("/")}}if(s&&l.length){const e=s.entityType.resolvePath(l,t);if(e){if(t){e.visitedObjects=c.concat(e.visitedObjects)}}else if(s.entityType&&s.entityType.actions){const e=s.entityType&&s.entityType.actions;const t=l.split("/");if(e[t[0]]){const n=e[t[0]];if(t[1]&&n.parameters){const e=t[1];return n.parameters.find(t=>t.fullyQualifiedName.endsWith(`/${e}`))}else if(l.length===1){return n}}}return e}else{if(t){return{target:s,visitedObjects:c}}return s}}i.convertMetaModelContext=j;function k(e,t){const n=V(e.getModel());const i=j(e,true);let o;if(t&&t.getPath()!=="/"){o=k(t)}return U(i,n,o)}i.getInvolvedDataModelObjects=k;function U(e,t,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const o=e.visitedObjects.filter(e=>r(e)&&!l(e)&&!u(e));if(r(e.target)&&!l(e.target)&&o[o.length-1]!==e.target&&!i){o.push(e.target)}const d=[];const p=o[0];let f=p;let g=p.entityType;let v;let h=[];for(let e=1;e<o.length;e++){v=o[e];if(s(v)){var m;h.push(v.name);d.push(v);g=v.targetType;const e=(m=f)===null||m===void 0?void 0:m.navigationPropertyBinding[h.join("/")];if(e!==undefined){f=e;h=[]}}if(c(v)||a(v)){f=v;g=f.entityType}}if(h.length>0){f=undefined}if(n&&n.startingEntitySet!==p){const e=o.indexOf(n.startingEntitySet);if(e!==-1){const t=o.slice(0,e);n.startingEntitySet=p;n.navigationProperties=t.filter(s).concat(n.navigationProperties)}}const y={startingEntitySet:p,targetEntitySet:f,targetEntityType:g,targetObject:e.target,navigationProperties:d,contextLocation:n,convertedTypes:t};if(!r(y.targetObject)&&i){y.targetObject=r(v)?v:undefined}if(!y.contextLocation){y.contextLocation=y}return y}i.getInvolvedDataModelObjectFromPath=U;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/TemplateConverter",["sap/base/util/merge","sap/fe/core/converters/helpers/IssueManager","./ConverterContext","./ManifestSettings","./MetaModelConverter","./templates/ListReportConverter","./templates/ObjectPageConverter"],function(e,t,n,i,o,a,r){"use strict";var s={};var l=o.getInvolvedDataModelObjects;var c=o.convertTypes;var u=i.TemplateType;var d=t.IssueSeverity;var p=t.IssueCategoryType;var f=t.IssueCategory;function g(e,t,n,i){e.forEach(e=>{let o=`For entity set ${n}`;if((e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.UI.v1.CollectionFacet"&&!(e!==null&&e!==void 0&&e.ID)){var a;o=`${o}, `+`level ${i}, the collection facet does not have an ID.`;t.addIssue(f.Facets,d.High,o,p,p===null||p===void 0?void 0:(a=p.Facets)===null||a===void 0?void 0:a.MissingID)}if((e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.UI.v1.CollectionFacet"&&i>=3){var r;o=`${o}, collection facet ${e.Label} is not supported at `+`level ${i}`;t.addIssue(f.Facets,d.Medium,o,p,p===null||p===void 0?void 0:(r=p.Facets)===null||r===void 0?void 0:r.UnSupportedLevel)}if(e!==null&&e!==void 0&&e.Facets){g(e===null||e===void 0?void 0:e.Facets,t,n,++i);i=i-1}})}function v(t,i,o,s,p,v,h){var m;const y=c(i,v);y.diagnostics.forEach(e=>{const t=s.checkIfIssueExists(f.Annotation,d.High,e.message);if(!t){s.addIssue(f.Annotation,d.High,e.message)}});y===null||y===void 0?void 0:(m=y.entityTypes)===null||m===void 0?void 0:m.forEach(e=>{var t,n;if(e!==null&&e!==void 0&&(t=e.annotations)!==null&&t!==void 0&&(n=t.UI)!==null&&n!==void 0&&n.Facets){var i,o;g(e===null||e===void 0?void 0:(i=e.annotations)===null||i===void 0?void 0:(o=i.UI)===null||o===void 0?void 0:o.Facets,s,e===null||e===void 0?void 0:e.name,1)}});const b=o.entitySet;const C=(o===null||o===void 0?void 0:o.contextPath)||(p==="/"?p+b:p);const P=i.createBindingContext(C);const E=l(P);if(E){let i={};const l=new n(y,o,s,e,E);switch(t){case u.ListReport:case u.AnalyticalListPage:i=a.convertPage(l);break;case u.ObjectPage:i=r.convertPage(l);break}if(h!==null&&h!==void 0&&h.extendPageDefinition){i=h.extendPageDefinition(i,l)}return i}return undefined}s.convertPage=v;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/annotations/DataField",["sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/PropertyHelper","../helpers/DataFieldHelper"],function(e,t,n,i){"use strict";var o={};var a=i.isReferencePropertyStaticallyHidden;var r=n.getAssociatedUnitProperty;var s=n.getAssociatedTimezoneProperty;var l=n.getAssociatedCurrencyProperty;var c=t.getDisplayMode;var u=e.isProperty;var d=e.isPathAnnotationExpression;function p(e){return e.hasOwnProperty("Action")}o.isDataFieldForActionAbstract=p;function f(e){return e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"}o.isDataFieldForAnnotation=f;function g(e){return e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"}o.isDataFieldForAction=g;function v(e){return e.hasOwnProperty("Value")}o.isDataFieldTypes=v;function h(e){const t=e.targetObject;return m(g(t)?t:undefined)}o.isDataModelObjectPathForActionWithDialog=h;function m(e){const t=e===null||e===void 0?void 0:e.ActionTarget;if(t){var n,i;const e=(n=t.annotations)===null||n===void 0?void 0:(i=n.Common)===null||i===void 0?void 0:i.IsActionCritical;if(t.parameters.length>1||e){return"Dialog"}else{return"None"}}else{return"None"}}o.isActionWithDialog=m;function y(e){let t;if(u(e)){var n,i,o,a,r,s,l,c,p,f;t=((n=e.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:(o=i.DataFieldDefault)===null||o===void 0?void 0:(a=o.Target)===null||a===void 0?void 0:(r=a.$target)===null||r===void 0?void 0:r.TargetValue)??((s=e.annotations)===null||s===void 0?void 0:(l=s.UI)===null||l===void 0?void 0:(c=l.DataFieldDefault)===null||c===void 0?void 0:(p=c.Target)===null||p===void 0?void 0:(f=p.$target)===null||f===void 0?void 0:f.MaximumValue)}else{t=e.TargetValue??e.MaximumValue}if(typeof t==="number"){return t.toString()}return d(t)?t:"100"}o.getTargetValueOnDataPoint=y;const b=function(e){var t,n,i,o,a;return((t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:(i=n.DataFieldDefault)===null||i===void 0?void 0:(o=i.Target)===null||o===void 0?void 0:(a=o.$target)===null||a===void 0?void 0:a.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"};o.isDataPointFromDataFieldDefault=b;function C(e,t){if(typeof t==="object"){var n;if(v(t)&&(n=t.Value)!==null&&n!==void 0&&n.$target){var i,o,a;const n=(i=t.Value)===null||i===void 0?void 0:i.$target;if((n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(a=o.Common)===null||a===void 0?void 0:a.SemanticObject)!==undefined){return e.getEntitySetBasedAnnotationPath(n===null||n===void 0?void 0:n.fullyQualifiedName)}}else if(u(t)){var r,s;if((t===null||t===void 0?void 0:(r=t.annotations)===null||r===void 0?void 0:(s=r.Common)===null||s===void 0?void 0:s.SemanticObject)!==undefined){return e.getEntitySetBasedAnnotationPath(t===null||t===void 0?void 0:t.fullyQualifiedName)}}}return undefined}o.getSemanticObjectPath=C;function P(e){return e.indexOf("/")>-1?e.substring(0,e.lastIndexOf("/")+1):""}function E(e,t,n,i){if(n==="AnalyticalTable"){var o,a;const n=(o=e.annotations)===null||o===void 0?void 0:(a=o.UI)===null||a===void 0?void 0:a.Hidden;if(n!==null&&n!==void 0&&n.path&&u(n.$target)){const e=t+n.path;i.additionalProperties[e]=n.$target}const r=e.Criticality;if(r!==null&&r!==void 0&&r.path&&u(r===null||r===void 0?void 0:r.$target)){const e=t+r.path;i.additionalProperties[e]=r===null||r===void 0?void 0:r.$target}}return i}function T(e,t,n,i,o){let a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{properties:{},additionalProperties:{},textOnlyPropertiesFromTextAnnotation:[]};let d=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;let p=arguments.length>7&&arguments[7]!==undefined?arguments[7]:false;function f(e,t){if(!a.properties.hasOwnProperty(e)){a.properties[e]=t}return Object.keys(a.properties).indexOf(e)}function g(e){a.exportSettingsTemplate=a.exportSettingsTemplate?`${a.exportSettingsTemplate}${e}`:`${e}`}if(e&&t){var v,h;let U;let H;let G;let z;let W;if(p){U=f(e,t);g(`{${U}}`);return a}const q=P(e);const K=(v=t.annotations)===null||v===void 0?void 0:(h=v.Common)===null||h===void 0?void 0:h.Text;if(a.exportSettingsTemplate){g("\n");a.exportSettingsWrapping=true}if(K!==null&&K!==void 0&&K.path&&K!==null&&K!==void 0&&K.$target){const i=n.getDataModelObjectPath();const o=q+K.path;const r=c(t,i);let s;switch(r){case"Value":U=f(e,t);g(`{${U}}`);break;case"Description":s=f(o,K.$target);g(`{${s}}`);a.textOnlyPropertiesFromTextAnnotation.push(o);break;case"ValueDescription":U=f(e,t);s=f(o,K.$target);g(`{${U}} ({${s}})`);break;case"DescriptionValue":U=f(e,t);s=f(o,K.$target);g(`{${s}} ({${U}})`);break}}else{var m,b,C,T,O,S,A,I,D,x,M,_,w,F,R;const n=l(t)||r(t);const o=(t===null||t===void 0?void 0:(m=t.annotations)===null||m===void 0?void 0:(b=m.Measures)===null||b===void 0?void 0:b.ISOCurrency)||(t===null||t===void 0?void 0:(C=t.annotations)===null||C===void 0?void 0:(T=C.Measures)===null||T===void 0?void 0:T.Unit);const c=s(t);const p=t===null||t===void 0?void 0:(O=t.annotations)===null||O===void 0?void 0:(S=O.Common)===null||S===void 0?void 0:S.Timezone;if(n&&o!==null&&o!==void 0&&o.$target){U=f(e,t);G=f(q+o.path,o.$target);if(d){g(`{${U}}  {${G}}`)}else{a.exportUnitName=q+o.path}}else if(c&&p!==null&&p!==void 0&&p.$target){U=f(e,t);z=f(q+p.path,p.$target);if(d){g(`{${U}}  {${z}}`)}else{a.exportTimezoneName=q+p.path}}else if(((A=t.Target)===null||A===void 0?void 0:(I=A.$target)===null||I===void 0?void 0:I.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"&&!((D=t.Target)!==null&&D!==void 0&&(x=D.$target)!==null&&x!==void 0&&x.ValueFormat)||((M=t.annotations)===null||M===void 0?void 0:(_=M.UI)===null||_===void 0?void 0:(w=_.DataFieldDefault)===null||w===void 0?void 0:(F=w.Target)===null||F===void 0?void 0:(R=F.$target)===null||R===void 0?void 0:R.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"){var N,$,V,L,B;const n=(N=t.Target)===null||N===void 0?void 0:($=N.$target)===null||$===void 0?void 0:$.Value.$target;const i=(V=t.Target)===null||V===void 0?void 0:V.$target;const o=(L=t.annotations)===null||L===void 0?void 0:(B=L.UI)===null||B===void 0?void 0:B.DataFieldDefault;U=f(q?q+e:e,o?t:n);H=y(o?t:i);if(u(H.$target)){H=H;W=f(q?q+H.$target.name:H.$target.name,H.$target);g(`{${U}}/{${W}}`)}else{a.exportDataPointTargetValue=H;g(`{${U}}/${H}`)}}else if(t.$Type==="com.sap.vocabularies.Communication.v1.ContactType"){var j,k;const e=(j=t.fn)===null||j===void 0?void 0:j.$target;const n=(k=t.fn)===null||k===void 0?void 0:k.path;U=f(q?q+n:n,e);g(`{${U}}`)}else if(!i){U=f(e,t);g(`{${U}}`);if(o){a.exportUnitString=`${o}`}else if(p){a.exportTimezoneString=`${p}`}}}a=E(t,q,o,a);if(Object.keys(a.additionalProperties).length>0&&Object.keys(a.properties).length===0){U=f(e,t);g(`{${U}}`)}}return a}o.collectRelatedProperties=T;function O(e,t,n){var i,o,r;let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{properties:{},additionalProperties:{},textOnlyPropertiesFromTextAnnotation:[]};let l=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;let c=false;switch(e===null||e===void 0?void 0:e.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":if(e.Value){var u,d,p;const i=e.Value;c=a((u=i.$target)===null||u===void 0?void 0:(d=u.annotations)===null||d===void 0?void 0:(p=d.UI)===null||p===void 0?void 0:p.DataFieldDefault)||a(e)||false;s=T(i.path,i.$target,t,false,n,s,l,c);const o=P(i.path);s=E(e,o,n,s)}break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":switch((i=e.Target)===null||i===void 0?void 0:(o=i.$target)===null||o===void 0?void 0:o.$Type){case"com.sap.vocabularies.UI.v1.FieldGroupType":(r=e.Target.$target.Data)===null||r===void 0?void 0:r.forEach(e=>{s=O(e,t,n,s,true)});break;case"com.sap.vocabularies.UI.v1.DataPointType":c=a(e)??false;s=T(e.Target.$target.Value.path,e,t,false,n,s,l,c);break;case"com.sap.vocabularies.Communication.v1.ContactType":const i=e.Target.$target;c=a(e)??false;s=T(e.Target.value,i,t,c,n,s,l,c);break;default:break}break;default:break}return s}o.collectRelatedPropertiesRecursively=O;const S=function(e){var t,n,i,o;if(u(e)){return e.type}let a;switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForActionGroup":case"com.sap.vocabularies.UI.v1.DataFieldWithActionGroup":case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":a=undefined;break;case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":a=e===null||e===void 0?void 0:(t=e.Value)===null||t===void 0?void 0:(n=t.$target)===null||n===void 0?void 0:n.type;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":default:const u=(i=e.Target)===null||i===void 0?void 0:(o=i.$target)===null||o===void 0?void 0:o.$Type;if(u){var r;const t=(r=e.Target)===null||r===void 0?void 0:r.$target;if(t.$Type==="com.sap.vocabularies.Communication.v1.ContactType"){var s,l;a=d(t===null||t===void 0?void 0:t.fn)&&(t===null||t===void 0?void 0:(s=t.fn)===null||s===void 0?void 0:(l=s.$target)===null||l===void 0?void 0:l.type)||undefined}else if(t.$Type==="com.sap.vocabularies.UI.v1.DataPointType"){var c,p,f;a=(t===null||t===void 0?void 0:(c=t.Value)===null||c===void 0?void 0:(p=c.$Path)===null||p===void 0?void 0:p.$Type)||(t===null||t===void 0?void 0:(f=t.Value)===null||f===void 0?void 0:f.$target.type)}else{var g;a=((g=e.Target)===null||g===void 0?void 0:g.$target.$Type)==="com.sap.vocabularies.UI.v1.ChartDefinitionType"?undefined:"Edm.Boolean"}}else{a=undefined}break}return a};o.getDataFieldDataType=S;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/common/AnnotationConverter",[],function(){var e;(function(){"use strict";var t={232:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t.convert=void 0;const i=n(534);const o=Symbol("Annotation Target");function a(e,t){if(e[e.length-1]!==t){e.push(t)}return e}function r(e,t,n,s){var l,u,d,p;if(n.startsWith("/")){n=n.substring(1);t=undefined}const f=n.split("/").reduce((e,t)=>{if(t.includes("@")){const[n,o]=(0,i.splitAtFirst)(t,"@");e.push(n);e.push(`@${o}`)}else{e.push(t)}return e},[]);if(t===undefined){if(f[0].startsWith(e.rawSchema.namespace)&&f[0]!==((l=e.getConvertedEntityContainer())===null||l===void 0?void 0:l.fullyQualifiedName)){t=(d=(u=e.getConvertedEntityType(f[0]))!==null&&u!==void 0?u:e.getConvertedComplexType(f[0]))!==null&&d!==void 0?d:e.getConvertedAction(f[0]);f.shift()}else{t=e.getConvertedEntityContainer()}}else if(t[o]!==undefined){t=t[o]}else if(t._type==="Property"){const n=(0,i.substringBeforeFirst)(t.fullyQualifiedName,"/");t=(p=e.getConvertedEntityType(n))!==null&&p!==void 0?p:e.getConvertedComplexType(n)}const g=f.reduce((t,n)=>{var i,s,l,c,u;const d=e=>{t.messages.push({message:e});t.target=undefined;return t};if(t.target===undefined){return t}t.objectPath=a(t.objectPath,t.target);if(n.startsWith("@")&&n!=="@$ui5.overload"){const[o,a]=e.splitTerm(n);const r=(i=t.target.annotations[o.substring(1)])===null||i===void 0?void 0:i[a];if(r!==undefined){t.target=r;return t}return d(`Annotation '${n.substring(1)}' not found on ${t.target._type} '${t.target.fullyQualifiedName}'`)}if(t.target.$target){let i;if(n==="$AnnotationPath"){i=t.target.value}else if(n==="$Path"){i=t.target.path}if(i!==undefined){const n=r(e,t.target[o],i);n.objectPath.forEach(e=>{if(!t.objectPath.includes(e)){t.objectPath=a(t.objectPath,e)}});t.target=n.target;t.objectPath=a(t.objectPath,t.target);return t}}switch((s=t.target)===null||s===void 0?void 0:s._type){case"Schema":break;case"EntityContainer":{const e=t.target;if(n===""||n===e.fullyQualifiedName){return t}const i=(c=(l=e.entitySets.by_name(n))!==null&&l!==void 0?l:e.singletons.by_name(n))!==null&&c!==void 0?c:e.actionImports.by_name(n);if(i){t.target=i;return t}}break;case"EntitySet":case"Singleton":{const i=t.target;if(n===""||n==="$Type"){t.target=i.entityType;return t}if(n==="$"){return t}if(n==="$NavigationPropertyBinding"){const e=i.navigationPropertyBinding;t.target=e;return t}const o=r(e,i.entityType,n);t.target=o.target;t.objectPath=o.objectPath.reduce(a,t.objectPath);return t}case"EntityType":{const e=t.target;if(n===""||n==="$Type"){return t}const i=e.entityProperties.by_name(n);if(i){t.target=i;return t}const o=e.navigationProperties.by_name(n);if(o){t.target=o;return t}const a=e.actions[n];if(a){t.target=a;return t}}break;case"ActionImport":{const i=r(e,t.target.action,n);t.target=i.target;t.objectPath=i.objectPath.reduce(a,t.objectPath);return t}case"Action":{const e=t.target;if(n===""){return t}if(n==="@$ui5.overload"||n==="0"){return t}if(n==="$Parameter"&&e.isBound){t.target=e.parameters;return t}const i=(u=e.parameters[n])!==null&&u!==void 0?u:e.parameters.find(e=>e.name===n);if(i){t.target=i;return t}break}case"Property":{const e=t.target;const i=e.targetType;if(i!==undefined){const e=i.properties.by_name(n);if(e){t.target=e;return t}const o=i.navigationProperties.by_name(n);if(o){t.target=o;return t}}}break;case"ActionParameter":const i=t.target.typeReference;if(i!==undefined){const o=r(e,i,n);t.target=o.target;t.objectPath=o.objectPath.reduce(a,t.objectPath);return t}break;case"NavigationProperty":const o=r(e,t.target.targetType,n);t.target=o.target;t.objectPath=o.objectPath.reduce(a,t.objectPath);return t;default:if(n===""){return t}if(t.target[n]){t.target=t.target[n];t.objectPath=a(t.objectPath,t.target);return t}}return d(`Element '${n}' not found at ${t.target._type} '${t.target.fullyQualifiedName}'`)},{target:t,objectPath:[],messages:[]});g.messages.forEach(t=>e.logError(t.message));if(!g.target){if(s){const i=c(e,s,t.fullyQualifiedName);e.logError("Unable to resolve the path expression: "+"\n"+n+"\n"+"\n"+"Hint: Check and correct the path values under the following structure in the metadata (annotation.xml file or CDS annotations for the application): \n\n"+"<Annotation Term = "+s+">"+"\n"+"<Record Type = "+i+">"+"\n"+"<AnnotationPath = "+n+">")}else{e.logError("Unable to resolve the path expression: "+n+"\n"+"\n"+"Hint: Check and correct the path values under the following structure in the metadata (annotation.xml file or CDS annotations for the application): \n\n"+"<Annotation Term = "+f[0]+">"+"\n"+"<PropertyValue  Path= "+f[1]+">")}}return g}function s(e){return e.includes("@")}function l(e,t,n,a,l,c,u){if(c===undefined){return undefined}switch(c.type){case"String":return c.String;case"Int":return c.Int;case"Bool":return c.Bool;case"Decimal":return(0,i.Decimal)(c.Decimal);case"Date":return c.Date;case"EnumMember":const d=e.alias(c.EnumMember);const f=d.split(" ");if(f[0]&&i.EnumIsFlag[(0,i.substringBeforeFirst)(f[0],"/")]){return f}return d;case"PropertyPath":return{type:"PropertyPath",value:c.PropertyPath,fullyQualifiedName:u,$target:r(e,t,c.PropertyPath,n).target,[o]:t};case"NavigationPropertyPath":return{type:"NavigationPropertyPath",value:c.NavigationPropertyPath,fullyQualifiedName:u,$target:r(e,t,c.NavigationPropertyPath,n).target,[o]:t};case"AnnotationPath":return{type:"AnnotationPath",value:c.AnnotationPath,fullyQualifiedName:u,$target:r(e,t,e.unalias(c.AnnotationPath),n).target,annotationsTerm:n,term:"",path:"",[o]:t};case"Path":const v=r(e,t,c.Path,n).target;if(s(c.Path)){return v}else{return{type:"Path",path:c.Path,fullyQualifiedName:u,$target:v,[o]:t}}case"Record":return p(e,n,t,a,l,c.Record,u);case"Collection":return g(e,t,n,a,l,c.Collection,u);case"Apply":case"Null":case"Not":case"Eq":case"Ne":case"Gt":case"Ge":case"Lt":case"Le":case"If":case"And":case"Or":default:return c}}function c(e,t,n,o){let a=i.TermToTypes[t];if(o){t=`${(0,i.substringBeforeLast)(t,".")}.${o}`;a=i.TermToTypes[t]}e.logError(`The type of the record used within the term ${t} was not defined and was inferred as ${a}.\nHint: If possible, try to maintain the Type property for each Record.\n<Annotations Target="${n}">\n\t<Annotation Term="${t}">\n\t\t<Record>...</Record>\n\t</Annotation>\n</Annotations>`);return a}function u(e){return e.hasOwnProperty("Action")&&(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction")}function d(e,t,n,i,o){let a;if(!o.type&&t){a=c(e,t,n.fullyQualifiedName,i)}else{a=e.unalias(o.type)}return a}function p(e,t,n,a,r,s,c){var p;const f={$Type:d(e,t,n,a,s),fullyQualifiedName:c,[o]:n};(0,i.lazy)(f,"annotations",()=>{var t;let i;if(s.annotations&&s.annotations.length>0){i=s.annotations}else{i=(t=e.rawAnnotationsPerTarget[c])===null||t===void 0?void 0:t.annotations}i===null||i===void 0?void 0:i.forEach(e=>{e.target=c;e.__source=r;e[o]=n;e.fullyQualifiedName=`${c}@${e.term}`});return O(e,f,i!==null&&i!==void 0?i:[])});const g=(p=s.propertyValues)===null||p===void 0?void 0:p.reduce((o,a)=>{(0,i.lazy)(o,a.name,()=>l(e,n,t,a.name,r,a.value,`${c}/${a.name}`));return o},f);if(u(g)){(0,i.lazy)(g,"ActionTarget",()=>{var t,i;let o=(t=n.actions)===null||t===void 0?void 0:t[g.Action];if(!o){o=(i=e.getConvertedActionImport(g.Action))===null||i===void 0?void 0:i.action}if(!o){o=e.getConvertedAction(g.Action);if(!(o===null||o===void 0?void 0:o.isBound)){o=undefined}}if(!o){e.logError(`Unable to resolve the action '${g.Action}' defined for '${f.fullyQualifiedName}'`)}return o})}return g}function f(e){let t=e.type;if(t===undefined&&e.length>0){const n=e[0];if(n.hasOwnProperty("PropertyPath")){t="PropertyPath"}else if(n.hasOwnProperty("Path")){t="Path"}else if(n.hasOwnProperty("AnnotationPath")){t="AnnotationPath"}else if(n.hasOwnProperty("NavigationPropertyPath")){t="NavigationPropertyPath"}else if(typeof n==="object"&&(n.hasOwnProperty("type")||n.hasOwnProperty("propertyValues"))){t="Record"}else if(typeof n==="string"){t="String"}}else if(t===undefined){t="EmptyCollection"}return t}function g(e,t,n,o,a,s,l){const c=f(s);switch(c){case"PropertyPath":return s.map((o,a)=>{const s={type:"PropertyPath",value:o.PropertyPath,fullyQualifiedName:`${l}/${a}`};(0,i.lazy)(s,"$target",()=>{var i;return(i=r(e,t,o.PropertyPath,n).target)!==null&&i!==void 0?i:{}});return s});case"Path":return s.map(i=>r(e,t,i.Path,n).target);case"AnnotationPath":return s.map((o,a)=>{const s={type:"AnnotationPath",value:o.AnnotationPath,fullyQualifiedName:`${l}/${a}`,annotationsTerm:n,term:"",path:""};(0,i.lazy)(s,"$target",()=>r(e,t,o.AnnotationPath,n).target);return s});case"NavigationPropertyPath":return s.map((o,a)=>{var s;const c=(s=o.NavigationPropertyPath)!==null&&s!==void 0?s:"";const u={type:"NavigationPropertyPath",value:c,fullyQualifiedName:`${l}/${a}`};if(c===""){u.$target=undefined}else{(0,i.lazy)(u,"$target",()=>r(e,t,c,n).target)}return u});case"Record":return s.map((i,r)=>p(e,n,t,o,a,i,`${l}/${r}`));case"Apply":case"Null":case"If":case"Eq":case"Ne":case"Lt":case"Gt":case"Le":case"Ge":case"Not":case"And":case"Or":return s.map(e=>e);case"String":return s.map(e=>{if(typeof e==="string"||e===undefined){return e}else{return e.String}});default:if(s.length===0){return[]}throw new Error("Unsupported case")}}function v(e){return!!e.targetTypeName}function h(e,t){return(0,i.splitAtLast)((0,i.alias)(e,t),".")}function m(e,t,n){var a;let r;if(n.record){r=p(e,n.term,t,"",n.__source,n.record,n.fullyQualifiedName)}else if(n.collection===undefined){r=l(e,t,n.term,"",n.__source,(a=n.value)!==null&&a!==void 0?a:{type:"Bool",Bool:true},n.fullyQualifiedName)}else if(n.collection){r=g(e,t,n.term,"",n.__source,n.collection,n.fullyQualifiedName)}else{throw new Error("Unsupported case")}switch(typeof r){case"string":r=new String(r);break;case"boolean":r=new Boolean(r);break;case"number":r=new Number(r);break;default:break}r.fullyQualifiedName=n.fullyQualifiedName;r[o]=t;const[s,c]=e.splitTerm(n.term);r.term=e.unalias(`${s}.${c}`);r.qualifier=n.qualifier;r.__source=n.__source;try{(0,i.lazy)(r,"annotations",()=>{var i;const a=r.fullyQualifiedName;let s;if(n.annotations&&n.annotations.length>0){s=n.annotations}else{s=(i=e.rawAnnotationsPerTarget[a])===null||i===void 0?void 0:i.annotations}s===null||s===void 0?void 0:s.forEach(e=>{e.target=a;e.__source=r.__source;e[o]=t;e.fullyQualifiedName=`${a}@${e.term}`});return O(e,r,s!==null&&s!==void 0?s:[])})}catch(e){}return r}function y(e,t,n){const o=`${e}@${(0,i.unalias)(t,n.term)}`;if(n.qualifier){return`${o}#${n.qualifier}`}else{return o}}function b(e){const t={};Object.keys(e.schema.annotations).forEach(n=>{e.schema.annotations[n].forEach(o=>{const a=(0,i.unalias)(e.references,o.target);o.__source=n;if(!t[a]){t[a]={annotations:o.annotations.map(t=>{t.fullyQualifiedName=y(a,e.references,t);t.__source=n;return t}),target:a};t[a].__source=n}else{o.annotations.forEach(i=>{const o=t[a].annotations.findIndex(e=>e.term===i.term&&e.qualifier===i.qualifier);i.__source=n;i.fullyQualifiedName=y(a,e.references,i);if(o!==-1){t[a].annotations.splice(o,1,i)}else{t[a].annotations.push(i)}})}})});return t}class C{get rawAnnotationsPerTarget(){if(this._rawAnnotationsPerTarget===undefined){this._rawAnnotationsPerTarget=b(this.rawMetadata)}return this._rawAnnotationsPerTarget}getConvertedEntityContainer(){return this.getConvertedElement(this.rawMetadata.schema.entityContainer.fullyQualifiedName,this.rawMetadata.schema.entityContainer,S)}getConvertedEntitySet(e){return this.convertedOutput.entitySets.by_fullyQualifiedName(e)}getConvertedSingleton(e){return this.convertedOutput.singletons.by_fullyQualifiedName(e)}getConvertedEntityType(e){return this.convertedOutput.entityTypes.by_fullyQualifiedName(e)}getConvertedComplexType(e){return this.convertedOutput.complexTypes.by_fullyQualifiedName(e)}getConvertedTypeDefinition(e){return this.convertedOutput.typeDefinitions.by_fullyQualifiedName(e)}getConvertedActionImport(e){let t=this.convertedOutput.actionImports.by_fullyQualifiedName(e);if(!t){t=this.convertedOutput.actionImports.by_name(e)}return t}getConvertedAction(e){return this.convertedOutput.actions.by_fullyQualifiedName(e)}convert(e,t){if(Array.isArray(e)){return()=>{const n=e.reduce((e,n)=>{const i=this.getConvertedElement(n.fullyQualifiedName,n,t);if(i){e.push(i)}return e},[]);(0,i.addGetByValue)(n,"name");(0,i.addGetByValue)(n,"fullyQualifiedName");return n}}else{return()=>this.getConvertedElement(e.fullyQualifiedName,e,t)}}constructor(e,t){this.convertedElements=new Map;this.rawMetadata=e;this.rawSchema=e.schema;this.convertedOutput=t}getConvertedElement(e,t,n){let i=this.convertedElements.get(e);if(i===undefined){const o=typeof t==="function"?t.apply(undefined,[e]):t;if(o!==undefined){i=n.apply(undefined,[this,o]);this.convertedElements.set(e,i)}}return i}logError(e){this.convertedOutput.diagnostics.push({message:e})}splitTerm(e){return h(this.rawMetadata.references,e)}alias(e){return(0,i.alias)(this.rawMetadata.references,e)}unalias(e){var t;return(t=(0,i.unalias)(this.rawMetadata.references,e))!==null&&t!==void 0?t:""}}function P(e,t){return()=>{let n=e.getConvertedEntityType(t);if(!n){e.logError(`EntityType '${t}' not found`);n={}}return n}}function E(e,t,n){return()=>Object.keys(t).reduce((o,a)=>{const r=t[a];(0,i.lazy)(o,a,()=>{let t;if(r._type==="Singleton"){t=e.getConvertedSingleton(r.fullyQualifiedName)}else{t=e.getConvertedEntitySet(r.fullyQualifiedName)}if(!t){e.logError(`${n._type} '${n.fullyQualifiedName}': Failed to resolve NavigationPropertyBinding ${a}`);t={}}return t});return o},{})}function T(e,t){const n=t.annotations;return()=>{var i,o;return O(e,t,(o=n!==null&&n!==void 0?n:(i=e.rawAnnotationsPerTarget[t.fullyQualifiedName])===null||i===void 0?void 0:i.annotations)!==null&&o!==void 0?o:[])}}function O(e,t,n){return n.reduce((n,o)=>{const[a,r]=e.splitTerm(o.term);const s=`${r}${o.qualifier?"#"+o.qualifier:""}`;if(n[a]===undefined){n[a]={}}if(!n[a].hasOwnProperty(s)){(0,i.lazy)(n[a],s,()=>e.getConvertedElement(o.fullyQualifiedName,o,(e,n)=>m(e,t,n)))}return n},{})}function S(e,t){const n=t;(0,i.lazy)(n,"annotations",T(e,t));(0,i.lazy)(n,"entitySets",e.convert(e.rawSchema.entitySets,I));(0,i.lazy)(n,"singletons",e.convert(e.rawSchema.singletons,A));(0,i.lazy)(n,"actionImports",e.convert(e.rawSchema.actionImports,_));return n}function A(e,t){const n=t;n.entityTypeName=e.unalias(t.entityTypeName);(0,i.lazy)(n,"entityType",P(e,t.entityTypeName));(0,i.lazy)(n,"annotations",T(e,t));const o=t.navigationPropertyBinding;(0,i.lazy)(n,"navigationPropertyBinding",E(e,o,t));return n}function I(e,t){const n=t;n.entityTypeName=e.unalias(t.entityTypeName);(0,i.lazy)(n,"entityType",P(e,t.entityTypeName));(0,i.lazy)(n,"annotations",T(e,t));const o=t.navigationPropertyBinding;(0,i.lazy)(n,"navigationPropertyBinding",E(e,o,t));return n}function D(e,t){const n=t;t.keys.forEach(e=>{e.isKey=true});(0,i.lazy)(n,"annotations",T(e,t));(0,i.lazy)(n,"keys",e.convert(t.keys,x));(0,i.lazy)(n,"entityProperties",e.convert(t.entityProperties,x));(0,i.lazy)(n,"navigationProperties",e.convert(t.navigationProperties,M));(0,i.lazy)(n,"actions",()=>e.rawSchema.actions.filter(e=>e.isBound&&(e.sourceType===t.fullyQualifiedName||e.sourceType===`Collection(${t.fullyQualifiedName})`)).reduce((t,n)=>{const i=`${e.rawSchema.namespace}.${n.name}`;t[i]=e.getConvertedAction(n.fullyQualifiedName);return t},{}));n.resolvePath=(n,i)=>{const o=r(e,t,n);if(i){return{target:o.target,visitedObjects:o.objectPath,messages:o.messages}}else{return o.target}};return n}function x(e,t){const n=t;n.type=e.unalias(t.type);(0,i.lazy)(n,"annotations",T(e,t));(0,i.lazy)(n,"targetType",()=>{var n;const i=t.type;const o=i.startsWith("Collection")?i.substring(11,i.length-1):i;return(n=e.getConvertedComplexType(o))!==null&&n!==void 0?n:e.getConvertedTypeDefinition(o)});return n}function M(e,t){var n,o,a;const r=t;r.referentialConstraint=(n=r.referentialConstraint)!==null&&n!==void 0?n:[];if(v(t)){r.targetTypeName=e.unalias(t.targetTypeName)}else{const n=(o=e.rawSchema.associations.find(e=>e.fullyQualifiedName===t.relationship))===null||o===void 0?void 0:o.associationEnd.find(e=>e.role===t.toRole);r.isCollection=(n===null||n===void 0?void 0:n.multiplicity)==="*";r.targetTypeName=(a=n===null||n===void 0?void 0:n.type)!==null&&a!==void 0?a:""}(0,i.lazy)(r,"targetType",P(e,t.targetTypeName));(0,i.lazy)(r,"annotations",T(e,t));return r}function _(e,t){const n=t;n.actionName=e.unalias(t.actionName);(0,i.lazy)(n,"annotations",T(e,t));(0,i.lazy)(n,"action",()=>e.getConvertedAction(t.actionName));return n}function w(e,t){const n=t;n.sourceType=e.unalias(t.sourceType);if(n.sourceType){(0,i.lazy)(n,"sourceEntityType",P(e,t.sourceType))}n.returnType=e.unalias(t.returnType);if(n.returnType){(0,i.lazy)(n,"returnEntityType",P(e,t.returnType))}(0,i.lazy)(n,"parameters",e.convert(t.parameters,F));(0,i.lazy)(n,"annotations",()=>{var n,i,o,a,r,s,l,c,u,d,p;const f=t.fullyQualifiedName.match(/(?<action>[^()]+)(?:\((?<overload>.*)\))?/);let g=[];if(f){if((n=f.groups)===null||n===void 0?void 0:n.overload){g=(o=(i=e.rawAnnotationsPerTarget[t.fullyQualifiedName])===null||i===void 0?void 0:i.annotations)!==null&&o!==void 0?o:[]}else{g=(s=(r=e.rawAnnotationsPerTarget[`${(a=f.groups)===null||a===void 0?void 0:a.action}()`])===null||r===void 0?void 0:r.annotations)!==null&&s!==void 0?s:[]}if(((l=f.groups)===null||l===void 0?void 0:l.action)&&((c=f.groups)===null||c===void 0?void 0:c.action)!==t.fullyQualifiedName){const t=(p=(d=e.rawAnnotationsPerTarget[(u=f.groups)===null||u===void 0?void 0:u.action])===null||d===void 0?void 0:d.annotations)!==null&&p!==void 0?p:[];g=g.concat(t)}}return O(e,t,g)});return n}function F(e,t){const n=t;(0,i.lazy)(n,"typeReference",()=>{var n,i;return(i=(n=e.getConvertedEntityType(t.type))!==null&&n!==void 0?n:e.getConvertedComplexType(t.type))!==null&&i!==void 0?i:e.getConvertedTypeDefinition(t.type)});(0,i.lazy)(n,"annotations",T(e,t));return n}function R(e,t){const n=t;(0,i.lazy)(n,"properties",e.convert(t.properties,x));(0,i.lazy)(n,"navigationProperties",e.convert(t.navigationProperties,M));(0,i.lazy)(n,"annotations",T(e,t));return n}function N(e,t){const n=t;(0,i.lazy)(n,"annotations",T(e,t));return n}function $(e){if(e.references.length===0){e.references=i.defaultReferences}const t={version:e.version,namespace:e.schema.namespace,annotations:e.schema.annotations,references:i.defaultReferences.concat(e.references),diagnostics:[]};const n=new C(e,t);(0,i.lazy)(t,"entityContainer",n.convert(n.rawSchema.entityContainer,S));(0,i.lazy)(t,"entitySets",n.convert(n.rawSchema.entitySets,I));(0,i.lazy)(t,"singletons",n.convert(n.rawSchema.singletons,A));(0,i.lazy)(t,"entityTypes",n.convert(n.rawSchema.entityTypes,D));(0,i.lazy)(t,"actions",n.convert(n.rawSchema.actions,w));(0,i.lazy)(t,"complexTypes",n.convert(n.rawSchema.complexTypes,R));(0,i.lazy)(t,"actionImports",n.convert(n.rawSchema.actionImports,_));(0,i.lazy)(t,"typeDefinitions",n.convert(n.rawSchema.typeDefinitions,N));t.resolvePath=function e(t){const i=r(n,undefined,t);if(i.target){a(i.objectPath,i.target)}return i};return t}t.convert=$},782:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){if(i===undefined)i=n;var o=Object.getOwnPropertyDescriptor(t,n);if(!o||("get"in o?!t.__esModule:o.writable||o.configurable)){o={enumerable:true,get:function(){return t[n]}}}Object.defineProperty(e,i,o)}:function(e,t,n,i){if(i===undefined)i=n;e[i]=t[n]});var o=this&&this.__exportStar||function(e,t){for(var n in e)if(n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n))i(t,e,n)};Object.defineProperty(t,"__esModule",{value:true});o(n(232),t);o(n(488),t);o(n(534),t)},534:function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.addGetByValue=t.createIndexedFind=t.lazy=t.Decimal=t.isComplexTypeDefinition=t.TermToTypes=t.EnumIsFlag=t.unalias=t.alias=t.substringBeforeLast=t.substringBeforeFirst=t.splitAtLast=t.splitAtFirst=t.defaultReferences=void 0;t.defaultReferences=[{alias:"Capabilities",namespace:"Org.OData.Capabilities.V1",uri:""},{alias:"Aggregation",namespace:"Org.OData.Aggregation.V1",uri:""},{alias:"Validation",namespace:"Org.OData.Validation.V1",uri:""},{namespace:"Org.OData.Core.V1",alias:"Core",uri:""},{namespace:"Org.OData.Measures.V1",alias:"Measures",uri:""},{namespace:"com.sap.vocabularies.Common.v1",alias:"Common",uri:""},{namespace:"com.sap.vocabularies.UI.v1",alias:"UI",uri:""},{namespace:"com.sap.vocabularies.Session.v1",alias:"Session",uri:""},{namespace:"com.sap.vocabularies.Analytics.v1",alias:"Analytics",uri:""},{namespace:"com.sap.vocabularies.CodeList.v1",alias:"CodeList",uri:""},{namespace:"com.sap.vocabularies.PersonalData.v1",alias:"PersonalData",uri:""},{namespace:"com.sap.vocabularies.Communication.v1",alias:"Communication",uri:""},{namespace:"com.sap.vocabularies.HTML5.v1",alias:"HTML5",uri:""}];function n(e,t){return t<0?[e,""]:[e.substring(0,t),e.substring(t+1)]}function i(e,t){return t<0?e:e.substring(0,t)}function o(e,t){return n(e,e.indexOf(t))}t.splitAtFirst=o;function a(e,t){return n(e,e.lastIndexOf(t))}t.splitAtLast=a;function r(e,t){return i(e,e.indexOf(t))}t.substringBeforeFirst=r;function s(e,t){return i(e,e.lastIndexOf(t))}t.substringBeforeLast=s;function l(e,t){if(!e.reverseReferenceMap){e.reverseReferenceMap=e.reduce((e,t)=>{e[t.namespace]=t;return e},{})}if(!t){return t}const[n,i]=a(t,".");const r=e.reverseReferenceMap[n];if(r){return`${r.alias}.${i}`}else if(t.includes("@")){const[n,i]=o(t,"@");return`${n}@${l(e,i)}`}else{return t}}t.alias=l;function c(e,t){if(!e.referenceMap){e.referenceMap=e.reduce((e,t)=>{e[t.alias]=t;return e},{})}if(!t){return t}const[n,i]=o(t,".");const a=e.referenceMap[n];if(a){return`${a.namespace}.${i}`}else if(t.includes("@")){const[n,i]=o(t,"@");return`${n}@${c(e,i)}`}else{return t}}t.unalias=c;t.EnumIsFlag={"Auth.KeyLocation":false,"Core.RevisionKind":false,"Core.DataModificationOperationKind":false,"Core.Permission":true,"Capabilities.ConformanceLevelType":false,"Capabilities.IsolationLevel":true,"Capabilities.NavigationType":false,"Capabilities.SearchExpressions":true,"Capabilities.HttpMethod":true,"Aggregation.RollupType":false,"Common.TextFormatType":false,"Common.FilterExpressionType":false,"Common.FieldControlType":false,"Common.EffectType":true,"Communication.KindType":false,"Communication.ContactInformationType":true,"Communication.PhoneType":true,"Communication.GenderType":false,"UI.VisualizationType":false,"UI.CriticalityType":false,"UI.ImprovementDirectionType":false,"UI.TrendType":false,"UI.ChartType":false,"UI.ChartAxisScaleBehaviorType":false,"UI.ChartAxisAutoScaleDataScopeType":false,"UI.ChartDimensionRoleType":false,"UI.ChartMeasureRoleType":false,"UI.SelectionRangeSignType":false,"UI.SelectionRangeOptionType":false,"UI.TextArrangementType":false,"UI.ImportanceType":false,"UI.CriticalityRepresentationType":false,"UI.OperationGroupingType":false};var u;(function(e){e["Org.OData.Authorization.V1.SecuritySchemes"]="Org.OData.Authorization.V1.SecurityScheme";e["Org.OData.Authorization.V1.Authorizations"]="Org.OData.Authorization.V1.Authorization";e["Org.OData.Core.V1.Revisions"]="Org.OData.Core.V1.RevisionType";e["Org.OData.Core.V1.Links"]="Org.OData.Core.V1.Link";e["Org.OData.Core.V1.Example"]="Org.OData.Core.V1.ExampleValue";e["Org.OData.Core.V1.Messages"]="Org.OData.Core.V1.MessageType";e["Org.OData.Core.V1.ValueException"]="Org.OData.Core.V1.ValueExceptionType";e["Org.OData.Core.V1.ResourceException"]="Org.OData.Core.V1.ResourceExceptionType";e["Org.OData.Core.V1.DataModificationException"]="Org.OData.Core.V1.DataModificationExceptionType";e["Org.OData.Core.V1.IsLanguageDependent"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.AppliesViaContainer"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.DereferenceableIDs"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.ConventionalIDs"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.Permissions"]="Org.OData.Core.V1.Permission";e["Org.OData.Core.V1.DefaultNamespace"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.Immutable"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.Computed"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.ComputedDefaultValue"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.IsURL"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.IsMediaType"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.ContentDisposition"]="Org.OData.Core.V1.ContentDispositionType";e["Org.OData.Core.V1.OptimisticConcurrency"]="Edm.PropertyPath";e["Org.OData.Core.V1.AdditionalProperties"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.AutoExpand"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.AutoExpandReferences"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.MayImplement"]="Org.OData.Core.V1.QualifiedTypeName";e["Org.OData.Core.V1.Ordered"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.PositionalInsert"]="Org.OData.Core.V1.Tag";e["Org.OData.Core.V1.AlternateKeys"]="Org.OData.Core.V1.AlternateKey";e["Org.OData.Core.V1.OptionalParameter"]="Org.OData.Core.V1.OptionalParameterType";e["Org.OData.Core.V1.OperationAvailable"]="Edm.Boolean";e["Org.OData.Core.V1.SymbolicName"]="Org.OData.Core.V1.SimpleIdentifier";e["Org.OData.Core.V1.GeometryFeature"]="Org.OData.Core.V1.GeometryFeatureType";e["Org.OData.Capabilities.V1.ConformanceLevel"]="Org.OData.Capabilities.V1.ConformanceLevelType";e["Org.OData.Capabilities.V1.AsynchronousRequestsSupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.BatchContinueOnErrorSupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.IsolationSupported"]="Org.OData.Capabilities.V1.IsolationLevel";e["Org.OData.Capabilities.V1.CrossJoinSupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.CallbackSupported"]="Org.OData.Capabilities.V1.CallbackType";e["Org.OData.Capabilities.V1.ChangeTracking"]="Org.OData.Capabilities.V1.ChangeTrackingType";e["Org.OData.Capabilities.V1.CountRestrictions"]="Org.OData.Capabilities.V1.CountRestrictionsType";e["Org.OData.Capabilities.V1.NavigationRestrictions"]="Org.OData.Capabilities.V1.NavigationRestrictionsType";e["Org.OData.Capabilities.V1.IndexableByKey"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.TopSupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.SkipSupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.ComputeSupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.SelectSupport"]="Org.OData.Capabilities.V1.SelectSupportType";e["Org.OData.Capabilities.V1.BatchSupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.BatchSupport"]="Org.OData.Capabilities.V1.BatchSupportType";e["Org.OData.Capabilities.V1.FilterRestrictions"]="Org.OData.Capabilities.V1.FilterRestrictionsType";e["Org.OData.Capabilities.V1.SortRestrictions"]="Org.OData.Capabilities.V1.SortRestrictionsType";e["Org.OData.Capabilities.V1.ExpandRestrictions"]="Org.OData.Capabilities.V1.ExpandRestrictionsType";e["Org.OData.Capabilities.V1.SearchRestrictions"]="Org.OData.Capabilities.V1.SearchRestrictionsType";e["Org.OData.Capabilities.V1.KeyAsSegmentSupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.QuerySegmentSupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.InsertRestrictions"]="Org.OData.Capabilities.V1.InsertRestrictionsType";e["Org.OData.Capabilities.V1.DeepInsertSupport"]="Org.OData.Capabilities.V1.DeepInsertSupportType";e["Org.OData.Capabilities.V1.UpdateRestrictions"]="Org.OData.Capabilities.V1.UpdateRestrictionsType";e["Org.OData.Capabilities.V1.DeepUpdateSupport"]="Org.OData.Capabilities.V1.DeepUpdateSupportType";e["Org.OData.Capabilities.V1.DeleteRestrictions"]="Org.OData.Capabilities.V1.DeleteRestrictionsType";e["Org.OData.Capabilities.V1.CollectionPropertyRestrictions"]="Org.OData.Capabilities.V1.CollectionPropertyRestrictionsType";e["Org.OData.Capabilities.V1.OperationRestrictions"]="Org.OData.Capabilities.V1.OperationRestrictionsType";e["Org.OData.Capabilities.V1.AnnotationValuesInQuerySupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Capabilities.V1.ModificationQueryOptions"]="Org.OData.Capabilities.V1.ModificationQueryOptionsType";e["Org.OData.Capabilities.V1.ReadRestrictions"]="Org.OData.Capabilities.V1.ReadRestrictionsType";e["Org.OData.Capabilities.V1.CustomHeaders"]="Org.OData.Capabilities.V1.CustomParameter";e["Org.OData.Capabilities.V1.CustomQueryOptions"]="Org.OData.Capabilities.V1.CustomParameter";e["Org.OData.Capabilities.V1.MediaLocationUpdateSupported"]="Org.OData.Core.V1.Tag";e["Org.OData.Aggregation.V1.ApplySupported"]="Org.OData.Aggregation.V1.ApplySupportedType";e["Org.OData.Aggregation.V1.ApplySupportedDefaults"]="Org.OData.Aggregation.V1.ApplySupportedBase";e["Org.OData.Aggregation.V1.Groupable"]="Org.OData.Core.V1.Tag";e["Org.OData.Aggregation.V1.Aggregatable"]="Org.OData.Core.V1.Tag";e["Org.OData.Aggregation.V1.ContextDefiningProperties"]="Edm.PropertyPath";e["Org.OData.Aggregation.V1.LeveledHierarchy"]="Edm.PropertyPath";e["Org.OData.Aggregation.V1.RecursiveHierarchy"]="Org.OData.Aggregation.V1.RecursiveHierarchyType";e["Org.OData.Aggregation.V1.AvailableOnAggregates"]="Org.OData.Aggregation.V1.AvailableOnAggregatesType";e["Org.OData.Validation.V1.Minimum"]="Edm.PrimitiveType";e["Org.OData.Validation.V1.Maximum"]="Edm.PrimitiveType";e["Org.OData.Validation.V1.Exclusive"]="Org.OData.Core.V1.Tag";e["Org.OData.Validation.V1.AllowedValues"]="Org.OData.Validation.V1.AllowedValue";e["Org.OData.Validation.V1.MultipleOf"]="Edm.Decimal";e["Org.OData.Validation.V1.Constraint"]="Org.OData.Validation.V1.ConstraintType";e["Org.OData.Validation.V1.ItemsOf"]="Org.OData.Validation.V1.ItemsOfType";e["Org.OData.Validation.V1.OpenPropertyTypeConstraint"]="Org.OData.Validation.V1.SingleOrCollectionType";e["Org.OData.Validation.V1.DerivedTypeConstraint"]="Org.OData.Validation.V1.SingleOrCollectionType";e["Org.OData.Validation.V1.AllowedTerms"]="Org.OData.Core.V1.QualifiedTermName";e["Org.OData.Validation.V1.ApplicableTerms"]="Org.OData.Core.V1.QualifiedTermName";e["Org.OData.Validation.V1.MaxItems"]="Edm.Int64";e["Org.OData.Validation.V1.MinItems"]="Edm.Int64";e["Org.OData.Measures.V1.Scale"]="Edm.Byte";e["Org.OData.Measures.V1.DurationGranularity"]="Org.OData.Measures.V1.DurationGranularityType";e["com.sap.vocabularies.Analytics.v1.Dimension"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Analytics.v1.Measure"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Analytics.v1.AccumulativeMeasure"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Analytics.v1.RolledUpPropertyCount"]="Edm.Int16";e["com.sap.vocabularies.Analytics.v1.PlanningAction"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Analytics.v1.AggregatedProperties"]="com.sap.vocabularies.Analytics.v1.AggregatedPropertyType";e["com.sap.vocabularies.Analytics.v1.AggregatedProperty"]="com.sap.vocabularies.Analytics.v1.AggregatedPropertyType";e["com.sap.vocabularies.Analytics.v1.AnalyticalContext"]="com.sap.vocabularies.Analytics.v1.AnalyticalContextType";e["com.sap.vocabularies.Common.v1.ServiceVersion"]="Edm.Int32";e["com.sap.vocabularies.Common.v1.ServiceSchemaVersion"]="Edm.Int32";e["com.sap.vocabularies.Common.v1.TextFor"]="Edm.PropertyPath";e["com.sap.vocabularies.Common.v1.IsLanguageIdentifier"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.TextFormat"]="com.sap.vocabularies.Common.v1.TextFormatType";e["com.sap.vocabularies.Common.v1.IsDigitSequence"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsUpperCase"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsCurrency"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsUnit"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.UnitSpecificScale"]="Edm.PrimitiveType";e["com.sap.vocabularies.Common.v1.UnitSpecificPrecision"]="Edm.PrimitiveType";e["com.sap.vocabularies.Common.v1.SecondaryKey"]="Edm.PropertyPath";e["com.sap.vocabularies.Common.v1.MinOccurs"]="Edm.Int64";e["com.sap.vocabularies.Common.v1.MaxOccurs"]="Edm.Int64";e["com.sap.vocabularies.Common.v1.AssociationEntity"]="Edm.NavigationPropertyPath";e["com.sap.vocabularies.Common.v1.DerivedNavigation"]="Edm.NavigationPropertyPath";e["com.sap.vocabularies.Common.v1.Masked"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.RevealOnDemand"]="Edm.Boolean";e["com.sap.vocabularies.Common.v1.SemanticObjectMapping"]="com.sap.vocabularies.Common.v1.SemanticObjectMappingType";e["com.sap.vocabularies.Common.v1.IsInstanceAnnotation"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.FilterExpressionRestrictions"]="com.sap.vocabularies.Common.v1.FilterExpressionRestrictionType";e["com.sap.vocabularies.Common.v1.FieldControl"]="com.sap.vocabularies.Common.v1.FieldControlType";e["com.sap.vocabularies.Common.v1.Application"]="com.sap.vocabularies.Common.v1.ApplicationType";e["com.sap.vocabularies.Common.v1.Timestamp"]="Edm.DateTimeOffset";e["com.sap.vocabularies.Common.v1.ErrorResolution"]="com.sap.vocabularies.Common.v1.ErrorResolutionType";e["com.sap.vocabularies.Common.v1.Messages"]="Edm.ComplexType";e["com.sap.vocabularies.Common.v1.numericSeverity"]="com.sap.vocabularies.Common.v1.NumericMessageSeverityType";e["com.sap.vocabularies.Common.v1.MaximumNumericMessageSeverity"]="com.sap.vocabularies.Common.v1.NumericMessageSeverityType";e["com.sap.vocabularies.Common.v1.IsActionCritical"]="Edm.Boolean";e["com.sap.vocabularies.Common.v1.Attributes"]="Edm.PropertyPath";e["com.sap.vocabularies.Common.v1.RelatedRecursiveHierarchy"]="Edm.AnnotationPath";e["com.sap.vocabularies.Common.v1.Interval"]="com.sap.vocabularies.Common.v1.IntervalType";e["com.sap.vocabularies.Common.v1.ResultContext"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.SAPObjectNodeType"]="com.sap.vocabularies.Common.v1.SAPObjectNodeTypeType";e["com.sap.vocabularies.Common.v1.Composition"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsNaturalPerson"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.ValueList"]="com.sap.vocabularies.Common.v1.ValueListType";e["com.sap.vocabularies.Common.v1.ValueListRelevantQualifiers"]="Org.OData.Core.V1.SimpleIdentifier";e["com.sap.vocabularies.Common.v1.ValueListWithFixedValues"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.ValueListMapping"]="com.sap.vocabularies.Common.v1.ValueListMappingType";e["com.sap.vocabularies.Common.v1.IsCalendarYear"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsCalendarHalfyear"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsCalendarQuarter"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsCalendarMonth"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsCalendarWeek"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsDayOfCalendarMonth"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsDayOfCalendarYear"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsCalendarYearHalfyear"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsCalendarYearQuarter"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsCalendarYearMonth"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsCalendarYearWeek"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsCalendarDate"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsFiscalYear"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsFiscalPeriod"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsFiscalQuarter"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsFiscalYearQuarter"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsFiscalWeek"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsFiscalYearWeek"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsDayOfFiscalYear"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.IsFiscalYearVariant"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.MutuallyExclusiveTerm"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.DraftRoot"]="com.sap.vocabularies.Common.v1.DraftRootType";e["com.sap.vocabularies.Common.v1.DraftNode"]="com.sap.vocabularies.Common.v1.DraftNodeType";e["com.sap.vocabularies.Common.v1.DraftActivationVia"]="Org.OData.Core.V1.SimpleIdentifier";e["com.sap.vocabularies.Common.v1.EditableFieldFor"]="Edm.PropertyPath";e["com.sap.vocabularies.Common.v1.SemanticKey"]="Edm.PropertyPath";e["com.sap.vocabularies.Common.v1.SideEffects"]="com.sap.vocabularies.Common.v1.SideEffectsType";e["com.sap.vocabularies.Common.v1.DefaultValuesFunction"]="com.sap.vocabularies.Common.v1.QualifiedName";e["com.sap.vocabularies.Common.v1.FilterDefaultValue"]="Edm.PrimitiveType";e["com.sap.vocabularies.Common.v1.FilterDefaultValueHigh"]="Edm.PrimitiveType";e["com.sap.vocabularies.Common.v1.SortOrder"]="com.sap.vocabularies.Common.v1.SortOrderType";e["com.sap.vocabularies.Common.v1.RecursiveHierarchy"]="com.sap.vocabularies.Common.v1.RecursiveHierarchyType";e["com.sap.vocabularies.Common.v1.CreatedAt"]="Edm.DateTimeOffset";e["com.sap.vocabularies.Common.v1.CreatedBy"]="com.sap.vocabularies.Common.v1.UserID";e["com.sap.vocabularies.Common.v1.ChangedAt"]="Edm.DateTimeOffset";e["com.sap.vocabularies.Common.v1.ChangedBy"]="com.sap.vocabularies.Common.v1.UserID";e["com.sap.vocabularies.Common.v1.ApplyMultiUnitBehaviorForSortingAndFiltering"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Common.v1.PrimitivePropertyPath"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.CodeList.v1.CurrencyCodes"]="com.sap.vocabularies.CodeList.v1.CodeListSource";e["com.sap.vocabularies.CodeList.v1.UnitsOfMeasure"]="com.sap.vocabularies.CodeList.v1.CodeListSource";e["com.sap.vocabularies.CodeList.v1.StandardCode"]="Edm.PropertyPath";e["com.sap.vocabularies.CodeList.v1.ExternalCode"]="Edm.PropertyPath";e["com.sap.vocabularies.CodeList.v1.IsConfigurationDeprecationCode"]="Edm.Boolean";e["com.sap.vocabularies.Communication.v1.Contact"]="com.sap.vocabularies.Communication.v1.ContactType";e["com.sap.vocabularies.Communication.v1.Address"]="com.sap.vocabularies.Communication.v1.AddressType";e["com.sap.vocabularies.Communication.v1.IsEmailAddress"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Communication.v1.IsPhoneNumber"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Communication.v1.Event"]="com.sap.vocabularies.Communication.v1.EventData";e["com.sap.vocabularies.Communication.v1.Task"]="com.sap.vocabularies.Communication.v1.TaskData";e["com.sap.vocabularies.Communication.v1.Message"]="com.sap.vocabularies.Communication.v1.MessageData";e["com.sap.vocabularies.Hierarchy.v1.RecursiveHierarchy"]="com.sap.vocabularies.Hierarchy.v1.RecursiveHierarchyType";e["com.sap.vocabularies.PersonalData.v1.EntitySemantics"]="com.sap.vocabularies.PersonalData.v1.EntitySemanticsType";e["com.sap.vocabularies.PersonalData.v1.FieldSemantics"]="com.sap.vocabularies.PersonalData.v1.FieldSemanticsType";e["com.sap.vocabularies.PersonalData.v1.IsPotentiallyPersonal"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.Session.v1.StickySessionSupported"]="com.sap.vocabularies.Session.v1.StickySessionSupportedType";e["com.sap.vocabularies.UI.v1.HeaderInfo"]="com.sap.vocabularies.UI.v1.HeaderInfoType";e["com.sap.vocabularies.UI.v1.Identification"]="com.sap.vocabularies.UI.v1.DataFieldAbstract";e["com.sap.vocabularies.UI.v1.Badge"]="com.sap.vocabularies.UI.v1.BadgeType";e["com.sap.vocabularies.UI.v1.LineItem"]="com.sap.vocabularies.UI.v1.DataFieldAbstract";e["com.sap.vocabularies.UI.v1.StatusInfo"]="com.sap.vocabularies.UI.v1.DataFieldAbstract";e["com.sap.vocabularies.UI.v1.FieldGroup"]="com.sap.vocabularies.UI.v1.FieldGroupType";e["com.sap.vocabularies.UI.v1.ConnectedFields"]="com.sap.vocabularies.UI.v1.ConnectedFieldsType";e["com.sap.vocabularies.UI.v1.GeoLocations"]="com.sap.vocabularies.UI.v1.GeoLocationType";e["com.sap.vocabularies.UI.v1.GeoLocation"]="com.sap.vocabularies.UI.v1.GeoLocationType";e["com.sap.vocabularies.UI.v1.Contacts"]="Edm.AnnotationPath";e["com.sap.vocabularies.UI.v1.MediaResource"]="com.sap.vocabularies.UI.v1.MediaResourceType";e["com.sap.vocabularies.UI.v1.DataPoint"]="com.sap.vocabularies.UI.v1.DataPointType";e["com.sap.vocabularies.UI.v1.KPI"]="com.sap.vocabularies.UI.v1.KPIType";e["com.sap.vocabularies.UI.v1.Chart"]="com.sap.vocabularies.UI.v1.ChartDefinitionType";e["com.sap.vocabularies.UI.v1.ValueCriticality"]="com.sap.vocabularies.UI.v1.ValueCriticalityType";e["com.sap.vocabularies.UI.v1.CriticalityLabels"]="com.sap.vocabularies.UI.v1.CriticalityLabelType";e["com.sap.vocabularies.UI.v1.SelectionFields"]="Edm.PropertyPath";e["com.sap.vocabularies.UI.v1.Facets"]="com.sap.vocabularies.UI.v1.Facet";e["com.sap.vocabularies.UI.v1.HeaderFacets"]="com.sap.vocabularies.UI.v1.Facet";e["com.sap.vocabularies.UI.v1.QuickViewFacets"]="com.sap.vocabularies.UI.v1.Facet";e["com.sap.vocabularies.UI.v1.QuickCreateFacets"]="com.sap.vocabularies.UI.v1.Facet";e["com.sap.vocabularies.UI.v1.FilterFacets"]="com.sap.vocabularies.UI.v1.ReferenceFacet";e["com.sap.vocabularies.UI.v1.SelectionPresentationVariant"]="com.sap.vocabularies.UI.v1.SelectionPresentationVariantType";e["com.sap.vocabularies.UI.v1.PresentationVariant"]="com.sap.vocabularies.UI.v1.PresentationVariantType";e["com.sap.vocabularies.UI.v1.SelectionVariant"]="com.sap.vocabularies.UI.v1.SelectionVariantType";e["com.sap.vocabularies.UI.v1.ThingPerspective"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.IsSummary"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.PartOfPreview"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.Map"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.Gallery"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.IsImageURL"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.IsImage"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.MultiLineText"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.TextArrangement"]="com.sap.vocabularies.UI.v1.TextArrangementType";e["com.sap.vocabularies.UI.v1.Importance"]="com.sap.vocabularies.UI.v1.ImportanceType";e["com.sap.vocabularies.UI.v1.Hidden"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.IsCopyAction"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.CreateHidden"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.UpdateHidden"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.DeleteHidden"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.HiddenFilter"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.AdaptationHidden"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.DataFieldDefault"]="com.sap.vocabularies.UI.v1.DataFieldAbstract";e["com.sap.vocabularies.UI.v1.Criticality"]="com.sap.vocabularies.UI.v1.CriticalityType";e["com.sap.vocabularies.UI.v1.CriticalityCalculation"]="com.sap.vocabularies.UI.v1.CriticalityCalculationType";e["com.sap.vocabularies.UI.v1.Emphasized"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.OrderBy"]="Edm.PropertyPath";e["com.sap.vocabularies.UI.v1.ParameterDefaultValue"]="Edm.PrimitiveType";e["com.sap.vocabularies.UI.v1.RecommendationState"]="com.sap.vocabularies.UI.v1.RecommendationStateType";e["com.sap.vocabularies.UI.v1.RecommendationList"]="com.sap.vocabularies.UI.v1.RecommendationListType";e["com.sap.vocabularies.UI.v1.ExcludeFromNavigationContext"]="Org.OData.Core.V1.Tag";e["com.sap.vocabularies.UI.v1.DoNotCheckScaleOfMeasuredQuantity"]="Edm.Boolean";e["com.sap.vocabularies.HTML5.v1.CssDefaults"]="com.sap.vocabularies.HTML5.v1.CssDefaultsType"})(u=t.TermToTypes||(t.TermToTypes={}));function d(e){return!!e&&e._type==="ComplexType"&&!!e.properties}t.isComplexTypeDefinition=d;function p(e){return{isDecimal(){return true},valueOf(){return e},toString(){return e.toString()}}}t.Decimal=p;function f(e,t,n){const i=Symbol("initial");let o=i;Object.defineProperty(e,t,{enumerable:true,get(){if(o===i){o=n()}return o},set(e){o=e}})}t.lazy=f;function g(e,t){const n=new Map;return function i(o){const a=n.get(o);if((a===null||a===void 0?void 0:a[t])===o){return a}return e.find(e=>{if(!(e===null||e===void 0?void 0:e.hasOwnProperty(t))){return false}const i=e[t];n.set(i,e);return i===o})}}t.createIndexedFind=g;function v(e,t){const n=`by_${t}`;if(!e.hasOwnProperty(n)){Object.defineProperty(e,n,{writable:false,value:g(e,t)})}else{throw new Error(`Property '${n}' already exists`)}return e}t.addGetByValue=v},488:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t.revertTermToGenericType=void 0;const i=n(534);function o(e,t){var n,i,o,a,r,s;let c;if(Array.isArray(t)){c={type:"Collection",Collection:t.map(t=>l(e,t))}}else if((n=t.isDecimal)===null||n===void 0?void 0:n.call(t)){c={type:"Decimal",Decimal:t.valueOf()}}else if((i=t.isString)===null||i===void 0?void 0:i.call(t)){const n=t.valueOf().split(".");if(n.length>1&&e.find(e=>e.alias===n[0])){c={type:"EnumMember",EnumMember:t.valueOf()}}else{c={type:"String",String:t.valueOf()}}}else if((o=t.isInt)===null||o===void 0?void 0:o.call(t)){c={type:"Int",Int:t.valueOf()}}else if((a=t.isFloat)===null||a===void 0?void 0:a.call(t)){c={type:"Float",Float:t.valueOf()}}else if((r=t.isDate)===null||r===void 0?void 0:r.call(t)){c={type:"Date",Date:t.valueOf()}}else if((s=t.isBoolean)===null||s===void 0?void 0:s.call(t)){c={type:"Bool",Bool:t.valueOf()==="true"}}else if(t.type==="Path"){c={type:"Path",Path:t.path}}else if(t.type==="AnnotationPath"){c={type:"AnnotationPath",AnnotationPath:t.value}}else if(t.type==="Apply"){c={type:"Apply",Apply:t.Apply}}else if(t.type==="Null"){c={type:"Null"}}else if(t.type==="PropertyPath"){c={type:"PropertyPath",PropertyPath:t.value}}else if(t.type==="NavigationPropertyPath"){c={type:"NavigationPropertyPath",NavigationPropertyPath:t.value}}else if(Object.prototype.hasOwnProperty.call(t,"$Type")){c={type:"Record",Record:l(e,t)}}return c}function a(e,t){let n;const i=t===null||t===void 0?void 0:t.constructor.name;switch(i){case"String":case"string":const i=t.toString().split(".");if(i.length>1&&e.find(e=>e.alias===i[0])){n={type:"EnumMember",EnumMember:t.toString()}}else{n={type:"String",String:t.toString()}}break;case"Boolean":case"boolean":n={type:"Bool",Bool:t.valueOf()};break;case"Number":case"number":if(t.toString()===t.toFixed()){n={type:"Int",Int:t.valueOf()}}else{n={type:"Decimal",Decimal:t.valueOf()}}break;case"object":default:n=o(e,t);break}return n}const r=["$Type","term","__source","qualifier","ActionTarget","fullyQualifiedName","annotations"];function s(e,t,n){Object.keys(t).filter(e=>e!=="_annotations").forEach(o=>{Object.keys(t[o]).forEach(a=>{const r=c(e,t[o][a]);if(!r.term){const t=(0,i.unalias)(e,`${o}.${a}`);if(t){const e=t.split("#");r.term=e[0];if(e.length>1){r.qualifier=e[1]}}}n.push(r)})})}function l(e,t){if(typeof t==="string"){return t}else if(typeof t==="object"){if(t.hasOwnProperty("$Type")){const n={type:t.$Type,propertyValues:[]};Object.keys(t).forEach(i=>{if(r.indexOf(i)===-1){const o=t[i];n.propertyValues.push({name:i,value:a(e,o)})}else if(i==="annotations"&&Object.keys(t[i]).length>0){n.annotations=[];s(e,t[i],n.annotations)}});return n}else if(t.type==="PropertyPath"){return{type:"PropertyPath",PropertyPath:t.value}}else if(t.type==="AnnotationPath"){return{type:"AnnotationPath",AnnotationPath:t.value}}else if(t.type==="NavigationPropertyPath"){return{type:"NavigationPropertyPath",NavigationPropertyPath:t.value}}}return undefined}function c(e,t){const n={term:t.term,qualifier:t.qualifier};if(Array.isArray(t)){if(t.hasOwnProperty("annotations")&&Object.keys(t.annotations).length>0){n.annotations=[];s(e,t.annotations,n.annotations)}return{...n,collection:t.map(t=>l(e,t))}}else if(t.hasOwnProperty("$Type")){return{...n,record:l(e,t)}}else{return{...n,value:a(e,t)}}}t.revertTermToGenericType=c}};var n={};function i(e){var o=n[e];if(o!==undefined){return o.exports}var a=n[e]={exports:{}};t[e].call(a.exports,a,a.exports,i);return a.exports}var o=i(782);e=o})();return e},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/controls/Common/Action",["sap/base/Log","sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/ID","sap/fe/core/converters/ManifestSettings","sap/fe/core/formatters/FPMFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper"],function(e,t,n,i,o,a,r,s){"use strict";var l={};var c=s.replaceSpecialChars;var u=r.resolveBindingString;var d=r.pathInModel;var p=r.or;var f=r.isConstant;var g=r.ifElse;var v=r.greaterOrEqual;var h=r.getExpressionFromAnnotation;var m=r.formatResult;var y=r.equal;var b=r.constant;var C=r.compileExpression;var P=r.and;var E=o.ActionType;var T=i.getCustomActionID;var O=n.Placement;var S=t.bindingContextPathVisitor;let A;(function(e){e["Accept"]="Accept";e["Attention"]="Attention";e["Back"]="Back";e["Critical"]="Critical";e["Default"]="Default";e["Emphasized"]="Emphasized";e["Ghost"]="Ghost";e["Negative"]="Negative";e["Neutral"]="Neutral";e["Reject"]="Reject";e["Success"]="Success";e["Transparent"]="Transparent";e["Unstyled"]="Unstyled";e["Up"]="Up"})(A||(A={}));l.ButtonType=A;function I(e,t,n,i){const o=t.find(e=>e.key===i);const a=e[i];const r={...o??a};if(o){r.enabled=(a===null||a===void 0?void 0:a.enabled)??o.enabled;r.visible=(a===null||a===void 0?void 0:a.visible)??o.visible;for(const e in a||{}){const t=e;if(!o[t]&&t!=="menu"){r[t]=a[t]}}}const s=((r===null||r===void 0?void 0:r.visible)||(r===null||r===void 0?void 0:r.type)===E.DataFieldForAction||(r===null||r===void 0?void 0:r.type)===E.DataFieldForIntentBasedNavigation)&&!n.find(e=>e.key===(r===null||r===void 0?void 0:r.key));return{action:r,canBeMenuItem:s}}function D(e,t,n,i,o){const{action:a,canBeMenuItem:r}=I(t,n,o,e.defaultAction);if(r){e.defaultAction=a}if(a.command){i[a.key]=a}}function x(e,t,n,i,o){const a=[];for(const r of e.menu??[]){const{action:e,canBeMenuItem:s}=I(t,n,o,r);if(s){a.push(e)}if(e.command){i[r]=e}}e.menu=a;const r=a.map(e=>u(e.visible,"boolean"));e.visible=C(P(u(e.visible,"boolean"),p(...r)))}function M(e,t,n){const i={};const o=[];const a={};for(const s in e){const l=e[s];if(l.defaultAction!==undefined){D(l,e,t,a,n)}if(l.type===E.Menu){var r;o.push(...l.menu);x(l,e,t,a,n);if(!((r=l.menu)!==null&&r!==void 0&&r.length)){o.push(l.key)}}if(l.command){a[s]=l}i[s]=l}o.forEach(e=>delete i[e]);return{actions:i,commandActions:a}}const _=function(e,t,n){if(t&&e.enabled===undefined){return undefined}const i=$(e.enabled,n);return C(g(e.requiresSelection===true,P(v(d("numberOfSelectedContexts","internal"),1),i),i))};const w=function(e,t,n){if(t&&e.visible===undefined){return undefined}const i=$(e.visible,n);return C(i)};function F(e,t){if(!t){return}e.type=t.type;e.annotationPath=t.annotationPath;e.press=t.press;e.enabled=e.enabled??t.enabled;e.visible=e.visible??t.visible}function R(e,t){if(t!==null&&t!==void 0&&t.find(t=>t.key===e.key)){e.visible="false"}}function N(e,t,n,i,o,a,r){const s={};for(const d in e){var l,u;const p=e[d];const f=((l=p.press)===null||l===void 0?void 0:l.lastIndexOf("."))||-1;const g=n===null||n===void 0?void 0:n.find(e=>e.key===d);const v=!!g;if(p.facetName){r=p.facetName}s[d]={id:g?d:T(d),type:p.menu?E.Menu:E.Default,visible:w(p,v,t),enabled:_(p,v,t),handlerModule:p.press&&p.press.substring(0,f).replace(/\./gi,"/"),handlerMethod:p.press&&p.press.substring(f+1),press:p.press,text:p.text,noWrap:p.__noWrap,key:c(d),enableOnSelect:p.enableOnSelect,defaultValuesExtensionFunction:p.defaultValuesFunction,position:{anchor:(u=p.position)===null||u===void 0?void 0:u.anchor,placement:p.position===undefined?O.After:p.position.placement},isNavigable:j(p,i,o),command:p.command,requiresSelection:p.requiresSelection===undefined?false:p.requiresSelection,enableAutoScroll:k(p),menu:p.menu??[],facetName:p.inline?r:undefined,defaultAction:p.defaultAction};F(s[d],g);R(s[d],a)}return M(s,n??[],a??[])}l.getActionsFromManifest=N;function $(e,t){const n=u(e,"boolean");let i;if(f(n)&&n.value===undefined){i=b(true)}else if(f(n)&&typeof n.value==="string"){var o;const e=n.value;i=m([d("/","$view"),e,d("selectedContexts","internal")],a.customBooleanPropertyCheck,((o=t.getDataModelObjectPath().contextLocation)===null||o===void 0?void 0:o.targetEntityType)||t.getEntityType())}else{i=n}return i}const V=e=>{let t={};e.forEach(e=>{var n;if(e!==null&&e!==void 0&&(n=e.menu)!==null&&n!==void 0&&n.length){const n=e.menu;t=n.reduce((e,t)=>{let{key:n}=t;if(n&&!e[n]){e[n]=true}return e},t)}});return e.filter(e=>!t[e.key])};l.removeDuplicateActions=V;function L(e,t){var n,i,o;const a=t!==null&&t!==void 0&&t.isBound?t===null||t===void 0?void 0:(n=t.parameters[0])===null||n===void 0?void 0:n.fullyQualifiedName:undefined;const r=h(t===null||t===void 0?void 0:(i=t.annotations.Core)===null||i===void 0?void 0:i.OperationAvailable,[],undefined,t=>S(t,e,a));if((t===null||t===void 0?void 0:(o=t.annotations.Core)===null||o===void 0?void 0:o.OperationAvailable)!==undefined){return C(y(r,true))}return"true"}l.getEnabledForAnnotationAction=L;function B(e){return e?e.map(e=>({LocalProperty:{$PropertyPath:e.LocalProperty.value},SemanticObjectProperty:e.SemanticObjectProperty})):[]}l.getSemanticObjectMapping=B;function j(e,t,n){var i,o;let a=true;if(n){const e=t&&(t.detail||t.display);a=e!==null&&e!==void 0&&e.route?true:false}if(e&&e.afterExecution&&(((i=e.afterExecution)===null||i===void 0?void 0:i.navigateToInstance)===false||((o=e.afterExecution)===null||o===void 0?void 0:o.enableAutoScroll)===true)||!a){return false}return true}l.isActionNavigable=j;function k(e){var t;return(e===null||e===void 0?void 0:(t=e.afterExecution)===null||t===void 0?void 0:t.enableAutoScroll)===true}l.enableAutoScroll=k;function U(e){var t,n,i;return((t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:(i=n.IsCopyAction)===null||i===void 0?void 0:i.valueOf())===true&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"}l.dataFieldIsCopyAction=U;function H(t){if(t.length===1){return t[0]}if(t.length>1){e.error("Multiple actions are annotated with isCopyAction. There can be only one standard copy action.")}return undefined}l.getCopyAction=H;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/controls/Common/Chart",["sap/base/Log","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/DataModelPathHelper","sap/ui/core/Core","../../helpers/Aggregation","../../helpers/ID","../../ManifestSettings"],function(e,t,n,i,o,a,r,s,l,c,u){"use strict";var d={};var p=u.VisualizationType;var f=u.VariantManagementType;var g=u.TemplateType;var v=u.ActionType;var h=c.getFilterBarID;var m=c.getChartID;var y=l.AggregationHelper;var b=r.getTargetObjectPath;var C=a.not;var P=a.getExpressionFromAnnotation;var E=a.equal;var T=a.compileExpression;var O=o.KeyHelper;var S=i.OverrideType;var A=i.insertCustomElements;var I=n.getActionsFromManifest;var D=t.isDataFieldForActionAbstract;function x(e,t,n){const i=[];if(e){const t=e.Actions||[];t.forEach(e=>{var t;let o;if(D(e)&&!e.Inline&&!e.Determining){const i=O.generateKeyFromDataField(e);switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":if(!((t=e.ActionTarget)!==null&&t!==void 0&&t.isBound)){o={type:v.DataFieldForAction,annotationPath:n.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),key:i,visible:N(e,n)}}break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":o={type:v.DataFieldForIntentBasedNavigation,annotationPath:n.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),key:i,visible:N(e,n),isNavigable:true};break}}if(o){i.push(o)}})}return i}function M(e,t,n){const i=x(e,t,n);const o=I(n.getManifestControlConfiguration(t).actions,n,i);const a={enabled:S.overwrite,enableOnSelect:S.overwrite,visible:S.overwrite,command:S.overwrite};const r=A(i,o.actions,a);return{actions:r,commandActions:o.commandActions}}d.getChartActions=M;function _(e,t){var n;const i=t.getManifestWrapper();const o=t.getManifestControlConfiguration(e);const a=i.getVariantManagement();const r=[];const s=o===null||o===void 0?void 0:(n=o.chartSettings)===null||n===void 0?void 0:n.personalization;const l=a===f.Control?true:false;if(s!==undefined&&!s||s=="false"){return undefined}switch(true){case typeof s==="object":if(s.type){r.push("Type")}if(s.item){r.push("Item")}if(s.sort){r.push("Sort")}if(s.filter){r.push("Filter")}return r.join(",");case l:case!!s:return"Sort,Type,Item,Filter";default:return"Sort,Type,Item"}}d.getP13nMode=_;function w(e){var t;return(e===null||e===void 0?void 0:(t=e.annotationPath)===null||t===void 0?void 0:t.indexOf(`@${"com.sap.vocabularies.UI.v1.SelectionPresentationVariant"}`))!==-1?e===null||e===void 0?void 0:e.annotationPath:undefined}function F(t,n,i,o,a){var r;const l=new y(i.getEntityType(),i);if(!o&&!l.isAnalyticsSupported()){throw new Error("ApplySupported is not added to the annotations")}const c=l.getTransAggregations();const u=l.getCustomAggregateDefinitions();const d=i.getManifestWrapper();const f=d.getVariantManagement();const v=_(n,i);if(v===undefined&&f==="Control"){e.warning("Variant Management cannot be enabled when personalization is disabled")}const C={};const P=w(a);if(u){const e=l.getEntityType();for(const t of u){var E,T,O,S,A;const n=t===null||t===void 0?void 0:(E=t.annotations)===null||E===void 0?void 0:(T=E.Aggregation)===null||T===void 0?void 0:T.ContextDefiningProperties;const i=t===null||t===void 0?void 0:t.qualifier;const o=i&&e.entityProperties.find(e=>e.name===i);const a=o&&(o===null||o===void 0?void 0:(O=o.annotations)===null||O===void 0?void 0:(S=O.Common)===null||S===void 0?void 0:(A=S.Label)===null||A===void 0?void 0:A.toString());C[i]={name:i,label:a||`Custom Aggregate (${i})`,sortable:true,sortOrder:"both",contextDefiningProperty:n?n.map(e=>e.value):[]}}}const I={};const D=s.getLibraryResourceBundle("sap.fe.core");if(c){for(let e=0;e<c.length;e++){var x,F,N,$,V,L;I[c[e].Name]={name:c[e].Name,propertyPath:c[e].AggregatableProperty.valueOf().value,aggregationMethod:c[e].AggregationMethod,label:(x=c[e])!==null&&x!==void 0&&(F=x.annotations)!==null&&F!==void 0&&(N=F.Common)!==null&&N!==void 0&&N.Label?($=c[e])===null||$===void 0?void 0:(V=$.annotations)===null||V===void 0?void 0:(L=V.Common)===null||L===void 0?void 0:L.Label.toString():`${D.getText("AGGREGATABLE_PROPERTY")} (${c[e].Name})`,sortable:true,sortOrder:"both",custom:false}}}const B=l.getAggregatableProperties();const j=l.getGroupableProperties();const k={};k.$Type="Org.OData.Aggregation.V1.ApplySupportedType";k.AggregatableProperties=[];k.GroupableProperties=[];for(let e=0;B&&e<B.length;e++){var U,H,G;const t={$Type:(U=B[e])===null||U===void 0?void 0:U.$Type,Property:{$PropertyPath:(H=B[e])===null||H===void 0?void 0:(G=H.Property)===null||G===void 0?void 0:G.value}};k.AggregatableProperties.push(t)}for(let e=0;j&&e<j.length;e++){var z;const t={$PropertyPath:(z=j[e])===null||z===void 0?void 0:z.value};k.GroupableProperties.push(t)}const W=M(t,n,i);let[q]=n.split("@");if(q.lastIndexOf("/")===q.length-1){q=q.substr(0,q.length-1)}const K=((r=t.Title)===null||r===void 0?void 0:r.toString())||"";const Q=i.getDataModelObjectPath();const Y=q.length===0;const J=Q.targetEntitySet?Q.targetEntitySet.name:Q.startingEntitySet.name;const X=Y?h(i.getContextPath()):undefined;const Z={legendGroup:{layout:{position:"bottom"}}};let ee;if(i.getTemplateType()===g.ObjectPage){ee=true}else if(i.getTemplateType()===g.ListReport||i.getTemplateType()===g.AnalyticalListPage){ee=false}const te=i.getManifestWrapper().hasMultipleVisualizations()||i.getTemplateType()===g.AnalyticalListPage;const ne=te?".handlers.onSegmentedButtonPressed":"";const ie=te?"{= ${pageInternal>alpContentView} !== 'Table'}":"true";const oe=l.getAllowedTransformations();k.enableSearch=oe?oe.indexOf("search")>=0:true;let ae="";if(t.fullyQualifiedName.split("#").length>1){ae=t.fullyQualifiedName.split("#")[1]}return{type:p.Chart,id:ae?m(Y?J:q,ae,p.Chart):m(Y?J:q,p.Chart),collection:b(i.getDataModelObjectPath()),entityName:J,personalization:_(n,i),navigationPath:q,annotationPath:i.getAbsoluteAnnotationPath(n),filterId:X,vizProperties:JSON.stringify(Z),actions:W.actions,commandActions:W.commandActions,title:K,autoBindOnInit:ee,onSegmentedButtonPressed:ne,visible:ie,customAgg:C,transAgg:I,applySupported:k,selectionPresentationVariantPath:P,variantManagement:R(v,f)}}d.createChartVisualization=F;function R(e,t){return t==="Control"&&!e?f.None:t}function N(e,t){var n,i;return T(C(E(P((n=e.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:i.Hidden,[],undefined,t.getRelativeModelPathFunction()),true)))}function $(e){const t=e.getManifestWrapper().hasMultipleVisualizations()||e.getTemplateType()===g.AnalyticalListPage;const n=e.getDataModelObjectPath();const i=n.targetEntitySet?n.targetEntitySet.name:n.startingEntitySet.name;const o={type:p.Chart,id:m(i,p.Chart),entityName:i,title:"",collection:"",personalization:undefined,navigationPath:"",annotationPath:"",vizProperties:JSON.stringify({legendGroup:{layout:{position:"bottom"}}}),actions:[],commandActions:{},autoBindOnInit:false,onSegmentedButtonPressed:"",visible:t?"{= ${pageInternal>alpContentView} !== 'Table'}":"true",customAgg:{},transAgg:{},applySupported:{$Type:"Org.OData.Aggregation.V1.ApplySupportedType",AggregatableProperties:[],GroupableProperties:[],enableSearch:false},multiViews:false,variantManagement:f.None};return o}d.createBlankChartVisualization=$;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/controls/Common/Criticality",["sap/fe/core/formatters/TableFormatterTypes"],function(e){"use strict";var t={};var n=e.MessageType;function i(e){let t;switch(e){case"UI.CriticalityType/Negative":case"UI.CriticalityType/VeryNegative":t=n.Error;break;case"UI.CriticalityType/Critical":t=n.Warning;break;case"UI.CriticalityType/Positive":case"UI.CriticalityType/VeryPositive":t=n.Success;break;case"UI.CriticalityType/Information":t=n.Information;break;case"UI.CriticalityType/Neutral":default:t=n.None}return t}t.getMessageTypeFromCriticalityType=i;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/controls/Common/DataVisualization",["sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/MetaModelConverter","sap/fe/macros/CommonHelper","../../ManifestSettings","./Chart","./Table"],function(e,t,n,i,o,a){"use strict";var r={};var s=o.createChartVisualization;var l=o.createBlankChartVisualization;var c=i.TemplateType;var u=e.IssueType;var d=e.IssueSeverity;var p=e.IssueCategory;const f=function(e,t,n,i){const o=[];const a=A(n);const r=t.split("@")[0];if((i===true||a)&&!h(e,a)){if(!O(e,"com.sap.vocabularies.UI.v1.LineItem")){const e=S("com.sap.vocabularies.UI.v1.LineItem",r,n);if(e){o.push(e)}}if(!O(e,"com.sap.vocabularies.UI.v1.Chart")){const e=S("com.sap.vocabularies.UI.v1.Chart",r,n);if(e){o.push(e)}}}const s=e.Visualizations;const l=function(e){const t=s===null||s===void 0?void 0:s.find(t=>{var n;return e.indexOf((n=t.$target)===null||n===void 0?void 0:n.term)>=0});if(t){o.push({visualization:t.$target,annotationPath:`${r}${t.value}`,converterContext:n})}};if(a){l(["com.sap.vocabularies.UI.v1.LineItem"]);l(["com.sap.vocabularies.UI.v1.Chart"])}else{l(["com.sap.vocabularies.UI.v1.LineItem","com.sap.vocabularies.UI.v1.Chart"])}return o};r.getVisualizationsFromPresentationVariant=f;function g(e,t,n){if(t){const e=n.getEntityTypeAnnotation(t);const i=e.annotation;if(i){if(i.term==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){return i}}else{throw new Error("Annotation Path for the SPV mentioned in the manifest is not found, Please add the SPV in the annotation")}}else{var i,o;return(i=e.annotations)===null||i===void 0?void 0:(o=i.UI)===null||o===void 0?void 0:o.SelectionPresentationVariant}}r.getSelectionPresentationVariant=g;function v(e,t){const n=e&&e.PresentationVariant;if(n){return h(n,t)}else{throw new Error("Presentation Variant is not present in the SPV annotation")}}r.isSelectionPresentationCompliant=v;function h(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n=false,i=false;if(t){if(e!==null&&e!==void 0&&e.Visualizations){const t=e.Visualizations;t.forEach(e=>{var t,o;if(((t=e.$target)===null||t===void 0?void 0:t.term)==="com.sap.vocabularies.UI.v1.LineItem"){n=true}if(((o=e.$target)===null||o===void 0?void 0:o.term)==="com.sap.vocabularies.UI.v1.Chart"){i=true}})}return i&&n}else{return(e===null||e===void 0?void 0:e.Visualizations)&&!!e.Visualizations.find(e=>{var t,n;return((t=e.$target)===null||t===void 0?void 0:t.term)==="com.sap.vocabularies.UI.v1.LineItem"||((n=e.$target)===null||n===void 0?void 0:n.term)==="com.sap.vocabularies.UI.v1.Chart"})}}r.isPresentationCompliant=h;function m(e){var t;return(t=e.annotations.UI)===null||t===void 0?void 0:t.LineItem}r.getDefaultLineItem=m;function y(e){var t;return(t=e.annotations.UI)===null||t===void 0?void 0:t.Chart}r.getDefaultChart=y;function b(e){var t,n;return(t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.PresentationVariant}r.getDefaultPresentationVariant=b;function C(e){var t,n;return(t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.SelectionVariant}r.getDefaultSelectionVariant=C;function P(e,t){const n=t.getManifestWrapper().getDefaultTemplateAnnotationPath();const i=g(e,n,t);let o;if(i){o=i.SelectionVariant;if(o){return o}}else{o=C(e);return o}}r.getSelectionVariant=P;function E(e,t,n,i,o,r,c){const g=e!==""?n.getEntityTypeAnnotation(e):{annotation:undefined,converterContext:n};const v=r?n.getEntityTypeAnnotation(r):null;const h=g.annotation;n=g.converterContext;let m=[];let y;let b="";let C,P;const E=h===null||h===void 0?void 0:h.term;if(E){switch(E){case"com.sap.vocabularies.UI.v1.LineItem":case"com.sap.vocabularies.UI.v1.Chart":y=v===null||v===void 0?void 0:v.annotation;m.push({visualization:h,annotationPath:e,converterContext:n});break;case"com.sap.vocabularies.UI.v1.PresentationVariant":y=h;m=m.concat(f(h,e,n,c));break;case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":y=h.PresentationVariant;b=y.fullyQualifiedName;m=m.concat(f(y,e,n,c));break;default:break}m.forEach(e=>{const{visualization:n,annotationPath:r,converterContext:l}=e;switch(n.term){case"com.sap.vocabularies.UI.v1.Chart":C=s(n,r,l,o,i);break;case"com.sap.vocabularies.UI.v1.LineItem":default:P=a.createTableVisualization(n,r,l,y,t,i);break}})}const T=[];let O=E==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"?b:h===null||h===void 0?void 0:h.fullyQualifiedName;if(O===undefined){O="/"}const S=A(n);if(!E||S&&P===undefined){P=a.createDefaultTableVisualization(n,c!==true);n.getDiagnostics().addIssue(p.Annotation,d.Medium,u.MISSING_LINEITEM)}if(S&&C===undefined){C=l(n);n.getDiagnostics().addIssue(p.Annotation,d.Medium,u.MISSING_CHART)}if(C){T.push(C)}if(P){T.push(P)}return{visualizations:T,annotationPath:n.getEntitySetBasedAnnotationPath(O)}}r.getDataVisualizationConfiguration=E;function T(e,i){n.validatePresentationMetaPath(e.getPath(),i);const o=t.convertMetaModelContext(e),a=n.createPresentationPathContext(e),r=e.getModel();if(o){if(n._isPresentationVariantAnnotation(a.getPath())){const t=o.PresentationVariant?o.PresentationVariant.Visualizations:o.Visualizations;if(Array.isArray(t)){for(const n of t){if(n.type=="AnnotationPath"&&n.value.indexOf(i)!==-1&&!!r.getMetaContext(e.getPath().split("@")[0]+n.value).getObject()){i=n.value;break}}}}else{return e}}return r.getMetaContext(e.getPath().split("@")[0]+i)}r.getUiControl=T;const O=function(e,t){var n;return((n=e.Visualizations)===null||n===void 0?void 0:n.some(e=>e.value.indexOf(t)>-1))??false};r.annotationExistsInPresentationVariant=O;const S=function(e,t,n){const i=n.getEntityType();const o=e==="com.sap.vocabularies.UI.v1.LineItem"?m(i):y(i);if(o){return{visualization:o,annotationPath:`${t}${n.getRelativeAnnotationPath(o.fullyQualifiedName,i)}`,converterContext:n}}return undefined};r.prepareDefaultVisualization=S;const A=function(e){return e.getManifestWrapper().hasMultipleVisualizations()||e.getTemplateType()===c.AnalyticalListPage};r.isAlpAnnotation=A;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/controls/Common/Form",["sap/fe/core/converters/annotations/DataField","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","../../../helpers/StableIdHelper","../../helpers/ConfigurableObject","../../helpers/DataFieldHelper","../../helpers/ID","../../helpers/Key","../../ManifestSettings"],function(e,t,n,i,o,a,r,s,l,c){"use strict";var u={};var d=c.ActionType;var p=l.KeyHelper;var f=s.getFormStandardActionButtonID;var g=s.getFormID;var v=r.isReferencePropertyStaticallyHidden;var h=a.Placement;var m=a.OverrideType;var y=a.insertCustomElements;var b=o.createIdForAnnotation;var C=i.getTargetObjectPath;var P=i.getTargetEntitySetPath;var E=n.isSingleton;var T=t.pathInModel;var O=t.not;var S=t.ifElse;var A=t.getExpressionFromAnnotation;var I=t.equal;var D=t.compileExpression;var x=e.getSemanticObjectPath;let M;(function(e){e["Default"]="Default";e["Slot"]="Slot";e["Annotation"]="Annotation"})(M||(M={}));u.FormElementType=M;function _(){return{textLinesEdit:4}}function w(e,t){var n,i,o,a;return(t===null||t===void 0?void 0:t.valueOf())===false||((n=e.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:i.PartOfPreview)===undefined||((o=e.annotations)===null||o===void 0?void 0:(a=o.UI)===null||a===void 0?void 0:a.PartOfPreview.valueOf())===true}function F(e,t){const n=[];const i=t.getEntityTypeAnnotation(e.Target.value);const o=i.annotation;t=i.converterContext;function a(e,i){var o,a,r;const s=x(t,e);if(e.$Type!=="com.sap.vocabularies.UI.v1.DataFieldForAction"&&e.$Type!=="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&!v(e)&&((o=e.annotations)===null||o===void 0?void 0:(a=o.UI)===null||a===void 0?void 0:(r=a.Hidden)===null||r===void 0?void 0:r.valueOf())!==true){const o={key:p.generateKeyFromDataField(e),type:M.Annotation,annotationPath:`${t.getEntitySetBasedAnnotationPath(e.fullyQualifiedName)}/`,semanticObjectPath:s,formatOptions:_(),isPartOfPreview:w(e,i)};if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&e.Target.$target.$Type==="com.sap.vocabularies.UI.v1.ConnectedFieldsType"){const n=Object.values(e.Target.$target.Data).filter(e=>e===null||e===void 0?void 0:e.hasOwnProperty("Value"));o.connectedFields=n.map(e=>({semanticObjectPath:x(t,e)}))}n.push(o)}}switch(o===null||o===void 0?void 0:o.term){case"com.sap.vocabularies.UI.v1.FieldGroup":o.Data.forEach(t=>{var n,i;return a(t,(n=e.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:i.PartOfPreview)});break;case"com.sap.vocabularies.UI.v1.Identification":o.forEach(t=>{var n,i;return a(t,(n=e.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:i.PartOfPreview)});break;case"com.sap.vocabularies.UI.v1.DataPoint":n.push({key:`DataPoint::${o.qualifier?o.qualifier:""}`,type:M.Annotation,annotationPath:`${t.getEntitySetBasedAnnotationPath(o.fullyQualifiedName)}/`});break;case"com.sap.vocabularies.Communication.v1.Contact":n.push({key:`Contact::${o.qualifier?o.qualifier:""}`,type:M.Annotation,annotationPath:`${t.getEntitySetBasedAnnotationPath(o.fullyQualifiedName)}/`});break;default:break}return n}function R(e,t){const n=t.getManifestWrapper();const i=n.getFormContainer(e.Target.value);const o={};if(i!==null&&i!==void 0&&i.fields){Object.keys(i===null||i===void 0?void 0:i.fields).forEach(e=>{o[e]={key:e,id:`CustomFormElement::${e}`,type:i.fields[e].type||M.Default,template:i.fields[e].template,label:i.fields[e].label,position:i.fields[e].position||{placement:h.After},formatOptions:{..._(),...i.fields[e].formatOptions}}})}return o}u.getFormElementsFromManifest=R;function N(e,t,n){var i,o,a,r,s,l;const c=b(e);const u=t.getEntitySetBasedAnnotationPath(e.fullyQualifiedName);const p=t.getEntityTypeAnnotation(e.Target.value);const g=D(O(I(true,A((i=e.annotations)===null||i===void 0?void 0:(o=i.UI)===null||o===void 0?void 0:o.Hidden))));let v;const h=p.converterContext.getEntitySet();if(h&&h!==t.getEntitySet()){v=P(p.converterContext.getDataModelObjectPath())}else if(((a=p.converterContext.getDataModelObjectPath().targetObject)===null||a===void 0?void 0:a.containsTarget)===true){v=C(p.converterContext.getDataModelObjectPath(),false)}else if(h&&!v&&E(h)){v=h.fullyQualifiedName}const x=y(F(e,t),R(e,t),{formatOptions:m.overwrite});n=n!==undefined?n.filter(t=>t.facetName==e.fullyQualifiedName):[];if(n.length===0){n=undefined}const M={id:f(c,"ShowHideDetails"),key:"StandardAction::ShowHideDetails",text:D(S(I(T("showDetails","internal"),true),T("T_COMMON_OBJECT_PAGE_HIDE_FORM_CONTAINER_DETAILS","sap.fe.i18n"),T("T_COMMON_OBJECT_PAGE_SHOW_FORM_CONTAINER_DETAILS","sap.fe.i18n"))),type:d.ShowFormDetails,press:"FormContainerRuntime.toggleDetails"};if(((r=e.annotations)===null||r===void 0?void 0:(s=r.UI)===null||s===void 0?void 0:(l=s.PartOfPreview)===null||l===void 0?void 0:l.valueOf())!==false&&x.some(e=>e.isPartOfPreview===false)){if(n!==undefined){n.push(M)}else{n=[M]}}return{id:c,formElements:x,annotationPath:u,isVisible:g,entitySet:v,actions:n}}u.getFormContainer=N;function $(e,t,n){var i;const o=[];(i=e.Facets)===null||i===void 0?void 0:i.forEach(e=>{if(e.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){return}o.push(N(e,t,n))});return o}function V(e){return e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"}u.isReferenceFacet=V;function L(e,t,n,i){var o,a,r;switch(e.$Type){case"com.sap.vocabularies.UI.v1.CollectionFacet":return{id:g(e),useFormContainerLabels:true,hasFacetsNotPartOfPreview:e.Facets.some(e=>{var t,n,i;return((t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:(i=n.PartOfPreview)===null||i===void 0?void 0:i.valueOf())===false}),formContainers:$(e,n,i),isVisible:t};case"com.sap.vocabularies.UI.v1.ReferenceFacet":return{id:g(e),useFormContainerLabels:false,hasFacetsNotPartOfPreview:((o=e.annotations)===null||o===void 0?void 0:(a=o.UI)===null||a===void 0?void 0:(r=a.PartOfPreview)===null||r===void 0?void 0:r.valueOf())===false,formContainers:[N(e,n,i)],isVisible:t};default:throw new Error("Cannot create form based on ReferenceURLFacet")}}u.createFormDefinition=L;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/controls/Common/KPI",["sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/helpers/SelectionVariantHelper","sap/fe/core/formatters/TableFormatterTypes","sap/fe/core/helpers/TypeGuards","../../helpers/Aggregation","../../helpers/ID","./Criticality"],function(e,t,n,i,o,a,r){"use strict";var s={};var l=r.getMessageTypeFromCriticalityType;var c=a.getKPIID;var u=o.AggregationHelper;var d=i.isPathAnnotationExpression;var p=i.isAnnotationOfType;var f=n.MessageType;var g=t.getFilterDefinitionsFromSelectionVariant;var v=e.IssueType;var h=e.IssueSeverity;var m=e.IssueCategory;const y={"UI.TrendType/StrongUp":"Up","UI.TrendType/Up":"Up","UI.TrendType/StrongDown":"Down","UI.TrendType/Down":"Down","UI.TrendType/Sideways":"None"};const b={"UI.ChartType/ColumnStacked":"StackedColumn","UI.ChartType/BarStacked":"StackedBar","UI.ChartType/Donut":"Donut","UI.ChartType/Line":"Line","UI.ChartType/Bubble":"bubble","UI.ChartType/Column":"column","UI.ChartType/Bar":"bar","UI.ChartType/VerticalBullet":"vertical_bullet","UI.ChartType/Combination":"combination","UI.ChartType/Scatter":"scatter"};function C(e,t){var n,i;if(e.Measures===undefined){return undefined}const o=e.Dimensions?e.Dimensions.map(t=>{var n,i,o,a;const r=(n=e.DimensionAttributes)===null||n===void 0?void 0:n.find(e=>{var n;return((n=e.Dimension)===null||n===void 0?void 0:n.value)===t.value});return{name:t.value,label:((i=t.$target.annotations.Common)===null||i===void 0?void 0:(o=i.Label)===null||o===void 0?void 0:o.toString())||t.value,role:r===null||r===void 0?void 0:(a=r.Role)===null||a===void 0?void 0:a.replace("UI.ChartDimensionRoleType/","")}}):[];const a=e.Measures.map(t=>{var n,i,o,a;const r=(n=e.MeasureAttributes)===null||n===void 0?void 0:n.find(e=>{var n;return((n=e.Measure)===null||n===void 0?void 0:n.value)===t.value});return{name:t.value,label:((i=t.$target.annotations.Common)===null||i===void 0?void 0:(o=i.Label)===null||o===void 0?void 0:o.toString())||t.value,role:r===null||r===void 0?void 0:(a=r.Role)===null||a===void 0?void 0:a.replace("UI.ChartMeasureRoleType/","")}});return{chartType:b[e.ChartType]||"Line",dimensions:o,measures:a,sortOrder:t===null||t===void 0?void 0:(n=t.SortOrder)===null||n===void 0?void 0:n.map(e=>{var t;return{name:((t=e.Property)===null||t===void 0?void 0:t.value)||"",descending:!!e.Descending}}),maxItems:t===null||t===void 0?void 0:(i=t.MaxItems)===null||i===void 0?void 0:i.valueOf()}}function P(e,t){var n,i;const o=e.Value.$target;if((n=o.annotations.Measures)!==null&&n!==void 0&&n.ISOCurrency){var a;const e=(a=o.annotations.Measures)===null||a===void 0?void 0:a.ISOCurrency;if(d(e)){t.datapoint.unit={value:e.$target.name,isCurrency:true,isPath:true}}else{t.datapoint.unit={value:e.toString(),isCurrency:true,isPath:false}}}else if((i=o.annotations.Measures)!==null&&i!==void 0&&i.Unit){var r;const e=(r=o.annotations.Measures)===null||r===void 0?void 0:r.Unit;if(d(e)){t.datapoint.unit={value:e.$target.name,isCurrency:false,isPath:true}}else{t.datapoint.unit={value:e.toString(),isCurrency:false,isPath:false}}}}function E(e,t,n){if(e.Criticality){if(typeof e.Criticality==="object"){const i=e.Criticality.$target;if(t.isPropertyAggregatable(i)){n.datapoint.criticalityPath=e.Criticality.path}else{n.datapoint.criticalityValue=f.None}}else{n.datapoint.criticalityValue=l(e.Criticality)}}else if(e.CriticalityCalculation){n.datapoint.criticalityCalculationMode=e.CriticalityCalculation.ImprovementDirection;n.datapoint.criticalityCalculationThresholds=[];switch(n.datapoint.criticalityCalculationMode){case"UI.ImprovementDirectionType/Target":n.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.DeviationRangeLowValue);n.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.ToleranceRangeLowValue);n.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.AcceptanceRangeLowValue);n.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.AcceptanceRangeHighValue);n.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.ToleranceRangeHighValue);n.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.DeviationRangeHighValue);break;case"UI.ImprovementDirectionType/Minimize":n.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.AcceptanceRangeHighValue);n.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.ToleranceRangeHighValue);n.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.DeviationRangeHighValue);break;case"UI.ImprovementDirectionType/Maximize":default:n.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.DeviationRangeLowValue);n.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.ToleranceRangeLowValue);n.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.AcceptanceRangeLowValue)}}else{n.datapoint.criticalityValue=f.None}}function T(e,t,n){if(e.Trend){if(typeof e.Trend==="object"){const i=e.Trend.$target;if(t.isPropertyAggregatable(i)){n.datapoint.trendPath=e.Trend.path}else{n.datapoint.trendValue="None"}}else{n.datapoint.trendValue=y[e.Trend]||"None"}}else if(e.TrendCalculation){n.datapoint.trendCalculationIsRelative=e.TrendCalculation.IsRelativeDifference?true:false;if(e.TrendCalculation.ReferenceValue.$target){const i=e.TrendCalculation.ReferenceValue.$target;if(t.isPropertyAggregatable(i)){n.datapoint.trendCalculationReferencePath=e.TrendCalculation.ReferenceValue.path}else{n.datapoint.trendValue="None"}}else{n.datapoint.trendCalculationReferenceValue=e.TrendCalculation.ReferenceValue}if(n.datapoint.trendCalculationReferencePath!==undefined||n.datapoint.trendCalculationReferenceValue!==undefined){n.datapoint.trendCalculationTresholds=[e.TrendCalculation.StrongDownDifference.valueOf(),e.TrendCalculation.DownDifference.valueOf(),e.TrendCalculation.UpDifference.valueOf(),e.TrendCalculation.StrongUpDifference.valueOf()]}}else{n.datapoint.trendValue="None"}}function O(e,t,n){if(e.TargetValue){if(e.TargetValue.$target){const i=e.TargetValue.$target;if(t.isPropertyAggregatable(i)){n.datapoint.targetPath=e.TargetValue.path}}else{n.datapoint.targetValue=e.TargetValue}}}function S(e){const t=e.annotations["Common"]||{};let n;Object.keys(t).forEach(e=>{const i=t[e];if(i.term==="com.sap.vocabularies.Common.v1.SemanticObject"){if(!i.qualifier||!n){n=i}}});if(n){const e={semanticObject:n.toString(),unavailableActions:[]};const i=Object.keys(t).find(e=>{var i;return t[e].term==="com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"&&t[e].qualifier===((i=n)===null||i===void 0?void 0:i.qualifier)});if(i){e.unavailableActions=t[i]}return e}else{return undefined}}function A(e,t,n){var i,o;const a=n.getConverterContextFor(`/${t.entitySet}`);const r=new u(a.getEntityType(),a);if(!r.isAnalyticsSupported()){n.getDiagnostics().addIssue(m.Annotation,h.Medium,v.KPI_ISSUES.NO_ANALYTICS+t.entitySet);return undefined}let s;let l;let d;let f;let y;const b=a.getAnnotationsByTerm("UI","com.sap.vocabularies.UI.v1.KPI");const A=b.find(e=>e.qualifier===t.qualifier);if(A){var I,D,x,M,_;l=A.DataPoint;s=A.SelectionVariant;d=(I=A.Detail)===null||I===void 0?void 0:I.DefaultPresentationVariant;f=(D=d)===null||D===void 0?void 0:(x=D.Visualizations)===null||x===void 0?void 0:(M=x.find(e=>p(e.$target,"com.sap.vocabularies.UI.v1.ChartDefinitionType")))===null||M===void 0?void 0:M.$target;if((_=A.Detail)!==null&&_!==void 0&&_.SemanticObject){var w;y={semanticObject:A.Detail.SemanticObject.toString(),action:(w=A.Detail.Action)===null||w===void 0?void 0:w.toString(),unavailableActions:[]}}}else{const e=a.getAnnotationsByTerm("UI","com.sap.vocabularies.UI.v1.SelectionPresentationVariant");const i=e.find(e=>e.qualifier===t.qualifier);if(i){var F,R,N,$,V,L;s=i.SelectionVariant;d=i.PresentationVariant;l=(F=d)===null||F===void 0?void 0:(R=F.Visualizations)===null||R===void 0?void 0:(N=R.find(e=>p(e.$target,"com.sap.vocabularies.UI.v1.DataPointType")))===null||N===void 0?void 0:N.$target;f=($=d)===null||$===void 0?void 0:(V=$.Visualizations)===null||V===void 0?void 0:(L=V.find(e=>p(e.$target,"com.sap.vocabularies.UI.v1.ChartDefinitionType")))===null||L===void 0?void 0:L.$target}else{n.getDiagnostics().addIssue(m.Annotation,h.Medium,v.KPI_ISSUES.KPI_NOT_FOUND+t.qualifier);return undefined}}if(!d||!l||!f){n.getDiagnostics().addIssue(m.Annotation,h.Medium,v.KPI_ISSUES.KPI_DETAIL_NOT_FOUND+t.qualifier);return undefined}const B=l.Value.$target;if(!r.isPropertyAggregatable(B)){n.getDiagnostics().addIssue(m.Annotation,h.Medium,v.KPI_ISSUES.MAIN_PROPERTY_NOT_AGGREGATABLE+t.qualifier);return undefined}const j=C(f,d);if(!j){return undefined}const k={id:c(e),entitySet:t.entitySet,datapoint:{propertyPath:l.Value.path,annotationPath:a.getEntitySetBasedAnnotationPath(l.fullyQualifiedName),title:(i=l.Title)===null||i===void 0?void 0:i.toString(),description:(o=l.Description)===null||o===void 0?void 0:o.toString()},selectionVariantFilterDefinitions:s?g(s):undefined,chart:j};if(!y){if(t.detailNavigation){y={outboundNavigation:t.detailNavigation}}else{y=S(B)}}if(y){k.navigation=y}P(l,k);E(l,r,k);T(l,r,k);O(l,r,k);return k}function I(e){const t=e.getManifestWrapper().getKPIConfiguration(),n=[];Object.keys(t).forEach(i=>{const o=A(i,t[i],e);if(o){n.push(o)}});return n}s.getKPIDefinitions=I;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/controls/Common/Table",["sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/helpers/Key","sap/fe/core/formatters/TableFormatter","sap/fe/core/formatters/TableFormatterTypes","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/EntitySetHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/internal/helpers/ActionHelper","sap/ui/core/Core","../../helpers/Aggregation","../../helpers/DataFieldHelper","../../helpers/ID","../../ManifestSettings","./Criticality","./table/StandardActions"],function(e,t,n,i,o,a,r,s,l,c,u,d,p,f,g,v,h,m,y,b,C,P,E,T,O){"use strict";var S={};var A=O.isInDisplayMode;var I=O.isDraftOrStickySupported;var D=O.getStandardActionPaste;var x=O.getStandardActionMassEdit;var M=O.getStandardActionDelete;var _=O.getStandardActionCreate;var w=O.getRestrictions;var F=O.getMassEditVisibility;var R=O.getInsertUpdateActionsTemplating;var N=O.getDeleteVisibility;var $=O.getCreationRow;var V=O.generateStandardActionsContext;var L=T.getMessageTypeFromCriticalityType;var B=E.VisualizationType;var j=E.VariantManagementType;var k=E.TemplateType;var U=E.SelectionMode;var H=E.Importance;var G=E.HorizontalAlign;var z=E.CreationMode;var W=E.ActionType;var q=P.getTableID;var K=C.isReferencePropertyStaticallyHidden;var Q=b.AggregationHelper;var Y=h.isMultiValueField;var J=v.getAssociatedUnitProperty;var X=v.getAssociatedTimezoneProperty;var Z=v.getAssociatedCurrencyProperty;var ee=g.getNonSortablePropertiesRestrictions;var te=f.getDisplayMode;var ne=p.isPathUpdatable;var ie=p.isPathSearchable;var oe=p.isPathDeletable;var ae=p.getTargetObjectPath;var re=p.enhanceDataModelPath;var se=d.isTypeDefinition;var le=d.isProperty;var ce=d.isPathAnnotationExpression;var ue=d.isNavigationProperty;var de=d.isAnnotationOfType;var pe=u.replaceSpecialChars;var fe=u.generate;var ge=l.resolveBindingString;var ve=l.pathInModel;var he=l.or;var me=l.not;var ye=l.isConstant;var be=l.ifElse;var Ce=l.getExpressionFromAnnotation;var Pe=l.formatResult;var Ee=l.equal;var Te=l.EDM_TYPE_MAPPING;var Oe=l.constant;var Se=l.compileExpression;var Ae=l.and;var Ie=s.MessageType;var De=a.KeyHelper;var xe=o.IssueType;var Me=o.IssueSeverity;var _e=o.IssueCategoryType;var we=o.IssueCategory;var Fe=i.Placement;var Re=i.OverrideType;var Ne=i.insertCustomElements;var $e=n.UI;var Ve=n.Entity;var Le=t.getEnabledForAnnotationAction;var Be=t.removeDuplicateActions;var je=t.isActionNavigable;var ke=t.getCopyAction;var Ue=t.getActionsFromManifest;var He=t.dataFieldIsCopyAction;var Ge=e.isDataPointFromDataFieldDefault;var ze=e.isDataFieldTypes;var We=e.isDataFieldForActionAbstract;var qe=e.getTargetValueOnDataPoint;var Ke=e.getSemanticObjectPath;var Qe=e.getDataFieldDataType;var Ye=e.collectRelatedPropertiesRecursively;var Je=e.collectRelatedProperties;var Xe;(function(e){e["Default"]="Default";e["Annotation"]="Annotation";e["Slot"]="Slot"})(Xe||(Xe={}));function Ze(e,t,n,i){const o=bt(e,t,n);const a=o.tableActions;const r=o.hiddenTableActions;const s=Ue(n.getManifestControlConfiguration(t).actions,n,a,i,true,r);const l={isNavigable:Re.overwrite,enableOnSelect:Re.overwrite,enableAutoScroll:Re.overwrite,enabled:Re.overwrite,visible:Re.overwrite,defaultValuesExtensionFunction:Re.overwrite,command:Re.overwrite};const c=Ne(a,s.actions,l);return{actions:c,commandActions:s.commandActions}}S.getTableActions=Ze;function et(e,t,n,i){const o=Jt(e,t,n);const a=en(n.getManifestControlConfiguration(t).columns,o,n,n.getAnnotationEntityType(e),i);return Ne(o,a,{width:Re.overwrite,importance:Re.overwrite,horizontalAlign:Re.overwrite,availability:Re.overwrite,isNavigable:Re.overwrite,settings:Re.overwrite,formatOptions:Re.overwrite})}S.getTableColumns=et;const tt=function(e,t,n){const i=new Q(e,n);function o(e){return t.find(t=>{const n=t;return n.propertyInfos===undefined&&n.relativePath===e})}if(!i.isAnalyticsSupported()){return undefined}const a=new Set;t.forEach(e=>{const t=e;if(t.unit){a.add(t.unit)}});const r=i.getCustomAggregateDefinitions();const s={};r.forEach(e=>{const t=i._entityType.entityProperties.find(t=>t.name===e.qualifier);if(t){var n,o;const i=(n=e.annotations)===null||n===void 0?void 0:(o=n.Aggregation)===null||o===void 0?void 0:o.ContextDefiningProperties;s[t.name]=i?i.map(e=>e.value):[]}});const l={};t.forEach(e=>{const t=e;if(t.propertyInfos===undefined&&t.relativePath){const e=s[t.relativePath];if(e&&!a.has(t.name)){l[t.name]={defaultAggregate:{},relativePath:t.relativePath};const n=[];e.forEach(e=>{const t=o(e);if(t){n.push(t.name)}});if(n.length){l[t.name].defaultAggregate.contextDefiningProperties=n}}}});return l};S.getAggregateDefinitionsFromEntityType=tt;function nt(e,t,n,i){if(e.control.type==="AnalyticalTable"){const o=tt(t,e.columns,n),a=new Q(t,n);if(o){e.enableAnalytics=true;e.enable$select=false;e.enable$$getKeepAliveContext=false;e.aggregates=o;ln(e);const t=a.getAllowedTransformations();e.enableBasicSearch=t?t.indexOf("search")>=0:true;e.annotation.groupConditions=sn(i,e.columns,e.control.type);e.annotation.aggregateConditions=cn(i,e.columns)}e.control.type="GridTable"}else if(e.control.type==="ResponsiveTable"){e.annotation.groupConditions=sn(i,e.columns,e.control.type)}else if(e.control.type==="TreeTable"){const i=new Q(t,n);const o=i.getAllowedTransformations();e.enableBasicSearch=o?o.includes("search"):true;e.enable$$getKeepAliveContext=false}}S.updateTableVisualizationForType=nt;function it(e,t){const n=e.getManifestWrapper();if(t&&n.getNavigationConfiguration(t)){const e=n.getNavigationConfiguration(t);if(Object.keys(e).length>0){return t}}const i=e.getDataModelObjectPath();const o=e.getContextPath();const a=n.getNavigationConfiguration(o);if(a&&Object.keys(a).length>0){return o}return i.targetEntitySet?i.targetEntitySet.name:i.startingEntitySet.name}function ot(e,t){function n(e){return t.find(t=>{const n=t;return n.propertyInfos===undefined&&n.relativePath===e})}t.forEach(t=>{const i=t;if(i.propertyInfos===undefined&&i.relativePath){const t=e.entityProperties.find(e=>e.name===i.relativePath);if(t){var o,a,r;const e=Z(t)||J(t);const d=X(t);const p=t===null||t===void 0?void 0:(o=t.annotations)===null||o===void 0?void 0:(a=o.Common)===null||a===void 0?void 0:a.Timezone;if(e){const t=n(e.name);i.unit=t===null||t===void 0?void 0:t.name}else{var s,l,c,u;const e=(t===null||t===void 0?void 0:(s=t.annotations)===null||s===void 0?void 0:(l=s.Measures)===null||l===void 0?void 0:l.ISOCurrency)||(t===null||t===void 0?void 0:(c=t.annotations)===null||c===void 0?void 0:(u=c.Measures)===null||u===void 0?void 0:u.Unit);if(e){i.unitText=`${e}`}}if(d){const e=n(d.name);i.timezone=e===null||e===void 0?void 0:e.name}else if(p){i.timezoneText=p.toString()}const f=te(t),g=(r=t.annotations.Common)===null||r===void 0?void 0:r.Text;if(ce(g)&&f!=="Value"){const e=n(g.path);if(e&&e.name!==i.name){i.textArrangement={textProperty:e.name,mode:f}}}}}})}S.updateLinkedProperties=ot;function at(e){var t,n,i,o,a,r,s,l,c,u,d,p,f;const g=(t=e.getAnnotationEntityType())===null||t===void 0?void 0:(n=t.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:(o=i.HeaderInfo)===null||o===void 0?void 0:(a=o.Title)===null||a===void 0?void 0:(r=a.Value)===null||r===void 0?void 0:r.path;const v=(s=e.getAnnotationEntityType())===null||s===void 0?void 0:(l=s.annotations)===null||l===void 0?void 0:(c=l.Common)===null||c===void 0?void 0:c.SemanticKey;const h=e===null||e===void 0?void 0:(u=e.getAnnotationEntityType())===null||u===void 0?void 0:(d=u.annotations)===null||d===void 0?void 0:(p=d.UI)===null||p===void 0?void 0:(f=p.HeaderInfo)===null||f===void 0?void 0:f.TypeName;const m=[];if(v){v.forEach(function(e){m.push(e.value)})}return{headerInfoTitlePath:g,semanticKeyColumns:m,headerInfoTypeName:h}}function rt(e,t,n,i,o,a){const r=Sn(e,t,n,o);const{navigationPropertyPath:s}=pn(t);const l=it(n,s);const c=n.getManifestWrapper().getNavigationConfiguration(l);const u=et(e,t,n,c);const d=lt(e,n);const p=at(n);const f=Ze(e,t,n,c);const g={type:B.Table,annotation:un(e,t,n,r,u,i,a),control:r,actions:Be(f.actions),commandActions:f.commandActions,columns:u,operationAvailableMap:JSON.stringify(d),operationAvailableProperties:ut(d,n),headerInfoTitle:p.headerInfoTitlePath,semanticKeys:p.semanticKeyColumns,headerInfoTypeName:p.headerInfoTypeName,enable$select:true,enable$$getKeepAliveContext:true};ot(n.getAnnotationEntityType(e),u);nt(g,n.getAnnotationEntityType(e),n,i);return g}S.createTableVisualization=rt;function st(e,t){const n=Sn(undefined,"",e,false);const i=Tt({},e.getEntityType(),[],[],e,n.type,[]);const o=lt(undefined,e);const a=at(e);const r={type:B.Table,annotation:un(undefined,"",e,n,t?[]:i),control:n,actions:[],columns:i,operationAvailableMap:JSON.stringify(o),operationAvailableProperties:ut(o,e),headerInfoTitle:a.headerInfoTitlePath,semanticKeys:a.semanticKeyColumns,headerInfoTypeName:a.headerInfoTypeName,enable$select:true,enable$$getKeepAliveContext:true};ot(e.getEntityType(),i);nt(r,e.getEntityType(),e);return r}S.createDefaultTableVisualization=st;function lt(e,t){return m.getOperationAvailableMap(e,"table",t)}function ct(e){var t,n;const i=w(e);const o=e.getEntitySet();const a=i.isUpdatable;const r=!ye(a.expression)&&a.navigationExpression._type==="Unresolvable";const s=o===null||o===void 0?void 0:(t=o.annotations.Capabilities)===null||t===void 0?void 0:(n=t.UpdateRestrictions)===null||n===void 0?void 0:n.Updatable;const l=ce(s)&&s.path;return r?l:""}function ut(e,t){const n=new Set;for(const t in e){const i=e[t];if(i===null){n.add(t)}else if(typeof i==="string"){n.add(i)}}if(n.size){var i,o,a,r,s;const e=t.getEntityType();const l=(i=e.annotations)===null||i===void 0?void 0:(o=i.UI)===null||o===void 0?void 0:(a=o.HeaderInfo)===null||a===void 0?void 0:(r=a.Title)===null||r===void 0?void 0:(s=r.Value)===null||s===void 0?void 0:s.path;if(l){n.add(l)}}return Array.from(n).join(",")}function dt(e,t,n,i){const o=[];e.forEach(e=>{var a,r;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&e!==null&&e!==void 0&&(a=e.ActionTarget)!==null&&a!==void 0&&a.isBound&&t===(e===null||e===void 0?void 0:e.ActionTarget.sourceEntityType)||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&e.RequiresContext&&(e===null||e===void 0?void 0:(r=e.Inline)===null||r===void 0?void 0:r.valueOf())!==true){var s,l,c;if(typeof((s=e.annotations)===null||s===void 0?void 0:(l=s.UI)===null||l===void 0?void 0:(c=l.Hidden)===null||c===void 0?void 0:c.valueOf())==="object"){o.push(Ee(pt(e,n,i),false))}}});return o}function pt(e,t,n){let i;if((e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.UI.v1.DataFieldForAction"||(e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){var o,a;i=e===null||e===void 0?void 0:(o=e.annotations)===null||o===void 0?void 0:(a=o.UI)===null||a===void 0?void 0:a.Hidden}else{i=e===null||e===void 0?void 0:e.visible}let r;if(ce(i)){r=i.path}else{r=i}if(r){if(e!==null&&e!==void 0&&e.visible){r=r.substring(1,r.length-1)}if(r.indexOf("/")>0){const e=r.split("/");const n=e[0];if(ue(t===null||t===void 0?void 0:t.targetObject)&&t.targetObject.partner===n){return ve(e.slice(1).join("/"))}else{return Oe(true)}}else if(n){return ve(r)}else{return Oe(true)}}return Oe(true)}function ft(e,t,n){return Object.keys(n).some(i=>{if(i===e){var o;if(t!==null&&t!==void 0&&(o=t.ActionTarget)!==null&&o!==void 0&&o.isBound||t!==null&&t!==void 0&&t.RequiresContext){n[e].requiresSelection=true}return true}return false})}function gt(e,t,n){return e.some(e=>{var i,o,a,r,s,l,c;if((e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&(e===null||e===void 0?void 0:(i=e.Inline)===null||i===void 0?void 0:i.valueOf())!==true&&(((o=e.annotations)===null||o===void 0?void 0:(a=o.UI)===null||a===void 0?void 0:(r=a.Hidden)===null||r===void 0?void 0:r.valueOf())===false||((s=e.annotations)===null||s===void 0?void 0:(l=s.UI)===null||l===void 0?void 0:(c=l.Hidden)===null||c===void 0?void 0:c.valueOf())===undefined)){if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){var u;const i=fe(["DataFieldForAction",e.Action]);if(ft(i,e,t)){return false}return(e===null||e===void 0?void 0:(u=e.ActionTarget)===null||u===void 0?void 0:u.isBound)&&n===(e===null||e===void 0?void 0:e.ActionTarget.sourceEntityType)}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){if(ft(`DataFieldForIntentBasedNavigation::${e.SemanticObject}::${e.Action}`,e,t)){return false}return e.RequiresContext}}return false})}function vt(e){return Object.keys(e).some(t=>{var n;const i=e[t];if(i.requiresSelection&&((n=i.visible)===null||n===void 0?void 0:n.toString())==="true"){return true}return false})}function ht(e){const t=[];if(e){Object.keys(e).forEach(n=>{const i=e[n];if(i.requiresSelection===true&&i.visible!==undefined){if(typeof i.visible==="string"){var o;t.push(ge(i===null||i===void 0?void 0:(o=i.visible)===null||o===void 0?void 0:o.valueOf()))}}})}return t}function mt(e){const t=oe(e.getDataModelObjectPath());const n=ne(e.getDataModelObjectPath());return{isDeletable:!(ye(t)&&t.value===false),isUpdatable:!(ye(n)&&n.value===false)}}S.getCapabilityRestriction=mt;function yt(e,t,n,i,o,a){var r;let s=arguments.length>6&&arguments[6]!==undefined?arguments[6]:Oe(false);if(!e){return U.None}const l=n.getManifestControlConfiguration(t);let c=(r=l.tableSettings)===null||r===void 0?void 0:r.selectionMode;let u=[],d=[];const p=Ue(n.getManifestControlConfiguration(t).actions,n,[],undefined,false);let f,g;if(n.getTemplateType()===k.ObjectPage){f=oe(n.getDataModelObjectPath());g=f?Se(f,true):f}const v=!ye(s)||s.value!==false;if(c&&c===U.None&&a){if(n.getTemplateType()===k.ObjectPage&&v){return Se(be(Ae($e.IsEditable,s),Oe("Multi"),be(a,Oe("Multi"),Oe("None"))))}else if(v){return U.Multi}return Se(be(a,Oe("Multi"),Oe("None")))}if(!c||c===U.Auto){c=U.Multi}if(v){c=c===U.Single?U.Single:U.Multi}if(gt(e,p.actions,n.getEntityType())||vt(p.actions)){return c}u=dt(e,n.getEntityType(),n.getDataModelObjectPath(),i);d=ht(p.actions);if(u.length===0&&d.length===0&&(a||v)){if(!i){if(o.isDeletable||g!=="false"||v){const e=he(a||true,s);return Se(be(Ae($e.IsEditable,e),Oe(c),Oe(U.None)))}else{return U.None}}else if(v){return c}else if(o.isDeletable&&a){return Se(be(a,Oe(c),Oe("None")))}else{return U.None}}else if(!i){if(o.isDeletable||g!=="false"||v){const e=be(v&&!o.isDeletable,s,Oe(true));return Se(be(Ae($e.IsEditable,e),Oe(c),be(he(...u.concat(d)),Oe(c),Oe(U.None))))}else{return Se(be(he(...u.concat(d)),Oe(c),Oe(U.None)))}}else if(o.isDeletable||v){return c}else{return Se(be(he(...u.concat(d),s),Oe(c),Oe(U.None)))}}S.getSelectionMode=yt;function bt(e,t,n){const i=[];const o=[];const a=ke(e.filter(e=>He(e)));const r=n.getEntityType().fullyQualifiedName;if(a){var s,l,c;i.push({type:W.Copy,annotationPath:n.getEntitySetBasedAnnotationPath(a.fullyQualifiedName),key:De.generateKeyFromDataField(a),enabled:Se(Ee(ve("numberOfSelectedContexts","internal"),1)),visible:Se(me(Ee(Ce((s=a.annotations)===null||s===void 0?void 0:(l=s.UI)===null||l===void 0?void 0:l.Hidden,[],undefined,n.getRelativeModelPathFunction()),true))),text:((c=a.Label)===null||c===void 0?void 0:c.toString())??y.getLibraryResourceBundle("sap.fe.core").getText("C_COMMON_COPY"),isNavigable:true})}e.filter(e=>!He(e)).forEach(e=>{var t,a,s,l,c,u,d,p,f,g,v,h;if(((t=e.annotations)===null||t===void 0?void 0:(a=t.UI)===null||a===void 0?void 0:(s=a.Hidden)===null||s===void 0?void 0:s.valueOf())===true){o.push({type:W.Default,key:De.generateKeyFromDataField(e)})}else if(We(e)&&((l=e.Inline)===null||l===void 0?void 0:l.valueOf())!==true&&((c=e.Determining)===null||c===void 0?void 0:c.valueOf())!==true){switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":let t=false;if(((u=e.ActionTarget)===null||u===void 0?void 0:(d=u.annotations)===null||d===void 0?void 0:(p=d.Core)===null||p===void 0?void 0:p.OperationAvailable)!==undefined){var m,y,b,C;if(!((m=e.ActionTarget)!==null&&m!==void 0&&m.isBound)){t=true}else if((y=e.ActionTarget)!==null&&y!==void 0&&y.isBound&&((b=e.ActionTarget)===null||b===void 0?void 0:b.sourceType)!==r){t=true}else if((C=e.ActionTarget)!==null&&C!==void 0&&C.parameters[0].isCollection){t=true}}const o={type:W.DataFieldForAction,annotationPath:n.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),key:De.generateKeyFromDataField(e),visible:Se(me(Ee(Ce((f=e.annotations)===null||f===void 0?void 0:(g=f.UI)===null||g===void 0?void 0:g.Hidden,[],undefined,n.getRelativeModelPathFunction()),true))),isNavigable:true};if(t){o.enabled=Le(n,e.ActionTarget)}i.push(o);break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":i.push({type:W.DataFieldForIntentBasedNavigation,annotationPath:n.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),key:De.generateKeyFromDataField(e),visible:Se(me(Ee(Ce((v=e.annotations)===null||v===void 0?void 0:(h=v.UI)===null||h===void 0?void 0:h.Hidden,[],undefined,n.getRelativeModelPathFunction()),true)))});break;default:break}}});return{tableActions:i,hiddenTableActions:o}}function Ct(e,t,n){let i=Ie.None;if(e){if(typeof e==="object"){i=Ce(e)}else{i=L(e)}}const o=[];n===null||n===void 0?void 0:n.keys.forEach(e=>{if(e.name!=="IsActiveEntity"){o.push(ve(e.name,undefined))}});return Pe([i,ve(`filteredMessages`,"internal"),t&&Ve.HasActive,t&&Ve.IsActive,`${t}`,...o],r.rowHighlighting,n)}function Pt(e,t,n,i,o){var a;const r=(i===null||i===void 0?void 0:i.create)||(i===null||i===void 0?void 0:i.detail);const s=n.getManifestControlConfiguration(o);const l=s&&s.tableSettings||{};if(r!==null&&r!==void 0&&r.outbound&&r.outboundDetail&&i!==null&&i!==void 0&&i.create){return{mode:"External",outbound:r.outbound,outboundDetail:r.outboundDetail,navigationSettings:i}}let c;if(e){var u,d,p;const e=(u=n.getEntitySet())===null||u===void 0?void 0:u.annotations;const i=e===null||e===void 0?void 0:e.Common,o=e===null||e===void 0?void 0:e.Session;c=(i===null||i===void 0?void 0:(d=i.DraftRoot)===null||d===void 0?void 0:d.NewAction)||(o===null||o===void 0?void 0:(p=o.StickySessionSupported)===null||p===void 0?void 0:p.NewAction);if(t.creationMode===z.CreationRow&&c){throw Error(`Creation mode '${z.CreationRow}' can not be used with a custom 'new' action (${c})`)}if(r!==null&&r!==void 0&&r.route){var f;return{mode:t.creationMode,append:t.createAtEnd,newAction:(f=c)===null||f===void 0?void 0:f.toString(),navigateToTarget:t.creationMode===z.NewPage?r.route:undefined}}}if(t.creationMode===z.NewPage){var g;t.creationMode=z.Inline;if(((g=l.creationMode)===null||g===void 0?void 0:g.createAtEnd)===undefined){t.createAtEnd=false}}return{mode:t.creationMode,append:t.createAtEnd,newAction:(a=c)===null||a===void 0?void 0:a.toString()}}const Et=function(e,t,n,i,o){let a,s;let l=Oe(Ie.None);const u=t.getEntityType();if(n&&e){var p,f;s=((p=n.display)===null||p===void 0?void 0:p.target)||((f=n.detail)===null||f===void 0?void 0:f.outbound);if(s){a=".handlers.onChevronPressNavigateOutBound( $controller ,'"+s+"', ${$parameters>bindingContext})"}else if(u){var g,v,h;const r=t.getEntitySet();s=(g=n.detail)===null||g===void 0?void 0:g.route;l=Ct((v=e.annotations)===null||v===void 0?void 0:(h=v.UI)===null||h===void 0?void 0:h.Criticality,!!c.getDraftRoot(r)||!!c.getDraftNode(r),u);if(s&&d.isEntitySet(r)){a="API.onTableRowPress($event, $controller, ${$parameters>bindingContext}, { callExtension: true, targetPath: '"+i+"', editable : "+(c.getDraftRoot(r)||c.getDraftNode(r)?"!${$parameters>bindingContext}.getProperty('IsActiveEntity')":"undefined")+(o==="AnalyticalTable"||o==="TreeTable"?", bRecreateContext: true":"")+"})"}}}const m=Pe([ve("/deepestPath","internal")],r.navigatedRow,u);return{press:a,action:a?"Navigation":undefined,rowHighlighting:Se(l),rowNavigated:Se(m),visible:Se(me($e.IsInactive))}};const Tt=function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];let i=arguments.length>3?arguments[3]:undefined;let o=arguments.length>4?arguments[4]:undefined;let a=arguments.length>5?arguments[5]:undefined;let r=arguments.length>6?arguments[6]:undefined;const s=n;const l=new Q(t,o);t.entityProperties.forEach(t=>{const c=n.some(e=>e.name===t.name);if(!t.targetType&&!c){const n=Je(t.name,t,o,true,a);const c=Object.keys(n.properties);const u=Object.keys(n.additionalProperties);if(n.textOnlyPropertiesFromTextAnnotation.length>0){r.push(...n.textOnlyPropertiesFromTextAnnotation)}const d=Ot(t,o.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),t.name,true,true,i,l,o,r);const p=o.getAnnotationsByTerm("Common","com.sap.vocabularies.Common.v1.SemanticKey",[o.getEntityType()])[0];const f=Wt(d.name,p,false,null);if(Object.keys(f).length>0){d.formatOptions={...f}}if(c.length>0){d.propertyInfos=c;d.exportSettings={...d.exportSettings,template:n.exportSettingsTemplate,wrap:n.exportSettingsWrapping};d.exportSettings.type=dn(t.type,c.length>1);if(n.exportUnitName){d.exportSettings.unitProperty=n.exportUnitName;d.exportSettings.type="Currency"}else if(n.exportUnitString){d.exportSettings.unit=n.exportUnitString}if(n.exportTimezoneName){d.exportSettings.timezoneProperty=n.exportTimezoneName;d.exportSettings.utc=false}else if(n.exportTimezoneString){d.exportSettings.timezone=n.exportTimezoneString}if(n.exportDataPointTargetValue){d.exportDataPointTargetValue=n.exportDataPointTargetValue;d.exportSettings.type="String"}c.forEach(t=>{e[t]=n.properties[t]})}if(u.length>0){d.additionalPropertyInfos=u;u.forEach(t=>{e[t]=n.additionalProperties[t]})}s.push(d)}if(te(t)==="Description"){i=i.concat(t.name);s.push(Ot(t,o.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),t.name,false,false,i,l,o,[]))}});const c=wt(e,s,i,o,t,r);return s.concat(c)};S.getColumnsFromEntityType=Tt;const Ot=function(e,t,n,i,o,a,r,s,l){var c,u,d,p,f;const g=i?n:`Property::${n}`;const v=(i?"DataField::":"Property::")+pe(n);const h=Ke(s,e);const m=((c=e.annotations)===null||c===void 0?void 0:(u=c.UI)===null||u===void 0?void 0:(d=u.Hidden)===null||d===void 0?void 0:d.valueOf())===true;const y=e.name?Vt(e.name,true,false):undefined;const b=y!=e.name;const C=dn(e.type);const P=e.type==="Edm.Date"?"YYYY-MM-DD":undefined;const E=Qe(e);const T=An(e,E);const O=s.getAnnotationsByTerm("Common","com.sap.vocabularies.Common.v1.SemanticKey",[s.getEntityType()])[0];const S=l&&l.indexOf(n)>=0;const A=(!m||S)&&a.indexOf(n)===-1;const I={className:e.type||E,formatOptions:T.formatOptions,constraints:T.constraints};let D=null;if(St(e)){var x,M,_,w,F,R;const t=Z(e)||J(e);const n=X(e);const i=((x=e.annotations)===null||x===void 0?void 0:(M=x.Measures)===null||M===void 0?void 0:M.ISOCurrency)||((_=e.annotations)===null||_===void 0?void 0:(w=_.Measures)===null||w===void 0?void 0:w.Unit);const o=(F=e.annotations)===null||F===void 0?void 0:(R=F.Common)===null||R===void 0?void 0:R.Timezone;D={type:C,inputFormat:P,scale:e.scale,delimiter:e.type==="Edm.Int64"};if(t){D.unitProperty=t.name;D.type="Currency"}else if(i){D.unit=`${i}`}if(n){D.timezoneProperty=n.name;D.utc=false}else if(o){D.timezone=o.toString()}}const N=On(n,s);const $={key:v,type:Xe.Annotation,label:xt(e,b),groupLabel:b?xt(e):undefined,group:b?y:undefined,annotationPath:t,semanticObjectPath:h,availability:!o||m?"Hidden":"Adaptation",name:g,relativePath:n,sortable:A,isGroupable:r.isAnalyticsSupported()?!!r.isPropertyGroupable(e):A,isKey:e.isKey,exportSettings:D,caseSensitive:jt(s),typeConfig:I,importance:Yt((p=e.annotations)===null||p===void 0?void 0:(f=p.UI)===null||f===void 0?void 0:f.DataFieldDefault,O),additionalLabels:N};const V=Mt(e);if(V){$.tooltip=V}const L=qe(e);if(Ge(e)&&typeof L==="string"&&$.exportSettings){$.exportDataPointTargetValue=L;$.exportSettings.template="{0}/"+L}return $};function St(e){var t;let n,i;const o=(t=e.annotations.UI)===null||t===void 0?void 0:t.DataFieldDefault;if(le(e)&&o!==null&&o!==void 0&&o.$Type){if(K(o)===true){return false}n=o===null||o===void 0?void 0:o.$Type}else if(K(e)===true){return false}else{var a,r,s,l,c,u,d,p,f,g,v;i=e;n=i.$Type;if(n==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&(a=i.Target)!==null&&a!==void 0&&(r=a.$target)!==null&&r!==void 0&&r.$Type){var h,m;n=(h=i.Target)===null||h===void 0?void 0:(m=h.$target)===null||m===void 0?void 0:m.$Type;return"com.sap.vocabularies.UI.v1.ChartDefinitionType".indexOf(n)===-1}else if(((s=i.Value)===null||s===void 0?void 0:(l=s.$target)===null||l===void 0?void 0:(c=l.annotations)===null||c===void 0?void 0:(u=c.Core)===null||u===void 0?void 0:(d=u.MediaType)===null||d===void 0?void 0:d.term)==="Org.OData.Core.V1.MediaType"&&((p=i.Value)===null||p===void 0?void 0:(f=p.$target)===null||f===void 0?void 0:(g=f.annotations)===null||g===void 0?void 0:(v=g.Core)===null||v===void 0?void 0:v.isURL)!==true){return false}}return n?["com.sap.vocabularies.UI.v1.DataFieldForAction","com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation","com.sap.vocabularies.UI.v1.DataFieldForActionGroup"].indexOf(n)===-1:true}const At=function(e){switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":return!!e.Inline;case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":return true;default:}};const It=function(e){var t,n,i,o,a,r;const s=e.targetObject;let l;if(s){switch(s.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataPointType":l=s.Value.$target;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if((s===null||s===void 0?void 0:(t=s.Target)===null||t===void 0?void 0:(n=t.$target)===null||n===void 0?void 0:n.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"){var c;l=(c=s.Target.$target)===null||c===void 0?void 0:c.Value.$target}break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForAction":default:l=undefined}}const u=Oe(false);const d=Oe(false);return Ae(...[me(Ee(Ce(s===null||s===void 0?void 0:(i=s.annotations)===null||i===void 0?void 0:(o=i.UI)===null||o===void 0?void 0:o.Hidden),true)),be(!!l,l&&me(Ee(Ce((a=l.annotations)===null||a===void 0?void 0:(r=a.UI)===null||r===void 0?void 0:r.Hidden),true)),true),he(me(u),d)])};S._getVisibleExpression=It;const Dt=function(e){var t,n;const i=[];if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&((t=e.Target)===null||t===void 0?void 0:(n=t.$target)===null||n===void 0?void 0:n.$Type)==="com.sap.vocabularies.UI.v1.FieldGroupType"){var o,a;if(e!==null&&e!==void 0&&(o=e.annotations)!==null&&o!==void 0&&(a=o.UI)!==null&&a!==void 0&&a.Hidden){return Se(me(Ee(Ce(e.annotations.UI.Hidden),true)))}else{var r;(r=e.Target.$target.Data)===null||r===void 0?void 0:r.forEach(e=>{i.push(It({targetObject:e}))});return Se(be(he(...i),Oe(true),Oe(false)))}}else{return undefined}};const xt=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!e){return undefined}if(le(e)||ue(e)){var n,i,o,a,r;const t=(n=e.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:i.DataFieldDefault;if(t&&!t.qualifier&&(o=t.Label)!==null&&o!==void 0&&o.valueOf()){var s;return Se(Ce((s=t.Label)===null||s===void 0?void 0:s.valueOf()))}return Se(Ce(((a=e.annotations.Common)===null||a===void 0?void 0:(r=a.Label)===null||r===void 0?void 0:r.valueOf())||e.name))}else if(ze(e)){var l,c,u,d,p,f,g,v;if(!!t&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){var h;return Se(Ce((h=e.Label)===null||h===void 0?void 0:h.valueOf()))}return Se(Ce(((l=e.Label)===null||l===void 0?void 0:l.valueOf())||((c=e.Value)===null||c===void 0?void 0:(u=c.$target)===null||u===void 0?void 0:(d=u.annotations)===null||d===void 0?void 0:(p=d.Common)===null||p===void 0?void 0:(f=p.Label)===null||f===void 0?void 0:f.valueOf())||((g=e.Value)===null||g===void 0?void 0:(v=g.$target)===null||v===void 0?void 0:v.name)))}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var m,y,b,C,P,E,T,O;return Se(Ce(((m=e.Label)===null||m===void 0?void 0:m.valueOf())||((y=e.Target)===null||y===void 0?void 0:(b=y.$target)===null||b===void 0?void 0:(C=b.Value)===null||C===void 0?void 0:(P=C.$target)===null||P===void 0?void 0:(E=P.annotations)===null||E===void 0?void 0:(T=E.Common)===null||T===void 0?void 0:(O=T.Label)===null||O===void 0?void 0:O.valueOf())))}else{var S;return Se(Ce((S=e.Label)===null||S===void 0?void 0:S.valueOf()))}};const Mt=function(e){var t,n;if(!e){return undefined}if(le(e)||(t=e.annotations)!==null&&t!==void 0&&(n=t.Common)!==null&&n!==void 0&&n.QuickInfo){var i,o;return(i=e.annotations)!==null&&i!==void 0&&(o=i.Common)!==null&&o!==void 0&&o.QuickInfo?Se(Ce(e.annotations.Common.QuickInfo.valueOf())):undefined}else if(ze(e)){var a,r,s,l;return(a=e.Value)!==null&&a!==void 0&&(r=a.$target)!==null&&r!==void 0&&(s=r.annotations)!==null&&s!==void 0&&(l=s.Common)!==null&&l!==void 0&&l.QuickInfo?Se(Ce(e.Value.$target.annotations.Common.QuickInfo.valueOf())):undefined}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var c,u,d,p,f;const t=(c=e.Target)===null||c===void 0?void 0:c.$target;return t!==null&&t!==void 0&&(u=t.Value)!==null&&u!==void 0&&(d=u.$target)!==null&&d!==void 0&&(p=d.annotations)!==null&&p!==void 0&&(f=p.Common)!==null&&f!==void 0&&f.QuickInfo?Se(Ce(t.Value.$target.annotations.Common.QuickInfo.valueOf())):undefined}else{return undefined}};function _t(e,t){return Pe([ve(`semanticKeyHasDraftIndicator`,"internal"),ve(`filteredMessages`,"internal"),e,t],r.getErrorStatusTextVisibilityFormatter)}S.getRowStatusVisibility=_t;const wt=function(e,t,n,i,o,a){const r=[];const s={};const l=new Q(o,i);Object.keys(e).forEach(o=>{const c=e[o],u=i.getAbsoluteAnnotationPath(o),d=t.find(e=>e.name===o);if(d===undefined){const e=Ot(c,u,o,true,false,n,l,i,a);e.isPartOfLineItem=t.some(e=>{var t;return((t=e.propertyInfos)===null||t===void 0?void 0:t.includes(o))&&e.isPartOfLineItem});r.push(e)}else if(d.annotationPath!==u||d.propertyInfos){const e=`Property::${o}`;if(!t.some(t=>t.name===e)){const t=Ot(c,u,o,false,false,n,l,i,a);t.isPartOfLineItem=d.isPartOfLineItem;r.push(t);s[o]=e}else if(t.some(t=>t.name===e)&&t.some(e=>{var t;return(t=e.propertyInfos)===null||t===void 0?void 0:t.includes(o)})){s[o]=e}}});t.forEach(e=>{var t,n;e.propertyInfos=(t=e.propertyInfos)===null||t===void 0?void 0:t.map(e=>s[e]??e);e.additionalPropertyInfos=(n=e.additionalPropertyInfos)===null||n===void 0?void 0:n.map(e=>s[e]??e)});return r};const Ft=function(e){var t,n,i;if(ze(e)){var o;return(o=e.Value)===null||o===void 0?void 0:o.path}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&(t=e.Target)!==null&&t!==void 0&&(n=t.$target)!==null&&n!==void 0&&(i=n.Value)!==null&&i!==void 0&&i.path){var a,r;return(a=e.Target)===null||a===void 0?void 0:(r=a.$target)===null||r===void 0?void 0:r.Value.path}else{return De.generateKeyFromDataField(e)}};const Rt=function(e,t,n){const i=`Property_Technical::${e}`;const o=t.find(e=>e.key===i);const a=!o&&t.find(t=>t.name===e&&!t.propertyInfos);if(a){const o={key:i,type:Xe.Annotation,label:a.label,annotationPath:a.annotationPath,availability:"Hidden",name:i,relativePath:a.relativePath,sortable:false,isGroupable:false,isKey:false,exportSettings:null,caseSensitive:false,aggregatable:false,extension:{technicallyGroupable:true,technicallyAggregatable:true}};t.push(o);n[e]=o.name}};const Nt=function(e,t,n){var i;const o=(i=n.getManifestControlConfiguration(t))===null||i===void 0?void 0:i.columns;const a=o&&Object.keys(o);return a&&!!a.find(function(t){return t===e&&o[t].showDataFieldsLabel})};const $t=function(e){var t,n;let i="";switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":i=e===null||e===void 0?void 0:(t=e.Value)===null||t===void 0?void 0:t.path;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":i=e===null||e===void 0?void 0:(n=e.Target)===null||n===void 0?void 0:n.value;break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForActionGroup":case"com.sap.vocabularies.UI.v1.DataFieldWithActionGroup":i=De.generateKeyFromDataField(e);break}return i};const Vt=function(e,t,n){const i=t?e.lastIndexOf("/"):e.indexOf("/");if(i===-1){return e}return n?e.substring(i+1,e.length):e.substring(0,i)};const Lt=function(e,t){if(ze(e)&&ce(e.Value)){const n=re(t.getDataModelObjectPath(),e.Value.path);return Y(n)}else{return false}};const Bt=function(e,t,n){return n.indexOf(t)===-1&&(e.$Type==="com.sap.vocabularies.UI.v1.DataField"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction")};const jt=function(e){const t=kt(e);return Array.isArray(t)?t.indexOf("tolower")===-1:true};S.isFilteringCaseSensitive=jt;function kt(e){const t=e.getEntitySet();if(d.isEntitySet(t)){var n,i;return((n=t.annotations.Capabilities)===null||n===void 0?void 0:n.FilterFunctions)??((i=e.getEntityContainer().annotations.Capabilities)===null||i===void 0?void 0:i.FilterFunctions)}return undefined}function Ut(e){return e===undefined?undefined:{textLinesEdit:4,...e}}function Ht(e,t){const n=[];let i=false;for(let o=0;o<e.length;o++){n.push(e[o].value);if(e[o].value===t){i=true}}return{values:n,semanticKeyFound:i}}function Gt(e,t){let n=false;let i;if(e&&e.length>=1&&t&&t.length>=1){for(let o=0;o<e.length;o++){if([e[o]].some(e=>t.indexOf(e)>=0)){n=true;i=e[o];break}}}return{semanticKeyHasPropertyInFieldGroup:n,fieldGroupPropertyPath:i}}function zt(e,t){var n,i;const o=[];let a={semanticKeyHasPropertyInFieldGroup:false,fieldGroupPropertyPath:undefined};if(e&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&((n=e.Target)===null||n===void 0?void 0:(i=n.$target)===null||i===void 0?void 0:i.$Type)==="com.sap.vocabularies.UI.v1.FieldGroupType"){var r;(r=e.Target.$target.Data)===null||r===void 0?void 0:r.forEach(e=>{if((e.$Type==="com.sap.vocabularies.UI.v1.DataField"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&e.Value){o.push(e.Value.path)}a=Gt(t,o)})}return{semanticKeyHasPropertyInFieldGroup:a.semanticKeyHasPropertyInFieldGroup,propertyPath:a.fieldGroupPropertyPath}}function Wt(e,t,n,i){if(!t){return{}}const o=Ht(t,e);const a=zt(i,o.values);if(o.semanticKeyFound){const t={hasDraftIndicator:true,semantickeys:o.values,showErrorObjectStatus:Se(_t(e,false))};if(n&&a.semanticKeyHasPropertyInFieldGroup){t.showErrorObjectStatus=Se(_t(e,true));t.fieldGroupDraftIndicatorPropertyPath=a.propertyPath}return t}else if(!a.semanticKeyHasPropertyInFieldGroup){return{}}else{return{fieldGroupDraftIndicatorPropertyPath:a.propertyPath,fieldGroupName:e,showErrorObjectStatus:Se(_t(e,true))}}}function qt(e){var t,n;const i=e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.Importance;if(i&&i.includes("UI.ImportanceType/High")){return 3}if(i&&i.includes("UI.ImportanceType/Medium")){return 2}if(i&&i.includes("UI.ImportanceType/Low")){return 1}return 0}function Kt(e){var t,n;const i=e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.Importance;return i?i.split("/")[1]:H.None}function Qt(e){if(e&&e.length>0){let t=-1;let n=-1;let i;for(const o of e){n=qt(o);if(n>t){t=n;i=o}}return Kt(i)}return H.None}function Yt(e,t){var n;let i,o=[];if(t&&t.length>0){o=t.map(function(e){return e.value})}if(!e){return undefined}if(de(e,"com.sap.vocabularies.UI.v1.DataFieldForAnnotation")){const t=e.Target.$target;if(de(t,"com.sap.vocabularies.UI.v1.FieldGroupType")){const n=t.Data;const s=n&&n.some(function(e){var t,n;return(e===null||e===void 0?void 0:(t=e.Value)===null||t===void 0?void 0:t.path)&&e.$Type!=="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&o.includes(e===null||e===void 0?void 0:(n=e.Value)===null||n===void 0?void 0:n.path)});if(s){return H.High}else{var a,r;if(e!==null&&e!==void 0&&(a=e.annotations)!==null&&a!==void 0&&(r=a.UI)!==null&&r!==void 0&&r.Importance){return Kt(e)}i=n&&n.filter(function(e){var t,n;return e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.Importance});return Qt(i)}}}return e.Value&&e!==null&&e!==void 0&&(n=e.Value)!==null&&n!==void 0&&n.path&&o.includes(e.Value.path)?H.High:Kt(e)}S.getImportance=Yt;const Jt=function(e,t,n){var i;const o=n.getAnnotationEntityType(e),a=[],r={},s=ee(n.getEntitySet()),l=n.getManifestControlConfiguration(t),c=(l===null||l===void 0?void 0:(i=l.tableSettings)===null||i===void 0?void 0:i.type)||"ResponsiveTable";const u=[];const d=n.getAnnotationsByTerm("Common","com.sap.vocabularies.Common.v1.SemanticKey",[n.getEntityType()])[0];if(e){const i=n.getConverterContextFor(ae(n.getDataModelObjectPath()));e.forEach(e=>{var o,l,p,f,g,v,h,m,y,b,C;if(!At(e)){return}let P=null;const E=ze(e)&&(o=e.Value)!==null&&o!==void 0&&(l=o.$target)!==null&&l!==void 0&&l.fullyQualifiedName?Ke(n,e):undefined;const T=$t(e);const O=Ye(e,n,c);const S=Object.keys(O.properties);const A=Object.keys(O.additionalProperties);const I=Vt(T,true,false);const D=I!=T;const x=xt(e,D);const M=Ft(e);const _=I.indexOf(`@${"com.sap.vocabularies.UI.v1.FieldGroup"}`)>-1;const w=_?Nt(M,t,n):false;const F=Qe(e);const R=F==="Edm.Date"?"YYYY-MM-DD":undefined;const N=Ut(Wt(M,d,_,e));let $;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&((p=e.Target)===null||p===void 0?void 0:(f=p.$target)===null||f===void 0?void 0:f.$Type)==="com.sap.vocabularies.UI.v1.FieldGroupType"){$=Dt(e)}if(St(e)){P={template:O.exportSettingsTemplate,wrap:O.exportSettingsWrapping,type:F?dn(F,S.length>1):undefined,inputFormat:R,delimiter:F==="Edm.Int64"};if(O.exportUnitName){P.unitProperty=O.exportUnitName;P.type="Currency"}else if(O.exportUnitString){P.unit=O.exportUnitString}if(O.exportTimezoneName){P.timezoneProperty=O.exportTimezoneName}else if(O.exportTimezoneString){P.timezone=O.exportTimezoneString}}let V;if(F){V=An(e,F)}const L={className:F,formatOptions:{...N,...(g=V)===null||g===void 0?void 0:g.formatOptions},constraints:{...(v=V)===null||v===void 0?void 0:v.constraints}};const B={};if(!F||!L){B.widthCalculation=null}const j=Lt(e,i);const k=!j&&Bt(e,T,s);const U={key:De.generateKeyFromDataField(e),type:Xe.Annotation,label:x,groupLabel:D?xt(e):undefined,group:D?I:undefined,FieldGroupHiddenExpressions:$,annotationPath:n.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),semanticObjectPath:E,availability:K(e)?"Hidden":"Default",name:M,showDataFieldsLabel:w,relativePath:T,sortable:k,propertyInfos:S.length?S:undefined,additionalPropertyInfos:A.length>0?A:undefined,exportSettings:P,width:((h=e.annotations)===null||h===void 0?void 0:(m=h.HTML5)===null||m===void 0?void 0:(y=m.CssDefaults)===null||y===void 0?void 0:(b=y.width)===null||b===void 0?void 0:b.valueOf())||undefined,importance:Yt(e,d),isNavigable:true,formatOptions:N,caseSensitive:jt(n),typeConfig:L,visualSettings:B,timezoneText:(C=P)===null||C===void 0?void 0:C.timezone,isPartOfLineItem:true};const H=Mt(e);if(H){U.tooltip=H}if(O.textOnlyPropertiesFromTextAnnotation.length>0){u.push(...O.textOnlyPropertiesFromTextAnnotation)}if(O.exportDataPointTargetValue&&U.exportSettings){U.exportDataPointTargetValue=O.exportDataPointTargetValue;U.exportSettings.type="String"}a.push(U);S.forEach(e=>{r[e]=O.properties[e];if(j){s.push(e)}});A.forEach(e=>{r[e]=O.additionalProperties[e]})})}return Tt(r,o,a,s,n,c,u)};const Xt=function(e,t,n,i){let o;if(e){o=e.map(function(e){const o=t.find(function(t){return t.relativePath===e&&t.propertyInfos===undefined});if(o){return o.name}else{const o=wt({[e]:i.resolvePath(e)},t,[],n,i,[]);t.push(o[0]);return o[0].name}})}return o};const Zt=function(e){return e.map(t=>`{${e.indexOf(t)}}`).join(`${"\n"}`)};const en=function(e,t,n,i,o){const a={};function r(e,n){return t.some(e=>e.key===n)}function s(e){return e.type===Xe.Slot}function l(e){return e.type===undefined&&!!e.template}function c(e,t){const i=ee(n.getEntitySet());e.forEach(e=>{t.forEach(t=>{if(t.name===e){t.sortable=i.indexOf(e.replace("Property::",""))===-1;t.isGroupable=t.sortable}})})}for(const p in e){var u;const f=e[p];De.validateKey(p);const g={key:p,width:f.width||undefined,position:{anchor:(u=f.position)===null||u===void 0?void 0:u.anchor,placement:f.position===undefined?Fe.After:f.position.placement},caseSensitive:jt(n)};if(r(f,p)){const e={...g,importance:f===null||f===void 0?void 0:f.importance,horizontalAlign:f===null||f===void 0?void 0:f.horizontalAlign,availability:f===null||f===void 0?void 0:f.availability,type:Xe.Annotation,isNavigable:r(f,p)?undefined:je(f,o,true),settings:f.settings,formatOptions:Ut(f.formatOptions)};a[p]=e}else{const e=Xt(f.properties,t,n,i);const o={...g,header:f.header,importance:(f===null||f===void 0?void 0:f.importance)||H.None,horizontalAlign:(f===null||f===void 0?void 0:f.horizontalAlign)||G.Begin,availability:(f===null||f===void 0?void 0:f.availability)||"Default",template:f.template,propertyInfos:e,exportSettings:e?{template:Zt(e),wrap:!!(e.length>1)}:null,id:`CustomColumn::${p}`,name:`CustomColumn::${p}`,formatOptions:{textLinesEdit:4},isGroupable:false,isNavigable:false,sortable:false,visualSettings:{widthCalculation:null},properties:f.properties};if(e){c(e,t)}if(s(f)){const e={...o,type:Xe.Slot};a[p]=e}else if(l(f)){const e={...o,type:Xe.Default};a[p]=e}else{var d;const e=`The annotation column '${p}' referenced in the manifest is not found`;n.getDiagnostics().addIssue(we.Manifest,Me.Low,e,_e,_e===null||_e===void 0?void 0:(d=_e.AnnotationColumns)===null||d===void 0?void 0:d.InvalidKey)}}}return a};function tn(e,t,n){var i;const o=t.getManifestWrapper();const a=t.getManifestControlConfiguration(e);const r=o.getVariantManagement();const s=[];const l=n.type==="AnalyticalTable";const c=n.type==="ResponsiveTable";if((a===null||a===void 0?void 0:(i=a.tableSettings)===null||i===void 0?void 0:i.personalization)!==undefined){const e=a.tableSettings.personalization;if(e===true){switch(n.type){case"AnalyticalTable":return"Sort,Column,Filter,Group,Aggregate";case"ResponsiveTable":return"Sort,Column,Filter,Group";default:return"Sort,Column,Filter"}}else if(typeof e==="object"){if(e.sort){s.push("Sort")}if(e.column){s.push("Column")}if(e.filter){s.push("Filter")}if(e.group&&(l||c)){s.push("Group")}if(e.aggregate&&l){s.push("Aggregate")}return s.length>0?s.join(","):undefined}}else{s.push("Sort");s.push("Column");if(t.getTemplateType()===k.ListReport){if(r===j.Control||nn(o,t)){s.push("Filter")}}else{s.push("Filter")}if(l){s.push("Group");s.push("Aggregate")}if(c){s.push("Group")}return s.join(",")}return undefined}S.getP13nMode=tn;function nn(e,t){return e.isFilterBarHidden()&&!t.getManifestWrapper().hasMultipleVisualizations()&&t.getTemplateType()!==k.AnalyticalListPage}function on(e,t,n){const i=ee(e.getEntitySet());let o;if(t!==null&&t!==void 0&&t.SortOrder){const e=[];const a={sorters:e};t.SortOrder.forEach(e=>{var t;const o=e.Property;if(o&&i.indexOf((t=o.$target)===null||t===void 0?void 0:t.name)===-1){const t=rn([o],n)[0];if(t){a.sorters.push({name:t,descending:!!e.Descending})}}});o=a.sorters.length?JSON.stringify(a):undefined}return o}function an(e){var t;if(!e){return undefined}const n=(t=e.InitialExpansionLevel)===null||t===void 0?void 0:t.valueOf();return typeof n==="number"?n:undefined}function rn(e,t){const n=[];let i,o;e.forEach(e=>{if(e!==null&&e!==void 0&&e.value){i=t.find(t=>{o=t;return!o.propertyInfos&&o.relativePath===(e===null||e===void 0?void 0:e.value)});if(i){n.push(i.name)}}});return n}function sn(e,t,n){let i;if(e!==null&&e!==void 0&&e.GroupBy){let o=e.GroupBy;if(n==="ResponsiveTable"){o=o.slice(0,1)}const a=rn(o,t).map(e=>({name:e}));i=a.length?JSON.stringify({groupLevels:a}):undefined}return i}function ln(e){const t={};e.columns.forEach(n=>{var i;n=n;const o=Object.keys(e.aggregates).find(e=>e===n.name);if(o){const t=e.aggregates[o];n.aggregatable=true;n.extension={customAggregate:t.defaultAggregate??{}}}if((i=n.additionalPropertyInfos)!==null&&i!==void 0&&i.length){n.additionalPropertyInfos.forEach(n=>{Rt(n,e.columns,t)})}});e.columns.forEach(e=>{e=e;if(e.additionalPropertyInfos){var n;e.additionalPropertyInfos=e.additionalPropertyInfos.map(e=>t[e]??e);e.propertyInfos=(n=e.propertyInfos)===null||n===void 0?void 0:n.concat(e.additionalPropertyInfos)}})}function cn(e,t){let n;if(e!==null&&e!==void 0&&e.Total){const i=e.Total;const o={};rn(i,t).forEach(e=>{o[e]={}});n=JSON.stringify(o)}return n}function un(e,t,n,i,o,a,r){var s,l,c;const{navigationPropertyPath:u}=pn(t);const d=(s=n.getDataModelObjectPath().targetEntityType.annotations)===null||s===void 0?void 0:(l=s.UI)===null||l===void 0?void 0:(c=l.HeaderInfo)===null||c===void 0?void 0:c.TypeNamePlural;const p=d&&Se(Ce(d));const f=n.getDataModelObjectPath().targetEntitySet;const g=n.getManifestWrapper();const v=u.length===0,h=tn(t,n,i),m=u?q(t):q(n.getContextPath(),"LineItem");const y=mt(n);const b=it(n,u);const C=g.getNavigationConfiguration(b);const P=Pt(e,i,n,C,t);const E=V(n,P.mode,i,r);const T=N(n,E);const O=F(n,E);const S=R(E,I(n));const w=yt(e,t,n,v,y,T,O);let L=u?10:30;if(a!==null&&a!==void 0&&a.MaxItems){L=a.MaxItems.valueOf()}const B=g.getVariantManagement();const U=ie(n.getDataModelObjectPath());const H={create:_(n,E),delete:M(n,E),paste:D(n,E,S),massEdit:x(n,E),creationRow:$(n,E)};return{id:m,entityName:f?f.name:"",collection:ae(n.getDataModelObjectPath()),navigationPath:u,row:Et(e,n,C,b,i.type),p13nMode:h,standardActions:{actions:H,isInsertUpdateTemplated:S,updatablePropertyPath:ct(n)},displayMode:A(n,r),create:P,selectionMode:w,autoBindOnInit:nn(g,n)||n.getTemplateType()!==k.ListReport&&n.getTemplateType()!==k.AnalyticalListPage&&!(r&&g.hasMultipleVisualizations(r)),variantManagement:B==="Control"&&!h?j.None:B,threshold:L,sortConditions:on(n,a,o),title:p,searchable:i.type!=="AnalyticalTable"&&!(ye(U)&&U.value===false),initialExpansionLevel:an(a)}}S.getTableAnnotationConfiguration=un;function dn(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n="String";if(t){if(e==="Edm.DateTimeOffset"){n="DateTime"}return n}else{switch(e){case"Edm.Decimal":case"Edm.Int32":case"Edm.Int64":case"Edm.Double":case"Edm.Byte":n="Number";break;case"Edm.DateOfTime":case"Edm.Date":n="Date";break;case"Edm.DateTimeOffset":n="DateTime";break;case"Edm.TimeOfDay":n="Time";break;case"Edm.Boolean":n="Boolean";break;default:n="String"}}return n}function pn(e){const[t,n]=e.split("@");let i=t;if(i.lastIndexOf("/")===i.length-1){i=i.substr(0,i.length-1)}return{navigationPropertyPath:i,annotationPath:n}}S.splitPath=pn;function fn(e,t){const n=t.getEntityTypeAnnotation(e);const i=n.annotation;if(i){var o,a;const e=[];(o=i.SelectOptions)===null||o===void 0?void 0:o.forEach(t=>{const n=t.PropertyName;const i=(n===null||n===void 0?void 0:n.value)??"";if(e.indexOf(i)===-1){e.push(i)}});return{text:i===null||i===void 0?void 0:(a=i.Text)===null||a===void 0?void 0:a.toString(),propertyNames:e}}return undefined}S.getSelectionVariantConfiguration=fn;function gn(e,t,n){let i=e.enableFullScreen??n;if(!n&&i&&t.getTemplateType()===k.ListReport){i=false;t.getDiagnostics().addIssue(we.Manifest,Me.Low,xe.FULLSCREENMODE_NOT_ON_LISTREPORT)}return i}function vn(e,t,n){let i;if(t!=="ResponsiveTable"){return undefined}switch(n.getTemplateType()){case k.ListReport:case k.AnalyticalListPage:i=!e.selectAll?"ClearAll":"Default";break;case k.ObjectPage:i=e.selectAll===false?"ClearAll":"Default";if(n.getManifestWrapper().useIconTabBar()){i=!e.selectAll?"ClearAll":"Default"}break;default:}return i}function hn(e,t,n){let i=(e===null||e===void 0?void 0:e.type)||"ResponsiveTable";if((i==="AnalyticalTable"||i==="TreeTable")&&!n.getManifestWrapper().isDesktop()){i="ResponsiveTable"}return i}function mn(e,t,n){if(e==="GridTable"){if(n){return{rowCountMode:"Auto",rowCount:3}}else{return{rowCountMode:t.rowCountMode??"Fixed",rowCount:t.rowCount?t.rowCount:5}}}else{return{}}}function yn(e,t){return t.condensedTableLayout!==undefined&&e!=="ResponsiveTable"?t.condensedTableLayout:false}function bn(e){return e.selectAll===true||e.selectionLimit===0?0:e.selectionLimit||200}function Cn(e){var t,n;return(t=e.creationMode)!==null&&t!==void 0&&t.inlineCreationRowCount?(n=e.creationMode)===null||n===void 0?void 0:n.inlineCreationRowCount:2}function Pn(e,t,n,i,o){var a;if(n){t.push({annotationPath:i.annotationPath})}return{quickFilters:{enabled:o.getTemplateType()!==k.ListReport,showCounts:e===null||e===void 0?void 0:(a=e.quickVariantSelection)===null||a===void 0?void 0:a.showCounts,paths:t}}}function En(e,t,n){return e.enableExport!==undefined?e.enableExport:t.getTemplateType()!=="ObjectPage"||n}function Tn(e,t,n){var i,o,a;if(!t){return{}}const r=[];const s=n.getAnnotationEntityType(t);let l;let c;e===null||e===void 0?void 0:(i=e.quickVariantSelection)===null||i===void 0?void 0:(o=i.paths)===null||o===void 0?void 0:o.forEach(t=>{l=s.resolvePath(t.annotationPath);c=Pn(e,r,l,t,n)});let u=false;u=!!((a=e.quickVariantSelection)!==null&&a!==void 0&&a.hideTableTitle);return{filters:c,headerVisible:!(l&&u)}}function On(e,t){const n=re(t.getDataModelObjectPath(),e).navigationProperties;if((n===null||n===void 0?void 0:n.length)>0){const e=[];n.forEach(t=>{e.push(xt(t)||t.name)});return e}}function Sn(e,t,n){var i,o,a,r,s,l,c,u;let d=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const p=n.getManifestWrapper();const f=n.getManifestControlConfiguration(t);const g=f&&f.tableSettings||{};const v=((i=g.creationMode)===null||i===void 0?void 0:i.name)||z.NewPage;const h=!p.isPhone();const m=g.enablePaste!==undefined?g.enablePaste:n.getTemplateType()==="ObjectPage";const y=n.getTemplateType();const b=y===k.ListReport?"API.dataStateIndicatorFilter":undefined;const C=d&&p.isCondensedLayoutCompliant();const P=Tn(g,e,n);const E=(o=g.creationMode)===null||o===void 0?void 0:o.customValidationFunction;const T=n.getEntityType();const O=new Q(T,n);const S=hn(g,O,n);const A=mn(S,g,y===k.ListReport);const I=yn(S,g);const D={createAtEnd:((a=g.creationMode)===null||a===void 0?void 0:a.createAtEnd)!==undefined?(r=g.creationMode)===null||r===void 0?void 0:r.createAtEnd:v!==z.Inline,creationMode:v,customValidationFunction:E,dataStateIndicatorFilter:b,disableAddRowButtonForEmptyData:!E?!!((s=g.creationMode)!==null&&s!==void 0&&s.disableAddRowButtonForEmptyData):false,enableAutoColumnWidth:h,enableExport:En(g,n,m),enableFullScreen:gn(g,n,p.isPhone()),enableMassEdit:g===null||g===void 0?void 0:g.enableMassEdit,enablePaste:m,headerVisible:true,multiSelectMode:vn(g,S,n),selectionLimit:bn(g),inlineCreationRowCount:Cn(g),inlineCreationRowsHiddenInEditMode:(g===null||g===void 0?void 0:(l=g.creationMode)===null||l===void 0?void 0:l.inlineCreationRowsHiddenInEditMode)??false,showRowCount:!(g!==null&&g!==void 0&&(c=g.quickVariantSelection)!==null&&c!==void 0&&c.showCounts)&&!((u=p.getViewConfiguration())!==null&&u!==void 0&&u.showCounts),type:S,useCondensedTableLayout:I&&C,isCompactType:p.isCompactType()};const x={...D,...A,...P};if(S==="TreeTable"){x.hierarchyQualifier=g.hierarchyQualifier}return x}S.getTableManifestConfiguration=Sn;function An(e,t){var n,i,o,a,r;let s;if(le(e)){s=se(e.targetType)?Te[e.targetType.underlyingType]:Te[e.type]}if(s===undefined&&t!==undefined){s=Te[t]}const l={type:(n=s)===null||n===void 0?void 0:n.type,constraints:{},formatOptions:{}};if(le(e)&&s!==undefined){var c,u,d,p,f,g,v,h,m,y,b,C,P,E,T,O,S;l.constraints={scale:(c=s.constraints)!==null&&c!==void 0&&c.$Scale?e.scale:undefined,precision:(u=s.constraints)!==null&&u!==void 0&&u.$Precision?e.precision:undefined,maxLength:(d=s.constraints)!==null&&d!==void 0&&d.$MaxLength?e.maxLength:undefined,nullable:(p=s.constraints)!==null&&p!==void 0&&p.$Nullable?e.nullable:undefined,minimum:(f=s.constraints)!==null&&f!==void 0&&f["@Org.OData.Validation.V1.Minimum/$Decimal"]&&!isNaN((g=e.annotations)===null||g===void 0?void 0:(v=g.Validation)===null||v===void 0?void 0:v.Minimum)?`${(h=e.annotations)===null||h===void 0?void 0:(m=h.Validation)===null||m===void 0?void 0:m.Minimum}`:undefined,maximum:(y=s.constraints)!==null&&y!==void 0&&y["@Org.OData.Validation.V1.Maximum/$Decimal"]&&!isNaN((b=e.annotations)===null||b===void 0?void 0:(C=b.Validation)===null||C===void 0?void 0:C.Maximum)?`${(P=e.annotations)===null||P===void 0?void 0:(E=P.Validation)===null||E===void 0?void 0:E.Maximum}`:undefined,isDigitSequence:l.type==="sap.ui.model.odata.type.String"&&(T=s.constraints)!==null&&T!==void 0&&T[`@${"com.sap.vocabularies.Common.v1.IsDigitSequence"}`]&&(O=e.annotations)!==null&&O!==void 0&&(S=O.Common)!==null&&S!==void 0&&S.IsDigitSequence?true:undefined}}l.formatOptions={parseAsString:(l===null||l===void 0?void 0:(i=l.type)===null||i===void 0?void 0:i.indexOf("sap.ui.model.odata.type.Int"))===0||(l===null||l===void 0?void 0:(o=l.type)===null||o===void 0?void 0:o.indexOf("sap.ui.model.odata.type.Double"))===0?false:undefined,emptyString:(l===null||l===void 0?void 0:(a=l.type)===null||a===void 0?void 0:a.indexOf("sap.ui.model.odata.type.Int"))===0||(l===null||l===void 0?void 0:(r=l.type)===null||r===void 0?void 0:r.indexOf("sap.ui.model.odata.type.Double"))===0?"":undefined,parseKeepsEmptyString:l.type==="sap.ui.model.odata.type.String"?true:undefined};return l}S.getTypeConfig=An;return{getTableActions:Ze,getTableColumns:et,getColumnsFromEntityType:Tt,updateLinkedProperties:ot,createTableVisualization:rt,createDefaultTableVisualization:st,getCapabilityRestriction:mt,getSelectionMode:yt,getRowStatusVisibility:_t,getImportance:Yt,getP13nMode:tn,getTableAnnotationConfiguration:un,isFilteringCaseSensitive:jt,splitPath:pn,getSelectionVariantConfiguration:fn,getTableManifestConfiguration:Sn,getTypeConfig:An,updateTableVisualizationForType:nt}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/controls/Common/table/StandardActions",["sap/fe/core/formatters/TableFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","../../../helpers/BindingHelper","../../../ManifestSettings"],function(e,t,n,i,o,a,r){"use strict";var s={};var l=r.TemplateType;var c=r.CreationMode;var u=a.UI;var d=a.singletonPathVisitor;var p=o.isPathUpdatable;var f=o.isPathInsertable;var g=o.isPathDeletable;var v=o.getTargetObjectPath;var h=i.isNavigationProperty;var m=i.isEntitySet;var y=t.pathInModel;var b=t.or;var C=t.notEqual;var P=t.not;var E=t.length;var T=t.isPathInModelExpression;var O=t.isConstant;var S=t.ifElse;var A=t.greaterThan;var I=t.greaterOrEqual;var D=t.getExpressionFromAnnotation;var x=t.formatResult;var M=t.equal;var _=t.constant;var w=t.compileExpression;var F=t.and;var R;(function(e){e["CreateHidden"]="CreateHidden";e["DeleteHidden"]="DeleteHidden";e["UpdateHidden"]="UpdateHidden"})(R||(R={}));function N(e,t,n,i){return{collectionPath:v(e.getDataModelObjectPath()),hiddenAnnotation:{create:L(e,R.CreateHidden),delete:L(e,R.DeleteHidden),update:L(e,R.UpdateHidden)},creationMode:t,isDraftOrStickySupported:$(e),isViewWithMultipleVisualizations:i?e.getManifestWrapper().hasMultipleVisualizations(i):false,newAction:V(e),tableManifestConfiguration:n,restrictions:B(e)}}s.generateStandardActionsContext=N;function $(e){var t,i,o;const a=e.getDataModelObjectPath();const r=n.isObjectPathDraftSupported(a);const s=(t=a.startingEntitySet)!==null&&t!==void 0&&(i=t.annotations)!==null&&i!==void 0&&(o=i.Session)!==null&&o!==void 0&&o.StickySessionSupported?true:false;return r||s}s.isDraftOrStickySupported=$;function V(e){var t,n,i,o;const a=e.getEntitySet();const r=m(a)?((t=a.annotations.Common)===null||t===void 0?void 0:(n=t.DraftRoot)===null||n===void 0?void 0:n.NewAction)??((i=a.annotations.Session)===null||i===void 0?void 0:(o=i.StickySessionSupported)===null||o===void 0?void 0:o.NewAction):undefined;const s=r===null||r===void 0?void 0:r.toString();if(s){var l,c,u,d;let t=e===null||e===void 0?void 0:(l=e.getEntityType().actions[s])===null||l===void 0?void 0:(c=l.annotations)===null||c===void 0?void 0:(u=c.Core)===null||u===void 0?void 0:(d=u.OperationAvailable)===null||d===void 0?void 0:d.valueOf();t=t!==undefined?t:true;return{name:s,available:D(t)}}return undefined}s.getNewAction=V;function L(e,t){var n;let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const o=e.getEntitySet();const a=e.getDataModelObjectPath();const r=a.navigationProperties.length>0&&i?[a.navigationProperties[a.navigationProperties.length-1].name]:[];const s=(o===null||o===void 0?void 0:(n=o.annotations.UI)===null||n===void 0?void 0:n[t])||false;return o?D(s,r,undefined,t=>d(t,e.getConvertedTypes(),r)):_(false)}s.isActionAnnotatedHidden=L;function B(e){const t=e.getDataModelObjectPath();const n=[{key:"isInsertable",function:f},{key:"isUpdatable",function:p},{key:"isDeletable",function:g}];const i={};n.forEach(function(n){const o=n["function"];i[n.key]={expression:o.apply(null,[t,{pathVisitor:(t,n)=>d(t,e.getConvertedTypes(),n)}]),navigationExpression:o.apply(null,[t,{ignoreTargetCollection:true,authorizeUnresolvable:true,pathVisitor:(t,n)=>d(t,e.getConvertedTypes(),n)}])}});return i}s.getRestrictions=B;function j(e,t){return t||e.creationMode===c.External}s.getInsertUpdateActionsTemplating=j;function k(e,t){const n=K(e,t);return{isTemplated:w(W(t,n)),visible:w(n),enabled:w(Z(e,t,n))}}s.getStandardActionCreate=k;function U(e,t){const n=Q(e,t);return{isTemplated:w(q(n)),visible:w(n),enabled:w(ee(e,t,n))}}s.getStandardActionDelete=U;function H(e,t){const n=K(e,t,true);return{isTemplated:w(W(t,n,true)),visible:w(n),enabled:w(X(e,t,n))}}s.getCreationRow=H;function G(e,t,n){const i=K(e,t);const o=Z(e,t,i);const a=Y(e,t,i,n);return{visible:w(a),enabled:w(te(a,o))}}s.getStandardActionPaste=G;function z(e,t){const n=J(e,t);return{isTemplated:w(q(n)),visible:w(n),enabled:w(ne(e,t,n))}}s.getStandardActionMassEdit=z;function W(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return F(b(F(n,e.creationMode===c.CreationRow),F(!n,e.creationMode!==c.CreationRow)),b(P(O(t)),t))}s.getCreateTemplating=W;function q(e){return b(P(O(e)),e)}s.getDefaultTemplating=q;function K(e,t){var n,i;let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const a=t.restrictions.isInsertable.expression;const r=o?L(e,R.CreateHidden,false):t.hiddenAnnotation.create;const s=t.newAction;return S(t.creationMode===c.External,F(P(r),b(e.getTemplateType()===l.ListReport,u.IsEditable)),S(b(F(O(s===null||s===void 0?void 0:s.available),M(s===null||s===void 0?void 0:s.available,false)),F(O(a),M(a,false),!s),F(O(r),M(r,true)),F(t.creationMode===c.InlineCreationRows,((n=t.tableManifestConfiguration)===null||n===void 0?void 0:n.type)==="ResponsiveTable",S((t===null||t===void 0?void 0:(i=t.tableManifestConfiguration)===null||i===void 0?void 0:i.inlineCreationRowsHiddenInEditMode)===false,true,u.IsCreateMode))),false,S(e.getTemplateType()===l.ListReport,b(P(T(r)),P(r)),F(P(r),u.IsEditable))))}s.getCreateVisibility=K;function Q(e,t){const n=t.hiddenAnnotation.delete;const i=t.restrictions.isDeletable.expression;return S(e.getTemplateType()===l.AnalyticalListPage,false,S(F(O(i),M(i,false)),false,S(F(O(n),M(n,_(true))),false,S(e.getTemplateType()!==l.ListReport,F(P(n),u.IsEditable),P(F(T(n),n))))))}s.getDeleteVisibility=Q;function Y(e,t,n,i){return F(C(t.tableManifestConfiguration.enablePaste,false),n,i,[l.ListReport,l.AnalyticalListPage].indexOf(e.getTemplateType())===-1,t.restrictions.isInsertable.expression)}s.getPasteVisibility=Y;function J(e,t){var n;const i=t.hiddenAnnotation.update,o=t.restrictions.isUpdatable.expression,a=((n=t.tableManifestConfiguration)===null||n===void 0?void 0:n.enableMassEdit)||false;const r=e.getTemplateType()===l.ObjectPage?u.IsEditable:e.getTemplateType()===l.ListReport;return F(P(F(O(o),M(o,false))),a,r,P(i))}s.getMassEditVisibility=J;function X(t,n,i){const o=f(t.getDataModelObjectPath(),{ignoreTargetCollection:true,authorizeUnresolvable:true,pathVisitor:(e,n)=>{if(e.indexOf("/")===0){e=d(e,t.getConvertedTypes(),n);return e}const i=t.getDataModelObjectPath().navigationProperties;if(i){const t=i[i.length-1];const n=h(t)&&t.partner;if(n){e=`${n}/${e}`}}return e}});const a=o._type==="Unresolvable"?f(t.getDataModelObjectPath(),{pathVisitor:e=>d(e,t.getConvertedTypes(),[])}):o;return F(i,a,b(!n.tableManifestConfiguration.disableAddRowButtonForEmptyData,x([y("creationRowFieldValidity","internal")],e.validateCreationRowFields)))}s.getCreationRowEnablement=X;function Z(e,t,n){let i;if(t.creationMode===c.InlineCreationRows){i=P(t.hiddenAnnotation.create)}else{i=n}const o=t.restrictions.isInsertable.expression;const a=e.resolveAbsolutePath(t.collectionPath).target;return F(i,b(m(a),F(o,b(e.getTemplateType()!==l.ObjectPage,u.IsEditable))))}s.getCreateEnablement=Z;function ee(e,t,n){const i=y("deletableContexts","internal");const o=y("unSavedContexts","internal");const a=y("draftsWithDeletableActive","internal");const r=y("draftsWithNonDeletableActive","internal");return F(n,S(e.getTemplateType()===l.ObjectPage,b(F(C(i,undefined),A(E(i),0)),F(C(a,undefined),A(E(a),0))),b(F(C(i,undefined),A(E(i),0)),F(C(a,undefined),A(E(a),0)),F(C(r,undefined),A(E(r),0)),F(C(o,undefined),A(E(o),0)))))}s.getDeleteEnablement=ee;function te(e,t){return F(e,t)}s.getPasteEnablement=te;function ne(e,t,i){const o=t.restrictions.isUpdatable.expression;const a=!O(o)&&t.restrictions.isUpdatable.navigationExpression._type==="Unresolvable";const r=I(y("numberOfSelectedContexts","internal"),1);const s=I(E(y("updatableContexts","internal")),1);const l=n.isObjectPathDraftSupported(e.getDataModelObjectPath());const c=ie(e);const u=S(b(F(c,l),a),F(r,s),F(r));return F(i,S(a,u,F(u,o)))}s.getMassEditEnablement=ne;function ie(e,t){const n=e.getTemplateType();if(n===l.ListReport||n===l.AnalyticalListPage||t&&e.getManifestWrapper().hasMultipleVisualizations(t)){return true}return false}s.isInDisplayMode=ie;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/controls/ListReport/FilterBar",["sap/fe/core/converters/controls/Common/Table","sap/fe/core/converters/controls/ListReport/VisualFilters","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","../Common/DataVisualization"],function(e,t,n,i,o,a,r,s,l,c,u){"use strict";var d={};var p=u.getSelectionVariant;var f=c.getAssociatedUnitPropertyPath;var g=c.getAssociatedTimezonePropertyPath;var v=c.getAssociatedTextPropertyPath;var h=c.getAssociatedCurrencyPropertyPath;var m=l.enhanceDataModelPath;var y=s.isNavigationProperty;var b=s.isMultipleNavigationProperty;var C=s.isEntitySet;var P=s.isComplexType;var E=a.getExpressionFromAnnotation;var T=a.compileExpression;var O=o.KeyHelper;var S=i.IssueType;var A=i.IssueSeverity;var I=i.IssueCategory;var D=n.Placement;var x=n.OverrideType;var M=n.insertCustomElements;var _=t.getVisualFilters;var w=e.isFilteringCaseSensitive;var F=e.getTypeConfig;var R=e.getSelectionVariantConfiguration;var N;(function(e){e["Default"]="Default";e["Slot"]="Slot"})(N||(N={}));const $="Edm.String";const V="sap.ui.model.odata.type.String";function L(e){const t={};e.Data.forEach(n=>{if(n.$Type==="com.sap.vocabularies.UI.v1.DataField"){var i,o;t[n.Value.path]={group:e.fullyQualifiedName,groupLabel:T(E(e.Label||((i=e.annotations)===null||i===void 0?void 0:(o=i.Common)===null||o===void 0?void 0:o.Label)||e.qualifier))||e.qualifier}}});return t}function B(e){return e.reduce((e,t)=>{t.propertyNames.forEach(t=>{e[t]=true});return e},{})}function j(e,t){if(t&&e.length>0){return e.every(e=>e.enableAnalytics&&t===e.annotation.collection)}return false}function k(e,t){const n=[];return e.map(e=>{const i=e.control.filters;const o=[];for(const e in i){if(Array.isArray(i[e].paths)){const a=i[e].paths;a.forEach(e=>{if(e&&e.annotationPath&&n.indexOf(e.annotationPath)===-1){n.push(e.annotationPath);const i=R(e.annotationPath,t);if(i){o.push(i)}}})}}return o}).reduce((e,t)=>e.concat(t),[])}const U=function(e,t){const n=t.split("/");let i;let o="";while(n.length){let t=n.shift();i=i?`${i}/${t}`:t;const a=e.resolvePath(i);if(b(a)){t+="*"}o=o?`${o}/${t}`:t}return o};const H=function(e,t,n,i,o){var a,r,s;if(t&&t.targetType===undefined&&(i||((a=t.annotations)===null||a===void 0?void 0:(r=a.UI)===null||r===void 0?void 0:(s=r.Hidden)===null||s===void 0?void 0:s.valueOf())!==true)){var l,c,u,d,p,f,g,v;const i=o.getAnnotationEntityType(t);return{key:O.getSelectionFieldKeyFromPath(n),annotationPath:o.getAbsoluteAnnotationPath(n),conditionPath:U(e,n),availability:((l=t.annotations)===null||l===void 0?void 0:(c=l.UI)===null||c===void 0?void 0:(u=c.HiddenFilter)===null||u===void 0?void 0:u.valueOf())===true?"Hidden":"Adaptation",label:T(E(((d=t.annotations.Common)===null||d===void 0?void 0:(p=d.Label)===null||p===void 0?void 0:p.valueOf())||t.name)),group:i.name,groupLabel:T(E((i===null||i===void 0?void 0:(f=i.annotations)===null||f===void 0?void 0:(g=f.Common)===null||g===void 0?void 0:(v=g.Label)===null||v===void 0?void 0:v.valueOf())||i.name))}}return undefined};const G=function(e,t,n,i,o){const a={};if(n){n.forEach(n=>{const r=n.name;const s=(t?`${t}/`:"")+r;const l=H(e,n,s,i,o);if(l){a[s]=l}})}return a};const z=function(e,t,n,i){let o={};if(t){t.forEach(t=>{let a;const r=e.resolvePath(t);if(r===undefined){return}if(y(r)){a=G(e,t,r.targetType.entityProperties,n,i)}else if(P(r.targetType)){a=G(e,t,r.targetType.properties,n,i)}else{const o=t.includes("/")?t.split("/").splice(0,1).join("/"):"";a=G(e,o,[r],n,i)}o={...o,...a}})}return o};const W=function(e,t,n,i){let o=e[t];if(o){delete e[t]}else{o=H(i,i.resolvePath(t),t,true,n)}if(!o){var a;(a=n.getDiagnostics())===null||a===void 0?void 0:a.addIssue(I.Annotation,A.High,S.MISSING_SELECTIONFIELD)}if(o){var r,s;o.availability=o.availability==="Hidden"?"Hidden":"Default";o.isParameter=!!((r=i.annotations)!==null&&r!==void 0&&(s=r.Common)!==null&&s!==void 0&&s.ResultContext)}return o};const q=function(e,t,n,i,o){const a=[];const r={};const s=t.entityProperties;o===null||o===void 0?void 0:o.forEach(e=>{r[e.value]=true});if(e&&e.length>0){e===null||e===void 0?void 0:e.forEach(e=>{const r=e.PropertyName;const s=r===null||r===void 0?void 0:r.value;const l={};o===null||o===void 0?void 0:o.forEach(e=>{l[e.value]=true});if(s&&!(s in i)){if(!(s in l)){const e=J(s,n,t);if(e){a.push(e)}}}})}else if(s){s.forEach(e=>{var o,s;const l=(o=e.annotations)===null||o===void 0?void 0:(s=o.Common)===null||s===void 0?void 0:s.FilterDefaultValue;const c=e.name;if(!(c in i)){if(l&&!(c in r)){const e=J(c,n,t);if(e){a.push(e)}}}})}return a};function K(e){var t,n;const i=e.getDataModelObjectPath();const o=i.startingEntitySet.entityType;const a=!!((t=o.annotations)!==null&&t!==void 0&&(n=t.Common)!==null&&n!==void 0&&n.ResultContext)&&!i.targetEntitySet;const r=a&&e.getConverterContextFor(`/${i.startingEntitySet.name}`);return r?o.entityProperties.map(function(e){return W({},e.name,r,o)}):[]}const Q=function(e,t,n){const i=t.length===0||t.every(e=>!e.applySupported.enableSearch);const o=e.length===0||e.every(e=>(e.enableAnalytics||e.control.type==="TreeTable")&&!e.enableBasicSearch);const a=n.getContextPath();if(a&&i&&o){return true}else{return false}};d.getFilterBarHideBasicSearch=Q;const Y=function(e,t){const n=t.getManifestWrapper().getFilterConfiguration();const i=(n===null||n===void 0?void 0:n.filterFields)||{};const o=z(e,Object.keys(i).map(e=>O.getPathFromSelectionFieldKey(e)),true,t);const a={};for(const n in i){const r=i[n];const s=O.getPathFromSelectionFieldKey(n);const l=o[s];const c=r.type==="Slot"?N.Slot:N.Default;const u=r&&r!==null&&r!==void 0&&r.visualFilter?_(e,t,n,i):undefined;a[n]={key:n,type:c,slotName:(r===null||r===void 0?void 0:r.slotName)||n,annotationPath:l===null||l===void 0?void 0:l.annotationPath,conditionPath:(l===null||l===void 0?void 0:l.conditionPath)||s,template:r.template,label:r.label,position:r.position||{placement:D.After},availability:r.availability||"Default",settings:r.settings,visualFilter:u,required:r.required}}return a};d.getManifestFilterFields=Y;const J=function(e,t,n){return W({},e,t,n)};d.getFilterField=J;const X=function(e,t){let n=[];if(e&&e[t]){n=e[t].map(function(e){return e.value})}return n};d.getFilterRestrictions=X;const Z=function(e){const t={};if(e&&e.FilterExpressionRestrictions){e.FilterExpressionRestrictions.forEach(function(e){var n;if((n=e.Property)!==null&&n!==void 0&&n.value&&e.AllowedExpressions){var i;if(t[(i=e.Property)===null||i===void 0?void 0:i.value]){var o;t[(o=e.Property)===null||o===void 0?void 0:o.value].push(e.AllowedExpressions.toString())}else{var a;t[(a=e.Property)===null||a===void 0?void 0:a.value]=[e.AllowedExpressions.toString()]}}})}return t};d.getFilterAllowedExpression=Z;const ee=function(){return{name:"$search",path:"$search",dataType:V,maxConditions:1}};const te=function(){return{name:"$editState",path:"$editState",groupLabel:"",group:"",dataType:V,hiddenFilter:false}};const ne=function(e){var t;const n=e.getEntitySet();return C(n)?(t=n.annotations.Capabilities)===null||t===void 0?void 0:t.SearchRestrictions:undefined};const ie=function(e,t){var n,i,o;const a=(n=e.getEntitySet())===null||n===void 0?void 0:(i=n.annotations)===null||i===void 0?void 0:(o=i.Capabilities)===null||o===void 0?void 0:o.NavigationRestrictions;const r=a&&a.RestrictedProperties;return r&&r.find(function(e){return e&&e.NavigationProperty&&e.NavigationProperty.value===t})};d.getNavigationRestrictions=ie;const oe=function(e){return{key:e.key,annotationPath:e.annotationPath,conditionPath:e.conditionPath,name:e.conditionPath,label:e.label,hiddenFilter:e.availability==="Hidden",display:"Value",isParameter:e.isParameter,caseSensitive:e.caseSensitive,availability:e.availability,position:e.position,type:e.type,template:e.template,menu:e.menu,required:e.required}};const ae=function(e){const t=["SingleValue","MultiValue","SingleRange","MultiRange","SearchExpression","MultiRangeOrSearchExpression"];e.sort(function(e,n){return t.indexOf(e)-t.indexOf(n)});return e[0]};d.getSpecificAllowedExpression=ae;const re=function(e,t){var n,i,o,a,r,s;const l=e===null||e===void 0?void 0:(n=e.Common)===null||n===void 0?void 0:n.Text,c=l&&(e&&(e===null||e===void 0?void 0:(i=e.Common)===null||i===void 0?void 0:(o=i.Text)===null||o===void 0?void 0:(a=o.annotations)===null||a===void 0?void 0:(r=a.UI)===null||r===void 0?void 0:r.TextArrangement)||t&&(t===null||t===void 0?void 0:(s=t.UI)===null||s===void 0?void 0:s.TextArrangement));if(c){if(c.valueOf()==="UI.TextArrangementType/TextOnly"){return"Description"}else if(c.valueOf()==="UI.TextArrangementType/TextLast"){return"ValueDescription"}return"DescriptionValue"}return l?"DescriptionValue":"Value"};d.displayMode=re;const se=function(e,t,n){var i;let o=oe(t);const a=t.annotationPath;if(!a){return o}const r=e.getConverterContextFor(a).getDataModelObjectPath().targetObject;const s=r===null||r===void 0?void 0:r.annotations;const l=e===null||e===void 0?void 0:(i=e.getDataModelObjectPath().targetObject)===null||i===void 0?void 0:i.annotations;const c=n.formatOptions;const u=n.constraints;o=Object.assign(o,{formatOptions:c,constraints:u,display:re(s,l)});return o};d.fetchPropertyInfo=se;const le=function(e){let t=true;switch(e.filterExpression){case"SearchExpression":case"SingleRange":case"SingleValue":t=false;break;default:break}if(e.type&&e.type.indexOf("Boolean")>0){t=false}return t};d.isMultiValue=le;const ce=function(e){return(e.$Type==="com.sap.vocabularies.UI.v1.DataField"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath")&&e.Value.path.includes("/")};const ue=function(e,t,n){var i;const o=(i=e.Value)===null||i===void 0?void 0:i.$target;if(o){const e=v(o)||h(o)||f(o)||g(o);const i=e?m(t.getDataModelObjectPath(),e).navigationProperties:undefined;if(i!==null&&i!==void 0&&i.length){const e=i[0].name;if(!n.includes(e)){n.push(e)}}}};const de=function(e,t,n){var i,o,a;switch(t.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":switch((i=t.Target)===null||i===void 0?void 0:(o=i.$target)===null||o===void 0?void 0:o.$Type){case"com.sap.vocabularies.UI.v1.FieldGroupType":(a=t.Target.$target.Data)===null||a===void 0?void 0:a.forEach(t=>{de(e,t,n)});break;default:break}break;case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":if(ce(t)){const i=m(n.getDataModelObjectPath(),t.Value.path).navigationProperties[0].name;if(!e.includes(i)){e.push(i)}}ue(t,n,e);break;default:break}return e};const pe=function(e){var t,n,i;let o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let s=arguments.length>4?arguments[4]:undefined;const l=k(o,e);const c=B(l);const u=e.getEntityType();const d=a&&((t=e.getEntityTypeAnnotation(a))===null||t===void 0?void 0:t.annotation)||((n=u.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:i.SelectionFields)||[];let f=[];if(o.length===0&&!!s){var g;(g=e.getEntityTypeAnnotation(s).annotation)===null||g===void 0?void 0:g.forEach(t=>{f=de(f,t,e)})}const v={...G(u,"",u.entityProperties,r,e),...z(u,f,false,e),...z(u,e.getManifestWrapper().getFilterConfiguration().navigationProperties,r,e)};let h=[];const m=p(u,e);if(m){h=m.SelectOptions}const y=(d===null||d===void 0?void 0:d.reduce((t,n)=>{const i=n.value;if(!(i in c)){let n;if(a.startsWith("@com.sap.vocabularies.UI.v1.SelectionFields")){n=""}else{n=a.split("/@com.sap.vocabularies.UI.v1.SelectionFields")[0]}const o=n?n+"/"+i:i;const r=W(v,o,e,u);if(r){r.group="";r.groupLabel="";t.push(r)}}return t},[]))||[];const b=q(h,u,e,c,d);return{excludedFilterProperties:c,entityType:u,annotatedSelectionFields:d,filterFields:v,propertyInfoFields:y,defaultFilterFields:b}};const fe=function(e){const t=F(e,e===null||e===void 0?void 0:e.type);if((e===null||e===void 0?void 0:e.type)===$&&(t.constraints.nullable===undefined||t.constraints.nullable===true)){t.formatOptions.parseKeepsEmptyString=false}return t};d.fetchTypeConfig=fe;const ge=function(e,t,n,i){let o=se(t,e,i[e.key]),a="";if(e.conditionPath){a=e.conditionPath.replace(/\+|\*/g,"")}if(o){o=Object.assign(o,{maxConditions:!o.isParameter&&le(o)?-1:1,required:e.required??(o.isParameter||n.indexOf(a)>=0),caseSensitive:w(t),dataType:i[e.key].type})}return o};d.assignDataTypeToPropertyInfo=ge;const ve=function(e,t,n){var i;const o=[];const a={};if(n){e=e.concat(n)}e.forEach(function(e){if(e.annotationPath){const n=t.getConverterContextFor(e.annotationPath);const i=n.getDataModelObjectPath().targetObject;o.push(i===null||i===void 0?void 0:i.type);const r=fe(i);a[e.key]=r}else{o.push($);a[e.key]={type:V}}});const s=t.getEntitySet();const l=C(s)?(i=s.annotations.Capabilities)===null||i===void 0?void 0:i.FilterRestrictions:undefined;const c={};c.RequiredProperties=X(l,"RequiredProperties")||[];c.NonFilterableProperties=X(l,"NonFilterableProperties")||[];c.FilterAllowedExpressions=Z(l);const u=t.getContextPath();const d=u.split("/");if(d.length>2){const e=d[d.length-1];d.splice(-1,1);const n=ie(t,e);const i=n&&n.FilterRestrictions;c.RequiredProperties=c.RequiredProperties.concat(X(i,"RequiredProperties")||[]);c.NonFilterableProperties=c.NonFilterableProperties.concat(X(i,"NonFilterableProperties")||[]);c.FilterAllowedExpressions={...Z(i)||{},...c.FilterAllowedExpressions}}const p=c.RequiredProperties;const f=c.NonFilterableProperties;const g=[];e.forEach(function(e){const n=e.conditionPath.replace(/\+|\*/g,"");if(f.indexOf(n)===-1){const n=ge(e,t,p,a);g.push(n)}});const v=t.getDataModelObjectPath();if(r.isObjectPathDraftSupported(v)){g.push(te())}const h=ne(t);const m=Boolean(h&&!h.Searchable);if(u&&m!==true){if(!h||h!==null&&h!==void 0&&h.Searchable){g.push(ee())}}return g};d.processSelectionFields=ve;const he=function(e,t,n){return M(e,Y(t,n),{availability:x.overwrite,label:x.overwrite,type:x.overwrite,position:x.overwrite,slotName:x.overwrite,template:x.overwrite,settings:x.overwrite,visualFilter:x.overwrite,required:x.overwrite})};d.insertCustomManifestElements=he;const me=function(e){var t,n;let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";let a=arguments.length>3?arguments[3]:undefined;let r=arguments.length>4?arguments[4]:undefined;const s=pe(e,i,o,a,r);const l=K(e);let c=JSON.parse(JSON.stringify(s.propertyInfoFields));const u=s.entityType;c=l.concat(c);c=he(c,u,e);const d=ve(c,e,s.defaultFilterFields);d.sort(function(e,t){if(e.groupLabel===undefined||e.groupLabel===null){return-1}if(t.groupLabel===undefined||t.groupLabel===null){return 1}return e.groupLabel.localeCompare(t.groupLabel)});let p=JSON.stringify(d);p=p.replace(/\{/g,"\\{");p=p.replace(/\}/g,"\\}");const f=p;let g=JSON.parse(JSON.stringify(s.propertyInfoFields));g=l.concat(g);const v=s.excludedFilterProperties;const h=u===null||u===void 0?void 0:(t=u.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.FilterFacets;let m={};const y=e.getAnnotationsByTerm("UI","com.sap.vocabularies.UI.v1.FieldGroup");if(h===undefined||h.length<0){for(const e in y){m={...m,...L(y[e])}}}else{m=h.reduce((e,t)=>{for(let d=0;d<(t===null||t===void 0?void 0:(n=t.Target)===null||n===void 0?void 0:(i=n.$target)===null||i===void 0?void 0:(o=i.Data)===null||o===void 0?void 0:o.length);d++){var n,i,o,a,r,s,l,c,u;e[t===null||t===void 0?void 0:(a=t.Target)===null||a===void 0?void 0:(r=a.$target)===null||r===void 0?void 0:(s=r.Data[d])===null||s===void 0?void 0:(l=s.Value)===null||l===void 0?void 0:l.path]={group:t===null||t===void 0?void 0:(c=t.ID)===null||c===void 0?void 0:c.toString(),groupLabel:t===null||t===void 0?void 0:(u=t.Label)===null||u===void 0?void 0:u.toString()}}return e},{})}const b=s.filterFields;let C=g.concat(Object.keys(b).filter(e=>!(e in v)).map(e=>Object.assign(b[e],m[e])));const P=e.getContextPath();if(j(i,P)){const e=i[0].aggregates;if(e){const t=Object.keys(e).map(t=>e[t].relativePath);C=C.filter(e=>t.indexOf(e.key)===-1)}}const E=he(C,u,e);const T=w(e);E.forEach(e=>{e.caseSensitive=T});return{selectionFields:E,sPropertyInfo:f}};d.getSelectionFields=me;const ye=function(e,t,n){const i=X(t,"RequiredProperties");const o=ne(e);const a=Boolean(o&&!o.Searchable);if(i.length>0||a||(n===null||n===void 0?void 0:n.FetchValues)===2){return true}return false};d.getExpandFilterFields=ye;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/controls/ListReport/VisualFilters",["sap/fe/core/converters/helpers/Aggregation","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/FilterTemplating"],function(e,t,n,i,o,a){"use strict";var r={};var s=a.isPropertyFilterable;var l=a.getIsRequired;var c=o.checkFilterExpressionRestrictions;var u=i.isEntitySet;var d=n.not;var p=n.compileExpression;var f=t.IssueType;var g=t.IssueSeverity;var v=t.IssueCategory;var h=e.AggregationHelper;const m=function(e,t,n){var i,o,a,r;let s,l,c;let u;const d=n.getCustomAggregateDefinitions();let p=n.getTransAggregations();let f=[];if(t!==null&&t!==void 0&&(i=t.$target)!==null&&i!==void 0&&i.Measures){var g,v,h;f=d.filter(function(e){var n,i,o;return e.qualifier===(t===null||t===void 0?void 0:(n=t.$target)===null||n===void 0?void 0:(i=n.Measures)===null||i===void 0?void 0:(o=i[0])===null||o===void 0?void 0:o.value)});u=f.length>0?f[0].qualifier:t===null||t===void 0?void 0:(g=t.$target)===null||g===void 0?void 0:(v=g.Measures)===null||v===void 0?void 0:(h=v[0])===null||h===void 0?void 0:h.value}if(!f[0]&&t!==null&&t!==void 0&&(o=t.$target)!==null&&o!==void 0&&o.DynamicMeasures){var m,y;u=e.getConverterContextFor(e.getAbsoluteAnnotationPath((m=t.$target.DynamicMeasures)===null||m===void 0?void 0:(y=m[0])===null||y===void 0?void 0:y.value)).getDataModelObjectPath().targetObject.Name;p=n.getAggregatedProperties("AggregatedProperty")}else{p=n.getAggregatedProperties("AggregatedProperties")[0]}const b=t===null||t===void 0?void 0:(a=t.$target)===null||a===void 0?void 0:(r=a.Dimensions[0])===null||r===void 0?void 0:r.value;if(d.some(function(e){return e.qualifier===u})){s=u}else if(p&&p[0]){p.some(function(e){if(e.Name===u){s=e===null||e===void 0?void 0:e.AggregatableProperty.value}})}const C=n.getAggregatableProperties();const P=n.getGroupableProperties();if(C&&C.length){for(const e of C){var E;if((e===null||e===void 0?void 0:(E=e.Property)===null||E===void 0?void 0:E.value)===s){c=true}}}if(P&&P.length){for(const e of P){if((e===null||e===void 0?void 0:e.value)===b){l=true}}}return c&&l};function y(e,t,n,i){var o;let a;const r=i[n];if(r!==null&&r!==void 0&&(o=r.visualFilter)!==null&&o!==void 0&&o.valueList){var y,b,C,P,E,T;const i=r===null||r===void 0?void 0:(y=r.visualFilter)===null||y===void 0?void 0:y.valueList;const o=i.split("#");const pe=o.length>1?`ValueList#${o[1]}`:o[0];const fe=e.resolvePath(n);const ge=fe===null||fe===void 0?void 0:(b=fe.annotations)===null||b===void 0?void 0:(C=b.Common)===null||C===void 0?void 0:C[pe];const ve=(fe===null||fe===void 0?void 0:(P=fe.annotations)===null||P===void 0?void 0:(E=P.Common)===null||E===void 0?void 0:(T=E.ValueListWithFixedValues)===null||T===void 0?void 0:T.valueOf())||false;if(ge){var O,S;const e=ge===null||ge===void 0?void 0:ge.CollectionPath.toString();const i=t.getConverterContextFor(`/${e||((O=t.getEntitySet())===null||O===void 0?void 0:O.name)}`);const o=ge===null||ge===void 0?void 0:ge.Parameters;let r;const y=[];let b=[];const C=i.getParameterEntityType();b=C?C.keys.map(function(e){return e.name}):[];if(t.getContextPath()===i.getContextPath()){b.forEach(function(e){y.push({localDataProperty:e,valueListProperty:e})})}if(o){for(const e of o){var A;const t=(A=e.LocalDataProperty)===null||A===void 0?void 0:A.value;const o=e.ValueListProperty;if(((e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||(e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.Common.v1.ValueListParameterOut")&&n===t){r=e}if(((e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||(e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.Common.v1.ValueListParameterIn")&&n!==t){const e=s(i,o);if(!e){y.push({localDataProperty:t,valueListProperty:o})}}}}if(y&&y.length){y.forEach(function(e){const o=p(c(t.getConverterContextFor(t.getAbsoluteAnnotationPath(e===null||e===void 0?void 0:e.localDataProperty)).getDataModelObjectPath(),["SingleValue"]));const a=p(c(i.getConverterContextFor(i.getAbsoluteAnnotationPath(e===null||e===void 0?void 0:e.valueListProperty)).getDataModelObjectPath(),["SingleValue"]));if(a==="true"&&o==="false"){throw new Error(`FilterRestrictions of ${n} in MainEntitySet and ValueListEntitySet are different`)}})}const P=ge===null||ge===void 0?void 0:ge.PresentationVariantQualifier;const E=ge===null||ge===void 0?void 0:ge.SelectionVariantQualifier;const T=i===null||i===void 0?void 0:(S=i.getEntityType().annotations.UI)===null||S===void 0?void 0:S[`PresentationVariant#${P}`];const pe=new h(i.getEntityType(),i);if(!pe.isAnalyticsSupported()){return undefined}if(T){var I;const o=T===null||T===void 0?void 0:T.Visualizations;const s=`/${ge===null||ge===void 0?void 0:ge.CollectionPath}`||`/${i===null||i===void 0?void 0:(I=i.getEntitySet())===null||I===void 0?void 0:I.name}`;a={};a.contextPath=s;a.isValueListWithFixedValues=ve;let h;for(const e of o){var D;if(((D=e.$target)===null||D===void 0?void 0:D.term)==="com.sap.vocabularies.UI.v1.Chart"){h=e;break}}if(h){var x,M,_,w,F,R,N,$,V,L,B,j,k,U;const s=m(i,h,pe);if(!s){return}const P=(x=h)===null||x===void 0?void 0:(M=x.$target)===null||M===void 0?void 0:(_=M.Dimensions[0])===null||_===void 0?void 0:(w=_.$target)===null||w===void 0?void 0:(F=w.annotations)===null||F===void 0?void 0:(R=F.UI)===null||R===void 0?void 0:(N=R.Hidden)===null||N===void 0?void 0:N.valueOf();const O=($=h)===null||$===void 0?void 0:(V=$.$target)===null||V===void 0?void 0:(L=V.Dimensions[0])===null||L===void 0?void 0:(B=L.$target)===null||B===void 0?void 0:(j=B.annotations)===null||j===void 0?void 0:(k=j.UI)===null||k===void 0?void 0:(U=k.HiddenFilter)===null||U===void 0?void 0:U.valueOf();if(P===true||O===true){return}else if(o&&o.length){var H,G,z,W,q,K,Q,Y,J,X;a.chartAnnotation=h?i===null||i===void 0?void 0:i.getAbsoluteAnnotationPath(`${h.$target.fullyQualifiedName}/$AnnotationPath/`):undefined;const o=(H=i.getEntitySet())===null||H===void 0?void 0:H.name;let s;const m=i===null||i===void 0?void 0:i.getRelativeAnnotationPath(`${T.fullyQualifiedName}/`,i.getEntityType());if(C){s=i.getContextPath()+"/"+m}else{s="/"+o+"/"+m}a.presentationAnnotation=T?s:undefined;a.outParameter=(G=r)===null||G===void 0?void 0:(z=G.LocalDataProperty)===null||z===void 0?void 0:z.value;a.inParameters=y;a.valuelistProperty=(W=r)===null||W===void 0?void 0:W.ValueListProperty;const P=c(t.getConverterContextFor(t.getAbsoluteAnnotationPath(n)).getDataModelObjectPath(),["SingleRange","MultiRange"]);if(p(P)==="true"){t.getDiagnostics().addIssue(v.Annotation,g.High,f.MALFORMED_VISUALFILTERS.VALUELIST);return undefined}const O=c(t.getConverterContextFor(t.getAbsoluteAnnotationPath(n)).getDataModelObjectPath(),["SingleValue"]);a.multipleSelectionAllowed=p(d(O));a.required=l(t,n);let S;if(E){var Z,ee;S=i===null||i===void 0?void 0:(Z=i.getEntityTypeAnnotation(`@UI.SelectionVariant#${E}`))===null||Z===void 0?void 0:Z.annotation;let e;const t=i===null||i===void 0?void 0:i.getRelativeAnnotationPath(`${(ee=S)===null||ee===void 0?void 0:ee.fullyQualifiedName}/`,i.getEntityType());if(C){e=i.getContextPath()+"/"+t}else{e="/"+o+"/"+t}a.selectionVariantAnnotation=S?e:undefined}let A=[];if(C){var te,ne,ie,oe,ae;const n=e.split("/")[0];const i=e.split("/")[1];const o=t.getConverterContextFor(`/${n}`);const a=o===null||o===void 0?void 0:(te=o.getDataModelObjectPath().startingEntitySet)===null||te===void 0?void 0:(ne=te.annotations)===null||ne===void 0?void 0:(ie=ne.Capabilities)===null||ie===void 0?void 0:(oe=ie.NavigationRestrictions)===null||oe===void 0?void 0:oe.RestrictedProperties;const r=a===null||a===void 0?void 0:a.find(e=>{var t;if(((t=e.NavigationProperty)===null||t===void 0?void 0:t.type)==="NavigationPropertyPath"){return e.NavigationProperty.value===i}});A=(r===null||r===void 0?void 0:(ae=r.FilterRestrictions)===null||ae===void 0?void 0:ae.RequiredProperties)??[]}else{const e=i===null||i===void 0?void 0:i.getEntitySet();if(u(e)){var re,se;A=((re=e.annotations.Capabilities)===null||re===void 0?void 0:(se=re.FilterRestrictions)===null||se===void 0?void 0:se.RequiredProperties)??[]}}let I=[];if((q=A)!==null&&q!==void 0&&q.length){A.forEach(function(e){I.push(e.value)})}I=I.concat(b);a.requiredProperties=I;if((K=a.requiredProperties)!==null&&K!==void 0&&K.length){if(!a.inParameters||!a.inParameters.length){if(!a.selectionVariantAnnotation){a.showOverlayInitially=true}else{var le,ce,ue,de;let e=((le=S)===null||le===void 0?void 0:(ce=le.SelectOptions)===null||ce===void 0?void 0:ce.map(e=>{var t;return(t=e.PropertyName)===null||t===void 0?void 0:t.value}))||[];const t=((ue=S)===null||ue===void 0?void 0:(de=ue.Parameters)===null||de===void 0?void 0:de.map(e=>{var t;return(t=e.PropertyName)===null||t===void 0?void 0:t.value}))||[];e=e.concat(t);I=I.sort();e=e.sort();a.showOverlayInitially=I.some(function(t){return e.indexOf(t)===-1})}}else{a.showOverlayInitially=false}}else{a.showOverlayInitially=false}const D=(Q=h)===null||Q===void 0?void 0:(Y=Q.$target)===null||Y===void 0?void 0:(J=Y.Dimensions[0])===null||J===void 0?void 0:(X=J.$target)===null||X===void 0?void 0:X.type;if(!(D==="Edm.DateTimeOffset"||D==="Edm.Date"||D==="Edm.TimeOfDay")&&h.$target.ChartType==="UI.ChartType/Line"){a.renderLineChart=false}else{a.renderLineChart=true}}}else{t.getDiagnostics().addIssue(v.Annotation,g.High,f.MALFORMED_VISUALFILTERS.CHART);return}}else{t.getDiagnostics().addIssue(v.Annotation,g.High,f.MALFORMED_VISUALFILTERS.PRESENTATIONVARIANT)}}else{t.getDiagnostics().addIssue(v.Annotation,g.High,f.MALFORMED_VISUALFILTERS.VALUELIST)}}else{t.getDiagnostics().addIssue(v.Manifest,g.High,f.MALFORMED_VISUALFILTERS.VALUELIST)}return a}r.getVisualFilters=y;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/controls/ObjectPage/Avatar",["sap/fe/core/helpers/BindingToolkit"],function(e){"use strict";var t={};var n=e.getExpressionFromAnnotation;var i=e.compileExpression;var o;(function(e){e["Circle"]="Circle";e["Square"]="Square"})(o||(o={}));const a=e=>{var t,n;return((t=e.getEntityType().annotations.Common)===null||t===void 0?void 0:(n=t.IsNaturalPerson)===null||n===void 0?void 0:n.valueOf())===true};const r=e=>{var t,o;const r=(t=e.getEntityType().annotations)===null||t===void 0?void 0:(o=t.UI)===null||o===void 0?void 0:o.HeaderInfo;if(!r||r&&!r.ImageUrl&&!r.TypeImageUrl){return undefined}if(r.ImageUrl&&r.TypeImageUrl){return i(n(r.TypeImageUrl))}return i(a(e)?"sap-icon://person-placeholder":"sap-icon://product")};const s=e=>{var t,o;const a=(t=e.getEntityType().annotations)===null||t===void 0?void 0:(o=t.UI)===null||o===void 0?void 0:o.HeaderInfo;if(!a||!(a.ImageUrl||a.TypeImageUrl)){return undefined}return i(n(a.ImageUrl||a.TypeImageUrl))};const l=e=>{var t,l;const c=(t=e.getEntityType().annotations)===null||t===void 0?void 0:(l=t.UI)===null||l===void 0?void 0:l.HeaderInfo;const u=c&&(c.ImageUrl||c.TypeImageUrl||c.Initials);if(!u){return undefined}return{src:s(e),initials:i(n((c===null||c===void 0?void 0:c.Initials)||"")),fallbackIcon:r(e),displayShape:i(a(e)?o.Circle:o.Square)}};t.getAvatar=l;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/controls/ObjectPage/HeaderFacet",["sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/ID","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingToolkit","../../../helpers/StableIdHelper","../../helpers/DataFieldHelper","../Common/Form"],function(e,t,n,i,o,a,r,s){"use strict";var l={};var c=s.getFormElementsFromManifest;var u=s.FormElementType;var d=r.isReferencePropertyStaticallyHidden;var p=r.isAnnotationFieldStaticallyHidden;var f=a.createIdForAnnotation;var g=o.not;var v=o.getExpressionFromAnnotation;var h=o.equal;var m=o.compileExpression;var y=i.KeyHelper;var b=n.getHeaderFacetID;var C=n.getHeaderFacetFormID;var P=n.getHeaderFacetContainerID;var E=n.getCustomHeaderFacetID;var T=t.Placement;var O=t.insertCustomElements;var S=e.getSemanticObjectPath;let A;(function(e){e["Annotation"]="Annotation";e["XMLFragment"]="XMLFragment"})(A||(A={}));l.HeaderFacetType=A;let I;(function(e){e["Reference"]="Reference";e["Collection"]="Collection"})(I||(I={}));l.FacetType=I;let D;(function(e){e["Default"]="Default";e["NotAdaptable"]="not-adaptable";e["NotAdaptableTree"]="not-adaptable-tree";e["NotAdaptableVisibility"]="not-adaptable-visibility"})(D||(D={}));l.FlexDesignTimeType=D;var x;(function(e){e["ProgressIndicator"]="ProgressIndicator";e["RatingIndicator"]="RatingIndicator";e["Content"]="Content"})(x||(x={}));var M;(function(e){e["None"]="None";e["DataPoint"]="DataPoint";e["Chart"]="Chart";e["Identification"]="Identification";e["Contact"]="Contact";e["Address"]="Address";e["FieldGroup"]="FieldGroup"})(M||(M={}));function _(e){var t,n,i;const o=[];(t=e.getEntityType().annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:(i=n.HeaderFacets)===null||i===void 0?void 0:i.forEach(t=>{const n=k(t,e);if(n){o.push(n)}});return o}l.getHeaderFacetsFromAnnotations=_;function w(e){const t={};Object.keys(e).forEach(n=>{const i=e[n];t[n]=H(i,n)});return t}l.getHeaderFacetsFromManifest=w;function F(e,t,n){var i;if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&t.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){return false}const o=f(e)??"";const a=n.getManifestWrapper().getHeaderFacets();const r=(i=a[o])===null||i===void 0?void 0:i.stashed;return r===true}l.getStashedSettingsForHeaderFacet=F;function R(e,t,n){let i=D.Default;const o=f(e);if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&t.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){i=D.NotAdaptableTree}else{const e=n.getManifestWrapper().getHeaderFacets();if(o){var a,r;const t=(a=e[o])===null||a===void 0?void 0:(r=a.flexSettings)===null||r===void 0?void 0:r.designtime;switch(t){case D.NotAdaptable:case D.NotAdaptableTree:case D.NotAdaptableVisibility:i=t;break;default:break}}}return i}l.getDesignTimeMetadataSettingsForHeaderFacet=R;function N(e,t,n){var i,o,a;if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&!(((i=e.annotations)===null||i===void 0?void 0:(o=i.UI)===null||o===void 0?void 0:(a=o.Hidden)===null||a===void 0?void 0:a.valueOf())===true)){var r,s;const i=b(e),o=(e,t)=>{var n,i;return((n=e.ID)===null||n===void 0?void 0:n.toString())||((i=e.Label)===null||i===void 0?void 0:i.toString())||t},a=e.Target.value,u=V(e);let d;let f;switch(u){case M.FieldGroup:d=L(e,n);break;case M.DataPoint:f=j(e,n);break;default:break}const{annotations:y}=e;if(((r=e.Target)===null||r===void 0?void 0:(s=r.$target)===null||s===void 0?void 0:s.term)==="com.sap.vocabularies.UI.v1.Chart"&&p(e)){return undefined}else{var l,c;return{type:A.Annotation,facetType:I.Reference,id:i,containerId:P(e),key:o(e,i),flexSettings:{designtime:R(e,t,n)},stashed:F(e,t,n),visible:m(g(h(v(y===null||y===void 0?void 0:(l=y.UI)===null||l===void 0?void 0:(c=l.Hidden)===null||c===void 0?void 0:c.valueOf()),true))),annotationPath:`${n.getEntitySetBasedAnnotationPath(e.fullyQualifiedName)}/`,targetAnnotationValue:a,targetAnnotationType:u,headerFormData:d,headerDataPointData:f}}}return undefined}function $(e,t){if(e.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){var n,i,o;const a=[],r=b(e),s=(e,t)=>{var n,i;return((n=e.ID)===null||n===void 0?void 0:n.toString())||((i=e.Label)===null||i===void 0?void 0:i.toString())||t};e.Facets.forEach(n=>{const i=N(n,e,t);if(i){a.push(i)}});return{type:A.Annotation,facetType:I.Collection,id:r,containerId:P(e),key:s(e,r),flexSettings:{designtime:R(e,e,t)},stashed:F(e,e,t),visible:m(g(h(v((n=e.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:(o=i.Hidden)===null||o===void 0?void 0:o.valueOf()),true))),annotationPath:`${t.getEntitySetBasedAnnotationPath(e.fullyQualifiedName)}/`,facets:a}}return undefined}function V(e){let t=M.None;const n={"com.sap.vocabularies.UI.v1.DataPoint":M.DataPoint,"com.sap.vocabularies.UI.v1.Chart":M.Chart,"com.sap.vocabularies.UI.v1.Identification":M.Identification,"com.sap.vocabularies.Communication.v1.Contact":M.Contact,"com.sap.vocabularies.Communication.v1.Address":M.Address,"com.sap.vocabularies.UI.v1.FieldGroup":M.FieldGroup};if(e.$Type!=="com.sap.vocabularies.UI.v1.ReferenceURLFacet"&&e.$Type!=="com.sap.vocabularies.UI.v1.CollectionFacet"){var i,o;t=n[(i=e.Target)===null||i===void 0?void 0:(o=i.$target)===null||o===void 0?void 0:o.term]||M.None}return t}function L(e,t){var n;if(!e){throw new Error("Cannot get FieldGroup form data without facet definition")}const i=O(B(e,t),c(e,t));return{id:C(e),label:(n=e.Label)===null||n===void 0?void 0:n.toString(),formElements:i}}function B(e,t){const n=[];if(e.$Type!=="com.sap.vocabularies.UI.v1.ReferenceURLFacet"&&e.$Type!=="com.sap.vocabularies.UI.v1.CollectionFacet"){var i,o;(i=e.Target)===null||i===void 0?void 0:(o=i.$target)===null||o===void 0?void 0:o.Data.forEach(i=>{var o,a,r;if(!(((o=i.annotations)===null||o===void 0?void 0:(a=o.UI)===null||a===void 0?void 0:(r=a.Hidden)===null||r===void 0?void 0:r.valueOf())===true)){const o=S(t,i);if((i.$Type==="com.sap.vocabularies.UI.v1.DataField"||i.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"||i.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"||i.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||i.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction")&&!d(i)){var s,l,c,p,f,b,P,E,T,O,A;const{annotations:a}=i;n.push({isValueMultilineText:((s=i.Value)===null||s===void 0?void 0:(l=s.$target)===null||l===void 0?void 0:(c=l.annotations)===null||c===void 0?void 0:(p=c.UI)===null||p===void 0?void 0:(f=p.MultiLineText)===null||f===void 0?void 0:f.valueOf())===true,type:u.Annotation,key:y.generateKeyFromDataField(i),visible:m(g(h(v(a===null||a===void 0?void 0:(b=a.UI)===null||b===void 0?void 0:(P=b.Hidden)===null||P===void 0?void 0:P.valueOf()),true))),label:((E=i.Value)===null||E===void 0?void 0:(T=E.$target)===null||T===void 0?void 0:(O=T.annotations)===null||O===void 0?void 0:(A=O.Common)===null||A===void 0?void 0:A.Label)||i.Label,idPrefix:C(e,i),annotationPath:`${t.getEntitySetBasedAnnotationPath(i.fullyQualifiedName)}/`,semanticObjectPath:o})}else if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&!d(i)){var I,D,x,M,_,w,F,R;const{annotations:a}=i;n.push({isValueMultilineText:false,type:u.Annotation,key:y.generateKeyFromDataField(i),visible:m(g(h(v(a===null||a===void 0?void 0:(I=a.UI)===null||I===void 0?void 0:(D=I.Hidden)===null||D===void 0?void 0:D.valueOf()),true))),label:((x=i.Target)===null||x===void 0?void 0:(M=x.$target)===null||M===void 0?void 0:(_=M.annotations)===null||_===void 0?void 0:(w=_.Common)===null||w===void 0?void 0:(F=w.Label)===null||F===void 0?void 0:F.toString())||((R=i.Label)===null||R===void 0?void 0:R.toString()),idPrefix:C(e,i),annotationPath:`${t.getEntitySetBasedAnnotationPath(i.fullyQualifiedName)}/`,semanticObjectPath:o})}}})}return n}function j(e,t){let n=x.Content;let i;if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&!p(e)){var o,a,r,s,l;if(((o=e.Target)===null||o===void 0?void 0:(a=o.$target)===null||a===void 0?void 0:a.Visualization)==="UI.VisualizationType/Progress"){n=x.ProgressIndicator}else if(((r=e.Target)===null||r===void 0?void 0:(s=r.$target)===null||s===void 0?void 0:s.Visualization)==="UI.VisualizationType/Rating"){n=x.RatingIndicator}const p=(l=e.Target)===null||l===void 0?void 0:l.$target;if(typeof p==="object"){var c;if(p!==null&&p!==void 0&&(c=p.Value)!==null&&c!==void 0&&c.$target){var u,d;const e=p.Value.$target;if((e===null||e===void 0?void 0:(u=e.annotations)===null||u===void 0?void 0:(d=u.Common)===null||d===void 0?void 0:d.SemanticObject)!==undefined){i=t.getEntitySetBasedAnnotationPath(e===null||e===void 0?void 0:e.fullyQualifiedName)}}}}return{type:n,semanticObjectPath:i}}function k(e,t){let n;switch(e.$Type){case"com.sap.vocabularies.UI.v1.ReferenceFacet":n=N(e,e,t);break;case"com.sap.vocabularies.UI.v1.CollectionFacet":n=$(e,t);break;default:break}return n}function U(e){if(!e){return undefined}const t=["Heroes","Decoration","Workers","LongRunners"].indexOf(e)!==-1?`$auto.${e}`:e;return`{ path : '', parameters : { $$groupId : '${t}' } }`}function H(e,t){const n=E(t);let i=e.position;if(!i){i={placement:T.After}}return{facetType:I.Reference,facets:{},type:e.type,id:n,containerId:n,key:t,position:i,visible:e.visible,fragmentName:e.template||e.name,title:e.title,subTitle:e.subTitle,stashed:e.stashed||false,flexSettings:{...{designtime:D.Default},...e.flexSettings},binding:U(e.requestGroupId),templateEdit:e.templateEdit}}return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/controls/ObjectPage/SubSection",["sap/base/Log","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/controls/ObjectPage/HeaderFacet","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","../../annotations/DataField","../../helpers/ConfigurableObject","../../helpers/ID","../../ManifestSettings","../../objectPage/FormMenuActions","../Common/DataVisualization","../Common/Form"],function(e,t,n,i,o,a,r,s,l,c,u,d,p,f){"use strict";var g={};var v=f.isReferenceFacet;var h=f.createFormDefinition;var m=p.getDataVisualizationConfiguration;var y=d.getVisibilityEnablementFormMenuActions;var b=d.getFormHiddenActions;var C=d.getFormActions;var P=u.ActionType;var E=c.getSubSectionID;var T=c.getSideContentID;var O=c.getFormID;var S=c.getCustomSubSectionID;var A=l.Placement;var I=l.OverrideType;var D=l.insertCustomElements;var x=s.isActionWithDialog;var M=r.isPathAnnotationExpression;var _=a.resolveBindingString;var w=a.ref;var F=a.pathInModel;var R=a.or;var N=a.notEqual;var $=a.not;var V=a.ifElse;var L=a.getExpressionFromAnnotation;var B=a.fn;var j=a.equal;var k=a.compileExpression;var U=a.and;var H=o.KeyHelper;var G=i.IssueType;var z=i.IssueSeverity;var W=i.IssueCategory;var q=n.getStashedSettingsForHeaderFacet;var K=n.getHeaderFacetsFromManifest;var Q=n.getDesignTimeMetadataSettingsForHeaderFacet;var Y=t.removeDuplicateActions;var J=t.isActionNavigable;var X=t.getSemanticObjectMapping;var Z=t.getEnabledForAnnotationAction;var ee=t.getActionsFromManifest;var te=t.ButtonType;let ne;(function(e){e["Unknown"]="Unknown";e["Form"]="Form";e["DataVisualization"]="DataVisualization";e["XMLFragment"]="XMLFragment";e["Placeholder"]="Placeholder";e["Mixed"]="Mixed";e["EmbeddedComponent"]="EmbeddedComponent"})(ne||(ne={}));g.SubSectionType=ne;const ie=["com.sap.vocabularies.UI.v1.LineItem","com.sap.vocabularies.UI.v1.Chart","com.sap.vocabularies.UI.v1.PresentationVariant","com.sap.vocabularies.UI.v1.SelectionPresentationVariant"];function oe(e,t,n){const i=e.reduce((e,t)=>{switch(t.$Type){case"com.sap.vocabularies.UI.v1.ReferenceFacet":e.push(t);break;case"com.sap.vocabularies.UI.v1.CollectionFacet":if(t.Facets.find(e=>e.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet")){e.splice(e.length,0,...t.Facets)}else{e.push(t)}break;case"com.sap.vocabularies.UI.v1.ReferenceURLFacet":break}return e},[]);return i.map(e=>{var o;return de(e,i,t,0,!(e!==null&&e!==void 0&&(o=e.Facets)!==null&&o!==void 0&&o.length),n)})}g.createSubSections=oe;function ae(e){const t=K(e.getManifestWrapper().getHeaderFacets());const n=[];Object.keys(t).forEach(function(e){n.push(t[e]);return n});const i=n.reduce((e,t)=>{if(t.templateEdit){e.push(t)}return e},[]);return i.map(e=>re(e))}g.createCustomHeaderFacetSubSections=ae;function re(e){const t=S(e.key);const n={id:t,key:e.key,title:e.title,type:ne.XMLFragment,template:e.templateEdit||"",visible:e.visible,level:1,sideContent:undefined,stashed:e.stashed,flexSettings:e.flexSettings,actions:{},objectPageLazyLoaderEnabled:false};return n}const se=(e,t)=>{var n,i;return((n=e.ID)===null||n===void 0?void 0:n.toString())||((i=e.Label)===null||i===void 0?void 0:i.toString())||t};function le(e,t,n){const i=b(t,n)||[],o=C(t,n),a=ee(o,n,e,undefined,undefined,i),r={enabled:I.overwrite,visible:I.overwrite,command:I.overwrite},s=D(e,a.actions,r);return{actions:s?y(Y(s)):e,commandActions:a.commandActions}}function ce(e,t){let n=[];switch(e.$Type){case"com.sap.vocabularies.UI.v1.CollectionFacet":n=e.Facets.filter(e=>v(e)).reduce((e,n)=>fe(e,n,t),[]);break;case"com.sap.vocabularies.UI.v1.ReferenceFacet":n=fe([],e,t);break;default:break}return le(n,e,t)}function ue(e){const t=j(L(e),true);return k(V(t,te.Ghost,te.Transparent))}function de(t,n,i,o,a,r){var s,l,c,u,d,p,f,g;const v=E(t);const y=(s=t.annotations)===null||s===void 0?void 0:(l=s.UI)===null||l===void 0?void 0:l.Hidden;const b=$(j(true,L(y)));const C=k(b);const P=C!==undefined&&typeof C==="string"&&C.indexOf("{=")===0&&!M(y);const T=C&&P?C.substring(C.indexOf("{=")+2,C.lastIndexOf("}"))!==undefined:false;const O=k(L(t.Label));const S={id:v,key:se(t,v),title:O,type:ne.Unknown,annotationPath:i.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),visible:C,isVisibilityDynamic:P,level:o,sideContent:undefined,objectPageLazyLoaderEnabled:i.getManifestWrapper().getEnableLazyLoading()};if(r){S.stashed=q(t,t,i);S.flexSettings={designtime:Q(t,t,i)}}let A="";o++;switch(t.$Type){case"com.sap.vocabularies.UI.v1.CollectionFacet":const s=t.Facets;const l=s.map((e,t)=>({index:t,facet:e})).filter(e=>{var t,n;let{facet:i}=e;return ie.includes((t=i.Target)===null||t===void 0?void 0:(n=t.$target)===null||n===void 0?void 0:n.term)});const v=s.filter(e=>!l.find(t=>t.facet===e));if(l.length>0){const n=[];const s=[];const c=[];for(const{facet:e}of l){n.push(de(e,[],i,o,true,r))}if(v.length>0){e.warning(`Warning: CollectionFacet '${t.ID}' includes a combination of either a chart or a table and other content. This can lead to rendering issues. Consider moving the chart or table into a separate CollectionFacet.`);const n={...t};n.Facets=v;s.push(de(n,[],i,o,a,r))}if(l.find(e=>{let{index:t}=e;return t===0})){c.push(...n);c.push(...s)}else{c.push(...s);c.push(...n)}const u={...S,type:ne.Mixed,level:o,content:c};return u}else{const e=ce(t,i),n={...S,type:ne.Form,formDefinition:h(t,C,i,e.actions),level:o,actions:e.actions.filter(e=>e.facetName===undefined),commandActions:e.commandActions};return n}case"com.sap.vocabularies.UI.v1.ReferenceFacet":if(!t.Target.$target){A=`Unable to find annotationPath ${t.Target.value}`}else{switch(t.Target.$target.term){case"com.sap.vocabularies.UI.v1.LineItem":case"com.sap.vocabularies.UI.v1.Chart":case"com.sap.vocabularies.UI.v1.PresentationVariant":case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":const e=m(t.Target.value,me(t,n,i),i,undefined,r);const s=S.title?S.title:"";const l=((c=e.visualizations[0])===null||c===void 0?void 0:(u=c.annotation)===null||u===void 0?void 0:u.title)||((d=e.visualizations[0])===null||d===void 0?void 0:d.title);const v=((p=t.annotations)===null||p===void 0?void 0:(f=p.UI)===null||f===void 0?void 0:(g=f.PartOfPreview)===null||g===void 0?void 0:g.valueOf())!==false;const y=pe(l??"",s,a);const E=V(P,U(T,$(j(O,"undefined")),y),U(C!==undefined,O!=="undefined",O!==undefined,b,y));const I={...S,type:ne.DataVisualization,level:o,presentation:e,showTitle:k(y),isPartOfPreview:v,titleVisible:k(E)};return I;case"com.sap.vocabularies.UI.v1.FieldGroup":case"com.sap.vocabularies.UI.v1.Identification":case"com.sap.vocabularies.UI.v1.DataPoint":case"com.sap.vocabularies.UI.v1.StatusInfo":case"com.sap.vocabularies.Communication.v1.Contact":const D=ce(t,i),x={...S,type:ne.Form,level:o,formDefinition:h(t,C,i,D.actions),actions:D.actions.filter(e=>e.facetName===undefined),commandActions:D.commandActions};return x;default:A=`For ${t.Target.$target.term} Fragment`;break}}break;case"com.sap.vocabularies.UI.v1.ReferenceURLFacet":A="For Reference URL Facet";break;default:break}const I={...S,text:A};return I}g.createSubSection=de;function pe(e,t,n){return R($(n),N(_(e),_(t)))}g.getTitleVisibility=pe;function fe(e,t,n){const i=t.Target.$target;const o=t.Target.value;let a={};let r=[];let s;[s]=o.split("@");if(s.length>0){if(s.lastIndexOf("/")===s.length-1){s=s.substr(0,s.length-1)}}else{s=undefined}if(i){switch(i.term){case"com.sap.vocabularies.UI.v1.FieldGroup":r=i.Data;a=ee(n.getManifestControlConfiguration(i).actions,n,undefined,undefined,undefined,undefined,t.fullyQualifiedName).actions;break;case"com.sap.vocabularies.UI.v1.Identification":case"com.sap.vocabularies.UI.v1.StatusInfo":if(i.qualifier){r=i}break;default:break}}e=r.reduce((e,o)=>{var a,r,l,c,u,d,p,f,g,v,h,m,y,b,C,E;switch(o.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":if(((a=o.RequiresContext)===null||a===void 0?void 0:a.valueOf())===true){n.getDiagnostics().addIssue(W.Annotation,z.Low,G.MALFORMED_DATAFIELD_FOR_IBN.REQUIRESCONTEXT)}if(((r=o.Inline)===null||r===void 0?void 0:r.valueOf())===true){n.getDiagnostics().addIssue(W.Annotation,z.Low,G.MALFORMED_DATAFIELD_FOR_IBN.INLINE)}if(((l=o.Determining)===null||l===void 0?void 0:l.valueOf())===true){n.getDiagnostics().addIssue(W.Annotation,z.Low,G.MALFORMED_DATAFIELD_FOR_IBN.DETERMINING)}const T={};if(o.Mapping){T.semanticObjectMapping=X(o.Mapping)}e.push({type:P.DataFieldForIntentBasedNavigation,id:O(t,o),key:H.generateKeyFromDataField(o),text:(c=o.Label)===null||c===void 0?void 0:c.toString(),annotationPath:"",enabled:o.NavigationAvailable!==undefined?k(j(L((u=o.NavigationAvailable)===null||u===void 0?void 0:u.valueOf()),true)):"true",visible:k($(j(L((d=o.annotations)===null||d===void 0?void 0:(p=d.UI)===null||p===void 0?void 0:(f=p.Hidden)===null||f===void 0?void 0:f.valueOf()),true))),buttonType:ue((g=o.annotations)===null||g===void 0?void 0:(v=g.UI)===null||v===void 0?void 0:v.Emphasized),press:k(B("._intentBasedNavigation.navigate",[L(o.SemanticObject),L(o.Action),T])),customData:k({semanticObject:L(o.SemanticObject),action:L(o.Action)})});break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":const S=n.getManifestControlConfiguration(i).actions;const A=H.generateKeyFromDataField(o);e.push({type:P.DataFieldForAction,id:O(t,o),key:A,text:(h=o.Label)===null||h===void 0?void 0:h.toString(),annotationPath:"",enabled:Z(n,o.ActionTarget),binding:s?`{ 'path' : '${s}'}`:undefined,visible:k($(j(L((m=o.annotations)===null||m===void 0?void 0:(y=m.UI)===null||y===void 0?void 0:(b=y.Hidden)===null||b===void 0?void 0:b.valueOf()),true))),requiresDialog:x(o),buttonType:ue((C=o.annotations)===null||C===void 0?void 0:(E=C.UI)===null||E===void 0?void 0:E.Emphasized),press:k(B("invokeAction",[o.Action,{contexts:B("getBindingContext",[],F("","$source")),invocationGrouping:o.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated",label:L(o.Label),model:B("getModel",[],F("/","$source")),isNavigable:J(S&&S[A])}],w(".editFlow"))),facetName:o.Inline?t.fullyQualifiedName:undefined});break;default:break}return e},e);return D(e,a)}function ge(e){if(e){var t,n;const i=(t=e.annotations)===null||t===void 0?void 0:(n=t.Common)===null||n===void 0?void 0:n.IsActionCritical;if(e.parameters.length>1||i){return"Dialog"}else{return"None"}}else{return"None"}}g.isDialog=ge;function ve(e,t){const n={};Object.keys(e).forEach(i=>n[i]=he(e[i],i,t));return n}g.createCustomSubSections=ve;function he(e,t,n){const i=e.sideContent?{template:e.sideContent.template,id:T(t),visible:false,equalSplit:e.sideContent.equalSplit}:undefined;let o=e.position;if(!o){o={placement:A.After}}const a=e.visible!==undefined?e.visible:true;const r=a&&typeof a==="string"&&a.indexOf("{=")===0;const s=ee(e.actions,n);const l={type:ne.Unknown,id:e.id||S(t),actions:s.actions,key:t,title:e.title,level:1,position:o,visible:e.visible!==undefined?e.visible:"true",sideContent:i,isVisibilityDynamic:r,objectPageLazyLoaderEnabled:e.enableLazyLoading??false,componentName:"",settings:""};if(e.template||e.name){l.type=ne.XMLFragment;l.template=e.template||e.name||""}else if(e.embeddedComponent!==undefined){l.type=ne.EmbeddedComponent;l.componentName=e.embeddedComponent.name;if(e.embeddedComponent.settings!==undefined){l.settings=JSON.stringify(e.embeddedComponent.settings)}}else{l.type=ne.Placeholder}return l}g.createCustomSubSection=he;function me(e,t,n){const i=n.getManifestWrapper();if(i.useIconTabBar()){return ye(e,t)}else{var o,a,r,s,l,c;const i=n.getEntityType();if((o=i.annotations)!==null&&o!==void 0&&(a=o.UI)!==null&&a!==void 0&&(r=a.Facets)!==null&&r!==void 0&&r.length&&((s=i.annotations)===null||s===void 0?void 0:(l=s.UI)===null||l===void 0?void 0:(c=l.Facets)===null||c===void 0?void 0:c.length)>1){return ye(e,t)}else{return true}}}function ye(e,t){return t.every(function(t){if(t!==e){if(t.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){var n,i,o,a,r;const e=t;if(((n=e.Target)===null||n===void 0?void 0:(i=n.$target)===null||i===void 0?void 0:i.term)==="com.sap.vocabularies.UI.v1.LineItem"||((o=e.Target)===null||o===void 0?void 0:(a=o.$target)===null||a===void 0?void 0:a.term)==="com.sap.vocabularies.UI.v1.PresentationVariant"||((r=e.Target.$target)===null||r===void 0?void 0:r.term)==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){var s,l,c,u;return((s=e.annotations)===null||s===void 0?void 0:(l=s.UI)===null||l===void 0?void 0:l.Hidden)!==undefined?(c=e.annotations)===null||c===void 0?void 0:(u=c.UI)===null||u===void 0?void 0:u.Hidden:false}return true}else{const e=t;return e.Facets.every(function(e){var t,n,i,o,a,r;const s=e;if(((t=s.Target)===null||t===void 0?void 0:(n=t.$target)===null||n===void 0?void 0:n.term)==="com.sap.vocabularies.UI.v1.LineItem"||((i=s.Target)===null||i===void 0?void 0:(o=i.$target)===null||o===void 0?void 0:o.term)==="com.sap.vocabularies.UI.v1.PresentationVariant"||((a=s.Target)===null||a===void 0?void 0:(r=a.$target)===null||r===void 0?void 0:r.term)==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){var l,c,u,d;return((l=s.annotations)===null||l===void 0?void 0:(c=l.UI)===null||c===void 0?void 0:c.Hidden)!==undefined?(u=s.annotations)===null||u===void 0?void 0:(d=u.UI)===null||d===void 0?void 0:d.Hidden:false}return true})}}return true})}return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/helpers/Aggregation",["sap/fe/core/helpers/TypeGuards"],function(e){"use strict";var t={};var n=e.isNavigationProperty;var i=e.isEntityType;var o=e.isEntitySet;let a=function(){function e(e,t){var a;this._entityType=e;this._converterContext=t;this._oAggregationAnnotationTarget=this._determineAggregationAnnotationTarget();if(n(this._oAggregationAnnotationTarget)||i(this._oAggregationAnnotationTarget)||o(this._oAggregationAnnotationTarget)){this.oTargetAggregationAnnotations=this._oAggregationAnnotationTarget.annotations.Aggregation}this._bApplySupported=(a=this.oTargetAggregationAnnotations)!==null&&a!==void 0&&a.ApplySupported?true:false;if(this._bApplySupported){var r,s,l,c;this._aGroupableProperties=(r=this.oTargetAggregationAnnotations)===null||r===void 0?void 0:(s=r.ApplySupported)===null||s===void 0?void 0:s.GroupableProperties;this._aAggregatableProperties=(l=this.oTargetAggregationAnnotations)===null||l===void 0?void 0:(c=l.ApplySupported)===null||c===void 0?void 0:c.AggregatableProperties;this.oContainerAggregationAnnotation=t.getEntityContainer().annotations.Aggregation}}t.AggregationHelper=e;var a=e.prototype;a._determineAggregationAnnotationTarget=function e(){var t,n,i,a,r;const s=(t=this._converterContext.getDataModelObjectPath())!==null&&t!==void 0&&(n=t.targetEntitySet)!==null&&n!==void 0&&(i=n.entityType)!==null&&i!==void 0&&(a=i.annotations)!==null&&a!==void 0&&(r=a.Common)!==null&&r!==void 0&&r.ResultContext?true:false;let l;if(s){var c,u,d,p;const e=this._converterContext.getDataModelObjectPath();const t=e===null||e===void 0?void 0:e.targetObject;const n=e===null||e===void 0?void 0:e.targetEntityType;if(t!==null&&t!==void 0&&(c=t.annotations)!==null&&c!==void 0&&(u=c.Aggregation)!==null&&u!==void 0&&u.ApplySupported){l=t}else if(n!==null&&n!==void 0&&(d=n.annotations)!==null&&d!==void 0&&(p=d.Aggregation)!==null&&p!==void 0&&p.ApplySupported){l=n}}else{var f;const e=this._converterContext.getEntitySet();if(o(e)&&(f=e.annotations.Aggregation)!==null&&f!==void 0&&f.ApplySupported){l=e}else{l=this._converterContext.getEntityType()}}return l};a.isAnalyticsSupported=function e(){return this._bApplySupported};a.isPropertyGroupable=function e(t){if(!this._bApplySupported){return undefined}else if(!this._aGroupableProperties||this._aGroupableProperties.length===0){return true}else{return this._aGroupableProperties.findIndex(e=>e.$target.fullyQualifiedName===t.fullyQualifiedName)>=0}};a.isPropertyAggregatable=function e(t){if(!this._bApplySupported){return undefined}else{const e=this._converterContext.getAnnotationsByTerm("Aggregation","Org.OData.Aggregation.V1.CustomAggregate",[this._oAggregationAnnotationTarget]);return e.some(e=>t.name===e.qualifier)}};a.getGroupableProperties=function e(){return this._aGroupableProperties};a.getAggregatableProperties=function e(){return this._aAggregatableProperties};a.getEntityType=function e(){return this._entityType};a.getAggregatedProperties=function e(t){if(t==="AggregatedProperties"){return this._converterContext.getAnnotationsByTerm("Analytics","com.sap.vocabularies.Analytics.v1.AggregatedProperties",[this._converterContext.getEntityContainer(),this._converterContext.getEntityType()])}return this._converterContext.getAnnotationsByTerm("Analytics","com.sap.vocabularies.Analytics.v1.AggregatedProperty",[this._converterContext.getEntityContainer(),this._converterContext.getEntityType()])};a.getTransAggregations=function e(){var t;let n=this.getAggregatedProperties("AggregatedProperty");if(!n||n.length===0){n=this.getAggregatedProperties("AggregatedProperties")[0]}return(t=n)===null||t===void 0?void 0:t.filter(e=>{if(this._getAggregatableAggregates(e.AggregatableProperty)){return e}})};a._getAggregatableAggregates=function e(t){const n=this.getAggregatableProperties()||[];return n.find(function(e){return e.Property.value===(t.qualifier?t.qualifier:t.$target.name)})};a.getCustomAggregateDefinitions=function e(){const t=this._converterContext.getAnnotationsByTerm("Aggregation","Org.OData.Aggregation.V1.CustomAggregate",[this._oAggregationAnnotationTarget]);return t};a.getAllowedTransformations=function e(){var t,n,i,o;return((t=this.oTargetAggregationAnnotations)===null||t===void 0?void 0:(n=t.ApplySupported)===null||n===void 0?void 0:n.Transformations)||((i=this.oContainerAggregationAnnotation)===null||i===void 0?void 0:(o=i.ApplySupportedDefaults)===null||o===void 0?void 0:o.Transformations)};return e}();t.AggregationHelper=a;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/helpers/BindingHelper",["sap/fe/core/helpers/BindingToolkit"],function(e){"use strict";var t={};var n=e.pathInModel;var i=e.or;var o=e.not;var a=e.equal;var r=e.and;const s={IsCreateMode:n("createMode","ui"),IsEditable:n("/isEditable","ui"),IsTransientBinding:a(n("@$ui5.context.isTransient"),true),IsTotal:a(n("@$ui5.node.isTotal"),true),IsExpanded:a(n("@$ui5.node.isExpanded"),true),NodeLevel:n("@$ui5.node.level"),IsInactive:n("@$ui5.context.isInactive")};t.UI=s;const l={HasDraft:n("HasDraftEntity"),HasActive:n("HasActiveEntity"),IsActive:n("IsActiveEntity")};t.Entity=l;const c={IsNewObject:r(o(l.HasActive),o(l.IsActive)),HasNoDraftForCurrentUser:i(o(l.HasDraft),r(l.HasDraft,o(n("DraftAdministrativeData/DraftIsCreatedByMe"))))};t.Draft=c;function u(e,t){return e.singletons.find(e=>e.fullyQualifiedName===t)}const d=function(e,t,n){if(e.indexOf("/")===0){const n=e.split("/").filter(Boolean),i=n.pop(),o=n.join("/"),a=u(t,o);if(a){e=`/${a.name}/${i}`}}else{const t=n.concat();t.push(e);e=t.join("/")}return e};t.singletonPathVisitor=d;function p(e,t,n){if(n){const t=`${n===null||n===void 0?void 0:n.substring(n.lastIndexOf("/")+1)}/`;if(e.startsWith(t)){return e.substring(t.length)}}return d(e,t.getConvertedTypes(),[])}t.bindingContextPathVisitor=p;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/helpers/ConfigurableObject",["sap/base/Log"],function(e){"use strict";var t={};let n;(function(e){e["After"]="After";e["Before"]="Before";e["End"]="End"})(n||(n={}));t.Placement=n;const i=(t,o,a,r)=>{let s=a.indexOf(o);if(s!==-1){return s}const l=t[o];if(l===undefined){const t=o.split("::"),n=Object.keys(r)[0];e.warning(`Position anchor '${t[t.length-1]}' not found for item '${n}'. Please check manifest settings.`);return a.length}r[o]=l;if(l&&!(l.anchor in r)){s=i(t,l.anchor,a,r);if(l.placement!==n.Before){++s}}else{s=a.length}a.splice(s,0,o);return s};let o;(function(e){e["merge"]="merge";e["overwrite"]="overwrite";e["ignore"]="ignore"})(o||(o={}));t.OverrideType=o;function a(e){return typeof e==="object"}function r(e,t,n){const i=t||n;for(const o in e){if(Object.hasOwnProperty.call(e,o)){const r=e[o];if(t!==null){switch(r){case"overwrite":if(n.hasOwnProperty(o)&&n[o]!==undefined){t[o]=n[o]}break;case"merge":default:const e=t[o]||[];let i={};if(a(r)){i=r}if(Array.isArray(e)){t[o]=s(e,n&&n[o]||{},i)}break}}else{switch(r){case"overwrite":if(n.hasOwnProperty(o)&&n[o]!==undefined){i[o]=n[o]}break;case"merge":default:let e={};if(a(r)){e=r}i[o]=s([],n&&n[o]||{},e);break}}}}return i}function s(e,t){let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const a=e.length?e[0].key:null;const s=e.filter(e=>{var t;return((t=e.position)===null||t===void 0?void 0:t.placement)!==n.End});const l=e.length?e[s.length-1].key:null;let c;const u={};const d={};e.forEach(e=>{var t;if(((t=e.position)===null||t===void 0?void 0:t.placement)===n.End&&!c){c=e}else{var i,o;u[e.key]={anchor:((i=e.position)===null||i===void 0?void 0:i.anchor)||e.key,placement:((o=e.position)===null||o===void 0?void 0:o.placement)||n.After}}d[e.key]=e});Object.keys(t).forEach(e=>{var i;const s=t[e];const c=s.position.anchor;if(!s.position.placement){s.position.placement=n.After}if(!c){const t=s.position.placement===n.After?l:a;s.position.anchor=t?t:e}s.menu=s===null||s===void 0?void 0:(i=s.menu)===null||i===void 0?void 0:i.map(e=>d[e.key]??e);const p=s.key;if(d[p]){d[p]=r(o,d[p],s);if(c&&s.position&&o.position&&o.position==="overwrite"){u[p]=d[p].position}}else{d[p]=r(o,null,s);u[p]=s.position}});const p=[];Object.keys(u).forEach(e=>{i(u,e,p,{})});const f=p.map(e=>d[e]);if(c){f.push(c)}return f}t.insertCustomElements=s;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/helpers/DataFieldHelper",["sap/base/Log"],function(e){"use strict";var t={};function n(t){var n,o,a,r,s,l,c,u,d,p,f,g,v,h,m;if(t){switch(t.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":return i(t);case"com.sap.vocabularies.UI.v1.DataField":if(((n=t.annotations)===null||n===void 0?void 0:(o=n.UI)===null||o===void 0?void 0:(a=o.Hidden)===null||a===void 0?void 0:a.valueOf())===true){var y,b;if(t.annotations&&((y=t.annotations.UI)===null||y===void 0?void 0:(b=y.HiddenFilter)===null||b===void 0?void 0:b.valueOf())===true){e.warning("Warning: Property "+t.Value.path+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else if(((r=t.Value)===null||r===void 0?void 0:(s=r.$target)===null||s===void 0?void 0:(l=s.annotations)===null||l===void 0?void 0:(c=l.UI)===null||c===void 0?void 0:(u=c.Hidden)===null||u===void 0?void 0:u.valueOf())===true){var C,P,E,T,O;if(((C=t.Value)===null||C===void 0?void 0:(P=C.$target)===null||P===void 0?void 0:(E=P.annotations)===null||E===void 0?void 0:(T=E.UI)===null||T===void 0?void 0:(O=T.HiddenFilter)===null||O===void 0?void 0:O.valueOf())===true){e.warning("Warning: Property "+t.Value.path+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else{return false}case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":const x=(d=t.Value)===null||d===void 0?void 0:(p=d.$target)===null||p===void 0?void 0:p.annotations;if((x===null||x===void 0?void 0:(f=x.UI)===null||f===void 0?void 0:(g=f.Hidden)===null||g===void 0?void 0:g.valueOf())===true){var S,A;if((x===null||x===void 0?void 0:(S=x.UI)===null||S===void 0?void 0:(A=S.HiddenFilter)===null||A===void 0?void 0:A.valueOf())===true){e.warning("Warning: Property "+t.Value.path+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else{return false}case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":if(((v=t.annotations)===null||v===void 0?void 0:(h=v.UI)===null||h===void 0?void 0:(m=h.Hidden)===null||m===void 0?void 0:m.valueOf())===true){var I,D;if(t.annotations&&((I=t.annotations.UI)===null||I===void 0?void 0:(D=I.HiddenFilter)===null||D===void 0?void 0:D.valueOf())===true){e.warning("Warning: Property "+t.Value.path+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else{return false}default:}}}t.isReferencePropertyStaticallyHidden=n;function i(t){var i,o,a;const r=t.Target.$target.term;switch(r){case"com.sap.vocabularies.UI.v1.Chart":let r;t.Target.$target.Measures.forEach(t=>{var n,i,o;if(((n=t.$target.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:(o=i.Hidden)===null||o===void 0?void 0:o.valueOf())===true){var a,s;e.warning("Warning: Measure attribute for Chart "+t.$target.name+" is statically hidden hence chart can't be rendered");if(t.$target.annotations&&((a=t.$target.annotations.UI)===null||a===void 0?void 0:(s=a.HiddenFilter)===null||s===void 0?void 0:s.valueOf())===true){e.warning("Warning: Property "+t.$target.name+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}r=true}});if(r===true){return true}else{return false}case"com.sap.vocabularies.UI.v1.ConnectedFields":if(t){var s,l,c;if(((s=t.annotations)===null||s===void 0?void 0:(l=s.UI)===null||l===void 0?void 0:(c=l.Hidden)===null||c===void 0?void 0:c.valueOf())===true){var u,d;if(t.annotations&&((u=t.annotations.UI)===null||u===void 0?void 0:(d=u.HiddenFilter)===null||d===void 0?void 0:d.valueOf())===true){e.warning("Warning: Property "+t.Target.$target.qualifier+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else{return false}}break;case"com.sap.vocabularies.UI.v1.FieldGroup":if(t){if(t.Target.$target.Data.every(e=>n(e)===true)){return true}else{return false}}break;case"com.sap.vocabularies.UI.v1.DataPoint":const v=t.Target.$target.Value.$target;if(((i=v.annotations)===null||i===void 0?void 0:(o=i.UI)===null||o===void 0?void 0:(a=o.Hidden)===null||a===void 0?void 0:a.valueOf())===true){var p,f,g;if(((p=v.annotations)===null||p===void 0?void 0:(f=p.UI)===null||f===void 0?void 0:(g=f.HiddenFilter)===null||g===void 0?void 0:g.valueOf())===true){e.warning("Warning: Property "+t.Target.$target.Value.path+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else{return false}default:}}t.isAnnotationFieldStaticallyHidden=i;function o(t){if(t.targetObject){var n,i,o,a,r,s,l,c,u;const P=t.targetObject;if(P.annotations&&((n=P.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:(o=i.Hidden)===null||o===void 0?void 0:o.valueOf())===true){var d,p,f,g,v;if(((d=P.Value)===null||d===void 0?void 0:(p=d.$target)===null||p===void 0?void 0:(f=p.annotations)===null||f===void 0?void 0:(g=f.UI)===null||g===void 0?void 0:(v=g.HiddenFilter)===null||v===void 0?void 0:v.valueOf())===true){e.warning("Warning: Property "+P.Value.path+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else if(P!==null&&P!==void 0&&(a=P.Value)!==null&&a!==void 0&&a.$target&&(P===null||P===void 0?void 0:(r=P.Value)===null||r===void 0?void 0:(s=r.$target)===null||s===void 0?void 0:(l=s.annotations)===null||l===void 0?void 0:(c=l.UI)===null||c===void 0?void 0:(u=c.Hidden)===null||u===void 0?void 0:u.valueOf())===true){var h,m,y,b,C;if((P===null||P===void 0?void 0:(h=P.Value)===null||h===void 0?void 0:(m=h.$target)===null||m===void 0?void 0:(y=m.annotations)===null||y===void 0?void 0:(b=y.UI)===null||b===void 0?void 0:(C=b.HiddenFilter)===null||C===void 0?void 0:C.valueOf())===true){e.warning("Warning: Property "+P.Value.path+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else{return false}}}t.isHeaderStaticallyHidden=o;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/helpers/ID",["../../helpers/StableIdHelper"],function(e){"use strict";var t={};var n=e.generate;const i=["fe"];function o(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++){t[o]=arguments[o]}return function(){for(var e=arguments.length,o=new Array(e),a=0;a<e;a++){o[a]=arguments[a]}return n(i.concat(...t,...o))}}t.createIDGenerator=o;const a=o("HeaderFacet");t.getHeaderFacetID=a;const r=o("HeaderFacetContainer");t.getHeaderFacetContainerID=r;const s=o("HeaderFacet","Form");t.getHeaderFacetFormID=s;const l=o("HeaderFacetCustomContainer");t.getCustomHeaderFacetID=l;const c=o("EditableHeaderSection");t.getEditableHeaderSectionID=c;const u=o("FacetSection");t.getSectionID=u;const d=o("CustomSection");t.getCustomSectionID=d;const p=o("FacetSubSection");t.getSubSectionID=p;const f=o("CustomSubSection");t.getCustomSubSectionID=f;const g=o("SideContent");t.getSideContentID=g;const v=function(e){return n(["fe",e,"SideContentLayout"])};t.getSideContentLayoutID=v;const h=o("Form");t.getFormID=h;const m=o("FormContainer");t.getFormContainerID=m;const y=function(e,t){return n(["fe","FormContainer",e,"StandardAction",t])};t.getFormStandardActionButtonID=y;const b=o("table");t.getTableID=b;const C=o("CustomTab");t.getCustomTabID=C;const P=o("FilterBar");t.getFilterBarID=P;const E=function(){return"fe::ListReport"};t.getDynamicListReportID=E;const T=o("TabMultipleMode");t.getIconTabBarID=T;const O=function(e){return n([e,"VariantManagement"])};t.getFilterVariantManagementID=O;const S=o("Chart");t.getChartID=S;const A=function(e){return n(["CustomAction",e])};t.getCustomActionID=A;const I=o("KPI");t.getKPIID=I;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/helpers/IssueManager",[],function(){"use strict";var e={};let t;(function(e){e[e["High"]=0]="High";e[e["Low"]=1]="Low";e[e["Medium"]=2]="Medium"})(t||(t={}));e.IssueSeverity=t;const n={Facets:{MissingID:"MissingID",UnSupportedLevel:"UnsupportedLevel"},AnnotationColumns:{InvalidKey:"InvalidKey"},Annotations:{IgnoredAnnotation:"IgnoredAnnotation"}};e.IssueCategoryType=n;let i;(function(e){e["Annotation"]="Annotation";e["Template"]="Template";e["Manifest"]="Manifest";e["Facets"]="Facets"})(i||(i={}));e.IssueCategory=i;const o={MISSING_CHART:"We couldn't find a chart annotation for the current entitySet, you should consider adding one.",MISSING_LINEITEM:"We couldn't find a line item annotation for the current entitySet, you should consider adding one.",MISSING_SELECTIONFIELD:"We couldn't find the defined selection field.",MALFORMED_DATAFIELD_FOR_IBN:{REQUIRESCONTEXT:"DataFieldForIntentBasedNavigation cannot use RequiresContext in the form or header.",INLINE:"DataFieldForIntentBasedNavigation cannot use Inline in the form or header.",DETERMINING:"DataFieldForIntentBasedNavigation cannot use Determining in the form or header."},MALFORMED_VISUALFILTERS:{VALUELIST:"We couldn't find the ValueList path provided in the manifest",PRESENTATIONVARIANT:"PresentationVariant is missing for the VisualFilters",CHART:"Chart is missing from the PV configured for the VisualFilters",VALUELISTCONFIG:"ValueList has not been configured inside the Visual Filter Settings",FilterRestrictions:"For VisualFilters, range expressions are not allowed"},FULLSCREENMODE_NOT_ON_LISTREPORT:"enableFullScreenMode is not supported on list report pages.",KPI_ISSUES:{KPI_NOT_FOUND:"Couldn't find KPI or SPV with qualifier ",KPI_DETAIL_NOT_FOUND:"Can't find proper datapoint or chart definition for KPI ",NO_ANALYTICS:"The following entitySet used in a KPI definition doesn't support $apply queries:",MAIN_PROPERTY_NOT_AGGREGATABLE:"Main property used in KPI cannot be aggregated "}};e.IssueType=o;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/helpers/Key",["../../helpers/StableIdHelper"],function(e){"use strict";var t={};var n=e.getStableIdPartFromDataField;let i=function(){function e(){}t.KeyHelper=e;e.generateKeyFromDataField=function e(t){return n(t,true)};e.validateKey=function e(t){const n=/[^A-Za-z0-9_\-:]/;if(n.exec(t)){throw new Error(`Invalid key: ${t} - only 'A-Za-z0-9_-:' are allowed`)}};e.getSelectionFieldKeyFromPath=function e(t){return t.replace(/([*+])?\//g,"::")};e.getPathFromSelectionFieldKey=function e(t){return t.replace(/::/g,"/")};return e}();t.KeyHelper=i;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/helpers/SelectionVariantHelper",[],function(){"use strict";var e={};function t(e,t){let n;const i=e.Sign==="UI.SelectionRangeSignType/I"?true:false;switch(e.Option){case"UI.SelectionRangeOptionType/BT":n=i?"BT":"NB";break;case"UI.SelectionRangeOptionType/CP":n=i?"Contains":"NotContains";break;case"UI.SelectionRangeOptionType/EQ":n=i?"EQ":"NE";break;case"UI.SelectionRangeOptionType/GE":n=i?"GE":"LT";break;case"UI.SelectionRangeOptionType/GT":n=i?"GT":"LE";break;case"UI.SelectionRangeOptionType/LE":n=i?"LE":"GT";break;case"UI.SelectionRangeOptionType/LT":n=i?"LT":"GE";break;case"UI.SelectionRangeOptionType/NB":n=i?"NB":"BT";break;case"UI.SelectionRangeOptionType/NE":n=i?"NE":"EQ";break;case"UI.SelectionRangeOptionType/NP":n=i?"NotContains":"Contains";break;default:n="EQ"}return{operator:n,rangeLow:t&&t.indexOf("Edm.Date")===0?new Date(e.Low):e.Low,rangeHigh:e.High&&t&&t.indexOf("Edm.Date")===0?new Date(e.High):e.High}}function n(e){const n=[];if(e.SelectOptions){e.SelectOptions.forEach(e=>{if(e.PropertyName&&e.Ranges.length>0){n.push({propertyPath:e.PropertyName.value,propertyType:e.PropertyName.$target.type,ranges:e.Ranges.map(n=>{var i;return t(n,(i=e.PropertyName)===null||i===void 0?void 0:i.$target.type)})})}})}return n}e.getFilterDefinitionsFromSelectionVariant=n;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/objectPage/FormMenuActions",["sap/fe/core/converters/helpers/Key"],function(e){"use strict";var t={};var n=e.KeyHelper;var i;(function(e){e["Default"]="Default"})(i||(i={}));const o=e=>{let t,n;e.forEach(e=>{var i;t=false;n=[];if(e!==null&&e!==void 0&&(i=e.menu)!==null&&i!==void 0&&i.length){var o;e===null||e===void 0?void 0:(o=e.menu)===null||o===void 0?void 0:o.forEach(e=>{const i=e.visible;if(!t){if(i&&typeof i==="boolean"||i.valueOf()==="true"){t=true}else if(i&&i.valueOf()!=="false"){n.push(i.valueOf())}}});if(n.length){e.visible=n}else{e.visible=t.toString()}}});return e};t.getVisibilityEnablementFormMenuActions=o;const a=(e,t)=>{for(const n in e){if(e.hasOwnProperty(n)){t[n]=e[n]}}return e};t.mergeFormActions=a;const r=(e,t)=>{var o,a;const r=s(e,t)||[],l=t===null||t===void 0?void 0:(o=t.getEntityType())===null||o===void 0?void 0:(a=o.annotations)===null||a===void 0?void 0:a.UI;const c=[];for(const e in l){var u,d,p;if(((u=l[e])===null||u===void 0?void 0:u.$Type)==="com.sap.vocabularies.UI.v1.FieldGroupType"){var f;(f=l[e])===null||f===void 0?void 0:f.Data.forEach(e=>{if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&r.hasOwnProperty(`DataFieldForAction::${e.Action}`)){var t,o,a;if((e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(o=t.UI)===null||o===void 0?void 0:(a=o.Hidden)===null||a===void 0?void 0:a.valueOf())===true){c.push({type:i.Default,key:n.generateKeyFromDataField(e)})}}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&r.hasOwnProperty(`DataFieldForIntentBasedNavigation::${e.Action}`)){var s,l,u;if((e===null||e===void 0?void 0:(s=e.annotations)===null||s===void 0?void 0:(l=s.UI)===null||l===void 0?void 0:(u=l.Hidden)===null||u===void 0?void 0:u.valueOf())===true){c.push({type:i.Default,key:n.generateKeyFromDataField(e)})}}})}else if(((d=l[e])===null||d===void 0?void 0:d.term)==="com.sap.vocabularies.UI.v1.Identification"||((p=l[e])===null||p===void 0?void 0:p.term)==="@com.sap.vocabularies.UI.v1.StatusInfo"){var g;(g=l[e])===null||g===void 0?void 0:g.forEach(e=>{if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&r.hasOwnProperty(`DataFieldForAction::${e.Action}`)){var t,o,a;if((e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(o=t.UI)===null||o===void 0?void 0:(a=o.Hidden)===null||a===void 0?void 0:a.valueOf())===true){c.push({type:i.Default,key:n.generateKeyFromDataField(e)})}}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&r.hasOwnProperty(`DataFieldForIntentBasedNavigation::${e.Action}`)){var s,l,u;if((e===null||e===void 0?void 0:(s=e.annotations)===null||s===void 0?void 0:(l=s.UI)===null||l===void 0?void 0:(u=l.Hidden)===null||u===void 0?void 0:u.valueOf())===true){c.push({type:i.Default,key:n.generateKeyFromDataField(e)})}}})}}return c};t.getFormHiddenActions=r;const s=(e,t)=>{const n=t.getManifestWrapper();let i,o;let r={};if((e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.UI.v1.CollectionFacet"){if(e!==null&&e!==void 0&&e.Facets){e===null||e===void 0?void 0:e.Facets.forEach(e=>{var t,s;i=e===null||e===void 0?void 0:(t=e.Target)===null||t===void 0?void 0:t.value;o=n.getFormContainer(i);if((s=o)!==null&&s!==void 0&&s.actions){var l;for(const t in o.actions){o.actions[t].facetName=e.fullyQualifiedName}r=a((l=o)===null||l===void 0?void 0:l.actions,r)}})}}else if((e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.UI.v1.ReferenceFacet"){var s,l;i=e===null||e===void 0?void 0:(s=e.Target)===null||s===void 0?void 0:s.value;o=n.getFormContainer(i);if((l=o)!==null&&l!==void 0&&l.actions){for(const t in o.actions){o.actions[t].facetName=e.fullyQualifiedName}r=o.actions}}return r};t.getFormActions=s;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/objectPage/HeaderAndFooterAction",["sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/ui/core/Core","../helpers/BindingHelper","../ManifestSettings"],function(e,t,n,i,o,a,r,s,l,c){"use strict";var u={};var d=c.ActionType;var p=l.UI;var f=l.singletonPathVisitor;var g=l.Draft;var v=r.isPathDeletable;var h=a.isEntitySet;var m=i.pathInModel;var y=i.not;var b=i.ifElse;var C=i.getExpressionFromAnnotation;var P=i.fn;var E=i.equal;var T=i.constant;var O=i.compileExpression;var S=i.and;var A=n.KeyHelper;var I=t.Placement;var D=e.getSemanticObjectMapping;var x=e.getEnabledForAnnotationAction;var M=e.getCopyAction;var _=e.dataFieldIsCopyAction;var w=e.ButtonType;function F(e,t){var n,i,o;return((n=e.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:(o=i.Identification)===null||o===void 0?void 0:o.filter(e=>{var n,i,o,a,r,s,l,c,u,d;return((n=e.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:(o=i.Hidden)===null||o===void 0?void 0:o.valueOf())!==true&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&Boolean((a=e.Determining)===null||a===void 0?void 0:a.valueOf())===t&&(((r=e.ActionTarget)===null||r===void 0?void 0:(s=r.isBound)===null||s===void 0?void 0:s.valueOf())!==true||(e===null||e===void 0?void 0:(l=e.ActionTarget)===null||l===void 0?void 0:(c=l.annotations)===null||c===void 0?void 0:(u=c.Core)===null||u===void 0?void 0:(d=u.OperationAvailable)===null||d===void 0?void 0:d.valueOf())!==false)?true:false}))||[]}u.getIdentificationDataFieldForActions=F;function R(e,t){var n,i,o;return((n=e.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:(o=i.Identification)===null||o===void 0?void 0:o.filter(e=>{var n,i,o,a;return((n=e.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:(o=i.Hidden)===null||o===void 0?void 0:o.valueOf())!==true&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&Boolean((a=e.Determining)===null||a===void 0?void 0:a.valueOf())===t?true:false}))||[]}const N=["UI.CriticalityType/VeryPositive","UI.CriticalityType/Positive","UI.CriticalityType/Negative","UI.CriticalityType/VeryNegative"];u.IMPORTANT_CRITICALITIES=N;function $(e,t){const n=e.getDataModelObjectPath(),i=n.navigationProperties.map(e=>e.name),o=C(t,i,undefined,t=>f(t,e.getConvertedTypes(),[])),a=e.getManifestWrapper(),r=a.getViewLevel(),s=r>1?p.IsEditable:y(p.IsEditable);return b(t===undefined||t.valueOf()===false,s,S(s,E(o,false)))}u.getDeleteButtonVisibility=$;function V(e,t,n){const i=n.getEntitySet(),a=o.isDraftRoot(i);let r=b(t!==undefined,t,b(e!==undefined,E(C(e),true),T(true)));r=a?S(r,y(m("DraftAdministrativeData/InProcessByUser"))):r;return r}u.getDeleteButtonEnabled=V;function L(e,t,n,i,a){const r=n===null||n===void 0?void 0:n.getEntitySet(),s=e.getEntitySet(),l=e.getManifestWrapper().isFclEnabled();let c;const u=B(n,t);if(a&&a>1){c=o.isDraftNode(s)}else{c=o.isDraftRoot(r)}const d=B(n,i);const f=y(p.IsEditable);const v=b(a>1,b(i===undefined||i.valueOf()===false,S(f,E(m("rootEditVisible","internal"),true),b(l,E(m("/showEditButton","fclhelper"),true),true)),S(f,E(d,false),E(m("rootEditVisible","internal"),true),b(l,E(m("/showEditButton","fclhelper"),true),true))),b(t===undefined||t.valueOf()===false,f,S(f,E(u,false))));return b(c,S(v,g.HasNoDraftForCurrentUser),v)}u.getEditButtonVisibility=L;function B(e,t){const n=e.getDataModelObjectPath(),i=n.navigationProperties.map(e=>e.name),o=C(t,i,undefined,t=>f(t,e.getConvertedTypes(),i));return o}u.getHiddenExpression=B;function j(e,t,n){const i=e.getEntitySet(),a=o.isDraftRoot(i),r=o.isSticky(i);let s;if(a&&h(i)){var l,c;s=(l=i.annotations.Common)===null||l===void 0?void 0:(c=l.DraftRoot)===null||c===void 0?void 0:c.EditAction}else if(r&&h(i)){var u,d;s=(u=i.annotations.Session)===null||u===void 0?void 0:(d=u.StickySessionSupported)===null||d===void 0?void 0:d.EditAction}if(s){var p,f;const i=e.getAbsoluteAnnotationPath(s);const o=e.resolveAbsolutePath(i).target;if((o===null||o===void 0?void 0:(p=o.annotations)===null||p===void 0?void 0:(f=p.Core)===null||f===void 0?void 0:f.OperationAvailable)===null){}else if(n>1){if(t!==undefined){return O(S(E(C(t),true),E(m("rootEditEnabled","internal"),true)))}else{return O(E(m("rootEditEnabled","internal"),true))}}else{return x(e,o??undefined)}}return"true"}u.getEditButtonEnabled=j;function k(e){var t,n,i,a,r;const l=e.getContextPath();const c=o.getRootEntitySetPath(l);const u=e.getConverterContextFor("/"+c);const p=e.getEntitySet(),g=e.getEntityType(),b=u.getEntitySet(),T=u.getEntityType(),I=o.getStickySession(b),x=o.getDraftRoot(b),B=o.getDraftNode(b),k=p&&((t=p.annotations)===null||t===void 0?void 0:(n=t.Capabilities)===null||n===void 0?void 0:n.DeleteRestrictions),U=o.isUpdateHidden(b,T),H=b&&h(b)&&(U===null||U===void 0?void 0:U.valueOf()),z=e.getDataModelObjectPath(),W=v(z,{pathVisitor:(t,n)=>f(t,e.getConvertedTypes(),n)}),q=W?O(W):W,K=F(e.getEntityType(),false);const Q=e.getManifestWrapper().getViewLevel()===1?M(K.filter(e=>_(e))):undefined;const Y=K.filter(e=>!_(e));const J=[];if(h(p)&&x!==null&&x!==void 0&&x.EditAction&&H!==true){J.push({type:d.DraftActions,key:"DraftActions"})}const X=e.getManifestWrapper().getViewLevel();const Z=X>1?p===null||p===void 0?void 0:(i=p.annotations.Capabilities)===null||i===void 0?void 0:(a=i.UpdateRestrictions)===null||a===void 0?void 0:a.Updatable:undefined;if(x||B){J.push({type:d.CollaborationAvatars,key:"CollaborationAvatars"})}Y.filter(e=>N.indexOf(e===null||e===void 0?void 0:e.Criticality)>-1).forEach(t=>{J.push(G(t,e))});if((x!==null&&x!==void 0&&x.EditAction||I!==null&&I!==void 0&&I.EditAction)&&H!==true){J.push({type:d.Primary,key:"EditAction",visible:O(L(e,U,u,o.isUpdateHidden(p,g),X)),enabled:j(u,Z,X)})}if(q&&q!=="false"||(k===null||k===void 0?void 0:(r=k.Deletable)===null||r===void 0?void 0:r.valueOf())!==false&&q!=="false"){const t=o.getDeleteHidden(p,g);J.push({type:d.Secondary,key:"DeleteAction",visible:O($(e,t)),enabled:O(V(k===null||k===void 0?void 0:k.Deletable,W,e)),parentEntityDeleteEnabled:q})}if(Q){var ee;J.push({...G(Q,e),type:d.Copy,text:((ee=Q.Label)===null||ee===void 0?void 0:ee.toString())??s.getLibraryResourceBundle("sap.fe.core").getText("C_COMMON_COPY")})}const te=R(e.getEntityType(),false);te.filter(e=>N.indexOf(e===null||e===void 0?void 0:e.Criticality)===-1).forEach(t=>{var n,i,o,a,r,s;if(((n=t.RequiresContext)===null||n===void 0?void 0:n.valueOf())===true){throw new Error(`RequiresContext property should not be true for header IBN action : ${t.Label}`)}if(((i=t.Inline)===null||i===void 0?void 0:i.valueOf())===true){throw new Error(`Inline property should not be true for header IBN action : ${t.Label}`)}const l={semanticObjectMapping:D(t.Mapping)};J.push({type:d.DataFieldForIntentBasedNavigation,text:(o=t.Label)===null||o===void 0?void 0:o.toString(),annotationPath:e.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),buttonType:w.Ghost,visible:O(S(y(E(C((a=t.annotations)===null||a===void 0?void 0:(r=a.UI)===null||r===void 0?void 0:r.Hidden),true)),y(E(m("shellNavigationNotAvailable","internal"),true)))),enabled:t.NavigationAvailable!==undefined?O(E(C((s=t.NavigationAvailable)===null||s===void 0?void 0:s.valueOf()),true)):true,key:A.generateKeyFromDataField(t),isNavigable:true,press:O(P("._intentBasedNavigation.navigate",[C(t.SemanticObject),C(t.Action),l])),customData:O({semanticObject:C(t.SemanticObject),action:C(t.Action)})})});Y.filter(e=>N.indexOf(e===null||e===void 0?void 0:e.Criticality)===-1).forEach(t=>{J.push(G(t,e))});return J}u.getHeaderDefaultActions=k;function U(e){var t,n,i;const o=e.getEntityType();const a=((t=o.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:(i=n.Identification)===null||i===void 0?void 0:i.filter(e=>{var t,n,i;return(e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:(i=n.Hidden)===null||i===void 0?void 0:i.valueOf())===true}))||[];return a.map(e=>({type:d.Default,key:A.generateKeyFromDataField(e)}))}u.getHiddenHeaderActions=U;function H(e,t){var n,i,a,r;const s=t.getEntitySet();const l=t.getEntityType();const c=o.getStickySession(s),u=h(s)&&(((n=s.annotations.Common)===null||n===void 0?void 0:(i=n.DraftRoot)===null||i===void 0?void 0:i.term)??((a=s.annotations.Session)===null||a===void 0?void 0:(r=a.StickySessionSupported)===null||r===void 0?void 0:r.term)),p=Boolean(u==="com.sap.vocabularies.Common.v1.DraftRoot"||c&&(c===null||c===void 0?void 0:c.SaveAction)),f=e>1,g=Boolean(u==="com.sap.vocabularies.Common.v1.DraftRoot"||c&&(c===null||c===void 0?void 0:c.DiscardAction));const v=F(t.getEntityType(),true);const m=v.filter(e=>N.indexOf(e===null||e===void 0?void 0:e.Criticality)>-1).map(e=>G(e,t));if((s===null||s===void 0?void 0:s.entityTypeName)===(l===null||l===void 0?void 0:l.fullyQualifiedName)&&p){m.push({type:d.Primary,key:"SaveAction"})}if(f){m.push({type:d.DefaultApply,key:"ApplyAction"})}v.filter(e=>N.indexOf(e===null||e===void 0?void 0:e.Criticality)===-1).forEach(e=>{m.push(G(e,t))});if(g){m.push({type:d.Secondary,key:"CancelAction",position:{placement:I.End}})}return m}u.getFooterDefaultActions=H;function G(e,t){var n,i;return{type:d.DataFieldForAction,annotationPath:t.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),key:A.generateKeyFromDataField(e),visible:O(y(E(C((n=e.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:i.Hidden),true))),enabled:x(t,e.ActionTarget),isNavigable:true}}return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/templates/ListReportConverter",["sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/helpers/BindingToolkit","../controls/Common/DataVisualization","../controls/Common/KPI","../helpers/ID","../ManifestSettings"],function(e,t,n,i,o,a,r,s){"use strict";var l={};var c=s.VisualizationType;var u=s.VariantManagementType;var d=s.TemplateType;var p=r.getTableID;var f=r.getIconTabBarID;var g=r.getFilterVariantManagementID;var v=r.getFilterBarID;var h=r.getDynamicListReportID;var m=r.getCustomTabID;var y=r.getChartID;var b=a.getKPIDefinitions;var C=o.isSelectionPresentationCompliant;var P=o.isPresentationCompliant;var E=o.getSelectionVariant;var T=o.getSelectionPresentationVariant;var O=o.getDefaultPresentationVariant;var S=o.getDefaultLineItem;var A=o.getDefaultChart;var I=o.getDataVisualizationConfiguration;var D=i.getExpressionFromAnnotation;var x=i.compileExpression;var M=n.insertCustomElements;var _=t.getSelectionFields;var w=t.getManifestFilterFields;var F=t.getFilterBarHideBasicSearch;var R=e.getActionsFromManifest;function N(e){const t=[];e.forEach(function(e){if(!e.type){const n=e.secondaryVisualization?e.secondaryVisualization.visualizations:e.presentation.visualizations;n.forEach(function(e){if(e.type===c.Table){t.push(e)}})}});return t}function $(e){const t=[];e.forEach(function(e){if(!e.type){const n=e.primaryVisualization?e.primaryVisualization.visualizations:e.presentation.visualizations;n.forEach(function(e){if(e.type===c.Chart){t.push(e)}})}});return t}const V=function(e){const t={};for(const s in e){var n,i,o;if((n=e[s])!==null&&n!==void 0&&(i=n.settings)!==null&&i!==void 0&&(o=i.defaultValues)!==null&&o!==void 0&&o.length){var a,r;t[s]=(a=e[s])===null||a===void 0?void 0:(r=a.settings)===null||r===void 0?void 0:r.defaultValues}}return t};function L(e,t,n){const i=t.getManifestWrapper().getDefaultTemplateAnnotationPath();const o=T(e,i,t);const a="ALP flavor needs both chart and table to load the application";if(o){if(i){const e=o.PresentationVariant;if(!e){throw new Error("Presentation Variant is not configured in the SPV mentioned in the manifest")}if(!P(e,n)){if(n){throw new Error(a)}return undefined}}if(C(o,n)===true){return o}else if(n){throw new Error(a)}}const r=O(e);if(r){if(P(r,n)){return r}else if(n){throw new Error(a)}}if(!n){return S(e)}return undefined}const B=function(e){let t=e;if(t.converterContext){var n,i;let e=t.converterContext;t=t;const o=function(e){return e.key!==undefined};let a=I(t.annotation?e.getRelativeAnnotationPath(t.annotation.fullyQualifiedName,e.getEntityType()):"",true,e,t,undefined,undefined,o(t));let r="";let s="";let l="";let u="";const f=function(e,t){let n;for(const i of e.visualizations){if(t&&i.type===c.Chart){n=i;break}if(!t&&i.type===c.Table){n=i;break}}const i=Object.assign({},e);if(n){i.visualizations=[n]}else{throw new Error((t?"Primary":"Secondary")+" visualisation needs valid "+(t?"chart":"table"))}return i};const g=function(n,i){const o=e.getEntityTypeAnnotation(n.annotationPath);const r=o.annotation;e=o.converterContext;const s=r;if(s||e.getTemplateType()===d.AnalyticalListPage){a=I(s?e.getRelativeAnnotationPath(s.fullyQualifiedName,e.getEntityType()):"",true,e,t);return a}else{const e="Annotation Path for the "+(i?"primary":"secondary")+" visualisation mentioned in the manifest is not found";throw new Error(e)}};const v=function(e,n){var i,o,a;const l=f(e[0],true);s=l===null||l===void 0?void 0:(i=l.visualizations[0])===null||i===void 0?void 0:i.id;const c=f(e[1]?e[1]:e[0],false);r=c===null||c===void 0?void 0:(o=c.visualizations[0])===null||o===void 0?void 0:(a=o.annotation)===null||a===void 0?void 0:a.id;if(l&&c){t=t;const e=t.visible;const i={primaryVisualization:l,secondaryVisualization:c,tableControlId:r,chartControlId:s,defaultPath:n,visible:e};return i}};if(!e.getManifestWrapper().hasMultipleVisualizations(t)&&((n=a)===null||n===void 0?void 0:(i=n.visualizations)===null||i===void 0?void 0:i.length)===2&&e.getTemplateType()===d.AnalyticalListPage){const e=v([a],"both");if(e){return e}}else if(e.getManifestWrapper().hasMultipleVisualizations(t)||e.getTemplateType()===d.AnalyticalListPage){const{primary:e,secondary:n}=t;if(e&&e.length&&n&&n.length){const i=v([g(e[0],true),g(n[0],false)],t.defaultPath);if(i){return i}}else{throw new Error("SecondaryItems in the Views is not present")}}else if(o(t)){const n=e.getEntityTypeAnnotation(t.annotationPath);const i=n.annotation;e=n.converterContext;l=x(D(i.Text));a.visualizations.forEach((e,n)=>{var i;switch(e.type){case c.Table:const e=a.visualizations[n];const r=e.control.filters||{};r.hiddenFilters=r.hiddenFilters||{paths:[]};if(!t.keepPreviousPersonalization){e.annotation.id=p(t.key||"","LineItem")}t=t;if(((i=t.annotation)===null||i===void 0?void 0:i.term)==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){var o;if(!t.annotation.SelectionVariant){throw new Error(`The Selection Variant is missing for the Selection Presentation Variant ${t.annotation.fullyQualifiedName}`)}u=`@${(o=t.annotation.SelectionVariant)===null||o===void 0?void 0:o.fullyQualifiedName.split("@")[1]}`}else{u=t.annotationPath}r.hiddenFilters.paths.push({annotationPath:u});e.control.filters=r;break;case c.Chart:const s=a.visualizations[n];s.id=y(t.key||"","Chart");s.multiViews=true;break;default:break}})}a.visualizations.forEach(e=>{if(e.type===c.Table){r=e.annotation.id}else if(e.type===c.Chart){s=e.id}});t=t;const h=t.visible;return{presentation:a,tableControlId:r,chartControlId:s,title:l,selectionVariantPath:u,visible:h}}else{t=t;const e=t.label,n=t.template,i=t.type,o=m(t.key||""),a=t.visible;return{title:e,fragment:n,type:i,customTabId:o,visible:a}}};const j=function(e,t){let n=[];if(t){t.paths.forEach(i=>{if(e.getManifestWrapper().hasMultipleVisualizations(i)){if(t.paths.length>1){throw new Error("ALP flavor cannot have multiple views")}else{i=i;n.push({converterContext:e,primary:i.primary,secondary:i.secondary,defaultPath:i.defaultPath})}}else if(i.template){i=i;n.push({key:i.key,label:i.label,template:i.template,type:"Custom",visible:i.visible})}else{i=i;const t=e.getConverterContextFor(i.contextPath||i.entitySet&&`/${i.entitySet}`||e.getContextPath()),o=t.getEntityType();if(o&&t){let e;const a=t.getEntityTypeAnnotation(i.annotationPath);const r=a.annotation;if(r){e=r.term==="com.sap.vocabularies.UI.v1.SelectionVariant"?L(o,t,false):r;n.push({converterContext:t,annotation:e,annotationPath:i.annotationPath,keepPreviousPersonalization:i.keepPreviousPersonalization,key:i.key,visible:i.visible})}}else{}}})}else{const t=e.getEntityType();if(e.getTemplateType()===d.AnalyticalListPage){n=U(e,n)}else{n.push({annotation:L(t,e,false),converterContext:e})}}return n.map(e=>B(e))};const k=function(e,t){const n=e.getManifestWrapper();const i=n.getViewConfiguration();if(t.length>1&&!H(e)){return{showTabCounts:i?(i===null||i===void 0?void 0:i.showCounts)||n.hasMultipleEntitySets():undefined,id:f()}}return undefined};function U(e,t){const n=e.getEntityType();const i=L(n,e,true);let o,a;if(i){t.push({annotation:i,converterContext:e})}else{o=A(n);a=S(n);if(o&&a){const n=[{annotationPath:"@"+o.term}];const i=[{annotationPath:"@"+a.term}];t.push({converterContext:e,primary:n,secondary:i,defaultPath:"both"})}else{throw new Error("ALP flavor needs both chart and table to load the application")}}return t}function H(e){return e.getManifestWrapper().hasMultipleVisualizations()||e.getTemplateType()===d.AnalyticalListPage}const G=function(e){const t=e.getManifestWrapper();return M([],R(t.getHeaderActions(),e).actions)};l.getHeaderActions=G;const z=function(e,t){e.forEach(e=>{if(!e.type){const n=e.presentation;n.visualizations.forEach(e=>{if(e.type===c.Chart&&e.filterId!==t){e.filterId=t}})}})};l.checkChartFilterBarId=z;const W=function(e){const t=e.getEntityType();const n=e.getContextPath();if(!n){throw new Error("An EntitySet is required to be able to display a ListReport, please adjust your `entitySet` property to point to one.")}const i=e.getManifestWrapper();const o=i.getViewConfiguration();const a=i.hasMultipleEntitySets();const r=j(e,o);const s=N(r);const l=$(r);const c=s.some(e=>e.control.type==="ResponsiveTable");let d="";let p="";const f=h();const m=v(n);const y=g(m);const C=i.getFilterConfiguration();const P=(C===null||C===void 0?void 0:C.initialLayout)!==undefined?C===null||C===void 0?void 0:C.initialLayout.toLowerCase():"compact";const T=(C===null||C===void 0?void 0:C.layout)!==undefined?C===null||C===void 0?void 0:C.layout.toLowerCase():"compact";const O=C.useSemanticDateRange!==undefined?C.useSemanticDateRange:true;const S=C.showClearButton!==undefined?C.showClearButton:false;const A=q(e,r);if(A){p=A.chartId;d=A.tableId}const I=i.useHiddenFilterBar();const D=(i.isFilterBarHidden()||I)&&p==="";const x=_(e,s);const M=x.selectionFields;const R=x.sPropertyInfo;const L=F(s,l,e);const B=k(e,r);const U=B?undefined:E(t,e);const W=O?V(w(t,e)):{};const K=G(e);if(a){z(r,m)}const Q=s.map(e=>e.annotation.id).concat(l.map(e=>e.id));const Y=[...D&&!I?[]:[m],...i.getVariantManagement()!==u.Control?Q:[],...B?[B.id]:[]];const J=B&&i.getStickyMultiTabHeaderConfiguration()?B.id:undefined;return{mainEntitySet:n,mainEntityType:`${n}/`,multiViewsControl:B,stickySubheaderProvider:J,singleTableId:d,singleChartId:p,dynamicListReportId:f,headerActions:K,showPinnableToggle:c,filterBar:{propertyInfo:R,selectionFields:M,hideBasicSearch:L,showClearButton:S},views:r,filterBarId:D&&!I?"":m,filterConditions:{selectionVariant:U,defaultSemanticDates:W},variantManagement:{id:y,targetControlIds:Y.join(",")},hasMultiVisualizations:H(e),templateType:i.getTemplateType(),useSemanticDateRange:O,filterInitialLayout:P,filterLayout:T,kpiDefinitions:b(e),hideFilterBar:D,useHiddenFilterBar:I}};l.convertPage=W;function q(e,t){let n="",i="";if(e.getManifestWrapper().hasMultipleVisualizations()||e.getTemplateType()===d.AnalyticalListPage){for(let e of t){e=e;if(e.chartControlId&&e.tableControlId){i=e.chartControlId;n=e.tableControlId;break}}}else{for(let e of t){e=e;if(!n&&e.tableControlId){n=e.tableControlId||""}if(!i&&e.chartControlId){i=e.chartControlId||""}if(i&&n){break}}}if(n||i){return{chartId:i,tableId:n}}return undefined}return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/converters/templates/ObjectPageConverter",["sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/objectPage/HeaderAndFooterAction","sap/fe/core/helpers/BindingToolkit","../controls/ObjectPage/Avatar","../controls/ObjectPage/HeaderFacet","../controls/ObjectPage/SubSection","../helpers/BindingHelper","../helpers/ConfigurableObject","../helpers/ID","../ManifestSettings"],function(e,t,n,i,o,a,r,s,l,c){"use strict";var u={};var d=c.VisualizationType;var p=c.TemplateType;var f=l.getSectionID;var g=l.getEditableHeaderSectionID;var v=l.getCustomSectionID;var h=s.Placement;var m=s.OverrideType;var y=s.insertCustomElements;var b=r.UI;var C=a.SubSectionType;var P=a.createSubSections;var E=a.createCustomSubSections;var T=a.createCustomHeaderFacetSubSections;var O=o.getHeaderFacetsFromManifest;var S=o.getHeaderFacetsFromAnnotations;var A=i.getAvatar;var I=n.not;var D=n.ifElse;var x=n.getExpressionFromAnnotation;var M=n.equal;var _=n.constant;var w=n.compileExpression;var F=t.getHiddenHeaderActions;var R=t.getHeaderDefaultActions;var N=t.getFooterDefaultActions;var $=e.removeDuplicateActions;var V=e.getActionsFromManifest;const L=(e,t)=>{var n,i;return((n=e.ID)===null||n===void 0?void 0:n.toString())||((i=e.Label)===null||i===void 0?void 0:i.toString())||t};function B(e,t){var n,i;const o=g();const a=(n=e.getEntityType().annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:i.HeaderFacets;const r=a?P(a,e,true):[];const s=T(e);let l=[];if(s.length>0){let e=0;t.forEach(function(t){while(r.length>e&&r[e].visible==="false"){l.push(r[e]);e++}if(r.length>e&&(t.key===r[e].key||t.key.slice(t.key.lastIndexOf("::")+2)===r[e].key.slice(r[e].key.lastIndexOf("::")+2))){l.push(r[e]);e++}else{s.forEach(function(e){if(t.key===e.key){l.push(e)}})}})}else{l=r}const c={id:o,key:"EditableHeaderContent",title:"{sap.fe.i18n>T_COMMON_OBJECT_PAGE_HEADER_SECTION}",visible:w(b.IsEditable),subSections:l};return c}u.createEditableHeaderSection=B;function j(e){var t,n,i;const o=e.getEntityType();const a=((t=o.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:(i=n.Facets)===null||i===void 0?void 0:i.map(t=>k(t,e)))||[];return a}function k(e,t){var n,i,o;const a=f(e);const r={id:a,key:L(e,a),title:e.Label?w(x(e.Label)):undefined,showTitle:!!e.Label,visible:w(I(M(x((n=e.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:(o=i.Hidden)===null||o===void 0?void 0:o.valueOf()),true))),subSections:P([e],t)};return r}function U(e,t){const n={};Object.keys(e).forEach(i=>{n[i]=H(e[i],i,t)});return n}function H(e,t,n){const i=e.id||v(t);let o=e.position;if(!o){o={placement:h.After}}let a;if(!e.subSections){a={[t]:{...e,position:undefined,visible:"true"}}}else{a=e.subSections}const r=E(a,n);const s={id:i,key:t,title:e.title,showTitle:!!e.title,visible:e.visible!==undefined?e.visible:"true",position:o,subSections:r};return s}const G=function(e){const t=R(e);const n=e.getManifestWrapper();const i=V(n.getHeaderActions(),e,t,undefined,undefined,F(e));const o={isNavigable:m.overwrite,enabled:m.overwrite,visible:m.overwrite,defaultValuesExtensionFunction:m.overwrite,command:m.overwrite};const a=y(t,i.actions,o);return{actions:$(a),commandActions:i.commandActions}};u.getHeaderActions=G;const z=function(e){const t=e.getManifestWrapper();const n=N(t.getViewLevel(),e);const i=V(t.getFooterActions(),e,n);const o={isNavigable:m.overwrite,enabled:m.overwrite,visible:m.overwrite,defaultValuesExtensionFunction:m.overwrite,command:m.overwrite};const a=y(n,i.actions,o);return{actions:a,commandActions:i.commandActions}};u.getFooterActions=z;function W(e){var t;return e!==null&&e!==void 0&&(t=e.presentation)!==null&&t!==void 0&&t.visualizations[0]?e.presentation.visualizations[0]:undefined}function q(e,t){var n,i;return e.visible==="true"&&(e===null||e===void 0?void 0:(n=e.presentation)===null||n===void 0?void 0:n.visualizations)&&(t===null||t===void 0?void 0:t.type)==="Table"&&(t===null||t===void 0?void 0:(i=t.control)===null||i===void 0?void 0:i.type)==="GridTable"}function K(e,t,n,i){if(q(t,n)){const t=n.control;if(!(i==="Page"&&e.length>1)){t.rowCountMode="Auto"}if(i!=="Tabs"){t.useCondensedTableLayout=false}}}function Q(e,t){var n;if((e===null||e===void 0?void 0:(n=e.content)===null||n===void 0?void 0:n.length)===1){var i;const n=((i=e.content[0].presentation)===null||i===void 0?void 0:i.visualizations[0]).control;if(n.type==="GridTable"){n.rowCountMode="Auto";if(t!=="Tabs"){n.useCondensedTableLayout=false}}}}function Y(e,t,n){let i;let o;const a=t.subSections;if(a.length===1){i=a[0];switch(a[0].type){case"DataVisualization":o=W(i);K(e,i,o,n);break;case"Mixed":Q(i,n);break;default:break}return}J(a)}function J(e){let t;e.forEach(e=>{var n,i,o;t=e;if((n=t)!==null&&n!==void 0&&(i=n.presentation)!==null&&i!==void 0&&i.visualizations){var a,r;(a=t)===null||a===void 0?void 0:(r=a.presentation)===null||r===void 0?void 0:r.visualizations.forEach(e=>{if(e.type===d.Table){e.control.useCondensedTableLayout=false}})}if((o=t)!==null&&o!==void 0&&o.content){t.content.forEach(e=>{var t;(t=e.presentation)===null||t===void 0?void 0:t.visualizations.forEach(e=>{if(e.type===d.Table){e.control.useCondensedTableLayout=false}})})}})}const X=function(e){const t=e.getManifestWrapper();const n=y(j(e),U(t.getSections(),e),{title:m.overwrite,visible:m.overwrite,subSections:{actions:m.merge,title:m.overwrite,sideContent:m.overwrite,objectPageLazyLoaderEnabled:m.overwrite}});n.forEach(function(e){var i;Y(n,e,t.getSectionLayout());(i=e.subSections)===null||i===void 0?void 0:i.forEach(function(e){var t;e.title=e.title==="undefined"?undefined:e.title;if(e.type==="Mixed"){var n;(n=e.content)===null||n===void 0?void 0:n.forEach(t=>{t.objectPageLazyLoaderEnabled=e.objectPageLazyLoaderEnabled})}if(e.type==="Mixed"&&(t=e.content)!==null&&t!==void 0&&t.length){var i;const t=e.content.find(e=>e.type===C.Form);if(e.sideContent){if(t){t.sideContent=e.sideContent}else{e.content[0].sideContent=e.sideContent}e.sideContent=undefined}if(t&&(i=e.actions)!==null&&i!==void 0&&i.length){t.actions=e.actions;e.actions=[]}}})});return n};u.getSections=X;function Z(e){var t,n;const i=e.getManifestWrapper();return(((t=e.getEntityType().annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.HeaderFacets)||[]).length>0||Object.keys(i.getHeaderFacets()).length>0}function ee(e){const t=e.getManifestWrapper();return D(!Z(e),_(false),D(M(t.isHeaderEditable(),false),_(true),I(b.IsEditable)))}const te=function(e){return w(ee(e))};u.getShowHeaderContent=te;const ne=function(e){return w(I(ee(e)))};u.getExpandedImageVisible=ne;const ie=function(e){var t,n;const i=e.getManifestWrapper();let o;const a=e.getEntityType();const r=y(S(e),O(i.getHeaderFacets()));const s=G(e);const l=z(e);if(i.isHeaderEditable()&&((t=a.annotations.UI)!==null&&t!==void 0&&t.HeaderFacets||(n=a.annotations.UI)!==null&&n!==void 0&&n.HeaderInfo)){o=B(e,r)}const c=X(e);return{template:p.ObjectPage,header:{visible:i.getShowObjectPageHeader(),section:o,facets:r,actions:s.actions,showContent:te(e),hasContent:Z(e),avatar:A(e),title:{expandedImageVisible:ne(e)}},sections:c,footerActions:l.actions,headerCommandActions:s.commandActions,footerCommandActions:l.commandActions,showAnchorBar:i.getShowAnchorBar(),useIconTabBar:i.useIconTabBar()}};u.convertPage=ie;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/formatters/CollaborationFormatter",["sap/ui/core/Core"],function(e){"use strict";var t={};const n=function(e){if(n.hasOwnProperty(e)){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++){i[o-1]=arguments[o]}return n[e].apply(this,i)}else{return""}};const i=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++){n[i-1]=arguments[i]}return!!r(e,...n)};i.__functionName="sap.fe.core.formatters.CollaborationFormatter#hasCollaborationActivity";t.hasCollaborationActivity=i;const o=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++){n[i-1]=arguments[i]}const o=r(e,...n);return(o===null||o===void 0?void 0:o.initials)||undefined};o.__functionName="sap.fe.core.formatters.CollaborationFormatter#getCollaborationActivityInitials";t.getCollaborationActivityInitials=o;const a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++){n[i-1]=arguments[i]}const o=r(e,...n);return o!==null&&o!==void 0&&o.color?`Accent${o.color}`:undefined};a.__functionName="sap.fe.core.formatters.CollaborationFormatter#getCollaborationActivityColor";t.getCollaborationActivityColor=a;function r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++){n[i-1]=arguments[i]}if(e&&e.length>0){return e.find(function(e){var t;const i=(e===null||e===void 0?void 0:(t=e.key)===null||t===void 0?void 0:t.split(","))||[];let o="";let a;for(let e=0;e<i.length;e++){var r;a=i[e].split("=");o=(a[1]||a[0]).split("'").join("");if(o!==((r=n[e])===null||r===void 0?void 0:r.toString())){return false}}return true})}}const s=function(){const t=arguments.length<=0?undefined:arguments[0];const n=e.getLibraryResourceBundle("sap.fe.core");const i=[];for(let e=1;e<arguments.length;e++){i.push(e<0||arguments.length<=e?undefined:arguments[e])}return n.getText(t,i)};s.__functionName="sap.fe.core.formatters.CollaborationFormatter#getFormattedText";t.getFormattedText=s;n.hasCollaborationActivity=i;n.getCollaborationActivityInitials=o;n.getCollaborationActivityColor=a;n.getFormattedText=s;return n},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/formatters/FPMFormatter",[],function(){"use strict";const e=function(e,t,n){const i=e.getController().getExtensionAPI();const o=t.split(".");const a=o.pop();const r=o.join("/");return new Promise(e=>{sap.ui.require([r],t=>{e(t[a].bind(i)(this.getBindingContext(),n||[]))})})};e.__functionName="sap.fe.core.formatters.FPMFormatter#customBooleanPropertyCheck";const t=function(e){if(t.hasOwnProperty(e)){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++){i[o-1]=arguments[o]}return t[e].apply(this,i)}else{return""}};t.customBooleanPropertyCheck=e;return t},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/formatters/FiscalFormat",["sap/ui/core/Locale","sap/ui/core/LocaleData"],function(e,t){"use strict";var n={};let i=function(){function i(n){const i=new e(sap.ui.getCore().getConfiguration().getLanguage()),o=new t(i);let a=n.format;if(n.format.length>4){a="yM"}else if(n.format==="PPP"){a="M"}let r=o.getCustomDateTimePattern(a,n.calendarType);r=r.replace(/([\u4e00-\u9faf\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uffef])+/gi,"");if(n.format.length>4){r=r.replace(/y+/i,n.format.slice(0,n.format.lastIndexOf("Y")+1));r=r.replace(/m+/i,n.format.slice(n.format.lastIndexOf("Y")+1))}else if(n.format==="PPP"){r="PPP"}const s=this.parseCalendarDatePattern(r);this.pattern=s.length>1?r:undefined;this._setFormatRegex(s);this._setParseRegex(s);this._setValidationRegex(s)}n=i;i.getDateInstance=function e(t){return new i(t)};var a=i.prototype;a.getPattern=function e(){return this.pattern};a.format=function e(t){if(t==null){return""}if(typeof t!=="string"){return t}return t.replace(this.formatRegExPattern,this.formatRegExGroups)};a.parse=function e(t){if(!t){return""}return t.replace(this.parseRegExPattern,this.parseRegExReplacer)};a.validate=function e(t){return this.validationRegExPattern.test(t)};a.parseCalendarDatePattern=function e(t){const n=[];let o,a={digits:0,value:"",symbol:""};for(const e of t){if(o!==e){a={digits:0,value:"",symbol:""}}else{a.digits+=1;continue}if(typeof i.symbols[e]==="undefined"){a.value=e}else{a.symbol=e;a.digits=1}o=e;n.push(a)}return n};a._setFormatRegex=function e(t){const n=[],o=[];let a,r,s,l;for(let e=0;e<t.length;e++){a=t[e];r=a.symbol;s=i.symbols[r].format;if(r===""){o[e]=a.value}else if(r.toLocaleLowerCase()==="y"){n.unshift("("+s.source+")");o[e]="$"+1}else{n.push("("+s.source+")");l=t.some(function(e){return e.symbol.toLowerCase()==="y"});o[e]=l?"$"+2:"$"+1}}this.formatRegExPattern=new RegExp(n.join(""));this.formatRegExGroups=o.join("")};a._setParseRegex=function e(t){const n=[],o={};let a,r,s,l=0;for(const e of t){a=e.symbol;if(a===""){n.push("\\D+?")}else{r=i.symbols[a].parse;n.push("("+r.source+")");s=++l;o[s]=e}}this.parseRegExPattern=new RegExp("^"+n.join("")+"$");this.parseRegExReplacer=this.getRegExReplacer(o)};a.getRegExReplacer=function e(t){return function(){const e=[];let n,i;for(var a=arguments.length,r=new Array(a),s=0;s<a;s++){r[s]=arguments[s]}for(const a in t){n=t[a];i=r[parseInt(a,10)];if(i.length<n.digits){if(n.symbol.toLowerCase()==="y"){i=o(i)}else{i=i.padStart(n.digits,"0")}}if(n.symbol.toLowerCase()==="y"){e.unshift(i)}else{e.push(i)}}return e.join("")}};a._setValidationRegex=function e(t){const n=[];let o,a;for(const e of t){o=e.symbol;a=i.symbols[o].format;if(o===""){continue}else if(o.toLowerCase()==="y"){n.unshift(a.source)}else{n.push(a.source)}}this.validationRegExPattern=new RegExp("^("+n.join(")(")+")$")};return i}();i.regexFormatPatterns={year:/[1-9]\d{3}/,period:/\d{3}/,quarter:/[1-4]/,week:/0[1-9]|[1-4]\d|5[0-3]/,day:/371|370|3[0-6]\d|[1-2]\d{2}|[1-9]\d|[1-9]/};n=i;i.regexParsePatterns={year:/\d{1,4}/,period:/\d{1,3}/,quarter:/[1-4]/,week:/\d{1,2}/,day:/[1-9]/};i.symbols={"":{format:/ /,parse:/ /},y:{format:i.regexFormatPatterns.year,parse:i.regexParsePatterns.year},Y:{format:i.regexFormatPatterns.year,parse:i.regexParsePatterns.year},P:{format:i.regexFormatPatterns.period,parse:i.regexParsePatterns.period},W:{format:i.regexFormatPatterns.week,parse:i.regexParsePatterns.week},d:{format:i.regexFormatPatterns.day,parse:i.regexParsePatterns.day},Q:{format:i.regexFormatPatterns.quarter,parse:i.regexParsePatterns.quarter},q:{format:i.regexFormatPatterns.quarter,parse:i.regexParsePatterns.quarter}};function o(e){let t=Number.parseInt(e,10);const n=(new Date).getUTCFullYear(),i=Math.floor(n/100),o=i*100+t-n;if(e.length===3){t+=Math.floor((i-1)/10)*1e3}else if(o<-70){t+=(i+1)*100}else if(o<30){t+=i*100}else{t+=(i-1)*100}return t}return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/formatters/KPIFormatter",["sap/ui/core/Core"],function(e){"use strict";const t=function(e){if(e){const t=e.split(" ");let n;if(t.length===1){n=t[0].substring(0,3).toUpperCase()}else if(t.length===2){n=(t[0].substring(0,1)+t[1].substring(0,1)).toUpperCase()}else{n=(t[0].substring(0,1)+t[1].substring(0,1)+t[2].substring(0,1)).toUpperCase()}return n}else{return""}};t.__functionName="sap.fe.core.formatters.KPIFormatter#labelFormat";const n=function(t,n,i,o,a){const r=e.getLibraryResourceBundle("sap.fe.core");const s=o?`C_KPI_TOOLTIP_${o.toUpperCase()}`:"C_KPI_TOOLTIP_NONE";let l;if(a==="true"){if(!i){l=r.getText("C_KPI_TOOLTIP_AMOUNT_MULTIUNIT")}else{l=`${n} ${i}`}}else{l=n}return r.getText(s,[t,l])};n.__functionName="sap.fe.core.formatters.KPIFormatter#tooltipFormat";const i=function(e){if(i.hasOwnProperty(e)){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++){n[o-1]=arguments[o]}return i[e].apply(this,n)}else{return""}};i.labelFormat=t;i.tooltipFormat=n;return i},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/formatters/StandardFormatter",["sap/fe/core/controls/Any","sap/fe/core/helpers/BindingToolkit"],function(e,t){"use strict";var n=t.transformRecursively;var i=t.constant;var o=t.compileExpression;const a=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++){a[s-1]=arguments[s]}const l=JSON.parse(e);n(l,"PathInModel",e=>{if(e.modelName==="$"){return i(a[parseInt(e.path.substring(1),10)])}return e},true);n(l,"ComplexType",e=>{const t=o(e);if(t){return i(r(t,this))}return i(t)});const c=o(l);return r(c,this)};const r=function(t,n){const i=new e({anyText:t});i.setModel(n.getModel());i.setBindingContext(n.getBindingContext());return i.getAnyText()};a.__functionName="sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression";const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}return t.join("")};s.__functionName="sap.fe.core.formatters.StandardFormatter#concat";const l=function(e,t,n){return e?t:n};l.__functionName="sap.fe.core.formatters.StandardFormatter#ifElse";const c=function(e){if(c.hasOwnProperty(e)){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++){n[i-1]=arguments[i]}return c[e].apply(this,n)}else{return""}};c.evaluateComplexExpression=a;c.concat=s;c.ifElse=l;return c},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/formatters/TableFormatter",["sap/fe/core/formatters/TableFormatterTypes","sap/fe/macros/DelegateUtil","sap/fe/macros/table/TableSizeHelper","sap/ui/mdc/enum/EditMode","../CommonUtils"],function(e,t,n,i,o){"use strict";var a=e.MessageType;const r=function(e){switch(e){case"Error":return 4;case"Warning":return 3;case"Information":return 2;case"None":return 1;default:return-1}};const s=function(e){if(!e){return false}const t=Object.keys(e);return t.length>0&&t.every(function(t){return e[t]["validity"]})};s.__functionName="sap.fe.core.formatters.TableFormatter#validateCreationRowFields";const l=function(e,t,n,i){let o=false;if(t&&t.length>0&&(i||n===e)){const e=this.getBindingContext()?this.getBindingContext().getPath():undefined;t.forEach(t=>{if(t.type==="Error"&&t.aTargets[0].indexOf(e)===0){o=true;return o}})}return o};l.__functionName="sap.fe.core.formatters.TableFormatter#getErrorStatusTextVisibilityFormatter";const c=function(e,t,n,i,o){var s;let l=-1;if(t&&t.length>0){var c;const n=(c=this.getBindingContext())===null||c===void 0?void 0:c.getPath();t.forEach(t=>{if(t.aTargets[0].indexOf(n)===0&&l<r(t.type)){l=r(t.type);e=t.type}})}if(typeof e!=="string"){switch(e){case 1:e=a.Error;break;case 2:e=a.Warning;break;case 3:e=a.Success;break;case 5:e=a.Information;break;default:e=a.None}}if(e!==a.None){return e}const u=((s=this.getBindingContext())===null||s===void 0?void 0:s.isInactive())??false;const d=!n&&!i&&!u;return o==="true"&&d?a.Information:a.None};c.__functionName="sap.fe.core.formatters.TableFormatter#rowHighlighting";const u=function(e){var t;const n=(t=this.getBindingContext())===null||t===void 0?void 0:t.getPath();if(n&&e){return e.indexOf(n)===0}else{return false}};u.__functionName="sap.fe.core.formatters.TableFormatter#navigatedRow";const d=function(e,o,a){let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;if(!o){return null}const s=this.getParent();const l=t.getCachedProperties(s);const c=l===null||l===void 0?void 0:l.find(e=>e.name===a);if(c){let t=l?n.getMDCColumnWidthFromProperty(c,l,true):null;if(t&&e===i.Editable){var u;switch((u=c.typeConfig)===null||u===void 0?void 0:u.baseType){case"Date":case"Time":case"DateTime":t+=2.8;break;default:}}if(r){return t+"rem"}return t}return null};d.__functionName="sap.fe.core.formatters.TableFormatter#getColumnWidth";const p=function(e,t,n){const a=o.isSmallDevice();const r=!a;return a&&n||!a&&!n?h.getColumnWidth.call(this,i.Display,e,t,r):null};p.__functionName="sap.fe.core.formatters.TableFormatter#getColumnWidthForValueHelpTable";function f(e){if(e.isA("sap.fe.macros.controls.FieldWrapper")){const t=Array.isArray(e.getContentDisplay())?e.getContentDisplay()[0]:e.getContentDisplay();if(t&&t.isA("sap.m.RatingIndicator")){return true}}return false}function g(e,t){const n=Array.isArray(e.getContentDisplay())?e.getContentDisplay()[0]:e.getContentDisplay();const i=Array.isArray(e.getContentEdit())?e.getContentEdit()[0]:e.getContentEdit();if(t){n.addStyleClass("sapUiNoMarginBottom");n.addStyleClass("sapUiNoMarginTop");i.removeStyleClass("sapUiTinyMarginBottom")}else{n.addStyleClass("sapUiNoMarginBottom");n.removeStyleClass("sapUiNoMarginTop");i.addStyleClass("sapUiTinyMarginBottom")}}function v(){const e=this.getItems();let t=false;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}for(let n=e.length-1;n>=0;n--){if(!t){if(i[n]!==true){t=true;if(f(e[n])){g(e[n],true)}else{e[n].removeStyleClass("sapUiTinyMarginBottom")}}}else if(f(e[n])){g(e[n],false)}else{e[n].addStyleClass("sapUiTinyMarginBottom")}}return true}v.__functionName="sap.fe.core.formatters.TableFormatter#getVBoxVisibility";const h=function(e){if(h.hasOwnProperty(e)){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++){n[i-1]=arguments[i]}return h[e].apply(this,n)}else{return""}};h.validateCreationRowFields=s;h.rowHighlighting=c;h.navigatedRow=u;h.getErrorStatusTextVisibilityFormatter=l;h.getVBoxVisibility=v;h.isRatingIndicator=f;h.getColumnWidth=d;h.getColumnWidthForValueHelpTable=p;return h},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/formatters/TableFormatterTypes",[],function(){"use strict";var e={};let t;(function(e){e["Error"]="Error";e["Information"]="Information";e["None"]="None";e["Success"]="Success";e["Warning"]="Warning"})(t||(t={}));e.MessageType=t;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/formatters/ValueFormatter",["sap/base/strings/whitespaceReplacer","sap/ui/core/Core","sap/ui/core/format/DateFormat"],function(e,t,n){"use strict";var i={};const o=function(e){if(o.hasOwnProperty(e)){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++){n[i-1]=arguments[i]}return o[e].apply(this,n)}else{return""}};const a=(e,n)=>{if(e&&n){return t.getLibraryResourceBundle("sap.fe.core").getText("C_FORMAT_FOR_TEXT_ARRANGEMENT",[e,n])}else{return e||n||""}};a.__functionName="sap.fe.core.formatters.ValueFormatter#formatWithBrackets";const r=(n,i,o,r,s,l)=>{let c=l?a(e(s),e(l)):e(s);if(!c){const e=n?n:t.getLibraryResourceBundle("sap.fe.templates").getText("T_NEW_OBJECT");const a=i?i:t.getLibraryResourceBundle("sap.fe.templates").getText("T_ANNOTATION_HELPER_DEFAULT_OBJECT_PAGE_HEADER_TITLE_NO_HEADER_INFO");c=!r&&!o?e:a}return c};r.__functionName="sap.fe.core.formatters.ValueFormatter#formatIdentifierTitle";const s=e=>e!==null&&e!==undefined?`${e} %`:"";s.__functionName="sap.fe.core.formatters.ValueFormatter#formatWithPercentage";const l=(e,t,n)=>{let i;if(e===undefined){return"0"}const o=typeof e==="string"?parseFloat(e):e;const a=typeof t==="string"?parseFloat(t):t;if(n==="%"){if(o>100){i="100"}else if(o<=0){i="0"}else{i=typeof e==="string"?e:e===null||e===void 0?void 0:e.toString()}}else if(o>a){i="100"}else if(o<=0){i="0"}else{i=o&&a?(o/a*100).toString():"0"}return i};l.__functionName="sap.fe.core.formatters.ValueFormatter#computePercentage";const c=e=>{let t;if(e==="UI.CriticalityType/Negative"||e==="1"||e===1){t="sap-icon://message-error"}else if(e==="UI.CriticalityType/Critical"||e==="2"||e===2){t="sap-icon://message-warning"}else if(e==="UI.CriticalityType/Positive"||e==="3"||e===3){t="sap-icon://message-success"}else if(e==="UI.CriticalityType/Information"||e==="5"||e===5){t="sap-icon://message-information"}else{t=""}return t};c.__functionName="sap.fe.core.formatters.ValueFormatter#formatCriticalityIcon";i.formatCriticalityIcon=c;const u=e=>{let t;if(e==="UI.CriticalityType/Negative"||e==="1"||e===1){t="Error"}else if(e==="UI.CriticalityType/Critical"||e==="2"||e===2){t="Warning"}else if(e==="UI.CriticalityType/Positive"||e==="3"||e===3){t="Success"}else if(e==="UI.CriticalityType/Information"||e==="5"||e===5){t="Information"}else{t="None"}return t};u.__functionName="sap.fe.core.formatters.ValueFormatter#formatCriticalityValueState";i.formatCriticalityValueState=u;const d=e=>{let t;if(e==="UI.CriticalityType/Negative"||e==="1"||e===1){t="Reject"}else if(e==="UI.CriticalityType/Positive"||e==="3"||e===3){t="Accept"}else{t="Default"}return t};d.__functionName="sap.fe.core.formatters.ValueFormatter#formatCriticalityButtonType";i.formatCriticalityButtonType=d;const p=e=>{let t;if(e==="UI.CriticalityType/Negative"||e==="1"||e===1){t="Error"}else if(e==="UI.CriticalityType/Critical"||e==="2"||e===2){t="Critical"}else if(e==="UI.CriticalityType/Positive"||e==="3"||e===3){t="Good"}else{t="Neutral"}return t};p.__functionName="sap.fe.core.formatters.ValueFormatter#formatCriticalityColorMicroChart";i.formatCriticalityColorMicroChart=p;const f=(e,i,o)=>{if(e&&i&&o){var a,r,s;const l=o.split("-");const c=`${l[1]===undefined?o:l[1]}-narrow`;const u=n.getDateInstance();const d=u.oLocaleData.mData;const p=t.getLibraryResourceBundle("sap.fe.macros");let f=o;if(d!==null&&d!==void 0&&(a=d.dateFields[c])!==null&&a!==void 0&&a.displayName){f=d.dateFields[c].displayName}else if(d!==null&&d!==void 0&&(r=d.units)!==null&&r!==void 0&&(s=r.short[o])!==null&&s!==void 0&&s.displayName){f=d.units.short[o].displayName}return p.getText("T_COMMON_PROGRESS_INDICATOR_DISPLAY_VALUE_WITH_UOM",[e,i,f])}};f.__functionName="sap.fe.core.formatters.ValueFormatter#formatProgressIndicatorText";i.formatProgressIndicatorText=f;const g=t=>t===null||t===undefined?"":e(t+"");g.__functionName="sap.fe.core.formatters.ValueFormatter#formatToKeepWhitespace";i.formatToKeepWhitespace=g;o.formatWithBrackets=a;o.formatIdentifierTitle=r;o.formatWithPercentage=s;o.computePercentage=l;o.formatCriticalityIcon=c;o.formatCriticalityValueState=u;o.formatCriticalityButtonType=d;o.formatCriticalityColorMicroChart=p;o.formatProgressIndicatorText=f;o.formatToKeepWhitespace=g;return o},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/fpm/Component",["sap/fe/core/helpers/ClassSupport","sap/fe/core/TemplateComponent"],function(e,t){"use strict";var n,i,o,a,r,s,l,c,u;var d=e.property;var p=e.defineUI5Class;function f(e,t,n,i){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function g(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}function h(e,t){h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return h(e,t)}function m(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function y(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let b=(n=p("sap.fe.core.fpm.Component",{manifest:"json"}),i=d({type:"string"}),o=d({type:"string"}),a=d({type:"string"}),n(r=(s=function(e){v(t,e);function t(t){var n;if(t.viewType==="JSX"){t._mdxViewName=t.viewName;t.viewName="module:sap/fe/core/jsx-runtime/ViewLoader"}n=e.call(this,t)||this;f(n,"viewName",l,g(n));f(n,"controllerName",c,g(n));f(n,"_mdxViewName",u,g(n));return n}return t}(t),l=m(s.prototype,"viewName",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),c=m(s.prototype,"controllerName",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),u=m(s.prototype,"_mdxViewName",[a],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),s))||r);return b},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/AnnotationEnum",[],function(){"use strict";var e={};const t={"com.sap.vocabularies.Common.v1.FieldControlType":{Mandatory:7,Optional:3,ReadOnly:0,Inapplicable:0,Disabled:1}};const n=function(e){const[n,i]=e.split("/");if(t.hasOwnProperty(n)){return t[n][i]}else{return false}};e.resolveEnumValue=n;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/AppStartupHelper",["sap/ui/model/Filter","sap/ui/model/FilterOperator","./ModelHelper"],function(e,t,n){"use strict";const i={_getKeysFromStartupParams:function(e,t){let n=true;const i=e.map(e=>{if(t[e]&&t[e].length===1){return{name:e,value:t[e][0]}}else{n=false;return{name:e,value:""}}});return n?i:undefined},_createFilterFromKeys:function(i,o,a){const r=n.isFilteringCaseSensitive(a);let s=false;const l=i.map(n=>{if(n.name==="IsActiveEntity"){s=true}return new e({path:n.name,operator:t.EQ,value1:n.value,caseSensitive:r})});if(o&&!s){const t=new e({filters:[new e("IsActiveEntity","EQ",false),new e("SiblingEntity/IsActiveEntity","EQ",null)],and:false});l.push(t)}return new e(l,true)},_requestObjectsFromParameters:function(e,t){const n=e.map(e=>{const n=e.semanticKeys||e.technicalKeys||[];const i=this._createFilterFromKeys(n,e.draftMode,t.getMetaModel());const o=t.bindList(e.contextPath,undefined,undefined,i,{$select:n.map(e=>e.name).join(",")});return o.requestContexts(0,2)});return Promise.all(n)},_getReachablePageInfoFromRoute:function(e,t,n,i){var o,a;let r=e.pattern.replace(":?query:","");r=r.replace(/\/$/,"");if(!r||!r.endsWith(")")){return undefined}r=r.replace(/\(\{[^}]*\}\)/g,"(#)");const s=Array.isArray(e.target)?e.target[e.target.length-1]:e.target;const l=t.targets[s];const c=r.split("/");const u=c.length-1;if(u!==0&&(l===null||l===void 0?void 0:(o=l.options)===null||o===void 0?void 0:(a=o.settings)===null||a===void 0?void 0:a.allowDeepLinking)!==true){return undefined}const d=l.options.settings.contextPath||l.options.settings.entitySet&&`/${l.options.settings.entitySet}`;const p=d&&i.getObject(`/$EntityContainer${d}/`);if(!p){return undefined}const f=i.getObject(`/$EntityContainer${d}/@com.sap.vocabularies.Common.v1.SemanticKey`);const g=f?this._getKeysFromStartupParams(f.map(e=>e.$PropertyPath),n):undefined;const v=!g&&u===0?this._getKeysFromStartupParams(p["$Key"],n):undefined;if(g===undefined&&v===undefined){return undefined}const h=i.getObject(`/$EntityContainer${d}@com.sap.vocabularies.Common.v1.DraftRoot`)||i.getObject(`/$EntityContainer${d}@com.sap.vocabularies.Common.v1.DraftNode`)?true:false;return{pattern:r,contextPath:d,draftMode:h,technicalKeys:v,semanticKeys:g,target:s,pageLevel:u}},_getReachablePages:function(e,t,n){const i=e.routes;const o={};i.forEach(i=>{const a=this._getReachablePageInfoFromRoute(i,e,t,n);if(a){if(!o[a.pageLevel]){o[a.pageLevel]=[]}o[a.pageLevel].push(a)}});const a=[];let r=0;while(o[r]){a.push(o[r]);r++}return a},_getStartupPagesFromStartupParams:function(e,t,n){const i=this._getReachablePages(e,t,n);if(i.length===0){return[]}let o=[];const a=[];function r(e){const t=i[e];const n=a.length?a[a.length-1]:undefined;if(t){t.forEach(function(t){if(!n||t.pattern.indexOf(n.pattern)===0){a.push(t);r(e+1);a.pop()}})}if(a.length>o.length){o=a.slice()}}r(0);return o},_getDeepLinkObject:function(e,t){if(t.length===1){return{context:t[0]}}else if(t.length>1){let n=e[e.length-1].pattern;t.forEach(function(e){n=n.replace("(#)",`(${e.getPath().split("(")[1]}`)});return{hash:n}}else{return{}}},getDeepLinkStartupHash:function(e,t,n){let i;return n.getMetaModel().requestObject("/$EntityContainer/").then(()=>{i=this._getStartupPagesFromStartupParams(e,t,n.getMetaModel());return this._requestObjectsFromParameters(i,n)}).then(e=>{if(e.length){const t=[];e.forEach(function(e){if(e.length===1){t.push(e[0])}});return t.length===e.length?this._getDeepLinkObject(i,t):{}}else{return{}}})},getCreateStartupHash:function(e,t,n,i){return i.requestObject(`${t}@`).then(o=>{let a="";let r=true;if(o["@com.sap.vocabularies.Common.v1.DraftRoot"]&&o["@com.sap.vocabularies.Common.v1.DraftRoot"]["NewAction"]){a=`${t}@com.sap.vocabularies.Common.v1.DraftRoot/NewAction@Org.OData.Core.V1.OperationAvailable`}else if(o["@com.sap.vocabularies.Session.v1.StickySessionSupported"]&&o["@com.sap.vocabularies.Session.v1.StickySessionSupported"]["NewAction"]){a=`${t}@com.sap.vocabularies.Session.v1.StickySessionSupported/NewAction@Org.OData.Core.V1.OperationAvailable`}if(a){const e=i.getObject(a);if(e===false){r=false}}else{const e=o["@Org.OData.Capabilities.V1.InsertRestrictions"];if(e&&e.Insertable===false){r=false}}if(r){return this.getDefaultCreateHash(e,t,n)}else{return""}})},getDefaultCreateHash:function(e,t,n){let i=e&&e.preferredMode?e.preferredMode[0]:"create";let o="";i=i.indexOf(":")!==-1&&i.length>i.indexOf(":")+1?i.substr(0,i.indexOf(":")):"create";o=`${t.substring(1)}(...)?i-action=${i}`;if(n.getRouteInfoByHash(o)){return o}else{throw new Error(`No route match for creating a new ${t.substring(1)}`)}}};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/BindingToolkit",["./AnnotationEnum"],function(e){"use strict";var t={};var n=e.resolveEnumValue;const i={"Edm.Boolean":{type:"sap.ui.model.odata.type.Boolean"},"Edm.Byte":{type:"sap.ui.model.odata.type.Byte"},"Edm.Date":{type:"sap.ui.model.odata.type.Date"},"Edm.DateTimeOffset":{constraints:{$Precision:"precision",$V4:"V4"},type:"sap.ui.model.odata.type.DateTimeOffset"},"Edm.Decimal":{constraints:{"@Org.OData.Validation.V1.Minimum/$Decimal":"minimum","@Org.OData.Validation.V1.Minimum@Org.OData.Validation.V1.Exclusive":"minimumExclusive","@Org.OData.Validation.V1.Maximum/$Decimal":"maximum","@Org.OData.Validation.V1.Maximum@Org.OData.Validation.V1.Exclusive":"maximumExclusive",$Precision:"precision",$Scale:"scale"},type:"sap.ui.model.odata.type.Decimal"},"Edm.Double":{type:"sap.ui.model.odata.type.Double"},"Edm.Guid":{type:"sap.ui.model.odata.type.Guid"},"Edm.Int16":{type:"sap.ui.model.odata.type.Int16"},"Edm.Int32":{type:"sap.ui.model.odata.type.Int32"},"Edm.Int64":{type:"sap.ui.model.odata.type.Int64"},"Edm.SByte":{type:"sap.ui.model.odata.type.SByte"},"Edm.Single":{type:"sap.ui.model.odata.type.Single"},"Edm.Stream":{type:"sap.ui.model.odata.type.Stream"},"Edm.Binary":{type:"sap.ui.model.odata.type.Stream"},"Edm.String":{constraints:{"@com.sap.vocabularies.Common.v1.IsDigitSequence":"isDigitSequence",$MaxLength:"maxLength",$Nullable:"nullable"},type:"sap.ui.model.odata.type.String"},"Edm.TimeOfDay":{constraints:{$Precision:"precision"},type:"sap.ui.model.odata.type.TimeOfDay"}};t.EDM_TYPE_MAPPING=i;const o={_type:"Unresolvable"};t.unresolvableExpression=o;function a(e){return e.replace(/'/g,"\\'")}function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}return t.find(e=>e._type==="Unresolvable")!==undefined}t.hasUnresolvableExpression=r;function s(e,t){if(e._type!==t._type){return false}switch(e._type){case"Unresolvable":return false;case"Constant":case"EmbeddedBinding":case"EmbeddedExpressionBinding":return e.value===t.value;case"Not":return s(e.operand,t.operand);case"Truthy":return s(e.operand,t.operand);case"Set":return e.operator===t.operator&&e.operands.length===t.operands.length&&e.operands.every(e=>t.operands.some(t=>s(e,t)));case"IfElse":return s(e.condition,t.condition)&&s(e.onTrue,t.onTrue)&&s(e.onFalse,t.onFalse);case"Comparison":return e.operator===t.operator&&s(e.operand1,t.operand1)&&s(e.operand2,t.operand2);case"Concat":const n=e.expressions;const i=t.expressions;if(n.length!==i.length){return false}return n.every((e,t)=>s(e,i[t]));case"Length":return s(e.pathInModel,t.pathInModel);case"PathInModel":return e.modelName===t.modelName&&e.path===t.path&&e.targetEntitySet===t.targetEntitySet;case"Formatter":return e.fn===t.fn&&e.parameters.length===t.parameters.length&&e.parameters.every((e,n)=>s(t.parameters[n],e));case"ComplexType":return e.type===t.type&&e.bindingParameters.length===t.bindingParameters.length&&e.bindingParameters.every((e,n)=>s(t.bindingParameters[n],e));case"Function":const o=t;if(e.obj===undefined||o.obj===undefined){return e.obj===o}return e.fn===o.fn&&s(e.obj,o.obj)&&e.parameters.length===o.parameters.length&&e.parameters.every((e,t)=>s(o.parameters[t],e));case"Ref":return e.ref===t.ref}return false}t._checkExpressionsAreEqual=s;function l(e){return e.operands.reduce((t,n)=>{const i=n._type==="Set"&&n.operator===e.operator?n.operands:[n];i.forEach(e=>{if(t.operands.every(t=>!s(t,e))){t.operands.push(e)}});return t},{_type:"Set",operator:e.operator,operands:[]})}function c(e){const t=e.map(p);return e.some((e,n)=>{for(let i=n+1;i<t.length;i++){if(s(e,t[i])){return true}}return false})}function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}const i=l({_type:"Set",operator:"&&",operands:t.map(b)}).operands;if(r(...i)){return o}let a=false;const s=i.filter(e=>{if(T(e)){a=true}return!P(e)});if(a){return h(false)}else if(s.length===0){const e=i.reduce((e,t)=>e&&E(t),true);return h(e)}else if(s.length===1){return s[0]}else if(c(s)){return h(false)}else{return{_type:"Set",operator:"&&",operands:s}}}t.and=u;function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}const i=l({_type:"Set",operator:"||",operands:t.map(b)}).operands;if(r(...i)){return o}let a=false;const s=i.filter(e=>{if(E(e)){a=true}return!P(e)||e.value});if(a){return h(true)}else if(s.length===0){const e=i.reduce((e,t)=>e&&E(t),true);return h(e)}else if(s.length===1){return s[0]}else if(c(s)){return h(true)}else{return{_type:"Set",operator:"||",operands:s}}}t.or=d;function p(e){e=b(e);if(r(e)){return o}else if(P(e)){return h(!e.value)}else if(typeof e==="object"&&e._type==="Set"&&e.operator==="||"&&e.operands.every(e=>P(e)||I(e))){return u(...e.operands.map(e=>p(e)))}else if(typeof e==="object"&&e._type==="Set"&&e.operator==="&&"&&e.operands.every(e=>P(e)||I(e))){return d(...e.operands.map(e=>p(e)))}else if(I(e)){switch(e.operator){case"!==":return{...e,operator:"==="};case"<":return{...e,operator:">="};case"<=":return{...e,operator:">"};case"===":return{...e,operator:"!=="};case">":return{...e,operator:"<="};case">=":return{...e,operator:"<"}}}else if(e._type==="Not"){return e.operand}return{_type:"Not",operand:e}}t.not=p;function f(e){if(P(e)){return h(!!e.value)}else{return{_type:"Truthy",operand:e}}}t.isTruthy=f;function g(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];let i=arguments.length>3?arguments[3]:undefined;return v(e,t,n,i)}t.bindingExpression=g;function v(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];let i=arguments.length>3?arguments[3]:undefined;if(e===undefined){return o}let a;if(i){a=i(e);if(a===undefined){return o}}else{const t=n.concat();t.push(e);a=t.join("/")}return{_type:"PathInModel",modelName:t,path:a}}t.pathInModel=v;function h(e){let t;if(typeof e==="object"&&e!==null&&e!==undefined){if(Array.isArray(e)){t=e.map(b)}else if(x(e)){t=e.valueOf()}else{t=Object.entries(e).reduce((e,t)=>{let[n,i]=t;const o=b(i);if(o._type!=="Constant"||o.value!==undefined){e[n]=o}return e},{})}}else{t=e}return{_type:"Constant",value:t}}t.constant=h;function m(e,t){if(e!==undefined&&typeof e==="string"&&e.startsWith("{")){const t=/^{(.*)>(.+)}$/;const n=t.exec(e);if(e.startsWith("{=")){return{_type:"EmbeddedExpressionBinding",value:e}}else if(n){return v(n[2]||"",n[1]||undefined)}else{return{_type:"EmbeddedBinding",value:e}}}else if(t==="boolean"&&typeof e==="string"&&(e==="true"||e==="false")){return h(e==="true")}else if(t==="number"&&typeof e==="string"&&(!isNaN(Number(e))||e==="NaN")){return h(Number(e))}else{return h(e)}}t.resolveBindingString=m;function y(e){return{_type:"Ref",ref:e}}t.ref=y;function b(e){if(C(e)){return e}return h(e)}function C(e){return(e===null||e===void 0?void 0:e._type)!==undefined}t.isBindingToolkitExpression=C;function P(e){return typeof e!=="object"||e._type==="Constant"}t.isConstant=P;function E(e){return P(e)&&e.value===true}function T(e){return P(e)&&e.value===false}function O(e){return(e===null||e===void 0?void 0:e._type)==="PathInModel"}t.isPathInModelExpression=O;function S(e){return(e===null||e===void 0?void 0:e._type)==="ComplexType"}t.isComplexTypeExpression=S;function A(e){return(e===null||e===void 0?void 0:e._type)==="Concat"}function I(e){return e._type==="Comparison"}function D(e){const t=e;return(t===null||t===void 0?void 0:t._type)==="Constant"&&(t===null||t===void 0?void 0:t.value)===undefined}t.isUndefinedExpression=D;function x(e){switch(e.constructor.name){case"String":case"Number":case"Boolean":return true;default:return false}}function M(e){return typeof e==="object"&&!x(e)}function _(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let n=arguments.length>2?arguments[2]:undefined;let i=arguments.length>3?arguments[3]:undefined;return w(e,t,n,i)}t.annotationExpression=_;function w(e){var t;let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let i=arguments.length>2?arguments[2]:undefined;let a=arguments.length>3?arguments[3]:undefined;if(e===undefined){return b(i)}e=(t=e)===null||t===void 0?void 0:t.valueOf();if(!M(e)){return h(e)}switch(e.type){case"Path":return v(e.path,undefined,n,a);case"If":return R(e.If,n,a);case"Not":return p(F(e.Not,n,a));case"Eq":return L(F(e.Eq[0],n,a),F(e.Eq[1],n,a));case"Ne":return B(F(e.Ne[0],n,a),F(e.Ne[1],n,a));case"Gt":return k(F(e.Gt[0],n,a),F(e.Gt[1],n,a));case"Ge":return j(F(e.Ge[0],n,a),F(e.Ge[1],n,a));case"Lt":return H(F(e.Lt[0],n,a),F(e.Lt[1],n,a));case"Le":return U(F(e.Le[0],n,a),F(e.Le[1],n,a));case"Or":return d(...e.Or.map(function(e){return F(e,n,a)}));case"And":return u(...e.And.map(function(e){return F(e,n,a)}));case"Apply":return N(e,n,a)}return o}t.getExpressionFromAnnotation=w;function F(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let i=arguments.length>2?arguments[2]:undefined;if(e===null||typeof e!=="object"){return h(e)}else if(e.hasOwnProperty("$Or")){return d(...e.$Or.map(function(e){return F(e,t,i)}))}else if(e.hasOwnProperty("$And")){return u(...e.$And.map(function(e){return F(e,t,i)}))}else if(e.hasOwnProperty("$Not")){return p(F(e.$Not,t,i))}else if(e.hasOwnProperty("$Eq")){return L(F(e.$Eq[0],t,i),F(e.$Eq[1],t,i))}else if(e.hasOwnProperty("$Ne")){return B(F(e.$Ne[0],t,i),F(e.$Ne[1],t,i))}else if(e.hasOwnProperty("$Gt")){return k(F(e.$Gt[0],t,i),F(e.$Gt[1],t,i))}else if(e.hasOwnProperty("$Ge")){return j(F(e.$Ge[0],t,i),F(e.$Ge[1],t,i))}else if(e.hasOwnProperty("$Lt")){return H(F(e.$Lt[0],t,i),F(e.$Lt[1],t,i))}else if(e.hasOwnProperty("$Le")){return U(F(e.$Le[0],t,i),F(e.$Le[1],t,i))}else if(e.hasOwnProperty("$Path")){return v(e.$Path,undefined,t,i)}else if(e.hasOwnProperty("$Apply")){return w({type:"Apply",Function:e.$Function,Apply:e.$Apply},t,undefined,i)}else if(e.hasOwnProperty("$If")){return w({type:"If",If:e.$If},t,undefined,i)}else if(e.hasOwnProperty("$EnumMember")){return h(n(e.$EnumMember))}return h(false)}function R(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let n=arguments.length>2?arguments[2]:undefined;return G(F(e[0],t,n),F(e[1],t,n),F(e[2],t,n))}t.annotationIfExpression=R;function N(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let n=arguments.length>2?arguments[2]:undefined;switch(e.Function){case"odata.concat":return ee(...e.Apply.map(e=>{let i=e;if(e.hasOwnProperty("$Path")){i={type:"Path",path:e.$Path}}else if(e.hasOwnProperty("$If")){i={type:"If",If:e.$If}}else if(e.hasOwnProperty("$Apply")){i={type:"Apply",Function:e.$Function,Apply:e.$Apply}}return w(i,t,undefined,n)}))}return o}t.annotationApplyExpression=N;function $(e,t,n){const i=b(t);const a=b(n);if(r(i,a)){return o}if(P(i)&&P(a)){switch(e){case"!==":return h(i.value!==a.value);case"===":return h(i.value===a.value);case"<":return h(i.value<a.value);case"<=":return h(i.value<=a.value);case">":return h(i.value>a.value);case">=":return h(i.value>=a.value)}}else{return{_type:"Comparison",operator:e,operand1:i,operand2:a}}}function V(e){if(e._type==="Unresolvable"){return e}return{_type:"Length",pathInModel:e}}t.length=V;function L(e,t){const n=b(e);const i=b(t);if(r(n,i)){return o}if(s(n,i)){return h(true)}function a(e,t){if(e._type==="Comparison"&&E(t)){return e}else if(e._type==="Comparison"&&T(t)){return p(e)}else if(e._type==="IfElse"&&s(e.onTrue,t)){return d(e.condition,L(e.onFalse,t))}else if(e._type==="IfElse"&&s(e.onFalse,t)){return d(p(e.condition),L(e.onTrue,t))}else if(e._type==="IfElse"&&P(e.onTrue)&&P(e.onFalse)&&P(t)&&!s(e.onTrue,t)&&!s(e.onFalse,t)){return h(false)}return undefined}const l=a(n,i)??a(i,n);return l??$("===",n,i)}t.equal=L;function B(e,t){return p(L(e,t))}t.notEqual=B;function j(e,t){return $(">=",e,t)}t.greaterOrEqual=j;function k(e,t){return $(">",e,t)}t.greaterThan=k;function U(e,t){return $("<=",e,t)}t.lessOrEqual=U;function H(e,t){return $("<",e,t)}t.lessThan=H;function G(e,t,n){let i=b(e);let a=b(t);let l=b(n);if(r(i,a,l)){return o}if(i._type==="Not"){[a,l]=[l,a];i=p(i)}if(a._type==="IfElse"&&s(i,a.condition)){a=a.onTrue}if(l._type==="IfElse"&&s(i,l.condition)){l=l.onFalse}if(P(i)){return i.value?a:l}if(s(a,l)){return a}if(T(l)){return u(i,a)}if(E(l)){return d(p(i),a)}if(T(a)){return u(p(i),l)}if(E(a)){return d(i,l)}if(S(e)||S(t)||S(n)){let i=0;const o=W([e,t,n],"sap.fe.core.formatters.StandardFormatter#ifElse");const a=[];te(o,"PathInModel",e=>{a.push(e);return v(`$${i++}`,"$")},true);a.unshift(h(JSON.stringify(o)));return W(a,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}return{_type:"IfElse",condition:i,onTrue:a,onFalse:l}}t.ifElse=G;function z(e){switch(e._type){case"Constant":case"Formatter":case"ComplexType":return false;case"Set":return e.operands.some(z);case"PathInModel":return e.modelName===undefined;case"Comparison":return z(e.operand1)||z(e.operand2);case"IfElse":return z(e.condition)||z(e.onTrue)||z(e.onFalse);case"Not":case"Truthy":return z(e.operand);default:return false}}function W(e,t,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const a=e.map(b);if(r(...a)){return o}if(n){if(!a.some(z)){n.keys.forEach(e=>a.push(v(e.name,"")))}}let s="";if(typeof t==="string"){s=t}else{s=t.__functionName}const[l,c]=s.split("#");if(!i&&(a.some(S)||a.some(A))){let e=0;const t=W(a,s,undefined,true);const n=[];te(t,"PathInModel",t=>{n.push(t);return v(`$${e++}`,"$")});n.unshift(h(JSON.stringify(t)));return W(n,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}else if(!!c&&c.length>0){a.unshift(h(c))}return{_type:"Formatter",fn:l,parameters:a}}t.formatResult=W;function q(e,t){var n,i,o,a,r,s,l,c,u,d,p,f,g;const v={};if(e!==null&&e!==void 0&&(n=e.constraints)!==null&&n!==void 0&&n.$Scale&&t.scale!==undefined){v.scale=t.scale}if(e!==null&&e!==void 0&&(i=e.constraints)!==null&&i!==void 0&&i.$Precision&&t.precision!==undefined){v.precision=t.precision}if(e!==null&&e!==void 0&&(o=e.constraints)!==null&&o!==void 0&&o.$MaxLength&&t.maxLength!==undefined){v.maxLength=t.maxLength}if(t.nullable===false){v.nullable=false}if(e!==null&&e!==void 0&&(a=e.constraints)!==null&&a!==void 0&&a["@Org.OData.Validation.V1.Minimum/$Decimal"]&&!isNaN((r=t.annotations)===null||r===void 0?void 0:(s=r.Validation)===null||s===void 0?void 0:s.Minimum)){var h,m;v.minimum=`${(h=t.annotations)===null||h===void 0?void 0:(m=h.Validation)===null||m===void 0?void 0:m.Minimum}`}if(e!==null&&e!==void 0&&(l=e.constraints)!==null&&l!==void 0&&l["@Org.OData.Validation.V1.Maximum/$Decimal"]&&!isNaN((c=t.annotations)===null||c===void 0?void 0:(u=c.Validation)===null||u===void 0?void 0:u.Maximum)){var y,b;v.maximum=`${(y=t.annotations)===null||y===void 0?void 0:(b=y.Validation)===null||b===void 0?void 0:b.Maximum}`}if((d=t.annotations)!==null&&d!==void 0&&(p=d.Common)!==null&&p!==void 0&&p.IsDigitSequence&&e.type==="sap.ui.model.odata.type.String"&&e!==null&&e!==void 0&&(f=e.constraints)!==null&&f!==void 0&&f["@com.sap.vocabularies.Common.v1.IsDigitSequence"]){v.isDigitSequence=true}if(e!==null&&e!==void 0&&(g=e.constraints)!==null&&g!==void 0&&g.$V4){v.V4=true}return v}t.setUpConstraints=q;function K(e,t){var n;let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const a=t;if(e._type!=="Property"){return a}const r=i[e.type];if(!r){return a}if(!a.formatOptions){a.formatOptions={}}a.constraints={};a.type=r.type;if(!o){a.constraints=q(r,e)}if((a===null||a===void 0?void 0:(n=a.type)===null||n===void 0?void 0:n.indexOf("sap.ui.model.odata.type.Int"))===0&&(a===null||a===void 0?void 0:a.type)!=="sap.ui.model.odata.type.Int64"||(a===null||a===void 0?void 0:a.type)==="sap.ui.model.odata.type.Double"){a.formatOptions=Object.assign(a.formatOptions,{parseAsString:false})}if(a.type==="sap.ui.model.odata.type.String"){a.formatOptions.parseKeepsEmptyString=true;const t=Q(e);if(t){a.formatOptions.fiscalType=t;a.type="sap.fe.core.type.FiscalDate"}}if(a.type==="sap.ui.model.odata.type.Decimal"||(a===null||a===void 0?void 0:a.type)==="sap.ui.model.odata.type.Int64"){a.formatOptions=Object.assign(a.formatOptions,{emptyString:""})}return a}t.formatWithTypeInformation=K;const Q=function(e){var t,n,i,o,a,r,s,l,c,u,d,p,f,g,v,h;if((t=e.annotations)!==null&&t!==void 0&&(n=t.Common)!==null&&n!==void 0&&n.IsFiscalYear){return"com.sap.vocabularies.Common.v1.IsFiscalYear"}if((i=e.annotations)!==null&&i!==void 0&&(o=i.Common)!==null&&o!==void 0&&o.IsFiscalPeriod){return"com.sap.vocabularies.Common.v1.IsFiscalPeriod"}if((a=e.annotations)!==null&&a!==void 0&&(r=a.Common)!==null&&r!==void 0&&r.IsFiscalYearPeriod){return"com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"}if((s=e.annotations)!==null&&s!==void 0&&(l=s.Common)!==null&&l!==void 0&&l.IsFiscalQuarter){return"com.sap.vocabularies.Common.v1.IsFiscalQuarter"}if((c=e.annotations)!==null&&c!==void 0&&(u=c.Common)!==null&&u!==void 0&&u.IsFiscalYearQuarter){return"com.sap.vocabularies.Common.v1.IsFiscalYearQuarter"}if((d=e.annotations)!==null&&d!==void 0&&(p=d.Common)!==null&&p!==void 0&&p.IsFiscalWeek){return"com.sap.vocabularies.Common.v1.IsFiscalWeek"}if((f=e.annotations)!==null&&f!==void 0&&(g=f.Common)!==null&&g!==void 0&&g.IsFiscalYearWeek){return"com.sap.vocabularies.Common.v1.IsFiscalYearWeek"}if((v=e.annotations)!==null&&v!==void 0&&(h=v.Common)!==null&&h!==void 0&&h.IsDayOfFiscalYear){return"com.sap.vocabularies.Common.v1.IsDayOfFiscalYear"}};t.getFiscalType=Q;function Y(e,t,n,i){const a=e.map(b);if(r(...a)){return o}if(a.length===1&&P(a[0])&&!n){return a[0]}else if(n){if(!a.some(z)){n.keys.forEach(e=>a.push(v(e.name,"")))}}i=J(e[0],i);if(t==="sap.ui.model.odata.type.Unit"){const e=v("/##@@requestUnitsOfMeasure");e.targetType="any";e.mode="OneTime";a.push(e)}else if(t==="sap.ui.model.odata.type.Currency"){const e=v("/##@@requestCurrencyCodes");e.targetType="any";e.mode="OneTime";a.push(e)}return{_type:"ComplexType",type:t,formatOptions:i||{},parameters:{},bindingParameters:a}}t.addTypeInformation=Y;function J(e,t){var n,i;if(!(t&&t.showNumber===false)&&((e===null||e===void 0?void 0:(n=e.type)===null||n===void 0?void 0:n.indexOf("sap.ui.model.odata.type.Int"))===0||(e===null||e===void 0?void 0:e.type)==="sap.ui.model.odata.type.Decimal"||(e===null||e===void 0?void 0:e.type)==="sap.ui.model.odata.type.Double")){if((e===null||e===void 0?void 0:e.type)==="sap.ui.model.odata.type.Int64"||(e===null||e===void 0?void 0:e.type)==="sap.ui.model.odata.type.Decimal"){var o;t=((o=t)===null||o===void 0?void 0:o.showMeasure)===false?{emptyString:"",showMeasure:false}:{emptyString:""}}else{var a;t=((a=t)===null||a===void 0?void 0:a.showMeasure)===false?{parseAsString:false,showMeasure:false}:{parseAsString:false}}}if((e===null||e===void 0?void 0:(i=e.constraints)===null||i===void 0?void 0:i.nullable)!==false){var r;(r=t)===null||r===void 0?true:delete r.emptyString}return t}function X(e,t,n){const i=typeof e==="string"?e:e.__functionName;return{_type:"Function",obj:n!==undefined?b(n):undefined,fn:i,parameters:t.map(b)}}t.fn=X;function Z(e){const t=[];te(e,"PathInModel",e=>{t.push(d(L(e,""),L(e,undefined),L(e,null)));return e});return u(...t)}t.isEmpty=Z;function ee(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}const i=t.map(b);if(r(...i)){return o}if(i.every(P)){return h(i.reduce((e,t)=>{if(t.value!==undefined){return e+t.value.toString()}return e},""))}else if(i.some(S)){let e=0;const t=W(i,"sap.fe.core.formatters.StandardFormatter#concat",undefined,true);const n=[];te(t,"PathInModel",t=>{n.push(t);return v(`$${e++}`,"$")});n.unshift(h(JSON.stringify(t)));return W(n,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}return{_type:"Concat",expressions:i}}t.concat=ee;function te(e,t,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let o=e;switch(o._type){case"Function":case"Formatter":o.parameters=o.parameters.map(e=>te(e,t,n,i));break;case"Concat":o.expressions=o.expressions.map(e=>te(e,t,n,i));o=ee(...o.expressions);break;case"ComplexType":o.bindingParameters=o.bindingParameters.map(e=>te(e,t,n,i));break;case"IfElse":const e=te(o.onTrue,t,n,i);const a=te(o.onFalse,t,n,i);let r=o.condition;if(i){r=te(o.condition,t,n,i)}o=G(r,e,a);break;case"Not":if(i){const e=te(o.operand,t,n,i);o=p(e)}break;case"Truthy":break;case"Set":if(i){const e=o.operands.map(e=>te(e,t,n,i));o=o.operator==="||"?d(...e):u(...e)}break;case"Comparison":if(i){const e=te(o.operand1,t,n,i);const a=te(o.operand2,t,n,i);o=$(o.operator,e,a)}break;case"Ref":case"Length":case"PathInModel":case"Constant":case"EmbeddedBinding":case"EmbeddedExpressionBinding":case"Unresolvable":break}if(t===o._type){o=n(e)}return o}t.transformRecursively=te;const ne=function(e){return!P(e)&&!O(e)&&C(e)&&e._type!=="IfElse"&&e._type!=="Function"};function ie(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(t&&Object.keys(e.value).length===0){return""}const n=e.value;const i=[];Object.keys(n).forEach(e=>{const o=n[e];const a=le(o,true,false,t);if(a&&a.length>0){i.push(`${e}: ${a}`)}});return`{${i.join(", ")}}`}function oe(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(e.value===null){return i?null:"null"}if(e.value===undefined){return i?undefined:"undefined"}if(typeof e.value==="object"){if(Array.isArray(e.value)){const t=e.value.map(e=>le(e,true));return`[${t.join(", ")}]`}else{return ie(e,n)}}if(t){switch(typeof e.value){case"number":case"bigint":case"boolean":return e.value.toString();case"string":return`'${a(e.value.toString())}'`;default:return""}}else{return i?e.value:e.value.toString()}}t.compileConstant=oe;function ae(e,t,n){if(e.type||e.parameters||e.targetType||e.formatOptions||e.constraints){const i={path:fe(e),type:e.type,targetType:e.targetType,parameters:e.parameters,formatOptions:e.formatOptions,constraints:e.constraints};const o=le(i,false,false,true);if(t){return`${n}${o}`}return o}else if(t){return`${n}{${fe(e)}}`}else{return`{${fe(e)}}`}}function re(e){if(e.bindingParameters.length===1){return`{${de(e.bindingParameters[0],true)}, type: '${e.type}'}`}let t=`], type: '${e.type}'`;if(pe(e.formatOptions)){t+=`, formatOptions: ${le(e.formatOptions)}`}if(pe(e.parameters)){t+=`, parameters: ${le(e.parameters)}`}t+="}";return`{mode:'TwoWay', parts:[${e.bindingParameters.map(e=>de(e)).join(",")}${t}`}function se(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(t){if(n){return`(${e})`}else{return e}}else{return`{= ${e}}`}}t.wrapBindingExpression=se;function le(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const o=b(e);const a=n?"$":"%";switch(o._type){case"Unresolvable":return undefined;case"Constant":return oe(o,t,i);case"Ref":return o.ref||"null";case"Function":const e=`${o.parameters.map(e=>le(e,true)).join(", ")}`;return o.obj===undefined?`${o.fn}(${e})`:`${le(o.obj,true)}.${o.fn}(${e})`;case"EmbeddedExpressionBinding":return t?`(${o.value.substring(2,o.value.length-1)})`:`${o.value}`;case"EmbeddedBinding":return t?`${a}${o.value}`:`${o.value}`;case"PathInModel":return ae(o,t,a);case"Comparison":const n=ce(o);return se(n,t);case"IfElse":const r=`${le(o.condition,true)} ? ${le(o.onTrue,true)} : ${le(o.onFalse,true)}`;return se(r,t,true);case"Set":const s=o.operands.map(e=>le(e,true)).join(` ${o.operator} `);return se(s,t,true);case"Concat":const l=o.expressions.map(e=>le(e,true,true)).join(" + ");return se(l,t);case"Length":const c=`${le(o.pathInModel,true)}.length`;return se(c,t);case"Not":const u=`!${le(o.operand,true)}`;return se(u,t);case"Truthy":const d=`!!${le(o.operand,true)}`;return se(d,t);case"Formatter":const p=ue(o);return t?`$${p}`:p;case"ComplexType":const f=re(o);return t?`$${f}`:f;default:return""}}t.compileExpression=le;function ce(e){function t(e){const t=le(e,true)??"undefined";return se(t,true,ne(e))}return`${t(e.operand1)} ${e.operator} ${t(e.operand2)}`}function ue(e){if(e.parameters.length===1){return`{${de(e.parameters[0],true)}, formatter: '${e.fn}'}`}else{const t=e.parameters.map(e=>{if(e._type==="ComplexType"){return re(e)}else{return de(e)}});return`{parts: [${t.join(", ")}], formatter: '${e.fn}'}`}}function de(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n="";if(e._type==="Constant"){if(e.value===undefined){n=`value: 'undefined'`}else{n=`value: ${oe(e,true)}`}}else if(e._type==="PathInModel"){n=`path: '${fe(e)}'`;n+=e.type?`, type: '${e.type}'`:`, targetType: 'any'`;if(pe(e.mode)){n+=`, mode: '${le(e.mode)}'`}if(pe(e.constraints)){n+=`, constraints: ${le(e.constraints)}`}if(pe(e.formatOptions)){n+=`, formatOptions: ${le(e.formatOptions)}`}if(pe(e.parameters)){n+=`, parameters: ${le(e.parameters)}`}}else{return""}return t?n:`{${n}}`}function pe(e){return e&&Object.keys(e).length>0}function fe(e){return`${e.modelName?`${e.modelName}>`:""}${e.path}`}return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/ClassSupport",["sap/base/util/merge","sap/base/util/ObjectPath","sap/base/util/uid","sap/ui/base/Metadata","sap/ui/core/mvc/ControllerMetadata"],function(e,t,n,i,o){"use strict";var a={};const r=function(t){t.metadata=e({controllerExtensions:{},properties:{},aggregations:{},associations:{},methods:{},events:{},interfaces:[]},t.metadata||{});return t.metadata};function s(e){return function(t,n){if(!t.override){t.override={}}let i=t.override;if(e){if(!i.extension){i.extension={}}if(!i.extension[e]){i.extension[e]={}}i=i.extension[e]}i[n.toString()]=t[n.toString()]}}a.methodOverride=s;function l(e){return function(t,n){const i=r(t);if(!i.methods[n.toString()]){i.methods[n.toString()]={}}i.methods[n.toString()].overrideExecution=e}}a.extensible=l;function c(){return function(e,t,n){const i=r(e);n.enumerable=true;if(!i.methods[t.toString()]){i.methods[t.toString()]={}}i.methods[t.toString()].public=true}}a.publicExtension=c;function u(){return function(e,t,n){const i=r(e);n.enumerable=true;if(!i.methods[t.toString()]){i.methods[t.toString()]={}}i.methods[t.toString()].public=false}}a.privateExtension=u;function d(){return function(e,t,n){const i=r(e);n.enumerable=true;if(!i.methods[t.toString()]){i.methods[t.toString()]={}}i.methods[t.toString()].final=true}}a.finalExtension=d;function p(e){return function(t,n,i){const o=r(t);delete i.initializer;o.controllerExtensions[n.toString()]=e;return i}}a.usingExtension=p;function f(){return function(e,t){const n=r(e);if(!n.events[t.toString()]){n.events[t.toString()]={}}}}a.event=f;function g(e){return function(t,n,i){const o=r(t);if(!o.properties[n]){o.properties[n]=e}delete i.writable;delete i.initializer;return i}}a.property=g;function v(e){return function(t,n,i){const o=r(t);if(e.multiple===undefined){e.multiple=false}if(!o.aggregations[n]){o.aggregations[n]=e}if(e.isDefault){o.defaultAggregation=n}delete i.writable;delete i.initializer;return i}}a.aggregation=v;function h(e){return function(t,n,i){const o=r(t);if(!o.associations[n]){o.associations[n]=e}delete i.writable;delete i.initializer;return i}}a.association=h;function m(e){return function(t){const n=r(t);n.interfaces.push(e)}}a.implementInterface=m;function y(){return function(e,t){const n=e.constructor;n[t.toString()]=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++){i[o]=arguments[o]}if(i&&i.length){const e=n.getAPI(i[0]);e===null||e===void 0?void 0:e[t.toString()](...i)}}}}a.xmlEventHandler=y;function b(e,t){return function(n){if(!n.prototype.metadata){n.prototype.metadata={}}if(t){for(const e in t){n.prototype.metadata[e]=t[e]}}return E(n,e,n.prototype)}}a.defineUI5Class=b;function C(){return{current:undefined,setCurrent:function(e){this.current=e}}}a.createReference=C;function P(){return function(e,t,n){delete n.writable;delete n.initializer;n.initializer=C;return n}}a.defineReference=P;function E(e,a,r){var s,l,c,u;if(e.getMetadata&&e.getMetadata().isA("sap.ui.core.mvc.ControllerExtension")){Object.getOwnPropertyNames(r).forEach(e=>{const t=Object.getOwnPropertyDescriptor(r,e);if(t&&!t.enumerable){t.enumerable=true}})}const d={};d.metadata=r.metadata||{};d.override=r.override;d.constructor=e;d.metadata.baseType=Object.getPrototypeOf(e.prototype).getMetadata().getName();if((e===null||e===void 0?void 0:(s=e.getMetadata())===null||s===void 0?void 0:s.getStereotype())==="control"){const t=r.renderer||e.renderer||e.render;d.renderer={apiVersion:2};if(typeof t==="function"){d.renderer.render=t}else if(t!=undefined){d.renderer=t}}d.metadata.interfaces=((l=r.metadata)===null||l===void 0?void 0:l.interfaces)||((c=e.metadata)===null||c===void 0?void 0:c.interfaces);Object.keys(e.prototype).forEach(t=>{if(t!=="metadata"){try{d[t]=e.prototype[t]}catch(e){}}});if((u=d.metadata)!==null&&u!==void 0&&u.controllerExtensions&&Object.keys(d.metadata.controllerExtensions).length>0){for(const e in d.metadata.controllerExtensions){d[e]=d.metadata.controllerExtensions[e]}}const p=e.extend(a,d);const f=p.prototype.init;p.prototype.init=function(){if(f){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}f.apply(this,t)}this.metadata=d.metadata;if(d.metadata.properties){const e=Object.keys(d.metadata.properties);e.forEach(e=>{Object.defineProperty(this,e,{configurable:true,set:t=>this.setProperty(e,t),get:()=>this.getProperty(e)})});const t=Object.keys(d.metadata.aggregations);t.forEach(e=>{Object.defineProperty(this,e,{configurable:true,set:t=>this.setAggregation(e,t),get:()=>{const t=this.getAggregation(e);if(d.metadata.aggregations[e].multiple){return t||[]}else{return t}}})});const n=Object.keys(d.metadata.associations);n.forEach(e=>{Object.defineProperty(this,e,{configurable:true,set:t=>this.setAssociation(e,t),get:()=>{const t=this.getAssociation(e);if(d.metadata.associations[e].multiple){return t||[]}else{return t}}})})}};e.override=function(t){const a={};a.constructor=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++){n[i]=arguments[i]}return e.apply(this,n)};const r=i.createClass(e,`anonymousExtension~${n()}`,a,o);r.getMetadata()._staticOverride=t;r.getMetadata()._override=e.getMetadata()._override;return r};t.set(a,p);return p}return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/DeleteHelper",["sap/base/Log","sap/fe/core/controllerextensions/editFlow/draft","sap/m/CheckBox","sap/m/MessageToast","sap/m/Text"],function(e,t,n,i,o){"use strict";var a={};let r;(function(e){e["deletableContexts"]="deletableContexts";e["draftsWithDeletableActive"]="draftsWithDeletableActive";e["createModeContexts"]="createModeContexts";e["unSavedContexts"]="unSavedContexts";e["draftsWithNonDeletableActive"]="draftsWithNonDeletableActive";e["draftsToDeleteBeforeActive"]="draftsToDeleteBeforeActive"})(r||(r={}));a.DeleteOptionTypes=r;let s;(function(e){e["CHECKBOX"]="checkBox";e["TEXT"]="text"})(s||(s={}));a.DeleteDialogContentControl=s;function l(e,t,n,i){i.forEach(e=>{const t=n.indexOf(e);if(t!==-1){n.splice(t,1)}});e.setProperty(t,[]);return[...n]}function c(e,t){let n=e.getProperty("selectedContexts")||[];if(t.type===r.deletableContexts){n=l(e,r.deletableContexts,n,e.getProperty(r.deletableContexts)||[]);n=l(e,r.createModeContexts,n,e.getProperty(r.createModeContexts)||[]);const t=e.getProperty(r.draftsWithDeletableActive)||[];const i=t.map(e=>e.draft);n=l(e,r.draftsWithDeletableActive,n,i)}else{const i=e.getProperty(t.type)||[];n=l(e,t.type,n,i)}e.setProperty("selectedContexts",n);e.setProperty("numberOfSelectedContexts",n.length)}function u(e,t,n,o){const{internalModelContext:a,entitySetName:r}=e;if(a){if(a.getProperty("deleteEnabled")!=undefined){t.forEach(e=>{if(e.selected){c(a,e)}})}a.setProperty("deleteEnabled",t.some(e=>!e.selected))}if(n.length===1){i.show(o.getText("C_TRANSACTION_HELPER_DELETE_TOAST_SINGULAR",undefined,r))}else{i.show(o.getText("C_TRANSACTION_HELPER_DELETE_TOAST_PLURAL",undefined,r))}}function d(e){const t=e.getObject()["DraftAdministrativeData"];return t&&t["InProcessByUser"]||""}function p(e,t,n){let i="";if(t===1&&n.length===1){const t=d(n[0]);i=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_SINGLE_OBJECT_LOCKED",[t])}else if(n.length==1){const o=d(n[0]);i=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_ONE_OBJECT_LOCKED",[t,o])}else if(n.length>1){i=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_LOCKED",[n.length,t])}return i}function f(e,t,n){let i="";if(n===t){if(t===1){i=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_ONLY_DRAFT_OF_NON_DELETABLE_ACTIVE")}else{i=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_ONLY_DRAFTS_OF_NON_DELETABLE_ACTIVE")}}else if(t===1){i=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_DRAFT_OF_NON_DELETABLE_ACTIVE")}else{i=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_DRAFTS_OF_NON_DELETABLE_ACTIVE")}return i}function g(e){const t=e.getObject()["DraftAdministrativeData"];let n="";if(t){n=t["LastChangedByUserDescription"]||t["LastChangedByUser"]||""}return n}function v(e,t,n,i){let o="",a="",r=false;if(t===1&&n.length===1){const t=g(n[0]);o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_CHANGES",[t]);r=true}else if(t===n.length){o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_CHANGES_MULTIPLE_OBJECTS");r=true}else if(i===n.length){if(n.length===1){const t=g(n[0]);o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_AND_FEW_OBJECTS_LOCKED_SINGULAR",[t])}else{o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_AND_FEW_OBJECTS_LOCKED_PLURAL")}r=true}else if(i>n.length){if(n.length===1){const t=g(n[0]);a=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_UNSAVED_SINGULAR",[t])}else{a=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_UNSAVED_PLURAL")}}return{infoTxt:o,optionTxt:a,optionWithoutTxt:r}}function h(e,t,n){const{numberOfSelectedContexts:i,lockedContexts:a=[],draftsWithNonDeletableActive:r=[]}=e;const s=i-(a.length+t-r.length);let l="";if(s>0&&(t===0||r.length===t)){if(a.length>0){if(s===1){l=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_ALL_REMAINING_NON_DELETABLE_SINGULAR")}else{l=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_ALL_REMAINING_NON_DELETABLE_PLURAL")}}else if(s===1){l=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_SINGLE_AND_ONE_OBJECT_NON_DELETABLE")}else{l=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_MULTIPLE_AND_ALL_OBJECT_NON_DELETABLE")}}else if(s===1){l=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_ONE_OBJECT_NON_DELETABLE",[i])}else if(s>1){l=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_NON_DELETABLE",[s,i])}return l?new o({text:l}):undefined}function m(e,t){return t.reduce((e,t)=>t.selected&&t.type!==r.draftsToDeleteBeforeActive?e.concat(t.contexts):e,e)}function y(e){const t=[];return e.reduce((e,t)=>t.selected&&t.type===r.draftsToDeleteBeforeActive?e.concat(t.contexts):e,t)}function b(e,t,n,i,a,l){const{numberOfSelectedContexts:c,draftsWithDeletableActive:u,unSavedContexts:d,createModeContexts:p,lockedContexts:f,draftsWithNonDeletableActive:g}=e;let v="";if(u.length>0){const e=[];u.forEach(n=>{if(n.draft.getProperty("DraftAdministrativeData/InProcessByUser")){e.push(n.draft)}t.push(n.siblingInfo.targetContext)});if(e.length>0){l.push({type:r.draftsToDeleteBeforeActive,contexts:e,selected:true})}}if(p.length>0){p.forEach(e=>t.push(e))}if(f.length>0){v=O.getLockedObjectsText(i,c,f)||"";a.push(new o({text:v}))}const h=c!=n-g.length+f.length;const m=h&&O.getNonDeletableText(e,n,i);if(m){a.push(m)}if(d.length>0){const e=O.getUnsavedContextsText(i,c,d,n)||{};if(e.infoTxt){a.push(new o({text:e.infoTxt}))}if(e.optionTxt||e.optionWithoutTxt){l.push({type:r.unSavedContexts,contexts:d,text:e.optionTxt,selected:true,control:s.CHECKBOX})}}if(g.length>0){const e=O.getNonDeletableActivesOfDraftsText(i,g.length,n)||"";if(e){l.push({type:r.draftsWithNonDeletableActive,contexts:g,text:e,selected:true,control:n>0?s.CHECKBOX:s.TEXT})}}}function C(e,t){if(e.length===1){const n=e[0];if(n.text){t.push(new o({text:n.text}))}}else if(e.length>1){e.forEach(e=>{if(e.control==="text"&&e.text){t.push(new o({text:e.text}))}});e.forEach(e=>{if(e.control==="checkBox"&&e.text){t.push(new n({text:e.text,selected:true,select:function(t){const n=t.getSource();const i=n.getSelected();e.selected=i}}))}})}}function P(e,t,n,i){const{numberOfSelectedContexts:o,entitySetName:a,parentControl:l,description:c,lockedContexts:u,draftsWithNonDeletableActive:d,unSavedContexts:p}=e;const f=t.length+d.length+p.length;const g=o-(u.length+f-d.length);if(o===1&&o===t.length){const e=t[0].getObject();const o=l;const u=o&&o.getParent().getIdentifierColumn();let d;let p=[];if(u){const t=u?e[u]:undefined;const i=c&&c.path?e[c.path]:undefined;if(t){if(i&&c&&u!==c.path){p=[t+" ",i]}else{p=[t,""]}d=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO",p,a)}else{d=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",undefined,a)}}else{d=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",undefined,a)}i.push({type:r.deletableContexts,contexts:t,text:d,selected:true,control:s.TEXT})}else if(p.length!==f&&o>0&&(t.length>0||p.length>0&&d.length>0)){if(o>t.length&&g+u.length>0){let e="";if(f===1){e=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR_NON_DELETABLE",undefined,a)}else{e=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_PLURAL_NON_DELETABLE",undefined,a)}i.unshift({type:r.deletableContexts,contexts:t,text:e,selected:true,control:s.TEXT})}else{const e=f===1?n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",undefined,a):n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_PLURAL",undefined,a);i.push({type:r.deletableContexts,contexts:t,text:e,selected:true,control:s.TEXT})}}}async function E(n,i,o,a,r,s){try{const l=O.getConfirmedDeletableContext([],n);const c=y(n);const{beforeDeleteCallBack:u,parentControl:d}=i;if(u){await u({contexts:l})}if(l&&l.length){try{const o=l.length===1?true:false;const u=[];await Promise.allSettled(c.map(function(n){try{return t.deleteDraft(n,r,o)}catch(t){e.error(`FE : core : DeleteHelper : Error while discrding draft with path : ${n.getPath()}`);u.push(t)}}));await Promise.all(l.map(function(e){if(s&&!e.getProperty("IsActiveEntity")){return t.deleteDraft(e,r,o)}return e.delete()}));O.afterDeleteProcess(i,n,l,a);if(u.length>0){throw Error(`FE : core : DeleteHelper : Errors on draft delete : ${u}`)}}catch(e){await o.showMessageDialog({control:d});throw e}}}catch(e){await o.showMessages();throw e}}async function T(e,n){const i=n.map(e=>{const n=e.getModel().getMetaModel().getMetaContext(e.getCanonicalPath());const i=n.getProperty("@Org.OData.Capabilities.V1.DeleteRestrictions/Deletable/$Path");const o=!i&&n.getProperty("@Org.OData.Capabilities.V1.DeleteRestrictions/Deletable")!==false;const a={context:e,isDraftRoot:!!n.getProperty("@com.sap.vocabularies.Common.v1.DraftRoot"),isDraftNode:!!n.getProperty("@com.sap.vocabularies.Common.v1.DraftNode"),isActive:true,hasActive:false,hasDraft:false,locked:false,deletable:i?e.getProperty(i):o,siblingPromise:Promise.resolve(undefined),siblingInfo:undefined,siblingDeletable:false};if(a.isDraftRoot){var r;a.locked=!!((r=e.getObject("DraftAdministrativeData"))!==null&&r!==void 0&&r.InProcessByUser);a.hasDraft=e.getProperty("HasDraftEntity")}if(a.isDraftRoot){a.isActive=e.getProperty("IsActiveEntity");a.hasActive=e.getProperty("HasActiveEntity");if(!a.isActive&&a.hasActive){a.siblingPromise=t.computeSiblingInformation(e,e).then(async e=>{a.siblingInfo=e;if(i){var t;a.siblingDeletable=await(e===null||e===void 0?void 0:(t=e.targetContext)===null||t===void 0?void 0:t.requestProperty(i))}else{a.siblingDeletable=o}})}}return a});await Promise.all(i.map(e=>e.siblingPromise));const o=[{key:"draftsWithDeletableActive",value:i.filter(e=>e.isDraftRoot&&!e.isActive&&e.hasActive&&e.siblingDeletable)},{key:"draftsWithNonDeletableActive",value:i.filter(e=>e.isDraftRoot&&!e.isActive&&e.hasActive&&!e.siblingDeletable)},{key:"lockedContexts",value:i.filter(e=>e.isDraftRoot&&e.isActive&&e.hasDraft&&e.locked)},{key:"unSavedContexts",value:i.filter(e=>e.isDraftRoot&&e.isActive&&e.hasDraft&&!e.locked)},{key:"deletableContexts",value:i.filter(e=>!e.isDraftRoot&&!e.isDraftNode&&e.deletable||e.isDraftRoot&&e.isActive&&!e.hasDraft&&e.deletable||e.isDraftRoot&&!e.isActive&&!e.hasActive||e.isDraftNode&&e.deletable)}];for(const{key:t,value:n}of o){e.setProperty(t,n.map(e=>t==="draftsWithDeletableActive"?{draft:e.context,siblingInfo:e.siblingInfo}:e.context))}}const O={getNonDeletableText:h,deleteConfirmHandler:E,updateOptionsForDeletableTexts:P,updateContentForDeleteDialog:C,updateDraftOptionsForDeletableTexts:b,getConfirmedDeletableContext:m,getLockedObjectsText:p,getUnsavedContextsText:v,getNonDeletableActivesOfDraftsText:f,afterDeleteProcess:u,updateDeleteInfoForSelectedContexts:T};return O},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/DynamicAnnotationPathHelper",["sap/ui/base/BindingParser"],function(e){"use strict";var t={};function n(e,t){if(!e){return null}const i=t.split("/");if(i.length===1){return e[t]}else{return n(e[i[0]],i.splice(1).join("/"))}}function i(t,o){if(t.indexOf("[")!==-1){const a=t.indexOf("[");const r=t.substr(0,a);const s=t.substr(a+1);const l=s.indexOf("]");const c=o.getObject(r);const u=e.parseExpression(s.substr(0,l));if(Array.isArray(c)&&u&&u.result&&u.result.parts&&u.result.parts[0]&&u.result.parts[0].path){let e;let a=false;for(e=0;e<c.length&&!a;e++){const t=n(c[e],u.result.parts[0].path);const i=u.result.formatter(t);if(i){a=true}}if(a){t=i(r+(e-1)+s.substr(l+1),o)}}}return t}t.resolveDynamicExpression=i;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/EditState",[],function(){"use strict";const e={CLEAN:0,PROCESSED:1,DIRTY:2};let t=e.CLEAN;return{setEditStateDirty:function(){t=e.DIRTY},setEditStateProcessed:function(){t=e.PROCESSED},resetEditState:function(){t=e.CLEAN},isEditStateDirty:function(){return t!==e.CLEAN},cleanProcessedEditState:function(){if(t===e.PROCESSED){t=e.CLEAN}}}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/ExcelFormatHelper",["sap/ui/core/format/DateFormat"],function(e){"use strict";const t={getExcelDatefromJSDate:function(){let t=e.getDateInstance().oFormatOptions.pattern.toLowerCase();if(t){const e=/^[^y]*y[^y]*$/m;if(e.exec(t)){t=t.replace("y","yyyy")}}return t},getExcelDateTimefromJSDateTime:function(){let t=e.getDateTimeInstance().oFormatOptions.pattern.toLowerCase();if(t){const e=/^[^y]*y[^y]*$/m;if(e.exec(t)){t=t.replace("y","yyyy")}if(t.includes("a")){t=t.replace("a","AM/PM")}}return t},getExcelTimefromJSTime:function(){let t=e.getTimeInstance().oFormatOptions.pattern;if(t&&t.includes("a")){t=t.replace("a","AM/PM")}return t}};return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/FPMHelper",["sap/base/util/ObjectPath","sap/fe/core/CommonUtils"],function(e,t){"use strict";const n={actionWrapper:function(n,i,o,a){return new Promise(function(r){const s=n.getSource?n.getSource():n.oSource,l=t.getTargetView(s),c=s.getBindingContext();let u;let d;if(a!==undefined){d=a.contexts||[]}else if(c!==undefined){d=[c]}else{d=[]}if(l.getControllerName()==="sap.fe.templates.ObjectPage.ObjectPageController"||l.getControllerName()==="sap.fe.templates.ListReport.ListReportController"){u=l.getController().getExtensionAPI()}if(i.startsWith("/extension/")){const t=e.get(i.replace(/\//g,".").substr(1),u);r(t[o](c,d))}else{sap.ui.require([i],function(e){r(e[o].bind(u)(c,d))})}})},validationWrapper:function(e,t,n,i,o){return new Promise(function(a){let r;if(i.getControllerName()==="sap.fe.templates.ObjectPage.ObjectPageController"||i.getControllerName()==="sap.fe.templates.ListReport.ListReportController"){r=i.getController().getExtensionAPI()}sap.ui.require([e],function(e){a(e[t].bind(r)(o,n))})})}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/KeepAliveHelper",["sap/base/Log","sap/fe/core/helpers/KeepAliveRefreshTypes","./ModelHelper"],function(e,t,n){"use strict";var i=t.RefreshStrategyType;var o=t.PATH_TO_STORE;const a=function(e,t){const i=n.getEntitySetPath(t);const o=i.indexOf("$NavigationPropertyBinding")>-1&&e.getObject(i);return o?`/${o}`:t};const r=function(e,t,n){return e===t||n===i.IncludingDependents&&e.startsWith(t)};const s=function(e,t,n,i){let o=t.startsWith("/")?t:`/${t}`,s=n.startsWith("/")?n:`/${n}`;if(!r(o,s,i)){o=a(e,o);if(!r(o,s,i)){s=a(e,s)}else{return true}}return r(o,s,i)};const l=function(e,t){const n=[];const i=e.getModel().getMetaModel();const a=e.getModel("internal");const r=a.getProperty(o)||{};if(t){t.forEach(function(e){const t=e.data("targetCollectionPath");for(const o in r){const a=r[o];if(n.indexOf(e)===-1&&s(i,t,o,a)){n.push(e)}}})}return n};const c=function(e,t){const n=e.getModel().getMetaModel();const i=e.getModel("internal");const a=i.getProperty(o)||{};let r;if(t){for(const e in a){const i=a[e];if(s(n,t,e,i)){r=i;if(r==="includingDependents"){break}}}}return r};const u=function(e){const t=e.getViewData(),n=t&&((t===null||t===void 0?void 0:t.contextPath)||`/${t===null||t===void 0?void 0:t.entitySet}`);return g.getControlRefreshStrategyForContextPath(e,n)};const d=function(e,t,n){const i=t&&n&&`${t}-${n}`;const o=e.intents;const a=o&&i&&o[i];const r=!a&&o&&t&&o[t];return a||r||(e===null||e===void 0?void 0:e.defaultBehavior)||(e===null||e===void 0?void 0:e._feDefault)};const p=function(e,t){if(e&&e.getModel("viewData")&&e.getModel("internal")){const n=e.getModel("viewData");const i=n.getProperty(o);if(i){const n=e.getModel("internal");const a=g.getRefreshStrategyForIntent(i,t===null||t===void 0?void 0:t.semanticObject,t===null||t===void 0?void 0:t.action);n.setProperty(o,a)}}};const f=function(t){const n=t.getBindingContext("internal");const i=t.getController();const o=i===null||i===void 0?void 0:i.viewState;let a=Promise.resolve();if(n&&n.getProperty("restoreStatus")==="pending"){if(o.refreshViewBindings){a=o.refreshViewBindings();a.then(function(){e.info(`FE V4: Refresh was triggered successfull: ${t.getId()}`)}).catch(function(n){e.warning(`FE V4: Refresh was unsuccessfull: ${t.getId()}`,n)})}a=a.then(function(){o.onRestore();n.setProperty("restoreStatus","done")}).catch(function(n){e.warning(`FE V4: Restore was unsuccessfull: ${t.getId()}`,n)})}return a};const g={getControlsForRefresh:l,getControlRefreshStrategyForContextPath:c,getViewRefreshInfo:u,getRefreshStrategyForIntent:d,storeControlRefreshStrategyForHash:p,restoreView:f};return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/KeepAliveRefreshTypes",[],function(){"use strict";var e={};let t;(function(e){e["Self"]="self";e["IncludingDependents"]="includingDependents"})(t||(t={}));e.RefreshStrategyType=t;const n="/refreshStrategyOnAppRestore";e.PATH_TO_STORE=n;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/LoaderUtils",[],function(){"use strict";var e={};async function t(e){let t;const n=new Promise(e=>{t=e});if(e.length>0){sap.ui.require(e,function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++){n[i]=arguments[i]}t(n)})}else{t([])}return n}e.requireDependencies=t;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/MassEditHelper",["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/library","sap/fe/core/TemplateModel","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/macros/field/FieldTemplating","sap/fe/macros/table/TableHelper","sap/m/Button","sap/m/Dialog","sap/m/MessageToast","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/mdc/enum/EditMode","sap/ui/model/json/JSONModel","../controllerextensions/messageHandler/messageHandling","../controls/Any","../converters/MetaModelConverter","../templating/FieldControlHelper","../templating/UIFormatters"],function(e,t,n,i,o,a,r,s,l,c,u,d,p,f,g,v,h,m,y,b,C,P,E,T){"use strict";var O=T.isMultiValueField;var S=T.getRequiredExpression;var A=T.getEditMode;var I=E.isReadOnlyExpression;var D=P.getInvolvedDataModelObjects;var x=P.convertMetaModelContext;var M=l.setEditStyleProperties;var _=l.getTextBinding;var w=s.hasValueHelpWithFixedValues;var F=s.hasValueHelp;var R=s.hasUnit;var N=s.hasCurrency;var $=s.getAssociatedUnitPropertyPath;var V=s.getAssociatedUnitProperty;var L=r.getRelativePaths;var B=r.enhanceDataModelPath;var j=i.isProperty;var k=n.pathInModel;var U=n.or;var H=n.not;var G=n.ifElse;var z=n.constant;var W=n.compileExpression;const q={initLastLevelOfPropertyPath:function(e,t){let n;let i=0;const o=e.split("/");let a="";o.forEach(function(o){if(!t[o]&&i===0){t[o]={};n=t[o];a=a+o;i++}else if(!n[o]){a=`${a}/${o}`;if(a!==e){n[o]={};n=n[o]}else{n[o]=[]}}});return n},getUniqueValues:function(e,t,n){return e!=undefined&&e!=null?n.indexOf(e)===t:undefined},getValueForMultiLevelPath:function(e,t){let n;if(e&&e.indexOf("/")>0){const i=e.split("/");i.forEach(function(e){n=t&&t[e]?t[e]:n&&n[e]})}return n},getDefaultSelectionPathComboBox:function(e,t){let n;if(t&&e.length>0){const i=e,o=[];i.forEach(function(e){const n=e.getObject();const i=t.indexOf("/")>-1&&n.hasOwnProperty(t.split("/")[0]);if(e&&(n.hasOwnProperty(t)||i)){o.push(e.getObject(t))}});const a=o.filter(q.getUniqueValues);if(a.length>1){n=`Default/${t}`}else if(a.length===0){n=`Empty/${t}`}else if(a.length===1){n=`${t}/${a[0]}`}}return n},getHiddenValueForContexts:function(e,t){if(e&&e.$Path){return!t.some(function(t){return t.getObject(e.$Path)===false})}return e},getInputType:function(e,t,n){const i={};let o;if(e){M(i,t,n,true);o=(i===null||i===void 0?void 0:i.editStyle)||""}const a=o&&["DatePicker","TimePicker","DateTimePicker","RatingIndicator"].indexOf(o)===-1&&!O(n)&&!w(e);return(a||"")&&o},getIsFieldGrp:function(e){return e&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&e.Target&&e.Target.value&&e.Target.value.indexOf("FieldGroup")>-1},getTextPath:function(e,t,n){let i;if(t&&(t.path||t.parameters&&t.parameters.length)&&e){if(t.path&&n==="Description"){i=t.path}else if(t.parameters){t.parameters.forEach(function(t){if(t.path&&t.path!==e){i=t.path}})}}return i},prepareDataForDialog:function(e,n,i){const o=e&&e.getModel().getMetaModel(),a=e.data("metaPath"),r=q.getTableFields(e),s=o.getContext(`${a}/@`),l=o.getContext(a),c=D(s);const u=new y;let d;let p;let f;let g;let v;let h;r.forEach(function(e){const r=e.dataProperty;if(r){var s,u,y,b,C,P,E,T,O;let M=r&&o.getObject(`${a}/${r}@`);p=e.label||M&&M["@com.sap.vocabularies.Common.v1.Label"]||r;if(c){c.targetObject=c.targetEntityType.entityProperties.filter(function(e){return e.name===r})}c.targetObject=c.targetObject[0]||{};h=_(c,{},true)||{};const w=o.getContext(e.annotationPath),k=x(w),U=o.getContext(`${a}/${r}@`),H=U&&U.getInterface();let G=D(w,l);if((k===null||k===void 0?void 0:(s=k.Value)===null||s===void 0?void 0:(u=s.path)===null||u===void 0?void 0:u.length)>0){G=B(G,r)}const W=q.getHiddenValueForContexts(w&&w.getObject()["@com.sap.vocabularies.UI.v1.Hidden"],n)||false;const K=M&&M["@com.sap.vocabularies.UI.v1.IsImageURL"];H.context={getModel:function(){return H.getModel()},getPath:function(){return`${a}/${r}`}};M=j(k)?k:(k===null||k===void 0?void 0:(y=k.Value)===null||y===void 0?void 0:y.$target)??(k===null||k===void 0?void 0:(b=k.Target)===null||b===void 0?void 0:b.$target);const Q=M&&M.term&&M.term==="com.sap.vocabularies.UI.v1.Chart";const Y=!!k.Action;const J=q.getIsFieldGrp(k);if(K||W||Q||Y||J){return}g=(N(M)||R(M))&&$(M)||"";const X=g&&V(M);f=F(M);v=X&&F(X);const Z=(f||v)&&(((C=M)===null||C===void 0?void 0:(P=C.annotations)===null||P===void 0?void 0:(E=P.Common)===null||E===void 0?void 0:E.ValueListRelevantQualifiers)||X&&(X===null||X===void 0?void 0:(T=X.annotations)===null||T===void 0?void 0:(O=T.Common)===null||O===void 0?void 0:O.ValueListRelevantQualifiers));if(Z){return}const ee=M&&M.Value?M.Value:M;const te=A(ee,G,false,false,k,z(true));const ne=Object.keys(m);const ie=!!te&&ne.includes(te);const oe=!!te&&(ie&&te===m.Editable||!ie);const ae=r.includes("/")&&f;if(!oe||ae){return}const re=q.getInputType(M,k,G);if(re){const e=L(G);const o=I(M,e);const s=t.computeDisplayMode(U.getObject());const l=f?f:false;const c=v&&!g.includes("/")?v:false;const u=g&&!r.includes("/")?g:false;d={label:p,dataProperty:r,isValueHelpEnabled:f?f:false,unitProperty:u,isFieldRequired:S(M,k,true,false,{},G),defaultSelectionPath:r?q.getDefaultSelectionPathComboBox(n,r):false,defaultSelectionUnitPath:g?q.getDefaultSelectionPathComboBox(n,g):false,entitySet:a,display:s,descriptionPath:q.getTextPath(r,h,s),nullable:M.nullable!==undefined?M.nullable:true,isPropertyReadOnly:o!==undefined?o:false,inputType:re,editMode:oe?te:undefined,propertyInfo:{hasVH:l,runtimePath:"fieldsInfo>/values/",relativePath:r,propertyFullyQualifiedName:M.fullyQualifiedName,propertyPathForValueHelp:`${a}/${r}`},unitInfo:u&&{hasVH:c,runtimePath:"fieldsInfo>/unitData/",relativePath:u,propertyPathForValueHelp:`${a}/${u}`}};i.push(d)}}});u.setData(i);return u},getTableFields:function(e){const t=e&&e.getColumns()||[];const n=e&&e.getParent().getTableDefinition().columns;return t.map(function(e){const t=e&&e.getDataProperty(),i=n&&n.filter(function(e){return e.name===t&&e.type==="Annotation"});return{dataProperty:t,label:e.getHeader(),annotationPath:i&&i[0]&&i[0].annotationPath}})},getDefaultTextsForDialog:function(e,t,n){const i=n.data("displayModePropertyBinding")==="true";return{keepExistingPrefix:"< Keep",leaveBlankValue:"< Leave Blank >",clearFieldValue:"< Clear Values >",massEditTitle:e.getText("C_MASS_EDIT_DIALOG_TITLE",t.toString()),applyButtonText:i?e.getText("C_MASS_EDIT_SAVE_BUTTON_TEXT"):e.getText("C_MASS_EDIT_APPLY_BUTTON_TEXT"),useValueHelpValue:"< Use Value Help >",cancelButtonText:e.getText("C_COMMON_OBJECT_PAGE_CANCEL"),noFields:e.getText("C_MASS_EDIT_NO_EDITABLE_FIELDS"),okButtonText:e.getText("C_COMMON_DIALOG_OK")}},setDefaultValuesToDialog:function(e,t,n,i){const o=i?n.unitProperty:n.dataProperty,a=n.inputType,r=n.isFieldRequired;const s="Values";e.defaultOptions=e.defaultOptions||[];const l=e.selectOptions&&e.selectOptions.length>0;const c={text:`${t.keepExistingPrefix} ${s} >`,key:`Default/${o}`};if(a==="CheckBox"){const t={text:"No",key:`${o}/false`,textInfo:{value:false}};const n={text:"Yes",key:`${o}/true`,textInfo:{value:true}};e.unshift(t);e.defaultOptions.unshift(t);e.unshift(n);e.defaultOptions.unshift(n);e.unshift(c);e.defaultOptions.unshift(c)}else{var u,d;if(n!==null&&n!==void 0&&(u=n.propertyInfo)!==null&&u!==void 0&&u.hasVH||n!==null&&n!==void 0&&(d=n.unitInfo)!==null&&d!==void 0&&d.hasVH&&i){const n={text:t.useValueHelpValue,key:`UseValueHelpValue/${o}`};e.unshift(n);e.defaultOptions.unshift(n)}if(l){if(r!=="true"&&!i){const n={text:t.clearFieldValue,key:`ClearFieldValue/${o}`};e.unshift(n);e.defaultOptions.unshift(n)}e.unshift(c);e.defaultOptions.unshift(c)}else{const n={text:t.leaveBlankValue,key:`Default/${o}`};e.unshift(n);e.defaultOptions.unshift(n)}}},getTextArrangementInfo:function(t,n,i,o){let a=o.getObject(t),r,s;if(n&&t){switch(i){case"Description":r=o.getObject(n)||"";s=r;break;case"Value":a=o.getObject(t)||"";s=a;break;case"ValueDescription":a=o.getObject(t)||"";r=o.getObject(n)||"";s=r?`${a} (${r})`:a;break;case"DescriptionValue":a=o.getObject(t)||"";r=o.getObject(n)||"";s=r?`${r} (${a})`:a;break;default:e.info(`Display Property not applicable: ${t}`);break}}return{textArrangement:i,valuePath:t,descriptionPath:n,value:a,description:r,fullText:s}},isEditable:function(e){const t=e.getBinding("any");const n=t.getExternalValue();return n===m.Editable},onContextEditableChange:function(e,t){const n=e.getProperty(`/values/${t}/objectsForVisibility`)||[];const i=n.some(q.isEditable);if(i){e.setProperty(`/values/${t}/visible`,i)}},updateOnContextChange:function(e,t,n,i){const o=e.getBinding("any");i.objectsForVisibility=i.objectsForVisibility||[];i.objectsForVisibility.push(e);o===null||o===void 0?void 0:o.attachChange(q.onContextEditableChange.bind(null,t,n))},getBoundObject:function(e,t){const n=new C({any:e});const i=t.getModel();n.setModel(i);n.setBindingContext(t);return n},getFieldVisiblity:function(e,t,n,i,o){const a=q.getBoundObject(e,o);const r=q.isEditable(a);if(!r){q.updateOnContextChange(a,t,n,i)}return r},setRuntimeModelOnDialog:function(e,t,n,i){const o=[];const a=[];const r=[];const s=[];const l=[];const c={values:o,unitData:a,results:r,readablePropertyData:l,selectedKey:undefined,textPaths:s,noFields:n.noFields};const u=new y(c);t.forEach(function(t){let n;let r;let l;const c={};const u={};if(t.dataProperty&&t.dataProperty.indexOf("/")>-1){const i=q.initLastLevelOfPropertyPath(t.dataProperty,o);const a=t.dataProperty.split("/");for(const o of e){const e=o.getObject(t.dataProperty);r=`${t.dataProperty}/${e}`;if(!c[r]&&i[a[a.length-1]]){n=q.getTextArrangementInfo(t.dataProperty,t.descriptionPath,t.display,o);i[a[a.length-1]].push({text:n&&n.fullText||e,key:r,textInfo:n});c[r]=e}}i[a[a.length-1]].textInfo={descriptionPath:t.descriptionPath,valuePath:t.dataProperty,displayMode:t.display}}else{o[t.dataProperty]=o[t.dataProperty]||[];o[t.dataProperty]["selectOptions"]=o[t.dataProperty]["selectOptions"]||[];if(t.unitProperty){a[t.unitProperty]=a[t.unitProperty]||[];a[t.unitProperty]["selectOptions"]=a[t.unitProperty]["selectOptions"]||[]}for(const i of e){const e=i.getObject();r=`${t.dataProperty}/${e[t.dataProperty]}`;if(t.dataProperty&&e[t.dataProperty]&&!c[r]){if(t.inputType!="CheckBox"){n=q.getTextArrangementInfo(t.dataProperty,t.descriptionPath,t.display,i);const a={text:n&&n.fullText||e[t.dataProperty],key:r,textInfo:n};o[t.dataProperty].push(a);o[t.dataProperty]["selectOptions"].push(a)}c[r]=e[t.dataProperty]}if(t.unitProperty&&e[t.unitProperty]){l=`${t.unitProperty}/${e[t.unitProperty]}`;if(!u[l]){if(t.inputType!="CheckBox"){n=q.getTextArrangementInfo(t.unitProperty,t.descriptionPath,t.display,i);const o={text:n&&n.fullText||e[t.unitProperty],key:l,textInfo:n};a[t.unitProperty].push(o);a[t.unitProperty]["selectOptions"].push(o)}u[l]=e[t.unitProperty]}}}o[t.dataProperty].textInfo={descriptionPath:t.descriptionPath,valuePath:t.dataProperty,displayMode:t.display};if(Object.keys(c).length===1){i.setProperty(t.dataProperty,r&&c[r])}if(Object.keys(u).length===1){i.setProperty(t.unitProperty,l&&u[l])}}s[t.dataProperty]=t.descriptionPath?[t.descriptionPath]:[]});t.forEach(function(t){let i={};if(t.dataProperty.indexOf("/")>-1){const e=q.getValueForMultiLevelPath(t.dataProperty,o);if(!e){e.push({text:n.leaveBlankValue,key:`Empty/${t.dataProperty}`})}else{q.setDefaultValuesToDialog(e,n,t)}i=e}else if(o[t.dataProperty]){o[t.dataProperty]=o[t.dataProperty]||[];q.setDefaultValuesToDialog(o[t.dataProperty],n,t);i=o[t.dataProperty]}if(a[t.unitProperty]&&a[t.unitProperty].length){q.setDefaultValuesToDialog(a[t.unitProperty],n,t,true);a[t.unitProperty].textInfo={};a[t.unitProperty].selectedKey=q.getDefaultSelectionPathComboBox(e,t.unitProperty);a[t.unitProperty].inputType=t.inputType}else if(t.dataProperty&&o[t.dataProperty]&&!o[t.dataProperty].length||t.unitProperty&&a[t.unitProperty]&&!a[t.unitProperty].length){const i=o[t.dataProperty]&&o[t.dataProperty].some(function(e){return e.text==="< Clear Values >"||e.text==="< Leave Blank >"});if(t.dataProperty&&!i){o[t.dataProperty].push({text:n.leaveBlankValue,key:`Empty/${t.dataProperty}`})}const r=a[t.unitProperty]&&a[t.unitProperty].some(function(e){return e.text==="< Clear Values >"||e.text==="< Leave Blank >"});if(t.unitProperty){if(!r){a[t.unitProperty].push({text:n.leaveBlankValue,key:`Empty/${t.unitProperty}`})}a[t.unitProperty].textInfo={};a[t.unitProperty].selectedKey=q.getDefaultSelectionPathComboBox(e,t.unitProperty);a[t.unitProperty].inputType=t.inputType}}if(t.isPropertyReadOnly&&typeof t.isPropertyReadOnly==="boolean"){l.push({property:t.dataProperty,value:t.isPropertyReadOnly,type:"Default"})}else if(t.isPropertyReadOnly&&t.isPropertyReadOnly.operands&&t.isPropertyReadOnly.operands[0]&&t.isPropertyReadOnly.operands[0].operand1&&t.isPropertyReadOnly.operands[0].operand2){l.push({property:t.dataProperty,propertyPath:t.isPropertyReadOnly.operands[0].operand1.path,propertyValue:t.isPropertyReadOnly.operands[0].operand2.value,type:"Path"})}if(t.editMode){i.visible=t.editMode===m.Editable||e.some(q.getFieldVisiblity.bind(q,t.editMode,u,t.dataProperty,i))}else{i.visible=true}i.selectedKey=q.getDefaultSelectionPathComboBox(e,t.dataProperty);i.inputType=t.inputType;i.unitProperty=t.unitProperty});return u},getDialogContext:function(e,t){let n=t&&t.getBindingContext();if(!n){const t=e.getModel();const i=e.getRowBinding();const o=t.bindList(i.getPath(),i.getContext(),[],[],{$$updateGroupId:"submitLater"});o.refreshInternal=function(){};n=o.create({},true)}return n},onDialogOpen:function(e){const t=e.getSource();const n=t.getModel("fieldsInfo");n.setProperty("/isOpen",true)},closeDialog:function(e){e.close();e.destroy()},messageHandlingForMassEdit:async function(e,t,n,i,a,r){var s,l,c,u;const d=o.DraftStatus;const g=f.getLibraryResourceBundle("sap.fe.core");(s=n.getView())===null||s===void 0?void 0:(l=s.getBindingContext("internal"))===null||l===void 0?void 0:l.setProperty("getBoundMessagesForMassEdit",true);n.messageHandler.showMessages({onBeforeShowMessage:function(i,o){o.fnGetMessageSubtitle=b.setMessageSubtitle.bind({},e,t);const s=[];i.forEach(function(e){if(!e.getTarget()){s.push(e)}});if(a.length>0&&r.length===0){n.editFlow.setDraftStatus(d.Saved);const e=g.getText("C_MASS_EDIT_SUCCESS_TOAST");p.show(e)}else if(r.length<e.getSelectedContexts().length){n.editFlow.setDraftStatus(d.Saved)}else if(r.length===e.getSelectedContexts().length){n.editFlow.setDraftStatus(d.Clear)}if(n.getModel("ui").getProperty("/isEditable")&&s.length===0){o.showMessageBox=false;o.showMessageDialog=false}return o}});if(i.isOpen()){var v,h;q.closeDialog(i);(v=n.getView())===null||v===void 0?void 0:(h=v.getBindingContext("internal"))===null||h===void 0?void 0:h.setProperty("skipPatchHandlers",false)}(c=n.getView())===null||c===void 0?void 0:(u=c.getBindingContext("internal"))===null||u===void 0?void 0:u.setProperty("getBoundMessagesForMassEdit",false)},getSideEffectDataForKey:function(e,t,n,i){const o=e.getProperty("$Type");const a={};i.forEach(e=>{const i=e.keyValue;const r=t.getSideEffectsService();const s=r.computeFieldGroupIds(o,e.propertyFullyQualifiedName??"")??[];a[i]=n._sideEffects.getSideEffectsMapForFieldGroups(s)});return a},fnGetPathForSourceProperty:function(e,t,n){const i=e.indexOf("/")>0?"/"+t+"/"+e.substr(0,e.lastIndexOf("/")+1)+"@sapui.name":false,o=!i?Promise.resolve(t):n.requestObject(i);e=i?e.substr(e.lastIndexOf("/")+1):e;return{sPath:e,pOwnerEntity:o,sNavigationPath:i}},fnGetEntityTypeOfOwner:function(e,t,n,i,o){const a=n.getProperty("$Type");const{$Type:r,$Partner:s}=e.getObject(`${n}/${t}`);if(s){const t=e.getObject(`/${r}/${s}`);if(t){const e=t["$Type"];if(e!==a){o.push(i)}}}else{o.push(i)}return o},fnGetTargetsForMassEdit:function(e,t,n,i){const{targetProperties:o,targetEntities:a}=e;const r=[];let s=[];const l=t.getProperty("$Type");if(n===l){a===null||a===void 0?void 0:a.forEach(e=>{e=e["$NavigationPropertyPath"];let n;if(e.includes("/")){n=e.split("/")[0]}else{n=e}s=q.fnGetEntityTypeOfOwner(i,n,t,e,s)})}if(o.length){o.forEach(e=>{const{pOwnerEntity:o}=q.fnGetPathForSourceProperty(e,n,i);r.push(o.then(n=>{if(n===l){s.push(e)}else if(e.includes("/")){const n=e.split("/")[0];s=q.fnGetEntityTypeOfOwner(i,n,t,e,s)}return Promise.resolve(s)}))})}else{r.push(Promise.resolve(s))}return Promise.all(r)},checkIfEntityExistsAsTargetEntity:(e,t)=>{const n=t.getProperty("$Type");const i=Object.values(e).filter(e=>e.name.indexOf(n)==-1);const o=t.getPath().split("/").pop();const a=i.filter(e=>{const t=e.sideEffects.targetEntities;return t!==null&&t!==void 0&&t.filter(e=>e["$NavigationPropertyPath"]===o).length?e:false});return a.length},handleMassEditFieldUpdateAndRequestSideEffects:async function(e){const{oController:n,oFieldPromise:i,sideEffectsMap:o,textPaths:a,groupId:r,key:s,oEntitySetContext:l,oMetaModel:u,oSelectedContext:d,deferredTargetsForAQualifiedName:p}=e;const f=[i];const g=l.getProperty("$Type");const v=t.getAppComponent(n.getView());const h=v.getSideEffectsService();const m=q.checkIfEntityExistsAsTargetEntity(o,l);if(o){const e=Object.keys(o);const t=Object.values(o);const i={};p[s]={};for(const[o,a]of t.entries()){const t=e[o];const v=t.split("#")[0];const h=n._sideEffects.getContextForSideEffects(d,v);a.context=h;const y=n._sideEffects.getRegisteredFailedRequests();const b=y[h.getPath()];n._sideEffects.unregisterFailedSideEffectsForAContext(h);let C=[a.sideEffects];C=b&&b.length?C.concat(b):C;i[h]={};for(const e of C){if(!i[h].hasOwnProperty(e.fullyQualifiedName)){i[h][e.fullyQualifiedName]=true;let t=[],o=[],a;const d=async function(e){const{targetProperties:n,targetEntities:i}=e;const r=e.fullyQualifiedName.split("@")[0];const d=await q.fnGetTargetsForMassEdit(e,l,r,u);t=d[0];o=(n||[]).concat(i||[]);const f=e.triggerAction;const v=o.filter(e=>!t.includes(e));p[s][e.fullyQualifiedName]={aTargets:v,oContext:h,mSideEffect:e};if(f&&r===g){const t=c._isStaticAction(u.getObject(`/${f}`),f);if(!t){a=f}else{p[s][e.fullyQualifiedName]["TriggerAction"]=f}}else{p[s][e.fullyQualifiedName]["TriggerAction"]=f}if(m){t=[]}return{aTargets:t,TriggerAction:a}};f.push(n._sideEffects.requestSideEffects(e,h,r,d))}}}}if(a!==null&&a!==void 0&&a[s]&&a[s].length){f.push(h.requestSideEffects(a[s],d,r))}return Promise.allSettled(f)},createDialog:async function(n,i,o){const r="sap/fe/core/controls/massEdit/MassEditDialog",s=[],l=f.getLibraryResourceBundle("sap.fe.core"),c=q.getDefaultTextsForDialog(l,i.length,n),p=q.prepareDataForDialog(n,i,s),m=q.getDialogContext(n),y=q.setRuntimeModelOnDialog(i,s,c,m),C=n.getModel(),P=C.getMetaModel(),E=new a(p.getData(),P);const T=h.loadTemplate(r,"fragment");const O=await Promise.resolve(v.process(T,{name:r},{bindingContexts:{dataFieldModel:E.createBindingContext("/"),metaModel:P.createBindingContext("/"),contextPath:P.createBindingContext(P.getMetaPath(m.getPath()))},models:{dataFieldModel:E,metaModel:P,contextPath:P}}));const S=await g.load({definition:O});const A=new d({resizable:true,title:c.massEditTitle,content:[S],afterOpen:q.onDialogOpen,beginButton:new u({text:q.helpers.getExpBindingForApplyButtonTxt(c,p.getObject("/")),type:"Emphasized",press:async function(a){var r,s;b.removeBoundTransitionMessages();b.removeUnboundTransitionMessages();(r=o.getView())===null||r===void 0?void 0:(s=r.getBindingContext("internal"))===null||s===void 0?void 0:s.setProperty("skipPatchHandlers",true);const l=t.getAppComponent(o.getView());const c=a.getSource().getParent();const u=c.getModel("fieldsInfo");const d=u.getProperty("/results");const p=n&&n.getModel().getMetaModel(),f=n.data("metaPath"),g=p.getContext(f);const v=[];const h=u.getProperty("/textPaths");const m=u.getProperty("/readablePropertyData");let y;let C;const P=[];const E={};const T=i.length;const O={};const S=q.getSideEffectDataForKey(g,l,o,d);i.forEach(function(t,n){C=[];d.forEach(async function(i){if(!E.hasOwnProperty(i.keyValue)){E[i.keyValue]=0}if(S[i.keyValue]){C[i.keyValue]=S[i.keyValue]}if(m){m.some(function(e){if(i.keyValue===e.property){if(e.type==="Default"){return e.value===true}else if(e.type==="Path"&&e.propertyValue&&e.propertyPath){return t.getObject(e.propertyPath)===e.propertyValue}}})}y=`$auto.${n}`;const a=t.setProperty(i.keyValue,i.value,y).catch(function(n){v.push(t.getObject());e.error("Mass Edit: Something went wrong in updating entries.",n);E[i.keyValue]=E[i.keyValue]+1;return Promise.reject({isFieldUpdateFailed:true})});const r={oController:o,oFieldPromise:a,sideEffectsMap:S[i.keyValue],textPaths:h,groupId:y,key:i.keyValue,oEntitySetContext:g,oMetaModel:p,oSelectedContext:t,deferredTargetsForAQualifiedName:O};P.push(q.handleMassEditFieldUpdateAndRequestSideEffects(r))})});await Promise.allSettled(P).then(async function(){y=`$auto.massEditDeferred`;const e=[];const t=Object.values(O);const n=Object.keys(O);t.forEach((t,i)=>{const a=n[i];if(E[a]!==T){const n=Object.values(t);n.forEach(t=>{const{aTargets:n,oContext:i,TriggerAction:a,mSideEffect:r}=t;const s=function(){return n};const l=function(){return{aTargets:s(),TriggerAction:a}};e.push(o._sideEffects.requestSideEffects(r,i,y,l))})}})}).then(function(){q.messageHandlingForMassEdit(n,i,o,c,d,v)}).catch(e=>{q.closeDialog(A);return Promise.reject(e)})}}),endButton:new u({text:c.cancelButtonText,visible:q.helpers.hasEditableFieldsBinding(p.getObject("/"),true),press:function(e){const t=e.getSource().getParent();q.closeDialog(t)}})});A.setModel(y,"fieldsInfo");A.setModel(C);A.setBindingContext(m);return A},helpers:{getBindingExpForHasEditableFields:(e,t)=>{const n=e.reduce((e,t)=>U(e,k("/values/"+t.dataProperty+"/visible","fieldsInfo")),z(false));return t?n:H(n)},getExpBindingForApplyButtonTxt:(e,t)=>{const n=q.helpers.getBindingExpForHasEditableFields(t,true);const i=G(n,z(e.applyButtonText),z(e.okButtonText));return W(i)},hasEditableFieldsBinding:(e,t)=>W(q.helpers.getBindingExpForHasEditableFields(e,t))}};return q},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/MessageStrip",["sap/fe/core/CommonUtils","sap/fe/core/helpers/ResourceModelHelper","sap/ui/core/Core","sap/ui/Device"],function(e,t,n,i){"use strict";var o=i.system;var a=t.getLocalizedText;function r(e,t,n,i){const o=n.getModel().getMetaModel(),r=e.map(function(e){if(e==="$search"){return i.getText("M_FILTERBAR_SEARCH")||""}if(e==="$editState"){return i.getText("FILTERBAR_EDITING_STATUS")||""}const r=o.getObject(`${t}${e}@com.sap.vocabularies.Common.v1.Label`);return a(r,n)});return r}function s(t,i,o){let a="";let r=[];const s=d();if(!s){return""}const l=e.getTargetView(i);const p=l.getController().getChartControl();const f=p.data("draftSupported")==="true";const g=n.getLibraryResourceBundle("sap.fe.macros");o=o&&t.includes(g.getText("M_FILTERBAR_SEARCH"));const v=`C_LR_MULTIVIZ_CHART_${u(t)}_IGNORED_FILTER_${c()}`;if(f&&(t.length===2&&o||t.length===1)){a=t.length===1?"C_MULTIVIZ_CHART_IGNORED_FILTER_DRAFT_DATA":"C_LR_MULTIVIZ_CHART_IGNORED_FILTER_DRAFT_DATA_AND_SEARCH"}else{a=v;r=[t.join(", ")]}return s.getText(a,r)}function l(e,t,n){const i=d();return i?i.getText(`C_LR_MULTITABLES_${u(e)}_IGNORED_FILTER_${c()}`,[e.join(", "),a(n,t)]):""}function c(){return o.desktop?"LARGE":"SMALL"}function u(e){return e.length===1?"SINGLE":"MULTI"}function d(){return n.getLibraryResourceBundle("sap.fe.templates")}const p={getALPText:s,getText:l,getLabels:r};return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/MetaModelFunction",["sap/fe/core/converters/helpers/IssueManager","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/type/EDM"],function(e,t,n,i){"use strict";var o={};var a=i.isTypeFilterable;var r=t.pathInModel;var s=t.or;var l=t.not;var c=t.compileExpression;var u=e.IssueSeverity;var d=e.IssueCategoryType;var p=e.IssueCategory;function f(e,t){let i;let o;const a="$NavigationPropertyBinding";const r="@Org.OData.Capabilities.V1.SearchRestrictions";const s=e.replaceAll("%2F","/").split("/").filter(n.filterOutNavPropBinding);const l=n.getEntitySetPath(e,t);const c=l.split("/").filter(n.filterOutNavPropBinding);const u=t.getObject(`/${s.join("/")}/$ContainsTarget`)?true:false;const d=u?s[s.length-1]:"";if(!u){i=t.getObject(`${l}${r}`)}if(s.length>1){const e=u?d:c[c.length-1];const n=u?l:`/${c.slice(0,-1).join(`/${a}/`)}`;const i=_.getNavigationRestrictions(t,n,e.replaceAll("%2F","/"));o=i===null||i===void 0?void 0:i.SearchRestrictions}return o??i}o.getSearchRestrictions=f;function g(e,t,n){const i=e.getObject(`${t}@Org.OData.Capabilities.V1.NavigationRestrictions`);const o=i===null||i===void 0?void 0:i.RestrictedProperties;return o===null||o===void 0?void 0:o.find(function(e){var t;return((t=e.NavigationProperty)===null||t===void 0?void 0:t.$NavigationPropertyPath)===n})}o.getNavigationRestrictions=g;function v(e,t,n){let i=false;const o=e.getObject(`${t}@Org.OData.Capabilities.V1.FilterRestrictions`);if(o!==null&&o!==void 0&&o.NonFilterableProperties){i=o.NonFilterableProperties.some(function(e){return e.$NavigationPropertyPath===n||e.$PropertyPath===n})}return i}function h(e,t,n){let i=false;const o=e.getObject(t+"@Org.OData.Aggregation.V1.ApplySupported")?true:false;if(o){const o=e.getObject(`${t}@`);const a=_.getAllCustomAggregates(o);const r=a?Object.keys(a):undefined;if(r!==null&&r!==void 0&&r.includes(n)){i=true}}return i}o.isCustomAggregate=h;function m(e,t,n,i){let o=e.split("/").length===2&&!n.includes("/")?!v(t,e,n)&&!h(t,e,n):!y(t,e,n);if(o&&i){const e=b(i);if(e){o=e?a(e):false}else{o=false}}return o}function y(e,t,n){const i=`${t}/${n}`,o=i.split("/").splice(0,2),a=i.split("/").splice(2);let r=false,s="";t=o.join("/");r=a.some(function(n,i,o){if(s.length>0){s+=`/${n}`}else{s=n}if(i===o.length-2){const i=_.getNavigationRestrictions(e,t,n);const a=i===null||i===void 0?void 0:i.FilterRestrictions;const r=a===null||a===void 0?void 0:a.NonFilterableProperties;const s=o[o.length-1];if(r!==null&&r!==void 0&&r.find(function(e){return e.$PropertyPath===s})){return true}}if(i===o.length-1){r=v(e,t,s)}else if(e.getObject(`${t}/$NavigationPropertyBinding/${n}`)){r=v(e,t,s);s="";t=`/${e.getObject(`${t}/$NavigationPropertyBinding/${n}`)}`}return r});return r}function b(e){let t=e.getProperty("$Type");if(!e.getProperty("$kind")){switch(t){case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":t=undefined;break;case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":t=e.getProperty("Value/$Path/$Type");break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":default:const n=e.getProperty("Target/$AnnotationPath");if(n){if(n.includes("com.sap.vocabularies.Communication.v1.Contact")){t=e.getProperty("Target/$AnnotationPath/fn/$Path/$Type")}else if(n.includes("com.sap.vocabularies.UI.v1.DataPoint")){t=e.getProperty("Value/$Path/$Type")}else{t=undefined}}else{t=undefined}break}}return t}function C(e,t,n,i){if(typeof n!=="string"){throw new Error("sProperty parameter must be a string")}if(e.getObject(`${t}/@com.sap.vocabularies.Common.v1.ResultContext`)===true){return true}const o=e.createBindingContext(`${t}/${n}`);if(o&&!i){if(o.getProperty("@com.sap.vocabularies.UI.v1.Hidden")===true||o.getProperty("@com.sap.vocabularies.UI.v1.HiddenFilter")===true){return false}const e=o.getProperty("@com.sap.vocabularies.UI.v1.Hidden/$Path");const t=o.getProperty("@com.sap.vocabularies.UI.v1.HiddenFilter/$Path");if(e&&t){return c(l(s(r(e),r(t))))}else if(e){return c(l(r(e)))}else if(t){return c(l(r(t)))}}return m(t,e,n,o)}o.isPropertyFilterable=C;function P(e,t,n){const i=e.getObject(`${t}/`).$Key;const o=[];const a=[];const r=e.getObject(`${t}/`);for(const s in r){if(r[s].$kind&&r[s].$kind==="Property"){const l=e.getObject(`${t}/${s}@`)||{},c=i.includes(s),f=l["@Org.OData.Core.V1.Immutable"],g=!l["@Org.OData.Core.V1.Computed"],v=!l["@com.sap.vocabularies.UI.v1.Hidden"],h=l["@Org.OData.Core.V1.ComputedDefaultValue"],m=c&&r[s].$Type==="Edm.Guid"?h&&l["@com.sap.vocabularies.Common.v1.Text"]:false;if((m||c&&r[s].$Type!=="Edm.Guid")&&g&&v){o.push(s)}else if(f&&g&&v){a.push(s)}if(!g&&h&&n){const e=n.getDiagnostics();const t="Core.ComputedDefaultValue is ignored as Core.Computed is already set to true";e.addIssue(p.Annotation,u.Medium,t,d,d.Annotations.IgnoredAnnotation)}}}const s=_.getRequiredPropertiesFromInsertRestrictions(t,e);if(s.length){s.forEach(function(n){const i=e.getObject(`${t}/${n}@`),r=!(i!==null&&i!==void 0&&i["@com.sap.vocabularies.UI.v1.Hidden"]);if(r&&!o.includes(n)&&!a.includes(n)){o.push(n)}})}return o.concat(a)}o.getNonComputedVisibleFields=P;function E(e,t){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const o=[];let a=[];const r="$NavigationPropertyBinding";let s=null;if(e.endsWith("$")){e=e.replace("/$","")}const l=e.replaceAll("%2F","/").split("/").filter(n.filterOutNavPropBinding);const c=n.getEntitySetPath(e,t);const u=c.split("/").filter(n.filterOutNavPropBinding);const d=t.getObject(`/${l.join("/")}/$ContainsTarget`)?true:false;const p=d?l[l.length-1]:"";if(!d){s=t.getObject(`${c}@`)}if(l.length>1){const e=d?p:u[u.length-1];const n=d?c:`/${u.slice(0,-1).join(`/${r}/`)}`;const o=_.getNavigationRestrictions(t,n,e.replaceAll("%2F","/"));if(o!==undefined&&_.hasRestrictedPropertiesInAnnotations(o,true,i)){var f,g;a=i?((f=o.UpdateRestrictions)===null||f===void 0?void 0:f.RequiredProperties)??[]:((g=o.InsertRestrictions)===null||g===void 0?void 0:g.RequiredProperties)??[]}if(!a.length&&_.hasRestrictedPropertiesInAnnotations(s,false,i)){a=_.getRequiredPropertiesFromAnnotations(s,i)}}else if(_.hasRestrictedPropertiesInAnnotations(s,false,i)){a=_.getRequiredPropertiesFromAnnotations(s,i)}a.forEach(function(e){const t=e.$PropertyPath;o.push(t)});return o}function T(e,t){return _.getRequiredProperties(e,t)}o.getRequiredPropertiesFromInsertRestrictions=T;function O(e,t){return _.getRequiredProperties(e,t,true)}o.getRequiredPropertiesFromUpdateRestrictions=O;function S(e){var t;let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(n){var i;return(e===null||e===void 0?void 0:(i=e["@Org.OData.Capabilities.V1.UpdateRestrictions"])===null||i===void 0?void 0:i.RequiredProperties)??[]}return(e===null||e===void 0?void 0:(t=e["@Org.OData.Capabilities.V1.InsertRestrictions"])===null||t===void 0?void 0:t.RequiredProperties)??[]}function A(e){var t;let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(n){var o;const t=e;if(i){var a;return t!==null&&t!==void 0&&(a=t.UpdateRestrictions)!==null&&a!==void 0&&a.RequiredProperties?true:false}return t!==null&&t!==void 0&&(o=t.InsertRestrictions)!==null&&o!==void 0&&o.RequiredProperties?true:false}else if(i){var r;const t=e;return t!==null&&t!==void 0&&(r=t["@Org.OData.Capabilities.V1.UpdateRestrictions"])!==null&&r!==void 0&&r.RequiredProperties?true:false}const s=e;return s!==null&&s!==void 0&&(t=s["@Org.OData.Capabilities.V1.InsertRestrictions"])!==null&&t!==void 0&&t.RequiredProperties?true:false}function I(e){const t={};let n;for(const i in e){if(i.startsWith("@Org.OData.Aggregation.V1.CustomAggregate")){n=i.replace("@Org.OData.Aggregation.V1.CustomAggregate#","");const o=n.split("@");if(o.length==2){const n={};if(o[1]=="Org.OData.Aggregation.V1.ContextDefiningProperties"){n.contextDefiningProperties=e[i]}if(o[1]=="com.sap.vocabularies.Common.v1.Label"){n.label=e[i]}t[o[0]]=n}else if(o.length==1){t[o[0]]={name:o[0],propertyPath:o[0],label:`Custom Aggregate (${n})`,sortable:true,sortOrder:"both",custom:true}}}}return t}o.getAllCustomAggregates=I;function D(e){const t={sortable:true,propertyInfo:{}};const n=e["@Org.OData.Capabilities.V1.SortRestrictions"];if(!n){return t}if(n.Sortable===false){t.sortable=false}for(const e of n.NonSortableProperties||[]){const n=e.$PropertyPath;t.propertyInfo[n]={sortable:false}}for(const e of n.AscendingOnlyProperties||[]){const n=e.$PropertyPath;t.propertyInfo[n]={sortable:true,sortDirection:"asc"}}for(const e of n.DescendingOnlyProperties||[]){const n=e.$PropertyPath;t.propertyInfo[n]={sortable:true,sortDirection:"desc"}}return t}o.getSortRestrictionsInfo=D;function x(e){let t,n;const i={filterable:true,requiresFilter:(e===null||e===void 0?void 0:e.RequiresFilter)||false,propertyInfo:{},requiredProperties:[]};if(!e){return i}if(e.Filterable===false){i.filterable=false}if(e.RequiredProperties){for(t=0;t<e.RequiredProperties.length;t++){n=e.RequiredProperties[t].$PropertyPath;i.requiredProperties.push(n)}}if(e.NonFilterableProperties){for(t=0;t<e.NonFilterableProperties.length;t++){n=e.NonFilterableProperties[t].$PropertyPath;i.propertyInfo[n]={filterable:false}}}if(e.FilterExpressionRestrictions){for(t=0;t<e.FilterExpressionRestrictions.length;t++){var o;n=(o=e.FilterExpressionRestrictions[t].Property)===null||o===void 0?void 0:o.$PropertyPath;if(n){i.propertyInfo[n]={filterable:true,allowedExpressions:e.FilterExpressionRestrictions[t].AllowedExpressions}}}}return i}o.getFilterRestrictionsInfo=x;function M(e){let t=true;switch(e){case"SearchExpression":case"SingleRange":case"SingleValue":t=false;break;default:break}return t}o.isMultiValueFilterExpression=M;const _={getRequiredProperties:E,getRequiredPropertiesFromAnnotations:S,hasRestrictedPropertiesInAnnotations:A,getRequiredPropertiesFromInsertRestrictions:T,getNavigationRestrictions:g,getAllCustomAggregates:I};o.METAMODEL_FUNCTIONS=_;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/ModelHelper",["sap/base/util/UriParameters","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards"],function(e,t,n){"use strict";var i=n.isEntitySet;var o=t.getInvolvedDataModelObjects;const a={isStickySessionSupported:function(e){const t=e.getObject("/");for(const n in t){if(t[n].$kind==="EntitySet"&&e.getObject(`/${n}@com.sap.vocabularies.Session.v1.StickySessionSupported`)){return true}}return false},isDraftSupported:function(e,t){const n=e.getMetaContext(t);const i=o(n);return this.isObjectPathDraftSupported(i)},isObjectPathDraftSupported:function(e){var t,n,i,o,r,s,l;const c=e.targetEntitySet;const u=a.isDraftRoot(c);const d=a.isDraftNode(c);const p=(t=e.targetObject)!==null&&t!==void 0&&t.containsTarget&&((n=e.startingEntitySet)!==null&&n!==void 0&&(i=n.annotations)!==null&&i!==void 0&&(o=i.Common)!==null&&o!==void 0&&o.DraftRoot||(r=e.startingEntitySet)!==null&&r!==void 0&&(s=r.annotations)!==null&&s!==void 0&&(l=s.Common)!==null&&l!==void 0&&l.DraftNode)?true:false;return u||d||!c&&p},isCollaborationDraftSupported:function(t,n){if(e.fromQuery(window.location.search).get("sap-fe-xx-enableCollaborationDraft")==="true"){var i;const e=(n===null||n===void 0?void 0:(i=n.context)===null||i===void 0?void 0:i.getModel())||t;const o=e.getObject("/");for(const t in o){if(o[t].$kind==="EntitySet"&&e.getObject(`/${t}@com.sap.vocabularies.Common.v1.DraftRoot/ShareAction`)){return true}}}return false},getDraftRootPath:function(e){const n=e.getModel().getMetaModel();const i=function(e,o){var a;let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const s=r?e:(a=new RegExp(/.*(?=\/)/).exec(e))===null||a===void 0?void 0:a[0];if(s&&s!=="/"){var l,c;const e=n.getMetaPath(s);const a=t.getInvolvedDataModelObjects(n.getContext(e));if((l=a.targetEntitySet)!==null&&l!==void 0&&(c=l.annotations.Common)!==null&&c!==void 0&&c.DraftRoot){return s}return i(s,o,false)}return undefined};return i(e.getPath(),e.getModel())},getStickyRootPath:function(e){const n=e.getModel().getMetaModel();const i=function(e,o){var a;let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const s=r?e:(a=new RegExp(/.*(?=\/)/).exec(e))===null||a===void 0?void 0:a[0];if(s&&s!=="/"){var l,c,u;const e=n.getMetaPath(s);const a=t.getInvolvedDataModelObjects(n.getContext(e));if((l=a.targetEntitySet)!==null&&l!==void 0&&(c=l.annotations)!==null&&c!==void 0&&(u=c.Session)!==null&&u!==void 0&&u.StickySessionSupported){return s}return i(s,o,false)}return undefined};return i(e.getPath(),e.getModel())},getTargetEntitySet:function(e){const t=e.getPath();if(e.getObject("$kind")==="EntitySet"||e.getObject("$kind")==="Action"||e.getObject("0/$kind")==="Action"){return t}const n=a.getEntitySetPath(t);return`/${e.getObject(n)}`},getEntitySetPath:function(e,t){let n="";if(!t){n=`/${e.split("/").filter(a.filterOutNavPropBinding).join("/$NavigationPropertyBinding/")}`}else{const i=e.split("/").filter(a.filterOutNavPropBinding);if(i.length>1){const e={growingPath:"/",pendingNavPropBinding:""};const o=i.reduce((e,n,i)=>{const o=!!i&&"/$NavigationPropertyBinding/"||"";let{growingPath:a,pendingNavPropBinding:r}=e;const s=a+o;const l=t.getObject(s);const c=r?`${r}/${n}`:n;if(l&&Object.keys(l).length>0&&l.hasOwnProperty(c)){a=s+c.replace("/","%2F");r=""}else{r+=r?`/${n}`:n}return{growingPath:a,pendingNavPropBinding:r}},e);n=o.growingPath}else{n=`/${i[0]}`}}return n},getActionParameterItemsModelPath:function(e){return e&&e.$Name?`{path: 'mvfview>/${e.$Name}'}`:undefined},filterOutNavPropBinding:function(e){return e!==""&&e!=="$NavigationPropertyBinding"},enhanceInternalJSONModel:function(e){const t=e.bindContext;e.bindContext=function(e,n,i){for(var o=arguments.length,a=new Array(o>3?o-3:0),r=3;r<o;r++){a[r-3]=arguments[r]}n=t.apply(this,[e,n,i,...a]);const s=n.getBoundContext;n.getBoundContext=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}const i=s.apply(this,...t);if(i&&!i.setProperty){i.setProperty=function(e,t){if(this.getObject()===undefined){this.getModel().setProperty(this.getPath(),{})}this.getModel().setProperty(e,t,this)}}return i};return n}},enhanceUiJSONModel:function(e,t){const n=e.setProperty;e.setProperty=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++){o[a]=arguments[a]}const r=o[1];if(o[0]==="/isEditable"){e.setProperty("/editMode",r?t.EditMode.Editable:t.EditMode.Display,o[2],o[3])}return n.apply(this,[...o])}},isFilteringCaseSensitive:function(e){if(!e){return undefined}const t=e.getObject("/@Org.OData.Capabilities.V1.FilterFunctions");return t?t.indexOf("tolower")===-1:true},getMetaPathForContext:function(e){const t=e.getModel(),n=t.getMetaModel(),i=e.getPath();return n&&i&&n.getMetaPath(i)},getRootEntitySetPath:function(e){let t="";const n=e?e.split("/"):[];if(n.length>1){t=n[1]}return t},getAbsoluteMetaPathForListBinding:function(e,t){const n=e.getModel().getMetaModel();let i;if(typeof t==="string"){if(t.startsWith("/")){i=n.getMetaPath(t)}else{const o=e.getBindingContext();const a=o.getPath();i=n.getMetaPath(`${a}/${t}`)}}else{const e=t;const o=e.getRootBinding();if(e===o){i=n.getMetaPath(e.getPath())}else{const t=o.getPath();const a=e.getPath();i=n.getMetaPath(`${t}/${a}`)}}return i},isDraftRoot:function(e){return this.getDraftRoot(e)!==undefined},isDraftNode:function(e){return this.getDraftNode(e)!==undefined},isSticky:function(e){return this.getStickySession(e)!==undefined},isUpdateHidden:function(e,t){if(i(e)){var n,o;return((n=e.annotations.UI)===null||n===void 0?void 0:n.UpdateHidden)??(t===null||t===void 0?void 0:(o=t.annotations.UI)===null||o===void 0?void 0:o.UpdateHidden)??false}else{return false}},getDraftRoot:function(e){var t;return i(e)?(t=e.annotations.Common)===null||t===void 0?void 0:t.DraftRoot:undefined},getDraftNode:function(e){var t;return i(e)?(t=e.annotations.Common)===null||t===void 0?void 0:t.DraftNode:undefined},getStickySession:function(e){var t;return i(e)?(t=e.annotations.Session)===null||t===void 0?void 0:t.StickySessionSupported:undefined},getDeleteHidden:function(e,t){if(i(e)){var n,o;return((n=e.annotations.UI)===null||n===void 0?void 0:n.DeleteHidden)??((o=t.annotations.UI)===null||o===void 0?void 0:o.DeleteHidden)}else{return false}}};return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/PasteHelper",["sap/base/Log","sap/m/MessageBox","sap/ui/core/Core","sap/ui/core/util/PasteHelper"],function(e,t,n,i){"use strict";const o=function(e,t,n,i){const o=n.getProperty(e),a={parseKeepsEmptyString:true},r=i.getUI5Type(`${t}/${e}`,a),s=!o||n.getProperty(`${e}@Org.OData.Core.V1.Computed`);return{property:e,ignore:s,type:r}};const a=function(e){const i=[...e];const o=n.getLibraryResourceBundle("sap.fe.core"),a=o.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_CORRECTION_MESSAGE"),r=o.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_CORRECTION_NOTE");let s;if(i.length>1){s=o.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_MESSAGE_PLURAL",[i.length])}else{s=o.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_MESSAGE_SINGULAR")}i.unshift("");i.unshift(r);i.unshift(a);t.error(s,{title:o.getText("C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_TITLE_ERROR"),details:i.join("<br>")})};const r={displayErrorMessages:a,formatCustomMessage:function(e,t){let i="";const o=e.length;const a=n.getLibraryResourceBundle("sap.fe.core"),r=a.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW");if(o>0){i+=`${r} ${t}: `;e.forEach((e,t)=>{if(e.messageText){i+=e.messageText+(t+1!==o?" ":"")}})}return i},getColumnInfo:function(e){const t=e.getRowBinding().getModel(),n=t.getMetaModel(),i=t.resolve(e.getRowBinding().getPath(),e.getRowBinding().getContext()),o=n.getMetaContext(i);return e.getControlDelegate().fetchProperties(e).then(t=>{const a=Object.assign({},...t.map(e=>({[e.name]:e})));const r=[];e.getColumns().forEach(e=>{const t=a[e.getDataProperty()];if(t.propertyInfos){t.propertyInfos.forEach(e=>{const t=a[e];if(t.exportSettings!==null){if(e.indexOf("/")>-1){r.push({property:t.path,ignore:true})}else{r.push(this.getInfoForEntityProperty(t.path,i,o,n))}}});if(t.exportDataPointTargetValue){r.push({property:"targetValueFromDataPoint",ignore:true})}}else if(t.exportSettings!==null){if(t.path){r.push(this.getInfoForEntityProperty(t.path,i,o,n))}else{r.push({property:"unused",type:null,ignore:true})}}});return r})},getInfoForEntityProperty:o,parsePastedData:function(e,t){return this.getColumnInfo(t).then(function(t){const n=e.length?e[0].length:0;let o=-1;for(let e=0;e<t.length&&o<0;e++){if(!t[e].ignore){o=e}}return o<0||o>n-1?Promise.resolve({}):i.parse(e,t)}).then(e=>{if(e.errors){const t=e.errors.map(function(e){return e.message});this.displayErrorMessages(t);return[]}else{return e.parsedData?e.parsedData:[]}})},pasteData:function(t,n,i){const o=i.editFlow;const a=n.getParent().getTableDefinition();let r=[];return this.parsePastedData(t,n).then(e=>{r=e||[];return Promise.all(r.map(e=>{var t;return o.validateDocument(n.getBindingContext(),{data:e,customValidationFunction:a===null||a===void 0?void 0:(t=a.control)===null||t===void 0?void 0:t.customValidationFunction})}))}).then(e=>{const t=e.reduce(function(e,t,n){if(t.length>0){e.push({messages:t,row:n+1})}return e},[]);if(t.length>0){const e=t.map(e=>this.formatCustomMessage(e.messages,e.row));this.displayErrorMessages(e);return[]}return r}).then(e=>{var t;return e.length>0?o.createMultipleDocuments(n.getRowBinding(),e,a===null||a===void 0?void 0:(t=a.control)===null||t===void 0?void 0:t.createAtEnd,true,i.editFlow.onBeforeCreate):undefined}).catch(t=>{e.error("Error while pasting data",t)})}};return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/ResourceModelHelper",["sap/base/Log"],function(e){"use strict";var t={};function n(e){if(e.isA("sap.ui.core.mvc.Controller")||e.isA("sap.ui.core.mvc.ControllerExtension")){var t;return(t=e.getView())===null||t===void 0?void 0:t.getModel("sap.fe.i18n")}else{return e.getModel("sap.fe.i18n")}}t.getResourceModel=n;function i(t,n){const i=/{([A-Za-z0-9_.|@]+)>([A-Za-z0-9_.|]+)}/.exec(t);if(i){try{const e=n.getModel(i[1]).getResourceBundle();return e.getText(i[2])}catch(n){e.info(`Unable to retrieve localized text ${t}`)}}return t}t.getLocalizedText=i;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/SemanticDateOperators",["sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/Operator","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/ValidateException"],function(e,t,n,i,o){"use strict";const a=["DATE","FROM","TO","DATERANGE"];const r="DYNAMIC.DATE";const s="FIXED.DATE";const l="DYNAMIC.DATE.INT";const c="DYNAMIC.DATERANGE";const u="DYNAMIC.MONTH";const d="FIXED.WEEK";const p="FIXED.MONTH";const f="FIXED.QUARTER";const g="FIXED.YEAR";const v="DYNAMIC.WEEK.INT";const h="DYNAMIC.MONTH.INT";const m="DYNAMIC.QUARTER.INT";const y="DYNAMIC.YEAR.INT";const b="DYNAMIC.MINUTE.INT";const C="DYNAMIC.HOUR.INT";const P={EQ:{key:"EQ",category:r},BT:{key:"BT",category:c}};const E={DATE:{key:"DATE",category:r},FROM:{key:"FROM",category:r},TO:{key:"TO",category:r},DATERANGE:{key:"DATERANGE",category:c},SPECIFICMONTH:{key:"SPECIFICMONTH",category:u},TODAY:{key:"TODAY",category:s},TODAYFROMTO:{key:"TODAYFROMTO",category:l},YESTERDAY:{key:"YESTERDAY",category:s},TOMORROW:{key:"TOMORROW",category:s},LASTDAYS:{key:"LASTDAYS",category:l},NEXTDAYS:{key:"NEXTDAYS",category:l},THISWEEK:{key:"THISWEEK",category:d},LASTWEEK:{key:"LASTWEEK",category:d},LASTWEEKS:{key:"LASTWEEKS",category:v},NEXTWEEK:{key:"NEXTWEEK",category:d},NEXTWEEKS:{key:"NEXTWEEKS",category:v},THISMONTH:{key:"THISMONTH",category:p},LASTMONTH:{key:"LASTMONTH",category:p},LASTMONTHS:{key:"LASTMONTHS",category:h},NEXTMONTH:{key:"NEXTMONTH",category:p},NEXTMONTHS:{key:"NEXTMONTHS",category:h},THISQUARTER:{key:"THISQUARTER",category:f},LASTQUARTER:{key:"LASTQUARTER",category:f},LASTQUARTERS:{key:"LASTQUARTERS",category:m},NEXTQUARTER:{key:"NEXTQUARTER",category:f},NEXTQUARTERS:{key:"NEXTQUARTERS",category:m},QUARTER1:{key:"QUARTER1",category:f},QUARTER2:{key:"QUARTER2",category:f},QUARTER3:{key:"QUARTER3",category:f},QUARTER4:{key:"QUARTER4",category:f},THISYEAR:{key:"THISYEAR",category:g},LASTYEAR:{key:"LASTYEAR",category:g},LASTYEARS:{key:"LASTYEARS",category:y},NEXTYEAR:{key:"NEXTYEAR",category:g},NEXTYEARS:{key:"NEXTYEARS",category:y},LASTMINUTES:{key:"LASTMINUTES",category:b},NEXTMINUTES:{key:"NEXTMINUTES",category:b},LASTHOURS:{key:"LASTHOURS",category:C},NEXTHOURS:{key:"NEXTHOURS",category:C},YEARTODATE:{key:"YEARTODATE",category:g},DATETOYEAR:{key:"DATETOYEAR",category:g}};function T(){return new t({name:"DATERANGE",filterOperator:i.BT,alias:{Date:"DATERANGE",DateTime:"DATERANGE"},valueTypes:[{name:"sap.ui.model.odata.type.Date"},{name:"sap.ui.model.odata.type.Date"}],getModelFilter:function(e,t,n){return x.getModelFilterForDateRange(e,t,n,this)},validate:function(e,n){if(e.length<2){throw new o("Date Range must have two values")}else{const t=new Date(e[0]);const n=new Date(e[1]);if(t.getTime()>n.getTime()){throw new o("From Date Should Be Less Than To Date")}}t.prototype.validate.apply(this,[e,n])}})}function O(){return new t({name:"DATE",alias:{Date:"DATE",DateTime:"DATE"},filterOperator:i.EQ,valueTypes:[{name:"sap.ui.model.odata.type.Date"}],getModelFilter:function(e,t,n){return x.getModelFilterForDate(e,t,n,this)}})}function S(){return new t({name:"FROM",alias:{Date:"FROM",DateTime:"FROM"},filterOperator:i.GE,valueTypes:[{name:"sap.ui.model.odata.type.Date"}],getModelFilter:function(e,t,n){return x.getModelFilterForFrom(e,t,n,this)}})}function A(){return new t({name:"TO",alias:{Date:"TO",DateTime:"TO"},filterOperator:i.LE,valueTypes:[{name:"sap.ui.model.odata.type.Date"}],getModelFilter:function(e,t,n){return x.getModelFilterForTo(e,t,n,this)}})}function I(e,t){if(!t){return true}t=Array.isArray(t)?t:[t];let n;t.some(function(t){let i;if(!t.path){return false}const o=e[t.path];const a=t.exclude||false;let r;if(t.contains&&o){r=t.contains.split(",");n=a;for(i=0;i<r.length;i++){if(a&&o.indexOf(r[i])>-1){n=false;return true}else if(!a&&o.indexOf(r[i])>-1){n=true;return true}}}if(t.equals&&o){r=t.equals.split(",");n=a;for(i=0;i<r.length;i++){if(a&&o===r[i]){n=false;return true}else if(!a&&o===r[i]){n=true;return true}}}return false});return n}function D(e){return e==="Edm.DateTimeOffset"?Object.assign({},E,P):E}const x={addSemanticDateOperators:function(){e.addOperator(T());e.addOperator(O());e.addOperator(S());e.addOperator(A())},getSupportedOperations:function(){return a},getSemanticDateOperations:function(e){const t=D(e);return Object.keys(t)},removeSemanticDateOperators:function(){},getFilterOperations:function(e,t){const n=[];const i=D(t);for(const t in i){const o=i[t];if(I(o,e)){n.push(o)}}return n.map(function(e){return e.key})},hasSemanticDateOperations:function(e){const t=this.getSemanticDateOperations();for(const n in e){const i=e[n];const o=i.find(function(e){return t.indexOf(e.operator)>-1});if(o){return false}}return true},getModelFilterForDate:function(e,t,o,a){if(o.isA("sap.ui.model.odata.type.DateTimeOffset")){const r=a._createLocalType(a.valueTypes[0]);let s=e.values[0];const l=r.getModelFormat();const c=l.parse(s,false);s=o.getModelValue(c);c.setHours(23);c.setMinutes(59);c.setSeconds(59);c.setMilliseconds(999);const u=o.getModelValue(c);return new n({path:t,operator:i.BT,value1:s,value2:u})}else{return new n({path:t,operator:a.filterOperator,value1:e.values[0]})}},getModelFilterForTo:function(e,t,o,a){if(o.isA("sap.ui.model.odata.type.DateTimeOffset")){const r=a._createLocalType(a.valueTypes[0]);const s=e.values[0];const l=r.getModelFormat();const c=l.parse(s,false);c.setHours(23);c.setMinutes(59);c.setSeconds(59);c.setMilliseconds(999);const u=o.getModelValue(c);return new n({path:t,operator:i.LE,value1:u})}else{return new n({path:t,operator:a.filterOperator,value1:e.values[0]})}},getModelFilterForFrom:function(e,t,o,a){if(o.isA("sap.ui.model.odata.type.DateTimeOffset")){const r=a._createLocalType(a.valueTypes[0]);const s=e.values[0];const l=r.getModelFormat();const c=l.parse(s,false);c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);const u=o.getModelValue(c);return new n({path:t,operator:i.GE,value1:u})}else{return new n({path:t,operator:a.filterOperator,value1:e.values[0]})}},getModelFilterForDateRange:function(e,t,o,a){if(o.isA("sap.ui.model.odata.type.DateTimeOffset")){let r=a._createLocalType(a.valueTypes[0]);let s=e.values[0];let l=r.getModelFormat();let c=l.parse(s,false);s=o.getModelValue(c);r=a._createLocalType(a.valueTypes[1]);l=r.getModelFormat();let u=e.values[1];c=l.parse(u,false);c.setHours(23);c.setMinutes(59);c.setSeconds(59);c.setMilliseconds(999);u=o.getModelValue(c);return new n({path:t,operator:i.BT,value1:s,value2:u})}else{return new n({path:t,operator:a.filterOperator,value1:e.values[0],value2:e.values[1]})}}};return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/SemanticKeyHelper",["sap/base/Log"],function(e){"use strict";const t={getSemanticKeys:function(e,t){return e.getObject(`/${t}/@com.sap.vocabularies.Common.v1.SemanticKey`)},getSemanticObjectInformation:function(e,t){const n=e.getObject(`/${t}/@com.sap.vocabularies.Common.v1.SemanticObject`);const i=this.getSemanticKeys(e,t);return{semanticObject:n,semanticKeys:i}},getSemanticPath:function(t){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const i=t.getModel().getMetaModel(),o=i.getMetaContext(t.getPath()).getObject("@sapui.name"),a=this.getSemanticObjectInformation(i,o);let r,s;if(t.isA("sap.ui.model.odata.v4.ODataListBinding")&&t.isRelative()){r=t.getHeaderContext().getPath()}else{r=t.getPath()}if(this._isPathForSemantic(r)&&a.semanticKeys){const n=a.semanticKeys,r=i.getObject(`/${i.getObject(`/${o}`).$Type}`);try{const e=n.map(function(e){const i=e.$PropertyPath;let o=t.getProperty(i);if(o===undefined||o===null){throw new Error(`Couldn't resolve semantic key value for ${i}`)}else{if(r[i].$Type==="Edm.String"){o=`'${encodeURIComponent(o)}'`}if(n.length>1){o=`${i}=${o}`}return o}}).join(",");s=`/${o}(${e})`}catch(t){e.info(t)}}return n?s:s||r},_isPathForSemantic:function(e){return/^[^()]+\([^()]+\)$/.test(e)}};return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/SizeHelper",["sap/m/Button","sap/ui/core/Core","sap/ui/dom/units/Rem"],function(e,t,n){"use strict";const i={calls:0,hiddenButton:undefined,init:function(){this.calls++;this.hiddenButton=this.hiddenButton?this.hiddenButton:(new e).placeAt(t.getStaticAreaRef());this.hiddenButton.setVisible(false)},getButtonWidth:function(e){var t;if(!e||!this.hiddenButton){return 0}this.hiddenButton.setVisible(true);this.hiddenButton.setText(e);this.hiddenButton.rerender();const i=n.fromPx((t=this.hiddenButton.getDomRef())===null||t===void 0?void 0:t.scrollWidth);this.hiddenButton.setVisible(false);return Math.round(i*100)/100},exit:function(){this.calls--;if(this.calls===0){var e;(e=this.hiddenButton)===null||e===void 0?void 0:e.destroy();this.hiddenButton=undefined}}};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/StableIdHelper",[],function(){"use strict";var e={};const t=e=>{var t;const n=[e.SemanticObject.valueOf(),(t=e.Action)===null||t===void 0?void 0:t.valueOf()];if(e.RequiresContext){n.push("RequiresContext")}return n.filter(e=>e).join("::")};const n=e=>{const t=e.Value;if(t.path){return t.path}else if(t.Apply&&t.Function==="odata.concat"){return t.Apply.map(e=>e.$Path).join("::")}return l(t.replace(/ /g,"_"))};const i=e=>/^([A-Za-z_][-A-Za-z0-9_.:]*)$/.test(e);const o=e=>{e=e.replace("com.sap.vocabularies.UI.v1.","");e=e.replace("com.sap.vocabularies.Communication.v1.","");return e};const a=function(e){var t;let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;let i;switch(e.$Type){case"com.sap.vocabularies.UI.v1.ReferenceFacet":i=e.ID??e.Target.value;break;case"com.sap.vocabularies.UI.v1.CollectionFacet":i=e.ID??"undefined";break;case"com.sap.vocabularies.UI.v1.FieldGroupType":i=e.Label;break;default:i=s(e);break}i=(t=i)===null||t===void 0?void 0:t.toString();return i&&n?c(i):i};e.createIdForAnnotation=a;const r=e=>{const t=e.map(e=>{if(typeof e==="string"||!e){return e}return a(e.targetObject||e,false)});const n=t.filter(e=>e).join("::");return c(n)};e.generate=r;const s=function(e){let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let o="";switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":o=`DataFieldForAction::${e.Action}`;break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":o=`DataFieldForIntentBasedNavigation::${t(e)}`;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":o=`DataFieldForAnnotation::${e.Target.value}`;break;case"com.sap.vocabularies.UI.v1.DataFieldWithAction":o=`DataFieldWithAction::${n(e)}::${e.Action}`;break;case"com.sap.vocabularies.UI.v1.DataField":o=`DataField::${n(e)}`;break;case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":o=`DataFieldWithIntentBasedNavigation::${n(e)}::${t(e)}`;break;case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":o=`DataFieldWithNavigationPath::${n(e)}`;if(e.Target.type==="NavigationPropertyPath"&&!i){o=`${o}::${e.Target.value}`}break;case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":o=`DataFieldWithUrl::${n(e)}`;break;default:break}return o?c(o):undefined};e.getStableIdPartFromDataField=s;const l=e=>{if(e.indexOf(" ")>=0){throw Error(`${e} - Spaces are not allowed in ID parts.`)}e=e.replace(/^\/|^@|^#|^\*/,"").replace(/\/$|@$|#$|\*$/,"").replace(/\/|@|\(|\)|#|\*/g,"::");while(e.indexOf("::::")>-1){e=e.replace("::::","::")}if(e.slice(-2)=="::"){e=e.slice(0,-2)}return e};e.replaceSpecialChars=l;const c=function(e){e=l(o(e));if(i(e)){return e}else{throw Error(`${e} - Stable Id could not be generated due to insufficient information.`)}};e.prepareId=c;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/Synchronization",[],function(){"use strict";let e=function(){function e(){this._fnResolve=null;this._isResolved=false}var t=e.prototype;t.waitFor=function e(){if(this._isResolved){return Promise.resolve()}else{return new Promise(e=>{this._fnResolve=e})}};t.resolve=function e(){if(!this._isResolved){this._isResolved=true;if(this._fnResolve){this._fnResolve()}}};return e}();return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/ToES6Promise",[],function(){"use strict";function e(e){return Promise.resolve(e.then(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}return Array.prototype.slice.call(t)}).catch(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}return Array.prototype.slice.call(t)}))}return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/helpers/TypeGuards",[],function(){"use strict";var e={};function t(e){var t,n;return e===null||e===void 0?void 0:(t=(n=e).isA)===null||t===void 0?void 0:t.call(n,"sap.ui.model.Context")}e.isContext=t;function n(e){return Array.isArray(e)&&e.length>0&&e.every(e=>typeof e==="function")}e.isFunctionArray=n;function i(e,t){return e.$Type===t}e.isAnnotationOfType=i;function o(e){return(e===null||e===void 0?void 0:e.hasOwnProperty("_type"))??false}e.isServiceObject=o;function a(e){return(e===null||e===void 0?void 0:e._type)==="ComplexType"}e.isComplexType=a;function r(e){return(e===null||e===void 0?void 0:e._type)==="TypeDefinition"}e.isTypeDefinition=r;function s(e){return(e===null||e===void 0?void 0:e._type)==="EntityContainer"}e.isEntityContainer=s;function l(e){return(e===null||e===void 0?void 0:e._type)==="EntitySet"}e.isEntitySet=l;function c(e){return(e===null||e===void 0?void 0:e._type)==="Singleton"}e.isSingleton=c;function u(e){return(e===null||e===void 0?void 0:e._type)==="EntityType"}e.isEntityType=u;function d(e){return(e===null||e===void 0?void 0:e._type)==="Property"}e.isProperty=d;function p(e){return(e===null||e===void 0?void 0:e._type)==="NavigationProperty"}e.isNavigationProperty=p;function f(e){return p(e)&&!e.isCollection}e.isSingleNavigationProperty=f;function g(e){return p(e)&&e.isCollection}e.isMultipleNavigationProperty=g;function v(e){return(e===null||e===void 0?void 0:e.type)==="Path"}e.isPathAnnotationExpression=v;function h(e){return(e===null||e===void 0?void 0:e.type)==="PropertyPath"}e.isPropertyPathExpression=h;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/jsx-runtime/Fragment",[],function(){"use strict";var e={};let t=function e(){};t.isFragment=true;e=t;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/jsx-runtime/ViewLoader",["sap/fe/core/helpers/ClassSupport","sap/m/Page","sap/ui/base/ManagedObject","sap/ui/core/mvc/View","sap/fe/core/jsx-runtime/jsx"],function(e,t,n,i,o){"use strict";var a,r,s,l,c;var u={};var d=e.property;var p=e.defineUI5Class;function f(e,t,n,i){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function g(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}function h(e,t){h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return h(e,t)}function m(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function y(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let b=(a=p("sap.fe.core.jsx-runtime.MDXViewLoader"),r=d({type:"string"}),a(s=(l=function(e){v(i,e);function i(){var t;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}t=e.call(this,...i)||this;f(t,"viewName",c,g(t));return t}u=i;var a=i.prototype;a.loadDependency=function e(t){return new Promise(e=>{sap.ui.require([t],async t=>{e(t)})})};a.getControllerName=function e(){const t=this.getViewData();return t.controllerName};a.createContent=async function e(a){const r=this.getViewData();const s=r.viewContent||await this.loadDependency(r._mdxViewName);i.preprocessorData=this.mPreprocessors.xml;i.controller=a;const l=n.runWithPreprocessors(()=>s(),{id:e=>this.createId(e)});return o(t,{class:"sapUiContentPadding",children:{content:l}})};return i}(i),c=m(l.prototype,"viewName",[r],{configurable:true,enumerable:true,writable:true,initializer:null}),l))||s);u=b;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/jsx-runtime/jsx-control",["sap/fe/core/helpers/BindingToolkit","sap/m/Text","sap/ui/base/DataType"],function(e,t,n){"use strict";var i=e.isConstant;var o=e.compileExpression;var a=e.compileConstant;const r=function(e,t,n){if(n===undefined||typeof n==="string"){return}if(!e[t]){e[t]=[]}if(s(n)){e[t].push(n)}else if(Array.isArray(n)){n.forEach(n=>{r(e,t,n)})}else{Object.keys(n).forEach(t=>{r(e,t,n[t])})}};const s=function(e){var t,n;return e===null||e===void 0?void 0:(t=(n=e).isA)===null||t===void 0?void 0:t.call(n,"sap.ui.core.Element")};const l=function(e){return!!(e!==null&&e!==void 0&&e.getMetadata)};function c(e,t){const n=e.getAllAggregations();const i=e.getDefaultAggregationName();const o={};r(o,i,t.children);delete t.children;Object.keys(n).forEach(e=>{if(o[e]!==undefined){if(t.hasOwnProperty(e)){t[e].template=o[e][0]}else{t[e]=o[e]}}})}function u(e,t){let r;for(r in t){const u=t[r];if(u!==null&&u!==void 0&&u._type){const e=u;if(i(e)){t[r]=a(u,false,true,true)}else{t[r]=o(e)}}else if(typeof t[r]==="string"&&!t[r].startsWith("{")){var s,l,c;const i=(s=e.getAllProperties()[r])===null||s===void 0?void 0:(l=(c=s).getType)===null||l===void 0?void 0:l.call(c);if(i&&i instanceof n&&["boolean","int","float"].indexOf(i.getName())>-1){t[r]=i.parseValue(u)}}}}const d=function(e,n,i,o){let a;if(e!==null&&e!==void 0&&e.isFragment){a=n.children}else if(e!==null&&e!==void 0&&e.isRuntime){const t=new e(n);a=t.getContent(o.view,o.appComponent)}else if(l(e)){const t=e.getMetadata();if(i!==undefined){n["key"]=i}c(t,n);const o=n.class;const r=n.ref;delete n.ref;delete n.class;u(t,n);a=new e(n);if(o){a.addStyleClass(o)}if(r){r.setCurrent(a)}}else if(typeof e==="function"){const t=e;a=t(n)}else{a=new t({text:"Missing component "+e})}return a};return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/jsx-runtime/jsx-xml",[],function(){"use strict";const e=function(e){if(Array.isArray(e)){return e.join("")}else{return e}};const t=function(e,n,i){if(i===undefined){return}if(!e[n]){e[n]=[]}if(typeof i==="string"&&i.trim().length>0){e[n].push(i)}else if(Array.isArray(i)){i.forEach(i=>{t(e,n,i)})}else{Object.keys(i).forEach(n=>{t(e,n,i[n])})}};const n="fl:delegate";const i=function(i,o,a){const r=i.getMetadata();const s=r.getName().split(".");if(a!==undefined){o["key"]=a}const l=r.getAllProperties();const c=r.getAllAggregations();l["class"]={name:"class"};l["id"]={name:"id"};l[n]={name:n};l["xmlns:fl"]={name:n};if(r.getName()==="sap.ui.core.Fragment"){l["fragmentName"]={name:"fragmentName"}}const u=s.slice(0,-1);const d=s[s.length-1];const p=u[u.length-1];const f=`${p}:${d}`;const g=[];const v=[];const h=r.getDefaultAggregationName();Object.keys(l).forEach(e=>{if(o.hasOwnProperty(e)&&o[e]!==undefined){if(typeof o[e]==="object"){g.push(`${e}='${JSON.stringify(o[e])}'`)}else{g.push(`${e}='${o[e]}'`)}}});const m={[h]:[]};t(m,h,o.children);Object.keys(c).forEach(t=>{if(m.hasOwnProperty(t)&&m[t].length>0){v.push(`<${p}:${t}>\n\t\t\t\t\t\t${e(m[t])}\n\t\t\t\t\t</${p}:${t}>`)}if(o.hasOwnProperty(t)&&o[t]!==undefined){g.push(`${t}='${JSON.stringify(o[t])}'`)}});return`<${f} xmlns:${p}="${u.join(".")}" ${g.join(" ")}>${v.join("")}</${f}>`};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/jsx-runtime/jsx",["sap/fe/core/jsx-runtime/jsx-control","sap/fe/core/jsx-runtime/jsx-xml"],function(e,t){"use strict";let n=false;const i=function(i,a,r){if(!n){return e(i,a,r,o)}else{return t(i,a,r)}};i.renderAsXML=function(e){n=true;const t=e();n=false;return t};let o={};i.getContext=function(){return o};i.withContext=function(e,t){o=e;const n=t();o={};return n};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/jsx-runtime/jsxs",["sap/fe/core/jsx-runtime/jsx"],function(e){"use strict";return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/jsx-runtime/useMDXComponents",["sap/base/Log","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/helpers/ClassSupport","sap/fe/core/jsx-runtime/ViewLoader","sap/fe/macros/macroLibrary","sap/m/FormattedText","sap/m/HBox","sap/m/Panel","sap/m/Title","sap/ui/codeeditor/CodeEditor","sap/ui/core/Fragment","sap/ui/core/library","sap/ui/core/util/XMLPreprocessor","sap/fe/core/jsx-runtime/jsx"],function(e,t,n,i,o,a,r,s,l,c,u,d,p,f){"use strict";var g=d.TitleLevel;var v=n.createReference;var h=t.parseXMLString;function m(e){const t=Array.isArray(e.children)?e.children.map(e=>{let t;if(typeof e==="string"){t=e}else{switch(e.getMetadata().getName()){case"sap.m.Link":t=`<a href="${e.getHref()}">${e.getText()}</a>`;break;case"sap.ui.codeeditor.CodeEditor":t=`<code>${e.getValue()}</code>`;break}}return t}).join(""):e.children;return f(a,{htmlText:t,class:"sapUiTinyMarginBottom"})}function y(e){return f(l,{text:e.children,level:g.H1,class:"sapUiTinyMarginBottom"})}function b(e){return`<a href={strValue.href}>${e.children}</a>`}function C(e){const t=`<ul>${Array.isArray(e.children)?e.children.join(""):e.children}</ul>`;return f(a,{htmlText:t})}function P(e){return`<li>${Array.isArray(e.children)?e.children.join(""):e.children}</li>`}function E(e){return f(l,{text:e.children,level:g.H2,class:"sapUiSmallMarginTop sapUiTinyMarginBottom"})}function T(e){return e.children}function O(t){const n=v();const a=t.binding?{path:t.binding}:undefined;const l=f(s,{headerText:t.headerText||"",class:"sapUiSmallMarginTop",children:f(r,{ref:n})});if(a){l.bindElement(a)}o.register();const c=p.process(h(`<root>${t.children}</root>`,true)[0],{name:"myBuildingBlockFragment"},i.preprocessorData);Promise.resolve(c).then(e=>u.load({definition:e.firstElementChild,controller:i.controller})).then(e=>{n.current.removeAllItems();n.current.addItem(e)}).catch(t=>{e.error(t)});return l}function S(e){var t,n,i;const o=((t=e.children)===null||t===void 0?void 0:t.trim())||"";const a=e.lineCount||Math.max((n=o.split("\n"))===null||n===void 0?void 0:n.length,3);const r=e.type||(e===null||e===void 0?void 0:(i=e.className)===null||i===void 0?void 0:i.split("-")[1])||"js";const s=f(c,{class:"sapUiTinyMargin",lineNumbers:e.lineNumbers||false,type:r,editable:e.editable||false,maxLines:a,height:"auto",width:"98%"});s.setValue(o);if(e.source){fetch(e.source).then(e=>e.text()).then(e=>{var t;const n=Math.max((t=e.split("\n"))===null||t===void 0?void 0:t.length,3);s.setMaxLines(n);s.setValue(e)}).catch(e=>{s.setValue(e.message)})}return s}const A=function(){return{p:m,a:b,h1:y,h2:E,ul:C,li:P,pre:T,code:S,CodeBlock:S,BuildingBlockPlayground:O}};return A},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/library",["sap/base/Log","sap/fe/core/formatters/FPMFormatter","sap/fe/core/formatters/StandardFormatter","sap/fe/core/formatters/ValueFormatter","sap/fe/core/services/AsyncComponentServiceFactory","sap/fe/core/services/CacheHandlerServiceFactory","sap/fe/core/services/EnvironmentServiceFactory","sap/fe/core/services/NavigationServiceFactory","sap/fe/core/services/ResourceModelServiceFactory","sap/fe/core/services/RoutingServiceFactory","sap/fe/core/services/ShellServicesFactory","sap/fe/core/services/SideEffectsServiceFactory","sap/fe/core/services/TemplatedViewServiceFactory","sap/fe/core/type/DateTimeWithTimezone","sap/fe/core/type/Email","sap/fe/core/type/FiscalDate","sap/fe/navigation/library","sap/fe/placeholder/library","sap/ui/base/DataType","sap/ui/core/Core","sap/ui/core/library","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/fl/library","sap/ui/mdc/library"],function(e,t,n,i,o,a,r,s,l,c,u,d,p,f,g,v,h,m,y,b,C,P,E,T){"use strict";var O={};const S="sap.fe";O.feNamespace=S;const A="sap.fe.core";O.feCoreNamespace=A;const I="sap.fe.controllerextensions";O.feCextNamespace=I;const D="sap.fe.core.fpm";O.feFpmNamespace=D;const x=b.initLibrary({name:"sap.fe.core",dependencies:["sap.ui.core","sap.fe.navigation","sap.fe.placeholder","sap.ui.fl","sap.ui.mdc","sap.f"],types:["sap.fe.core.CreationMode","sap.fe.core.VariantManagement"],interfaces:[],controls:[],elements:[],version:"1.113.0",noLibraryCSS:true,extensions:{"sap.ui.support":{publicRules:true,internalRules:true},flChangeHandlers:{"sap.fe.core.controls.FilterBar":"sap/ui/mdc/flexibility/FilterBar"}}});x.InvocationGrouping={Isolated:"Isolated",ChangeSet:"ChangeSet"};x.CreationMode={NewPage:"NewPage",Sync:"Sync",Async:"Async",Deferred:"Deferred",Inline:"Inline",CreationRow:"CreationRow",InlineCreationRows:"InlineCreationRows",External:"External"};x.VariantManagement={None:"None",Page:"Page",Control:"Control"};x.Constants={CancelActionDialog:"cancel",ActionExecutionFailed:"actionExecutionFailed",CreationFailed:"creationFailed"};x.ProgrammingModel={Draft:"Draft",Sticky:"Sticky",NonDraft:"NonDraft"};x.DraftStatus={Saving:"Saving",Saved:"Saved",Clear:"Clear"};x.EditMode={Display:"Display",Editable:"Editable"};x.TemplateContentView={Hybrid:"Hybrid",Chart:"Chart",Table:"Table"};let M;(function(e){e["Enabled"]="Enabled";e["Disabled"]="Disabled";e["Auto"]="Auto"})(M||(M={}));O.InitialLoadMode=M;x.InitialLoadMode=M;x.StartupMode={Normal:"Normal",Deeplink:"Deeplink",Create:"Create",AutoCreate:"AutoCreate"};const _=y.createType("sap.fe.core.InitialLoadMode",{defaultValue:x.InitialLoadMode.Auto,isValid:function(t){if(typeof t==="boolean"){e.warning("DEPRECATED: boolean value not allowed for 'initialLoad' manifest setting - supported values are: Disabled|Enabled|Auto")}return t===undefined||t===null||typeof t==="boolean"||x.InitialLoadMode.hasOwnProperty(t)}});_.setNormalizer(function(e){if(!e){return x.InitialLoadMode.Disabled}return e===true?x.InitialLoadMode.Enabled:e});P.register("sap.fe.core.services.TemplatedViewService",new p);P.register("sap.fe.core.services.ResourceModelService",new l);P.register("sap.fe.core.services.CacheHandlerService",new a);P.register("sap.fe.core.services.NavigationService",new s);P.register("sap.fe.core.services.RoutingService",new c);P.register("sap.fe.core.services.SideEffectsService",new d);P.register("sap.fe.core.services.ShellServices",new u);P.register("sap.fe.core.services.EnvironmentService",new r);P.register("sap.fe.core.services.AsyncComponentService",new o);return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/manifestMerger/ChangePageConfiguration",["sap/base/Log","sap/base/util/ObjectPath"],function(e,t){"use strict";var n={};let i={};function o(t,n){const i=n.getContent();const o=i===null||i===void 0?void 0:i.page;const r=i===null||i===void 0?void 0:i.entityPropertyChange;if((r===null||r===void 0?void 0:r.operation)!=="UPSERT"||!(r!==null&&r!==void 0&&r.propertyPath)||(r===null||r===void 0?void 0:r.propertyValue)===undefined||r!==null&&r!==void 0&&r.propertyPath.startsWith("/")){e.error("Change content is not a valid");return t}return a(t,o,r.propertyPath,r.propertyValue)}n.applyChange=o;function a(n,o,a,l,c){const u=s(n,o);if(u){const e=r(a);t.set(e,l,u);if(c){i[o]=i[o]||[];i[o].push(a)}}else{e.error(`No Fiori elements page with ID ${o} found in routing targets.`)}return n}n.changeConfiguration=a;function r(e){let t=e.split("/");if(t[0]==="controlConfiguration"){let e="";for(let n=1;n<t.length;n++){e+=(n>1?"/":"")+t[n];if(e.indexOf("@")>-1){t=["controlConfiguration",e].concat(t.slice(n+1));break}}}return t}function s(e,t){var n,i;let o;const a=((n=e["sap.ui5"])===null||n===void 0?void 0:(i=n.routing)===null||i===void 0?void 0:i.targets)??{};for(const e in a){if(a[e].id===t&&a[e].name.startsWith("sap.fe.templates.")){var r;o=((r=a[e].options)===null||r===void 0?void 0:r.settings)??{};break}}return o}function l(e,n,o,a){n=n??{};const r=i[a]||[];for(const i of r){const o=t.get(i,e);t.set(i,o,n)}return n}n.applyPageConfigurationChanges=l;function c(){i={}}n.cleanPageConfigurationChanges=c;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/operationsHelper",["sap/m/MessageBox","sap/ui/core/message/Message","sap/ui/model/json/JSONModel","./controllerextensions/dialog/OperationsDialog.block","./controllerextensions/messageHandler/messageHandling","./formatters/TableFormatterTypes"],function(e,t,n,i,o,a){"use strict";var r=a.MessageType;function s(a,s,l,c,u,d,p,f,g){const v=a.label;const h=a.model;const m=u===null||u===void 0?void 0:u.strictHandlingPromises;let y;let b=s.getText("C_COMMON_DIALOG_CANCEL");let C="";let P="";C=a.bGrouped?s.getText("C_COMMON_DIALOG_CANCEL_MESSAGE_TEXT",[v]):s.getText("C_COMMON_DIALOG_SKIP_SINGLE_MESSAGE_TEXT");if(c.length===1){const t=c[0].getMessage();const n=c[0].getAdditionalText();P=s.getText("C_COMMON_DIALOG_CANCEL_SINGLE_MESSAGE_TEXT");if(!d){y=`${t}\n${s.getText("PROCEED")}`}else if(n!==undefined&&n!==""){b=a.bGrouped?b:s.getText("C_COMMON_DIALOG_SKIP");const e=a.control.getParent().getTableDefinition().headerInfoTypeName;if(e){y=`${e.toString()} ${n}: ${t}\n\n${C}`}else{y=`${n}: ${t}\n\n${C}`}}else{b=a.bGrouped?b:s.getText("C_COMMON_DIALOG_SKIP");y=`${t}\n\n${C}`}if(d){y=`${P}\n\n${y}`}e.warning(y,{title:s.getText("WARNING"),actions:[v,b],emphasizedAction:v,onClose:function(t){if(t===v){if(g){p(true);h.submitBatch(f);if(a.requestSideEffects){a.requestSideEffects()}}else if(!d){m[0].resolve(true);h.submitBatch(m[0].groupId);if(m[0].requestSideEffects){m[0].requestSideEffects()}}else{m.forEach(function(e){e.resolve(true);h.submitBatch(e.groupId);if(e.requestSideEffects){e.requestSideEffects()}});const e=u===null||u===void 0?void 0:u.strictHandlingTransitionFails;if(e.length>0){l===null||l===void 0?void 0:l.removeTransitionMessages()}}if(u){u.is412Executed=true}}else{if(u){u.is412Executed=false}if(g){p(false)}else if(!d){m[0].resolve(false)}else{m.forEach(function(e){e.resolve(false)})}if(a.bGrouped){e.information(s.getText("M_CHANGESET_CANCEL_MESSAGES"),{contentWidth:"150px"})}}if(u){u.strictHandlingWarningMessages=[]}}})}else if(c.length>1){if(d){b=a.bGrouped?b:s.getText("C_COMMON_DIALOG_SKIP");const e=a.bGrouped?s.getText("C_COMMON_DIALOG_CANCEL_MESSAGES_WARNING"):s.getText("C_COMMON_DIALOG_SKIP_MESSAGES_WARNING");const n=a.bGrouped?s.getText("C_COMMON_DIALOG_CANCEL_MESSAGES_TEXT",[v]):s.getText("C_COMMON_DIALOG_SKIP_MESSAGES_TEXT",[v]);const i=new t({message:e,type:r.Warning,target:undefined,persistent:true,description:n});c=[i].concat(c)}const g=new n;g.setData(c);const y=true;const C=o.prepareMessageViewForDialog(g,y,d);const P=new i({messageObject:C,isMultiContext412:d,isGrouped:a===null||a===void 0?void 0:a.bGrouped,resolve:p,model:h,groupId:f,actionName:v,strictHandlingUtilities:u,strictHandlingPromises:m,messageHandler:l,messageDialogModel:g,cancelButtonTxt:b,showMessageInfo:function t(){e.information(s.getText("M_CHANGESET_CANCEL_MESSAGES"),{contentWidth:"150px"})}});P.open()}}async function l(e,t,n,i,o,a,r,s,l){let u;if(i===null&&a===null||i===1&&a===1){return new Promise(function(i){c.renderMessageView(t,n,r,l,s,false,i,e,true)})}if(l.length){var d,p;const n=new Promise(function(n){u={requestSideEffects:t.requestSideEffects,resolve:n,groupId:e}});s.strictHandlingPromises.push(u);const i=s.strictHandlingWarningMessages;const r=(d=t.control)===null||d===void 0?void 0:(p=d.getParent())===null||p===void 0?void 0:p.getIdentifierColumn();let c="";if(r&&a&&a>1){c=o&&o.getObject(r)}l.forEach(function(e){e.setType("Warning");e.setAdditionalText(c);i.push(e)});s.strictHandlingWarningMessages=i;t.internalOperationsPromiseResolve();return n}}const c={renderMessageView:s,fnOnStrictHandlingFailed:l};return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/rootView/Fcl.controller",["sap/base/Log","sap/f/FlexibleColumnLayoutSemanticHelper","sap/f/library","sap/fe/core/controllerextensions/ViewState","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/KeepAliveHelper","sap/m/Link","sap/m/MessageBox","sap/m/MessagePage","./RootViewBaseController"],function(e,t,n,i,o,a,r,s,l,c){"use strict";var u,d,p,f,g;var v=s.Icon;var h=s.Action;var m=o.usingExtension;var y=o.defineUI5Class;function b(e,t,n,i){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function C(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function P(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}function E(e,t){E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return E(e,t)}function T(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function O(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}const S=n.LayoutType;const A={page:{names:["BeginColumn","MidColumn","EndColumn"],currentGetter:{prefix:"getCurrent",suffix:"Page"},getter:{prefix:"get",suffix:"Pages"}}};const I=function(e){if(e.isA("sap.ui.core.ComponentContainer")){return e.getComponentInstance().getRootControl()}else{return e}};let D=(u=y("sap.fe.core.rootView.Fcl"),d=m(i.override({applyInitialStateOnly:function(){return false},adaptBindingRefreshControls:function(e){this.getView().getController()._getAllVisibleViews().forEach(function(t){const n=Promise.resolve(t);e.push(n)})},adaptStateControls:function(e){this.getView().getController()._getAllVisibleViews().forEach(function(t){const n=Promise.resolve(t);e.push(n)})},onRestore:function(){const e=this.getView().getController();const t=e.getAppContentContainer();const n=t.getModel("internal");const i=n.getProperty("/pages");for(const e in i){n.setProperty(`/pages/${e}/restoreStatus`,"pending")}e.onContainerReady()},onSuspend:function(){const e=this.getView().getController();const t=e.getFclControl();const n=t.getBeginColumnPages()||[];const i=t.getMidColumnPages()||[];const o=t.getEndColumnPages()||[];const a=[].concat(n,i,o);a.forEach(function(e){const t=I(e);const n=t&&t.getController();if(n&&n.viewState&&n.viewState.onSuspend){n.viewState.onSuspend()}})}})),u(p=(f=function(n){P(i,n);function i(){var e;for(var t=arguments.length,i=new Array(t),o=0;o<t;o++){i[o]=arguments[o]}e=n.call(this,...i)||this;b(e,"viewState",g,C(e));return e}var o=i.prototype;o.onInit=function e(){n.prototype.onInit.call(this);this._internalInit()};o.manageDataReceived=function e(t){if(t.getParameter("error")){var n;const e=t.getParameter("path"),i=this._getAllVisibleViews().find(t=>{var n;return((n=t.getBindingContext())===null||n===void 0?void 0:n.getPath())===e});if(e&&i!==null&&i!==void 0&&(n=i.getBindingContext())!==null&&n!==void 0&&n.isKeepAlive()){i.getController()._routing.onDataReceived(t)}}};o.attachRouteMatchers=function e(){this.getRouter().attachBeforeRouteMatched(this._getViewForNavigatedRowsComputation,this);n.prototype.attachRouteMatchers.call(this);this._internalInit();this.getRouter().attachBeforeRouteMatched(this.onBeforeRouteMatched,this);this.getRouter().attachRouteMatched(this.onRouteMatched,this);this.getFclControl().attachStateChange(this._saveLayout,this)};o._internalInit=function e(){var t,n;if(this._oRouterProxy){return}this.sCurrentRouteName="";this.sCurrentArguments={};this.SQUERYKEYNAME="?query";const i=this.getAppComponent();const o=this.getAppComponent().getModel();o===null||o===void 0?void 0:o.attachEvent("dataReceived",this.manageDataReceived.bind(this));this._oRouterProxy=i.getRouterProxy();this._oFCLConfig={maxColumnsCount:3};const a=i.getManifest()["sap.ui5"].routing;if(a!==null&&a!==void 0&&(t=a.config)!==null&&t!==void 0&&t.flexibleColumnLayout){const e=a.config.flexibleColumnLayout;if(e.defaultTwoColumnLayoutType){this._oFCLConfig.defaultTwoColumnLayoutType=e.defaultTwoColumnLayoutType}if(e.defaultThreeColumnLayoutType){this._oFCLConfig.defaultThreeColumnLayoutType=e.defaultThreeColumnLayoutType}if(e.limitFCLToTwoColumns===true){this._oFCLConfig.maxColumnsCount=2}}if(a!==null&&a!==void 0&&(n=a.config)!==null&&n!==void 0&&n.controlAggregation){this._oFCLConfig.defaultControlAggregation=a.config.controlAggregation}this._initializeTargetAggregation(i);this._initializeRoutesInformation(i);this.getFclControl().attachStateChange(this.onStateChanged,this);this.getFclControl().attachAfterEndColumnNavigate(this.onStateChanged,this)};o.getFclControl=function e(){return this.getAppContentContainer()};o._saveLayout=function e(t){this.sPreviousLayout=t.getParameters().layout};o._getViewForNavigatedRowsComputation=function e(){const t=this._getAllVisibleViews(this.sPreviousLayout);const n=t[t.length-1];let i;this.getRouter().attachEventOnce("routeMatched",e=>{i=I(e.getParameter("views")[e.getParameter("views").length-1]);if(n){if(i.getViewData()&&i.getViewData().viewLevel===this._oFCLConfig.maxColumnsCount){this.oAdditionalViewForNavRowsComputation=i}if(i.getViewData()&&n.getViewData()&&n.getViewData().viewLevel<this._oFCLConfig.maxColumnsCount&&n.getViewData()&&n.getViewData().viewLevel>i.getViewData().viewLevel&&i!==n){this.oAdditionalViewForNavRowsComputation=n}}})};o.getViewForNavigatedRowsComputation=function e(){return this.oAdditionalViewForNavRowsComputation};o.onExit=function e(){this.getRouter().detachRouteMatched(this.onRouteMatched,this);this.getRouter().detachBeforeRouteMatched(this.onBeforeRouteMatched,this);this.getFclControl().detachStateChange(this.onStateChanged,this);this.getFclControl().detachAfterEndColumnNavigate(this.onStateChanged,this);this._oTargetsAggregation=null;this._oTargetsFromRoutePattern=null;c.prototype.onExit.bind(this)()};o.isFclEnabled=function e(){return true};o.displayErrorPage=function e(t,n){const i=this.getFclControl();if(this._oFCLConfig&&n.FCLLevel>=this._oFCLConfig.maxColumnsCount){n.FCLLevel=this._oFCLConfig.maxColumnsCount-1}if(!this.aMessagePages){this.aMessagePages=[null,null,null]}let o=this.aMessagePages[n.FCLLevel];if(!o){o=new l({showHeader:false,icon:"sap-icon://message-error"});this.aMessagePages[n.FCLLevel]=o;switch(n.FCLLevel){case 0:i.addBeginColumnPage(o);break;case 1:i.addMidColumnPage(o);break;default:i.addEndColumnPage(o)}}o.setText(t);if(n.technicalMessage){o.setCustomDescription(new r({text:n.description||n.technicalMessage,press:function(){s.show(n.technicalMessage,{icon:v.ERROR,title:n.title,actions:[h.OK],defaultAction:h.OK,details:n.technicalDetails||"",contentWidth:"60%"})}}))}else{o.setDescription(n.description||"")}i.to(o.getId());return Promise.resolve(true)};o._initializeTargetAggregation=function e(t){const n=t.getManifest(),i=n["sap.ui5"].routing?n["sap.ui5"].routing.targets:null;this._oTargetsAggregation={};if(i){Object.keys(i).forEach(e=>{const t=i[e];if(t.controlAggregation){this._oTargetsAggregation[e]={aggregation:t.controlAggregation,pattern:t.contextPattern}}else{this._oTargetsAggregation[e]={aggregation:"page",pattern:null}}})}};o._initializeRoutesInformation=function e(t){const n=t.getManifest(),i=n["sap.ui5"].routing?n["sap.ui5"].routing.routes:null;this._oTargetsFromRoutePattern={};if(i){i.forEach(e=>{this._oTargetsFromRoutePattern[e.pattern]=e.target})}};o.getCurrentArgument=function e(){return this.sCurrentArguments};o.getCurrentRouteName=function e(){return this.sCurrentRouteName};o.getConstants=function e(){return A};o.getTargetAggregation=function e(){return this._oTargetsAggregation};o.onRouteMatched=function e(t){const n=t.getParameter("name");this.sCurrentRouteName=n;this.sCurrentArguments=t.getParameter("arguments")};o._scrollTablesToLastNavigatedItems=function e(){const t=this._getAllVisibleViews();if(t.length>1||t[0].getViewData().viewLevel<this._oFCLConfig.maxColumnsCount){let e;const n=this.getViewForNavigatedRowsComputation();if(n&&t.indexOf(n)===-1){t.push(n)}for(let n=t.length-1;n>0;n--){const i=t[n],o=t[n-1];if(i.getBindingContext()){e=i.getBindingContext().getPath();o.getController()._scrollTablesToRow(e)}}}};o.onStateChanged=function e(t){const n=t.getParameter("isNavigationArrow");if(this.sCurrentArguments!==undefined){if(!this.sCurrentArguments[this.SQUERYKEYNAME]){this.sCurrentArguments[this.SQUERYKEYNAME]={}}this.sCurrentArguments[this.SQUERYKEYNAME].layout=t.getParameter("layout")}this._forceModelContextChangeOnBreadCrumbs(t);if(n){this._oRouterProxy.navTo(this.sCurrentRouteName,this.sCurrentArguments)}const i=this.getRightmostView();if(i){this._computeTitleHierarchy(i)}};o._forceModelContextChangeOnBreadCrumbs=function e(t){const n=t.getSource();let i=[];i=i.concat(n.getBeginColumnPages()).concat(n.getMidColumnPages()).concat(n.getEndColumnPages());i.forEach(function(e){const t=I(e);const n=t.byId&&t.byId("breadcrumbs");if(n){n.fireModelContextChange()}})};o._updateShareButtonVisibility=function e(t,n){let i;switch(n){case"OneColumn":i=t==="beginColumn";break;case"MidColumnFullScreen":case"ThreeColumnsBeginExpandedEndHidden":case"ThreeColumnsMidExpandedEndHidden":case"TwoColumnsBeginExpanded":case"TwoColumnsMidExpanded":i=t==="midColumn";break;case"EndColumnFullScreen":case"ThreeColumnsEndExpanded":case"ThreeColumnsMidExpanded":i=t==="endColumn";break;default:i=false}return i};o._updateEditButtonVisiblity=function e(t,n){let i=true;switch(t){case"midColumn":switch(n){case"TwoColumnsMidExpanded":case"ThreeColumnsMidExpanded":case"ThreeColumnsEndExpanded":i=false;break}break;case"endColumn":switch(n){case"ThreeColumnsMidExpanded":case"ThreeColumnsEndExpanded":i=false}break}return i};o.updateUIStateForView=function e(t,n){const i=this.getHelper().getCurrentUIState(),o=["beginColumn","midColumn","endColumn"],a=this.getFclControl().getLayout();let r;if(!t.getModel("fclhelper")){t.setModel(this._createHelperModel(),"fclhelper")}if(n>=this._oFCLConfig.maxColumnsCount){r=o[this._oFCLConfig.maxColumnsCount-1];i.actionButtonsInfo.midColumn.fullScreen=null;i.actionButtonsInfo.midColumn.exitFullScreen=null;i.actionButtonsInfo.midColumn.closeColumn=null;i.actionButtonsInfo.endColumn.exitFullScreen=null;i.actionButtonsInfo.endColumn.fullScreen=null;i.actionButtonsInfo.endColumn.closeColumn=null}else{r=o[n]}if(n>=this._oFCLConfig.maxColumnsCount||a==="EndColumnFullScreen"||a==="MidColumnFullScreen"||a==="OneColumn"){t.getModel("fclhelper").setProperty("/breadCrumbIsVisible",true)}else{t.getModel("fclhelper").setProperty("/breadCrumbIsVisible",false)}i.actionButtonsInfo.beginColumn={fullScreen:null,exitFullScreen:null,closeColumn:null};const s=Object.assign({},i.actionButtonsInfo[r]);s.switchVisible=s.fullScreen!==null||s.exitFullScreen!==null;s.switchIcon=s.fullScreen!==null?"sap-icon://full-screen":"sap-icon://exit-full-screen";s.isFullScreen=s.fullScreen===null;s.closeVisible=s.closeColumn!==null;t.getModel("fclhelper").setProperty("/actionButtonsInfo",s);t.getModel("fclhelper").setProperty("/showEditButton",this._updateEditButtonVisiblity(r,a));t.getModel("fclhelper").setProperty("/showShareIcon",this._updateShareButtonVisibility(r,a))};o.onBeforeRouteMatched=function e(t){if(t){const e=t.getParameters().arguments[this.SQUERYKEYNAME];let n=e?e.layout:null;if(!n){const e=this.getHelper().getNextUIState(0);n=e.layout}const i=t.getParameter("config").target;n=this._correctLayoutForTargets(n,i);if(n){this.getFclControl().setLayout(n)}}};o.getHelper=function e(){return t.getInstanceFor(this.getFclControl(),this._oFCLConfig)};o.calculateLayout=function e(t,n,i){let o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(!i){i=o?this.getFclControl().getLayout():this.getHelper().getNextUIState(t).layout}const a=this.getRouter().getRouteByHash(`${n}?layout=${i}`);const r=this._oTargetsFromRoutePattern[a.getPattern()];return this._correctLayoutForTargets(i,r)};o._correctLayoutForTargets=function e(t,n){const i={2:["TwoColumnsMidExpanded","TwoColumnsBeginExpanded","MidColumnFullScreen"],3:["ThreeColumnsMidExpanded","ThreeColumnsEndExpanded","ThreeColumnsMidExpandedEndHidden","ThreeColumnsBeginExpandedEndHidden","MidColumnFullScreen","EndColumnFullScreen"]};if(n&&!Array.isArray(n)){n=[n]}if(!n){return t}else if(n.length>1){const e=i[n.length];if(e.indexOf(t)<0){t=e[0]}}else{const e=this.getTargetAggregation()[n[0]].aggregation||this._oFCLConfig.defaultControlAggregation;switch(e){case"beginColumnPages":t="OneColumn";break;case"midColumnPages":t="MidColumnFullScreen";break;case"endColumnPages":t="EndColumnFullScreen";break}}return t};o.getInstancedViews=function e(){const t=this.getFclControl();const n=[...t.getBeginColumnPages(),...t.getMidColumnPages(),...t.getEndColumnPages()];return n.map(e=>e.getComponentInstance().getRootControl())};o._getAllVisibleViews=function t(n){const i=[];n=n?n:this.getFclControl().getLayout();switch(n){case S.EndColumnFullScreen:if(this.getFclControl().getCurrentEndColumnPage()){i.push(I(this.getFclControl().getCurrentEndColumnPage()))}break;case S.MidColumnFullScreen:if(this.getFclControl().getCurrentMidColumnPage()){i.push(I(this.getFclControl().getCurrentMidColumnPage()))}break;case S.OneColumn:if(this.getFclControl().getCurrentBeginColumnPage()){i.push(I(this.getFclControl().getCurrentBeginColumnPage()))}break;case S.ThreeColumnsEndExpanded:case S.ThreeColumnsMidExpanded:if(this.getFclControl().getCurrentBeginColumnPage()){i.push(I(this.getFclControl().getCurrentBeginColumnPage()))}if(this.getFclControl().getCurrentMidColumnPage()){i.push(I(this.getFclControl().getCurrentMidColumnPage()))}if(this.getFclControl().getCurrentEndColumnPage()){i.push(I(this.getFclControl().getCurrentEndColumnPage()))}break;case S.TwoColumnsBeginExpanded:case S.TwoColumnsMidExpanded:case S.ThreeColumnsMidExpandedEndHidden:case S.ThreeColumnsBeginExpandedEndHidden:if(this.getFclControl().getCurrentBeginColumnPage()){i.push(I(this.getFclControl().getCurrentBeginColumnPage()))}if(this.getFclControl().getCurrentMidColumnPage()){i.push(I(this.getFclControl().getCurrentMidColumnPage()))}break;default:e.error(`Unhandled switch case for ${this.getFclControl().getLayout()}`)}return i};o._getAllViews=function t(n){const i=[];n=n?n:this.getFclControl().getLayout();switch(n){case S.OneColumn:if(this.getFclControl().getCurrentBeginColumnPage()){i.push(I(this.getFclControl().getCurrentBeginColumnPage()))}break;case S.ThreeColumnsEndExpanded:case S.ThreeColumnsMidExpanded:case S.ThreeColumnsMidExpandedEndHidden:case S.ThreeColumnsBeginExpandedEndHidden:case S.EndColumnFullScreen:if(this.getFclControl().getCurrentBeginColumnPage()){i.push(I(this.getFclControl().getCurrentBeginColumnPage()))}if(this.getFclControl().getCurrentMidColumnPage()){i.push(I(this.getFclControl().getCurrentMidColumnPage()))}if(this.getFclControl().getCurrentEndColumnPage()){i.push(I(this.getFclControl().getCurrentEndColumnPage()))}break;case S.TwoColumnsBeginExpanded:case S.TwoColumnsMidExpanded:if(this.getFclControl().getCurrentBeginColumnPage()){i.push(I(this.getFclControl().getCurrentBeginColumnPage()))}if(this.getFclControl().getCurrentMidColumnPage()){i.push(I(this.getFclControl().getCurrentMidColumnPage()))}break;case S.MidColumnFullScreen:const t=this.getHelper().getCurrentUIState().actionButtonsInfo.midColumn.exitFullScreen;if(this.getFclControl().getCurrentBeginColumnPage()){i.push(I(this.getFclControl().getCurrentBeginColumnPage()))}if(this.getFclControl().getCurrentMidColumnPage()){i.push(I(this.getFclControl().getCurrentMidColumnPage()))}if(t.indexOf("ThreeColumn")>=0){if(this.getFclControl().getCurrentEndColumnPage()){i.push(I(this.getFclControl().getCurrentEndColumnPage()))}}break;default:e.error(`Unhandled switch case for ${this.getFclControl().getLayout()}`)}return i};o.onContainerReady=function e(){const t=this._getAllVisibleViews();const n=t.reduce(function(e,t){e.push(a.restoreView(t));return e},[]);return Promise.all(n)};o.getRightmostContext=function e(){const t=this.getRightmostView();return t&&t.getBindingContext()};o.getRightmostView=function e(){return this._getAllViews().pop()};o.isContextUsedInPages=function e(t){if(!this.getFclControl()){return false}const n=this._getAllViews();for(const e of n){if(e){if(e.getBindingContext()===t){return true}}else{return false}}return false};o._setShellMenuTitle=function e(t,n,i){if(this.getHelper().getCurrentUIState().isFullScreen!==true){t.getShellServices().setTitle(i)}else{t.getShellServices().setTitle(n)}};return i}(c),g=T(f.prototype,"viewState",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),f))||p);return D},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/rootView/NavContainer.controller",["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/ViewState","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/KeepAliveHelper","sap/m/IllustratedMessage","sap/m/Page","./RootViewBaseController"],function(e,t,n,i,o,a,r,s){"use strict";var l,c,u,d,p;var f=i.usingExtension;var g=i.defineUI5Class;function v(e,t,n,i){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}function y(e,t){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return y(e,t)}function b(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function C(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let P=(l=g("sap.fe.core.rootView.NavContainer"),c=f(n.override({applyInitialStateOnly:function(){return false},adaptBindingRefreshControls:function(e){const t=this.getView(),n=t.getController();e.push(n._getCurrentPage(t))},adaptStateControls:function(e){const t=this.getView(),n=t.getController();e.push(n._getCurrentPage(t))},onRestore:function(){const e=this.getView(),t=e.getController(),n=t.getAppContentContainer();const i=n.getModel("internal");const o=i.getProperty("/pages");for(const e in o){i.setProperty(`/pages/${e}/restoreStatus`,"pending")}t.onContainerReady()},onSuspend:function(){const e=this.getView(),n=e.getController(),i=n.getAppContentContainer();const o=i.getPages();o.forEach(function(e){const n=t.getTargetView(e);const i=n&&n.getController();if(i&&i.viewState&&i.viewState.onSuspend){i.viewState.onSuspend()}})}})),l(u=(d=function(n){m(i,n);function i(){var e;for(var t=arguments.length,i=new Array(t),o=0;o<t;o++){i[o]=arguments[o]}e=n.call(this,...i)||this;v(e,"viewState",p,h(e));return e}var s=i.prototype;s.onContainerReady=function e(){const n=this.getView(),i=this._getCurrentPage(n);return i.then(function(e){const n=t.getTargetView(e);return o.restoreView(n)})};s._getCurrentPage=function e(n){const i=this.getAppContentContainer();return new Promise(function(e){const o=i.getCurrentPage();if(o&&o.getController&&o.getController().isPlaceholder&&o.getController().isPlaceholder()){o.getController().attachEventOnce("targetPageInsertedInContainer",function(i){const o=i.getParameter("targetpage");const a=t.getTargetView(o);e(a!==n&&a)})}else{const i=t.getTargetView(o);e(i!==n&&i)}})};s._getNavContainer=function e(){return this.getAppContentContainer()};s.getInstancedViews=function e(){return this._getNavContainer().getPages().map(e=>e.getComponentInstance().getRootControl())};s.isFclEnabled=function e(){return false};s._scrollTablesToLastNavigatedItems=function e(){};s.displayErrorPage=function n(i,o){return new Promise((n,s)=>{try{const e=this._getNavContainer();if(!this.oPage){this.oPage=new r({showHeader:false});this.oIllustratedMessage=new a({title:i,description:o.description||"",illustrationType:`sapIllus-${o.errorType}`});this.oPage.insertContent(this.oIllustratedMessage,0);e.addPage(this.oPage)}if(o.handleShellBack){const n=e.getCurrentPage(),i=t.getAppComponent(e.getCurrentPage());i.getShellServices().setBackNavigation(function(){e.to(n.getId());i.getShellServices().setBackNavigation()})}e.attachAfterNavigate(function(){n(true)});e.to(this.oPage.getId())}catch(t){s(false);e.info(t)}})};return i}(s),p=b(d.prototype,"viewState",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),d))||u);return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/rootView/RootViewBaseController",["sap/base/Log","sap/fe/core/BaseController","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/Placeholder","sap/fe/core/controllerextensions/ViewState","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/SizeHelper","sap/ui/base/BindingParser","sap/ui/core/routing/HashChanger","sap/ui/model/json/JSONModel","sap/ui/model/odata/v4/AnnotationHelper"],function(e,t,n,i,o,a,r,s,l,c,u){"use strict";var d,p,f,g,v,h,m;var y=a.usingExtension;var b=a.defineUI5Class;function C(e,t,n,i){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function P(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function E(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;T(e,t)}function T(e,t){T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return T(e,t)}function O(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function S(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let A=(d=b("sap.fe.core.rootView.RootViewBaseController"),p=y(i),f=y(o),d(g=(v=function(t){E(i,t);function i(){var e;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}e=t.call(this,...i)||this;C(e,"oPlaceholder",h,P(e));C(e,"viewState",m,P(e));e.bIsComputingTitleHierachy=false;return e}var o=i.prototype;o.onInit=function e(){r.init();this._aHelperModels=[]};o.getPlaceholder=function e(){return this.oPlaceholder};o.attachRouteMatchers=function e(){this.oPlaceholder.attachRouteMatchers();this.getAppComponent().getRoutingService().attachAfterRouteMatched(this._onAfterRouteMatched,this)};o.onExit=function e(){this.getAppComponent().getRoutingService().detachAfterRouteMatched(this._onAfterRouteMatched,this);this.oRouter=undefined;r.exit();this._aHelperModels.forEach(function(e){e.destroy()})};o.getResourceBundle=function e(){return this.getOwnerComponent().getModel("i18n").getResourceBundle()};o.getRouter=function e(){if(!this.oRouter){this.oRouter=this.getAppComponent().getRouter()}return this.oRouter};o._createHelperModel=function e(){const t=new c;this._aHelperModels.push(t);return t};o.waitForRightMostViewReady=function e(t){return new Promise(function(e){const n=t.getParameter("views"),i=[];n.forEach(function(e){let t=e;if(e&&e.getComponentInstance){const n=e.getComponentInstance();t=n.getRootControl()}if(t&&t.getController()&&t.getController().pageReady){i.push(t)}});const o=i[i.length-1];if(o&&o.getController().pageReady.isPageReady()){e(o)}else if(o){o.getController().pageReady.attachEventOnce("pageReady",function(){e(o)})}})};o._onAfterRouteMatched=function t(n){if(!this._oRouteMatchedPromise){this._oRouteMatchedPromise=this.waitForRightMostViewReady(n).then(e=>{const t=this.getView().getContent()[0];if(t&&t.getAutoFocus&&!t.getAutoFocus()){t.setProperty("autoFocus",true,true)}const n=this.getAppComponent();this._scrollTablesToLastNavigatedItems();if(n.getEnvironmentCapabilities().getCapabilities().UShell){this._computeTitleHierarchy(e)}const i=n.getRouterProxy().isFocusForced();n.getRouterProxy().setFocusForced(false);if(e.getController()&&e.getController().onPageReady&&e.getParent().onPageReady){e.getParent().onPageReady({forceFocus:i})}if(!i){n.getRouterProxy().restoreFocusForCurrentHash()}if(this.onContainerReady){this.onContainerReady()}}).catch(function(t){e.error("An error occurs while computing the title hierarchy and calling focus method",t)}).finally(()=>{this._oRouteMatchedPromise=null})}};o._getTitleHierarchyCache=function e(){if(!this.oTitleHierarchyCache){this.oTitleHierarchyCache={}}return this.oTitleHierarchyCache};o._computeTitleInfo=function e(t,n,i){let o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";const a=i.split("/");if(a[a.length-1].indexOf("?")===-1){i+="?restoreHistory=true"}else{i+="&restoreHistory=true"}return{title:t,subtitle:n,intent:i,icon:o}};o._formatTitle=function e(t,n,i){let o="";switch(t){case"Value":o=`${n}`;break;case"ValueDescription":o=`${n} (${i})`;break;case"DescriptionValue":o=`${i} (${n})`;break;case"Description":o=`${i}`;break;default:}return o};o._fetchTitleValue=async function t(i){const o=this.getAppComponent(),a=this.getView().getModel(),r=o.getMetaModel(),l=r.getMetaPath(i),c=a.createBindingContext(i),d=u.format(r.getObject(`${l}/@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value`),{context:r.createBindingContext("/")});if(!d){return Promise.resolve("")}const p=u.format(r.getObject(`${l}/@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value/$Path@com.sap.vocabularies.Common.v1.Text`),{context:r.createBindingContext("/")}),f=r.getObject(`${l}/@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value/$Path@`),g=[],v=s.complexParser(d),h=new Promise(function(e){const t=n.computeDisplayMode(f);e(t)});g.push(h);const m=v.parts?v.parts[0].path:v.path,y=v.formatter,b=a.bindProperty(m,c);b.initialize();const C=new Promise(function(e){const t=function(n){const i=y?y(n.getSource().getValue()):n.getSource().getValue();b.detachChange(t);e(i)};b.attachChange(t)});g.push(C);if(p){const e=s.complexParser(p);let t=e.parts?e.parts[0].path:e.path;t=m.lastIndexOf("/")>-1?`${m.slice(0,m.lastIndexOf("/"))}/${t}`:t;const n=e.formatter,i=a.bindProperty(t,c);i.initialize();const o=new Promise(function(e){const t=function(o){const a=n?n(o.getSource().getValue()):o.getSource().getValue();i.detachChange(t);e(a)};i.attachChange(t)});g.push(o)}try{const e=await Promise.all(g);let t="";if(typeof e!=="string"){t=this._formatTitle(e[0],e[1],e[2])}return t}catch(t){e.error("Error while fetching the title from the header info :"+t)}return""};o._getAppSpecificHash=function e(){const t=l.getInstance();return"hrefForAppSpecificHash"in t?t.hrefForAppSpecificHash(""):"#/"};o._getHash=function e(){return l.getInstance().getHash()};o.getTitleInfoFromPath=function e(t){const n=this._getTitleHierarchyCache();if(n[t]){return Promise.resolve(n[t])}const i=this.getAppComponent().getMetaModel();const o=i.getMetaPath(t);const a=i.getObject(`${o}/@com.sap.vocabularies.UI.v1.HeaderInfo/TypeName`);const r=this._getAppSpecificHash();const s=r+t.slice(1);return this._fetchTitleValue(t).then(e=>{const i=this._computeTitleInfo(a,e,s);n[t]=i;return i})};o._ensureHierarchyElementsAreStrings=function e(t){const n=[];for(const e in t){const i=t[e];const o={};for(const e in i){o[e]=typeof i[e]!=="string"?String(i[e]):i[e]}n.push(o)}return n};o._getTargetTypeFromHash=function e(t){var n;const i=this.getAppComponent();let o="";const a=((n=i.getManifestEntry("sap.ui5").routing)===null||n===void 0?void 0:n.routes)??[];for(const e of a){const n=i.getRouter().getRoute(e.name);if(n!==null&&n!==void 0&&n.match(t)){const t=Array.isArray(e.target)?e.target[0]:e.target;o=i.getRouter().getTarget(t)._oOptions.name;break}}return o};o._computeTitleHierarchy=function t(n){const i=this.getAppComponent(),o=n.getBindingContext(),a=n.getParent(),r=[],s=this._getAppSpecificHash(),l=i.getManifestEntry("sap.app"),c=l.title||"",u=l.subTitle||"",d=l.icon||"";let p,f;if(a&&a._getPageTitleInformation){if(o){if(this._getTargetTypeFromHash("")==="sap.fe.templates.ListReport"){r.push(Promise.resolve(this._computeTitleInfo(c,u,s,d)))}f=o.getPath();const e=f.split("/");let t="";e.shift();e.pop();e.forEach(e=>{t+=`/${e}`;const n=i.getMetaModel(),o=n.getMetaPath(t),a=n.getObject(`${o}/@com.sap.vocabularies.Common.v1.ResultContext`);if(!a){r.push(this.getTitleInfoFromPath(t))}})}p=a._getPageTitleInformation();p=this._computeTitleInfo(p.title,p.subtitle,s+this._getHash());if(o){this._getTitleHierarchyCache()[f]=p}else{this._getTitleHierarchyCache()[s]=p}}else{r.push(Promise.reject("Title information missing in HeaderInfo"))}return Promise.all(r).then(e=>{const t=this._ensureHierarchyElementsAreStrings(e),n=p.title;t.reverse();i.getShellServices().setHierarchy(t);this._setShellMenuTitle(i,n,c)}).catch(function(t){e.error(t)}).finally(()=>{this.bIsComputingTitleHierachy=false}).catch(function(t){e.error(t)})};o.calculateLayout=function e(t,n,i){let o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;return null};o.onContextBoundToView=function e(t){if(t){const e=this.getView().getModel("internal").getProperty("/deepestPath"),n=t.getPath();if(!e||e.indexOf(n)!==0){this.getView().getModel("internal").setProperty("/deepestPath",n,undefined,true)}}};o.displayErrorPage=function e(t,n){return Promise.resolve(true)};o.updateUIStateForView=function e(t,n){};o.getInstancedViews=function e(){return[]};o._scrollTablesToLastNavigatedItems=function e(){};o.isFclEnabled=function e(){return false};o._setShellMenuTitle=function e(t,n,i){t.getShellServices().setTitle(n)};o.getAppContentContainer=function e(){var t,n;const i=this.getAppComponent();const o=((t=i.getManifestEntry("sap.ui5").routing)===null||t===void 0?void 0:(n=t.config)===null||n===void 0?void 0:n.controlId)??"appContent";return this.getView().byId(o)};return i}(t),h=O(v.prototype,"oPlaceholder",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),m=O(v.prototype,"viewState",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),v))||g);return A},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/services/AsyncComponentServiceFactory",["sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(e,t){"use strict";function n(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}function i(e,t){i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return i(e,t)}let o=function(e){n(t,e);function t(){return e.apply(this,arguments)||this}var i=t.prototype;i.init=function e(){this.initPromise=new Promise((e,t)=>{this.resolveFn=e;this.rejectFn=t});const t=this.getContext();const n=t.scopeObject;const i=n._getManifestEntry("/sap.ui5/services",true);Promise.all(Object.keys(i).filter(e=>i[e].startup==="waitFor"&&i[e].factoryName!=="sap.fe.core.services.AsyncComponentService").map(e=>n.getService(e).then(t=>{const i=`get${e[0].toUpperCase()}${e.substr(1)}`;if(!n.hasOwnProperty(i)){n[i]=function(){return t}}}))).then(()=>n.pRootControlLoaded||Promise.resolve()).then(()=>{if(n.onServicesStarted){n.onServicesStarted()}this.resolveFn(this)}).catch(this.rejectFn)};return t}(e);let a=function(e){n(t,e);function t(){return e.apply(this,arguments)||this}var i=t.prototype;i.createInstance=function e(t){const n=new o(t);return n.initPromise};return t}(t);return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/services/CacheHandlerServiceFactory",["sap/base/strings/hash","sap/ui/core/cache/CacheManager","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(e,t,n,i){"use strict";var o={};function a(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;r(e,t)}function r(e,t){r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return r(e,t)}function s(e,t,n){return new Promise(function(i){jQuery.ajax(e,{method:"GET"}).done(function(o,a,r){n[e]=r.getResponseHeader("ETag")||r.getResponseHeader("Last-Modified");i(t===n[e])}).fail(function(){n[e]="";i(false)})})}let l=function(n){a(i,n);function i(){return n.apply(this,arguments)||this}o.CacheHandlerService=i;var r=i.prototype;r.init=function e(){const t=this.getContext();this.oFactory=t.factory;const n=t.settings;if(!n.metaModel){throw new Error("a `metaModel` property is expected when instantiating the CacheHandlerService")}this.oMetaModel=n.metaModel;this.oAppComponent=n.appComponent;this.oComponent=n.component;this.initPromise=this.oMetaModel.fetchEntityContainer().then(()=>this);this.mCacheNeedsInvalidate={}};r.exit=function e(){this.oFactory.removeGlobalInstance(this.oMetaModel)};r.validateCacheKey=async function e(n,i){let o=true;let a;try{const e=await t.get(n);const r=this.getETags(i);a=JSON.stringify(r);if(e){const t={};const n=JSON.parse(e.cachedETags);const i=await Promise.all(Object.keys(n).map(function(e){if(n[e]){if(r[e]){t[e]=r[e];return n[e]===r[e]}else{return s(e,n[e],t)}}else{t[e]=r[e];return n[e]===r[e]}}));o=i.indexOf(false)>=0;if(Object.keys(t).some(function(e){return!t[e]})){a=null}else{a=o?JSON.stringify(t):e.viewCacheKey}}else if(Object.keys(r).some(function(e){return!r[e]})){o=true;a=null}}catch(e){o=true;a=null}this.mCacheNeedsInvalidate[n]=o;return a};r.invalidateIfNeeded=function e(n,i,o){const a=JSON.stringify(this.getETags(o));if(this.mCacheNeedsInvalidate[i]||n&&n!==a){const e={};e.cachedETags=a;e.viewCacheKey=n;return t.set(i,e)}else{return Promise.resolve()}};r.getETags=function t(n){const i=this.oMetaModel.getETags();Object.keys(i).forEach(function(e){if(i[e]instanceof Date){i[e]=i[e].toISOString()}});const o=this.oAppComponent.getManifest();const a=e(JSON.stringify({sapApp:o["sap.app"],viewData:n.getViewData()}));i["manifest"]=a;return i};r.getInterface=function e(){return this};return i}(n);o.CacheHandlerService=l;let c=function(e){a(t,e);function t(){var t;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}t=e.call(this,...i)||this;t._oInstanceRegistry={};return t}var n=t.prototype;n.createInstance=function e(t){const n=t.settings.metaModel.getId();let i=this._oInstanceRegistry[n];if(!i){this._oInstanceRegistry[n]=i=new l(Object.assign({factory:this,scopeObject:null,scopeType:"service"},t))}return i.initPromise.then(()=>this._oInstanceRegistry[n]).catch(e=>{this._oInstanceRegistry[n]=null;throw e})};n.getInstance=function e(t){return this._oInstanceRegistry[t.getId()]};n.removeGlobalInstance=function e(t){this._oInstanceRegistry[t.getId()]=null};return t}(i);return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/services/EnvironmentServiceFactory",["sap/ui/core/Core","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/VersionInfo","../converters/MetaModelConverter"],function(e,t,n,i,o){"use strict";var a={};var r=o.DefaultEnvironmentCapabilities;function s(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}function l(e,t){l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return l(e,t)}let c=function(t){s(n,t);function n(){return t.apply(this,arguments)||this}a.EnvironmentCapabilitiesService=n;var o=n.prototype;o.init=function e(){this.initPromise=new Promise((e,t)=>{this.resolveFn=e;this.rejectFn=t});const t=this.getContext();this.environmentCapabilities=Object.assign({},r);i.load().then(e=>{this.environmentCapabilities.Chart=!!e.libraries.find(e=>e.name==="sap.viz");this.environmentCapabilities.MicroChart=!!e.libraries.find(e=>e.name==="sap.suite.ui.microchart");this.environmentCapabilities.UShell=!!(sap&&sap.ushell&&sap.ushell.Container);this.environmentCapabilities.IntentBasedNavigation=!!(sap&&sap.ushell&&sap.ushell.Container);this.environmentCapabilities=Object.assign(this.environmentCapabilities,t.settings);this.resolveFn(this)}).catch(this.rejectFn)};o.resolveLibrary=function t(n){return new Promise(function(t){try{e.loadLibrary(`${n.replace(/\./g,"/")}`,{async:true}).then(function(){t(true)}).catch(function(){t(false)})}catch(e){t(false)}})};o.setCapabilities=function e(t){this.environmentCapabilities=t};o.setCapability=function e(t,n){this.environmentCapabilities[t]=n};o.getCapabilities=function e(){return this.environmentCapabilities};o.getInterface=function e(){return this};return n}(t);a.EnvironmentCapabilitiesService=c;let u=function(e){s(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.createInstance=function e(t){const n=new c(t);return n.initPromise};return t}(n);return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/services/NavigationServiceFactory",["sap/fe/navigation/NavigationHandler","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(e,t,n){"use strict";var i={};function o(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;a(e,t)}function a(e,t){a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return a(e,t)}let r=function(t){o(n,t);function n(){return t.apply(this,arguments)||this}i.NavigationService=n;var a=n.prototype;a.init=function t(){const n=this.getContext(),i=n&&n.scopeObject;this.oNavHandler=new e(i);this.oNavHandler.setModel(i.getModel());this.initPromise=Promise.resolve(this)};a.exit=function e(){this.oNavHandler.destroy()};a.navigate=function e(t,n,i,o,a,r,s){this.oNavHandler.navigate(t,n,i,o,a,r,s)};a.parseNavigation=function e(){return this.oNavHandler.parseNavigation()};a._processBeforeSmartLinkPopoverOpens=function e(t,n,i){return this.oNavHandler.processBeforeSmartLinkPopoverOpens(t,n,i)};a.getAppStateKeyAndUrlParameters=function e(t){return this.oNavHandler._getAppStateKeyAndUrlParameters(t)};a.getTechnicalParameters=function e(){return this.oNavHandler.getTechnicalParameters()};a.setTechnicalParameters=function e(t){this.oNavHandler.setTechnicalParameters(t)};a.setModel=function e(t){this.oNavHandler.setModel(t)};a.storeInnerAppStateAsync=function e(t,n,i){return new Promise((e,o)=>this.oNavHandler.storeInnerAppStateAsync(t,n,i).then(e,o))};a.storeInnerAppStateWithImmediateReturn=function e(t,n){return this.oNavHandler.storeInnerAppStateWithImmediateReturn(t,n)};a.replaceHash=function e(t){this.oNavHandler.replaceHash(t)};a.replaceInnerAppStateKey=function e(t,n){return this.oNavHandler._replaceInnerAppStateKey(t,n)};a.getUrlParametersFromSelectionVariant=function e(t){return this.oNavHandler._getURLParametersFromSelectionVariant(t)};a.saveAppStateWithImmediateReturn=function e(t){if(t){const e=t.toJSONString(),n=JSON.parse(e),i={selectionVariant:n},o=this.oNavHandler._saveAppStateWithImmediateReturn(i);return o!==null&&o!==void 0&&o.appStateKey?o.appStateKey:""}else{return undefined}};a.mixAttributesAndSelectionVariant=function e(t,n,i){return this.oNavHandler.mixAttributesAndSelectionVariant(t,n,i)};a.constructContextUrl=function e(t,n){return this.oNavHandler.constructContextUrl(t,n)};a.getInterface=function e(){return this};return n}(t);i.NavigationService=r;function s(){return{}}function l(){return Promise.resolve({})}function c(){const e=jQuery.Deferred();e.resolve({},{},"initial");return e.promise()}function u(){return""}let d=function(){function e(){this.createEmptyAppState=s;this.storeInnerAppStateWithImmediateReturn=s;this.mixAttributesAndSelectionVariant=s;this.getAppState=l;this.getStartupAppState=l;this.parseNavigation=c;this.constructContextUrl=u;this.initPromise=Promise.resolve(this)}i.NavigationServicesMock=e;var t=e.prototype;t.getInterface=function e(){return this};t.replaceInnerAppStateKey=function e(t){return t?t:""};t.navigate=function e(){};return e}();i.NavigationServicesMock=d;let p=function(e){o(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.createInstance=function e(t){const n=sap.ushell&&sap.ushell.Container?new r(t):new d;return n.initPromise.then(function(e){return e})};return t}(n);return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/services/ResourceModelServiceFactory",["sap/fe/core/ResourceModel","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(e,t,n){"use strict";var i={};function o(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;a(e,t)}function a(e,t){a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return a(e,t)}let r=function(t){o(n,t);function n(){return t.apply(this,arguments)||this}i.ResourceModelService=n;var a=n.prototype;a.init=function t(){const n=this.getContext();const i=n.settings;this.oFactory=n.factory;const o=i.bundles.concat(i.enhanceI18n||[]).map(function(e){return typeof e.isA==="function"&&e.isA("sap.ui.model.resource.ResourceModel")?e.getResourceBundle():{bundleName:e.replace(/\//g,".")}});this.oResourceModel=new e({bundleName:o[0].bundleName,enhanceWith:o.slice(1),async:true});if(n.scopeType==="component"){const e=n.scopeObject;e.setModel(this.oResourceModel,i.modelName)}this.initPromise=Promise.all([this.oResourceModel.getResourceBundle(),this.oResourceModel._pEnhanced||Promise.resolve()]).then(e=>{this.oResourceModel.__bundle=e[0];return this})};a.getResourceModel=function e(){return this.oResourceModel};a.getInterface=function e(){return this};a.exit=function e(){this.oFactory.removeGlobalInstance()};return n}(t);i.ResourceModelService=r;let s=function(e){o(t,e);function t(){var t;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}t=e.call(this,...i)||this;t._oInstances={};return t}var n=t.prototype;n.createInstance=function e(t){const n=`${t.scopeObject.getId()}_${t.settings.bundles.join(",")}`+(t.settings.enhanceI18n?`,${t.settings.enhanceI18n.join(",")}`:"");if(!this._oInstances[n]){this._oInstances[n]=new r(Object.assign({factory:this},t))}return this._oInstances[n].initPromise};n.removeGlobalInstance=function e(){this._oInstances={}};return t}(n);return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/services/RoutingServiceFactory",["sap/base/Log","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/controllerextensions/Placeholder","sap/fe/core/controllerextensions/routing/NavigationReason","sap/fe/core/helpers/AppStartupHelper","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/EditState","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/SemanticKeyHelper","sap/suite/ui/commons/collaboration/CollaborationHelper","sap/ui/base/BindingParser","sap/ui/base/EventProvider","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/model/odata/v4/ODataUtils"],function(e,t,n,i,o,a,r,s,l,c,u,d,p,f,g,v){"use strict";var h,m,y,b,C,P,E;var T={};var O=r.event;var S=r.defineUI5Class;function A(e,t,n,i){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function I(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function D(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;x(e,t)}function x(e,t){x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return x(e,t)}function M(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function _(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let w=(h=S("sap.fe.core.services.RoutingServiceEventing"),m=O(),y=O(),h(b=(C=function(e){D(t,e);function t(){var t;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}t=e.call(this,...i)||this;A(t,"routeMatched",P,I(t));A(t,"afterRouteMatched",E,I(t));return t}return t}(p),P=M(C.prototype,"routeMatched",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),E=M(C.prototype,"afterRouteMatched",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),C))||b);let F=function(r){D(p,r);function p(){var e;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++){n[i]=arguments[i]}e=r.call(this,...n)||this;e.navigationInfoQueue=[];return e}T.RoutingService=p;var f=p.prototype;f.init=function e(){const t=this.getContext();if(t.scopeType==="component"){var n;this.oAppComponent=t.scopeObject;this.oModel=this.oAppComponent.getModel();this.oMetaModel=this.oModel.getMetaModel();this.oRouter=this.oAppComponent.getRouter();this.oRouterProxy=this.oAppComponent.getRouterProxy();this.eventProvider=new w;const e=this.oAppComponent.getManifestEntry("sap.ui5").routing;this._parseRoutingConfiguration(e);const i=this.oAppComponent.getManifestEntry("sap.app");this.outbounds=(n=i.crossNavigation)===null||n===void 0?void 0:n.outbounds}this.initPromise=Promise.resolve(this)};f.beforeExit=function e(){this.oRouter.detachRouteMatched(this._fnOnRouteMatched,this);this.eventProvider.fireEvent("routeMatched",{})};f.exit=function e(){this.eventProvider.destroy()};f._parseRoutingConfiguration=function t(n){var i;const o=(n===null||n===void 0?void 0:(i=n.config)===null||i===void 0?void 0:i.routerClass)==="sap.f.routing.Router";this._mTargets={};Object.keys(n.targets).forEach(e=>{this._mTargets[e]=Object.assign({targetName:e},n.targets[e]);if(this._mTargets[e].contextPattern!==undefined){this._mTargets[e].viewLevel=this._getViewLevelFromPattern(this._mTargets[e].contextPattern,0)}});this._mRoutes={};for(const t in n.routes){const i=n.routes[t],a=Array.isArray(i.target)?i.target:[i.target],r=Array.isArray(n.routes)?i.name:t,s=i.pattern;if(s.length<8||s.indexOf(":?query:")!==s.length-8){e.warning(`Pattern for route ${r} doesn't end with ':?query:' : ${s}`)}const l=this._getViewLevelFromPattern(s,0);this._mRoutes[r]={name:r,pattern:s,targets:a,routeLevel:l};for(let e=0;e<a.length;e++){const t=this._mTargets[a[e]].parent;if(t){a.push(t)}}if(!o){if(this._mTargets[a[0]].viewLevel===undefined||this._mTargets[a[0]].viewLevel<l){this._mTargets[a[0]].viewLevel=l}this._mTargets[a[0]].FCLLevel=-1}else if(a.length===1&&this._mTargets[a[0]].controlAggregation!=="beginColumnPages"){this._mTargets[a[0]].FCLLevel=3}else{a.forEach(e=>{switch(this._mTargets[e].controlAggregation){case"beginColumnPages":this._mTargets[e].FCLLevel=0;break;case"midColumnPages":this._mTargets[e].FCLLevel=1;break;default:this._mTargets[e].FCLLevel=2}})}}Object.keys(this._mTargets).forEach(e=>{while(this._mTargets[e].parent){const t=this._mTargets[e].parent;this._mTargets[t].viewLevel=this._mTargets[t].viewLevel||this._mTargets[e].viewLevel;this._mTargets[t].contextPattern=this._mTargets[t].contextPattern||this._mTargets[e].contextPattern;this._mTargets[t].FCLLevel=this._mTargets[t].FCLLevel||this._mTargets[e].FCLLevel;this._mTargets[t].controlAggregation=this._mTargets[t].controlAggregation||this._mTargets[e].controlAggregation;e=t}});const a=[];const r=[];let s;for(const e in this._mRoutes){const t=this._mRoutes[e].routeLevel;if(t===0){a.push(e)}else if(t===1){r.push(e)}}if(a.length===1){s=a[0]}else if(r.length===1){s=r[0]}if(s){const t=this._mRoutes[s].targets.slice(-1)[0];this.sContextPath="";if(this._mTargets[t].options&&this._mTargets[t].options.settings){const e=this._mTargets[t].options.settings;this.sContextPath=e.contextPath||`/${e.entitySet}`}if(!this.sContextPath){e.warning(`Cannot determine default contextPath: contextPath or entitySet missing in default target: ${t}`)}}else{e.warning("Cannot determine default contextPath: no default route found.")}Object.keys(this._mTargets).map(e=>this._mTargets[e]).sort((e,t)=>e.viewLevel<t.viewLevel?-1:1).forEach(e=>{if(e.options){const t=e.options.settings;const n=t.contextPath||(t.entitySet?`/${t.entitySet}`:"");if(!t.fullContextPath&&n){t.fullContextPath=`${n}/`}Object.keys(t.navigation||{}).forEach(n=>{const i=this._mRoutes[t.navigation[n].detail.route];if(i&&i.targets){i.targets.forEach(i=>{if(this._mTargets[i].options&&this._mTargets[i].options.settings&&!this._mTargets[i].options.settings.fullContextPath){if(e.viewLevel===0){this._mTargets[i].options.settings.fullContextPath=`${(n.startsWith("/")?"":"/")+n}/`}else{this._mTargets[i].options.settings.fullContextPath=`${t.fullContextPath+n}/`}}})}})}})};f._getViewLevelFromPattern=function e(t,n){t=t.replace(":?query:","");const i=new RegExp("/[^/]*$");if(t&&t[0]!=="/"&&t[0]!=="?"){t=`/${t}`}if(t.length){t=t.replace(i,"");if(this.oRouter.match(t)||t===""){return this._getViewLevelFromPattern(t,++n)}else{return this._getViewLevelFromPattern(t,n)}}else{return n}};f._getRouteInformation=function e(t){return this._mRoutes[t]};f._getTargetInformation=function e(t){return this._mTargets[t]};f._getComponentId=function e(t,n){if(n.indexOf(`${t}---`)===0){return n.substr(t.length+3)}return n};f.getTargetInformationFor=function e(t){const n=this._getComponentId(t._sOwnerId,t.getId());let i=null;Object.keys(this._mTargets).forEach(e=>{if(this._mTargets[e].id===n||this._mTargets[e].viewId===n){i=e}});return this._getTargetInformation(i)};f.getLastSemanticMapping=function e(){return this.oLastSemanticMapping};f.setLastSemanticMapping=function e(t){this.oLastSemanticMapping=t};f.navigateTo=function e(t,n,i,o){let a,r;if(t.getModel()&&t.getModel().getMetaModel&&t.getModel().getMetaModel()){r=l.isStickySessionSupported(t.getModel().getMetaModel())}if(!i){a=Promise.resolve(c.getSemanticPath(t))}else{a=this.prepareParameters(i,n,t).then(e=>this.oRouter.getURL(n,e))}return a.then(e=>{this.oRouterProxy.navToHash(e,o,false,false,!r)})};f.prepareParameters=function t(n,i,o){let a;try{const e=o.getPath();const t=o.getModel().getMetaModel();const i=e.split("/");const r=Object.keys(n).map(e=>{const a=n[e];const r=d.complexParser(a);const s=r.parts||[r];const l=s.map(function(e){const n=e.path.split("../");const a=i.slice(0,i.length-n.length+1);a.push(n[n.length-1]);const r=a.join("/");const s=t.getMetaContext(r);return o.requestProperty(r).then(function(e){const t=s.getObject();const n=t.$Type;return v.formatLiteral(e,n)})});return Promise.all(l).then(t=>{const n=r.formatter?r.formatter.apply(this,t):t.join("");return{key:e,value:n}})});a=Promise.all(r).then(function(e){const t={};e.forEach(function(e){t[e.key]=e.value});return t})}catch(t){e.error(`Could not parse the parameters for the navigation to route ${i}`);a=Promise.resolve(undefined)}return a};f._fireRouteMatchEvents=function e(t){this.eventProvider.fireEvent("routeMatched",t);this.eventProvider.fireEvent("afterRouteMatched",t);s.cleanProcessedEditState()};f.navigateToContext=function e(t,i,o,a){let r="",s,c=false;if(t.getModel()&&t.getModel().getMetaModel){c=l.isStickySessionSupported(t.getModel().getMetaModel())}if(i&&i.targetPath&&o&&o.navigation){const e=o.navigation[i.targetPath].detail;r=e.route;if(e.parameters){s=this.prepareParameters(e.parameters,r,t)}}let u=this._getPathFromContext(t,i);if(u.length===0&&this.bExitOnNavigateBackToRoot){this.oRouterProxy.exitFromApp();return Promise.resolve(true)}if(i!==null&&i!==void 0&&i.asyncContext||i!==null&&i!==void 0&&i.bDeferredContext){u+="(...)"}const d=this._calculateLayout(u,i);if(d){u+=`?layout=${d}`}const p={oAsyncContext:i===null||i===void 0?void 0:i.asyncContext,bDeferredContext:i===null||i===void 0?void 0:i.bDeferredContext,bTargetEditable:i===null||i===void 0?void 0:i.editable,bPersistOPScroll:i===null||i===void 0?void 0:i.bPersistOPScroll,useContext:(i===null||i===void 0?void 0:i.updateFCLLevel)===-1||i!==null&&i!==void 0&&i.bRecreateContext?undefined:t,bDraftNavigation:i===null||i===void 0?void 0:i.bDraftNavigation,bShowPlaceholder:(i===null||i===void 0?void 0:i.showPlaceholder)!==undefined?i===null||i===void 0?void 0:i.showPlaceholder:true,reason:i===null||i===void 0?void 0:i.reason};if(i!==null&&i!==void 0&&i.checkNoHashChange){const e=this.oRouterProxy.getHash().replace(/[&?]{1}sap-iapp-state=[A-Z0-9]+/,"");if(u===e){const e=this.oRouter.getRouteInfoByHash(this.oRouterProxy.getHash());if(e){e.navigationInfo=p;e.routeInformation=this._getRouteInformation(this.sCurrentRouteName);e.routePattern=this.sCurrentRoutePattern;e.views=this.aCurrentViews}this.oRouterProxy.setFocusForced(!!i.bForceFocus);this._fireRouteMatchEvents(e);return Promise.resolve(true)}}if(i!==null&&i!==void 0&&i.transient&&i.editable==true&&u.indexOf("(...)")===-1){if(u.indexOf("?")>-1){u+="&i-action=create"}else{u+="?i-action=create"}}if(a&&a.name==="sap.fe.templates.ListReport"){const e=this.oRouter.getRouteInfoByHash(u);if(e){const t=this._getRouteInformation(e.name);if(t&&t.targets&&t.targets.length>0){const e=t.targets[t.targets.length-1];const i=this._getTargetInformation(e);if(i&&i.name==="sap.fe.templates.ObjectPage"){n.removeUnboundTransitionMessages()}}}}this.navigationInfoQueue.push(p);if(r&&s){return s.then(e=>{e.bIsStickyMode=c;this.oRouter.navTo(r,e);return Promise.resolve(true)})}return this.oRouterProxy.navToHash(u,false,i===null||i===void 0?void 0:i.noPreservationCache,i===null||i===void 0?void 0:i.bForceFocus,!c).then(e=>{if(!e){this.navigationInfoQueue.pop()}return e})};f.navigateToRoute=function e(t,n){const i=this.oRouter.getURL(t,n);return this.oRouterProxy.navToHash(i,undefined,undefined,undefined,!n.bIsStickyMode)};f.isCurrentStateImpactedBy=function e(t){const n=t.getPath();if(this.oRouterProxy.isCurrentStateImpactedBy(n)){return true}else if(/^[^()]+\([^()]+\)$/.test(n)){let e;if(this.oLastSemanticMapping&&this.oLastSemanticMapping.technicalPath===n){e=this.oLastSemanticMapping.semanticPath}else{e=c.getSemanticPath(t)}return e!=n?this.oRouterProxy.isCurrentStateImpactedBy(e):false}else{return false}};f._findPathToNavigate=function e(t){const n=new RegExp("/[^/]*$");t=t.replace(n,"");if(this.oRouter.match(t)||t===""){return t}else{return this._findPathToNavigate(t)}};f._checkIfContextSupportsSemanticPath=function e(t){const n=t.getPath();if(!/^\/[^(]+\([^)]+\)$/.test(n)){return false}const i=t.getModel().getMetaModel();const o=i.getMetaContext(t.getPath()).getObject("@sapui.name");if(!c.getSemanticKeys(i,o)){return false}return l.isDraftSupported(i,n)};f._getPathFromContext=function e(t,n){let i;if(t.isA("sap.ui.model.odata.v4.ODataListBinding")&&t.isRelative()){i=t.getHeaderContext().getPath()}else{i=t.getPath()}if(n.updateFCLLevel===-1){i=this._findPathToNavigate(i);if(this.oLastSemanticMapping&&this.oLastSemanticMapping.technicalPath===i){i=this.oLastSemanticMapping.semanticPath}}else if(this._checkIfContextSupportsSemanticPath(t)){const e=c.getSemanticPath(t,true);if(!e){this.setLastSemanticMapping(undefined)}else if(e!==i){this.setLastSemanticMapping({technicalPath:i,semanticPath:e});i=e}}if(i[0]==="/"){i=i.substring(1)}return i};f._calculateLayout=function e(t,n){let i=n.FCLLevel;if(n.updateFCLLevel){i+=n.updateFCLLevel;if(i<0){i=0}}if(n.updateFCLLevel<0&&!n.sLayout){n.sLayout=this.oRouterProxy.findLayoutForHash(t)}return this.oAppComponent.getRootViewController().calculateLayout(i,t,n.sLayout,n.keepCurrentLayout)};f._beforeRouteMatched=function e(){const n=(new i).isPlaceholderEnabled();if(!n){const e=this.oAppComponent.getRootControl();t.lock(e)}};f._onRouteMatched=function n(a){const r=this.oAppComponent.getAppStateHandler(),s=this.oAppComponent.getRootControl();const l=(new i).isPlaceholderEnabled();if(t.isLocked(s)&&!l){t.unlock(s)}const c=a.getParameters();if(this.navigationInfoQueue.length){c.navigationInfo=this.navigationInfoQueue[0];this.navigationInfoQueue=this.navigationInfoQueue.slice(1)}else{c.navigationInfo={}}if(r.checkIfRouteChangedByIApp()){c.navigationInfo.reason=o.AppStateChanged;r.resetRouteChangedByIApp()}this.sCurrentRouteName=a.getParameter("name");this.sCurrentRoutePattern=c.config.pattern;this.aCurrentViews=a.getParameter("views");c.routeInformation=this._getRouteInformation(this.sCurrentRouteName);c.routePattern=this.sCurrentRoutePattern;this._fireRouteMatchEvents(c);if(!history.state||history.state.feLevel===undefined){this.oRouterProxy.restoreHistory().then(()=>{this.oRouterProxy.resolveRouteMatch()}).catch(function(t){e.error("Error while restoring history",t)})}else{this.oRouterProxy.resolveRouteMatch()}};f.attachRouteMatched=function e(t,n,i){this.eventProvider.attachEvent("routeMatched",t,n,i)};f.detachRouteMatched=function e(t,n){this.eventProvider.detachEvent("routeMatched",t,n)};f.attachAfterRouteMatched=function e(t,n,i){this.eventProvider.attachEvent("afterRouteMatched",t,n,i)};f.detachAfterRouteMatched=function e(t,n){this.eventProvider.detachEvent("afterRouteMatched",t,n)};f.getRouteFromHash=function e(t,n){const i=t.getHashChanger().hash;const o=t.getRouteInfoByHash(i);return n.getMetadata().getManifestEntry("/sap.ui5/routing/routes").filter(function(e){return e.name===o.name})[0]};f.getTargetsFromRoute=function e(t){const n=t.target;if(typeof n==="string"){return[this._mTargets[n]]}else{const e=[];n.forEach(t=>{e.push(this._mTargets[t])});return e}};f.initializeRouting=async function t(){await u.processAndExpandHash();this._fnOnRouteMatched=this._onRouteMatched.bind(this);this.oRouter.attachRouteMatched(this._fnOnRouteMatched,this);const n=(new i).isPlaceholderEnabled();if(!n){this.oRouter.attachBeforeRouteMatched(this._beforeRouteMatched.bind(this))}this.navigationInfoQueue=[];s.resetEditState();this.bExitOnNavigateBackToRoot=!this.oRouter.match("");const o=this.oRouter.getHashChanger().getHash().indexOf("sap-iapp-state")!==-1;try{const e=await this.oAppComponent.getStartupParameters();const t=e!==undefined&&Object.keys(e).length!==0;const n=this.oRouter.getHashChanger().getHash();if(!o&&t&&!n){if(e.preferredMode&&e.preferredMode[0].toUpperCase().indexOf("CREATE")!==-1){await this._manageCreateStartup(e)}else{await this._manageDeepLinkStartup(e)}}}catch(t){e.error("Error during routing initialization",t)}};f.getDefaultCreateHash=function e(t){return a.getDefaultCreateHash(t,this.getContextPath(),this.oRouter)};f._manageCreateStartup=function e(t){return a.getCreateStartupHash(t,this.getContextPath(),this.oRouter,this.oMetaModel).then(e=>{if(e){this.oRouter.getHashChanger().replaceHash(e);if(t!==null&&t!==void 0&&t.preferredMode&&t.preferredMode[0].toUpperCase().indexOf("AUTOCREATE")!==-1){this.oAppComponent.setStartupModeAutoCreate()}else{this.oAppComponent.setStartupModeCreate()}this.bExitOnNavigateBackToRoot=true}})};f._manageDeepLinkStartup=function e(t){return a.getDeepLinkStartupHash(this.oAppComponent.getManifest()["sap.ui5"].routing,t,this.oModel).then(e=>{let t;if(e.context){const n=e.context.getPath();const i=this._checkIfContextSupportsSemanticPath(e.context)?c.getSemanticPath(e.context):n;if(i!==n){this.setLastSemanticMapping({technicalPath:n,semanticPath:i})}t=i.substring(1)}else if(e.hash){t=e.hash}if(t){this.oRouter.getHashChanger().replaceHash(t);this.oAppComponent.setStartupModeDeeplink()}})};f.getOutbounds=function e(){return this.outbounds};f.getContextPath=function e(){return this.sContextPath};f.getInterface=function e(){return this};return p}(f);T.RoutingService=F;let R=function(e){D(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.createInstance=function e(t){const n=new F(t);return n.initPromise};return t}(g);return R},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/services/ShellServicesFactory",["sap/base/Log","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(e,t,n){"use strict";function i(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;o(e,t)}function o(e,t){o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return o(e,t)}let a=function(e){i(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.init=function e(){this.initPromise=Promise.resolve(this);this.instanceType="mock"};n.getLinks=function e(){return Promise.resolve([])};n.getLinksWithCache=function e(){return Promise.resolve([])};n.toExternal=function e(){};n.getStartupAppState=function e(){return Promise.resolve(undefined)};n.backToPreviousApp=function e(){};n.hrefForExternal=function e(){return""};n.getHash=function e(){return window.location.href};n.hrefForExternalAsync=function e(){return Promise.resolve({})};n.getAppState=function e(){return Promise.resolve({})};n.createEmptyAppState=function e(){return Promise.resolve({})};n.createEmptyAppStateAsync=function e(){return Promise.resolve({})};n.isNavigationSupported=function e(){return Promise.resolve({})};n.isInitialNavigation=function e(){return false};n.isInitialNavigationAsync=function e(){return Promise.resolve({})};n.expandCompactHash=function e(){return Promise.resolve({})};n.parseShellHash=function e(){return{}};n.splitHash=function e(){return Promise.resolve({})};n.constructShellHash=function e(){return""};n.setDirtyFlag=function e(){};n.registerDirtyStateProvider=function e(){};n.deregisterDirtyStateProvider=function e(){};n.createRenderer=function e(){return{}};n.getUser=function e(){return{}};n.hasUShell=function e(){return false};n.registerNavigationFilter=function e(){};n.unregisterNavigationFilter=function e(){};n.setBackNavigation=function e(){};n.setHierarchy=function e(){};n.setTitle=function e(){};n.getContentDensity=function e(){if(document.body.classList.contains("sapUiSizeCozy")){return"cozy"}else if(document.body.classList.contains("sapUiSizeCompact")){return"compact"}else{return""}};n.getPrimaryIntent=function e(){return Promise.resolve()};n.waitForPluginsLoad=function e(){return Promise.resolve(true)};return t}(t);function r(e){return new Promise((t,n)=>{e.done(t).fail(n)})}let s=function(t){i(n,t);function n(){return t.apply(this,arguments)||this}var o=n.prototype;o.init=function e(){const t=this.getContext();const n=t.scopeObject;this.oShellContainer=t.settings.shellContainer;this.instanceType="real";this.linksCache={};this.fnFindSemanticObjectsInCache=function(e){const t=e;const n=[];const i=[];for(let o=0;o<t.length;o++){if(!!t[o][0]&&!!t[o][0].semanticObject){if(this.linksCache[t[o][0].semanticObject]){n.push(this.linksCache[t[o][0].semanticObject].links);Object.defineProperty(e[o][0],"links",{value:this.linksCache[t[o][0].semanticObject].links})}else{i.push(t[o])}}}return{oldArgs:e,newArgs:i,cachedLinks:n}};this.initPromise=new Promise((e,t)=>{this.resolveFn=e;this.rejectFn=t});const i=this.oShellContainer.getServiceAsync("CrossApplicationNavigation");const o=this.oShellContainer.getServiceAsync("URLParsing");const a=this.oShellContainer.getServiceAsync("ShellNavigation");const r=this.oShellContainer.getServiceAsync("PluginManager");const s=n.getService("ShellUIService");Promise.all([i,o,a,s,r]).then(e=>{let[t,n,i,o,a]=e;this.crossAppNavService=t;this.urlParsingService=n;this.shellNavigation=i;this.shellUIService=o;this.shellPluginManager=a;this.resolveFn()}).catch(this.rejectFn)};o.getLinks=function e(t){return new Promise((e,n)=>{this.crossAppNavService.getLinks(t).fail(e=>{n(new Error(`${e} sap.fe.core.services.ShellServicesFactory.getLinks`))}).then(e)})};o.getLinksWithCache=function e(t){return new Promise((e,n)=>{if(t.length===0){e([])}else{const i=this.fnFindSemanticObjectsInCache(t);if(i.newArgs.length===0){e(i.cachedLinks)}else{this.crossAppNavService.getLinks(i.newArgs).fail(e=>{n(new Error(`${e} sap.fe.core.services.ShellServicesFactory.getLinksWithCache`))}).then(t=>{if(t.length!==0){const e={};for(let n=0;n<t.length;n++){if(t[n].length>0&&i.newArgs[n][0].links===undefined){e[i.newArgs[n][0].semanticObject]={links:t[n]};this.linksCache=Object.assign(this.linksCache,e)}}}if(i.cachedLinks.length===0){e(t)}else{const n=[];let o=0;for(let e=0;e<i.oldArgs.length;e++){if(o<t.length){if(t[o].length>0&&i.oldArgs[e][0].semanticObject===i.newArgs[o][0].semanticObject){n.push(t[o]);o++}else{n.push(i.oldArgs[e][0].links)}}else{n.push(i.oldArgs[e][0].links)}}e(n)}})}}})};o.getShellContainer=function e(){return this.oShellContainer};o.toExternal=function e(t,n){this.crossAppNavService.toExternal(t,n)};o.getStartupAppState=function e(t){return new Promise((e,n)=>{this.crossAppNavService.getStartupAppState(t).fail(e=>{n(new Error(`${e} sap.fe.core.services.ShellServicesFactory.getStartupAppState`))}).then(t=>e(t))})};o.backToPreviousApp=function e(){return this.crossAppNavService.backToPreviousApp()};o.hrefForExternal=function e(t,n,i){return this.crossAppNavService.hrefForExternal(t,n,!!i)};o.hrefForExternalAsync=function e(t,n){return this.crossAppNavService.hrefForExternalAsync(t,n)};o.getAppState=function e(t,n){return r(this.crossAppNavService.getAppState(t,n))};o.createEmptyAppState=function e(t){return this.crossAppNavService.createEmptyAppState(t)};o.createEmptyAppStateAsync=function e(t){return this.crossAppNavService.createEmptyAppStateAsync(t)};o.isNavigationSupported=function e(t,n){return r(this.crossAppNavService.isNavigationSupported(t,n))};o.isInitialNavigation=function e(){return this.crossAppNavService.isInitialNavigation()};o.isInitialNavigationAsync=function e(){return this.crossAppNavService.isInitialNavigationAsync()};o.expandCompactHash=function e(t){return this.crossAppNavService.expandCompactHash(t)};o.getHash=function e(){return`#${this.urlParsingService.getShellHash(window.location.href)}`};o.parseShellHash=function e(t){return this.urlParsingService.parseShellHash(t)};o.splitHash=function e(t){return this.urlParsingService.splitHash(t)};o.constructShellHash=function e(t){return this.urlParsingService.constructShellHash(t)};o.setDirtyFlag=function e(t){this.oShellContainer.setDirtyFlag(t)};o.registerDirtyStateProvider=function e(t){this.oShellContainer.registerDirtyStateProvider(t)};o.deregisterDirtyStateProvider=function e(t){this.oShellContainer.deregisterDirtyStateProvider(t)};o.createRenderer=function e(){return this.oShellContainer.createRenderer()};o.getUser=function e(){return this.oShellContainer.getUser()};o.hasUShell=function e(){return true};o.registerNavigationFilter=function e(t){this.shellNavigation.registerNavigationFilter(t)};o.unregisterNavigationFilter=function e(t){this.shellNavigation.unregisterNavigationFilter(t)};o.setBackNavigation=function e(t){this.shellUIService.setBackNavigation(t)};o.setHierarchy=function e(t){this.shellUIService.setHierarchy(t)};o.setTitle=function e(t){this.shellUIService.setTitle(t)};o.getContentDensity=function e(){return this.oShellContainer.getUser().getContentDensity()};o.getPrimaryIntent=function e(t,n){return new Promise((e,i)=>{this.crossAppNavService.getPrimaryIntent(t,n).fail(e=>{i(new Error(`${e} sap.fe.core.services.ShellServicesFactory.getPrimaryIntent`))}).then(e)})};o.waitForPluginsLoad=function t(){return new Promise(t=>{var n;if(!((n=this.shellPluginManager)!==null&&n!==void 0&&n.getPluginLoadingPromise)){t(false)}else{this.shellPluginManager.getPluginLoadingPromise("RendererExtensions").fail(n=>{e.error(n,"sap.fe.core.services.ShellServicesFactory.waitForPluginsLoad");t(false)}).then(()=>t(true))}})};return n}(t);let l=function(e){i(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.createInstance=function e(t){t.settings.shellContainer=sap.ushell&&sap.ushell.Container;const n=t.settings.shellContainer?new s(t):new a(t);return n.initPromise.then(()=>{t.scopeObject.getShellServices=()=>n;return n})};return t}(n);return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/services/SideEffectsServiceFactory",["sap/base/Log","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/PropertyHelper","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","../templating/DataModelPathHelper"],function(e,t,n,i,o,a,r){"use strict";var s={};var l=r.getTargetObjectPath;var c=r.getTargetNavigationPath;var u=r.enhanceDataModelPath;var d=i.getAssociatedTextPropertyPath;var p=n.isProperty;var f=n.isEntityType;var g=n.isComplexType;var v=t.getInvolvedDataModelObjects;var h=t.convertTypes;function m(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}function y(e,t){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return y(e,t)}let b=function(t){m(n,t);function n(){return t.apply(this,arguments)||this}s.SideEffectsService=n;var i=n.prototype;i.init=function e(){this.sideEffectsRegistry={oData:{entities:{},actions:{}},control:{}};this.isInitialized=false;this.initPromise=Promise.resolve(this)};i.addControlSideEffects=function e(t,n){if(n.sourceControlId){const e={...n,fullyQualifiedName:`${t}/SideEffectsForControl/${n.sourceControlId}`};const i=this.sideEffectsRegistry.control[t]||{};i[e.sourceControlId]=e;this.sideEffectsRegistry.control[t]=i}};i.executeAction=function e(t,n,i){const o=n.getModel().bindContext(`${t}(...)`,n);return o.execute(i||n.getBinding().getUpdateGroupId())};i.getConvertedMetaModel=function e(){return h(this.getMetaModel(),this.capabilities)};i.getEntityTypeFromContext=function e(t){const n=t.getModel().getMetaModel(),i=n.getMetaPath(t.getPath()),o=n.getObject(i)["$Type"];return o};i.getODataEntitySideEffects=function e(t){return this.sideEffectsRegistry.oData.entities[t]||{}};i.getGlobalODataEntitySideEffects=function e(t){const n=this.getODataEntitySideEffects(t);const i=[];for(const e in n){const t=n[e];if(!t.sourceEntities&&!t.sourceProperties){i.push(t)}}return i};i.getODataActionSideEffects=function e(t,n){if(n){const e=this.getEntityTypeFromContext(n);if(e){var i;return(i=this.sideEffectsRegistry.oData.actions[e])===null||i===void 0?void 0:i[t]}}return undefined};i.initializeSideEffects=function e(t){this.capabilities=t;if(!this.isInitialized){const e={entities:{},properties:{}};const t=this.getConvertedMetaModel();t.entityTypes.forEach(t=>{this.sideEffectsRegistry.oData.entities[t.fullyQualifiedName]=this.retrieveODataEntitySideEffects(t);this.sideEffectsRegistry.oData.actions[t.fullyQualifiedName]=this.retrieveODataActionsSideEffects(t);this.mapSideEffectSources(t,e)});this.sourcesToSideEffectMappings=e;this.isInitialized=true}};i.removeControlSideEffects=function e(t){Object.keys(this.sideEffectsRegistry.control).forEach(e=>{if(this.sideEffectsRegistry.control[e][t]){delete this.sideEffectsRegistry.control[e][t]}})};i.requestSideEffects=function e(t,n,i){this.logRequest(t,n);return n.requestSideEffects(t,i)};i.requestSideEffectsForODataAction=function e(t,n){var i,o;let a;if((i=t.triggerActions)!==null&&i!==void 0&&i.length){a=t.triggerActions.map(e=>this.executeAction(e,n))}else{a=[]}if((o=t.pathExpressions)!==null&&o!==void 0&&o.length){a.push(this.requestSideEffects(t.pathExpressions,n))}return a.length?Promise.all(a):Promise.resolve([])};i.requestSideEffectsForNavigationProperty=function t(n,i,o){const a=this.getEntityTypeFromContext(i);if(a){const t=`${n}/`;const r=this.getODataEntitySideEffects(a);let s=[];let l=[];let c=[];Object.keys(r).filter(e=>{const i=r[e];return(i.sourceProperties||[]).some(e=>e.startsWith(t)&&e.replace(t,"").indexOf("/")===-1)||(i.sourceEntities||[]).some(e=>e.$NavigationPropertyPath===n)}).forEach(e=>{const t=r[e];if(t.triggerAction){this.executeAction(t.triggerAction,i,o)}s=s.concat(t.targetProperties);l=l.concat(t.targetEntities)});const u=this.removeDuplicateTargets({targetProperties:s,targetEntities:l});c=[...u.targetProperties,...u.targetEntities];if(c.length){return this.requestSideEffects(c,i,o).catch(t=>e.error(`SideEffects - Error while processing SideEffects for Navigation Property ${n}`,t))}}return Promise.resolve()};i.getControlEntitySideEffects=function e(t){return this.sideEffectsRegistry.control[t]||{}};i.getSideEffectWhereEntityIsSource=function e(t){return this.sourcesToSideEffectMappings.entities[t]||[]};i.computeFieldGroupIds=function e(t,n){const i=this.getSideEffectWhereEntityIsSource(t).map(e=>this.getFieldGroupIdForSideEffect(e,true));return i.concat(this.getSideEffectWherePropertyIsSource(n).map(e=>this.getFieldGroupIdForSideEffect(e)))};i.getSideEffectWherePropertyIsSource=function e(t){return this.sourcesToSideEffectMappings.properties[t]||[]};i.addTextProperties=function e(t,n){const i=new Set(t.targetProperties);const o=new Set(t.targetEntities.map(e=>e.$NavigationPropertyPath));const a=t.targetProperties.reduce((e,t)=>e.concat(this.getDataModelPropertiesFromAPath(t,n)),[]);for(const e of a){const t=d(e.targetObject);if(t){const n=u(e,t);const a=c(n,true);const r=l(n,true);if(p(n.targetObject)&&!i.has(r)&&!i.has(`${a}${n.navigationProperties.length?"/":""}*`)&&!o.has(`${a}`)){if(e.targetEntitySet!==n.targetEntitySet&&n.navigationProperties&&n.targetEntityType){o.add(a)}else{i.add(r)}}}}return{targetProperties:Array.from(i),targetEntities:Array.from(o).map(e=>({$NavigationPropertyPath:e}))}};i.convertSideEffects=function e(t,n,i){const o=t.TriggerAction;const a=this.convertSideEffectsFormat(t);let r={targetProperties:a.targetProperties,targetEntities:a.targetEntities};r=this.removeBindingParameter(r,i);r=this.addTextProperties(r,n);r=this.removeDuplicateTargets(r);return{...a,...{targetEntities:r.targetEntities,targetProperties:r.targetProperties,triggerAction:o}}};i.convertSideEffectsFormat=function t(n){const i=t=>t?t.reduce((t,i)=>{const o=i.type&&i.value||i;if(o){t.push(o)}else{e.error(`SideEffects - Error while processing TargetProperties for SideEffects ${n.fullyQualifiedName}`)}return t},[]):t;const o=e=>e?e.map(e=>({$NavigationPropertyPath:e.value})):e;return{fullyQualifiedName:n.fullyQualifiedName,sourceProperties:i(n.SourceProperties),sourceEntities:o(n.SourceEntities),targetProperties:i(n.TargetProperties)??[],targetEntities:o(n.TargetEntities)??[]}};i.getDataModelPropertiesFromAPath=function e(t,n){let i=[];const o=this.getConvertedMetaModel();const a=o.entitySets.find(e=>e.entityType===n)||o.singletons.find(e=>e.entityType===n);if(a){const e=this.getMetaModel(),n=e.createBindingContext(`/${a.name}`);if(n){const e=v(n);const o=u(e,t.replace("*","")||"/"),a=o.targetObject;if(p(a)){if(g(a.targetType)){i=i.concat(a.targetType.properties.map(e=>u(o,e.name)))}else{i.push(o)}}else if(f(a)){i=i.concat(o.targetEntityType.entityProperties.map(e=>u(o,e.name)))}n.destroy()}}return i.filter(e=>e.targetObject)};i.getMetaModel=function e(){const t=this.getContext();const n=t.scopeObject;return n.getModel().getMetaModel()};i.getSideEffectsFromSource=function e(t){var n;let i="";const o=f(t);const a=o?t:t.sourceEntityType;const r=(n=t.annotations)===null||n===void 0?void 0:n.Common;if(a&&r){if(!o){var s;const e=(s=t.parameters)===null||s===void 0?void 0:s.find(e=>e.type===a.fullyQualifiedName);i=(e===null||e===void 0?void 0:e.fullyQualifiedName.split("/")[1])??""}return this.getSideEffectsAnnotationFromSource(t).map(e=>this.convertSideEffects(e,a,i))}return[]};i.getSideEffectsAnnotationFromSource=function e(t){var n;const i=[];const o=(n=t.annotations)===null||n===void 0?void 0:n.Common;for(const e in o){const t=o[e];if(this.isSideEffectsAnnotation(t)){i.push(t)}}return i};i.isSideEffectsAnnotation=function e(t){return(t===null||t===void 0?void 0:t.$Type)==="com.sap.vocabularies.Common.v1.SideEffectsType"};i.logRequest=function t(n,i){const o=n.reduce(function(e,t){return`${e}\n\t\t${t.$NavigationPropertyPath||t||""}`},"");e.debug(`SideEffects - Request:\n\tContext path : ${i.getPath()}\n\tProperty paths :${o}`)};i.removeBindingParameter=function e(t,n){if(n){const e=function(e){return e.replace(new RegExp(`^${n}/?`),"")};return{targetProperties:t.targetProperties.map(t=>e(t)),targetEntities:t.targetEntities.map(t=>({$NavigationPropertyPath:e(t.$NavigationPropertyPath)}))}}return{targetProperties:t.targetProperties,targetEntities:t.targetEntities}};i.removeDuplicateTargets=function e(t){const n=t.targetEntities.map(e=>e.$NavigationPropertyPath);const i=new Set(n);const o=new Set(t.targetProperties);const a=Array.from(i).map(e=>({$NavigationPropertyPath:e}));return{targetProperties:Array.from(o),targetEntities:a}};i.retrieveODataActionsSideEffects=function e(t){const n={};const i=t.actions;if(i){Object.keys(i).forEach(e=>{const i=t.actions[e];const o=new Set;let a=[];let r=[];this.getSideEffectsFromSource(i).forEach(e=>{const t=e.triggerAction;a=a.concat(e.targetProperties);r=r.concat(e.targetEntities);if(t){o.add(t)}});const s=this.removeDuplicateTargets({targetProperties:a,targetEntities:r});n[e]={pathExpressions:[...s.targetProperties,...s.targetEntities],triggerActions:Array.from(o)}})}return n};i.retrieveODataEntitySideEffects=function e(t){const n={};this.getSideEffectsFromSource(t).forEach(e=>{n[e.fullyQualifiedName]=e});return n};i.mapSideEffectSources=function e(t,n){for(const e of this.getSideEffectsAnnotationFromSource(t)){var i;for(const i of e.SourceEntities??[]){var o;const a=i.value?(o=i.$target)===null||o===void 0?void 0:o.targetType:t;if(a){if(!n.entities[a.fullyQualifiedName]){n.entities[a.fullyQualifiedName]=[]}n.entities[a.fullyQualifiedName].push({entity:t.fullyQualifiedName,qualifier:e.qualifier})}}const l=((i=e.SourceProperties)===null||i===void 0?void 0:i.length)===1;for(const i of e.SourceProperties??[]){var a,r;if(!n.properties[(a=i.$target)===null||a===void 0?void 0:a.fullyQualifiedName]){var s;n.properties[(s=i.$target)===null||s===void 0?void 0:s.fullyQualifiedName]=[]}n.properties[(r=i.$target)===null||r===void 0?void 0:r.fullyQualifiedName].push({entity:t.fullyQualifiedName,qualifier:e.qualifier,hasUniqueSourceProperty:l})}}};i.getFieldGroupIdForSideEffect=function e(t){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const i=t.qualifier?`${t.entity}#${t.qualifier}`:t.entity;return n||t.hasUniqueSourceProperty===true?`${i}$$ImmediateRequest`:i};i.getInterface=function e(){return this};return n}(o);s.SideEffectsService=b;let C=function(e){m(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.createInstance=function e(t){const n=new b(t);return n.initPromise};return t}(a);return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/services/TemplatedViewServiceFactory",["sap/base/Log","sap/fe/core/helpers/LoaderUtils","sap/fe/core/manifestMerger/ChangePageConfiguration","sap/fe/core/TemplateModel","sap/ui/core/Component","sap/ui/core/mvc/View","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/Device","sap/ui/model/base/ManagedObjectModel","sap/ui/model/json/JSONModel","sap/ui/VersionInfo","../helpers/DynamicAnnotationPathHelper"],function(e,t,n,i,o,a,r,s,l,c,u,d,p,f){"use strict";var g=f.resolveDynamicExpression;var v=n.applyPageConfigurationChanges;var h=t.requireDependencies;function m(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}function y(e,t){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return y(e,t)}let b=function(t){m(n,t);function n(){return t.apply(this,arguments)||this}var r=n.prototype;r.init=function e(){const t=[];const n=this.getContext();const i=n.scopeObject;const a=o.getOwnerComponentFor(i);const r=a.getMetaModel();this.pageId=a.getLocalId(i.getId());const s=`${a.getMetadata().getComponentName()}::${this.pageId}`;const c=i.getEnhanceI18n()||[];let u;this.oFactory=n.factory;if(c){u=a.getMetadata().getComponentName();for(let e=0;e<c.length;e++){const t=a.getModel(c[e]);if(t&&t.isA("sap.ui.model.resource.ResourceModel")){c[e]=t}else{c[e]=`${u}.${c[e].replace(".properties","")}`}}}const d=`${a.getMetadata().getName()}_${s}_${sap.ui.getCore().getConfiguration().getLanguageTag()}`;t.push(l.get("sap.fe.core.services.ResourceModelService").createInstance({scopeType:"component",scopeObject:i,settings:{bundles:["sap.fe.core.messagebundle","sap.fe.macros.messagebundle","sap.fe.templates.messagebundle"],enhanceI18n:c,modelName:"sap.fe.i18n"}}).then(e=>{this.oResourceModelService=e;return e.getResourceModel()}));t.push(l.get("sap.fe.core.services.CacheHandlerService").createInstance({settings:{metaModel:r,appComponent:a,component:i}}).then(e=>{this.oCacheHandlerService=e;return e.validateCacheKey(d,i)}));t.push(p.load().then(function(e){let t="";if(!e.libraries){t=sap.ui.buildinfo.buildtime}else{e.libraries.forEach(function(e){t+=e.buildTimestamp})}return t}).catch(function(){return"<NOVALUE>"}));this.initPromise=Promise.all(t).then(async e=>{const t=e[0];const n=e[1];const i=a.getSideEffectsService();i.initializeSideEffects(a.getEnvironmentCapabilities().getCapabilities());const[o,r]=await h(["sap/fe/core/converters/TemplateConverter","sap/fe/core/converters/MetaModelConverter"]);return this.createView(t,s,n,o,r)}).then(function(e){const t=l.get("sap.fe.core.services.CacheHandlerService").getInstance(r);t.invalidateIfNeeded(e,d,i)})};r.refreshView=function t(n){const i=n.getRootControl();if(i){i.destroy()}else if(this.oView){this.oView.destroy()}return this.createView(this.resourceModel,this.stableId,"",this.TemplateConverter,this.MetaModelConverter).then(function(){n.oContainer.invalidate()}).catch(function(t){n.oContainer.invalidate();e.error(t)})};r.createView=async function t(n,r,s,l,p){this.resourceModel=n;this.stableId=r;this.TemplateConverter=l;this.MetaModelConverter=p;const f=this.getContext();const h=f.settings;const m=h.converterType;const y=f.scopeObject;const b=o.getOwnerComponentFor(y);const P=b.getRoutingService().getTargetInformationFor(y).options.settings.fullContextPath;const E=b.getMetaModel();const T=b.getManifest();const O=new d(c).setDefaultBindingMode("OneWay");const S=new d(T);const A=false;let I,D,x,M;function _(){const e=P.split("/");const t=e.reduce(function(e,t){if(t===""){return e}if(e===""){e=`/${t}`}else{const n=E.getObject(`${e}/$NavigationPropertyBinding/${t}`);if(n&&Object.keys(n).length>0){e+="/$NavigationPropertyBinding"}e+=`/${t}`}return e},"");let i=h.viewType||y.getViewType()||"XML";if(i!=="XML"){i=undefined}return{type:i,preprocessors:{xml:{bindingContexts:{entitySet:t?E.createBindingContext(t):null,fullContextPath:P?E.createBindingContext(P):null,contextPath:P?E.createBindingContext(P):null,converterContext:I.createBindingContext("/",undefined,{noResolve:true}),viewData:M?D.createBindingContext("/"):null},models:{entitySet:E,fullContextPath:E,contextPath:E,"sap.fe.i18n":n,metaModel:E,device:O,manifest:S,converterContext:I,viewData:D},appComponent:b}},id:r,viewName:h.viewName||y.getViewName(),viewData:M,cache:{keys:[s],additionalData:{getAdditionalCacheData:()=>I.getData(),setAdditionalCacheData:e=>{I.setData(e)}}},models:{"sap.fe.i18n":n},height:"100%"}}const w=t=>{e.error(t.message,t);x.viewName=h.errorViewName||"sap.fe.core.services.view.TemplatingErrorPage";x.preprocessors.xml.models["error"]=new d(t);return y.runAsOwner(()=>a.create(x).then(e=>{this.oView=e;this.oView.setModel(new u(this.oView),"$view");y.setAggregation("rootControl",this.oView);return s}))};try{var F;const t=await b.getService("routingService");const o=t.getTargetInformationFor(y);const f=T["sap.app"]&&T["sap.app"].crossNavigation&&T["sap.app"].crossNavigation.outbounds||{};const h=y.getNavigation()||{};Object.keys(h).forEach(function(e){const t=h[e];let n;if(t.detail&&t.detail.outbound&&f[t.detail.outbound]){n=f[t.detail.outbound];t.detail.outboundDetail={semanticObject:n.semanticObject,action:n.action,parameters:n.parameters}}if(t.create&&t.create.outbound&&f[t.create.outbound]){n=f[t.create.outbound];t.create.outboundDetail={semanticObject:n.semanticObject,action:n.action,parameters:n.parameters}}});M={appComponent:b,navigation:h,viewLevel:o.viewLevel,stableId:r,contentDensities:(F=T["sap.ui5"])===null||F===void 0?void 0:F.contentDensities,resourceModel:n,fullContextPath:P,isDesktop:c.system.desktop,isPhone:c.system.phone};if(y.getViewData){var R,N,$,V,L;Object.assign(M,y.getViewData());const e=(T===null||T===void 0?void 0:(R=T["sap.ui5"])===null||R===void 0?void 0:(N=R.routing)===null||N===void 0?void 0:($=N.targets)===null||$===void 0?void 0:(V=$[this.pageId])===null||V===void 0?void 0:(L=V.options)===null||L===void 0?void 0:L.settings)||{};M=v(e,M,b,this.pageId)}M.isShareButtonVisibleForMyInbox=C.getShareButtonVisibilityForMyInbox(b);const O=b.getShellServices();M.converterType=m;M.shellContentDensity=O.getContentDensity();M.retrieveTextFromValueList=T["sap.fe"]&&T["sap.fe"].form?T["sap.fe"].form.retrieveTextFromValueList:undefined;D=new d(M);if(M.controlConfiguration){for(const e in M.controlConfiguration){if(e.indexOf("[")!==-1){const t=g(e,E);M.controlConfiguration[t]=M.controlConfiguration[e]}}}p.convertTypes(E,b.getEnvironmentCapabilities().getCapabilities());I=new i(()=>{try{const t=b.getDiagnostics();const n=t.getIssues().length;const i=l.convertPage(m,E,M,t,P,b.getEnvironmentCapabilities().getCapabilities(),y);const o=t.getIssues();const a=o.slice(n);if(a.length>0){e.warning("Some issues have been detected in your project, please check the UI5 support assistant rule for sap.fe.core")}return i}catch(t){e.error(t,t);return{}}},E);if(!A){x=_();y.setModel(I,"_pageModel");return y.runAsOwner(()=>a.create(x).catch(w).then(e=>{this.oView=e;this.oView.setModel(new u(this.oView),"$view");this.oView.setModel(D,"viewData");y.setAggregation("rootControl",this.oView);return s}).catch(t=>e.error(t.message,t)))}}catch(t){e.error(t.message,t);throw new Error(`Error while creating view : ${t}`)}};r.getView=function e(){return this.oView};r.getInterface=function e(){return this};r.exit=function e(){if(this.oResourceModelService){this.oResourceModelService.destroy()}if(this.oCacheHandlerService){this.oCacheHandlerService.destroy()}this.oFactory.removeGlobalInstance()};return n}(r);let C=function(e){m(t,e);function t(){var t;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}t=e.call(this,...i)||this;t._oInstanceRegistry={};return t}var n=t.prototype;n.createInstance=function e(n){t.iCreatingViews++;const i=new b(Object.assign({factory:this},n));return i.initPromise.then(function(){t.iCreatingViews--;return i})};n.removeGlobalInstance=function e(){this._oInstanceRegistry={}};t.getShareButtonVisibilityForMyInbox=function e(t){const n=t.getComponentData();if(n!==undefined&&n.feEnvironment){return n.feEnvironment.getShareControlVisibility()}return undefined};t.getNumberOfViewsInCreationState=function e(){return t.iCreatingViews};return t}(s);return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/services/view/TemplatingErrorPage.controller",["sap/fe/core/controllerextensions/InternalRouting","sap/fe/core/helpers/ClassSupport","sap/ui/core/mvc/Controller"],function(e,t,n){"use strict";var i,o,a,r,s;var l=t.usingExtension;var c=t.defineUI5Class;function u(e,t,n,i){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function p(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return f(e,t)}function g(e,t,n,i,o){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a);if(o&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(o):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function v(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let h=(i=c("sap.fe.core.services.view.TemplatingErrorPage"),o=l(e),i(a=(r=function(e){p(t,e);function t(){var t;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}t=e.call(this,...i)||this;u(t,"_routing",s,d(t));return t}return t}(n),s=g(r.prototype,"_routing",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),r))||a);return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/support/CommonHelper",["sap/fe/core/converters/helpers/IssueManager","sap/ui/support/library"],function(e,t){"use strict";var n={};var i=e.IssueSeverity;var o=e.IssueCategory;const a=t.Categories,r=t.Severity,s=t.Audiences;n.Categories=a;n.Audiences=s;n.Severity=r;const l=function(e){switch(e){case i.Low:return r.Low;case i.High:return r.High;case i.Medium:return r.Medium}};n.getSeverity=l;const c=function(e,t,n,i){const a=t.getComponents();let r;Object.keys(a).forEach(e=>{var t,n;const i=a[e];if((i===null||i===void 0?void 0:(t=i.getMetadata())===null||t===void 0?void 0:(n=t.getParent())===null||n===void 0?void 0:n.getName())==="sap.fe.core.AppComponent"){r=i}});if(r){const t=r.getDiagnostics().getIssuesByCategory(o[n],i);t.forEach(function(t){e.addIssue({severity:l(t.severity),details:t.details,context:{id:t.category}})})}};n.getIssueByCategory=c;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/support/Diagnostics",[],function(){"use strict";let e=function(){function e(){this._issues=[]}var t=e.prototype;t.addIssue=function e(t,n,i,o,a){const r=this.checkIfIssueExists(t,n,i,o,a);if(!r){this._issues.push({category:t,severity:n,details:i,subCategory:a})}};t.getIssues=function e(){return this._issues};t.getIssuesByCategory=function e(t,n){if(n){return this._issues.filter(e=>e.category===t&&e.subCategory===n)}else{return this._issues.filter(e=>e.category===t)}};t.checkIfIssueExists=function e(t,n,i,o,a){if(o&&o[t]&&a){return this._issues.some(e=>e.category===t&&e.severity===n&&e.details.replace(/\n/g,"")===i.replace(/\n/g,"")&&e.subCategory===a)}return this._issues.some(e=>e.category===t&&e.severity===n&&e.details.replace(/\n/g,"")===i.replace(/\n/g,""))};return e}();return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/templating/CommonFormatters",["sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","../converters/helpers/DataFieldHelper"],function(e,t,n,i,o,a){"use strict";var r={};var s=a.isReferencePropertyStaticallyHidden;var l=i.getRelativePaths;var c=i.getContextRelativeTargetObjectPath;var u=i.enhanceDataModelPath;var d=n.isPathAnnotationExpression;var p=t.pathInModel;var f=t.getExpressionFromAnnotation;var g=t.formatWithTypeInformation;var v=t.formatResult;var h=t.compileExpression;const m=function(e){return h(e)};r.getExpressionBinding=m;const y=function(t,n,i){var a,r;const s=i===null||i===void 0?void 0:i.displayMode;let c=n;const u=t.targetObject.type==="PropertyPath"?t.targetObject.$target:t.targetObject;const d=s||o.getDisplayMode(t);const p=(a=u.annotations)===null||a===void 0?void 0:(r=a.Common)===null||r===void 0?void 0:r.Text;const h=l(t);n=g(u,n);if(d!=="Value"&&p){switch(d){case"Description":c=f(p,h);break;case"DescriptionValue":c=v([f(p,h),n],e.formatWithBrackets);break;case"ValueDescription":c=v([n,f(p,h)],e.formatWithBrackets);break}}return c};r.getBindingWithTextArrangement=y;const b=function(e){let t=e;if(d(e===null||e===void 0?void 0:e.targetObject)){var n;t=u(e,(n=e.targetObject)===null||n===void 0?void 0:n.path)}const i=t.targetObject;let o=p(c(t));o=g(i,o,true);const a=y(t,o);return i.annotations.UI&&!s(i.annotations.UI.DataFieldDefault)&&h(a)||undefined};r.getBindingWithText=b;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/templating/CriticalityFormatters",["sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/DataModelPathHelper"],function(e,t){"use strict";var n={};var i=t.getRelativePaths;var o=e.or;var a=e.ifElse;var r=e.getExpressionFromAnnotation;var s=e.equal;var l=e.constant;var c=e.compileExpression;const u=(e,t)=>{const n=e.targetObject?e.targetObject:e;const u=n===null||n===void 0?void 0:n.Criticality;const d=t?i(t):undefined;const p=r(u,d);let f;if(u){f=a(o(s(p,l("UI.CriticalityType/Negative")),s(p,l(1)),s(p,l("1"))),l("Error"),a(o(s(p,l("UI.CriticalityType/Critical")),s(p,l(2)),s(p,l("2"))),l("Warning"),a(o(s(p,l("UI.CriticalityType/Positive")),s(p,l(3)),s(p,l("3"))),l("Success"),a(o(s(p,l("UI.CriticalityType/Information")),s(p,l(5)),s(p,l("5"))),l("Information"),l("None")))))}else{f=l("None")}return c(f)};n.buildExpressionForCriticalityColor=u;const d=(e,t)=>{const n=e!==null&&e!==void 0&&e.targetObject?e.targetObject:e;const u=n===null||n===void 0?void 0:n.Criticality;const d=t?i(t):undefined;const p=r(u,d);const f=(n===null||n===void 0?void 0:n.CriticalityRepresentation)&&(n===null||n===void 0?void 0:n.CriticalityRepresentation)==="UI.CriticalityRepresentationType/WithoutIcon";let g;if(!f){if(u){g=a(o(s(p,l("UI.CriticalityType/Negative")),s(p,l(1)),s(p,l("1"))),l("sap-icon://message-error"),a(o(s(p,l("UI.CriticalityType/Critical")),s(p,l(2)),s(p,l("2"))),l("sap-icon://message-warning"),a(o(s(p,l("UI.CriticalityType/Positive")),s(p,l(3)),s(p,l("3"))),l("sap-icon://message-success"),a(o(s(p,l("UI.CriticalityType/Information")),s(p,l(5)),s(p,l("5"))),l("sap-icon://message-information"),l("")))))}else{g=l("")}}else{g=l("")}return c(g)};n.buildExpressionForCriticalityIcon=d;const p=e=>{const t=e!==null&&e!==void 0&&e.targetObject?e.targetObject:e;const n=t===null||t===void 0?void 0:t.Criticality;const i=r(n);let u;if(n){u=a(o(s(i,l("UI.CriticalityType/Negative")),s(i,l(1)),s(i,l("1"))),l("Reject"),a(o(s(i,l("UI.CriticalityType/Positive")),s(i,l(3)),s(i,l("3"))),l("Accept"),l("Default")))}else{u=l("Default")}return c(u)};n.buildExpressionForCriticalityButtonType=p;const f=e=>{const t=e!==null&&e!==void 0&&e.targetObject?e.targetObject:e;const n=t===null||t===void 0?void 0:t.Criticality;const i=r(n);let u;if(n){u=a(o(s(i,l("UI.CriticalityType/Negative")),s(i,l(1)),s(i,l("1"))),l("Error"),a(o(s(i,l("UI.CriticalityType/Critical")),s(i,l(2)),s(i,l("2"))),l("Critical"),a(o(s(i,l("UI.CriticalityType/Positive")),s(i,l(3)),s(i,l("3"))),l("Good"),l("Neutral"))))}else{u=l("Neutral")}return c(u)};n.buildExpressionForCriticalityColorMicroChart=f;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/templating/DataFieldFormatters",["sap/fe/core/converters/MetaModelConverter","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters"],function(e,t,n){"use strict";var i={};var o=n.getConverterContext;var a=t.enhanceDataModelPath;var r=e.getInvolvedDataModelObjects;const s=function(e,t){const n=t.context.getPath();if(!e){throw new Error(`Unresolved context path ${n}`)}let i=false;if(typeof e==="object"&&(e.hasOwnProperty("$Path")||e.hasOwnProperty("$AnnotationPath"))){i=true}else if(typeof e==="object"&&e.hasOwnProperty("$kind")&&e.$kind!=="Property"){throw new Error(`Context does not resolve to a DataField object but to a ${e.$kind}`)}let a=o(e,t);if(i){a=a.$target}return a};i.getDataField=s;const l=function(e,t){const n=t.context.getPath();if(!e){throw new Error(`Unresolved context path ${n}`)}if(typeof e==="object"&&e.hasOwnProperty("$kind")&&e.$kind!=="Property"){throw new Error(`Context does not resolve to a Property object but to a ${e.$kind}`)}let i=r(t.context);if(i.targetObject&&i.targetObject.type==="Path"){i=a(i,i.targetObject.path)}if(i.targetObject&&i.targetObject.type==="AnnotationPath"){i=a(i,i.targetObject)}if(n.endsWith("$Path")||n.endsWith("$AnnotationPath")){i=a(i,e)}return i};i.getDataFieldObjectPath=l;const c=function(e,t){const n=s(e,t);return n.$Type==="com.sap.vocabularies.UI.v1.ConnectedFieldsType"};i.isSemanticallyConnectedFields=c;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/templating/DataModelPathHelper",["sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards"],function(e,t){"use strict";var n={};var i=t.isProperty;var o=t.isPathAnnotationExpression;var a=t.isNavigationProperty;var r=t.isMultipleNavigationProperty;var s=t.isEntityType;var l=t.isEntitySet;var c=t.isComplexType;var u=e.unresolvableExpression;var d=e.getExpressionFromAnnotation;var p=e.equal;var f=e.constant;const g=function(e){return v(e===null||e===void 0?void 0:e.contextLocation,e===null||e===void 0?void 0:e.navigationProperties).map(e=>e.name)};n.getRelativePaths=g;const v=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];const n=e=>{let t=0;while(e.length>1&&t!=e.length-1){const n=e[t];const i=e[t+1];if(a(n)&&n.partner===i.name){e.splice(0,2)}else{t++}}return e};const i=(e,t,n)=>{const i=[];e.forEach((e,o)=>{if(t[o]!==e){i.push(n?e:t[o])}});return i};if(!e){return t}if(t.length>=e.navigationProperties.length){let o=i(e.navigationProperties,t,false);o=o.concat(t.slice(e.navigationProperties.length));return n(o)}let o=i(t,e.navigationProperties,true);o=o.concat(e.navigationProperties.slice(t.length));n(o);o=o.map(e=>a(e)?e.targetType.navigationProperties.find(t=>t.name===e.partner):e);return o};n.getPathRelativeLocation=v;const h=function(e,t){let n="";if(o(t)){n=t.path}else if(typeof t==="string"){n=t}let i;if(o(t)){i=t.$target}else if(y(e)){var a;i=(a=e.convertedTypes.resolvePath(`${P(e)}/${n}`))===null||a===void 0?void 0:a.target}else{if(n.startsWith("/")){n=n.substring(1)}i=e.targetEntityType.resolvePath(n)}const r=n.split("/");let s=e;for(const e of r){s=m(s,e)}s.targetObject=i;return s};n.enhanceDataModelPath=h;const m=function(e,t){let n;let i;const o=e.navigationProperties.concat();const a=o.length;const r=a?o[a-1].targetType:e.targetEntityType;if(!r){return e}else if(s(r)||c(r)){const a=e.targetEntitySet;const s=r.navigationProperties.find(e=>e.name===t);if(s){o.push(s);i=s.targetType;const e=b(o);if(e&&a!==null&&a!==void 0&&a.navigationPropertyBinding.hasOwnProperty(e)){n=a.navigationPropertyBinding[e]}}else{const e=(r.entityProperties||r.properties).find(e=>e.name===t);if(e!==null&&e!==void 0&&e.targetType){o.push(e)}}}return{startingEntitySet:e.startingEntitySet,navigationProperties:o,contextLocation:e.contextLocation,targetEntitySet:n??e.targetEntitySet,targetEntityType:i??e.targetEntityType,targetObject:e.targetObject,convertedTypes:e.convertedTypes}};const y=function(e){return e.navigationProperties.find(e=>c(e===null||e===void 0?void 0:e.targetType))!==undefined};const b=function(e){const t=e.length;if(t){const n=e[t-1];const i=c(n.targetType);let o="";if(t>1&&!i){for(let n=0;n<t-1;n++){const t=e[n];if(c(t.targetType)){o+=`${t.name}/`}else{o=""}}}return i?"":`${o}${n.name}`}return""};const C=function(e){const t=`/${e.startingEntitySet.name}`;let n=t;let i=e.startingEntitySet;const o=e.navigationProperties;let a;for(let e=0;e<o.length;e++){a=b(o.slice(0,e+1));if(i&&i.navigationPropertyBinding.hasOwnProperty(a)){n+=`/$NavigationPropertyBinding/${a.replace("/","%2F")}`;i=i.navigationPropertyBinding[a]}}n+="/$";return n};n.getTargetEntitySetPath=C;const P=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n="";if(!e.startingEntitySet){return"/"}if(!t){n+=`/${e.startingEntitySet.name}`}if(e.navigationProperties.length>0){n=_(n);n+=e.navigationProperties.map(e=>e.name).join("/")}return n};n.getTargetNavigationPath=P;const E=function(e){var t,n;let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let o=P(e,i);if((t=e.targetObject)!==null&&t!==void 0&&t.name&&!a(e.targetObject)&&!s(e.targetObject)&&!l(e.targetObject)&&!c((n=e.targetObject)===null||n===void 0?void 0:n.targetType)&&e.targetObject!==e.startingEntitySet){o=_(o);o+=`${e.targetObject.name}`}else if(e.targetObject&&e.targetObject.hasOwnProperty("term")){o=_(o);o+=`@${e.targetObject.term}`;if(e.targetObject.hasOwnProperty("qualifier")&&!!e.targetObject.qualifier){o+=`#${e.targetObject.qualifier}`}}return o};n.getTargetObjectPath=E;const T=function(e){var t;let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(((t=e.contextLocation)===null||t===void 0?void 0:t.startingEntitySet)!==e.startingEntitySet){return E(e)}return O(e,n,i)};n.getContextRelativeTargetObjectPath=T;const O=function(e){var t;let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!e.targetObject){return undefined}const o=v(e.contextLocation,e.navigationProperties);if(n){if(o.some(r)){return undefined}}let u=i?o.map(e=>{const t=r(e);return t?`${e.name}*`:e.name}).join("/"):o.map(e=>e.name).join("/");if((e.targetObject.name||e.targetObject.type==="PropertyPath"&&e.targetObject.value)&&!a(e.targetObject)&&!s(e.targetObject)&&!l(e.targetObject)&&!c((t=e.targetObject)===null||t===void 0?void 0:t.targetType)&&e.targetObject!==e.startingEntitySet){u=_(u);u+=e.targetObject.type==="PropertyPath"?`${e.targetObject.value}`:`${e.targetObject.name}`}else if(e.targetObject.hasOwnProperty("term")){u=_(u);u+=`@${e.targetObject.term}`;if(e.targetObject.hasOwnProperty("qualifier")&&!!e.targetObject.qualifier){u+=`#${e.targetObject.qualifier}`}}return u};const S=function(e,t){return M(e,e=>{var t;return e===null||e===void 0?void 0:(t=e.UpdateRestrictions)===null||t===void 0?void 0:t.Updatable},t)};n.isPathUpdatable=S;const A=function(e,t){return M(e,e=>{var t;return e===null||e===void 0?void 0:(t=e.SearchRestrictions)===null||t===void 0?void 0:t.Searchable},t)};n.isPathSearchable=A;const I=function(e,t){return M(e,e=>{var t;return e===null||e===void 0?void 0:(t=e.DeleteRestrictions)===null||t===void 0?void 0:t.Deletable},t)};n.isPathDeletable=I;const D=function(e,t){return M(e,e=>{var t;return e===null||e===void 0?void 0:(t=e.InsertRestrictions)===null||t===void 0?void 0:t.Insertable},t)};n.isPathInsertable=D;const x=function(e,t){return M(e,n=>{if(n&&"FilterRestrictions"in n){var i;const a=(n===null||n===void 0?void 0:(i=n.FilterRestrictions)===null||i===void 0?void 0:i.FilterExpressionRestrictions)||[];const r=a.find(t=>t.Property.$target===e.targetObject);if(r){var o;return t.indexOf(r===null||r===void 0?void 0:(o=r.AllowedExpressions)===null||o===void 0?void 0:o.toString())!==-1}else{return false}}else{return false}})};n.checkFilterExpressionRestrictions=x;const M=function(e,t,n){if(!e||!e.startingEntitySet){return f(true)}e=h(e,n===null||n===void 0?void 0:n.propertyPath);let o=e.startingEntitySet;let a=null;let r=[];const s=[];let l=o;const c=e.targetEntityType;let g=false;e.navigationProperties.forEach(e=>{if(g){r=[]}r.push(e.name);s.push(e);if(i(e)||!e.containsTarget){const e=r.join("/");if(o&&o.navigationPropertyBinding.hasOwnProperty(e)){a=o;o=o.navigationPropertyBinding[e];l=o;g=true}else{a=o;o=null;g=true}}else{a=o;l=null}});const m=r.join("/");let y,b;if(a!==null){var C,P,E;const i=a;(C=i.annotations)===null||C===void 0?void 0:(P=C.Capabilities)===null||P===void 0?void 0:(E=P.NavigationRestrictions)===null||E===void 0?void 0:E.RestrictedProperties.forEach(i=>{var o;if(((o=i.NavigationProperty)===null||o===void 0?void 0:o.type)==="NavigationPropertyPath"){const o=t(i);if(m===i.NavigationProperty.value&&o!==undefined){var a;const t=s.slice(0,-1);b=t;const i=v((a=e)===null||a===void 0?void 0:a.contextLocation,b).map(e=>e.name);const r=n!==null&&n!==void 0&&n.pathVisitor?w(n.pathVisitor,i):undefined;y=p(d(o,i,undefined,r),true)}}})}let T;if(!(n!==null&&n!==void 0&&n.ignoreTargetCollection)){var O,S;let i=t((O=l)===null||O===void 0?void 0:(S=O.annotations)===null||S===void 0?void 0:S.Capabilities);if(l===null&&i===undefined){var A;i=t(c===null||c===void 0?void 0:(A=c.annotations)===null||A===void 0?void 0:A.Capabilities)}if(i!==undefined){const t=v(e.contextLocation,s).map(e=>e.name);const o=n!==null&&n!==void 0&&n.pathVisitor?w(n.pathVisitor,t):undefined;T=p(d(i,t,undefined,o),true)}}return y||T||(n!==null&&n!==void 0&&n.authorizeUnresolvable?u:f(true))};n.checkOnPath=M;const _=function(e){if(e.length&&!e.endsWith("/")){return`${e}/`}return e};const w=function(e,t){return function(n){return e(n,t)}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/templating/DisplayModeFormatter",["sap/fe/core/helpers/TypeGuards"],function(e){"use strict";var t={};var n=e.isPropertyPathExpression;var i=e.isPathAnnotationExpression;const o={"sap.ui.model.odata.type.Boolean":"Edm.Boolean","sap.ui.model.odata.type.Byte":"Edm.Byte","sap.ui.model.odata.type.Date":"Edm.Date","sap.ui.model.odata.type.DateTimeOffset":"Edm.DateTimeOffset","sap.ui.model.odata.type.Decimal":"Edm.Decimal","sap.ui.model.odata.type.Double":"Edm.Double","sap.ui.model.odata.type.Guid":"Edm.Guid","sap.ui.model.odata.type.Int16":"Edm.Int16","sap.ui.model.odata.type.Int32":"Edm.Int32","sap.ui.model.odata.type.Int64":"Edm.Int64","sap.ui.model.odata.type.SByte":"Edm.SByte","sap.ui.model.odata.type.Single":"Edm.Single","sap.ui.model.odata.type.Stream":"Edm.Stream","sap.ui.model.odata.type.TimeOfDay":"Edm.TimeOfDay","sap.ui.model.odata.type.String":"Edm.String"};t.ODATA_TYPE_MAPPING=o;const a=function(e,t){var o,a,r,s,l,c,u,d,p,f,g;if(!e||typeof e==="string"){return"Value"}const v=(i(e)||n(e))&&e.$target||e;const h=t&&t.targetEntityType;const m=(o=v.annotations)===null||o===void 0?void 0:(a=o.Common)===null||a===void 0?void 0:a.Text;const y=typeof m!=="string"&&(m===null||m===void 0?void 0:(r=m.annotations)===null||r===void 0?void 0:(s=r.UI)===null||s===void 0?void 0:(l=s.TextArrangement)===null||l===void 0?void 0:l.toString())||(h===null||h===void 0?void 0:(c=h.annotations)===null||c===void 0?void 0:(u=c.UI)===null||u===void 0?void 0:(d=u.TextArrangement)===null||d===void 0?void 0:d.toString());let b=m?"DescriptionValue":"Value";if(m&&y||h!==null&&h!==void 0&&(p=h.annotations)!==null&&p!==void 0&&(f=p.UI)!==null&&f!==void 0&&(g=f.TextArrangement)!==null&&g!==void 0&&g.toString()){if(y==="UI.TextArrangementType/TextOnly"){b="Description"}else if(y==="UI.TextArrangementType/TextLast"){b="ValueDescription"}else if(y==="UI.TextArrangementType/TextSeparate"){b="Value"}else{b="DescriptionValue"}}return b};t.getDisplayMode=a;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/templating/EntitySetHelper",["sap/fe/core/helpers/TypeGuards"],function(e){"use strict";var t={};var n=e.isEntitySet;const i=function(e){var t,i,o;let a=[];if(n(e)){var r,s;if(((r=e.annotations.Capabilities)===null||r===void 0?void 0:(s=r.SortRestrictions)===null||s===void 0?void 0:s.Sortable)===false){a.push(...e.entityType.entityProperties.map(e=>e.name))}else{var l,c,u;a=((l=e.annotations.Capabilities)===null||l===void 0?void 0:(c=l.SortRestrictions)===null||c===void 0?void 0:(u=c.NonSortableProperties)===null||u===void 0?void 0:u.map(e=>e.value))||[]}}else{return[]}(t=e.annotations.Capabilities)===null||t===void 0?void 0:(i=t.NavigationRestrictions)===null||i===void 0?void 0:(o=i.RestrictedProperties)===null||o===void 0?void 0:o.forEach(t=>{var n;if((t===null||t===void 0?void 0:(n=t.SortRestrictions)===null||n===void 0?void 0:n.Sortable)===false){var i;const n=e.entityType.navigationProperties.by_name(t===null||t===void 0?void 0:(i=t.NavigationProperty)===null||i===void 0?void 0:i.value);if(n){a.push(...n.targetType.entityProperties.map(e=>`${n.name}/${e.name}`))}}else{var o,r;const e=t===null||t===void 0?void 0:(o=t.SortRestrictions)===null||o===void 0?void 0:(r=o.NonSortableProperties)===null||r===void 0?void 0:r.map(e=>e.value);if(e){a.push(...e)}}});return a};t.getNonSortablePropertiesRestrictions=i;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/templating/EntityTypeHelper",["sap/base/Log","sap/fe/core/helpers/BindingToolkit"],function(e,t){"use strict";var n={};var i=t.pathInModel;var o=t.getExpressionFromAnnotation;var a=t.concat;const r=t=>{var n,r,s,l,c,u,d,p;const f=(n=t.annotations)===null||n===void 0?void 0:(r=n.UI)===null||r===void 0?void 0:(s=r.HeaderInfo)===null||s===void 0?void 0:s.Title;if(f){switch(f.$Type){case"com.sap.vocabularies.UI.v1.DataField":return o(f.Value);case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":e.error("DataFieldForAnnotation with connected fields not supported for HeaderInfo.Title");return o((l=t.annotations)===null||l===void 0?void 0:(c=l.UI)===null||c===void 0?void 0:(u=c.HeaderInfo)===null||u===void 0?void 0:u.TypeName)}}const g=(d=t.annotations)===null||d===void 0?void 0:(p=d.Common)===null||p===void 0?void 0:p.SemanticKey;if(g){return a(...g.map(e=>i(e.value)))}};n.getTitleExpression=r;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/templating/FieldControlHelper",["sap/fe/core/helpers/BindingToolkit"],function(e){"use strict";var t={};var n=e.or;var i=e.getExpressionFromAnnotation;var o=e.equal;var a=e.constant;const r=function(e,t){var r,s,l;const c=e===null||e===void 0?void 0:(r=e.annotations)===null||r===void 0?void 0:(s=r.Common)===null||s===void 0?void 0:(l=s.FieldControl)===null||l===void 0?void 0:l.valueOf();if(typeof c==="object"&&!!c){return n(o(i(c,t),1),o(i(c,t),"1"))}return a(c==="Common.FieldControlType/ReadOnly")};t.isReadOnlyExpression=r;const s=function(e,t){var r,s,l;const c=e===null||e===void 0?void 0:(r=e.annotations)===null||r===void 0?void 0:(s=r.Common)===null||s===void 0?void 0:(l=s.FieldControl)===null||l===void 0?void 0:l.valueOf();if(typeof c==="object"&&!!c){return n(o(i(c,t),0),o(i(c,t),"0"))}return a(c==="Common.FieldControlType/Inapplicable")};t.isDisabledExpression=s;const l=function(e,t){return n(r(e,t),s(e,t))};t.isNonEditableExpression=l;const c=function(e,t){var r,s,l;const c=e===null||e===void 0?void 0:(r=e.annotations)===null||r===void 0?void 0:(s=r.Common)===null||s===void 0?void 0:(l=s.FieldControl)===null||l===void 0?void 0:l.valueOf();if(typeof c==="object"&&!!c){return n(o(i(c,t),7),o(i(c,t),"7"))}return a(c==="Common.FieldControlType/Mandatory")};t.isRequiredExpression=c;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/templating/FilterHelper",["sap/base/Log","sap/fe/core/type/EDM","sap/ui/mdc/condition/Condition","sap/ui/mdc/enum/ConditionValidated"],function(e,t,n,i){"use strict";var o={};var a=t.isTypeFilterable;const r={Contains:"NotContains",StartsWith:"NotStartsWith",EndsWith:"NotEndsWith",Empty:"NotEmpty",NotEmpty:"Empty",LE:"NOTLE",GE:"NOTGE",LT:"NOTLT",GT:"NOTGT",BT:"NOTBT",NE:"EQ",EQ:"NE"};function s(e){let t;if(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})\+(\d{1,4})/)){t=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})\+(\d{1,4})/)[0]}else if(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})/)){t=`${e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})/)[0]}+0000`}else if(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)){t=`${e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)[0]}T00:00:00+0000`}else if(e.indexOf("Z")===e.length-1){t=`${e.split("Z")[0]}+0100`}else{t=undefined}return t}o._getDateTimeOffsetCompliantValue=s;function l(e){return e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)?e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)[0]:e.match(/^(\d{8})/)&&e.match(/^(\d{8})/)[0]}o._getDateCompliantValue=l;function c(e,t){let n;if(!a(t)){return undefined}n=e;switch(t){case"Edm.Boolean":if(typeof e==="boolean"){n=e}else{n=e==="true"||(e==="false"?false:undefined)}break;case"Edm.Double":case"Edm.Single":n=isNaN(e)?undefined:parseFloat(e);break;case"Edm.Byte":case"Edm.Int16":case"Edm.Int32":case"Edm.SByte":n=isNaN(e)?undefined:parseInt(e,10);break;case"Edm.Date":n=l(e);break;case"Edm.DateTimeOffset":n=s(e);break;case"Edm.TimeOfDay":n=e.match(/(\d{1,2}):(\d{1,2}):(\d{1,2})/)?e.match(/(\d{1,2}):(\d{1,2}):(\d{1,2})/)[0]:undefined;break;default:}return n===null?undefined:n}o.getTypeCompliantValue=c;function u(t,n,i,o){let a=n,s,l;const c={};c.values=[];c.isEmpty=null;if(n===undefined||n===null){return undefined}switch(t){case"CP":l="Contains";if(a){const t=a.indexOf("*");const n=a.lastIndexOf("*");if(t>-1){if(t===0&&n!==a.length-1){l="EndsWith";a=a.substring(1,a.length)}else if(t!==0&&n===a.length-1){l="StartsWith";a=a.substring(0,a.length-1)}else{a=a.substring(1,a.length-1)}}else{e.warning("Contains Option cannot be used without '*'.");return undefined}}break;case"EQ":l=n===""?"Empty":t;break;case"NE":l=n===""?"NotEmpty":t;break;case"BT":if(i===undefined||i===null){return}s=i;l=t;break;case"LE":case"GE":case"GT":case"LT":l=t;break;default:e.warning(`Selection Option is not supported : '${t}'`);return undefined}if(o==="E"){l=r[l]}c.operator=l;if(l!=="Empty"){c.values.push(a);if(s){c.values.push(s)}}return c}o.resolveConditionValues=u;function d(e){return e.indexOf("/")>0?e.split("/")[1]:e}o.getRangeProperty=d;function p(e,t,n,i){const o=[];e===null||e===void 0?void 0:e.forEach(e=>{const a=i?i(e,t,n):h(e,t);if(a){o.push(a)}});return o}function f(e,t,n){const i=e.lastIndexOf("/");const o=i>-1?e.substring(0,e.lastIndexOf("/")+1):"";const a=t.getObject(`${n}/${o}`);return a===null||a===void 0?void 0:a[e.replace(o,"")]}function g(e,t,n,i){const o=e.PropertyName,a={},r=o.value||o.$PropertyPath,s=e.Ranges;const l=f(r,t,n);if(l){const e=p(s,l,r,i);if(e.length){a[r]=(a[r]||[]).concat(e)}}return a}function v(e,t,n,o){let a={};if(!n){return a}const r=n.SelectOptions,s=n.Parameters;r===null||r===void 0?void 0:r.forEach(n=>{const i=n.PropertyName,r=i.value||i.$PropertyPath;if(Object.keys(a).includes(r)){a[r]=a[r].concat(g(n,t,e,o)[r])}else{a={...a,...g(n,t,e,o)}}});s===null||s===void 0?void 0:s.forEach(e=>{const t=e.PropertyName.value||e.PropertyName.$PropertyPath;const n=o?{operator:"EQ",value1:e.PropertyValue,value2:null,path:t,isParameter:true}:{operator:"EQ",values:[e.PropertyValue],isEmpty:null,validated:i.Validated,isParameter:true};a[t]=[n]});return a}o.getFiltersConditionsFromSelectionVariant=v;function h(e,t){let o;const a=e.Sign?d(e.Sign):undefined;const r=e.Option?d(e.Option):undefined;const s=c(e.Low,t.$Type||t.type);const l=e.High?c(e.High,t.$Type||t.type):undefined;const p=u(r,s,l,a);if(p){o=n.createCondition(p.operator,p.values,null,null,i.Validated)}return o}o.getConditions=h;const m=function(e,t){const o={};const a=e.getInterface(1).getPath(),r=e.getInterface(1).getModel();if(t){for(const e in t){const t=r.getObject(`${a}/${e}@com.sap.vocabularies.Common.v1.FilterDefaultValue`);if(t!==undefined){const a=e;o[a]=[n.createCondition("EQ",[t],null,null,i.Validated)]}}}return o};const y=function(e,t,i){const o={};const a=e.getInterface(1);const r=a.getModel();const s=a.getPath();for(const e in i){if(i[e][0]){const t=e.split("::");let a="";const l=t.length;const c=t.slice(0,t.length-1).join("/");const u=t[l-1];if(c){const e=r.getObject(s+"/"+c);if(e.$kind==="NavigationProperty"&&e.$isCollection){a+=`${c}*/`}else if(e.$kind==="NavigationProperty"){a+=`${c}/`}}a+=u;const d="values"in i[e][0]?i[e][0].values:[];o[a]=[n.createCondition(i[e][0].operator,d,null,null,null)]}}return o};function b(){const e={};e["$editState"]=[n.createCondition("DRAFT_EDIT_STATE",["ALL"],null,null,i.Validated)];return e}function C(e,t){var n,i;let o;const a=e.getInterface(1).getPath(),r=e.getInterface(1).getModel(),s=r.getObject(`${a}@`),l=r.getObject(`${a}/`);if(s&&(s["@com.sap.vocabularies.Common.v1.DraftRoot"]||s["@com.sap.vocabularies.Common.v1.DraftNode"])){o=b()}const c=(n=t)===null||n===void 0?void 0:n.selectionVariant;const u=((i=t)===null||i===void 0?void 0:i.defaultSemanticDates)||{};const d=m(e,l);const p=y(e,l,u);if(c){t=v(a,r,c)}else if(d){t=d}if(p){t={...t,...p}}if(o){t={...t,...o}}return Object.keys(t).length>0?JSON.stringify(t).replace(/([{}])/g,"\\$1"):undefined}o.getFilterConditions=C;C.requiresIContext=true;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/templating/FilterTemplating",["sap/fe/core/helpers/TypeGuards"],function(e){"use strict";var t={};var n=e.isEntitySet;function i(e,t){var i,o;const a=e.getEntitySet();let r;if(n(a)){r=a.annotations.Capabilities}const s=(i=r)===null||i===void 0?void 0:(o=i.FilterRestrictions)===null||o===void 0?void 0:o.RequiredProperties;let l=false;if(s){s.forEach(function(e){if(t===(e===null||e===void 0?void 0:e.value)){l=true}})}return l}t.getIsRequired=i;function o(e,t){var i,o;let a,r;const s=e.getEntityType();const l=e.getEntitySet();let c;if(n(l)){c=l.annotations.Capabilities}const u=(i=c)===null||i===void 0?void 0:(o=i.FilterRestrictions)===null||o===void 0?void 0:o.NonFilterableProperties;const d=s.entityProperties;d.forEach(e=>{const n=e.name;if(n===t){var i,o,a;r=(i=e.annotations)===null||i===void 0?void 0:(o=i.UI)===null||o===void 0?void 0:(a=o.Hidden)===null||a===void 0?void 0:a.valueOf()}});if(u&&u.length>0){for(let e=0;e<u.length;e++){var p;const n=(p=u[e])===null||p===void 0?void 0:p.value;if(n===t){a=true}}}return a||r}t.isPropertyFilterable=o;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/templating/PropertyFormatters",["sap/fe/core/converters/MetaModelConverter","sap/fe/core/templating/DataModelPathHelper","./PropertyHelper","./UIFormatters"],function(e,t,n,i){"use strict";var o={};var a=i.getConverterContext;var r=t.getTargetObjectPath;var s=t.enhanceDataModelPath;var l=e.getInvolvedDataModelObjects;const c=function(e,t){const n=t.context.getPath();if(!e){throw new Error(`Unresolved context path ${n}`)}let i=false;if(typeof e==="object"&&e.hasOwnProperty("$Path")){i=true}else if(typeof e==="object"&&e.hasOwnProperty("$kind")&&e.$kind!=="Property"){throw new Error(`Context does not resolve to a Property object but to a ${e.$kind}`)}let o=a(e,t);if(i){o=o.$target}return o};o.getProperty=c;const u=function(e,t){const n=t.context.getPath();if(!e){throw new Error(`Unresolved context path ${n}`)}if(typeof e==="object"&&e.hasOwnProperty("$kind")&&e.$kind!=="Property"){throw new Error(`Context does not resolve to a Property object but to a ${e.$kind}`)}let i=l(t.context);if(i.targetObject&&i.targetObject.type==="Path"){i=s(i,i.targetObject.path)}return i};o.getPropertyObjectPath=u;const d=function(e,t){const i=c(e,t);return n.isKey(i)};o.isKey=d;const p=function(e,t){const i=c(e,t);return n.hasValueHelp(i)};o.hasValueHelp=p;const f=function(e,t){const i=c(e,t);return n.hasDateType(i)};o.hasDateType=f;const g=function(e,t){const i=c(e,t);return n.hasValueHelpWithFixedValues(i)};o.hasValueHelpWithFixedValues=g;const v=function(e,t){const n=c(e,t);return n.name};o.getName=v;const h=function(e,t){const i=c(e,t);return n.getLabel(i)};o.getLabel=h;const m=function(e,t){const n=u(e,t);return r(n)};o.getPropertyPath=m;const y=function(e,t){const n=u(e,t);return r(n,true)};o.getRelativePropertyPath=y;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/templating/PropertyHelper",["sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/SemanticObjectHelper"],function(e,t){"use strict";var n={};var i=e.isPathAnnotationExpression;const o=function(e){var t,n,i;return!!((t=e.annotations)!==null&&t!==void 0&&(n=t.Core)!==null&&n!==void 0&&(i=n.Computed)!==null&&i!==void 0&&i.valueOf())};n.isComputed=o;const a=function(e){var t,n,i;return!!((t=e.annotations)!==null&&t!==void 0&&(n=t.Core)!==null&&n!==void 0&&(i=n.Immutable)!==null&&i!==void 0&&i.valueOf())};n.isImmutable=a;const r=function(e){return!!e.isKey};n.isKey=r;const s=function(e,t){var n,i,o,a;const r=(n=t.contextLocation)===null||n===void 0?void 0:(i=n.targetEntityType)===null||i===void 0?void 0:(o=i.annotations)===null||o===void 0?void 0:(a=o.Common)===null||a===void 0?void 0:a.SemanticKey;return(r===null||r===void 0?void 0:r.some(function(t){var n;return(t===null||t===void 0?void 0:(n=t.$target)===null||n===void 0?void 0:n.fullyQualifiedName)===e.fullyQualifiedName}))??false};n.isSemanticKey=s;const l=function(e){return["Edm.Date","Edm.DateTime","Edm.DateTimeOffset"].indexOf(e.type)!==-1};n.hasDateType=l;const c=function(e){var t,n,i;return((t=e.annotations)===null||t===void 0?void 0:(n=t.Common)===null||n===void 0?void 0:(i=n.Label)===null||i===void 0?void 0:i.toString())||""};n.getLabel=c;const u=function(e){return t.hasSemanticObject(e)};n.hasSemanticObject=u;const d=function(e){var t,n,o,a;return i(e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.Common)===null||n===void 0?void 0:n.Timezone)?(o=e.annotations)===null||o===void 0?void 0:(a=o.Common)===null||a===void 0?void 0:a.Timezone.$target:undefined};n.getAssociatedTimezoneProperty=d;const p=function(e){var t,n,o,a,r;return i(e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.Common)===null||n===void 0?void 0:n.Timezone)?e===null||e===void 0?void 0:(o=e.annotations)===null||o===void 0?void 0:(a=o.Common)===null||a===void 0?void 0:(r=a.Timezone)===null||r===void 0?void 0:r.path:undefined};n.getAssociatedTimezonePropertyPath=p;const f=function(e){var t,n,o,a;return i(e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.Common)===null||n===void 0?void 0:n.Text)?(o=e.annotations)===null||o===void 0?void 0:(a=o.Common)===null||a===void 0?void 0:a.Text.$target:undefined};n.getAssociatedTextProperty=f;const g=function(e){var t,n,o,a;return i(e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.Measures)===null||n===void 0?void 0:n.Unit)?(o=e.annotations)===null||o===void 0?void 0:(a=o.Measures)===null||a===void 0?void 0:a.Unit.$target:undefined};n.getAssociatedUnitProperty=g;const v=function(e){var t,n,o,a;return i(e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.Measures)===null||n===void 0?void 0:n.Unit)?(o=e.annotations)===null||o===void 0?void 0:(a=o.Measures)===null||a===void 0?void 0:a.Unit.path:undefined};n.getAssociatedUnitPropertyPath=v;const h=function(e){var t,n,o,a;return i(e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.Measures)===null||n===void 0?void 0:n.ISOCurrency)?(o=e.annotations)===null||o===void 0?void 0:(a=o.Measures)===null||a===void 0?void 0:a.ISOCurrency.$target:undefined};n.getAssociatedCurrencyProperty=h;const m=function(e){var t,n,o,a;return i(e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.Measures)===null||n===void 0?void 0:n.ISOCurrency)?(o=e.annotations)===null||o===void 0?void 0:(a=o.Measures)===null||a===void 0?void 0:a.ISOCurrency.path:undefined};n.getAssociatedCurrencyPropertyPath=m;const y=function(e){var t,n,o,a;return i((t=e.annotations)===null||t===void 0?void 0:(n=t.Common)===null||n===void 0?void 0:n.Text)?(o=e.annotations)===null||o===void 0?void 0:(a=o.Common)===null||a===void 0?void 0:a.Text.path:undefined};n.getAssociatedTextPropertyPath=y;const b=function(e){var t,n,i,o,a,r,s,l;return!!((t=e.annotations)!==null&&t!==void 0&&(n=t.Common)!==null&&n!==void 0&&n.ValueList)||!!((i=e.annotations)!==null&&i!==void 0&&(o=i.Common)!==null&&o!==void 0&&o.ValueListReferences)||!!((a=e.annotations)!==null&&a!==void 0&&(r=a.Common)!==null&&r!==void 0&&r.ValueListWithFixedValues)||!!((s=e.annotations)!==null&&s!==void 0&&(l=s.Common)!==null&&l!==void 0&&l.ValueListMapping)};n.hasValueHelp=b;const C=function(e){var t,n,i;return!!(e!==null&&e!==void 0&&(t=e.annotations)!==null&&t!==void 0&&(n=t.Common)!==null&&n!==void 0&&(i=n.ValueListWithFixedValues)!==null&&i!==void 0&&i.valueOf())};n.hasValueHelpWithFixedValues=C;const P=function(e){var t,n;return((t=e.annotations)===null||t===void 0?void 0:(n=t.Common)===null||n===void 0?void 0:n.ValueListForValidation)!==undefined};n.hasValueListForValidation=P;const E=function(e){var t,n;return((t=e.annotations)===null||t===void 0?void 0:(n=t.Common)===null||n===void 0?void 0:n.Timezone)!==undefined};n.hasTimezone=E;const T=function(e){var t,n,i;return!!((t=e.annotations)!==null&&t!==void 0&&(n=t.Common)!==null&&n!==void 0&&(i=n.IsUnit)!==null&&i!==void 0&&i.valueOf())};n.isUnit=T;const O=function(e){var t,n,i;return!!((t=e.annotations)!==null&&t!==void 0&&(n=t.Common)!==null&&n!==void 0&&(i=n.Text)!==null&&i!==void 0&&i.valueOf())};n.hasText=O;const S=function(e){var t,n,i;return!!((t=e.annotations)!==null&&t!==void 0&&(n=t.UI)!==null&&n!==void 0&&(i=n.IsImageURL)!==null&&i!==void 0&&i.valueOf())};n.isImageURL=S;const A=function(e){var t,n,i;return!!((t=e.annotations)!==null&&t!==void 0&&(n=t.Common)!==null&&n!==void 0&&(i=n.IsCurrency)!==null&&i!==void 0&&i.valueOf())};n.isCurrency=A;const I=function(e){var t,n;return((t=e.annotations)===null||t===void 0?void 0:(n=t.Measures)===null||n===void 0?void 0:n.ISOCurrency)!==undefined};n.hasCurrency=I;const D=function(e){var t,n;return((t=e.annotations)===null||t===void 0?void 0:(n=t.Measures)===null||n===void 0?void 0:n.Unit)!==undefined};n.hasUnit=D;const x=function(e){return e.type==="Edm.Guid"};n.isGuid=x;const M=function(e){var t,n,i;return(e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.Measures)===null||n===void 0?void 0:(i=n.Unit)===null||i===void 0?void 0:i.toString())==="%"};n.hasStaticPercentUnit=M;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/templating/SemanticObjectHelper",[],function(){"use strict";var e={};const t=e=>{const t=e===null||e===void 0?void 0:e.match(/{(.*?)}/);if(t!==null&&t!==void 0&&t.length&&t.length>1){return t[1]}return null};e.getDynamicPathFromSemanticObject=t;const n=function(e){var t;const n=(t=e.annotations)===null||t===void 0?void 0:t.Common;if(n){for(const e in n){var i;if(((i=n[e])===null||i===void 0?void 0:i.term)==="com.sap.vocabularies.Common.v1.SemanticObject"){return true}}}return false};e.hasSemanticObject=n;const i=function(e){var t;const n=[];const i=(t=e.annotations)===null||t===void 0?void 0:t.Common;if(i){for(const e in i){var o;if(((o=i[e])===null||o===void 0?void 0:o.term)==="com.sap.vocabularies.Common.v1.SemanticObject"){n.push(i[e])}}}return n};e.getSemanticObjects=i;const o=function(e){var t;const n=[];const i=(t=e.annotations)===null||t===void 0?void 0:t.Common;if(i){for(const e in i){var o;if(((o=i[e])===null||o===void 0?void 0:o.term)==="com.sap.vocabularies.Common.v1.SemanticObjectMapping"){n.push(i[e])}}}return n};e.getSemanticObjectMappings=o;const a=function(e){var t;const n=[];const i=(t=e.annotations)===null||t===void 0?void 0:t.Common;if(i){for(const e in i){var o;if(((o=i[e])===null||o===void 0?void 0:o.term)==="com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"){n.push(i[e])}}}return n};e.getSemanticObjectUnavailableActions=a;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/templating/UIFormatters",["sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/FieldControlHelper","sap/fe/core/templating/PropertyHelper","sap/ui/mdc/enum/EditMode"],function(e,t,n,i,o,a,r,s,l,c){"use strict";var u={};var d=l.isKey;var p=l.isImmutable;var f=l.isComputed;var g=l.hasValueHelp;var v=l.getAssociatedUnitProperty;var h=l.getAssociatedCurrencyProperty;var m=s.isRequiredExpression;var y=s.isReadOnlyExpression;var b=s.isNonEditableExpression;var C=s.isDisabledExpression;var P=a.isPathUpdatable;var E=a.getTargetObjectPath;var T=a.getRelativePaths;var O=a.getContextRelativeTargetObjectPath;var S=o.isProperty;var A=o.isPathAnnotationExpression;var I=o.isMultipleNavigationProperty;var D=i.pathInModel;var x=i.or;var M=i.notEqual;var _=i.not;var w=i.isTruthy;var F=i.isConstant;var R=i.ifElse;var N=i.getExpressionFromAnnotation;var $=i.formatWithTypeInformation;var V=i.formatResult;var L=i.equal;var B=i.EDM_TYPE_MAPPING;var j=i.constant;var k=i.compileExpression;var U=i.and;var H=i.addTypeInformation;var G=t.getInvolvedDataModelObjects;var z=t.convertMetaModelContext;var W=e.UI;var q=e.singletonPathVisitor;const K=function(e){return r.getDisplayMode(e.targetObject,e)};u.getDisplayMode=K;const Q=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let n=arguments.length>2?arguments[2]:undefined;let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:W.IsEditable;let o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;return Y(e,t,n,true,i,o)};u.getEditableExpressionAsObject=Q;const Y=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let n=arguments.length>2?arguments[2]:undefined;let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:W.IsEditable;let a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:true;if(!e||typeof e==="string"){return k(false)}let r=j(true);if(t!==null){r=R(b(t),false,o)}const s=A(e)?e.$target:e;const l=T(n);const c=P(n,{propertyPath:e,pathVisitor:(e,t)=>q(e,n.convertedTypes,t)});if(k(c)==="false"&&a){return i?c:"false"}const u=R(x(U(_(c),a),f(s),d(s),p(s),b(s,l)),R(x(f(s),b(s,l)),false,W.IsTransientBinding),o);if(i){return U(u,r)}return k(U(u,r))};u.getEditableExpression=Y;const J=function(e,t){var n;const i=E(e);const o=D(`/collaboration/activities${i}`,"internal");const a=e===null||e===void 0?void 0:(n=e.targetEntityType)===null||n===void 0?void 0:n.keys;const r=[];a===null||a===void 0?void 0:a.forEach(function(e){const t=D(e.name);r.push(t)});return V([o,...r],t)};u.getCollaborationExpression=J;const X=function(e,t,n){return Z(e,t,true,n)};u.getEnabledExpressionAsObject=X;const Z=function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let i=arguments.length>3?arguments[3]:undefined;if(!e||typeof e==="string"){return k(true)}let o;if(i){o=T(i)}let a=j(true);if(t!==null){a=R(C(t),false,true)}const r=A(e)?e.$target:e;const s=R(C(r,o),false,true);if(n){return U(s,a)}return k(U(s,a))};u.getEnabledExpression=Z;const ee=function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;let a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:W.IsEditable;if(!e||typeof e==="string"||(o===null||o===void 0?void 0:o.$Type)==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){return c.Display}const r=A(e)?e.$target:e;const s=T(t);const l=P(t,{propertyPath:r,pathVisitor:(e,n)=>q(e,t.convertedTypes,n)});const u=Q(e,o,t,a,false);const d=X(e,o,t);const g=h(r);const m=g||v(r);let b=j(c.Editable);if(m){const e=y(m,s);b=R(x(e,f(m),U(p(m),_(W.IsTransientBinding)),n),R(!F(e)&&e,c.EditableReadOnly,c.EditableDisplay),c.Editable)}const C=x(y(r,s),y(o));const E=R(x(l,W.IsTransientBinding),R(d,R(u,b,R(U(!F(C)&&C,a),c.ReadOnly,c.Display)),R(a,c.Disabled,c.Display)),c.Display);if(i){return E}return k(E)};u.getEditMode=ee;const te=function(e){var t,n,i,o;const a=e.targetObject;const r=(t=a.annotations)===null||t===void 0?void 0:(n=t.Measures)===null||n===void 0?void 0:n.ISOCurrency;const s=r?r:(i=a.annotations)===null||i===void 0?void 0:(o=i.Measures)===null||o===void 0?void 0:o.Unit;if(s){return k(x(w(N(s)),_(W.IsTotal)))}else{return k(j(true))}};u.hasValidAnalyticalCurrencyOrUnit=te;const ne=function(e,t,n){const i=A(e)&&e.$target||e;const o=h(i)||v(i);if(!o){return k(n)}const a=y(o);const r=U(x(!F(a),_(a)),_(f(o)),_(p(o)));return k(R(r,t,n))};u.ifUnitEditable=ne;const ie=function(e,t,n){const i=A(e)&&e.$target||e;return g(i)?k(t):k(R(L(n,"Editable"),"Value",t))};u.getFieldDisplay=ie;const oe=function(e,t){var n,i,o,a;const r=B[e===null||e===void 0?void 0:e.type]||(t?B[t]:undefined);const s={type:r.type,constraints:{},formatOptions:{}};if(S(e)){var l,c,u,d,p,f,g,v,h,m,y,b,C,P,E,T,O,A;s.constraints={scale:(l=r.constraints)!==null&&l!==void 0&&l.$Scale?e.scale:undefined,precision:(c=r.constraints)!==null&&c!==void 0&&c.$Precision?e.precision:undefined,maxLength:(u=r.constraints)!==null&&u!==void 0&&u.$MaxLength?e.maxLength:undefined,nullable:(d=r.constraints)!==null&&d!==void 0&&d.$Nullable?e.nullable:undefined,minimum:(p=r.constraints)!==null&&p!==void 0&&p["@Org.OData.Validation.V1.Minimum/$Decimal"]&&!isNaN((f=e.annotations)===null||f===void 0?void 0:(g=f.Validation)===null||g===void 0?void 0:g.Minimum)?`${(v=e.annotations)===null||v===void 0?void 0:(h=v.Validation)===null||h===void 0?void 0:h.Minimum}`:undefined,maximum:(m=r.constraints)!==null&&m!==void 0&&m["@Org.OData.Validation.V1.Maximum/$Decimal"]&&!isNaN((y=e.annotations)===null||y===void 0?void 0:(b=y.Validation)===null||b===void 0?void 0:b.Maximum)?`${(C=e.annotations)===null||C===void 0?void 0:(P=C.Validation)===null||P===void 0?void 0:P.Maximum}`:undefined,isDigitSequence:s.type==="sap.ui.model.odata.type.String"&&(E=r.constraints)!==null&&E!==void 0&&E["@com.sap.vocabularies.Common.v1.IsDigitSequence"]&&(T=e.annotations)!==null&&T!==void 0&&(O=T.Common)!==null&&O!==void 0&&O.IsDigitSequence?true:undefined,V4:(A=r.constraints)!==null&&A!==void 0&&A.$V4?true:undefined}}s.formatOptions={parseAsString:(s===null||s===void 0?void 0:(n=s.type)===null||n===void 0?void 0:n.indexOf("sap.ui.model.odata.type.Int"))===0||(s===null||s===void 0?void 0:(i=s.type)===null||i===void 0?void 0:i.indexOf("sap.ui.model.odata.type.Double"))===0?false:undefined,emptyString:(s===null||s===void 0?void 0:(o=s.type)===null||o===void 0?void 0:o.indexOf("sap.ui.model.odata.type.Int"))===0||(s===null||s===void 0?void 0:(a=s.type)===null||a===void 0?void 0:a.indexOf("sap.ui.model.odata.type.Double"))===0?"":undefined,parseKeepsEmptyString:s.type==="sap.ui.model.odata.type.String"?true:undefined};return s};u.getTypeConfig=oe;const ae=function(e,t,i,o){var a,r,s,l,c;const u=e.targetObject;let d=(a=u.annotations)===null||a===void 0?void 0:(r=a.Measures)===null||r===void 0?void 0:r.Unit;const p=T(e);t=$(u,t);if(((s=d)===null||s===void 0?void 0:s.toString())==="%"){if((o===null||o===void 0?void 0:o.showMeasure)===false){return t}return V([t],n.formatWithPercentage)}const f=d?"sap.ui.model.odata.type.Unit":"sap.ui.model.odata.type.Currency";d=d?d:(l=u.annotations)===null||l===void 0?void 0:(c=l.Measures)===null||c===void 0?void 0:c.ISOCurrency;const g=d.$target?$(d.$target,N(d,p),i):N(d,p);return H([t,g],f,undefined,o)};u.getBindingWithUnitOrCurrency=ae;const re=function(e){var t,n,i,o,a;const r=e.targetObject;let s=(t=r.annotations)===null||t===void 0?void 0:(n=t.Measures)===null||n===void 0?void 0:n.Unit;if(((i=s)===null||i===void 0?void 0:i.toString())==="%"){return j("%")}const l=T(e);const c=s?"sap.ui.model.odata.type.Unit":"sap.ui.model.odata.type.Currency";s=s?s:(o=r.annotations)===null||o===void 0?void 0:(a=o.Measures)===null||a===void 0?void 0:a.ISOCurrency;const u=s.$target?$(s.$target,N(s,l)):N(s,l);let d=D(O(e));d=$(r,d,true);return H([d,u],c,undefined,{parseKeepsEmptyString:true,emptyString:"",showNumber:false})};u.getBindingForUnitOrCurrency=re;const se=function(e,t){var n,i;let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let r=arguments.length>4?arguments[4]:undefined;const s=e.targetObject;const l=(n=s.annotations)===null||n===void 0?void 0:(i=n.Common)===null||i===void 0?void 0:i.Timezone;const c=T(e);t=$(s,t);const u="sap.fe.core.type.DateTimeWithTimezone";const d=l.$target?$(l.$target,N(l,c),o):N(l,c);let p={};if(a){p={showTimezoneForEmptyValues:false}}if(r!==null&&r!==void 0&&r.showTime){p={...p,...{showTime:r.showTime==="false"?false:true}}}if(r!==null&&r!==void 0&&r.showDate){p={...p,...{showDate:r.showDate==="false"?false:true}}}if(r!==null&&r!==void 0&&r.showTimezone){p={...p,...{showTimezone:r.showTimezone==="false"?false:true}}}return H([t,d],u,undefined,p)};u.getBindingWithTimezone=se;const le=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"Begin";let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"Begin";return k(R(L(e,"Display"),t,n))};u.getAlignmentExpression=le;const ce=function(e,t){if(t&&t.context){return z(t.context)}return null};ce.requiresIContext=true;u.getConverterContext=ce;const ue=function(e,t){if(t&&t.context){return G(t.context)}return null};ue.requiresIContext=true;u.getDataModelObjectPath=ue;const de=function(e){var t;if((t=e.navigationProperties)!==null&&t!==void 0&&t.length){const t=(e===null||e===void 0?void 0:e.navigationProperties.findIndex(t=>{if(I(t)){var n,i;if((n=e.contextLocation)!==null&&n!==void 0&&(i=n.navigationProperties)!==null&&i!==void 0&&i.length){var o;return((o=e.contextLocation)===null||o===void 0?void 0:o.navigationProperties.findIndex(e=>e.name===t.name))===-1}return true}return false}))>-1;if(t){return true}}return false};u.isMultiValueField=de;const pe=function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return fe(e,t,n,true)};u.getRequiredExpressionAsObject=pe;const fe=function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{};let a=arguments.length>5?arguments[5]:undefined;const r=o.requiredPropertiesFromInsertRestrictions;const s=o.requiredPropertiesFromUpdateRestrictions;if(!e||typeof e==="string"){if(i){return j(false)}return k(j(false))}let l;if(a){l=T(a)}let c=j(true);if(t!==null){c=m(t)}let u=j(false);let d=j(false);const p=A(e)&&e.$target||e;const f=m(p,l);const g=n||W.IsEditable;if(r!==null&&r!==void 0&&r.includes(e.name)){u=U(j(true),W.IsCreateMode)}if(s!==null&&s!==void 0&&s.includes(e.name)){d=U(j(true),M(W.IsCreateMode,true))}const v=x(U(x(f,c),g),u,d);if(i){return v}return k(v)};u.getRequiredExpression=fe;const ge=function(e){var t,n;const i=e===null||e===void 0?void 0:(t=e.targetObject)===null||t===void 0?void 0:(n=t.$target)===null||n===void 0?void 0:n.Data;const o=Object.keys(i);const a=[];let r;const s=[];for(const e of o){if(i[e]["$Type"]&&i[e]["$Type"].indexOf("DataField")>-1){a.push(i[e])}}for(const e of a){switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":if(typeof e.Value==="object"){r=e.Value.$target}break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(e.Target.$target){if(e.Target.$target.$Type==="com.sap.vocabularies.UI.v1.DataField"||e.Target.$target.$Type==="com.sap.vocabularies.UI.v1.DataPointType"){if(typeof e.Target.$target.Value==="object"){r=e.Target.$target.Value.$target}}else{if(typeof e.Target==="object"){r=e.Target.$target}break}}break}s.push(pe(r,e,false))}return k(x(...s))};u.getRequiredExpressionForConnectedDataField=ge;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/type/DateTimeWithTimezone",["sap/fe/core/helpers/ClassSupport","sap/ui/model/odata/type/DateTimeWithTimezone"],function(e,t){"use strict";var n,i;var o=e.defineUI5Class;function a(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;r(e,t)}function r(e,t){r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return r(e,t)}let s=(n=o("sap.fe.core.type.DateTimeWithTimezone"),n(i=function(e){a(t,e);function t(t,n){var i;i=e.call(this,t,n)||this;i.bShowTimezoneForEmptyValues=(t===null||t===void 0?void 0:t.showTimezoneForEmptyValues)??true;return i}var n=t.prototype;n.formatValue=function t(n,i){const o=n&&n[0];if(o===undefined||!o&&!this.bShowTimezoneForEmptyValues){return null}return e.prototype.formatValue.call(this,n,i)};return t}(t))||i);return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/type/EDM",[],function(){"use strict";var e={};const t={"Edm.Binary":{modelType:undefined},"Edm.Boolean":{modelType:"Bool"},"Edm.Byte":{modelType:"Int"},"Edm.Date":{modelType:"Date"},"Edm.DateTime":{modelType:"Date"},"Edm.DateTimeOffset":{modelType:"DateTimeOffset"},"Edm.Decimal":{modelType:"Decimal"},"Edm.Duration":{modelType:undefined},"Edm.Double":{modelType:"Float"},"Edm.Float":{modelType:"Float"},"Edm.Guid":{modelType:"Guid"},"Edm.Int16":{modelType:"Int"},"Edm.Int32":{modelType:"Int"},"Edm.Int64":{modelType:"Int"},"Edm.SByte":{modelType:"Int"},"Edm.Single":{modelType:"Float"},"Edm.String":{modelType:"String"},"Edm.Time":{modelType:"TimeOfDay"},"Edm.TimeOfDay":{modelType:"TimeOfDay"},"Edm.Stream":{modelType:undefined}};e.DefaultTypeForEdmType=t;function n(e){var n;return!!((n=t[e])!==null&&n!==void 0&&n.modelType)}e.isTypeFilterable=n;function i(e){var n;return(n=t[e])===null||n===void 0?void 0:n.modelType}e.getModelType=i;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/type/Email",["sap/fe/core/helpers/ClassSupport","sap/ui/core/Core","sap/ui/model/odata/type/String","sap/ui/model/ValidateException"],function(e,t,n,i){"use strict";var o,a;var r=e.defineUI5Class;function s(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}function l(e,t){l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return l(e,t)}const c=/^[a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$/;let u=(o=r("sap.fe.core.type.Email"),o(a=function(e){s(n,e);function n(){return e.apply(this,arguments)||this}var o=n.prototype;o.validateValue=function n(o){if(!c.test(o)){throw new i(t.getLibraryResourceBundle("sap.fe.core").getText("T_EMAILTYPE_INVALID_VALUE"))}e.prototype.validateValue.call(this,o)};return n}(n))||a);return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/type/FiscalDate",["sap/fe/core/formatters/FiscalFormat","sap/fe/core/helpers/ClassSupport","sap/ui/core/CalendarType","sap/ui/core/Core","sap/ui/model/odata/type/String","sap/ui/model/ValidateException"],function(e,t,n,i,o,a){"use strict";var r,s,l;var c=t.defineUI5Class;function u(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}function d(e,t){d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return d(e,t)}let p=(r=c("sap.fe.core.type.FiscalDate"),r(s=(l=function(t){u(o,t);function o(i,a){var r;if((i.fiscalType==="com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"||i.fiscalType==="com.sap.vocabularies.Common.v1.IsFiscalYearQuarter"||i.fiscalType==="com.sap.vocabularies.Common.v1.IsFiscalYearWeek")&&a!==null&&a!==void 0&&a.maxLength){a.maxLength=a.maxLength+1}r=t.call(this,i,a)||this;r.annotationType=i.fiscalType;const s=o.dateFormats[r.annotationType];if(s){r.formatter=e.getDateInstance({format:s,calendarType:n.Gregorian})}return r}var r=o.prototype;r.getPattern=function e(){var t;return(t=this.formatter)===null||t===void 0?void 0:t.getPattern()};r.formatValue=function e(n,i){return this.formatter?this.formatter.format(t.prototype.formatValue.call(this,n,i)):t.prototype.formatValue.call(this,n,i)};r.parseValue=function e(n,i){return this.formatter?this.formatter.parse(t.prototype.parseValue.call(this,n,i)):t.prototype.parseValue.call(this,n,i)};r.validateValue=function e(n){try{t.prototype.validateValue.call(this,n)}catch(e){if(!this.formatter){throw e}if(!this.formatter.validate(n)){throw new a(this.getErrorMessage(this.annotationType))}}if(!this.formatter||n===""||n===null){return}if(!this.formatter.validate(n)){throw new a(this.getErrorMessage(this.annotationType))}};r.getErrorMessage=function e(t){let n="";this.fullYear=this.fullYear||(new Date).getFullYear().toString();switch(t){case"com.sap.vocabularies.Common.v1.IsFiscalYear":n=this.fullYear;break;case"com.sap.vocabularies.Common.v1.IsFiscalPeriod":n="001";break;case"com.sap.vocabularies.Common.v1.IsFiscalYearPeriod":n=this.fullYear+"001";break;case"com.sap.vocabularies.Common.v1.IsFiscalQuarter":n="1";break;case"com.sap.vocabularies.Common.v1.IsFiscalYearQuarter":n=this.fullYear+"1";break;case"com.sap.vocabularies.Common.v1.IsFiscalWeek":n="01";break;case"com.sap.vocabularies.Common.v1.IsFiscalYearWeek":n=this.fullYear+"01";break;case"com.sap.vocabularies.Common.v1.IsDayOfFiscalYear":n="1";break;case"com.sap.vocabularies.Common.v1.IsFiscalYearVariant":break;default:n=this.fullYear}return i.getLibraryResourceBundle("sap.fe.core").getText("FISCAL_VALIDATION_FAILS",[this.formatValue(n,"string")])};r.getName=function e(){return"sap.fe.core.type.FiscalDate"};r.getFormatter=function e(){return this.formatter};return o}(o),l.dateFormats={["com.sap.vocabularies.Common.v1.IsFiscalYear"]:"YYYY",["com.sap.vocabularies.Common.v1.IsFiscalPeriod"]:"PPP",["com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"]:"YYYYPPP",["com.sap.vocabularies.Common.v1.IsFiscalQuarter"]:"Q",["com.sap.vocabularies.Common.v1.IsFiscalYearQuarter"]:"YYYYQ",["com.sap.vocabularies.Common.v1.IsFiscalWeek"]:"WW",["com.sap.vocabularies.Common.v1.IsFiscalYearWeek"]:"YYYYWW",["com.sap.vocabularies.Common.v1.IsDayOfFiscalYear"]:"d",["com.sap.vocabularies.Common.v1.IsFiscalYearVariant"]:""},l))||s);return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/core/type/TypeUtil",["sap/fe/core/helpers/BindingToolkit","sap/base/util/merge","sap/ui/mdc/enum/BaseType","sap/ui/mdc/odata/TypeUtil"],function(e,t,n,i){"use strict";var o=e.EDM_TYPE_MAPPING;const a=Object.assign({},i);a.getBaseType=function(e,t,o){switch(e){case"sap.ui.model.odata.type.Date":return n.Date;case"sap.ui.model.odata.type.TimeOfDay":return n.Time;case"sap.ui.model.odata.type.Unit":case"sap.ui.model.odata.type.Currency":if(!t||(!t.hasOwnProperty("showMeasure")||t.showMeasure)&&(!t.hasOwnProperty("showNumber")||t.showNumber)){return n.Unit}else if(!t.hasOwnProperty("showNumber")||t.showNumber){return n.Numeric}else{return n.String}default:return i.getBaseType.call(a,e,t,o)}};a.getDataTypeClassName=function(e){if(o[e]){e=o[e].type}else{e=i.getDataTypeClassName.call(a,e)}return e};a.getDataTypeInstance=function(e,n,i){switch(e){case"sap.ui.model.odata.type.DateTimeOffset":case"Edm.DateTimeOffset":i=t({},i||{});i.V4=true;break;default:}const o=a.getDataTypeClass(e);return new o(n,i)};return a},false);sap.ui.require.preload({"sap/fe/core/controllerextensions/collaboration/ManageDialog.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:mdcv="sap.ui.mdc.valuehelp"\n\txmlns:mdcvc="sap.ui.mdc.valuehelp.content"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tCOMMON: \'sap/fe/core/controllerextensions/collaboration/CollaborationCommon\',\n\t\tHELPER: \'sap/fe/macros/CommonHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n\tcore:require="{FORMATTER: \'sap/fe/core/formatters/CollaborationFormatter\'}"\n><Dialog\n\t\tid="dialog"\n\t\ttitle="{= COMMON.getInvitationDialogTitleExpBinding(${contextPath>./@com.sap.vocabularies.UI.v1.HeaderInfo@@UI.getDataModelObjectPath}) }"\n\t\tbinding="{internal>collaboration}"\n\t><VBox class="sapUiMediumMargin"><VBox width="40em"><MessageStrip\n\t\t\t\t\ttext="{sap.fe.i18n>C_COLLABORATIONDRAFT_INVITATION_MESSAGESTRIP}"\n\t\t\t\t\ttype="Information"\n\t\t\t\t\tshowIcon="true"\n\t\t\t\t\tshowCloseButton="false"\n\t\t\t\t\tclass="sapUiMediumMarginBottom"\n\t\t\t\t/></VBox><Label text="{sap.fe.i18n>C_COLLABORATIONDRAFT_INVITATION_INPUT_LABEL}" /><HBox class="sapUiMediumMarginBottom" width="100%" id="newUserBox"><mdc:Field\n\t\t\t\t\tid="UserID"\n\t\t\t\t\tvalue="{internal>UserID}"\n\t\t\t\t\tadditionalValue="{internal>UserDescription}"\n\t\t\t\t\tdisplay="DescriptionValue"\n\t\t\t\t\twidth="37em"\n\t\t\t\t\trequired="true"\n\t\t\t\t\tfieldHelp="userValueHelp"\n\t\t\t\t\tplaceholder="{sap.fe.i18n>C_COLLABORATIONDRAFT_INVITATION_INPUT_PLACEHOLDER}"\n\t\t\t\t\tchange=".addUserChanged"\n\t\t\t\t><mdc:dependents><mdc:ValueHelp\n\t\t\t\t\t\t\tid="userValueHelp"\n\t\t\t\t\t\t\tdelegate="{= COMMON.getValueHelpDelegate(${contextPath>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\tvalidateInput="true"\n\t\t\t\t\t\t><mdc:typeahead><mdcv:Popover><mdcvc:MTable id="userValueHelp::Popover::qualifier::" caseSensitive="true" useAsValueHelp="false" /></mdcv:Popover></mdc:typeahead><mdc:dialog><mdcv:Dialog /></mdc:dialog></mdc:ValueHelp></mdc:dependents></mdc:Field><Button\n\t\t\t\t\tclass="sapUiTinyMarginBegin"\n\t\t\t\t\ttext="{sap.fe.i18n>C_COLLABORATIONDRAFT_INVITATION_DIALOG_ADD_USER}"\n\t\t\t\t\tpress=".addUser"\n\t\t\t\t/></HBox><Table id="userList" width="40em" items="{internal>invitedUsers}"><headerToolbar><Toolbar width="100%"><content><Title text="{sap.fe.i18n>C_COLLABORATIONDRAFT_INVITATION_TABLE_TOOLBAR_TITLE}" level="H3" /><ToolbarSpacer /><SearchField width="15em" /></content></Toolbar></headerToolbar><columns><Column width="3em" /><Column width="20em"><Text text="{sap.fe.i18n>C_COLLABORATIONDRAFT_INVITATION_TABLE_USER_COLUMN}" /></Column><Column width="17em"><Text text="{sap.fe.i18n>C_COLLABORATIONDRAFT_INVITATION_TABLE_USER_STATUS_COLUMN}" /></Column><Column width="5em" /></columns><items><ColumnListItem vAlign="Middle" highlight="{= ${internal>transient} ? \'Information\' : \'None\' }"><cells><Avatar displaySize="XS" backgroundColor="Accent{internal>color}" initials="{internal>initials}" /><Text text="{internal>name}" /><ObjectStatus\n\t\t\t\t\t\t\t\tstate="{path : \'internal>status\', formatter: \'.formatUserStatusColor\'}"\n\t\t\t\t\t\t\t\ttext="{path : \'internal>status\', formatter: \'.formatUserStatus\'}"\n\t\t\t\t\t\t\t/><HBox><Button\n\t\t\t\t\t\t\t\t\ticon="sap-icon://decline"\n\t\t\t\t\t\t\t\t\ttype="Transparent"\n\t\t\t\t\t\t\t\t\tpress=".removeUser"\n\t\t\t\t\t\t\t\t\tvisible="{= !!${internal>transient} }"\n\t\t\t\t\t\t\t\t/></HBox></cells></ColumnListItem></items></Table></VBox><beginButton><Button text="{sap.fe.i18n>C_COLLABORATIONDRAFT_INVITATION_DIALOG_CONFIRMATION}" press=".share" type="Emphasized" /></beginButton><endButton><Button text="{sap.fe.i18n>C_COLLABORATIONDRAFT_INVITATION_DIALOG_CANCEL}" press=".close" /></endButton></Dialog></core:FragmentDefinition>\n',"sap/fe/core/controllerextensions/collaboration/UserDetails.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:f="sap.f" xmlns:core="sap.ui.core"><ResponsivePopover id="userDetails" showHeader="false" class="sapUiContentPadding" placement="Bottom"><HBox><f:Avatar initials="{internal>initials}" displaySize="S" /><VBox><Label class="sapUiMediumMarginBegin" text="{internal>name}" /><Label class="sapUiMediumMarginBegin" text="{internal>id}" /></VBox></HBox></ResponsivePopover></core:FragmentDefinition>\n',"sap/fe/core/controls/ActionParameterDialog.fragment.xml":'\n<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcField="sap.ui.mdc.field"\n\txmlns:form="sap.ui.layout.form"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tFE_MODEL: \'sap/fe/core/helpers/ModelHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\'\n\t}"\n><form:SimpleForm binding="{$Parameter}" width="20rem"><template:repeat list="{action>$Parameter}" var="parameter"><template:with path="parameter>" helper="COMMON.gotoActionParameter" var="actionParameter"><template:if test="{= !${action>$IsBound} || ${parameter>$Name} !== ${action>$Parameter/0/$Name} }"><Label\n\t\t\t\t\t\tunittest:id="ActionParameterDialogLabelExpressionTest"\n\t\t\t\t\t\tid="{= ID.generate([\'APD_\', ${parameter>$Name}, \'Label\']) }"\n\t\t\t\t\t\ttext="{= ${actionParameter>@com.sap.vocabularies.Common.v1.Label} ? ${actionParameter>@com.sap.vocabularies.Common.v1.Label} : ${parameter>$Name}}"\n\t\t\t\t\t/><template:if test="{=  !${parameter>$isCollection} }"><template:then><mdc:Field\n\t\t\t\t\t\t\t\tdelegate="{name:\'sap/fe/macros/field/FieldBaseDelegate\', payload:{retrieveTextFromValueList:true}}"\n\t\t\t\t\t\t\t\tunittest:id="ActionParameterDialogFieldExpressionTest"\n\t\t\t\t\t\t\t\tid="{= ID.generate([\'APD_\', ${parameter>$Name}]) }"\n\t\t\t\t\t\t\t\tvalue="{parameter>@@MODEL.format}"\n\t\t\t\t\t\t\t\tdisplay="{actionParameter>@@FIELD.getAPDialogDisplayFormat}"\n\t\t\t\t\t\t\t\teditMode="{actionParameter>@@COMMON.getParameterEditMode}"\n\t\t\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\t\t\tmultipleLines="{= ${actionParameter>@com.sap.vocabularies.UI.v1.MultiLineText} ? (${actionParameter>@com.sap.vocabularies.UI.v1.MultiLineText} !== false)  : undefined}"\n\t\t\t\t\t\t\t\trequired="{= FIELD.isRequired(${actionParameter>@@FIELD.fieldControl}, \'Editable\')}"\n\t\t\t\t\t\t\t\tchange="{= \'.handleChange($event, \\\'\' + ${parameter>$Name} + \'\\\')\' }"\n\t\t\t\t\t\t\t\tfieldHelp="{= FIELD.getActionParameterDialogFieldHelp(${actionParameter>@}, ${actionName>@sapui.name}, ${parameter>$Name}) }"\n\t\t\t\t\t\t\t\tvisible="{= (${actionParameter>$Name} === \'ResultIsActiveEntity\') ? false : ${actionParameter>@com.sap.vocabularies.UI.v1.Hidden@@FIELD.getActionParameterVisibility} }"\n\t\t\t\t\t\t\t\tariaLabelledBy="{= ID.generate([\'APD_\', ${parameter>$Name}, \'Label\']) }"\n\t\t\t\t\t\t\t><core:Fragment fragmentName="sap.fe.core.controls.ActionParameterDialogValueHelp" type="XML" /></mdc:Field></template:then><template:else><mdc:MultiValueField\n\t\t\t\t\t\t\t\tid="{= ID.generate([\'APD_\', ${parameter>$Name}]) }"\n\t\t\t\t\t\t\t\titems="{actionParameter>@@FE_MODEL.getActionParameterItemsModelPath}"\n\t\t\t\t\t\t\t\tdelegate="{name: \'sap/fe/core/controls/MultiValueParameterDelegate\'}"\n\t\t\t\t\t\t\t\tunittest:id="ActionParameterDialogMultiValueFieldExpressionTest"\n\t\t\t\t\t\t\t\tdisplay="{actionParameter>@@FIELD.getAPDialogDisplayFormat}"\n\t\t\t\t\t\t\t\teditMode="{actionParameter>@@COMMON.getParameterEditMode}"\n\t\t\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\t\t\tmultipleLines="{= ${actionParameter>@com.sap.vocabularies.UI.v1.MultiLineText} ? (${actionParameter>@com.sap.vocabularies.UI.v1.MultiLineText} !== false)  : undefined}"\n\t\t\t\t\t\t\t\trequired="{= FIELD.isRequired(${actionParameter>@@FIELD.fieldControl}, \'Editable\')}"\n\t\t\t\t\t\t\t\tfieldHelp="{= FIELD.getActionParameterDialogFieldHelp(${actionParameter>@}, ${actionName>@sapui.name}, ${parameter>$Name}) }"\n\t\t\t\t\t\t\t\tchange="{= \'.handleChange($event, \\\'\' + ${parameter>$Name} + \'\\\')\' }"\n\t\t\t\t\t\t\t\tvisible="{actionParameter>@com.sap.vocabularies.UI.v1.Hidden@@FIELD.getActionParameterVisibility}"\n\t\t\t\t\t\t\t\tariaLabelledBy="{= ID.generate([\'APD_\', ${parameter>$Name}, \'Label\']) }"\n\t\t\t\t\t\t\t><mdcField:MultiValueFieldItem\n\t\t\t\t\t\t\t\t\tkey="{path: \'mvfview>Key\', type:\'sap.ui.model.type.String\'}"\n\t\t\t\t\t\t\t\t\tdescription="{mvfview>Desc}"\n\t\t\t\t\t\t\t\t/><core:Fragment fragmentName="sap.fe.core.controls.ActionParameterDialogValueHelp" type="XML" /></mdc:MultiValueField></template:else></template:if></template:if></template:with></template:repeat></form:SimpleForm></core:FragmentDefinition>\n',"sap/fe/core/controls/ActionParameterDialogValueHelp.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcv="sap.ui.mdc.valuehelp"\n\txmlns:mdcvc="sap.ui.mdc.valuehelp.content"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\'\n\t}"\n><template:if test="{= FIELD.hasValueHelpAnnotation(${actionParameter>@}) }"><mdc:dependents><mdc:ValueHelp\n\t\t\t\tunittest:id="ActionParameterDialogValuehelpExpressionTest"\n\t\t\t\tid="{= ID.generate([${actionName>@sapui.name},${parameter>$Name}]) }"\n\t\t\t\tdelegate="{= FIELD.getValueHelpDelegate(${action>$IsBound}, ${entitySet>@@COMMON.getContextPath}, ${actionName>@sapui.name}, ${parameter>$Name}) }"\n\t\t\t\tvalidateInput="{= ValueHelpTemplating.requiresValidation(${actionParameter>@@Property.getProperty})}"\n\t\t\t><mdc:typeahead><mdcv:Popover><mdcvc:MTable\n\t\t\t\t\t\t\tid="{= ID.generate([${actionName>@sapui.name},${parameter>$Name}]) }::Popover::qualifier::"\n\t\t\t\t\t\t\tcaseSensitive="{= ValueHelpTemplating.useCaseSensitiveFilterRequests(${actionParameter>@@Property.getPropertyObjectPath}, ${actionParameter>/@Org.OData.Capabilities.V1.FilterFunctions})}"\n\t\t\t\t\t\t\tuseAsValueHelp="{= ${actionParameter>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} || false}"\n\t\t\t\t\t\t/></mdcv:Popover></mdc:typeahead><template:if\n\t\t\t\t\ttest="{= ${actionParameter>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} ? (${actionParameter>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} === \'true\') : true}"\n\t\t\t\t><mdc:dialog><mdcv:Dialog /></mdc:dialog></template:if></mdc:ValueHelp></mdc:dependents></template:if></core:FragmentDefinition>\n',"sap/fe/core/controls/DataLossOrDraftDiscard/DataLossDraft.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog title="{sap.fe.i18n>WARNING}" state="Warning" type="Message" contentWidth="22rem"><content><Text\n\t\t\t\ttext="{= !%{HasActiveEntity} ? ${sap.fe.i18n>ST_DRAFT_DATALOSS_POPUP_MESSAGE_CREATE} : ${sap.fe.i18n>ST_DRAFT_DATALOSS_POPUP_MESSAGE_SAVE} }"\n\t\t\t\twrapping="true"\n\t\t\t/><List\n\t\t\t\tmode="SingleSelectLeft"\n\t\t\t\tshowSeparators="None"\n\t\t\t\tincludeItemInSelection="true"\n\t\t\t\tbackgroundDesign="Transparent"\n\t\t\t\tclass="sapUiNoContentPadding"\n\t\t\t><customData><core:CustomData key="listIdentifier" value="draftDataLossOptionsList" /></customData><items><CustomListItem><customData><core:CustomData key="itemKey" value="draftDataLossOptionSave" /></customData><VBox class="sapUiTinyMargin"><Label\n\t\t\t\t\t\t\t\ttext="{= !%{HasActiveEntity} ? ${sap.fe.i18n>ST_DRAFT_DATALOSS_CREATE_ENTITY_RBL} : ${sap.fe.i18n>ST_DRAFT_DATALOSS_SAVE_DRAFT_RBL} }"\n\t\t\t\t\t\t\t\tdesign="Bold"\n\t\t\t\t\t\t\t/><Text\n\t\t\t\t\t\t\t\ttext="{= !%{HasActiveEntity} ? ${sap.fe.i18n>ST_DRAFT_DATALOSS_CREATE_ENTITY_TOL} : ${sap.fe.i18n>ST_DRAFT_DATALOSS_SAVE_DRAFT_TOL} }"\n\t\t\t\t\t\t\t/></VBox></CustomListItem><CustomListItem><customData><core:CustomData key="itemKey" value="draftDataLossOptionKeep" /></customData><VBox class="sapUiTinyMargin"><Label text="{sap.fe.i18n>ST_DRAFT_DATALOSS_KEEP_DRAFT_RBL}" design="Bold" /><Text text="{sap.fe.i18n>ST_DRAFT_DATALOSS_KEEP_DRAFT_TOL}" /></VBox></CustomListItem><CustomListItem><customData><core:CustomData key="itemKey" value="draftDataLossOptionDiscard" /></customData><VBox class="sapUiTinyMargin"><Label text="{sap.fe.i18n>ST_DRAFT_DATALOSS_DISCARD_DRAFT_RBL}" design="Bold" /><Text text="{sap.fe.i18n>ST_DRAFT_DATALOSS_DISCARD_DRAFT_TOL}" /></VBox></CustomListItem></items></List></content><buttons><Button text="{sap.fe.i18n>C_COMMON_DIALOG_OK}" type="Emphasized" press="onDataLossOk" /><Button text="{sap.fe.i18n>C_COMMON_DIALOG_CANCEL}" press="onDataLossCancel" /></buttons></Dialog></core:FragmentDefinition>\n',"sap/fe/core/controls/NonComputedVisibleKeyFieldsDialog.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcv="sap.ui.mdc.valuehelp"\n\txmlns:mdcvc="sap.ui.mdc.valuehelp.content"\n\txmlns:form="sap.ui.layout.form"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><template:with path="fields>" var="allFields"><form:SimpleForm><template:repeat list="{allFields>}" var="key"><template:with path="key>" helper="COMMON.getPathToKey" var="immutableKey"><Label text="{= ${immutableKey>@com.sap.vocabularies.Common.v1.Label}}" /><mdc:Field\n\t\t\t\t\t\tdelegate="{name:\'sap/fe/macros/field/FieldBaseDelegate\', payload:{retrieveTextFromValueList:true}}"\n\t\t\t\t\t\tid="{= ID.generate([\'CreateDialog\', ${entitySet>@sapui.name}, ${immutableKey>@sapui.name}]) }"\n\t\t\t\t\t\tvalue="{immutableKey>@@MODEL.format}"\n\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\trequired="{= FIELD.getRequired(${immutableKey>@sapui.name}, ${immutableKey>@@UI.getDataModelObjectPath}, ${requiredProperties>})}"\n\t\t\t\t\t\tdisplay="{immutableKey>@@FIELD.getAPDialogDisplayFormat}"\n\t\t\t\t\t\tchange="{= \'.handleChange($event, \\\'\' + ${immutableKey>@sapui.name} + \'\\\')\' }"\n\t\t\t\t\t\tliveChange=".handleLiveChange"\n\t\t\t\t\t\tfieldHelp="{= ${immutableKey>@@Property.hasValueHelp} ? ID.generate([${immutableKey>@sapui.name},\'VH\']) : undefined }"\n\t\t\t\t\t\tcustomData:fieldName="{immutableKey>@sapui.name}"\n\t\t\t\t\t\teditMode="{= ${immutableKey>@com.sap.vocabularies.Common.v1.FieldControl} &amp;&amp; ${immutableKey>@com.sap.vocabularies.Common.v1.FieldControl/$EnumMember} &amp;&amp; ${immutableKey>@com.sap.vocabularies.Common.v1.FieldControl/$EnumMember} === \'com.sap.vocabularies.Common.v1.FieldControlType/ReadOnly\' ? \'Display\' : \'Editable\'}"\n\t\t\t\t\t><template:if test="{immutableKey>@@Property.hasValueHelp}"><template:then><mdc:dependents><mdc:ValueHelp\n\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([${immutableKey>@sapui.name},\'VH\']) }"\n\t\t\t\t\t\t\t\t\t\tdelegate="{= FIELD.getValueHelpDelegateForNonComputedVisibleKeyField(${immutableKey>@@Property.getPropertyPath}) }"\n\t\t\t\t\t\t\t\t\t\tvalidateInput="{= ValueHelpTemplating.requiresValidation(${immutableKey>@@Property.getProperty})}"\n\t\t\t\t\t\t\t\t\t><mdc:typeahead><mdcv:Popover><mdcvc:MTable\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([${immutableKey>@sapui.name},\'VH\']) }::Popover::qualifier::"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcaseSensitive="{= ValueHelpTemplating.useCaseSensitiveFilterRequests(${immutableKey>@@Property.getPropertyObjectPath}, ${immutableKey>/@Org.OData.Capabilities.V1.FilterFunctions})}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tuseAsValueHelp="{= ${immutableKey>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} || false}"\n\t\t\t\t\t\t\t\t\t\t\t\t/></mdcv:Popover></mdc:typeahead><template:if\n\t\t\t\t\t\t\t\t\t\t\ttest="{= ${immutableKey>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} ? (${immutableKey>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} === \'true\') : true}"\n\t\t\t\t\t\t\t\t\t\t><mdc:dialog><mdcv:Dialog /></mdc:dialog></template:if></mdc:ValueHelp></mdc:dependents></template:then></template:if></mdc:Field></template:with></template:repeat></form:SimpleForm></template:with></core:FragmentDefinition>\n',"sap/fe/core/controls/massEdit/MassEditDialog.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcField="sap.ui.mdc.field"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:l="sap.ui.layout"\n\ttemplate:require="{\n\t\tMED: \'sap/fe/core/helpers/MassEditHelper\'\n\t}"\n><f:Form visible="{= MED.helpers.hasEditableFieldsBinding(${dataFieldModel>}, true) }"><f:layout><f:ResponsiveGridLayout\n\t\t\t\tlabelSpanXL="4"\n\t\t\t\tlabelSpanL="4"\n\t\t\t\tlabelSpanM="12"\n\t\t\t\tlabelSpanS="12"\n\t\t\t\tadjustLabelSpan="false"\n\t\t\t\temptySpanXL="0"\n\t\t\t\temptySpanL="0"\n\t\t\t\temptySpanM="0"\n\t\t\t\temptySpanS="0"\n\t\t\t\tcolumnsXL="2"\n\t\t\t\tcolumnsL="2"\n\t\t\t\tcolumnsM="1"\n\t\t\t\tsingleContainerFullSize="false"\n\t\t\t/></f:layout><f:formContainers><f:FormContainer><f:formElements><template:repeat list="{dataFieldModel>}" var="dataField"><f:FormElement\n\t\t\t\t\t\t\tlabel="{dataField>label}"\n\t\t\t\t\t\t\tvisible="{= \'{fieldsInfo>/values/\' + ${dataField>dataProperty} + \'/visible}\' }"\n\t\t\t\t\t\t><f:fields><template:with path="dataField>propertyInfo" var="property"><core:Fragment fragmentName="sap.fe.core.controls.massEdit.MassEditField" type="XML" /></template:with><template:if test="{dataField>unitInfo}"><template:with path="dataField>unitInfo" var="property"><core:Fragment fragmentName="sap.fe.core.controls.massEdit.MassEditField" type="XML" /></template:with></template:if></f:fields></f:FormElement></template:repeat></f:formElements></f:FormContainer></f:formContainers></f:Form><Text\n\t\tvisible="{= MED.helpers.hasEditableFieldsBinding(${dataFieldModel>}, false) }"\n\t\ttext="{fieldsInfo>/noFields}"\n\t\tclass="sapUiSmallMargin"\n\t/>\n\t/></core:FragmentDefinition>\n',"sap/fe/core/controls/massEdit/MassEditField.fragment.xml":"<core:FragmentDefinition\n\txmlns:template=\"http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1\"\n\txmlns:core=\"sap.ui.core\"\n\txmlns=\"sap.m\"\n\txmlns:mdc=\"sap.ui.mdc\"\n\txmlns:mdcField=\"sap.ui.mdc.field\"\n\txmlns:control=\"sap.fe.core.controls\"\n\txmlns:macro=\"sap.fe.macros\"\n\txmlns:f=\"sap.ui.layout.form\"\n\txmlns:l=\"sap.ui.layout\"\n\txmlns:customData=\"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1\"\n\ttemplate:require=\"{\n\t\tProperty: 'sap/fe/core/templating/PropertyFormatters',\n\t\tID: 'sap/fe/core/helpers/StableIdHelper',\n\t\tValueHelpTemplating: 'sap/fe/macros/internal/valuehelp/ValueHelpTemplating'\n\t}\"\n><template:if test=\"{property>hasVH}\"><template:then><template:with path=\"property>propertyPathForValueHelp\" var=\"vhProperty\"><mdc:Field\n\t\t\t\t\tdelegate=\"{name: 'sap/ui/mdc/odata/v4/FieldBaseDelegate'}\"\n\t\t\t\t\tid=\"{= ID.generate(['MED_', ${dataField>entitySet}, ${property>relativePath}, '_MDCField']) }\"\n\t\t\t\t\tcore:require=\"{MassEditHandlers: 'sap/fe/core/controls/massEdit/MassEditHandlers'}\"\n\t\t\t\t\tchange=\"{= 'MassEditHandlers.handleMDCFieldChange($event, \\'' + ${property>relativePath} + '\\')' }\"\n\t\t\t\t\tlabel=\"{dataField>label}\"\n\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\trequired=\"{dataField>isFieldRequired}\"\n\t\t\t\t\tfieldHelp=\"{= ID.generate(['MED_', ${dataField>entitySet}, 'VHD', ${vhProperty>@@Property.getRelativePropertyPath} ]) }\"\n\t\t\t\t\tdisplay=\"{dataField>display}\"\n\t\t\t\t\tvalue=\"{= ${property>relativePath} ? '{path: \\'' + ${property>relativePath} + '\\', parameters: {$$noPatch: true} }' : undefined }\"\n\t\t\t\t\tadditionalValue=\"{= ${dataField>descriptionPath} ? '{path: \\'' + ${dataField>descriptionPath} + '\\', parameters: {$$noPatch: true} }' : undefined }\"\n\t\t\t\t><mdc:layoutData><l:GridData\n\t\t\t\t\t\t\tspan=\"{= (!${dataField>unitProperty}) ? 'XL12 L12 M12 S12' : ((${property>relativePath} === ${dataField>unitProperty}) ? 'XL4 L4 M4 S4' : 'XL8 L8 M8 S8') }\"\n\t\t\t\t\t\t/></mdc:layoutData><control:MassEditSelect\n\t\t\t\t\t\tcore:require=\"{MassEditHandlers: 'sap/fe/core/controls/massEdit/MassEditHandlers'}\"\n\t\t\t\t\t\tid=\"{= ID.generate(['MED_', ${dataField>entitySet}, ${property>relativePath}]) }\"\n\t\t\t\t\t\titems=\"{= '{path : \\'' + ${property>runtimePath} + ${property>relativePath} + '\\'}' }\"\n\t\t\t\t\t\tchange=\"MassEditHandlers.handleSelectionChange($event)\"\n\t\t\t\t\t\tselectedKey=\"{= '{' + ${property>runtimePath} + ${property>relativePath} + '/selectedKey}' }\"\n\t\t\t\t\t\tselectValue=\"{= (${dataField>inputType} !== 'CheckBox') &amp;&amp; ('{ parts : [{ path:\\'' +  ${property>relativePath} + '\\'}, {value: \\'' + ${property>relativePath} + '\\' }, {value: \\'' + ID.generate(['MED_', ${dataField>entitySet}, ${property>relativePath}, '_MDCField']) + '\\' }], formatter: \\'MassEditHandlers.contextPropertyChange\\' }') }\"\n\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\tcustomData:fieldPath=\"{property>relativePath}\"\n\t\t\t\t\t\tcustomData:propertyFullyQualifiedName=\"{property>propertyFullyQualifiedName}\"\n\t\t\t\t\t><control:items><core:Item key=\"{fieldsInfo>key}\" text=\"{fieldsInfo>text}\" /></control:items><control:layoutData><l:GridData span=\"XL12 L12 M12 S12\" /></control:layoutData></control:MassEditSelect><template:if test=\"{= ${dataField>inputType} !== 'CheckBox' }\"><mdc:dependents><macro:ValueHelp\n\t\t\t\t\t\t\t\tcontextPath=\"{contextPath>}\"\n\t\t\t\t\t\t\t\tidPrefix=\"{= ID.generate(['MED_', ${dataField>entitySet}, 'VHD' ]) }\"\n\t\t\t\t\t\t\t\tproperty=\"{vhProperty>}\"\n\t\t\t\t\t\t\t\tuseMultiValueField=\"true\"\n\t\t\t\t\t\t\t/></mdc:dependents></template:if></mdc:Field></template:with></template:then><template:else><ComboBox\n\t\t\t\tid=\"{= ID.generate(['MED_', ${dataField>entitySet}, ${property>relativePath}]) }\"\n\t\t\t\tcore:require=\"{MassEditHandlers: 'sap/fe/core/controls/massEdit/MassEditHandlers'}\"\n\t\t\t\titems=\"{= '{path : \\'' + ${property>runtimePath} + ${property>relativePath} + '\\'}' }\"\n\t\t\t\tchange=\"MassEditHandlers.handleSelectionChange($event)\"\n\t\t\t\tselectedKey=\"{= '{' + ${property>runtimePath} + ${property>relativePath} + '/selectedKey}' }\"\n\t\t\t\tvisible=\"{= '{' + ${property>runtimePath} + ${property>relativePath} + '/visible}' }\"\n\t\t\t\tcustomData:fieldPath=\"{property>relativePath}\"\n\t\t\t\tcustomData:propertyFullyQualifiedName=\"{property>propertyFullyQualifiedName}\"\n\t\t\t><items><core:Item key=\"{fieldsInfo>key}\" text=\"{fieldsInfo>text}\" /></items><layoutData><l:GridData\n\t\t\t\t\t\tspan=\"{= (!${dataField>unitProperty}) ? 'XL12 L12 M12 S12' : ((${property>relativePath} === ${dataField>unitProperty}) ? 'XL4 L4 M4 S4' : 'XL8 L8 M8 S8') }\"\n\t\t\t\t\t/></layoutData></ComboBox></template:else></template:if></core:FragmentDefinition>\n","sap/fe/core/fpm/manifest.json":'{"_version":"1.14.0","sap.app":{"id":"sap.fe.core.fpm","type":"component","applicationVersion":{"version":"1.113.0"},"title":"Object Page","tags":{"keywords":["Object Page"]},"ach":"CA-UI5-FE","offline":false,"resources":"resources.json"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true},"supportedThemes":["sap_fiori_3","sap_hcb","sap_bluecrystal","sap_belize","sap_belize_plus","sap_belize_hcw"]},"sap.ui5":{"config":{"sapFiori2Adaptation":{"style":true,"hierarchy":true}},"services":{"templatedViewService":{"factoryName":"sap.fe.core.services.TemplatedViewService","startup":"waitFor","settings":{"converterType":"None"}},"asyncComponentService":{"factoryName":"sap.fe.core.services.AsyncComponentService","startup":"waitFor"}},"handleValidation":true,"dependencies":{"minUI5Version":"${sap.ui5.core.version}","libs":{"sap.f":{},"sap.fe.macros":{},"sap.m":{},"sap.ui.core":{},"sap.ui.layout":{},"sap.ui.mdc":{},"sap.ui.fl":{}}},"contentDensities":{"compact":true,"cozy":true}}}',"sap/fe/core/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.fe.core","type":"library","embeds":["fpm"],"applicationVersion":{"version":"1.113.0"},"title":"UI5 library: sap.fe.core","description":"UI5 library: sap.fe.core","ach":"CA-UI5-FE","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"libs":{"sap.ui.core":{},"sap.f":{},"sap.fe.navigation":{},"sap.fe.placeholder":{},"sap.m":{},"sap.ui.layout":{"lazy":true},"sap.ui.mdc":{},"sap.ui.fl":{}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}',"sap/fe/core/rootView/Fcl.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.f" displayBlock="true" height="100%" controllerName="sap.fe.core.rootView.Fcl"><FlexibleColumnLayout id="appContent" backgroundDesign="Transparent" restoreFocusOnBackNavigation="true" autoFocus="false" /></mvc:View>\n',"sap/fe/core/rootView/NavContainer.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" displayBlock="true" height="100%" controllerName="sap.fe.core.rootView.NavContainer"><NavContainer id="appContent" autoFocus="false" /></mvc:View>\n',"sap/fe/core/services/view/TemplatingErrorPage.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="sap.fe.core.services.view.TemplatingErrorPage"><MessagePage\n\t\tshowHeader="false"\n\t\ticon="sap-icon://message-error"\n\t\ttext="{sap.fe.i18n>T_TEMPLATING_ERROR_PAGE_SAPFE_APPSTART_TEMPLATING_FAILED}"\n\t\tdescription="{= ${error>/message} ? ${error>/message} : \'\'}"\n\t/></mvc:View>\n'});