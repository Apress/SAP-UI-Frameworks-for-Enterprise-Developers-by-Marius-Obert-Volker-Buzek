/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","../converters/helpers/DataFieldHelper"],function(t,e,a,r,n,o){"use strict";var i={};var s=o.isReferencePropertyStaticallyHidden;var c=r.getRelativePaths;var l=r.getContextRelativeTargetObjectPath;var p=r.enhanceDataModelPath;var d=a.isPathAnnotationExpression;var v=e.pathInModel;var u=e.getExpressionFromAnnotation;var f=e.formatWithTypeInformation;var g=e.formatResult;var h=e.compileExpression;const m=function(t){return h(t)};i.getExpressionBinding=m;const b=function(e,a,r){var o,i;const s=r===null||r===void 0?void 0:r.displayMode;let l=a;const p=e.targetObject.type==="PropertyPath"?e.targetObject.$target:e.targetObject;const d=s||n.getDisplayMode(e);const v=(o=p.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Text;const h=c(e);a=f(p,a);if(d!=="Value"&&v){switch(d){case"Description":l=u(v,h);break;case"DescriptionValue":l=g([u(v,h),a],t.formatWithBrackets);break;case"ValueDescription":l=g([a,u(v,h)],t.formatWithBrackets);break}}return l};i.getBindingWithTextArrangement=b;const D=function(t){let e=t;if(d(t===null||t===void 0?void 0:t.targetObject)){var a;e=p(t,(a=t.targetObject)===null||a===void 0?void 0:a.path)}const r=e.targetObject;let n=v(l(e));n=f(r,n,true);const o=b(e,n);return r.annotations.UI&&!s(r.annotations.UI.DataFieldDefault)&&h(o)||undefined};i.getBindingWithText=D;return i},false);